(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const p of s)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(s){const p={};return s.integrity&&(p.integrity=s.integrity),s.referrerPolicy&&(p.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?p.credentials="include":s.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function r(s){if(s.ep)return;s.ep=!0;const p=n(s);fetch(s.href,p)}})();function al(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Ue={},Pr=[],bt=()=>{},Hg=()=>!1,Ug=/^on[^a-z]/,Vs=e=>Ug.test(e),ll=e=>e.startsWith("onUpdate:"),nt=Object.assign,cl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Wg=Object.prototype.hasOwnProperty,De=(e,t)=>Wg.call(e,t),Ce=Array.isArray,kr=e=>Ui(e)==="[object Map]",Gs=e=>Ui(e)==="[object Set]",Dc=e=>Ui(e)==="[object Date]",xe=e=>typeof e=="function",je=e=>typeof e=="string",Ei=e=>typeof e=="symbol",Fe=e=>e!==null&&typeof e=="object",sh=e=>Fe(e)&&xe(e.then)&&xe(e.catch),oh=Object.prototype.toString,Ui=e=>oh.call(e),Yg=e=>Ui(e).slice(8,-1),ah=e=>Ui(e)==="[object Object]",ul=e=>je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ms=al(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ks=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Xg=/-(\w)/g,tn=Ks(e=>e.replace(Xg,(t,n)=>n?n.toUpperCase():"")),Vg=/\B([A-Z])/g,Gr=Ks(e=>e.replace(Vg,"-$1").toLowerCase()),qs=Ks(e=>e.charAt(0).toUpperCase()+e.slice(1)),Lo=Ks(e=>e?`on${qs(e)}`:""),Pi=(e,t)=>!Object.is(e,t),_s=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ps=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Gg=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Kg=e=>{const t=je(e)?Number(e):NaN;return isNaN(t)?e:t};let Ic;const ya=()=>Ic||(Ic=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ve(e){if(Ce(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=je(r)?Qg(r):Ve(r);if(s)for(const p in s)t[p]=s[p]}return t}else{if(je(e))return e;if(Fe(e))return e}}const qg=/;(?![^(]*\))/g,Jg=/:([^]+)/,Zg=/\/\*[^]*?\*\//g;function Qg(e){const t={};return e.replace(Zg,"").split(qg).forEach(n=>{if(n){const r=n.split(Jg);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ye(e){let t="";if(je(e))t=e;else if(Ce(e))for(let n=0;n<e.length;n++){const r=ye(e[n]);r&&(t+=r+" ")}else if(Fe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function ev(e){if(!e)return null;let{class:t,style:n}=e;return t&&!je(t)&&(e.class=ye(t)),n&&(e.style=Ve(n)),e}const tv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nv=al(tv);function lh(e){return!!e||e===""}function rv(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Js(e[r],t[r]);return n}function Js(e,t){if(e===t)return!0;let n=Dc(e),r=Dc(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Ei(e),r=Ei(t),n||r)return e===t;if(n=Ce(e),r=Ce(t),n||r)return n&&r?rv(e,t):!1;if(n=Fe(e),r=Fe(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,p=Object.keys(t).length;if(s!==p)return!1;for(const m in e){const c=e.hasOwnProperty(m),i=t.hasOwnProperty(m);if(c&&!i||!c&&i||!Js(e[m],t[m]))return!1}}return String(e)===String(t)}function ch(e,t){return e.findIndex(n=>Js(n,t))}const ze=e=>je(e)?e:e==null?"":Ce(e)||Fe(e)&&(e.toString===oh||!xe(e.toString))?JSON.stringify(e,uh,2):String(e),uh=(e,t)=>t&&t.__v_isRef?uh(e,t.value):kr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Gs(t)?{[`Set(${t.size})`]:[...t.values()]}:Fe(t)&&!Ce(t)&&!ah(t)?String(t):t;let Lt;class fh{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Lt,!t&&Lt&&(this.index=(Lt.scopes||(Lt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Lt;try{return Lt=this,t()}finally{Lt=n}}}on(){Lt=this}off(){Lt=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function hh(e){return new fh(e)}function iv(e,t=Lt){t&&t.active&&t.effects.push(e)}function dh(){return Lt}function sv(e){Lt&&Lt.cleanups.push(e)}const fl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ph=e=>(e.w&Gn)>0,gh=e=>(e.n&Gn)>0,ov=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Gn},av=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];ph(s)&&!gh(s)?s.delete(e):t[n++]=s,s.w&=~Gn,s.n&=~Gn}t.length=n}},ks=new WeakMap;let hi=0,Gn=1;const ba=30;let Jt;const cr=Symbol(""),wa=Symbol("");class hl{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,iv(this,r)}run(){if(!this.active)return this.fn();let t=Jt,n=Xn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Jt,Jt=this,Xn=!0,Gn=1<<++hi,hi<=ba?ov(this):Fc(this),this.fn()}finally{hi<=ba&&av(this),Gn=1<<--hi,Jt=this.parent,Xn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Jt===this?this.deferStop=!0:this.active&&(Fc(this),this.onStop&&this.onStop(),this.active=!1)}}function Fc(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Xn=!0;const vh=[];function Kr(){vh.push(Xn),Xn=!1}function qr(){const e=vh.pop();Xn=e===void 0?!0:e}function Mt(e,t,n){if(Xn&&Jt){let r=ks.get(e);r||ks.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=fl()),mh(s)}}function mh(e,t){let n=!1;hi<=ba?gh(e)||(e.n|=Gn,n=!ph(e)):n=!e.has(Jt),n&&(e.add(Jt),Jt.deps.push(e))}function kn(e,t,n,r,s,p){const m=ks.get(e);if(!m)return;let c=[];if(t==="clear")c=[...m.values()];else if(n==="length"&&Ce(e)){const i=Number(r);m.forEach((h,f)=>{(f==="length"||f>=i)&&c.push(h)})}else switch(n!==void 0&&c.push(m.get(n)),t){case"add":Ce(e)?ul(n)&&c.push(m.get("length")):(c.push(m.get(cr)),kr(e)&&c.push(m.get(wa)));break;case"delete":Ce(e)||(c.push(m.get(cr)),kr(e)&&c.push(m.get(wa)));break;case"set":kr(e)&&c.push(m.get(cr));break}if(c.length===1)c[0]&&Ca(c[0]);else{const i=[];for(const h of c)h&&i.push(...h);Ca(fl(i))}}function Ca(e,t){const n=Ce(e)?e:[...e];for(const r of n)r.computed&&Lc(r);for(const r of n)r.computed||Lc(r)}function Lc(e,t){(e!==Jt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function lv(e,t){var n;return(n=ks.get(e))==null?void 0:n.get(t)}const cv=al("__proto__,__v_isRef,__isVue"),_h=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ei)),uv=dl(),fv=dl(!1,!0),hv=dl(!0),Bc=dv();function dv(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Le(this);for(let p=0,m=this.length;p<m;p++)Mt(r,"get",p+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(Le)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Kr();const r=Le(this)[t].apply(this,n);return qr(),r}}),e}function pv(e){const t=Le(this);return Mt(t,"has",e),t.hasOwnProperty(e)}function dl(e=!1,t=!1){return function(r,s,p){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&p===(e?t?Av:Sh:t?Ch:wh).get(r))return r;const m=Ce(r);if(!e){if(m&&De(Bc,s))return Reflect.get(Bc,s,p);if(s==="hasOwnProperty")return pv}const c=Reflect.get(r,s,p);return(Ei(s)?_h.has(s):cv(s))||(e||Mt(r,"get",s),t)?c:st(c)?m&&ul(s)?c:c.value:Fe(c)?e?Wi(c):pr(c):c}}const gv=yh(),vv=yh(!0);function yh(e=!1){return function(n,r,s,p){let m=n[r];if(Rr(m)&&st(m)&&!st(s))return!1;if(!e&&(!As(s)&&!Rr(s)&&(m=Le(m),s=Le(s)),!Ce(n)&&st(m)&&!st(s)))return m.value=s,!0;const c=Ce(n)&&ul(r)?Number(r)<n.length:De(n,r),i=Reflect.set(n,r,s,p);return n===Le(p)&&(c?Pi(s,m)&&kn(n,"set",r,s):kn(n,"add",r,s)),i}}function mv(e,t){const n=De(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&kn(e,"delete",t,void 0),r}function _v(e,t){const n=Reflect.has(e,t);return(!Ei(t)||!_h.has(t))&&Mt(e,"has",t),n}function yv(e){return Mt(e,"iterate",Ce(e)?"length":cr),Reflect.ownKeys(e)}const bh={get:uv,set:gv,deleteProperty:mv,has:_v,ownKeys:yv},bv={get:hv,set(e,t){return!0},deleteProperty(e,t){return!0}},wv=nt({},bh,{get:fv,set:vv}),pl=e=>e,Zs=e=>Reflect.getPrototypeOf(e);function es(e,t,n=!1,r=!1){e=e.__v_raw;const s=Le(e),p=Le(t);n||(t!==p&&Mt(s,"get",t),Mt(s,"get",p));const{has:m}=Zs(s),c=r?pl:n?_l:ki;if(m.call(s,t))return c(e.get(t));if(m.call(s,p))return c(e.get(p));e!==s&&e.get(t)}function ts(e,t=!1){const n=this.__v_raw,r=Le(n),s=Le(e);return t||(e!==s&&Mt(r,"has",e),Mt(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function ns(e,t=!1){return e=e.__v_raw,!t&&Mt(Le(e),"iterate",cr),Reflect.get(e,"size",e)}function jc(e){e=Le(e);const t=Le(this);return Zs(t).has.call(t,e)||(t.add(e),kn(t,"add",e,e)),this}function Nc(e,t){t=Le(t);const n=Le(this),{has:r,get:s}=Zs(n);let p=r.call(n,e);p||(e=Le(e),p=r.call(n,e));const m=s.call(n,e);return n.set(e,t),p?Pi(t,m)&&kn(n,"set",e,t):kn(n,"add",e,t),this}function zc(e){const t=Le(this),{has:n,get:r}=Zs(t);let s=n.call(t,e);s||(e=Le(e),s=n.call(t,e)),r&&r.call(t,e);const p=t.delete(e);return s&&kn(t,"delete",e,void 0),p}function $c(){const e=Le(this),t=e.size!==0,n=e.clear();return t&&kn(e,"clear",void 0,void 0),n}function rs(e,t){return function(r,s){const p=this,m=p.__v_raw,c=Le(m),i=t?pl:e?_l:ki;return!e&&Mt(c,"iterate",cr),m.forEach((h,f)=>r.call(s,i(h),i(f),p))}}function is(e,t,n){return function(...r){const s=this.__v_raw,p=Le(s),m=kr(p),c=e==="entries"||e===Symbol.iterator&&m,i=e==="keys"&&m,h=s[e](...r),f=n?pl:t?_l:ki;return!t&&Mt(p,"iterate",i?wa:cr),{next(){const{value:o,done:l}=h.next();return l?{value:o,done:l}:{value:c?[f(o[0]),f(o[1])]:f(o),done:l}},[Symbol.iterator](){return this}}}}function In(e){return function(...t){return e==="delete"?!1:this}}function Cv(){const e={get(p){return es(this,p)},get size(){return ns(this)},has:ts,add:jc,set:Nc,delete:zc,clear:$c,forEach:rs(!1,!1)},t={get(p){return es(this,p,!1,!0)},get size(){return ns(this)},has:ts,add:jc,set:Nc,delete:zc,clear:$c,forEach:rs(!1,!0)},n={get(p){return es(this,p,!0)},get size(){return ns(this,!0)},has(p){return ts.call(this,p,!0)},add:In("add"),set:In("set"),delete:In("delete"),clear:In("clear"),forEach:rs(!0,!1)},r={get(p){return es(this,p,!0,!0)},get size(){return ns(this,!0)},has(p){return ts.call(this,p,!0)},add:In("add"),set:In("set"),delete:In("delete"),clear:In("clear"),forEach:rs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(p=>{e[p]=is(p,!1,!1),n[p]=is(p,!0,!1),t[p]=is(p,!1,!0),r[p]=is(p,!0,!0)}),[e,n,t,r]}const[Sv,xv,Tv,Ov]=Cv();function gl(e,t){const n=t?e?Ov:Tv:e?xv:Sv;return(r,s,p)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(De(n,s)&&s in r?n:r,s,p)}const Ev={get:gl(!1,!1)},Pv={get:gl(!1,!0)},kv={get:gl(!0,!1)},wh=new WeakMap,Ch=new WeakMap,Sh=new WeakMap,Av=new WeakMap;function Mv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Rv(e){return e.__v_skip||!Object.isExtensible(e)?0:Mv(Yg(e))}function pr(e){return Rr(e)?e:ml(e,!1,bh,Ev,wh)}function vl(e){return ml(e,!1,wv,Pv,Ch)}function Wi(e){return ml(e,!0,bv,kv,Sh)}function ml(e,t,n,r,s){if(!Fe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const p=s.get(e);if(p)return p;const m=Rv(e);if(m===0)return e;const c=new Proxy(e,m===2?r:n);return s.set(e,c),c}function Ar(e){return Rr(e)?Ar(e.__v_raw):!!(e&&e.__v_isReactive)}function Rr(e){return!!(e&&e.__v_isReadonly)}function As(e){return!!(e&&e.__v_isShallow)}function xh(e){return Ar(e)||Rr(e)}function Le(e){const t=e&&e.__v_raw;return t?Le(t):e}function Ms(e){return Ps(e,"__v_skip",!0),e}const ki=e=>Fe(e)?pr(e):e,_l=e=>Fe(e)?Wi(e):e;function Th(e){Xn&&Jt&&(e=Le(e),mh(e.dep||(e.dep=fl())))}function Oh(e,t){e=Le(e);const n=e.dep;n&&Ca(n)}function st(e){return!!(e&&e.__v_isRef===!0)}function fe(e){return Eh(e,!1)}function En(e){return Eh(e,!0)}function Eh(e,t){return st(e)?e:new Dv(e,t)}class Dv{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Le(t),this._value=n?t:ki(t)}get value(){return Th(this),this._value}set value(t){const n=this.__v_isShallow||As(t)||Rr(t);t=n?t:Le(t),Pi(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ki(t),Oh(this))}}function A(e){return st(e)?e.value:e}const Iv={get:(e,t,n)=>A(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return st(s)&&!st(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Ph(e){return Ar(e)?e:new Proxy(e,Iv)}class Fv{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return lv(Le(this._object),this._key)}}class Lv{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function yt(e,t,n){return st(e)?e:xe(e)?new Lv(e):Fe(e)&&arguments.length>1?Bv(e,t,n):fe(e)}function Bv(e,t,n){const r=e[t];return st(r)?r:new Fv(e,t,n)}class jv{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new hl(t,()=>{this._dirty||(this._dirty=!0,Oh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=Le(this);return Th(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Nv(e,t,n=!1){let r,s;const p=xe(e);return p?(r=e,s=bt):(r=e.get,s=e.set),new jv(r,s,p||!s,n)}function zv(e,...t){}function Vn(e,t,n,r){let s;try{s=r?e(...r):e()}catch(p){Qs(p,t,n)}return s}function Ut(e,t,n,r){if(xe(e)){const p=Vn(e,t,n,r);return p&&sh(p)&&p.catch(m=>{Qs(m,t,n)}),p}const s=[];for(let p=0;p<e.length;p++)s.push(Ut(e[p],t,n,r));return s}function Qs(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let p=t.parent;const m=t.proxy,c=n;for(;p;){const h=p.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](e,m,c)===!1)return}p=p.parent}const i=t.appContext.config.errorHandler;if(i){Vn(i,null,10,[e,m,c]);return}}$v(e,n,s,r)}function $v(e,t,n,r=!0){console.error(e)}let Ai=!1,Sa=!1;const _t=[];let hn=0;const Mr=[];let Tn=null,ir=0;const kh=Promise.resolve();let yl=null;function at(e){const t=yl||kh;return e?t.then(this?e.bind(this):e):t}function Hv(e){let t=hn+1,n=_t.length;for(;t<n;){const r=t+n>>>1;Mi(_t[r])<e?t=r+1:n=r}return t}function bl(e){(!_t.length||!_t.includes(e,Ai&&e.allowRecurse?hn+1:hn))&&(e.id==null?_t.push(e):_t.splice(Hv(e.id),0,e),Ah())}function Ah(){!Ai&&!Sa&&(Sa=!0,yl=kh.then(Rh))}function Uv(e){const t=_t.indexOf(e);t>hn&&_t.splice(t,1)}function Wv(e){Ce(e)?Mr.push(...e):(!Tn||!Tn.includes(e,e.allowRecurse?ir+1:ir))&&Mr.push(e),Ah()}function Hc(e,t=Ai?hn+1:0){for(;t<_t.length;t++){const n=_t[t];n&&n.pre&&(_t.splice(t,1),t--,n())}}function Mh(e){if(Mr.length){const t=[...new Set(Mr)];if(Mr.length=0,Tn){Tn.push(...t);return}for(Tn=t,Tn.sort((n,r)=>Mi(n)-Mi(r)),ir=0;ir<Tn.length;ir++)Tn[ir]();Tn=null,ir=0}}const Mi=e=>e.id==null?1/0:e.id,Yv=(e,t)=>{const n=Mi(e)-Mi(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Rh(e){Sa=!1,Ai=!0,_t.sort(Yv);const t=bt;try{for(hn=0;hn<_t.length;hn++){const n=_t[hn];n&&n.active!==!1&&Vn(n,null,14)}}finally{hn=0,_t.length=0,Mh(),Ai=!1,yl=null,(_t.length||Mr.length)&&Rh()}}function Xv(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ue;let s=n;const p=t.startsWith("update:"),m=p&&t.slice(7);if(m&&m in r){const f=`${m==="modelValue"?"model":m}Modifiers`,{number:o,trim:l}=r[f]||Ue;l&&(s=n.map(a=>je(a)?a.trim():a)),o&&(s=n.map(Gg))}let c,i=r[c=Lo(t)]||r[c=Lo(tn(t))];!i&&p&&(i=r[c=Lo(Gr(t))]),i&&Ut(i,e,6,s);const h=r[c+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Ut(h,e,6,s)}}function Dh(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const p=e.emits;let m={},c=!1;if(!xe(e)){const i=h=>{const f=Dh(h,t,!0);f&&(c=!0,nt(m,f))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return!p&&!c?(Fe(e)&&r.set(e,null),null):(Ce(p)?p.forEach(i=>m[i]=null):nt(m,p),Fe(e)&&r.set(e,m),m)}function eo(e,t){return!e||!Vs(t)?!1:(t=t.slice(2).replace(/Once$/,""),De(e,t[0].toLowerCase()+t.slice(1))||De(e,Gr(t))||De(e,t))}let pt=null,to=null;function Rs(e){const t=pt;return pt=e,to=e&&e.type.__scopeId||null,t}function no(e){to=e}function ro(){to=null}function _e(e,t=pt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&tu(-1);const p=Rs(t);let m;try{m=e(...s)}finally{Rs(p),r._d&&tu(1)}return m};return r._n=!0,r._c=!0,r._d=!0,r}function Bo(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:p,propsOptions:[m],slots:c,attrs:i,emit:h,render:f,renderCache:o,data:l,setupState:a,ctx:u,inheritAttrs:g}=e;let d,v;const _=Rs(e);try{if(n.shapeFlag&4){const y=s||r;d=fn(f.call(y,y,o,p,a,l,u)),v=i}else{const y=t;d=fn(y.length>1?y(p,{attrs:i,slots:c,emit:h}):y(p,null)),v=t.props?i:Vv(i)}}catch(y){_i.length=0,Qs(y,e,1),d=ve(Bt)}let b=d;if(v&&g!==!1){const y=Object.keys(v),{shapeFlag:w}=b;y.length&&w&7&&(m&&y.some(ll)&&(v=Gv(v,m)),b=An(b,v))}return n.dirs&&(b=An(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),d=b,Rs(_),d}const Vv=e=>{let t;for(const n in e)(n==="class"||n==="style"||Vs(n))&&((t||(t={}))[n]=e[n]);return t},Gv=(e,t)=>{const n={};for(const r in e)(!ll(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Kv(e,t,n){const{props:r,children:s,component:p}=e,{props:m,children:c,patchFlag:i}=t,h=p.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&i>=0){if(i&1024)return!0;if(i&16)return r?Uc(r,m,h):!!m;if(i&8){const f=t.dynamicProps;for(let o=0;o<f.length;o++){const l=f[o];if(m[l]!==r[l]&&!eo(h,l))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===m?!1:r?m?Uc(r,m,h):!0:!!m;return!1}function Uc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const p=r[s];if(t[p]!==e[p]&&!eo(n,p))return!0}return!1}function qv({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Jv=e=>e.__isSuspense;function Zv(e,t){t&&t.pendingBranch?Ce(e)?t.effects.push(...e):t.effects.push(e):Wv(e)}const ss={};function Ae(e,t,n){return Ih(e,t,n)}function Ih(e,t,{immediate:n,deep:r,flush:s,onTrack:p,onTrigger:m}=Ue){var c;const i=dh()===((c=lt)==null?void 0:c.scope)?lt:null;let h,f=!1,o=!1;if(st(e)?(h=()=>e.value,f=As(e)):Ar(e)?(h=()=>e,r=!0):Ce(e)?(o=!0,f=e.some(y=>Ar(y)||As(y)),h=()=>e.map(y=>{if(st(y))return y.value;if(Ar(y))return ar(y);if(xe(y))return Vn(y,i,2)})):xe(e)?t?h=()=>Vn(e,i,2):h=()=>{if(!(i&&i.isUnmounted))return l&&l(),Ut(e,i,3,[a])}:h=bt,t&&r){const y=h;h=()=>ar(y())}let l,a=y=>{l=_.onStop=()=>{Vn(y,i,4)}},u;if(Di)if(a=bt,t?n&&Ut(t,i,3,[h(),o?[]:void 0,a]):h(),s==="sync"){const y=Hm();u=y.__watcherHandles||(y.__watcherHandles=[])}else return bt;let g=o?new Array(e.length).fill(ss):ss;const d=()=>{if(_.active)if(t){const y=_.run();(r||f||(o?y.some((w,C)=>Pi(w,g[C])):Pi(y,g)))&&(l&&l(),Ut(t,i,3,[y,g===ss?void 0:o&&g[0]===ss?[]:g,a]),g=y)}else _.run()};d.allowRecurse=!!t;let v;s==="sync"?v=d:s==="post"?v=()=>Pt(d,i&&i.suspense):(d.pre=!0,i&&(d.id=i.uid),v=()=>bl(d));const _=new hl(h,v);t?n?d():g=_.run():s==="post"?Pt(_.run.bind(_),i&&i.suspense):_.run();const b=()=>{_.stop(),i&&i.scope&&cl(i.scope.effects,_)};return u&&u.push(b),b}function Qv(e,t,n){const r=this.proxy,s=je(e)?e.includes(".")?Fh(r,e):()=>r[e]:e.bind(r,r);let p;xe(t)?p=t:(p=t.handler,n=t);const m=lt;Ir(this);const c=Ih(s,p.bind(r),n);return m?Ir(m):ur(),c}function Fh(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function ar(e,t){if(!Fe(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),st(e))ar(e.value,t);else if(Ce(e))for(let n=0;n<e.length;n++)ar(e[n],t);else if(Gs(e)||kr(e))e.forEach(n=>{ar(n,t)});else if(ah(e))for(const n in e)ar(e[n],t);return e}function dt(e,t){const n=pt;if(n===null)return e;const r=ao(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let p=0;p<t.length;p++){let[m,c,i,h=Ue]=t[p];m&&(xe(m)&&(m={mounted:m,updated:m}),m.deep&&ar(c),s.push({dir:m,instance:r,value:c,oldValue:void 0,arg:i,modifiers:h}))}return e}function Qn(e,t,n,r){const s=e.dirs,p=t&&t.dirs;for(let m=0;m<s.length;m++){const c=s[m];p&&(c.oldValue=p[m].value);let i=c.dir[r];i&&(Kr(),Ut(i,n,8,[e.el,c,e,t]),qr())}}function em(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ge(()=>{e.isMounted=!0}),jt(()=>{e.isUnmounting=!0}),e}const zt=[Function,Array],Lh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zt,onEnter:zt,onAfterEnter:zt,onEnterCancelled:zt,onBeforeLeave:zt,onLeave:zt,onAfterLeave:zt,onLeaveCancelled:zt,onBeforeAppear:zt,onAppear:zt,onAfterAppear:zt,onAppearCancelled:zt},tm={name:"BaseTransition",props:Lh,setup(e,{slots:t}){const n=Rt(),r=em();let s;return()=>{const p=t.default&&jh(t.default(),!0);if(!p||!p.length)return;let m=p[0];if(p.length>1){for(const g of p)if(g.type!==Bt){m=g;break}}const c=Le(e),{mode:i}=c;if(r.isLeaving)return jo(m);const h=Wc(m);if(!h)return jo(m);const f=xa(h,c,r,n);Ta(h,f);const o=n.subTree,l=o&&Wc(o);let a=!1;const{getTransitionKey:u}=h.type;if(u){const g=u();s===void 0?s=g:g!==s&&(s=g,a=!0)}if(l&&l.type!==Bt&&(!sr(h,l)||a)){const g=xa(l,c,r,n);if(Ta(l,g),i==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},jo(m);i==="in-out"&&h.type!==Bt&&(g.delayLeave=(d,v,_)=>{const b=Bh(r,l);b[String(l.key)]=l,d._leaveCb=()=>{v(),d._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=_})}return m}}},nm=tm;function Bh(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function xa(e,t,n,r){const{appear:s,mode:p,persisted:m=!1,onBeforeEnter:c,onEnter:i,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:o,onLeave:l,onAfterLeave:a,onLeaveCancelled:u,onBeforeAppear:g,onAppear:d,onAfterAppear:v,onAppearCancelled:_}=t,b=String(e.key),y=Bh(n,e),w=(T,j)=>{T&&Ut(T,r,9,j)},C=(T,j)=>{const W=j[1];w(T,j),Ce(T)?T.every(V=>V.length<=1)&&W():T.length<=1&&W()},S={mode:p,persisted:m,beforeEnter(T){let j=c;if(!n.isMounted)if(s)j=g||c;else return;T._leaveCb&&T._leaveCb(!0);const W=y[b];W&&sr(e,W)&&W.el._leaveCb&&W.el._leaveCb(),w(j,[T])},enter(T){let j=i,W=h,V=f;if(!n.isMounted)if(s)j=d||i,W=v||h,V=_||f;else return;let H=!1;const te=T._enterCb=se=>{H||(H=!0,se?w(V,[T]):w(W,[T]),S.delayedLeave&&S.delayedLeave(),T._enterCb=void 0)};j?C(j,[T,te]):te()},leave(T,j){const W=String(e.key);if(T._enterCb&&T._enterCb(!0),n.isUnmounting)return j();w(o,[T]);let V=!1;const H=T._leaveCb=te=>{V||(V=!0,j(),te?w(u,[T]):w(a,[T]),T._leaveCb=void 0,y[W]===e&&delete y[W])};y[W]=e,l?C(l,[T,H]):H()},clone(T){return xa(T,t,n,r)}};return S}function jo(e){if(io(e))return e=An(e),e.children=null,e}function Wc(e){return io(e)?e.children?e.children[0]:void 0:e}function Ta(e,t){e.shapeFlag&6&&e.component?Ta(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function jh(e,t=!1,n){let r=[],s=0;for(let p=0;p<e.length;p++){let m=e[p];const c=n==null?m.key:String(n)+String(m.key!=null?m.key:p);m.type===Re?(m.patchFlag&128&&s++,r=r.concat(jh(m.children,t,c))):(t||m.type!==Bt)&&r.push(c!=null?An(m,{key:c}):m)}if(s>1)for(let p=0;p<r.length;p++)r[p].patchFlag=-2;return r}function Oe(e,t){return xe(e)?(()=>nt({name:e.name},t,{setup:e}))():e}const gi=e=>!!e.type.__asyncLoader,io=e=>e.type.__isKeepAlive;function rm(e,t){zh(e,"a",t)}function Nh(e,t){zh(e,"da",t)}function zh(e,t,n=lt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(so(t,r,n),n){let s=n.parent;for(;s&&s.parent;)io(s.parent.vnode)&&im(r,t,n,s),s=s.parent}}function im(e,t,n,r){const s=so(t,e,r,!0);Jr(()=>{cl(r[t],s)},n)}function so(e,t,n=lt,r=!1){if(n){const s=n[e]||(n[e]=[]),p=t.__weh||(t.__weh=(...m)=>{if(n.isUnmounted)return;Kr(),Ir(n);const c=Ut(t,n,e,m);return ur(),qr(),c});return r?s.unshift(p):s.push(p),p}}const Rn=e=>(t,n=lt)=>(!Di||e==="sp")&&so(e,(...r)=>t(...r),n),$h=Rn("bm"),Ge=Rn("m"),sm=Rn("bu"),Hh=Rn("u"),jt=Rn("bum"),Jr=Rn("um"),om=Rn("sp"),am=Rn("rtg"),lm=Rn("rtc");function cm(e,t=lt){so("ec",e,t)}const wl="components";function He(e,t){return Wh(wl,e,!0,t)||e}const Uh=Symbol.for("v-ndc");function Zt(e){return je(e)?Wh(wl,e,!1)||e:e||Uh}function Wh(e,t,n=!0,r=!1){const s=pt||lt;if(s){const p=s.type;if(e===wl){const c=Nm(p,!1);if(c&&(c===t||c===tn(t)||c===qs(tn(t))))return p}const m=Yc(s[e]||p[e],t)||Yc(s.appContext[e],t);return!m&&r?p:m}}function Yc(e,t){return e&&(e[t]||e[tn(t)]||e[qs(tn(t))])}function ht(e,t,n,r){let s;const p=n&&n[r];if(Ce(e)||je(e)){s=new Array(e.length);for(let m=0,c=e.length;m<c;m++)s[m]=t(e[m],m,void 0,p&&p[m])}else if(typeof e=="number"){s=new Array(e);for(let m=0;m<e;m++)s[m]=t(m+1,m,void 0,p&&p[m])}else if(Fe(e))if(e[Symbol.iterator])s=Array.from(e,(m,c)=>t(m,c,void 0,p&&p[c]));else{const m=Object.keys(e);s=new Array(m.length);for(let c=0,i=m.length;c<i;c++){const h=m[c];s[c]=t(e[h],h,c,p&&p[c])}}else s=[];return n&&(n[r]=s),s}function um(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Ce(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const p=r.fn(...s);return p&&(p.key=r.key),p}:r.fn)}return e}function Ee(e,t,n={},r,s){if(pt.isCE||pt.parent&&gi(pt.parent)&&pt.parent.isCE)return t!=="default"&&(n.name=t),ve("slot",n,r&&r());let p=e[t];p&&p._c&&(p._d=!1),ee();const m=p&&Yh(p(n)),c=Te(Re,{key:n.key||m&&m.key||`_${t}`},m||(r?r():[]),m&&e._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),p&&p._c&&(p._d=!0),c}function Yh(e){return e.some(t=>Dr(t)?!(t.type===Bt||t.type===Re&&!Yh(t.children)):!0)?e:null}const Oa=e=>e?sd(e)?ao(e)||e.proxy:Oa(e.parent):null,vi=nt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Oa(e.parent),$root:e=>Oa(e.root),$emit:e=>e.emit,$options:e=>Sl(e),$forceUpdate:e=>e.f||(e.f=()=>bl(e.update)),$nextTick:e=>e.n||(e.n=at.bind(e.proxy)),$watch:e=>Qv.bind(e)}),No=(e,t)=>e!==Ue&&!e.__isScriptSetup&&De(e,t),fm={get({_:e},t){const{ctx:n,setupState:r,data:s,props:p,accessCache:m,type:c,appContext:i}=e;let h;if(t[0]!=="$"){const a=m[t];if(a!==void 0)switch(a){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return p[t]}else{if(No(r,t))return m[t]=1,r[t];if(s!==Ue&&De(s,t))return m[t]=2,s[t];if((h=e.propsOptions[0])&&De(h,t))return m[t]=3,p[t];if(n!==Ue&&De(n,t))return m[t]=4,n[t];Ea&&(m[t]=0)}}const f=vi[t];let o,l;if(f)return t==="$attrs"&&Mt(e,"get",t),f(e);if((o=c.__cssModules)&&(o=o[t]))return o;if(n!==Ue&&De(n,t))return m[t]=4,n[t];if(l=i.config.globalProperties,De(l,t))return l[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:p}=e;return No(s,t)?(s[t]=n,!0):r!==Ue&&De(r,t)?(r[t]=n,!0):De(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(p[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:p}},m){let c;return!!n[m]||e!==Ue&&De(e,m)||No(t,m)||(c=p[0])&&De(c,m)||De(r,m)||De(vi,m)||De(s.config.globalProperties,m)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:De(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Xh(){return Vh().slots}function Cl(){return Vh().attrs}function Vh(){const e=Rt();return e.setupContext||(e.setupContext=ad(e))}function Xc(e){return Ce(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ea=!0;function hm(e){const t=Sl(e),n=e.proxy,r=e.ctx;Ea=!1,t.beforeCreate&&Vc(t.beforeCreate,e,"bc");const{data:s,computed:p,methods:m,watch:c,provide:i,inject:h,created:f,beforeMount:o,mounted:l,beforeUpdate:a,updated:u,activated:g,deactivated:d,beforeDestroy:v,beforeUnmount:_,destroyed:b,unmounted:y,render:w,renderTracked:C,renderTriggered:S,errorCaptured:T,serverPrefetch:j,expose:W,inheritAttrs:V,components:H,directives:te,filters:se}=t;if(h&&dm(h,r,null),m)for(const X in m){const K=m[X];xe(K)&&(r[X]=K.bind(n))}if(s){const X=s.call(n,n);Fe(X)&&(e.data=pr(X))}if(Ea=!0,p)for(const X in p){const K=p[X],x=xe(K)?K.bind(n,n):xe(K.get)?K.get.bind(n,n):bt,D=!xe(K)&&xe(K.set)?K.set.bind(n):bt,F=re({get:x,set:D});Object.defineProperty(r,X,{enumerable:!0,configurable:!0,get:()=>F.value,set:I=>F.value=I})}if(c)for(const X in c)Gh(c[X],r,n,X);if(i){const X=xe(i)?i.call(n):i;Reflect.ownKeys(X).forEach(K=>{Je(K,X[K])})}f&&Vc(f,e,"c");function ue(X,K){Ce(K)?K.forEach(x=>X(x.bind(n))):K&&X(K.bind(n))}if(ue($h,o),ue(Ge,l),ue(sm,a),ue(Hh,u),ue(rm,g),ue(Nh,d),ue(cm,T),ue(lm,C),ue(am,S),ue(jt,_),ue(Jr,y),ue(om,j),Ce(W))if(W.length){const X=e.exposed||(e.exposed={});W.forEach(K=>{Object.defineProperty(X,K,{get:()=>n[K],set:x=>n[K]=x})})}else e.exposed||(e.exposed={});w&&e.render===bt&&(e.render=w),V!=null&&(e.inheritAttrs=V),H&&(e.components=H),te&&(e.directives=te)}function dm(e,t,n=bt){Ce(e)&&(e=Pa(e));for(const r in e){const s=e[r];let p;Fe(s)?"default"in s?p=Pe(s.from||r,s.default,!0):p=Pe(s.from||r):p=Pe(s),st(p)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>p.value,set:m=>p.value=m}):t[r]=p}}function Vc(e,t,n){Ut(Ce(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Gh(e,t,n,r){const s=r.includes(".")?Fh(n,r):()=>n[r];if(je(e)){const p=t[e];xe(p)&&Ae(s,p)}else if(xe(e))Ae(s,e.bind(n));else if(Fe(e))if(Ce(e))e.forEach(p=>Gh(p,t,n,r));else{const p=xe(e.handler)?e.handler.bind(n):t[e.handler];xe(p)&&Ae(s,p,e)}}function Sl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:p,config:{optionMergeStrategies:m}}=e.appContext,c=p.get(t);let i;return c?i=c:!s.length&&!n&&!r?i=t:(i={},s.length&&s.forEach(h=>Ds(i,h,m,!0)),Ds(i,t,m)),Fe(t)&&p.set(t,i),i}function Ds(e,t,n,r=!1){const{mixins:s,extends:p}=t;p&&Ds(e,p,n,!0),s&&s.forEach(m=>Ds(e,m,n,!0));for(const m in t)if(!(r&&m==="expose")){const c=pm[m]||n&&n[m];e[m]=c?c(e[m],t[m]):t[m]}return e}const pm={data:Gc,props:Kc,emits:Kc,methods:di,computed:di,beforeCreate:St,created:St,beforeMount:St,mounted:St,beforeUpdate:St,updated:St,beforeDestroy:St,beforeUnmount:St,destroyed:St,unmounted:St,activated:St,deactivated:St,errorCaptured:St,serverPrefetch:St,components:di,directives:di,watch:vm,provide:Gc,inject:gm};function Gc(e,t){return t?e?function(){return nt(xe(e)?e.call(this,this):e,xe(t)?t.call(this,this):t)}:t:e}function gm(e,t){return di(Pa(e),Pa(t))}function Pa(e){if(Ce(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function St(e,t){return e?[...new Set([].concat(e,t))]:t}function di(e,t){return e?nt(Object.create(null),e,t):t}function Kc(e,t){return e?Ce(e)&&Ce(t)?[...new Set([...e,...t])]:nt(Object.create(null),Xc(e),Xc(t??{})):t}function vm(e,t){if(!e)return t;if(!t)return e;const n=nt(Object.create(null),e);for(const r in t)n[r]=St(e[r],t[r]);return n}function Kh(){return{app:null,config:{isNativeTag:Hg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mm=0;function _m(e,t){return function(r,s=null){xe(r)||(r=nt({},r)),s!=null&&!Fe(s)&&(s=null);const p=Kh(),m=new Set;let c=!1;const i=p.app={_uid:mm++,_component:r,_props:s,_container:null,_context:p,_instance:null,version:Um,get config(){return p.config},set config(h){},use(h,...f){return m.has(h)||(h&&xe(h.install)?(m.add(h),h.install(i,...f)):xe(h)&&(m.add(h),h(i,...f))),i},mixin(h){return p.mixins.includes(h)||p.mixins.push(h),i},component(h,f){return f?(p.components[h]=f,i):p.components[h]},directive(h,f){return f?(p.directives[h]=f,i):p.directives[h]},mount(h,f,o){if(!c){const l=ve(r,s);return l.appContext=p,f&&t?t(l,h):e(l,h,o),c=!0,i._container=h,h.__vue_app__=i,ao(l.component)||l.component.proxy}},unmount(){c&&(e(null,i._container),delete i._container.__vue_app__)},provide(h,f){return p.provides[h]=f,i},runWithContext(h){Is=i;try{return h()}finally{Is=null}}};return i}}let Is=null;function Je(e,t){if(lt){let n=lt.provides;const r=lt.parent&&lt.parent.provides;r===n&&(n=lt.provides=Object.create(r)),n[e]=t}}function Pe(e,t,n=!1){const r=lt||pt;if(r||Is){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Is._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&xe(t)?t.call(r&&r.proxy):t}}function ym(e,t,n,r=!1){const s={},p={};Ps(p,oo,1),e.propsDefaults=Object.create(null),qh(e,t,s,p);for(const m in e.propsOptions[0])m in s||(s[m]=void 0);n?e.props=r?s:vl(s):e.type.props?e.props=s:e.props=p,e.attrs=p}function bm(e,t,n,r){const{props:s,attrs:p,vnode:{patchFlag:m}}=e,c=Le(s),[i]=e.propsOptions;let h=!1;if((r||m>0)&&!(m&16)){if(m&8){const f=e.vnode.dynamicProps;for(let o=0;o<f.length;o++){let l=f[o];if(eo(e.emitsOptions,l))continue;const a=t[l];if(i)if(De(p,l))a!==p[l]&&(p[l]=a,h=!0);else{const u=tn(l);s[u]=ka(i,c,u,a,e,!1)}else a!==p[l]&&(p[l]=a,h=!0)}}}else{qh(e,t,s,p)&&(h=!0);let f;for(const o in c)(!t||!De(t,o)&&((f=Gr(o))===o||!De(t,f)))&&(i?n&&(n[o]!==void 0||n[f]!==void 0)&&(s[o]=ka(i,c,o,void 0,e,!0)):delete s[o]);if(p!==c)for(const o in p)(!t||!De(t,o))&&(delete p[o],h=!0)}h&&kn(e,"set","$attrs")}function qh(e,t,n,r){const[s,p]=e.propsOptions;let m=!1,c;if(t)for(let i in t){if(ms(i))continue;const h=t[i];let f;s&&De(s,f=tn(i))?!p||!p.includes(f)?n[f]=h:(c||(c={}))[f]=h:eo(e.emitsOptions,i)||(!(i in r)||h!==r[i])&&(r[i]=h,m=!0)}if(p){const i=Le(n),h=c||Ue;for(let f=0;f<p.length;f++){const o=p[f];n[o]=ka(s,i,o,h[o],e,!De(h,o))}}return m}function ka(e,t,n,r,s,p){const m=e[n];if(m!=null){const c=De(m,"default");if(c&&r===void 0){const i=m.default;if(m.type!==Function&&!m.skipFactory&&xe(i)){const{propsDefaults:h}=s;n in h?r=h[n]:(Ir(s),r=h[n]=i.call(null,t),ur())}else r=i}m[0]&&(p&&!c?r=!1:m[1]&&(r===""||r===Gr(n))&&(r=!0))}return r}function Jh(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const p=e.props,m={},c=[];let i=!1;if(!xe(e)){const f=o=>{i=!0;const[l,a]=Jh(o,t,!0);nt(m,l),a&&c.push(...a)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!p&&!i)return Fe(e)&&r.set(e,Pr),Pr;if(Ce(p))for(let f=0;f<p.length;f++){const o=tn(p[f]);qc(o)&&(m[o]=Ue)}else if(p)for(const f in p){const o=tn(f);if(qc(o)){const l=p[f],a=m[o]=Ce(l)||xe(l)?{type:l}:nt({},l);if(a){const u=Qc(Boolean,a.type),g=Qc(String,a.type);a[0]=u>-1,a[1]=g<0||u<g,(u>-1||De(a,"default"))&&c.push(o)}}}const h=[m,c];return Fe(e)&&r.set(e,h),h}function qc(e){return e[0]!=="$"}function Jc(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Zc(e,t){return Jc(e)===Jc(t)}function Qc(e,t){return Ce(t)?t.findIndex(n=>Zc(n,e)):xe(t)&&Zc(t,e)?0:-1}const Zh=e=>e[0]==="_"||e==="$stable",xl=e=>Ce(e)?e.map(fn):[fn(e)],wm=(e,t,n)=>{if(t._n)return t;const r=_e((...s)=>xl(t(...s)),n);return r._c=!1,r},Qh=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Zh(s))continue;const p=e[s];if(xe(p))t[s]=wm(s,p,r);else if(p!=null){const m=xl(p);t[s]=()=>m}}},ed=(e,t)=>{const n=xl(t);e.slots.default=()=>n},Cm=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Le(t),Ps(t,"_",n)):Qh(t,e.slots={})}else e.slots={},t&&ed(e,t);Ps(e.slots,oo,1)},Sm=(e,t,n)=>{const{vnode:r,slots:s}=e;let p=!0,m=Ue;if(r.shapeFlag&32){const c=t._;c?n&&c===1?p=!1:(nt(s,t),!n&&c===1&&delete s._):(p=!t.$stable,Qh(t,s)),m=t}else t&&(ed(e,t),m={default:1});if(p)for(const c in s)!Zh(c)&&!(c in m)&&delete s[c]};function Aa(e,t,n,r,s=!1){if(Ce(e)){e.forEach((l,a)=>Aa(l,t&&(Ce(t)?t[a]:t),n,r,s));return}if(gi(r)&&!s)return;const p=r.shapeFlag&4?ao(r.component)||r.component.proxy:r.el,m=s?null:p,{i:c,r:i}=e,h=t&&t.r,f=c.refs===Ue?c.refs={}:c.refs,o=c.setupState;if(h!=null&&h!==i&&(je(h)?(f[h]=null,De(o,h)&&(o[h]=null)):st(h)&&(h.value=null)),xe(i))Vn(i,c,12,[m,f]);else{const l=je(i),a=st(i);if(l||a){const u=()=>{if(e.f){const g=l?De(o,i)?o[i]:f[i]:i.value;s?Ce(g)&&cl(g,p):Ce(g)?g.includes(p)||g.push(p):l?(f[i]=[p],De(o,i)&&(o[i]=f[i])):(i.value=[p],e.k&&(f[e.k]=i.value))}else l?(f[i]=m,De(o,i)&&(o[i]=m)):a&&(i.value=m,e.k&&(f[e.k]=m))};m?(u.id=-1,Pt(u,n)):u()}}}const Pt=Zv;function xm(e){return Tm(e)}function Tm(e,t){const n=ya();n.__VUE__=!0;const{insert:r,remove:s,patchProp:p,createElement:m,createText:c,createComment:i,setText:h,setElementText:f,parentNode:o,nextSibling:l,setScopeId:a=bt,insertStaticContent:u}=e,g=(k,O,P,B=null,$=null,N=null,Y=!1,J=null,ae=!!O.dynamicChildren)=>{if(k===O)return;k&&!sr(k,O)&&(B=M(k),I(k,$,N,!0),k=null),O.patchFlag===-2&&(ae=!1,O.dynamicChildren=null);const{type:ne,ref:G,shapeFlag:ce}=O;switch(ne){case Zr:d(k,O,P,B);break;case Bt:v(k,O,P,B);break;case ys:k==null&&_(O,P,B,Y);break;case Re:H(k,O,P,B,$,N,Y,J,ae);break;default:ce&1?w(k,O,P,B,$,N,Y,J,ae):ce&6?te(k,O,P,B,$,N,Y,J,ae):(ce&64||ce&128)&&ne.process(k,O,P,B,$,N,Y,J,ae,z)}G!=null&&$&&Aa(G,k&&k.ref,N,O||k,!O)},d=(k,O,P,B)=>{if(k==null)r(O.el=c(O.children),P,B);else{const $=O.el=k.el;O.children!==k.children&&h($,O.children)}},v=(k,O,P,B)=>{k==null?r(O.el=i(O.children||""),P,B):O.el=k.el},_=(k,O,P,B)=>{[k.el,k.anchor]=u(k.children,O,P,B,k.el,k.anchor)},b=({el:k,anchor:O},P,B)=>{let $;for(;k&&k!==O;)$=l(k),r(k,P,B),k=$;r(O,P,B)},y=({el:k,anchor:O})=>{let P;for(;k&&k!==O;)P=l(k),s(k),k=P;s(O)},w=(k,O,P,B,$,N,Y,J,ae)=>{Y=Y||O.type==="svg",k==null?C(O,P,B,$,N,Y,J,ae):j(k,O,$,N,Y,J,ae)},C=(k,O,P,B,$,N,Y,J)=>{let ae,ne;const{type:G,props:ce,shapeFlag:pe,transition:Z,dirs:ge}=k;if(ae=k.el=m(k.type,N,ce&&ce.is,ce),pe&8?f(ae,k.children):pe&16&&T(k.children,ae,null,B,$,N&&G!=="foreignObject",Y,J),ge&&Qn(k,null,B,"created"),S(ae,k,k.scopeId,Y,B),ce){for(const be in ce)be!=="value"&&!ms(be)&&p(ae,be,null,ce[be],N,k.children,B,$,U);"value"in ce&&p(ae,"value",null,ce.value),(ne=ce.onVnodeBeforeMount)&&un(ne,B,k)}ge&&Qn(k,null,B,"beforeMount");const me=(!$||$&&!$.pendingBranch)&&Z&&!Z.persisted;me&&Z.beforeEnter(ae),r(ae,O,P),((ne=ce&&ce.onVnodeMounted)||me||ge)&&Pt(()=>{ne&&un(ne,B,k),me&&Z.enter(ae),ge&&Qn(k,null,B,"mounted")},$)},S=(k,O,P,B,$)=>{if(P&&a(k,P),B)for(let N=0;N<B.length;N++)a(k,B[N]);if($){let N=$.subTree;if(O===N){const Y=$.vnode;S(k,Y,Y.scopeId,Y.slotScopeIds,$.parent)}}},T=(k,O,P,B,$,N,Y,J,ae=0)=>{for(let ne=ae;ne<k.length;ne++){const G=k[ne]=J?$n(k[ne]):fn(k[ne]);g(null,G,O,P,B,$,N,Y,J)}},j=(k,O,P,B,$,N,Y)=>{const J=O.el=k.el;let{patchFlag:ae,dynamicChildren:ne,dirs:G}=O;ae|=k.patchFlag&16;const ce=k.props||Ue,pe=O.props||Ue;let Z;P&&er(P,!1),(Z=pe.onVnodeBeforeUpdate)&&un(Z,P,O,k),G&&Qn(O,k,P,"beforeUpdate"),P&&er(P,!0);const ge=$&&O.type!=="foreignObject";if(ne?W(k.dynamicChildren,ne,J,P,B,ge,N):Y||K(k,O,J,null,P,B,ge,N,!1),ae>0){if(ae&16)V(J,O,ce,pe,P,B,$);else if(ae&2&&ce.class!==pe.class&&p(J,"class",null,pe.class,$),ae&4&&p(J,"style",ce.style,pe.style,$),ae&8){const me=O.dynamicProps;for(let be=0;be<me.length;be++){const ke=me[be],qe=ce[ke],Ct=pe[ke];(Ct!==qe||ke==="value")&&p(J,ke,qe,Ct,$,k.children,P,B,U)}}ae&1&&k.children!==O.children&&f(J,O.children)}else!Y&&ne==null&&V(J,O,ce,pe,P,B,$);((Z=pe.onVnodeUpdated)||G)&&Pt(()=>{Z&&un(Z,P,O,k),G&&Qn(O,k,P,"updated")},B)},W=(k,O,P,B,$,N,Y)=>{for(let J=0;J<O.length;J++){const ae=k[J],ne=O[J],G=ae.el&&(ae.type===Re||!sr(ae,ne)||ae.shapeFlag&70)?o(ae.el):P;g(ae,ne,G,null,B,$,N,Y,!0)}},V=(k,O,P,B,$,N,Y)=>{if(P!==B){if(P!==Ue)for(const J in P)!ms(J)&&!(J in B)&&p(k,J,P[J],null,Y,O.children,$,N,U);for(const J in B){if(ms(J))continue;const ae=B[J],ne=P[J];ae!==ne&&J!=="value"&&p(k,J,ne,ae,Y,O.children,$,N,U)}"value"in B&&p(k,"value",P.value,B.value)}},H=(k,O,P,B,$,N,Y,J,ae)=>{const ne=O.el=k?k.el:c(""),G=O.anchor=k?k.anchor:c("");let{patchFlag:ce,dynamicChildren:pe,slotScopeIds:Z}=O;Z&&(J=J?J.concat(Z):Z),k==null?(r(ne,P,B),r(G,P,B),T(O.children,P,G,$,N,Y,J,ae)):ce>0&&ce&64&&pe&&k.dynamicChildren?(W(k.dynamicChildren,pe,P,$,N,Y,J),(O.key!=null||$&&O===$.subTree)&&Tl(k,O,!0)):K(k,O,P,G,$,N,Y,J,ae)},te=(k,O,P,B,$,N,Y,J,ae)=>{O.slotScopeIds=J,k==null?O.shapeFlag&512?$.ctx.activate(O,P,B,Y,ae):se(O,P,B,$,N,Y,ae):le(k,O,ae)},se=(k,O,P,B,$,N,Y)=>{const J=k.component=Fm(k,B,$);if(io(k)&&(J.ctx.renderer=z),Lm(J),J.asyncDep){if($&&$.registerDep(J,ue),!k.el){const ae=J.subTree=ve(Bt);v(null,ae,O,P)}return}ue(J,k,O,P,$,N,Y)},le=(k,O,P)=>{const B=O.component=k.component;if(Kv(k,O,P))if(B.asyncDep&&!B.asyncResolved){X(B,O,P);return}else B.next=O,Uv(B.update),B.update();else O.el=k.el,B.vnode=O},ue=(k,O,P,B,$,N,Y)=>{const J=()=>{if(k.isMounted){let{next:G,bu:ce,u:pe,parent:Z,vnode:ge}=k,me=G,be;er(k,!1),G?(G.el=ge.el,X(k,G,Y)):G=ge,ce&&_s(ce),(be=G.props&&G.props.onVnodeBeforeUpdate)&&un(be,Z,G,ge),er(k,!0);const ke=Bo(k),qe=k.subTree;k.subTree=ke,g(qe,ke,o(qe.el),M(qe),k,$,N),G.el=ke.el,me===null&&qv(k,ke.el),pe&&Pt(pe,$),(be=G.props&&G.props.onVnodeUpdated)&&Pt(()=>un(be,Z,G,ge),$)}else{let G;const{el:ce,props:pe}=O,{bm:Z,m:ge,parent:me}=k,be=gi(O);if(er(k,!1),Z&&_s(Z),!be&&(G=pe&&pe.onVnodeBeforeMount)&&un(G,me,O),er(k,!0),ce&&oe){const ke=()=>{k.subTree=Bo(k),oe(ce,k.subTree,k,$,null)};be?O.type.__asyncLoader().then(()=>!k.isUnmounted&&ke()):ke()}else{const ke=k.subTree=Bo(k);g(null,ke,P,B,k,$,N),O.el=ke.el}if(ge&&Pt(ge,$),!be&&(G=pe&&pe.onVnodeMounted)){const ke=O;Pt(()=>un(G,me,ke),$)}(O.shapeFlag&256||me&&gi(me.vnode)&&me.vnode.shapeFlag&256)&&k.a&&Pt(k.a,$),k.isMounted=!0,O=P=B=null}},ae=k.effect=new hl(J,()=>bl(ne),k.scope),ne=k.update=()=>ae.run();ne.id=k.uid,er(k,!0),ne()},X=(k,O,P)=>{O.component=k;const B=k.vnode.props;k.vnode=O,k.next=null,bm(k,O.props,B,P),Sm(k,O.children,P),Kr(),Hc(),qr()},K=(k,O,P,B,$,N,Y,J,ae=!1)=>{const ne=k&&k.children,G=k?k.shapeFlag:0,ce=O.children,{patchFlag:pe,shapeFlag:Z}=O;if(pe>0){if(pe&128){D(ne,ce,P,B,$,N,Y,J,ae);return}else if(pe&256){x(ne,ce,P,B,$,N,Y,J,ae);return}}Z&8?(G&16&&U(ne,$,N),ce!==ne&&f(P,ce)):G&16?Z&16?D(ne,ce,P,B,$,N,Y,J,ae):U(ne,$,N,!0):(G&8&&f(P,""),Z&16&&T(ce,P,B,$,N,Y,J,ae))},x=(k,O,P,B,$,N,Y,J,ae)=>{k=k||Pr,O=O||Pr;const ne=k.length,G=O.length,ce=Math.min(ne,G);let pe;for(pe=0;pe<ce;pe++){const Z=O[pe]=ae?$n(O[pe]):fn(O[pe]);g(k[pe],Z,P,null,$,N,Y,J,ae)}ne>G?U(k,$,N,!0,!1,ce):T(O,P,B,$,N,Y,J,ae,ce)},D=(k,O,P,B,$,N,Y,J,ae)=>{let ne=0;const G=O.length;let ce=k.length-1,pe=G-1;for(;ne<=ce&&ne<=pe;){const Z=k[ne],ge=O[ne]=ae?$n(O[ne]):fn(O[ne]);if(sr(Z,ge))g(Z,ge,P,null,$,N,Y,J,ae);else break;ne++}for(;ne<=ce&&ne<=pe;){const Z=k[ce],ge=O[pe]=ae?$n(O[pe]):fn(O[pe]);if(sr(Z,ge))g(Z,ge,P,null,$,N,Y,J,ae);else break;ce--,pe--}if(ne>ce){if(ne<=pe){const Z=pe+1,ge=Z<G?O[Z].el:B;for(;ne<=pe;)g(null,O[ne]=ae?$n(O[ne]):fn(O[ne]),P,ge,$,N,Y,J,ae),ne++}}else if(ne>pe)for(;ne<=ce;)I(k[ne],$,N,!0),ne++;else{const Z=ne,ge=ne,me=new Map;for(ne=ge;ne<=pe;ne++){const Ke=O[ne]=ae?$n(O[ne]):fn(O[ne]);Ke.key!=null&&me.set(Ke.key,ne)}let be,ke=0;const qe=pe-ge+1;let Ct=!1,mt=0;const an=new Array(qe);for(ne=0;ne<qe;ne++)an[ne]=0;for(ne=Z;ne<=ce;ne++){const Ke=k[ne];if(ke>=qe){I(Ke,$,N,!0);continue}let ct;if(Ke.key!=null)ct=me.get(Ke.key);else for(be=ge;be<=pe;be++)if(an[be-ge]===0&&sr(Ke,O[be])){ct=be;break}ct===void 0?I(Ke,$,N,!0):(an[ct-ge]=ne+1,ct>=mt?mt=ct:Ct=!0,g(Ke,O[ct],P,null,$,N,Y,J,ae),ke++)}const Jn=Ct?Om(an):Pr;for(be=Jn.length-1,ne=qe-1;ne>=0;ne--){const Ke=ge+ne,ct=O[Ke],ni=Ke+1<G?O[Ke+1].el:B;an[ne]===0?g(null,ct,P,ni,$,N,Y,J,ae):Ct&&(be<0||ne!==Jn[be]?F(ct,P,ni,2):be--)}}},F=(k,O,P,B,$=null)=>{const{el:N,type:Y,transition:J,children:ae,shapeFlag:ne}=k;if(ne&6){F(k.component.subTree,O,P,B);return}if(ne&128){k.suspense.move(O,P,B);return}if(ne&64){Y.move(k,O,P,z);return}if(Y===Re){r(N,O,P);for(let ce=0;ce<ae.length;ce++)F(ae[ce],O,P,B);r(k.anchor,O,P);return}if(Y===ys){b(k,O,P);return}if(B!==2&&ne&1&&J)if(B===0)J.beforeEnter(N),r(N,O,P),Pt(()=>J.enter(N),$);else{const{leave:ce,delayLeave:pe,afterLeave:Z}=J,ge=()=>r(N,O,P),me=()=>{ce(N,()=>{ge(),Z&&Z()})};pe?pe(N,ge,me):me()}else r(N,O,P)},I=(k,O,P,B=!1,$=!1)=>{const{type:N,props:Y,ref:J,children:ae,dynamicChildren:ne,shapeFlag:G,patchFlag:ce,dirs:pe}=k;if(J!=null&&Aa(J,null,P,k,!0),G&256){O.ctx.deactivate(k);return}const Z=G&1&&pe,ge=!gi(k);let me;if(ge&&(me=Y&&Y.onVnodeBeforeUnmount)&&un(me,O,k),G&6)E(k.component,P,B);else{if(G&128){k.suspense.unmount(P,B);return}Z&&Qn(k,null,O,"beforeUnmount"),G&64?k.type.remove(k,O,P,$,z,B):ne&&(N!==Re||ce>0&&ce&64)?U(ne,O,P,!1,!0):(N===Re&&ce&384||!$&&G&16)&&U(ae,O,P),B&&Q(k)}(ge&&(me=Y&&Y.onVnodeUnmounted)||Z)&&Pt(()=>{me&&un(me,O,k),Z&&Qn(k,null,O,"unmounted")},P)},Q=k=>{const{type:O,el:P,anchor:B,transition:$}=k;if(O===Re){R(P,B);return}if(O===ys){y(k);return}const N=()=>{s(P),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(k.shapeFlag&1&&$&&!$.persisted){const{leave:Y,delayLeave:J}=$,ae=()=>Y(P,N);J?J(k.el,N,ae):ae()}else N()},R=(k,O)=>{let P;for(;k!==O;)P=l(k),s(k),k=P;s(O)},E=(k,O,P)=>{const{bum:B,scope:$,update:N,subTree:Y,um:J}=k;B&&_s(B),$.stop(),N&&(N.active=!1,I(Y,k,O,P)),J&&Pt(J,O),Pt(()=>{k.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},U=(k,O,P,B=!1,$=!1,N=0)=>{for(let Y=N;Y<k.length;Y++)I(k[Y],O,P,B,$)},M=k=>k.shapeFlag&6?M(k.component.subTree):k.shapeFlag&128?k.suspense.next():l(k.anchor||k.el),L=(k,O,P)=>{k==null?O._vnode&&I(O._vnode,null,null,!0):g(O._vnode||null,k,O,null,null,null,P),Hc(),Mh(),O._vnode=k},z={p:g,um:I,m:F,r:Q,mt:se,mc:T,pc:K,pbc:W,n:M,o:e};let q,oe;return t&&([q,oe]=t(z)),{render:L,hydrate:q,createApp:_m(L,q)}}function er({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Tl(e,t,n=!1){const r=e.children,s=t.children;if(Ce(r)&&Ce(s))for(let p=0;p<r.length;p++){const m=r[p];let c=s[p];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[p]=$n(s[p]),c.el=m.el),n||Tl(m,c)),c.type===Zr&&(c.el=m.el)}}function Om(e){const t=e.slice(),n=[0];let r,s,p,m,c;const i=e.length;for(r=0;r<i;r++){const h=e[r];if(h!==0){if(s=n[n.length-1],e[s]<h){t[r]=s,n.push(r);continue}for(p=0,m=n.length-1;p<m;)c=p+m>>1,e[n[c]]<h?p=c+1:m=c;h<e[n[p]]&&(p>0&&(t[r]=n[p-1]),n[p]=r)}}for(p=n.length,m=n[p-1];p-- >0;)n[p]=m,m=t[m];return n}const Em=e=>e.__isTeleport,mi=e=>e&&(e.disabled||e.disabled===""),eu=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Ma=(e,t)=>{const n=e&&e.to;return je(n)?t?t(n):null:n},Pm={__isTeleport:!0,process(e,t,n,r,s,p,m,c,i,h){const{mc:f,pc:o,pbc:l,o:{insert:a,querySelector:u,createText:g,createComment:d}}=h,v=mi(t.props);let{shapeFlag:_,children:b,dynamicChildren:y}=t;if(e==null){const w=t.el=g(""),C=t.anchor=g("");a(w,n,r),a(C,n,r);const S=t.target=Ma(t.props,u),T=t.targetAnchor=g("");S&&(a(T,S),m=m||eu(S));const j=(W,V)=>{_&16&&f(b,W,V,s,p,m,c,i)};v?j(n,C):S&&j(S,T)}else{t.el=e.el;const w=t.anchor=e.anchor,C=t.target=e.target,S=t.targetAnchor=e.targetAnchor,T=mi(e.props),j=T?n:C,W=T?w:S;if(m=m||eu(C),y?(l(e.dynamicChildren,y,j,s,p,m,c),Tl(e,t,!0)):i||o(e,t,j,W,s,p,m,c,!1),v)T||os(t,n,w,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const V=t.target=Ma(t.props,u);V&&os(t,V,null,h,0)}else T&&os(t,C,S,h,1)}td(t)},remove(e,t,n,r,{um:s,o:{remove:p}},m){const{shapeFlag:c,children:i,anchor:h,targetAnchor:f,target:o,props:l}=e;if(o&&p(f),(m||!mi(l))&&(p(h),c&16))for(let a=0;a<i.length;a++){const u=i[a];s(u,t,n,!0,!!u.dynamicChildren)}},move:os,hydrate:km};function os(e,t,n,{o:{insert:r},m:s},p=2){p===0&&r(e.targetAnchor,t,n);const{el:m,anchor:c,shapeFlag:i,children:h,props:f}=e,o=p===2;if(o&&r(m,t,n),(!o||mi(f))&&i&16)for(let l=0;l<h.length;l++)s(h[l],t,n,2);o&&r(c,t,n)}function km(e,t,n,r,s,p,{o:{nextSibling:m,parentNode:c,querySelector:i}},h){const f=t.target=Ma(t.props,i);if(f){const o=f._lpa||f.firstChild;if(t.shapeFlag&16)if(mi(t.props))t.anchor=h(m(e),t,c(e),n,r,s,p),t.targetAnchor=o;else{t.anchor=m(e);let l=o;for(;l;)if(l=m(l),l&&l.nodeType===8&&l.data==="teleport anchor"){t.targetAnchor=l,f._lpa=t.targetAnchor&&m(t.targetAnchor);break}h(o,t,f,n,r,s,p)}td(t)}return t.anchor&&m(t.anchor)}const Ol=Pm;function td(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Re=Symbol.for("v-fgt"),Zr=Symbol.for("v-txt"),Bt=Symbol.for("v-cmt"),ys=Symbol.for("v-stc"),_i=[];let Qt=null;function ee(e=!1){_i.push(Qt=e?null:[])}function Am(){_i.pop(),Qt=_i[_i.length-1]||null}let Ri=1;function tu(e){Ri+=e}function nd(e){return e.dynamicChildren=Ri>0?Qt||Pr:null,Am(),Ri>0&&Qt&&Qt.push(e),e}function he(e,t,n,r,s,p){return nd(ie(e,t,n,r,s,p,!0))}function Te(e,t,n,r,s){return nd(ve(e,t,n,r,s,!0))}function Dr(e){return e?e.__v_isVNode===!0:!1}function sr(e,t){return e.type===t.type&&e.key===t.key}const oo="__vInternal",rd=({key:e})=>e??null,bs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?je(e)||st(e)||xe(e)?{i:pt,r:e,k:t,f:!!n}:e:null);function ie(e,t=null,n=null,r=0,s=null,p=e===Re?0:1,m=!1,c=!1){const i={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&rd(t),ref:t&&bs(t),scopeId:to,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:pt};return c?(El(i,n),p&128&&e.normalize(i)):n&&(i.shapeFlag|=je(n)?8:16),Ri>0&&!m&&Qt&&(i.patchFlag>0||p&6)&&i.patchFlag!==32&&Qt.push(i),i}const ve=Mm;function Mm(e,t=null,n=null,r=0,s=null,p=!1){if((!e||e===Uh)&&(e=Bt),Dr(e)){const c=An(e,t,!0);return n&&El(c,n),Ri>0&&!p&&Qt&&(c.shapeFlag&6?Qt[Qt.indexOf(e)]=c:Qt.push(c)),c.patchFlag|=-2,c}if(zm(e)&&(e=e.__vccOpts),t){t=id(t);let{class:c,style:i}=t;c&&!je(c)&&(t.class=ye(c)),Fe(i)&&(xh(i)&&!Ce(i)&&(i=nt({},i)),t.style=Ve(i))}const m=je(e)?1:Jv(e)?128:Em(e)?64:Fe(e)?4:xe(e)?2:0;return ie(e,t,n,r,s,m,p,!0)}function id(e){return e?xh(e)||oo in e?nt({},e):e:null}function An(e,t,n=!1){const{props:r,ref:s,patchFlag:p,children:m}=e,c=t?wt(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&rd(c),ref:t&&t.ref?n&&s?Ce(s)?s.concat(bs(t)):[s,bs(t)]:bs(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:m,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Re?p===-1?16:p|16:p,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&An(e.ssContent),ssFallback:e.ssFallback&&An(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Yi(e=" ",t=0){return ve(Zr,null,e,t)}function Rm(e,t){const n=ve(ys,null,e);return n.staticCount=t,n}function we(e="",t=!1){return t?(ee(),Te(Bt,null,e)):ve(Bt,null,e)}function fn(e){return e==null||typeof e=="boolean"?ve(Bt):Ce(e)?ve(Re,null,e.slice()):typeof e=="object"?$n(e):ve(Zr,null,String(e))}function $n(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:An(e)}function El(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ce(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),El(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(oo in t)?t._ctx=pt:s===3&&pt&&(pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xe(t)?(t={default:t,_ctx:pt},n=32):(t=String(t),r&64?(n=16,t=[Yi(t)]):n=8);e.children=t,e.shapeFlag|=n}function wt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=ye([t.class,r.class]));else if(s==="style")t.style=Ve([t.style,r.style]);else if(Vs(s)){const p=t[s],m=r[s];m&&p!==m&&!(Ce(p)&&p.includes(m))&&(t[s]=p?[].concat(p,m):m)}else s!==""&&(t[s]=r[s])}return t}function un(e,t,n,r=null){Ut(e,t,7,[n,r])}const Dm=Kh();let Im=0;function Fm(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Dm,p={uid:Im++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new fh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jh(r,s),emitsOptions:Dh(r,s),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:r.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=t?t.root:p,p.emit=Xv.bind(null,p),e.ce&&e.ce(p),p}let lt=null;const Rt=()=>lt||pt;let Pl,br,nu="__VUE_INSTANCE_SETTERS__";(br=ya()[nu])||(br=ya()[nu]=[]),br.push(e=>lt=e),Pl=e=>{br.length>1?br.forEach(t=>t(e)):br[0](e)};const Ir=e=>{Pl(e),e.scope.on()},ur=()=>{lt&&lt.scope.off(),Pl(null)};function sd(e){return e.vnode.shapeFlag&4}let Di=!1;function Lm(e,t=!1){Di=t;const{props:n,children:r}=e.vnode,s=sd(e);ym(e,n,s,t),Cm(e,r);const p=s?Bm(e,t):void 0;return Di=!1,p}function Bm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ms(new Proxy(e.ctx,fm));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?ad(e):null;Ir(e),Kr();const p=Vn(r,e,0,[e.props,s]);if(qr(),ur(),sh(p)){if(p.then(ur,ur),t)return p.then(m=>{ru(e,m,t)}).catch(m=>{Qs(m,e,0)});e.asyncDep=p}else ru(e,p,t)}else od(e,t)}function ru(e,t,n){xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Fe(t)&&(e.setupState=Ph(t)),od(e,n)}let iu;function od(e,t,n){const r=e.type;if(!e.render){if(!t&&iu&&!r.render){const s=r.template||Sl(e).template;if(s){const{isCustomElement:p,compilerOptions:m}=e.appContext.config,{delimiters:c,compilerOptions:i}=r,h=nt(nt({isCustomElement:p,delimiters:c},m),i);r.render=iu(s,h)}}e.render=r.render||bt}Ir(e),Kr(),hm(e),qr(),ur()}function jm(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Mt(e,"get","$attrs"),t[n]}}))}function ad(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return jm(e)},slots:e.slots,emit:e.emit,expose:t}}function ao(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ph(Ms(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in vi)return vi[n](e)},has(t,n){return n in t||n in vi}}))}function Nm(e,t=!0){return xe(e)?e.displayName||e.name:e.name||t&&e.__name}function zm(e){return xe(e)&&"__vccOpts"in e}const re=(e,t)=>Nv(e,t,Di);function kl(e,t,n){const r=arguments.length;return r===2?Fe(t)&&!Ce(t)?Dr(t)?ve(e,null,[t]):ve(e,t):ve(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Dr(n)&&(n=[n]),ve(e,t,n))}const $m=Symbol.for("v-scx"),Hm=()=>Pe($m),Um="3.3.4",Wm="http://www.w3.org/2000/svg",or=typeof document<"u"?document:null,su=or&&or.createElement("template"),Ym={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?or.createElementNS(Wm,e):or.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>or.createTextNode(e),createComment:e=>or.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>or.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,p){const m=n?n.previousSibling:t.lastChild;if(s&&(s===p||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===p||!(s=s.nextSibling)););else{su.innerHTML=r?`<svg>${e}</svg>`:e;const c=su.content;if(r){const i=c.firstChild;for(;i.firstChild;)c.appendChild(i.firstChild);c.removeChild(i)}t.insertBefore(c,n)}return[m?m.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Xm(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Vm(e,t,n){const r=e.style,s=je(n);if(n&&!s){if(t&&!je(t))for(const p in t)n[p]==null&&Ra(r,p,"");for(const p in n)Ra(r,p,n[p])}else{const p=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=p)}}const ou=/\s*!important$/;function Ra(e,t,n){if(Ce(n))n.forEach(r=>Ra(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Gm(e,t);ou.test(n)?e.setProperty(Gr(r),n.replace(ou,""),"important"):e[r]=n}}const au=["Webkit","Moz","ms"],zo={};function Gm(e,t){const n=zo[t];if(n)return n;let r=tn(t);if(r!=="filter"&&r in e)return zo[t]=r;r=qs(r);for(let s=0;s<au.length;s++){const p=au[s]+r;if(p in e)return zo[t]=p}return t}const lu="http://www.w3.org/1999/xlink";function Km(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(lu,t.slice(6,t.length)):e.setAttributeNS(lu,t,n);else{const p=nv(t);n==null||p&&!lh(n)?e.removeAttribute(t):e.setAttribute(t,p?"":n)}}function qm(e,t,n,r,s,p,m){if(t==="innerHTML"||t==="textContent"){r&&m(r,s,p),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=n;const h=c==="OPTION"?e.getAttribute("value"):e.value,f=n??"";h!==f&&(e.value=f),n==null&&e.removeAttribute(t);return}let i=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=lh(n):n==null&&h==="string"?(n="",i=!0):h==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(t)}function ld(e,t,n,r){e.addEventListener(t,n,r)}function Jm(e,t,n,r){e.removeEventListener(t,n,r)}function Zm(e,t,n,r,s=null){const p=e._vei||(e._vei={}),m=p[t];if(r&&m)m.value=r;else{const[c,i]=Qm(t);if(r){const h=p[t]=n0(r,s);ld(e,c,h,i)}else m&&(Jm(e,c,m,i),p[t]=void 0)}}const cu=/(?:Once|Passive|Capture)$/;function Qm(e){let t;if(cu.test(e)){t={};let r;for(;r=e.match(cu);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Gr(e.slice(2)),t]}let $o=0;const e0=Promise.resolve(),t0=()=>$o||(e0.then(()=>$o=0),$o=Date.now());function n0(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ut(r0(r,n.value),t,5,[r])};return n.value=e,n.attached=t0(),n}function r0(e,t){if(Ce(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const uu=/^on[a-z]/,i0=(e,t,n,r,s=!1,p,m,c,i)=>{t==="class"?Xm(e,r,s):t==="style"?Vm(e,n,r):Vs(t)?ll(t)||Zm(e,t,n,r,m):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):s0(e,t,r,s))?qm(e,t,r,p,m,c,i):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Km(e,t,r,s))};function s0(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&uu.test(t)&&xe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||uu.test(t)&&je(n)?!1:t in e}const Fn="transition",si="animation",_n=(e,{slots:t})=>kl(nm,o0(e),t);_n.displayName="Transition";const cd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};_n.props=nt({},Lh,cd);const tr=(e,t=[])=>{Ce(e)?e.forEach(n=>n(...t)):e&&e(...t)},fu=e=>e?Ce(e)?e.some(t=>t.length>1):e.length>1:!1;function o0(e){const t={};for(const H in e)H in cd||(t[H]=e[H]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:p=`${n}-enter-from`,enterActiveClass:m=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:i=p,appearActiveClass:h=m,appearToClass:f=c,leaveFromClass:o=`${n}-leave-from`,leaveActiveClass:l=`${n}-leave-active`,leaveToClass:a=`${n}-leave-to`}=e,u=a0(s),g=u&&u[0],d=u&&u[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:b,onLeave:y,onLeaveCancelled:w,onBeforeAppear:C=v,onAppear:S=_,onAppearCancelled:T=b}=t,j=(H,te,se)=>{nr(H,te?f:c),nr(H,te?h:m),se&&se()},W=(H,te)=>{H._isLeaving=!1,nr(H,o),nr(H,a),nr(H,l),te&&te()},V=H=>(te,se)=>{const le=H?S:_,ue=()=>j(te,H,se);tr(le,[te,ue]),hu(()=>{nr(te,H?i:p),Ln(te,H?f:c),fu(le)||du(te,r,g,ue)})};return nt(t,{onBeforeEnter(H){tr(v,[H]),Ln(H,p),Ln(H,m)},onBeforeAppear(H){tr(C,[H]),Ln(H,i),Ln(H,h)},onEnter:V(!1),onAppear:V(!0),onLeave(H,te){H._isLeaving=!0;const se=()=>W(H,te);Ln(H,o),u0(),Ln(H,l),hu(()=>{H._isLeaving&&(nr(H,o),Ln(H,a),fu(y)||du(H,r,d,se))}),tr(y,[H,se])},onEnterCancelled(H){j(H,!1),tr(b,[H])},onAppearCancelled(H){j(H,!0),tr(T,[H])},onLeaveCancelled(H){W(H),tr(w,[H])}})}function a0(e){if(e==null)return null;if(Fe(e))return[Ho(e.enter),Ho(e.leave)];{const t=Ho(e);return[t,t]}}function Ho(e){return Kg(e)}function Ln(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function nr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function hu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let l0=0;function du(e,t,n,r){const s=e._endId=++l0,p=()=>{s===e._endId&&r()};if(n)return setTimeout(p,n);const{type:m,timeout:c,propCount:i}=c0(e,t);if(!m)return r();const h=m+"end";let f=0;const o=()=>{e.removeEventListener(h,l),p()},l=a=>{a.target===e&&++f>=i&&o()};setTimeout(()=>{f<i&&o()},c+1),e.addEventListener(h,l)}function c0(e,t){const n=window.getComputedStyle(e),r=u=>(n[u]||"").split(", "),s=r(`${Fn}Delay`),p=r(`${Fn}Duration`),m=pu(s,p),c=r(`${si}Delay`),i=r(`${si}Duration`),h=pu(c,i);let f=null,o=0,l=0;t===Fn?m>0&&(f=Fn,o=m,l=p.length):t===si?h>0&&(f=si,o=h,l=i.length):(o=Math.max(m,h),f=o>0?m>h?Fn:si:null,l=f?f===Fn?p.length:i.length:0);const a=f===Fn&&/\b(transform|all)(,|$)/.test(r(`${Fn}Property`).toString());return{type:f,timeout:o,propCount:l,hasTransform:a}}function pu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>gu(n)+gu(e[r])))}function gu(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function u0(){return document.body.offsetHeight}const vu=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ce(t)?n=>_s(t,n):t},f0={deep:!0,created(e,t,n){e._assign=vu(n),ld(e,"change",()=>{const r=e._modelValue,s=h0(e),p=e.checked,m=e._assign;if(Ce(r)){const c=ch(r,s),i=c!==-1;if(p&&!i)m(r.concat(s));else if(!p&&i){const h=[...r];h.splice(c,1),m(h)}}else if(Gs(r)){const c=new Set(r);p?c.add(s):c.delete(s),m(c)}else m(ud(e,p))})},mounted:mu,beforeUpdate(e,t,n){e._assign=vu(n),mu(e,t,n)}};function mu(e,{value:t,oldValue:n},r){e._modelValue=t,Ce(t)?e.checked=ch(t,r.props.value)>-1:Gs(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Js(t,ud(e,!0)))}function h0(e){return"_value"in e?e._value:e.value}function ud(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const d0=["ctrl","shift","alt","meta"],p0={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>d0.some(n=>e[`${n}Key`]&&!t.includes(n))},Kn=(e,t)=>(n,...r)=>{for(let s=0;s<t.length;s++){const p=p0[t[s]];if(p&&p(n,t))return}return e(n,...r)},xt={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):oi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),oi(e,!0),r.enter(e)):r.leave(e,()=>{oi(e,!1)}):oi(e,t))},beforeUnmount(e,{value:t}){oi(e,t)}};function oi(e,t){e.style.display=t?e._vod:"none"}const g0=nt({patchProp:i0},Ym);let _u;function fd(){return _u||(_u=xm(g0))}const yu=(...e)=>{fd().render(...e)},v0=(...e)=>{const t=fd().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=m0(r);if(!s)return;const p=t._component;!xe(p)&&!p.render&&!p.template&&(p.template=s.innerHTML),s.innerHTML="";const m=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),m},t};function m0(e){return je(e)?document.querySelector(e):e}const vt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},_0={};function y0(e,t,n,r,s,p){const m=He("router-view");return ee(),Te(m)}const b0=vt(_0,[["render",y0]]);function w0(){return hd().__VUE_DEVTOOLS_GLOBAL_HOOK__}function hd(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const C0=typeof Proxy=="function",S0="devtools-plugin:setup",x0="plugin:settings:set";let wr,Da;function T0(){var e;return wr!==void 0||(typeof window<"u"&&window.performance?(wr=!0,Da=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(wr=!0,Da=global.perf_hooks.performance):wr=!1),wr}function O0(){return T0()?Da.now():Date.now()}class E0{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const m in t.settings){const c=t.settings[m];r[m]=c.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let p=Object.assign({},r);try{const m=localStorage.getItem(s),c=JSON.parse(m);Object.assign(p,c)}catch{}this.fallbacks={getSettings(){return p},setSettings(m){try{localStorage.setItem(s,JSON.stringify(m))}catch{}p=m},now(){return O0()}},n&&n.on(x0,(m,c)=>{m===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(m,c)=>this.target?this.target.on[c]:(...i)=>{this.onQueue.push({method:c,args:i})}}),this.proxiedTarget=new Proxy({},{get:(m,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...i)=>(this.targetQueue.push({method:c,args:i,resolve:()=>{}}),this.fallbacks[c](...i)):(...i)=>new Promise(h=>{this.targetQueue.push({method:c,args:i,resolve:h})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function P0(e,t){const n=e,r=hd(),s=w0(),p=C0&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!p))s.emit(S0,e,t);else{const m=p?new E0(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:m}),m&&t(m.proxiedTarget)}}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const xr=typeof window<"u";function k0(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ne=Object.assign;function Uo(e,t){const n={};for(const r in t){const s=t[r];n[r]=nn(s)?s.map(e):e(s)}return n}const yi=()=>{},nn=Array.isArray,A0=/\/$/,M0=e=>e.replace(A0,"");function Wo(e,t,n="/"){let r,s={},p="",m="";const c=t.indexOf("#");let i=t.indexOf("?");return c<i&&c>=0&&(i=-1),i>-1&&(r=t.slice(0,i),p=t.slice(i+1,c>-1?c:t.length),s=e(p)),c>-1&&(r=r||t.slice(0,c),m=t.slice(c,t.length)),r=F0(r??t,n),{fullPath:r+(p&&"?")+p+m,path:r,query:s,hash:m}}function R0(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function bu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function D0(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Fr(t.matched[r],n.matched[s])&&dd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Fr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function dd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!I0(e[n],t[n]))return!1;return!0}function I0(e,t){return nn(e)?wu(e,t):nn(t)?wu(t,e):e===t}function wu(e,t){return nn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function F0(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let p=n.length-1,m,c;for(m=0;m<r.length;m++)if(c=r[m],c!==".")if(c==="..")p>1&&p--;else break;return n.slice(0,p).join("/")+"/"+r.slice(m-(m===r.length?1:0)).join("/")}var Ii;(function(e){e.pop="pop",e.push="push"})(Ii||(Ii={}));var bi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(bi||(bi={}));function L0(e){if(!e)if(xr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),M0(e)}const B0=/^[^#]+#/;function j0(e,t){return e.replace(B0,"#")+t}function N0(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const lo=()=>({left:window.pageXOffset,top:window.pageYOffset});function z0(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=N0(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Cu(e,t){return(history.state?history.state.position-t:-1)+e}const Ia=new Map;function $0(e,t){Ia.set(e,t)}function H0(e){const t=Ia.get(e);return Ia.delete(e),t}let U0=()=>location.protocol+"//"+location.host;function pd(e,t){const{pathname:n,search:r,hash:s}=t,p=e.indexOf("#");if(p>-1){let c=s.includes(e.slice(p))?e.slice(p).length:1,i=s.slice(c);return i[0]!=="/"&&(i="/"+i),bu(i,"")}return bu(n,e)+r+s}function W0(e,t,n,r){let s=[],p=[],m=null;const c=({state:l})=>{const a=pd(e,location),u=n.value,g=t.value;let d=0;if(l){if(n.value=a,t.value=l,m&&m===u){m=null;return}d=g?l.position-g.position:0}else r(a);s.forEach(v=>{v(n.value,u,{delta:d,type:Ii.pop,direction:d?d>0?bi.forward:bi.back:bi.unknown})})};function i(){m=n.value}function h(l){s.push(l);const a=()=>{const u=s.indexOf(l);u>-1&&s.splice(u,1)};return p.push(a),a}function f(){const{history:l}=window;l.state&&l.replaceState(Ne({},l.state,{scroll:lo()}),"")}function o(){for(const l of p)l();p=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:i,listen:h,destroy:o}}function Su(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?lo():null}}function Y0(e){const{history:t,location:n}=window,r={value:pd(e,n)},s={value:t.state};s.value||p(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function p(i,h,f){const o=e.indexOf("#"),l=o>-1?(n.host&&document.querySelector("base")?e:e.slice(o))+i:U0()+e+i;try{t[f?"replaceState":"pushState"](h,"",l),s.value=h}catch(a){console.error(a),n[f?"replace":"assign"](l)}}function m(i,h){const f=Ne({},t.state,Su(s.value.back,i,s.value.forward,!0),h,{position:s.value.position});p(i,f,!0),r.value=i}function c(i,h){const f=Ne({},s.value,t.state,{forward:i,scroll:lo()});p(f.current,f,!0);const o=Ne({},Su(r.value,i,null),{position:f.position+1},h);p(i,o,!1),r.value=i}return{location:r,state:s,push:c,replace:m}}function X0(e){e=L0(e);const t=Y0(e),n=W0(e,t.state,t.location,t.replace);function r(p,m=!0){m||n.pauseListeners(),history.go(p)}const s=Ne({location:"",base:e,go:r,createHref:j0.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function V0(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),X0(e)}function G0(e){return typeof e=="string"||e&&typeof e=="object"}function gd(e){return typeof e=="string"||typeof e=="symbol"}const Bn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},vd=Symbol("");var xu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(xu||(xu={}));function Lr(e,t){return Ne(new Error,{type:e,[vd]:!0},t)}function Sn(e,t){return e instanceof Error&&vd in e&&(t==null||!!(e.type&t))}const Tu="[^/]+?",K0={sensitive:!1,strict:!1,start:!0,end:!0},q0=/[.+*?^${}()[\]/\\]/g;function J0(e,t){const n=Ne({},K0,t),r=[];let s=n.start?"^":"";const p=[];for(const h of e){const f=h.length?[]:[90];n.strict&&!h.length&&(s+="/");for(let o=0;o<h.length;o++){const l=h[o];let a=40+(n.sensitive?.25:0);if(l.type===0)o||(s+="/"),s+=l.value.replace(q0,"\\$&"),a+=40;else if(l.type===1){const{value:u,repeatable:g,optional:d,regexp:v}=l;p.push({name:u,repeatable:g,optional:d});const _=v||Tu;if(_!==Tu){a+=10;try{new RegExp(`(${_})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${u}" (${_}): `+y.message)}}let b=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;o||(b=d&&h.length<2?`(?:/${b})`:"/"+b),d&&(b+="?"),s+=b,a+=20,d&&(a+=-8),g&&(a+=-20),_===".*"&&(a+=-50)}f.push(a)}r.push(f)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const m=new RegExp(s,n.sensitive?"":"i");function c(h){const f=h.match(m),o={};if(!f)return null;for(let l=1;l<f.length;l++){const a=f[l]||"",u=p[l-1];o[u.name]=a&&u.repeatable?a.split("/"):a}return o}function i(h){let f="",o=!1;for(const l of e){(!o||!f.endsWith("/"))&&(f+="/"),o=!1;for(const a of l)if(a.type===0)f+=a.value;else if(a.type===1){const{value:u,repeatable:g,optional:d}=a,v=u in h?h[u]:"";if(nn(v)&&!g)throw new Error(`Provided param "${u}" is an array but it is not repeatable (* or + modifiers)`);const _=nn(v)?v.join("/"):v;if(!_)if(d)l.length<2&&(f.endsWith("/")?f=f.slice(0,-1):o=!0);else throw new Error(`Missing required param "${u}"`);f+=_}}return f||"/"}return{re:m,score:r,keys:p,parse:c,stringify:i}}function Z0(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Q0(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const p=Z0(r[n],s[n]);if(p)return p;n++}if(Math.abs(s.length-r.length)===1){if(Ou(r))return 1;if(Ou(s))return-1}return s.length-r.length}function Ou(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const e_={type:0,value:""},t_=/[a-zA-Z0-9_]/;function n_(e){if(!e)return[[]];if(e==="/")return[[e_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(a){throw new Error(`ERR (${n})/"${h}": ${a}`)}let n=0,r=n;const s=[];let p;function m(){p&&s.push(p),p=[]}let c=0,i,h="",f="";function o(){h&&(n===0?p.push({type:0,value:h}):n===1||n===2||n===3?(p.length>1&&(i==="*"||i==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),p.push({type:1,value:h,regexp:f,repeatable:i==="*"||i==="+",optional:i==="*"||i==="?"})):t("Invalid state to consume buffer"),h="")}function l(){h+=i}for(;c<e.length;){if(i=e[c++],i==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:i==="/"?(h&&o(),m()):i===":"?(o(),n=1):l();break;case 4:l(),n=r;break;case 1:i==="("?n=2:t_.test(i)?l():(o(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&c--);break;case 2:i===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+i:n=3:f+=i;break;case 3:o(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&c--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),o(),m(),s}function r_(e,t,n){const r=J0(n_(e.path),n),s=Ne(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function i_(e,t){const n=[],r=new Map;t=ku({strict:!1,end:!0,sensitive:!1},t);function s(f){return r.get(f)}function p(f,o,l){const a=!l,u=s_(f);u.aliasOf=l&&l.record;const g=ku(t,f),d=[u];if("alias"in f){const b=typeof f.alias=="string"?[f.alias]:f.alias;for(const y of b)d.push(Ne({},u,{components:l?l.record.components:u.components,path:y,aliasOf:l?l.record:u}))}let v,_;for(const b of d){const{path:y}=b;if(o&&y[0]!=="/"){const w=o.record.path,C=w[w.length-1]==="/"?"":"/";b.path=o.record.path+(y&&C+y)}if(v=r_(b,o,g),l?l.alias.push(v):(_=_||v,_!==v&&_.alias.push(v),a&&f.name&&!Pu(v)&&m(f.name)),u.children){const w=u.children;for(let C=0;C<w.length;C++)p(w[C],v,l&&l.children[C])}l=l||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&i(v)}return _?()=>{m(_)}:yi}function m(f){if(gd(f)){const o=r.get(f);o&&(r.delete(f),n.splice(n.indexOf(o),1),o.children.forEach(m),o.alias.forEach(m))}else{const o=n.indexOf(f);o>-1&&(n.splice(o,1),f.record.name&&r.delete(f.record.name),f.children.forEach(m),f.alias.forEach(m))}}function c(){return n}function i(f){let o=0;for(;o<n.length&&Q0(f,n[o])>=0&&(f.record.path!==n[o].record.path||!md(f,n[o]));)o++;n.splice(o,0,f),f.record.name&&!Pu(f)&&r.set(f.record.name,f)}function h(f,o){let l,a={},u,g;if("name"in f&&f.name){if(l=r.get(f.name),!l)throw Lr(1,{location:f});g=l.record.name,a=Ne(Eu(o.params,l.keys.filter(_=>!_.optional).map(_=>_.name)),f.params&&Eu(f.params,l.keys.map(_=>_.name))),u=l.stringify(a)}else if("path"in f)u=f.path,l=n.find(_=>_.re.test(u)),l&&(a=l.parse(u),g=l.record.name);else{if(l=o.name?r.get(o.name):n.find(_=>_.re.test(o.path)),!l)throw Lr(1,{location:f,currentLocation:o});g=l.record.name,a=Ne({},o.params,f.params),u=l.stringify(a)}const d=[];let v=l;for(;v;)d.unshift(v.record),v=v.parent;return{name:g,path:u,params:a,matched:d,meta:a_(d)}}return e.forEach(f=>p(f)),{addRoute:p,resolve:h,removeRoute:m,getRoutes:c,getRecordMatcher:s}}function Eu(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function s_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:o_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function o_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Pu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function a_(e){return e.reduce((t,n)=>Ne(t,n.meta),{})}function ku(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function md(e,t){return t.children.some(n=>n===e||md(e,n))}const _d=/#/g,l_=/&/g,c_=/\//g,u_=/=/g,f_=/\?/g,yd=/\+/g,h_=/%5B/g,d_=/%5D/g,bd=/%5E/g,p_=/%60/g,wd=/%7B/g,g_=/%7C/g,Cd=/%7D/g,v_=/%20/g;function Al(e){return encodeURI(""+e).replace(g_,"|").replace(h_,"[").replace(d_,"]")}function m_(e){return Al(e).replace(wd,"{").replace(Cd,"}").replace(bd,"^")}function Fa(e){return Al(e).replace(yd,"%2B").replace(v_,"+").replace(_d,"%23").replace(l_,"%26").replace(p_,"`").replace(wd,"{").replace(Cd,"}").replace(bd,"^")}function __(e){return Fa(e).replace(u_,"%3D")}function y_(e){return Al(e).replace(_d,"%23").replace(f_,"%3F")}function b_(e){return e==null?"":y_(e).replace(c_,"%2F")}function Fs(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function w_(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const p=r[s].replace(yd," "),m=p.indexOf("="),c=Fs(m<0?p:p.slice(0,m)),i=m<0?null:Fs(p.slice(m+1));if(c in t){let h=t[c];nn(h)||(h=t[c]=[h]),h.push(i)}else t[c]=i}return t}function Au(e){let t="";for(let n in e){const r=e[n];if(n=__(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(nn(r)?r.map(p=>p&&Fa(p)):[r&&Fa(r)]).forEach(p=>{p!==void 0&&(t+=(t.length?"&":"")+n,p!=null&&(t+="="+p))})}return t}function C_(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=nn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const S_=Symbol(""),Mu=Symbol(""),Ml=Symbol(""),Sd=Symbol(""),La=Symbol("");function ai(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Hn(e,t,n,r,s){const p=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((m,c)=>{const i=o=>{o===!1?c(Lr(4,{from:n,to:t})):o instanceof Error?c(o):G0(o)?c(Lr(2,{from:t,to:o})):(p&&r.enterCallbacks[s]===p&&typeof o=="function"&&p.push(o),m())},h=e.call(r&&r.instances[s],t,n,i);let f=Promise.resolve(h);e.length<3&&(f=f.then(i)),f.catch(o=>c(o))})}function Yo(e,t,n,r){const s=[];for(const p of e)for(const m in p.components){let c=p.components[m];if(!(t!=="beforeRouteEnter"&&!p.instances[m]))if(x_(c)){const h=(c.__vccOpts||c)[t];h&&s.push(Hn(h,n,r,p,m))}else{let i=c();s.push(()=>i.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${m}" at "${p.path}"`));const f=k0(h)?h.default:h;p.components[m]=f;const l=(f.__vccOpts||f)[t];return l&&Hn(l,n,r,p,m)()}))}}return s}function x_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ru(e){const t=Pe(Ml),n=Pe(Sd),r=re(()=>t.resolve(A(e.to))),s=re(()=>{const{matched:i}=r.value,{length:h}=i,f=i[h-1],o=n.matched;if(!f||!o.length)return-1;const l=o.findIndex(Fr.bind(null,f));if(l>-1)return l;const a=Du(i[h-2]);return h>1&&Du(f)===a&&o[o.length-1].path!==a?o.findIndex(Fr.bind(null,i[h-2])):l}),p=re(()=>s.value>-1&&P_(n.params,r.value.params)),m=re(()=>s.value>-1&&s.value===n.matched.length-1&&dd(n.params,r.value.params));function c(i={}){return E_(i)?t[A(e.replace)?"replace":"push"](A(e.to)).catch(yi):Promise.resolve()}return{route:r,href:re(()=>r.value.href),isActive:p,isExactActive:m,navigate:c}}const T_=Oe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ru,setup(e,{slots:t}){const n=pr(Ru(e)),{options:r}=Pe(Ml),s=re(()=>({[Iu(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Iu(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const p=t.default&&t.default(n);return e.custom?p:kl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},p)}}}),O_=T_;function E_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function P_(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!nn(s)||s.length!==r.length||r.some((p,m)=>p!==s[m]))return!1}return!0}function Du(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Iu=(e,t,n)=>e??t??n,k_=Oe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Pe(La),s=re(()=>e.route||r.value),p=Pe(Mu,0),m=re(()=>{let h=A(p);const{matched:f}=s.value;let o;for(;(o=f[h])&&!o.components;)h++;return h}),c=re(()=>s.value.matched[m.value]);Je(Mu,re(()=>m.value+1)),Je(S_,c),Je(La,s);const i=fe();return Ae(()=>[i.value,c.value,e.name],([h,f,o],[l,a,u])=>{f&&(f.instances[o]=h,a&&a!==f&&h&&h===l&&(f.leaveGuards.size||(f.leaveGuards=a.leaveGuards),f.updateGuards.size||(f.updateGuards=a.updateGuards))),h&&f&&(!a||!Fr(f,a)||!l)&&(f.enterCallbacks[o]||[]).forEach(g=>g(h))},{flush:"post"}),()=>{const h=s.value,f=e.name,o=c.value,l=o&&o.components[f];if(!l)return Fu(n.default,{Component:l,route:h});const a=o.props[f],u=a?a===!0?h.params:typeof a=="function"?a(h):a:null,d=kl(l,Ne({},u,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(o.instances[f]=null)},ref:i}));return Fu(n.default,{Component:d,route:h})||d}}});function Fu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const A_=k_;function M_(e){const t=i_(e.routes,e),n=e.parseQuery||w_,r=e.stringifyQuery||Au,s=e.history,p=ai(),m=ai(),c=ai(),i=En(Bn);let h=Bn;xr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Uo.bind(null,M=>""+M),o=Uo.bind(null,b_),l=Uo.bind(null,Fs);function a(M,L){let z,q;return gd(M)?(z=t.getRecordMatcher(M),q=L):q=M,t.addRoute(q,z)}function u(M){const L=t.getRecordMatcher(M);L&&t.removeRoute(L)}function g(){return t.getRoutes().map(M=>M.record)}function d(M){return!!t.getRecordMatcher(M)}function v(M,L){if(L=Ne({},L||i.value),typeof M=="string"){const P=Wo(n,M,L.path),B=t.resolve({path:P.path},L),$=s.createHref(P.fullPath);return Ne(P,B,{params:l(B.params),hash:Fs(P.hash),redirectedFrom:void 0,href:$})}let z;if("path"in M)z=Ne({},M,{path:Wo(n,M.path,L.path).path});else{const P=Ne({},M.params);for(const B in P)P[B]==null&&delete P[B];z=Ne({},M,{params:o(P)}),L.params=o(L.params)}const q=t.resolve(z,L),oe=M.hash||"";q.params=f(l(q.params));const k=R0(r,Ne({},M,{hash:m_(oe),path:q.path})),O=s.createHref(k);return Ne({fullPath:k,hash:oe,query:r===Au?C_(M.query):M.query||{}},q,{redirectedFrom:void 0,href:O})}function _(M){return typeof M=="string"?Wo(n,M,i.value.path):Ne({},M)}function b(M,L){if(h!==M)return Lr(8,{from:L,to:M})}function y(M){return S(M)}function w(M){return y(Ne(_(M),{replace:!0}))}function C(M){const L=M.matched[M.matched.length-1];if(L&&L.redirect){const{redirect:z}=L;let q=typeof z=="function"?z(M):z;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=_(q):{path:q},q.params={}),Ne({query:M.query,hash:M.hash,params:"path"in q?{}:M.params},q)}}function S(M,L){const z=h=v(M),q=i.value,oe=M.state,k=M.force,O=M.replace===!0,P=C(z);if(P)return S(Ne(_(P),{state:typeof P=="object"?Ne({},oe,P.state):oe,force:k,replace:O}),L||z);const B=z;B.redirectedFrom=L;let $;return!k&&D0(r,q,z)&&($=Lr(16,{to:B,from:q}),F(q,q,!0,!1)),($?Promise.resolve($):W(B,q)).catch(N=>Sn(N)?Sn(N,2)?N:D(N):K(N,B,q)).then(N=>{if(N){if(Sn(N,2))return S(Ne({replace:O},_(N.to),{state:typeof N.to=="object"?Ne({},oe,N.to.state):oe,force:k}),L||B)}else N=H(B,q,!0,O,oe);return V(B,q,N),N})}function T(M,L){const z=b(M,L);return z?Promise.reject(z):Promise.resolve()}function j(M){const L=R.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(M):M()}function W(M,L){let z;const[q,oe,k]=R_(M,L);z=Yo(q.reverse(),"beforeRouteLeave",M,L);for(const P of q)P.leaveGuards.forEach(B=>{z.push(Hn(B,M,L))});const O=T.bind(null,M,L);return z.push(O),U(z).then(()=>{z=[];for(const P of p.list())z.push(Hn(P,M,L));return z.push(O),U(z)}).then(()=>{z=Yo(oe,"beforeRouteUpdate",M,L);for(const P of oe)P.updateGuards.forEach(B=>{z.push(Hn(B,M,L))});return z.push(O),U(z)}).then(()=>{z=[];for(const P of k)if(P.beforeEnter)if(nn(P.beforeEnter))for(const B of P.beforeEnter)z.push(Hn(B,M,L));else z.push(Hn(P.beforeEnter,M,L));return z.push(O),U(z)}).then(()=>(M.matched.forEach(P=>P.enterCallbacks={}),z=Yo(k,"beforeRouteEnter",M,L),z.push(O),U(z))).then(()=>{z=[];for(const P of m.list())z.push(Hn(P,M,L));return z.push(O),U(z)}).catch(P=>Sn(P,8)?P:Promise.reject(P))}function V(M,L,z){c.list().forEach(q=>j(()=>q(M,L,z)))}function H(M,L,z,q,oe){const k=b(M,L);if(k)return k;const O=L===Bn,P=xr?history.state:{};z&&(q||O?s.replace(M.fullPath,Ne({scroll:O&&P&&P.scroll},oe)):s.push(M.fullPath,oe)),i.value=M,F(M,L,z,O),D()}let te;function se(){te||(te=s.listen((M,L,z)=>{if(!E.listening)return;const q=v(M),oe=C(q);if(oe){S(Ne(oe,{replace:!0}),q).catch(yi);return}h=q;const k=i.value;xr&&$0(Cu(k.fullPath,z.delta),lo()),W(q,k).catch(O=>Sn(O,12)?O:Sn(O,2)?(S(O.to,q).then(P=>{Sn(P,20)&&!z.delta&&z.type===Ii.pop&&s.go(-1,!1)}).catch(yi),Promise.reject()):(z.delta&&s.go(-z.delta,!1),K(O,q,k))).then(O=>{O=O||H(q,k,!1),O&&(z.delta&&!Sn(O,8)?s.go(-z.delta,!1):z.type===Ii.pop&&Sn(O,20)&&s.go(-1,!1)),V(q,k,O)}).catch(yi)}))}let le=ai(),ue=ai(),X;function K(M,L,z){D(M);const q=ue.list();return q.length?q.forEach(oe=>oe(M,L,z)):console.error(M),Promise.reject(M)}function x(){return X&&i.value!==Bn?Promise.resolve():new Promise((M,L)=>{le.add([M,L])})}function D(M){return X||(X=!M,se(),le.list().forEach(([L,z])=>M?z(M):L()),le.reset()),M}function F(M,L,z,q){const{scrollBehavior:oe}=e;if(!xr||!oe)return Promise.resolve();const k=!z&&H0(Cu(M.fullPath,0))||(q||!z)&&history.state&&history.state.scroll||null;return at().then(()=>oe(M,L,k)).then(O=>O&&z0(O)).catch(O=>K(O,M,L))}const I=M=>s.go(M);let Q;const R=new Set,E={currentRoute:i,listening:!0,addRoute:a,removeRoute:u,hasRoute:d,getRoutes:g,resolve:v,options:e,push:y,replace:w,go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:p.add,beforeResolve:m.add,afterEach:c.add,onError:ue.add,isReady:x,install(M){const L=this;M.component("RouterLink",O_),M.component("RouterView",A_),M.config.globalProperties.$router=L,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>A(i)}),xr&&!Q&&i.value===Bn&&(Q=!0,y(s.location).catch(oe=>{}));const z={};for(const oe in Bn)Object.defineProperty(z,oe,{get:()=>i.value[oe],enumerable:!0});M.provide(Ml,L),M.provide(Sd,vl(z)),M.provide(La,i);const q=M.unmount;R.add(M),M.unmount=function(){R.delete(M),R.size<1&&(h=Bn,te&&te(),te=null,i.value=Bn,Q=!1,X=!1),q()}}};function U(M){return M.reduce((L,z)=>L.then(()=>j(z)),Promise.resolve())}return E}function R_(e,t){const n=[],r=[],s=[],p=Math.max(t.matched.length,e.matched.length);for(let m=0;m<p;m++){const c=t.matched[m];c&&(e.matched.find(h=>Fr(h,c))?r.push(c):n.push(c));const i=e.matched[m];i&&(t.matched.find(h=>Fr(h,i))||s.push(i))}return[n,r,s]}const D_="/vue-design-editor/assets/module-close-b3f3c06c.svg";/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var xd="store";function gr(e){return e===void 0&&(e=null),Pe(e!==null?e:xd)}function Qr(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function I_(e){return e!==null&&typeof e=="object"}function F_(e){return e&&typeof e.then=="function"}function L_(e,t){return function(){return e(t)}}function Td(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function Od(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;co(e,n,[],e._modules.root,!0),Rl(e,n,t)}function Rl(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var p=e._wrappedGetters,m={},c={},i=hh(!0);i.run(function(){Qr(p,function(h,f){m[f]=L_(h,e),c[f]=re(function(){return m[f]()}),Object.defineProperty(e.getters,f,{get:function(){return c[f].value},enumerable:!0})})}),e._state=pr({data:t}),e._scope=i,e.strict&&$_(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function co(e,t,n,r,s){var p=!n.length,m=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[m],e._modulesNamespaceMap[m]=r),!p&&!s){var c=Dl(t,n.slice(0,-1)),i=n[n.length-1];e._withCommit(function(){c[i]=r.state})}var h=r.context=B_(e,m,n);r.forEachMutation(function(f,o){var l=m+o;j_(e,l,f,h)}),r.forEachAction(function(f,o){var l=f.root?o:m+o,a=f.handler||f;N_(e,l,a,h)}),r.forEachGetter(function(f,o){var l=m+o;z_(e,l,f,h)}),r.forEachChild(function(f,o){co(e,t,n.concat(o),f,s)})}function B_(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(p,m,c){var i=Ls(p,m,c),h=i.payload,f=i.options,o=i.type;return(!f||!f.root)&&(o=t+o),e.dispatch(o,h)},commit:r?e.commit:function(p,m,c){var i=Ls(p,m,c),h=i.payload,f=i.options,o=i.type;(!f||!f.root)&&(o=t+o),e.commit(o,h,f)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return Ed(e,t)}},state:{get:function(){return Dl(e.state,n)}}}),s}function Ed(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var p=s.slice(r);Object.defineProperty(n,p,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function j_(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(m){n.call(e,r.state,m)})}function N_(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(m){var c=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},m);return F_(c)||(c=Promise.resolve(c)),e._devtoolHook?c.catch(function(i){throw e._devtoolHook.emit("vuex:error",i),i}):c})}function z_(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(p){return n(r.state,r.getters,p.state,p.getters)})}function $_(e){Ae(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Dl(e,t){return t.reduce(function(n,r){return n[r]},e)}function Ls(e,t,n){return I_(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var H_="vuex bindings",Lu="vuex:mutations",Xo="vuex:actions",Cr="vuex",U_=0;function W_(e,t){P0({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[H_]},function(n){n.addTimelineLayer({id:Lu,label:"Vuex Mutations",color:Bu}),n.addTimelineLayer({id:Xo,label:"Vuex Actions",color:Bu}),n.addInspector({id:Cr,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===Cr)if(r.filter){var s=[];Md(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[Ad(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===Cr){var s=r.nodeId;Ed(t,s),r.state=V_(K_(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===Cr){var s=r.nodeId,p=r.path;s!=="root"&&(p=s.split("/").filter(Boolean).concat(p)),t._withCommit(function(){r.set(t._state.data,p,r.state.value)})}}),t.subscribe(function(r,s){var p={};r.payload&&(p.payload=r.payload),p.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Cr),n.sendInspectorState(Cr),n.addTimelineEvent({layerId:Lu,event:{time:Date.now(),title:r.type,data:p}})}),t.subscribeAction({before:function(r,s){var p={};r.payload&&(p.payload=r.payload),r._id=U_++,r._time=Date.now(),p.state=s,n.addTimelineEvent({layerId:Xo,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:p}})},after:function(r,s){var p={},m=Date.now()-r._time;p.duration={_custom:{type:"duration",display:m+"ms",tooltip:"Action duration",value:m}},r.payload&&(p.payload=r.payload),p.state=s,n.addTimelineEvent({layerId:Xo,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:p}})}})})}var Bu=8702998,Y_=6710886,X_=16777215,Pd={label:"namespaced",textColor:X_,backgroundColor:Y_};function kd(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function Ad(e,t){return{id:t||"root",label:kd(t),tags:e.namespaced?[Pd]:[],children:Object.keys(e._children).map(function(n){return Ad(e._children[n],t+n+"/")})}}function Md(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[Pd]:[]}),Object.keys(t._children).forEach(function(s){Md(e,t._children[s],n,r+s+"/")})}function V_(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(m){return{key:m,editable:!0,value:e.state[m]}})};if(r.length){var p=G_(t);s.getters=Object.keys(p).map(function(m){return{key:m.endsWith("/")?kd(m):m,editable:!1,value:Ba(function(){return p[m]})}})}return s}function G_(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,p=r.pop();r.forEach(function(m){s[m]||(s[m]={_custom:{value:{},display:m,tooltip:"Module",abstract:!0}}),s=s[m]._custom.value}),s[p]=Ba(function(){return e[n]})}else t[n]=Ba(function(){return e[n]})}),t}function K_(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,p){var m=r[s];if(!m)throw new Error('Missing module "'+s+'" for path "'+t+'".');return p===n.length-1?m:m._children},t==="root"?e:e.root._children)}function Ba(e){try{return e()}catch(t){return t}}var rn=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},Rd={namespaced:{configurable:!0}};Rd.namespaced.get=function(){return!!this._rawModule.namespaced};rn.prototype.addChild=function(t,n){this._children[t]=n};rn.prototype.removeChild=function(t){delete this._children[t]};rn.prototype.getChild=function(t){return this._children[t]};rn.prototype.hasChild=function(t){return t in this._children};rn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};rn.prototype.forEachChild=function(t){Qr(this._children,t)};rn.prototype.forEachGetter=function(t){this._rawModule.getters&&Qr(this._rawModule.getters,t)};rn.prototype.forEachAction=function(t){this._rawModule.actions&&Qr(this._rawModule.actions,t)};rn.prototype.forEachMutation=function(t){this._rawModule.mutations&&Qr(this._rawModule.mutations,t)};Object.defineProperties(rn.prototype,Rd);var vr=function(t){this.register([],t,!1)};vr.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};vr.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};vr.prototype.update=function(t){Dd([],this.root,t)};vr.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var p=new rn(n,r);if(t.length===0)this.root=p;else{var m=this.get(t.slice(0,-1));m.addChild(t[t.length-1],p)}n.modules&&Qr(n.modules,function(c,i){s.register(t.concat(i),c,r)})};vr.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};vr.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function Dd(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;Dd(e.concat(r),t.getChild(r),n.modules[r])}}function q_(e){return new Dt(e)}var Dt=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var p=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new vr(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=p;var m=this,c=this,i=c.dispatch,h=c.commit;this.dispatch=function(l,a){return i.call(m,l,a)},this.commit=function(l,a,u){return h.call(m,l,a,u)},this.strict=s;var f=this._modules.root.state;co(this,f,[],this._modules.root),Rl(this,f),r.forEach(function(o){return o(n)})},Il={state:{configurable:!0}};Dt.prototype.install=function(t,n){t.provide(n||xd,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&W_(t,this)};Il.state.get=function(){return this._state.data};Il.state.set=function(e){};Dt.prototype.commit=function(t,n,r){var s=this,p=Ls(t,n,r),m=p.type,c=p.payload,i={type:m,payload:c},h=this._mutations[m];h&&(this._withCommit(function(){h.forEach(function(o){o(c)})}),this._subscribers.slice().forEach(function(f){return f(i,s.state)}))};Dt.prototype.dispatch=function(t,n){var r=this,s=Ls(t,n),p=s.type,m=s.payload,c={type:p,payload:m},i=this._actions[p];if(i){try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(c,r.state)})}catch{}var h=i.length>1?Promise.all(i.map(function(f){return f(m)})):i[0](m);return new Promise(function(f,o){h.then(function(l){try{r._actionSubscribers.filter(function(a){return a.after}).forEach(function(a){return a.after(c,r.state)})}catch{}f(l)},function(l){try{r._actionSubscribers.filter(function(a){return a.error}).forEach(function(a){return a.error(c,r.state,l)})}catch{}o(l)})})}};Dt.prototype.subscribe=function(t,n){return Td(t,this._subscribers,n)};Dt.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return Td(r,this._actionSubscribers,n)};Dt.prototype.watch=function(t,n,r){var s=this;return Ae(function(){return t(s.state,s.getters)},n,Object.assign({},r))};Dt.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Dt.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),co(this,this.state,t,this._modules.get(t),r.preserveState),Rl(this,this.state)};Dt.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=Dl(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),Od(this)};Dt.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Dt.prototype.hotUpdate=function(t){this._modules.update(t),Od(this,!0)};Dt.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Dt.prototype,Il);const J_={class:"material-editor-header"},Z_={class:"material-editor-content"},Q_={class:"material-editor-framework-left"},Vo=313,Go=265,Ko=72,ey=Oe({__name:"Framework",setup(e){const{state:t,commit:n}=gr(),r=fe(),s=fe({module:Ko,left:Vo,center:window.document.body.clientWidth-Vo-Go-Ko,right:Go}),p=re(()=>t.activeModule),m=re(()=>t.isClose),c=re(()=>p.value&&!p.value.drag&&JSON.stringify(p.value)!="{}");Ge(()=>{s.value.center=r.value.offsetWidth-Vo-Go-Ko});function i(f){n("setClose",f)}async function h(){i(!0),n("setActiveModule",null)}return(f,o)=>{const l=He("el-tooltip");return ee(),he("div",{class:"material-editor",ref_key:"editor",ref:r},[ie("div",J_,[Ee(f.$slots,"header",{},void 0,!0)]),ie("div",Z_,[ie("div",{class:"material-editor-framework-module",style:Ve(`width:${s.value.module}px`)},[Ee(f.$slots,"module",{},void 0,!0)],4),ie("div",{class:ye(["material-editor-framework--collapsed",[!c.value||m.value?"material-editor-framework-transition":""]]),style:Ve({width:`${s.value.left}px`,"--width":-s.value.left+"px"})},[ie("div",Q_,[Ee(f.$slots,"left",{},void 0,!0)]),ve(l,{class:"item",effect:"dark",content:"关闭侧边栏",placement:"right"},{default:_e(()=>[dt(ie("img",{src:D_,class:"material-editor-framework-close",onClick:h,alt:""},null,512),[[xt,s.value.left!=0&&!m.value]])]),_:1})],6),ie("div",{class:"material-editor-framework-center",style:Ve(`width:${s.value.center}px`)},[Ee(f.$slots,"navlist",{},void 0,!0),Ee(f.$slots,"workspace",{},void 0,!0)],4),ie("div",{class:"material-editor-framework-right",style:Ve(`width:${s.value.right}px`)},[Ee(f.$slots,"color",{},void 0,!0),Ee(f.$slots,"propsPanel",{},void 0,!0)],4)])],512)}}});const ty=vt(ey,[["__scopeId","data-v-755bb6ef"]]),ny=[{type:"add",text:"添加",drag:!1,icon:"icon-tianjia"},{type:"template",text:"模板",drag:!1,icon:"icon-templet-"},{type:"material",text:"素材",drag:!1,show:!0,icon:"icon-xingzhuang",fileType:["jpg","png","gif","svg"]},{type:"text",text:"文字",drag:!1,icon:"icon-text",options:{type:"FontCustom",text:"",width:60,height:30,fontSize:32,name:"New text"}},{type:"Image",text:"图片",drag:!1,icon:"icon-editor-background",fileType:["jpg","png","gif","svg"]},{type:"Video",text:"视频",drag:!1,icon:"icon-shipinbofang",fileType:["mp4"]},{type:"qrcode",text:"二维码",drag:!1,icon:"icon-erweima1"}];const ry={setup(){const e=fe(ny),{state:t,commit:n}=gr(),r=re(()=>t.activeModule),s=re(()=>t.isClose);function p(c){n("setClose",c)}function m(c){n("setActiveModule",c)}return e.value.find(c=>{c.show&&(m(c),p(!1))}),{modulelist:e,activeModule:r,isClose:s,setActiveModule:m,selectModule(c){r.value&&c.type==r.value.type&&!c.drag?(p(!s.value),m(null)):(["text","qrcode"].includes(c.type)?p(!0):p(!1),m(c))}}}},iy={class:"module-aside-body"},sy=["onClick"];function oy(e,t,n,r,s,p){return ee(),he("div",iy,[(ee(!0),he(Re,null,ht(r.modulelist,(m,c)=>(ee(),he("button",{class:ye(["module-aside-button",r.activeModule&&r.activeModule.type==m.type?"actived":""]),key:c,onClick:i=>r.selectModule(m)},[ie("i",{class:ye([m.icon,"iconfont"])},null,2),ie("span",null,ze(m.text),1)],10,sy))),128))])}const ay=vt(ry,[["render",oy],["__scopeId","data-v-5f6581ef"]]),ly="/vue-design-editor/assets/upload-d3fb70fb.svg",cy="/vue-design-editor/assets/h1-10d7bd47.svg",uy="/vue-design-editor/assets/h2-ac35d909.svg",fy="/vue-design-editor/assets/Aa-91318e82.svg",hy="/vue-design-editor/assets/3d-4a45aac9.svg",dy="/vue-design-editor/assets/square-b13ef26e.svg",py="/vue-design-editor/assets/triangle-c58cdec2.svg",gy="/vue-design-editor/assets/circle-7da04343.svg",vy="/vue-design-editor/assets/line-146dd10e.svg",my="/vue-design-editor/assets/qrcode-2cb253f0.svg",_y=[{type:"image",title:"图片/视频/psd",list:[{type:"upload",icon:ly,title:"本地上传"}]},{type:"text",title:"文字",list:[{type:"h1",icon:cy,title:"标题"},{type:"h2",icon:uy,title:"副标题"},{type:"Aa",icon:fy,title:"正文"},{type:"Aa",icon:hy,title:"3D文字"}]},{type:"shape",title:"形状",list:[{type:"square",icon:dy},{type:"triangle",icon:py},{type:"circle",icon:gy},{type:"line",icon:vy}]},{type:"component",title:"组件",list:[{type:"qrcode",icon:my,title:"二维码"}]}],yy=[{title:"卡通",interval:[460,489]},{title:"水果",interval:[386,409]},{title:"体育",interval:[410,459]},{title:"秋天",interval:[40,49]},{title:"icons"},{title:"计算机",interval:[50,75]},{title:"卡通水果",interval:[76,89]},{title:"服饰",interval:[89,136]},{title:"旗子",interval:[137,151]},{title:"树木",interval:[152,181]},{title:"食物",interval:[182,201]},{title:"服饰",interval:[202,222]},{title:"奖牌",interval:[223,252]},{title:"商务",interval:[253,261]},{title:"活动",interval:[262,270]},{title:"卡通水果",interval:[271,300]},{title:"复古",interval:[301,350]},{title:"卡通",interval:[351,385]},{title:"动物",interval:[490,519]}];/*! Element Plus Icons Vue v2.1.0 */var Qe=(e,t)=>{let n=e.__vccOpts||e;for(let[r,s]of t)n[r]=s;return n},by={name:"ArrowDown"},wy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Cy=ie("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),Sy=[Cy];function xy(e,t,n,r,s,p){return ee(),he("svg",wy,Sy)}var Fl=Qe(by,[["render",xy],["__file","arrow-down.vue"]]),Ty={name:"ArrowLeft"},Oy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ey=ie("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),Py=[Ey];function ky(e,t,n,r,s,p){return ee(),he("svg",Oy,Py)}var Id=Qe(Ty,[["render",ky],["__file","arrow-left.vue"]]),Ay={name:"ArrowRight"},My={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ry=ie("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),Dy=[Ry];function Iy(e,t,n,r,s,p){return ee(),he("svg",My,Dy)}var Fy=Qe(Ay,[["render",Iy],["__file","arrow-right.vue"]]),Ly={name:"ArrowUp"},By={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},jy=ie("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),Ny=[jy];function zy(e,t,n,r,s,p){return ee(),he("svg",By,Ny)}var $y=Qe(Ly,[["render",zy],["__file","arrow-up.vue"]]),Hy={name:"CircleCheck"},Uy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Wy=ie("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Yy=ie("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),Xy=[Wy,Yy];function Vy(e,t,n,r,s,p){return ee(),he("svg",Uy,Xy)}var Gy=Qe(Hy,[["render",Vy],["__file","circle-check.vue"]]),Ky={name:"CircleCloseFilled"},qy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Jy=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),Zy=[Jy];function Qy(e,t,n,r,s,p){return ee(),he("svg",qy,Zy)}var Fd=Qe(Ky,[["render",Qy],["__file","circle-close-filled.vue"]]),eb={name:"CircleClose"},tb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nb=ie("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),rb=ie("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),ib=[nb,rb];function sb(e,t,n,r,s,p){return ee(),he("svg",tb,ib)}var Ld=Qe(eb,[["render",sb],["__file","circle-close.vue"]]),ob={name:"Close"},ab={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lb=ie("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),cb=[lb];function ub(e,t,n,r,s,p){return ee(),he("svg",ab,cb)}var Bd=Qe(ob,[["render",ub],["__file","close.vue"]]),fb={name:"FullScreen"},hb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},db=ie("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),pb=[db];function gb(e,t,n,r,s,p){return ee(),he("svg",hb,pb)}var vb=Qe(fb,[["render",gb],["__file","full-screen.vue"]]),mb={name:"Hide"},_b={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yb=ie("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),bb=ie("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),wb=[yb,bb];function Cb(e,t,n,r,s,p){return ee(),he("svg",_b,wb)}var Sb=Qe(mb,[["render",Cb],["__file","hide.vue"]]),xb={name:"InfoFilled"},Tb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ob=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),Eb=[Ob];function Pb(e,t,n,r,s,p){return ee(),he("svg",Tb,Eb)}var jd=Qe(xb,[["render",Pb],["__file","info-filled.vue"]]),kb={name:"Loading"},Ab={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Mb=ie("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),Rb=[Mb];function Db(e,t,n,r,s,p){return ee(),he("svg",Ab,Rb)}var Nd=Qe(kb,[["render",Db],["__file","loading.vue"]]),Ib={name:"RefreshLeft"},Fb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Lb=ie("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),Bb=[Lb];function jb(e,t,n,r,s,p){return ee(),he("svg",Fb,Bb)}var Nb=Qe(Ib,[["render",jb],["__file","refresh-left.vue"]]),zb={name:"RefreshRight"},$b={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Hb=ie("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),Ub=[Hb];function Wb(e,t,n,r,s,p){return ee(),he("svg",$b,Ub)}var Yb=Qe(zb,[["render",Wb],["__file","refresh-right.vue"]]),Xb={name:"ScaleToOriginal"},Vb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Gb=ie("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),Kb=[Gb];function qb(e,t,n,r,s,p){return ee(),he("svg",Vb,Kb)}var Jb=Qe(Xb,[["render",qb],["__file","scale-to-original.vue"]]),Zb={name:"Select"},Qb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ew=ie("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"},null,-1),tw=[ew];function nw(e,t,n,r,s,p){return ee(),he("svg",Qb,tw)}var qo=Qe(Zb,[["render",nw],["__file","select.vue"]]),rw={name:"SuccessFilled"},iw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sw=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),ow=[sw];function aw(e,t,n,r,s,p){return ee(),he("svg",iw,ow)}var zd=Qe(rw,[["render",aw],["__file","success-filled.vue"]]),lw={name:"View"},cw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uw=ie("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),fw=[uw];function hw(e,t,n,r,s,p){return ee(),he("svg",cw,fw)}var dw=Qe(lw,[["render",hw],["__file","view.vue"]]),pw={name:"WarningFilled"},gw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},vw=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),mw=[vw];function _w(e,t,n,r,s,p){return ee(),he("svg",gw,mw)}var $d=Qe(pw,[["render",_w],["__file","warning-filled.vue"]]),yw={name:"ZoomIn"},bw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ww=ie("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),Cw=[ww];function Sw(e,t,n,r,s,p){return ee(),he("svg",bw,Cw)}var xw=Qe(yw,[["render",Sw],["__file","zoom-in.vue"]]),Tw={name:"ZoomOut"},Ow={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ew=ie("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),Pw=[Ew];function kw(e,t,n,r,s,p){return ee(),he("svg",Ow,Pw)}var Aw=Qe(Tw,[["render",kw],["__file","zoom-out.vue"]]);const Mw={class:"panel-block__header"},Rw={class:"panel-block__header-title"},Dw={class:"panel-block__header-action"},Iw={__name:"panel-block",props:{title:String,subTitle:String},emits:["change"],setup(e,{emit:t}){function n(){t("change")}return(r,s)=>(ee(),he("div",Mw,[ie("div",Rw,ze(e.title),1),ie("div",Dw,[ie("span",{onClick:n},[Ee(r.$slots,"default",{},()=>[Yi(ze(e.subTitle),1)],!0)])])]))}},Fw=vt(Iw,[["__scopeId","data-v-2e948f55"]]);const Lw={props:{list:{type:Array,required:!0},column:{type:Number,default:4},height:{type:Number,default:225}},data(){return{itemWidth:0,columnData:[]}},watch:{list(){this.renderList()}},mounted(){this.renderList(),window.addEventListener("resize",this.renderList)},methods:{renderList(){this.row||(this.columnData=[],this.itemWidth=`${100/this.column}%`,this.$refs.container&&this.$nextTick(()=>{const e=this.$refs.container.getElementsByClassName("column-item");for(let t=0;t<e.length;t++)this.setElementStyle(e[t],this.list[t],t)}))},setElementStyle(e,t,n){const s=(this.$refs.container.offsetWidth/this.column-6)/t.width*t.height+6;if(n<this.column)e.style.left=`${n*(100/this.column)}%`,this.columnData[n]=this.columnData[n]?this.columnData[n]+s:s;else{let p={};for(let m=0;m<this.columnData.length;m++)Object.prototype.hasOwnProperty.call(p,"index")?this.columnData[m]<p.value&&(p={index:m,value:this.columnData[m]}):p={index:m,value:this.columnData[m]};e.style.left=`${p.index*(100/this.column)}%`,e.style.top=`${p.value}px`,this.columnData[p.index]+=s}e.style.width=this.itemWidth}}},Bw={class:ye({"waterfall-wrap":!0}),ref:"container"};function jw(e,t,n,r,s,p){return ee(),he("div",Bw,[(ee(!0),he(Re,null,ht(n.list,(m,c)=>(ee(),he("div",{key:c,class:"column-item"},[Ee(e.$slots,"default",{item:m},void 0,!0)]))),128))],512)}const Nw=vt(Lw,[["render",jw],["__scopeId","data-v-61d1b56b"]]),tt=(e,t,{checkForDefaultPrevented:n=!0}={})=>s=>{const p=e?.(s);if(n===!1||!p)return t?.(s)},ju=e=>t=>t.pointerType==="mouse"?e(t):void 0;var Nu;const Ye=typeof window<"u",zw=e=>typeof e=="string",Bs=()=>{},$w=Ye&&((Nu=window?.navigator)==null?void 0:Nu.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function uo(e){return typeof e=="function"?e():A(e)}function Hw(e,t){function n(...r){return new Promise((s,p)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(p)})}return n}function Uw(e,t=!0,n=!0,r=!1){let s=0,p,m=!0,c=Bs,i;const h=()=>{p&&(clearTimeout(p),p=void 0,c(),c=Bs)};return o=>{const l=uo(e),a=Date.now()-s,u=()=>i=o();return h(),l<=0?(s=Date.now(),u()):(a>l&&(n||!m)?(s=Date.now(),u()):t&&(i=new Promise((g,d)=>{c=r?d:g,p=setTimeout(()=>{s=Date.now(),m=!0,g(u()),h()},Math.max(0,l-a))})),!n&&!p&&(p=setTimeout(()=>m=!0,l)),m=!1,i)}}function Ww(e){return e}function fo(e){return dh()?(sv(e),!0):!1}function Yw(e,t=200,n=!1,r=!0,s=!1){return Hw(Uw(t,n,r,s),e)}function Xw(e,t=!0){Rt()?Ge(e):t?e():at(e)}function Vw(e,t,n={}){const{immediate:r=!0}=n,s=fe(!1);let p=null;function m(){p&&(clearTimeout(p),p=null)}function c(){s.value=!1,m()}function i(...h){m(),s.value=!0,p=setTimeout(()=>{s.value=!1,p=null,e(...h)},uo(t))}return r&&(s.value=!0,Ye&&i()),fo(c),{isPending:Wi(s),start:i,stop:c}}function Wn(e){var t;const n=uo(e);return(t=n?.$el)!=null?t:n}const Ll=Ye?window:void 0;function Tt(...e){let t,n,r,s;if(zw(e[0])||Array.isArray(e[0])?([n,r,s]=e,t=Ll):[t,n,r,s]=e,!t)return Bs;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const p=[],m=()=>{p.forEach(f=>f()),p.length=0},c=(f,o,l,a)=>(f.addEventListener(o,l,a),()=>f.removeEventListener(o,l,a)),i=Ae(()=>[Wn(t),uo(s)],([f,o])=>{m(),f&&p.push(...n.flatMap(l=>r.map(a=>c(f,l,a,o))))},{immediate:!0,flush:"post"}),h=()=>{i(),m()};return fo(h),h}let zu=!1;function Gw(e,t,n={}){const{window:r=Ll,ignore:s=[],capture:p=!0,detectIframe:m=!1}=n;if(!r)return;$w&&!zu&&(zu=!0,Array.from(r.document.body.children).forEach(l=>l.addEventListener("click",Bs)));let c=!0;const i=l=>s.some(a=>{if(typeof a=="string")return Array.from(r.document.querySelectorAll(a)).some(u=>u===l.target||l.composedPath().includes(u));{const u=Wn(a);return u&&(l.target===u||l.composedPath().includes(u))}}),f=[Tt(r,"click",l=>{const a=Wn(e);if(!(!a||a===l.target||l.composedPath().includes(a))){if(l.detail===0&&(c=!i(l)),!c){c=!0;return}t(l)}},{passive:!0,capture:p}),Tt(r,"pointerdown",l=>{const a=Wn(e);a&&(c=!l.composedPath().includes(a)&&!i(l))},{passive:!0}),m&&Tt(r,"blur",l=>{var a;const u=Wn(e);((a=r.document.activeElement)==null?void 0:a.tagName)==="IFRAME"&&!u?.contains(r.document.activeElement)&&t(l)})].filter(Boolean);return()=>f.forEach(l=>l())}function Kw(e,t=!1){const n=fe(),r=()=>n.value=!!e();return r(),Xw(r,t),n}const $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hu="__vueuse_ssr_handlers__";$u[Hu]=$u[Hu]||{};var Uu=Object.getOwnPropertySymbols,qw=Object.prototype.hasOwnProperty,Jw=Object.prototype.propertyIsEnumerable,Zw=(e,t)=>{var n={};for(var r in e)qw.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Uu)for(var r of Uu(e))t.indexOf(r)<0&&Jw.call(e,r)&&(n[r]=e[r]);return n};function Bl(e,t,n={}){const r=n,{window:s=Ll}=r,p=Zw(r,["window"]);let m;const c=Kw(()=>s&&"ResizeObserver"in s),i=()=>{m&&(m.disconnect(),m=void 0)},h=Ae(()=>Wn(e),o=>{i(),c.value&&s&&o&&(m=new ResizeObserver(t),m.observe(o,p))},{immediate:!0,flush:"post"}),f=()=>{i(),h()};return fo(f),{isSupported:c,stop:f}}var Wu;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Wu||(Wu={}));var Qw=Object.defineProperty,Yu=Object.getOwnPropertySymbols,e1=Object.prototype.hasOwnProperty,t1=Object.prototype.propertyIsEnumerable,Xu=(e,t,n)=>t in e?Qw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,n1=(e,t)=>{for(var n in t||(t={}))e1.call(t,n)&&Xu(e,n,t[n]);if(Yu)for(var n of Yu(t))t1.call(t,n)&&Xu(e,n,t[n]);return e};const r1={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};n1({linear:Ww},r1);const i1=()=>Ye&&/firefox/i.test(window.navigator.userAgent),s1=(e,t)=>{if(!Ye||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right};var o1=typeof global=="object"&&global&&global.Object===Object&&global;const a1=o1;var l1=typeof self=="object"&&self&&self.Object===Object&&self,c1=a1||l1||Function("return this")();const ho=c1;var u1=ho.Symbol;const Br=u1;var Hd=Object.prototype,f1=Hd.hasOwnProperty,h1=Hd.toString,li=Br?Br.toStringTag:void 0;function d1(e){var t=f1.call(e,li),n=e[li];try{e[li]=void 0;var r=!0}catch{}var s=h1.call(e);return r&&(t?e[li]=n:delete e[li]),s}var p1=Object.prototype,g1=p1.toString;function v1(e){return g1.call(e)}var m1="[object Null]",_1="[object Undefined]",Vu=Br?Br.toStringTag:void 0;function Ud(e){return e==null?e===void 0?_1:m1:Vu&&Vu in Object(e)?d1(e):v1(e)}function y1(e){return e!=null&&typeof e=="object"}var b1="[object Symbol]";function po(e){return typeof e=="symbol"||y1(e)&&Ud(e)==b1}function w1(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var C1=Array.isArray;const go=C1;var S1=1/0,Gu=Br?Br.prototype:void 0,Ku=Gu?Gu.toString:void 0;function Wd(e){if(typeof e=="string")return e;if(go(e))return w1(e,Wd)+"";if(po(e))return Ku?Ku.call(e):"";var t=e+"";return t=="0"&&1/e==-S1?"-0":t}var x1=/\s/;function T1(e){for(var t=e.length;t--&&x1.test(e.charAt(t)););return t}var O1=/^\s+/;function E1(e){return e&&e.slice(0,T1(e)+1).replace(O1,"")}function jr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qu=0/0,P1=/^[-+]0x[0-9a-f]+$/i,k1=/^0b[01]+$/i,A1=/^0o[0-7]+$/i,M1=parseInt;function Ju(e){if(typeof e=="number")return e;if(po(e))return qu;if(jr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=jr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=E1(e);var n=k1.test(e);return n||A1.test(e)?M1(e.slice(2),n?2:8):P1.test(e)?qu:+e}var R1="[object AsyncFunction]",D1="[object Function]",I1="[object GeneratorFunction]",F1="[object Proxy]";function L1(e){if(!jr(e))return!1;var t=Ud(e);return t==D1||t==I1||t==R1||t==F1}var B1=ho["__core-js_shared__"];const Jo=B1;var Zu=function(){var e=/[^.]+$/.exec(Jo&&Jo.keys&&Jo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function j1(e){return!!Zu&&Zu in e}var N1=Function.prototype,z1=N1.toString;function $1(e){if(e!=null){try{return z1.call(e)}catch{}try{return e+""}catch{}}return""}var H1=/[\\^$.*+?()[\]{}|]/g,U1=/^\[object .+?Constructor\]$/,W1=Function.prototype,Y1=Object.prototype,X1=W1.toString,V1=Y1.hasOwnProperty,G1=RegExp("^"+X1.call(V1).replace(H1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K1(e){if(!jr(e)||j1(e))return!1;var t=L1(e)?G1:U1;return t.test($1(e))}function q1(e,t){return e?.[t]}function Yd(e,t){var n=q1(e,t);return K1(n)?n:void 0}function J1(e,t){return e===t||e!==e&&t!==t}var Z1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q1=/^\w*$/;function eC(e,t){if(go(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||po(e)?!0:Q1.test(e)||!Z1.test(e)||t!=null&&e in Object(t)}var tC=Yd(Object,"create");const Fi=tC;function nC(){this.__data__=Fi?Fi(null):{},this.size=0}function rC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var iC="__lodash_hash_undefined__",sC=Object.prototype,oC=sC.hasOwnProperty;function aC(e){var t=this.__data__;if(Fi){var n=t[e];return n===iC?void 0:n}return oC.call(t,e)?t[e]:void 0}var lC=Object.prototype,cC=lC.hasOwnProperty;function uC(e){var t=this.__data__;return Fi?t[e]!==void 0:cC.call(t,e)}var fC="__lodash_hash_undefined__";function hC(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Fi&&t===void 0?fC:t,this}function hr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hr.prototype.clear=nC;hr.prototype.delete=rC;hr.prototype.get=aC;hr.prototype.has=uC;hr.prototype.set=hC;function dC(){this.__data__=[],this.size=0}function vo(e,t){for(var n=e.length;n--;)if(J1(e[n][0],t))return n;return-1}var pC=Array.prototype,gC=pC.splice;function vC(e){var t=this.__data__,n=vo(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():gC.call(t,n,1),--this.size,!0}function mC(e){var t=this.__data__,n=vo(t,e);return n<0?void 0:t[n][1]}function _C(e){return vo(this.__data__,e)>-1}function yC(e,t){var n=this.__data__,r=vo(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ei(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ei.prototype.clear=dC;ei.prototype.delete=vC;ei.prototype.get=mC;ei.prototype.has=_C;ei.prototype.set=yC;var bC=Yd(ho,"Map");const wC=bC;function CC(){this.size=0,this.__data__={hash:new hr,map:new(wC||ei),string:new hr}}function SC(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function mo(e,t){var n=e.__data__;return SC(t)?n[typeof t=="string"?"string":"hash"]:n.map}function xC(e){var t=mo(this,e).delete(e);return this.size-=t?1:0,t}function TC(e){return mo(this,e).get(e)}function OC(e){return mo(this,e).has(e)}function EC(e,t){var n=mo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function mr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}mr.prototype.clear=CC;mr.prototype.delete=xC;mr.prototype.get=TC;mr.prototype.has=OC;mr.prototype.set=EC;var PC="Expected a function";function jl(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(PC);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],p=n.cache;if(p.has(s))return p.get(s);var m=e.apply(this,r);return n.cache=p.set(s,m)||p,m};return n.cache=new(jl.Cache||mr),n}jl.Cache=mr;var kC=500;function AC(e){var t=jl(e,function(r){return n.size===kC&&n.clear(),r}),n=t.cache;return t}var MC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RC=/\\(\\)?/g,DC=AC(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(MC,function(n,r,s,p){t.push(s?p.replace(RC,"$1"):r||n)}),t});const IC=DC;function FC(e){return e==null?"":Wd(e)}function LC(e,t){return go(e)?e:eC(e,t)?[e]:IC(FC(e))}var BC=1/0;function jC(e){if(typeof e=="string"||po(e))return e;var t=e+"";return t=="0"&&1/e==-BC?"-0":t}function NC(e,t){t=LC(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[jC(t[n++])];return n&&n==r?e:void 0}function zC(e,t,n){var r=e==null?void 0:NC(e,t);return r===void 0?n:r}function $C(){if(!arguments.length)return[];var e=arguments[0];return go(e)?e:[e]}var HC=function(){return ho.Date.now()};const Zo=HC;var UC="Expected a function",WC=Math.max,YC=Math.min;function XC(e,t,n){var r,s,p,m,c,i,h=0,f=!1,o=!1,l=!0;if(typeof e!="function")throw new TypeError(UC);t=Ju(t)||0,jr(n)&&(f=!!n.leading,o="maxWait"in n,p=o?WC(Ju(n.maxWait)||0,t):p,l="trailing"in n?!!n.trailing:l);function a(C){var S=r,T=s;return r=s=void 0,h=C,m=e.apply(T,S),m}function u(C){return h=C,c=setTimeout(v,t),f?a(C):m}function g(C){var S=C-i,T=C-h,j=t-S;return o?YC(j,p-T):j}function d(C){var S=C-i,T=C-h;return i===void 0||S>=t||S<0||o&&T>=p}function v(){var C=Zo();if(d(C))return _(C);c=setTimeout(v,g(C))}function _(C){return c=void 0,l&&r?a(C):(r=s=void 0,m)}function b(){c!==void 0&&clearTimeout(c),h=0,r=i=s=c=void 0}function y(){return c===void 0?m:_(Zo())}function w(){var C=Zo(),S=d(C);if(r=arguments,s=this,i=C,S){if(c===void 0)return u(i);if(o)return clearTimeout(c),c=setTimeout(v,t),a(i)}return c===void 0&&(c=setTimeout(v,t)),m}return w.cancel=b,w.flush=y,w}function js(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function _o(e){return e==null}function VC(e){return e===void 0}var GC="Expected a function";function ws(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(GC);return jr(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),XC(e,t,{leading:r,maxWait:t,trailing:s})}const KC=e=>e===void 0,Nl=e=>typeof e=="boolean",ot=e=>typeof e=="number",Nr=e=>typeof Element>"u"?!1:e instanceof Element,qC=e=>je(e)?!Number.isNaN(Number(e)):!1,ja=e=>Object.keys(e);class JC extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function ZC(e,t){throw new JC(`[${e}] ${t}`)}const QC=(e,t)=>{var n;if(!Ye||!e||!t)return"";let r=tn(t);r==="float"&&(r="cssFloat");try{const s=e.style[r];if(s)return s;const p=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return p?p[r]:""}catch{return e.style[r]}};function Li(e,t="px"){if(!e)return"";if(ot(e)||qC(e))return`${e}${t}`;if(je(e))return e}const eS=(e,t)=>{if(!Ye)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=QC(e,n);return["scroll","auto","overlay"].some(s=>r.includes(s))},tS=(e,t)=>{if(!Ye)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(eS(n,t))return n;n=n.parentNode}return n},Xd="__epPropKey",Me=e=>e,nS=e=>Fe(e)&&!!e[Xd],yo=(e,t)=>{if(!Fe(e)||nS(e))return e;const{values:n,required:r,default:s,type:p,validator:m}=e,i={type:p,required:!!r,validator:n||m?h=>{let f=!1,o=[];if(n&&(o=Array.from(n),De(e,"default")&&o.push(s),f||(f=o.includes(h))),m&&(f||(f=m(h))),!f&&o.length>0){const l=[...new Set(o)].map(a=>JSON.stringify(a)).join(", ");zv(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${l}], got value ${JSON.stringify(h)}.`)}return f}:void 0,[Xd]:!0};return De(e,"default")&&(i.default=s),i},Xe=e=>js(Object.entries(e).map(([t,n])=>[t,yo(n,t)])),zr=Me([String,Object,Function]),rS={Close:Bd,SuccessFilled:zd,InfoFilled:jd,WarningFilled:$d,CircleCloseFilled:Fd},Qu={success:zd,warning:$d,error:Fd,info:jd},iS={validating:Nd,success:Gy,error:Ld},sn=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},sS=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),oS=(e,t)=>(e.install=n=>{n.directive(t,e)},e),zl=e=>(e.install=bt,e),Vd=(...e)=>t=>{e.forEach(n=>{xe(n)?n(t):n.value=t})},Be={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Na="update:modelValue",aS=["","default","small","large"],lS=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),bo=e=>e,cS=["class","style"],uS=/^on[A-Z]/,Gd=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=re(()=>(n?.value||[]).concat(cS)),s=Rt();return re(s?()=>{var p;return js(Object.entries((p=s.proxy)==null?void 0:p.$attrs).filter(([m])=>!r.value.includes(m)&&!(t&&uS.test(m))))}:()=>({}))},fS=({from:e,replacement:t,scope:n,version:r,ref:s,type:p="API"},m)=>{Ae(()=>A(m),c=>{},{immediate:!0})};var hS={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const dS=e=>(t,n)=>pS(t,n,A(e)),pS=(e,t,n)=>zC(n,e,e).replace(/\{(\w+)\}/g,(r,s)=>{var p;return`${(p=t?.[s])!=null?p:`{${s}}`}`}),gS=e=>{const t=re(()=>A(e).name),n=st(e)?e:fe(e);return{lang:t,locale:n,t:dS(e)}},Kd=Symbol("localeContextKey"),wo=e=>{const t=e||Pe(Kd,fe());return gS(re(()=>t.value||hS))},Cs="el",vS="is-",rr=(e,t,n,r,s)=>{let p=`${e}-${t}`;return n&&(p+=`-${n}`),r&&(p+=`__${r}`),s&&(p+=`--${s}`),p},qd=Symbol("namespaceContextKey"),$l=e=>{const t=e||(Rt()?Pe(qd,fe(Cs)):fe(Cs));return re(()=>A(t)||Cs)},Ze=(e,t)=>{const n=$l(t);return{namespace:n,b:(g="")=>rr(n.value,e,g,"",""),e:g=>g?rr(n.value,e,"",g,""):"",m:g=>g?rr(n.value,e,"","",g):"",be:(g,d)=>g&&d?rr(n.value,e,g,d,""):"",em:(g,d)=>g&&d?rr(n.value,e,"",g,d):"",bm:(g,d)=>g&&d?rr(n.value,e,g,"",d):"",bem:(g,d,v)=>g&&d&&v?rr(n.value,e,g,d,v):"",is:(g,...d)=>{const v=d.length>=1?d[0]:!0;return g&&v?`${vS}${g}`:""},cssVar:g=>{const d={};for(const v in g)g[v]&&(d[`--${n.value}-${v}`]=g[v]);return d},cssVarName:g=>`--${n.value}-${g}`,cssVarBlock:g=>{const d={};for(const v in g)g[v]&&(d[`--${n.value}-${e}-${v}`]=g[v]);return d},cssVarBlockName:g=>`--${n.value}-${e}-${g}`}},mS=yo({type:Me(Boolean),default:null}),_S=yo({type:Me(Function)}),Jd=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],s={[e]:mS,[n]:_S};return{useModelToggle:({indicator:m,toggleReason:c,shouldHideWhenRouteChanges:i,shouldProceed:h,onShow:f,onHide:o})=>{const l=Rt(),{emit:a}=l,u=l.props,g=re(()=>xe(u[n])),d=re(()=>u[e]===null),v=S=>{m.value!==!0&&(m.value=!0,c&&(c.value=S),xe(f)&&f(S))},_=S=>{m.value!==!1&&(m.value=!1,c&&(c.value=S),xe(o)&&o(S))},b=S=>{if(u.disabled===!0||xe(h)&&!h())return;const T=g.value&&Ye;T&&a(t,!0),(d.value||!T)&&v(S)},y=S=>{if(u.disabled===!0||!Ye)return;const T=g.value&&Ye;T&&a(t,!1),(d.value||!T)&&_(S)},w=S=>{Nl(S)&&(u.disabled&&S?g.value&&a(t,!1):m.value!==S&&(S?v():_()))},C=()=>{m.value?y():b()};return Ae(()=>u[e],w),i&&l.appContext.config.globalProperties.$route!==void 0&&Ae(()=>({...l.proxy.$route}),()=>{i.value&&m.value&&y()}),Ge(()=>{w(u[e])}),{hide:y,show:b,toggle:C,hasUpdateHandler:g}},useModelToggleProps:s,useModelToggleEmits:r}};Jd("modelValue");const Zd=e=>{const t=Rt();return re(()=>{var n,r;return(r=(n=t?.proxy)==null?void 0:n.$props)==null?void 0:r[e]})};var kt="top",Xt="bottom",Vt="right",At="left",Hl="auto",Xi=[kt,Xt,Vt,At],$r="start",Bi="end",yS="clippingParents",Qd="viewport",ci="popper",bS="reference",ef=Xi.reduce(function(e,t){return e.concat([t+"-"+$r,t+"-"+Bi])},[]),Ul=[].concat(Xi,[Hl]).reduce(function(e,t){return e.concat([t,t+"-"+$r,t+"-"+Bi])},[]),wS="beforeRead",CS="read",SS="afterRead",xS="beforeMain",TS="main",OS="afterMain",ES="beforeWrite",PS="write",kS="afterWrite",AS=[wS,CS,SS,xS,TS,OS,ES,PS,kS];function vn(e){return e?(e.nodeName||"").toLowerCase():null}function on(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Hr(e){var t=on(e).Element;return e instanceof t||e instanceof Element}function Wt(e){var t=on(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Wl(e){if(typeof ShadowRoot>"u")return!1;var t=on(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function MS(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},p=t.elements[n];!Wt(p)||!vn(p)||(Object.assign(p.style,r),Object.keys(s).forEach(function(m){var c=s[m];c===!1?p.removeAttribute(m):p.setAttribute(m,c===!0?"":c)}))})}function RS(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],p=t.attributes[r]||{},m=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=m.reduce(function(i,h){return i[h]="",i},{});!Wt(s)||!vn(s)||(Object.assign(s.style,c),Object.keys(p).forEach(function(i){s.removeAttribute(i)}))})}}var ep={name:"applyStyles",enabled:!0,phase:"write",fn:MS,effect:RS,requires:["computeStyles"]};function gn(e){return e.split("-")[0]}var fr=Math.max,Ns=Math.min,Ur=Math.round;function Wr(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,s=1;if(Wt(e)&&t){var p=e.offsetHeight,m=e.offsetWidth;m>0&&(r=Ur(n.width)/m||1),p>0&&(s=Ur(n.height)/p||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function Yl(e){var t=Wr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function tp(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Wl(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Mn(e){return on(e).getComputedStyle(e)}function DS(e){return["table","td","th"].indexOf(vn(e))>=0}function qn(e){return((Hr(e)?e.ownerDocument:e.document)||window.document).documentElement}function Co(e){return vn(e)==="html"?e:e.assignedSlot||e.parentNode||(Wl(e)?e.host:null)||qn(e)}function tf(e){return!Wt(e)||Mn(e).position==="fixed"?null:e.offsetParent}function IS(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Wt(e)){var r=Mn(e);if(r.position==="fixed")return null}var s=Co(e);for(Wl(s)&&(s=s.host);Wt(s)&&["html","body"].indexOf(vn(s))<0;){var p=Mn(s);if(p.transform!=="none"||p.perspective!=="none"||p.contain==="paint"||["transform","perspective"].indexOf(p.willChange)!==-1||t&&p.willChange==="filter"||t&&p.filter&&p.filter!=="none")return s;s=s.parentNode}return null}function Vi(e){for(var t=on(e),n=tf(e);n&&DS(n)&&Mn(n).position==="static";)n=tf(n);return n&&(vn(n)==="html"||vn(n)==="body"&&Mn(n).position==="static")?t:n||IS(e)||t}function Xl(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function wi(e,t,n){return fr(e,Ns(t,n))}function FS(e,t,n){var r=wi(e,t,n);return r>n?n:r}function np(){return{top:0,right:0,bottom:0,left:0}}function rp(e){return Object.assign({},np(),e)}function ip(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var LS=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,rp(typeof e!="number"?e:ip(e,Xi))};function BS(e){var t,n=e.state,r=e.name,s=e.options,p=n.elements.arrow,m=n.modifiersData.popperOffsets,c=gn(n.placement),i=Xl(c),h=[At,Vt].indexOf(c)>=0,f=h?"height":"width";if(!(!p||!m)){var o=LS(s.padding,n),l=Yl(p),a=i==="y"?kt:At,u=i==="y"?Xt:Vt,g=n.rects.reference[f]+n.rects.reference[i]-m[i]-n.rects.popper[f],d=m[i]-n.rects.reference[i],v=Vi(p),_=v?i==="y"?v.clientHeight||0:v.clientWidth||0:0,b=g/2-d/2,y=o[a],w=_-l[f]-o[u],C=_/2-l[f]/2+b,S=wi(y,C,w),T=i;n.modifiersData[r]=(t={},t[T]=S,t.centerOffset=S-C,t)}}function jS(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!tp(t.elements.popper,s)||(t.elements.arrow=s))}var NS={name:"arrow",enabled:!0,phase:"main",fn:BS,effect:jS,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yr(e){return e.split("-")[1]}var zS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $S(e){var t=e.x,n=e.y,r=window,s=r.devicePixelRatio||1;return{x:Ur(t*s)/s||0,y:Ur(n*s)/s||0}}function nf(e){var t,n=e.popper,r=e.popperRect,s=e.placement,p=e.variation,m=e.offsets,c=e.position,i=e.gpuAcceleration,h=e.adaptive,f=e.roundOffsets,o=e.isFixed,l=m.x,a=l===void 0?0:l,u=m.y,g=u===void 0?0:u,d=typeof f=="function"?f({x:a,y:g}):{x:a,y:g};a=d.x,g=d.y;var v=m.hasOwnProperty("x"),_=m.hasOwnProperty("y"),b=At,y=kt,w=window;if(h){var C=Vi(n),S="clientHeight",T="clientWidth";if(C===on(n)&&(C=qn(n),Mn(C).position!=="static"&&c==="absolute"&&(S="scrollHeight",T="scrollWidth")),C=C,s===kt||(s===At||s===Vt)&&p===Bi){y=Xt;var j=o&&C===w&&w.visualViewport?w.visualViewport.height:C[S];g-=j-r.height,g*=i?1:-1}if(s===At||(s===kt||s===Xt)&&p===Bi){b=Vt;var W=o&&C===w&&w.visualViewport?w.visualViewport.width:C[T];a-=W-r.width,a*=i?1:-1}}var V=Object.assign({position:c},h&&zS),H=f===!0?$S({x:a,y:g}):{x:a,y:g};if(a=H.x,g=H.y,i){var te;return Object.assign({},V,(te={},te[y]=_?"0":"",te[b]=v?"0":"",te.transform=(w.devicePixelRatio||1)<=1?"translate("+a+"px, "+g+"px)":"translate3d("+a+"px, "+g+"px, 0)",te))}return Object.assign({},V,(t={},t[y]=_?g+"px":"",t[b]=v?a+"px":"",t.transform="",t))}function HS(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,p=n.adaptive,m=p===void 0?!0:p,c=n.roundOffsets,i=c===void 0?!0:c,h={placement:gn(t.placement),variation:Yr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,nf(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:m,roundOffsets:i})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,nf(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var sp={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:HS,data:{}},as={passive:!0};function US(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,p=s===void 0?!0:s,m=r.resize,c=m===void 0?!0:m,i=on(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return p&&h.forEach(function(f){f.addEventListener("scroll",n.update,as)}),c&&i.addEventListener("resize",n.update,as),function(){p&&h.forEach(function(f){f.removeEventListener("scroll",n.update,as)}),c&&i.removeEventListener("resize",n.update,as)}}var op={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:US,data:{}},WS={left:"right",right:"left",bottom:"top",top:"bottom"};function Ss(e){return e.replace(/left|right|bottom|top/g,function(t){return WS[t]})}var YS={start:"end",end:"start"};function rf(e){return e.replace(/start|end/g,function(t){return YS[t]})}function Vl(e){var t=on(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Gl(e){return Wr(qn(e)).left+Vl(e).scrollLeft}function XS(e){var t=on(e),n=qn(e),r=t.visualViewport,s=n.clientWidth,p=n.clientHeight,m=0,c=0;return r&&(s=r.width,p=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(m=r.offsetLeft,c=r.offsetTop)),{width:s,height:p,x:m+Gl(e),y:c}}function VS(e){var t,n=qn(e),r=Vl(e),s=(t=e.ownerDocument)==null?void 0:t.body,p=fr(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),m=fr(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-r.scrollLeft+Gl(e),i=-r.scrollTop;return Mn(s||n).direction==="rtl"&&(c+=fr(n.clientWidth,s?s.clientWidth:0)-p),{width:p,height:m,x:c,y:i}}function Kl(e){var t=Mn(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function ap(e){return["html","body","#document"].indexOf(vn(e))>=0?e.ownerDocument.body:Wt(e)&&Kl(e)?e:ap(Co(e))}function Ci(e,t){var n;t===void 0&&(t=[]);var r=ap(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),p=on(r),m=s?[p].concat(p.visualViewport||[],Kl(r)?r:[]):r,c=t.concat(m);return s?c:c.concat(Ci(Co(m)))}function za(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function GS(e){var t=Wr(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function sf(e,t){return t===Qd?za(XS(e)):Hr(t)?GS(t):za(VS(qn(e)))}function KS(e){var t=Ci(Co(e)),n=["absolute","fixed"].indexOf(Mn(e).position)>=0,r=n&&Wt(e)?Vi(e):e;return Hr(r)?t.filter(function(s){return Hr(s)&&tp(s,r)&&vn(s)!=="body"}):[]}function qS(e,t,n){var r=t==="clippingParents"?KS(e):[].concat(t),s=[].concat(r,[n]),p=s[0],m=s.reduce(function(c,i){var h=sf(e,i);return c.top=fr(h.top,c.top),c.right=Ns(h.right,c.right),c.bottom=Ns(h.bottom,c.bottom),c.left=fr(h.left,c.left),c},sf(e,p));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function lp(e){var t=e.reference,n=e.element,r=e.placement,s=r?gn(r):null,p=r?Yr(r):null,m=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,i;switch(s){case kt:i={x:m,y:t.y-n.height};break;case Xt:i={x:m,y:t.y+t.height};break;case Vt:i={x:t.x+t.width,y:c};break;case At:i={x:t.x-n.width,y:c};break;default:i={x:t.x,y:t.y}}var h=s?Xl(s):null;if(h!=null){var f=h==="y"?"height":"width";switch(p){case $r:i[h]=i[h]-(t[f]/2-n[f]/2);break;case Bi:i[h]=i[h]+(t[f]/2-n[f]/2);break}}return i}function ji(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,p=n.boundary,m=p===void 0?yS:p,c=n.rootBoundary,i=c===void 0?Qd:c,h=n.elementContext,f=h===void 0?ci:h,o=n.altBoundary,l=o===void 0?!1:o,a=n.padding,u=a===void 0?0:a,g=rp(typeof u!="number"?u:ip(u,Xi)),d=f===ci?bS:ci,v=e.rects.popper,_=e.elements[l?d:f],b=qS(Hr(_)?_:_.contextElement||qn(e.elements.popper),m,i),y=Wr(e.elements.reference),w=lp({reference:y,element:v,strategy:"absolute",placement:s}),C=za(Object.assign({},v,w)),S=f===ci?C:y,T={top:b.top-S.top+g.top,bottom:S.bottom-b.bottom+g.bottom,left:b.left-S.left+g.left,right:S.right-b.right+g.right},j=e.modifiersData.offset;if(f===ci&&j){var W=j[s];Object.keys(T).forEach(function(V){var H=[Vt,Xt].indexOf(V)>=0?1:-1,te=[kt,Xt].indexOf(V)>=0?"y":"x";T[V]+=W[te]*H})}return T}function JS(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,p=n.rootBoundary,m=n.padding,c=n.flipVariations,i=n.allowedAutoPlacements,h=i===void 0?Ul:i,f=Yr(r),o=f?c?ef:ef.filter(function(u){return Yr(u)===f}):Xi,l=o.filter(function(u){return h.indexOf(u)>=0});l.length===0&&(l=o);var a=l.reduce(function(u,g){return u[g]=ji(e,{placement:g,boundary:s,rootBoundary:p,padding:m})[gn(g)],u},{});return Object.keys(a).sort(function(u,g){return a[u]-a[g]})}function ZS(e){if(gn(e)===Hl)return[];var t=Ss(e);return[rf(e),t,rf(t)]}function QS(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,p=s===void 0?!0:s,m=n.altAxis,c=m===void 0?!0:m,i=n.fallbackPlacements,h=n.padding,f=n.boundary,o=n.rootBoundary,l=n.altBoundary,a=n.flipVariations,u=a===void 0?!0:a,g=n.allowedAutoPlacements,d=t.options.placement,v=gn(d),_=v===d,b=i||(_||!u?[Ss(d)]:ZS(d)),y=[d].concat(b).reduce(function(R,E){return R.concat(gn(E)===Hl?JS(t,{placement:E,boundary:f,rootBoundary:o,padding:h,flipVariations:u,allowedAutoPlacements:g}):E)},[]),w=t.rects.reference,C=t.rects.popper,S=new Map,T=!0,j=y[0],W=0;W<y.length;W++){var V=y[W],H=gn(V),te=Yr(V)===$r,se=[kt,Xt].indexOf(H)>=0,le=se?"width":"height",ue=ji(t,{placement:V,boundary:f,rootBoundary:o,altBoundary:l,padding:h}),X=se?te?Vt:At:te?Xt:kt;w[le]>C[le]&&(X=Ss(X));var K=Ss(X),x=[];if(p&&x.push(ue[H]<=0),c&&x.push(ue[X]<=0,ue[K]<=0),x.every(function(R){return R})){j=V,T=!1;break}S.set(V,x)}if(T)for(var D=u?3:1,F=function(R){var E=y.find(function(U){var M=S.get(U);if(M)return M.slice(0,R).every(function(L){return L})});if(E)return j=E,"break"},I=D;I>0;I--){var Q=F(I);if(Q==="break")break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}}var ex={name:"flip",enabled:!0,phase:"main",fn:QS,requiresIfExists:["offset"],data:{_skip:!1}};function of(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function af(e){return[kt,Vt,Xt,At].some(function(t){return e[t]>=0})}function tx(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,p=t.modifiersData.preventOverflow,m=ji(t,{elementContext:"reference"}),c=ji(t,{altBoundary:!0}),i=of(m,r),h=of(c,s,p),f=af(i),o=af(h);t.modifiersData[n]={referenceClippingOffsets:i,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:o},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":o})}var nx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:tx};function rx(e,t,n){var r=gn(e),s=[At,kt].indexOf(r)>=0?-1:1,p=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,m=p[0],c=p[1];return m=m||0,c=(c||0)*s,[At,Vt].indexOf(r)>=0?{x:c,y:m}:{x:m,y:c}}function ix(e){var t=e.state,n=e.options,r=e.name,s=n.offset,p=s===void 0?[0,0]:s,m=Ul.reduce(function(f,o){return f[o]=rx(o,t.rects,p),f},{}),c=m[t.placement],i=c.x,h=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=m}var sx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ix};function ox(e){var t=e.state,n=e.name;t.modifiersData[n]=lp({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var cp={name:"popperOffsets",enabled:!0,phase:"read",fn:ox,data:{}};function ax(e){return e==="x"?"y":"x"}function lx(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,p=s===void 0?!0:s,m=n.altAxis,c=m===void 0?!1:m,i=n.boundary,h=n.rootBoundary,f=n.altBoundary,o=n.padding,l=n.tether,a=l===void 0?!0:l,u=n.tetherOffset,g=u===void 0?0:u,d=ji(t,{boundary:i,rootBoundary:h,padding:o,altBoundary:f}),v=gn(t.placement),_=Yr(t.placement),b=!_,y=Xl(v),w=ax(y),C=t.modifiersData.popperOffsets,S=t.rects.reference,T=t.rects.popper,j=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,W=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,H={x:0,y:0};if(C){if(p){var te,se=y==="y"?kt:At,le=y==="y"?Xt:Vt,ue=y==="y"?"height":"width",X=C[y],K=X+d[se],x=X-d[le],D=a?-T[ue]/2:0,F=_===$r?S[ue]:T[ue],I=_===$r?-T[ue]:-S[ue],Q=t.elements.arrow,R=a&&Q?Yl(Q):{width:0,height:0},E=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:np(),U=E[se],M=E[le],L=wi(0,S[ue],R[ue]),z=b?S[ue]/2-D-L-U-W.mainAxis:F-L-U-W.mainAxis,q=b?-S[ue]/2+D+L+M+W.mainAxis:I+L+M+W.mainAxis,oe=t.elements.arrow&&Vi(t.elements.arrow),k=oe?y==="y"?oe.clientTop||0:oe.clientLeft||0:0,O=(te=V?.[y])!=null?te:0,P=X+z-O-k,B=X+q-O,$=wi(a?Ns(K,P):K,X,a?fr(x,B):x);C[y]=$,H[y]=$-X}if(c){var N,Y=y==="x"?kt:At,J=y==="x"?Xt:Vt,ae=C[w],ne=w==="y"?"height":"width",G=ae+d[Y],ce=ae-d[J],pe=[kt,At].indexOf(v)!==-1,Z=(N=V?.[w])!=null?N:0,ge=pe?G:ae-S[ne]-T[ne]-Z+W.altAxis,me=pe?ae+S[ne]+T[ne]-Z-W.altAxis:ce,be=a&&pe?FS(ge,ae,me):wi(a?ge:G,ae,a?me:ce);C[w]=be,H[w]=be-ae}t.modifiersData[r]=H}}var cx={name:"preventOverflow",enabled:!0,phase:"main",fn:lx,requiresIfExists:["offset"]};function ux(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function fx(e){return e===on(e)||!Wt(e)?Vl(e):ux(e)}function hx(e){var t=e.getBoundingClientRect(),n=Ur(t.width)/e.offsetWidth||1,r=Ur(t.height)/e.offsetHeight||1;return n!==1||r!==1}function dx(e,t,n){n===void 0&&(n=!1);var r=Wt(t),s=Wt(t)&&hx(t),p=qn(t),m=Wr(e,s),c={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(r||!r&&!n)&&((vn(t)!=="body"||Kl(p))&&(c=fx(t)),Wt(t)?(i=Wr(t,!0),i.x+=t.clientLeft,i.y+=t.clientTop):p&&(i.x=Gl(p))),{x:m.left+c.scrollLeft-i.x,y:m.top+c.scrollTop-i.y,width:m.width,height:m.height}}function px(e){var t=new Map,n=new Set,r=[];e.forEach(function(p){t.set(p.name,p)});function s(p){n.add(p.name);var m=[].concat(p.requires||[],p.requiresIfExists||[]);m.forEach(function(c){if(!n.has(c)){var i=t.get(c);i&&s(i)}}),r.push(p)}return e.forEach(function(p){n.has(p.name)||s(p)}),r}function gx(e){var t=px(e);return AS.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function vx(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function mx(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var lf={placement:"bottom",modifiers:[],strategy:"absolute"};function cf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ql(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,p=s===void 0?lf:s;return function(m,c,i){i===void 0&&(i=p);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},lf,p),modifiersData:{},elements:{reference:m,popper:c},attributes:{},styles:{}},f=[],o=!1,l={state:h,setOptions:function(g){var d=typeof g=="function"?g(h.options):g;u(),h.options=Object.assign({},p,h.options,d),h.scrollParents={reference:Hr(m)?Ci(m):m.contextElement?Ci(m.contextElement):[],popper:Ci(c)};var v=gx(mx([].concat(r,h.options.modifiers)));return h.orderedModifiers=v.filter(function(_){return _.enabled}),a(),l.update()},forceUpdate:function(){if(!o){var g=h.elements,d=g.reference,v=g.popper;if(cf(d,v)){h.rects={reference:dx(d,Vi(v),h.options.strategy==="fixed"),popper:Yl(v)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(T){return h.modifiersData[T.name]=Object.assign({},T.data)});for(var _=0;_<h.orderedModifiers.length;_++){if(h.reset===!0){h.reset=!1,_=-1;continue}var b=h.orderedModifiers[_],y=b.fn,w=b.options,C=w===void 0?{}:w,S=b.name;typeof y=="function"&&(h=y({state:h,options:C,name:S,instance:l})||h)}}}},update:vx(function(){return new Promise(function(g){l.forceUpdate(),g(h)})}),destroy:function(){u(),o=!0}};if(!cf(m,c))return l;l.setOptions(i).then(function(g){!o&&i.onFirstUpdate&&i.onFirstUpdate(g)});function a(){h.orderedModifiers.forEach(function(g){var d=g.name,v=g.options,_=v===void 0?{}:v,b=g.effect;if(typeof b=="function"){var y=b({state:h,name:d,instance:l,options:_}),w=function(){};f.push(y||w)}})}function u(){f.forEach(function(g){return g()}),f=[]}return l}}ql();var _x=[op,cp,sp,ep];ql({defaultModifiers:_x});var yx=[op,cp,sp,ep,sx,ex,cx,NS,nx],bx=ql({defaultModifiers:yx});const wx=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:i})=>{const h=Cx(i);Object.assign(m.value,h)},requires:["computeStyles"]},s=re(()=>{const{onFirstUpdate:i,placement:h,strategy:f,modifiers:o}=A(n);return{onFirstUpdate:i,placement:h||"bottom",strategy:f||"absolute",modifiers:[...o||[],r,{name:"applyStyles",enabled:!1}]}}),p=En(),m=fe({styles:{popper:{position:A(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=()=>{p.value&&(p.value.destroy(),p.value=void 0)};return Ae(s,i=>{const h=A(p);h&&h.setOptions(i)},{deep:!0}),Ae([e,t],([i,h])=>{c(),!(!i||!h)&&(p.value=bx(i,h,A(s)))}),jt(()=>{c()}),{state:re(()=>{var i;return{...((i=A(p))==null?void 0:i.state)||{}}}),styles:re(()=>A(m).styles),attributes:re(()=>A(m).attributes),update:()=>{var i;return(i=A(p))==null?void 0:i.update()},forceUpdate:()=>{var i;return(i=A(p))==null?void 0:i.forceUpdate()},instanceRef:re(()=>A(p))}};function Cx(e){const t=Object.keys(e.elements),n=js(t.map(s=>[s,e.styles[s]||{}])),r=js(t.map(s=>[s,e.attributes[s]]));return{styles:n,attributes:r}}function uf(){let e;const t=(r,s)=>{n(),e=window.setTimeout(r,s)},n=()=>window.clearTimeout(e);return fo(()=>n()),{registerTimeout:t,cancelTimeout:n}}const ff={prefix:Math.floor(Math.random()*1e4),current:0},Sx=Symbol("elIdInjection"),up=()=>Rt()?Pe(Sx,ff):ff,So=e=>{const t=up(),n=$l();return re(()=>A(e)||`${n.value}-id-${t.prefix}-${t.current++}`)};let Tr=[];const hf=e=>{const t=e;t.key===Be.esc&&Tr.forEach(n=>n(t))},xx=e=>{Ge(()=>{Tr.length===0&&document.addEventListener("keydown",hf),Ye&&Tr.push(e)}),jt(()=>{Tr=Tr.filter(t=>t!==e),Tr.length===0&&Ye&&document.removeEventListener("keydown",hf)})};let df;const fp=()=>{const e=$l(),t=up(),n=re(()=>`${e.value}-popper-container-${t.prefix}`),r=re(()=>`#${n.value}`);return{id:n,selector:r}},Tx=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},Ox=()=>{const{id:e,selector:t}=fp();return $h(()=>{Ye&&!df&&!document.body.querySelector(t.value)&&(df=Tx(e.value))}),{id:e,selector:t}},Ex=Xe({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),Px=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:s})=>{const{registerTimeout:p}=uf(),{registerTimeout:m,cancelTimeout:c}=uf();return{onOpen:f=>{p(()=>{r(f);const o=A(n);ot(o)&&o>0&&m(()=>{s(f)},o)},A(e))},onClose:f=>{c(),p(()=>{s(f)},A(t))}}},hp=Symbol("elForwardRef"),kx=e=>{Je(hp,{setForwardRef:n=>{e.value=n}})},Ax=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),pf=fe(0),dp=2e3,pp=Symbol("zIndexContextKey"),Jl=e=>{const t=e||(Rt()?Pe(pp,void 0):void 0),n=re(()=>{const p=A(t);return ot(p)?p:dp}),r=re(()=>n.value+pf.value);return{initialZIndex:n,currentZIndex:r,nextZIndex:()=>(pf.value++,r.value)}};function Mx(e){const t=fe();function n(){if(e.value==null)return;const{selectionStart:s,selectionEnd:p,value:m}=e.value;if(s==null||p==null)return;const c=m.slice(0,Math.max(0,s)),i=m.slice(Math.max(0,p));t.value={selectionStart:s,selectionEnd:p,value:m,beforeTxt:c,afterTxt:i}}function r(){if(e.value==null||t.value==null)return;const{value:s}=e.value,{beforeTxt:p,afterTxt:m,selectionStart:c}=t.value;if(p==null||m==null||c==null)return;let i=s.length;if(s.endsWith(m))i=s.length-m.length;else if(s.startsWith(p))i=p.length;else{const h=p[c-1],f=s.indexOf(h,c-1);f!==-1&&(i=f+1)}e.value.setSelectionRange(i,i)}return[n,r]}const gp=yo({type:String,values:aS,required:!1}),vp=Symbol("size"),Rx=()=>{const e=Pe(vp,{});return re(()=>A(e.size)||"")};function Dx(e,{afterFocus:t,beforeBlur:n,afterBlur:r}={}){const s=Rt(),{emit:p}=s,m=En(),c=fe(!1),i=o=>{c.value||(c.value=!0,p("focus",o),t?.())},h=o=>{var l;xe(n)&&n(o)||o.relatedTarget&&((l=m.value)!=null&&l.contains(o.relatedTarget))||(c.value=!1,p("blur",o),r?.())},f=()=>{var o;(o=e.value)==null||o.focus()};return Ae(m,o=>{o&&o.setAttribute("tabindex","-1")}),Tt(m,"click",f),{wrapperRef:m,isFocused:c,handleFocus:i,handleBlur:h}}const mp=Symbol(),zs=fe();function Zl(e,t=void 0){const n=Rt()?Pe(mp,zs):zs;return e?re(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[e])!=null?s:t}):n}function Ix(e,t){const n=Zl(),r=Ze(e,re(()=>{var c;return((c=n.value)==null?void 0:c.namespace)||Cs})),s=wo(re(()=>{var c;return(c=n.value)==null?void 0:c.locale})),p=Jl(re(()=>{var c;return((c=n.value)==null?void 0:c.zIndex)||dp})),m=re(()=>{var c;return A(t)||((c=n.value)==null?void 0:c.size)||""});return Fx(re(()=>A(n)||{})),{ns:r,locale:s,zIndex:p,size:m}}const Fx=(e,t,n=!1)=>{var r;const s=!!Rt(),p=s?Zl():void 0,m=(r=t?.provide)!=null?r:s?Je:void 0;if(!m)return;const c=re(()=>{const i=A(e);return p?.value?Lx(p.value,i):i});return m(mp,c),m(Kd,re(()=>c.value.locale)),m(qd,re(()=>c.value.namespace)),m(pp,re(()=>c.value.zIndex)),m(vp,{size:re(()=>c.value.size||"")}),(n||!zs.value)&&(zs.value=c.value),c},Lx=(e,t)=>{var n;const r=[...new Set([...ja(e),...ja(t)])],s={};for(const p of r)s[p]=(n=t[p])!=null?n:e[p];return s},gf={};var $e=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const Bx=Xe({size:{type:Me([Number,String])},color:{type:String}}),jx=Oe({name:"ElIcon",inheritAttrs:!1}),Nx=Oe({...jx,props:Bx,setup(e){const t=e,n=Ze("icon"),r=re(()=>{const{size:s,color:p}=t;return!s&&!p?{}:{fontSize:KC(s)?void 0:Li(s),"--color":p}});return(s,p)=>(ee(),he("i",wt({class:A(n).b(),style:A(r)},s.$attrs),[Ee(s.$slots,"default")],16))}});var zx=$e(Nx,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const We=sn(zx),Ql=Symbol("formContextKey"),$s=Symbol("formItemContextKey"),ec=(e,t={})=>{const n=fe(void 0),r=t.prop?n:Zd("size"),s=t.global?n:Rx(),p=t.form?{size:void 0}:Pe(Ql,void 0),m=t.formItem?{size:void 0}:Pe($s,void 0);return re(()=>r.value||A(e)||m?.size||p?.size||s.value||"")},tc=e=>{const t=Zd("disabled"),n=Pe(Ql,void 0);return re(()=>t.value||A(e)||n?.disabled||!1)},_p=()=>{const e=Pe(Ql,void 0),t=Pe($s,void 0);return{form:e,formItem:t}},$x=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=fe(!1)),r||(r=fe(!1));const s=fe();let p;const m=re(()=>{var c;return!!(!e.label&&t&&t.inputIds&&((c=t.inputIds)==null?void 0:c.length)<=1)});return Ge(()=>{p=Ae([yt(e,"id"),n],([c,i])=>{const h=c??(i?void 0:So().value);h!==s.value&&(t?.removeInputId&&(s.value&&t.removeInputId(s.value),!r?.value&&!i&&h&&t.addInputId(h)),s.value=h)},{immediate:!0})}),Jr(()=>{p&&p(),t?.removeInputId&&s.value&&t.removeInputId(s.value)}),{isLabeledByFormItem:m,inputId:s}};let Kt;const Hx=`
  height:0 !important;
  visibility:hidden !important;
  ${i1()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Ux=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Wx(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),s=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Ux.map(m=>`${m}:${t.getPropertyValue(m)}`).join(";"),paddingSize:r,borderSize:s,boxSizing:n}}function vf(e,t=1,n){var r;Kt||(Kt=document.createElement("textarea"),document.body.appendChild(Kt));const{paddingSize:s,borderSize:p,boxSizing:m,contextStyle:c}=Wx(e);Kt.setAttribute("style",`${c};${Hx}`),Kt.value=e.value||e.placeholder||"";let i=Kt.scrollHeight;const h={};m==="border-box"?i=i+p:m==="content-box"&&(i=i-s),Kt.value="";const f=Kt.scrollHeight-s;if(ot(t)){let o=f*t;m==="border-box"&&(o=o+s+p),i=Math.max(o,i),h.minHeight=`${o}px`}if(ot(n)){let o=f*n;m==="border-box"&&(o=o+s+p),i=Math.min(o,i)}return h.height=`${i}px`,(r=Kt.parentNode)==null||r.removeChild(Kt),Kt=void 0,h}const Yx=Xe({id:{type:String,default:void 0},size:gp,disabled:Boolean,modelValue:{type:Me([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Me([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:zr},prefixIcon:{type:zr},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Me([Object,Array,String]),default:()=>bo({})},autofocus:{type:Boolean,default:!1}}),Xx={[Na]:e=>je(e),input:e=>je(e),change:e=>je(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Vx=["role"],Gx=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Kx=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],qx=Oe({name:"ElInput",inheritAttrs:!1}),Jx=Oe({...qx,props:Yx,emits:Xx,setup(e,{expose:t,emit:n}){const r=e,s=Cl(),p=Xh(),m=re(()=>{const Z={};return r.containerRole==="combobox"&&(Z["aria-haspopup"]=s["aria-haspopup"],Z["aria-owns"]=s["aria-owns"],Z["aria-expanded"]=s["aria-expanded"]),Z}),c=re(()=>[r.type==="textarea"?d.b():g.b(),g.m(a.value),g.is("disabled",u.value),g.is("exceed",R.value),{[g.b("group")]:p.prepend||p.append,[g.bm("group","append")]:p.append,[g.bm("group","prepend")]:p.prepend,[g.m("prefix")]:p.prefix||r.prefixIcon,[g.m("suffix")]:p.suffix||r.suffixIcon||r.clearable||r.showPassword,[g.bm("suffix","password-clear")]:D.value&&F.value},s.class]),i=re(()=>[g.e("wrapper"),g.is("focus",W.value)]),h=Gd({excludeKeys:re(()=>Object.keys(m.value))}),{form:f,formItem:o}=_p(),{inputId:l}=$x(r,{formItemContext:o}),a=ec(),u=tc(),g=Ze("input"),d=Ze("textarea"),v=En(),_=En(),b=fe(!1),y=fe(!1),w=fe(!1),C=fe(),S=En(r.inputStyle),T=re(()=>v.value||_.value),{wrapperRef:j,isFocused:W,handleFocus:V,handleBlur:H}=Dx(T,{afterBlur(){var Z;r.validateEvent&&((Z=o?.validate)==null||Z.call(o,"blur").catch(ge=>void 0))}}),te=re(()=>{var Z;return(Z=f?.statusIcon)!=null?Z:!1}),se=re(()=>o?.validateState||""),le=re(()=>se.value&&iS[se.value]),ue=re(()=>w.value?dw:Sb),X=re(()=>[s.style,r.inputStyle]),K=re(()=>[r.inputStyle,S.value,{resize:r.resize}]),x=re(()=>_o(r.modelValue)?"":String(r.modelValue)),D=re(()=>r.clearable&&!u.value&&!r.readonly&&!!x.value&&(W.value||b.value)),F=re(()=>r.showPassword&&!u.value&&!r.readonly&&!!x.value&&(!!x.value||W.value)),I=re(()=>r.showWordLimit&&!!h.value.maxlength&&(r.type==="text"||r.type==="textarea")&&!u.value&&!r.readonly&&!r.showPassword),Q=re(()=>x.value.length),R=re(()=>!!I.value&&Q.value>Number(h.value.maxlength)),E=re(()=>!!p.suffix||!!r.suffixIcon||D.value||r.showPassword||I.value||!!se.value&&te.value),[U,M]=Mx(v);Bl(_,Z=>{if(q(),!I.value||r.resize!=="both")return;const ge=Z[0],{width:me}=ge.contentRect;C.value={right:`calc(100% - ${me+15+6}px)`}});const L=()=>{const{type:Z,autosize:ge}=r;if(!(!Ye||Z!=="textarea"||!_.value))if(ge){const me=Fe(ge)?ge.minRows:void 0,be=Fe(ge)?ge.maxRows:void 0,ke=vf(_.value,me,be);S.value={overflowY:"hidden",...ke},at(()=>{_.value.offsetHeight,S.value=ke})}else S.value={minHeight:vf(_.value).minHeight}},q=(Z=>{let ge=!1;return()=>{var me;if(ge||!r.autosize)return;((me=_.value)==null?void 0:me.offsetParent)===null||(Z(),ge=!0)}})(L),oe=()=>{const Z=T.value,ge=r.formatter?r.formatter(x.value):x.value;!Z||Z.value===ge||(Z.value=ge)},k=async Z=>{U();let{value:ge}=Z.target;if(r.formatter&&(ge=r.parser?r.parser(ge):ge),!y.value){if(ge===x.value){oe();return}n(Na,ge),n("input",ge),await at(),oe(),M()}},O=Z=>{n("change",Z.target.value)},P=Z=>{n("compositionstart",Z),y.value=!0},B=Z=>{var ge;n("compositionupdate",Z);const me=(ge=Z.target)==null?void 0:ge.value,be=me[me.length-1]||"";y.value=!lS(be)},$=Z=>{n("compositionend",Z),y.value&&(y.value=!1,k(Z))},N=()=>{w.value=!w.value,Y()},Y=async()=>{var Z;await at(),(Z=T.value)==null||Z.focus()},J=()=>{var Z;return(Z=T.value)==null?void 0:Z.blur()},ae=Z=>{b.value=!1,n("mouseleave",Z)},ne=Z=>{b.value=!0,n("mouseenter",Z)},G=Z=>{n("keydown",Z)},ce=()=>{var Z;(Z=T.value)==null||Z.select()},pe=()=>{n(Na,""),n("change",""),n("clear"),n("input","")};return Ae(()=>r.modelValue,()=>{var Z;at(()=>L()),r.validateEvent&&((Z=o?.validate)==null||Z.call(o,"change").catch(ge=>void 0))}),Ae(x,()=>oe()),Ae(()=>r.type,async()=>{await at(),oe(),L()}),Ge(()=>{!r.formatter&&r.parser,oe(),at(L)}),t({input:v,textarea:_,ref:T,textareaStyle:K,autosize:yt(r,"autosize"),focus:Y,blur:J,select:ce,clear:pe,resizeTextarea:L}),(Z,ge)=>dt((ee(),he("div",wt(A(m),{class:A(c),style:A(X),role:Z.containerRole,onMouseenter:ne,onMouseleave:ae}),[we(" input "),Z.type!=="textarea"?(ee(),he(Re,{key:0},[we(" prepend slot "),Z.$slots.prepend?(ee(),he("div",{key:0,class:ye(A(g).be("group","prepend"))},[Ee(Z.$slots,"prepend")],2)):we("v-if",!0),ie("div",{ref_key:"wrapperRef",ref:j,class:ye(A(i))},[we(" prefix slot "),Z.$slots.prefix||Z.prefixIcon?(ee(),he("span",{key:0,class:ye(A(g).e("prefix"))},[ie("span",{class:ye(A(g).e("prefix-inner"))},[Ee(Z.$slots,"prefix"),Z.prefixIcon?(ee(),Te(A(We),{key:0,class:ye(A(g).e("icon"))},{default:_e(()=>[(ee(),Te(Zt(Z.prefixIcon)))]),_:1},8,["class"])):we("v-if",!0)],2)],2)):we("v-if",!0),ie("input",wt({id:A(l),ref_key:"input",ref:v,class:A(g).e("inner")},A(h),{type:Z.showPassword?w.value?"text":"password":Z.type,disabled:A(u),formatter:Z.formatter,parser:Z.parser,readonly:Z.readonly,autocomplete:Z.autocomplete,tabindex:Z.tabindex,"aria-label":Z.label,placeholder:Z.placeholder,style:Z.inputStyle,form:r.form,autofocus:r.autofocus,onCompositionstart:P,onCompositionupdate:B,onCompositionend:$,onInput:k,onFocus:ge[0]||(ge[0]=(...me)=>A(V)&&A(V)(...me)),onBlur:ge[1]||(ge[1]=(...me)=>A(H)&&A(H)(...me)),onChange:O,onKeydown:G}),null,16,Gx),we(" suffix slot "),A(E)?(ee(),he("span",{key:1,class:ye(A(g).e("suffix"))},[ie("span",{class:ye(A(g).e("suffix-inner"))},[!A(D)||!A(F)||!A(I)?(ee(),he(Re,{key:0},[Ee(Z.$slots,"suffix"),Z.suffixIcon?(ee(),Te(A(We),{key:0,class:ye(A(g).e("icon"))},{default:_e(()=>[(ee(),Te(Zt(Z.suffixIcon)))]),_:1},8,["class"])):we("v-if",!0)],64)):we("v-if",!0),A(D)?(ee(),Te(A(We),{key:1,class:ye([A(g).e("icon"),A(g).e("clear")]),onMousedown:Kn(A(bt),["prevent"]),onClick:pe},{default:_e(()=>[ve(A(Ld))]),_:1},8,["class","onMousedown"])):we("v-if",!0),A(F)?(ee(),Te(A(We),{key:2,class:ye([A(g).e("icon"),A(g).e("password")]),onClick:N},{default:_e(()=>[(ee(),Te(Zt(A(ue))))]),_:1},8,["class"])):we("v-if",!0),A(I)?(ee(),he("span",{key:3,class:ye(A(g).e("count"))},[ie("span",{class:ye(A(g).e("count-inner"))},ze(A(Q))+" / "+ze(A(h).maxlength),3)],2)):we("v-if",!0),A(se)&&A(le)&&A(te)?(ee(),Te(A(We),{key:4,class:ye([A(g).e("icon"),A(g).e("validateIcon"),A(g).is("loading",A(se)==="validating")])},{default:_e(()=>[(ee(),Te(Zt(A(le))))]),_:1},8,["class"])):we("v-if",!0)],2)],2)):we("v-if",!0)],2),we(" append slot "),Z.$slots.append?(ee(),he("div",{key:1,class:ye(A(g).be("group","append"))},[Ee(Z.$slots,"append")],2)):we("v-if",!0)],64)):(ee(),he(Re,{key:1},[we(" textarea "),ie("textarea",wt({id:A(l),ref_key:"textarea",ref:_,class:A(d).e("inner")},A(h),{tabindex:Z.tabindex,disabled:A(u),readonly:Z.readonly,autocomplete:Z.autocomplete,style:A(K),"aria-label":Z.label,placeholder:Z.placeholder,form:r.form,autofocus:r.autofocus,onCompositionstart:P,onCompositionupdate:B,onCompositionend:$,onInput:k,onFocus:ge[2]||(ge[2]=(...me)=>A(V)&&A(V)(...me)),onBlur:ge[3]||(ge[3]=(...me)=>A(H)&&A(H)(...me)),onChange:O,onKeydown:G}),null,16,Kx),A(I)?(ee(),he("span",{key:0,style:Ve(C.value),class:ye(A(g).e("count"))},ze(A(Q))+" / "+ze(A(h).maxlength),7)):we("v-if",!0)],64))],16,Vx)),[[xt,Z.type!=="hidden"]])}});var Zx=$e(Jx,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const mf=sn(Zx),Or=4,Qx={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},e2=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),yp=Symbol("scrollbarContextKey"),t2=Xe({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),n2="Thumb",r2=Oe({__name:"thumb",props:t2,setup(e){const t=e,n=Pe(yp),r=Ze("scrollbar");n||ZC(n2,"can not inject scrollbar context");const s=fe(),p=fe(),m=fe({}),c=fe(!1);let i=!1,h=!1,f=Ye?document.onselectstart:null;const o=re(()=>Qx[t.vertical?"vertical":"horizontal"]),l=re(()=>e2({size:t.size,move:t.move,bar:o.value})),a=re(()=>s.value[o.value.offset]**2/n.wrapElement[o.value.scrollSize]/t.ratio/p.value[o.value.offset]),u=C=>{var S;if(C.stopPropagation(),C.ctrlKey||[1,2].includes(C.button))return;(S=window.getSelection())==null||S.removeAllRanges(),d(C);const T=C.currentTarget;T&&(m.value[o.value.axis]=T[o.value.offset]-(C[o.value.client]-T.getBoundingClientRect()[o.value.direction]))},g=C=>{if(!p.value||!s.value||!n.wrapElement)return;const S=Math.abs(C.target.getBoundingClientRect()[o.value.direction]-C[o.value.client]),T=p.value[o.value.offset]/2,j=(S-T)*100*a.value/s.value[o.value.offset];n.wrapElement[o.value.scroll]=j*n.wrapElement[o.value.scrollSize]/100},d=C=>{C.stopImmediatePropagation(),i=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",_),f=document.onselectstart,document.onselectstart=()=>!1},v=C=>{if(!s.value||!p.value||i===!1)return;const S=m.value[o.value.axis];if(!S)return;const T=(s.value.getBoundingClientRect()[o.value.direction]-C[o.value.client])*-1,j=p.value[o.value.offset]-S,W=(T-j)*100*a.value/s.value[o.value.offset];n.wrapElement[o.value.scroll]=W*n.wrapElement[o.value.scrollSize]/100},_=()=>{i=!1,m.value[o.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",_),w(),h&&(c.value=!1)},b=()=>{h=!1,c.value=!!t.size},y=()=>{h=!0,c.value=i};jt(()=>{w(),document.removeEventListener("mouseup",_)});const w=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return Tt(yt(n,"scrollbarElement"),"mousemove",b),Tt(yt(n,"scrollbarElement"),"mouseleave",y),(C,S)=>(ee(),Te(_n,{name:A(r).b("fade"),persisted:""},{default:_e(()=>[dt(ie("div",{ref_key:"instance",ref:s,class:ye([A(r).e("bar"),A(r).is(A(o).key)]),onMousedown:g},[ie("div",{ref_key:"thumb",ref:p,class:ye(A(r).e("thumb")),style:Ve(A(l)),onMousedown:u},null,38)],34),[[xt,C.always||c.value]])]),_:1},8,["name"]))}});var _f=$e(r2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const i2=Xe({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),s2=Oe({__name:"bar",props:i2,setup(e,{expose:t}){const n=e,r=fe(0),s=fe(0);return t({handleScroll:m=>{if(m){const c=m.offsetHeight-Or,i=m.offsetWidth-Or;s.value=m.scrollTop*100/c*n.ratioY,r.value=m.scrollLeft*100/i*n.ratioX}}}),(m,c)=>(ee(),he(Re,null,[ve(_f,{move:r.value,ratio:m.ratioX,size:m.width,always:m.always},null,8,["move","ratio","size","always"]),ve(_f,{move:s.value,ratio:m.ratioY,size:m.height,vertical:"",always:m.always},null,8,["move","ratio","size","always"])],64))}});var o2=$e(s2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const a2=Xe({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Me([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),l2={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(ot)},c2="ElScrollbar",u2=Oe({name:c2}),f2=Oe({...u2,props:a2,emits:l2,setup(e,{expose:t,emit:n}){const r=e,s=Ze("scrollbar");let p,m;const c=fe(),i=fe(),h=fe(),f=fe("0"),o=fe("0"),l=fe(),a=fe(1),u=fe(1),g=re(()=>{const S={};return r.height&&(S.height=Li(r.height)),r.maxHeight&&(S.maxHeight=Li(r.maxHeight)),[r.wrapStyle,S]}),d=re(()=>[r.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!r.native}]),v=re(()=>[s.e("view"),r.viewClass]),_=()=>{var S;i.value&&((S=l.value)==null||S.handleScroll(i.value),n("scroll",{scrollTop:i.value.scrollTop,scrollLeft:i.value.scrollLeft}))};function b(S,T){Fe(S)?i.value.scrollTo(S):ot(S)&&ot(T)&&i.value.scrollTo(S,T)}const y=S=>{ot(S)&&(i.value.scrollTop=S)},w=S=>{ot(S)&&(i.value.scrollLeft=S)},C=()=>{if(!i.value)return;const S=i.value.offsetHeight-Or,T=i.value.offsetWidth-Or,j=S**2/i.value.scrollHeight,W=T**2/i.value.scrollWidth,V=Math.max(j,r.minSize),H=Math.max(W,r.minSize);a.value=j/(S-j)/(V/(S-V)),u.value=W/(T-W)/(H/(T-H)),o.value=V+Or<S?`${V}px`:"",f.value=H+Or<T?`${H}px`:""};return Ae(()=>r.noresize,S=>{S?(p?.(),m?.()):({stop:p}=Bl(h,C),m=Tt("resize",C))},{immediate:!0}),Ae(()=>[r.maxHeight,r.height],()=>{r.native||at(()=>{var S;C(),i.value&&((S=l.value)==null||S.handleScroll(i.value))})}),Je(yp,pr({scrollbarElement:c,wrapElement:i})),Ge(()=>{r.native||at(()=>{C()})}),Hh(()=>C()),t({wrapRef:i,update:C,scrollTo:b,setScrollTop:y,setScrollLeft:w,handleScroll:_}),(S,T)=>(ee(),he("div",{ref_key:"scrollbarRef",ref:c,class:ye(A(s).b())},[ie("div",{ref_key:"wrapRef",ref:i,class:ye(A(d)),style:Ve(A(g)),onScroll:_},[(ee(),Te(Zt(S.tag),{id:S.id,ref_key:"resizeRef",ref:h,class:ye(A(v)),style:Ve(S.viewStyle),role:S.role,"aria-label":S.ariaLabel,"aria-orientation":S.ariaOrientation},{default:_e(()=>[Ee(S.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),S.native?we("v-if",!0):(ee(),Te(o2,{key:0,ref_key:"barRef",ref:l,height:o.value,width:f.value,always:S.always,"ratio-x":u.value,"ratio-y":a.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var h2=$e(f2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const d2=sn(h2),nc=Symbol("popper"),bp=Symbol("popperContent"),p2=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],wp=Xe({role:{type:String,values:p2,default:"tooltip"}}),g2=Oe({name:"ElPopper",inheritAttrs:!1}),v2=Oe({...g2,props:wp,setup(e,{expose:t}){const n=e,r=fe(),s=fe(),p=fe(),m=fe(),c=re(()=>n.role),i={triggerRef:r,popperInstanceRef:s,contentRef:p,referenceRef:m,role:c};return t(i),Je(nc,i),(h,f)=>Ee(h.$slots,"default")}});var m2=$e(v2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const Cp=Xe({arrowOffset:{type:Number,default:5}}),_2=Oe({name:"ElPopperArrow",inheritAttrs:!1}),y2=Oe({..._2,props:Cp,setup(e,{expose:t}){const n=e,r=Ze("popper"),{arrowOffset:s,arrowRef:p,arrowStyle:m}=Pe(bp,void 0);return Ae(()=>n.arrowOffset,c=>{s.value=c}),jt(()=>{p.value=void 0}),t({arrowRef:p}),(c,i)=>(ee(),he("span",{ref_key:"arrowRef",ref:p,class:ye(A(r).e("arrow")),style:Ve(A(m)),"data-popper-arrow":""},null,6))}});var b2=$e(y2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const w2="ElOnlyChild",Sp=Oe({name:w2,setup(e,{slots:t,attrs:n}){var r;const s=Pe(hp),p=Ax((r=s?.setForwardRef)!=null?r:bt);return()=>{var m;const c=(m=t.default)==null?void 0:m.call(t,n);if(!c||c.length>1)return null;const i=xp(c);return i?dt(An(i,n),[[p]]):null}}});function xp(e){if(!e)return null;const t=e;for(const n of t){if(Fe(n))switch(n.type){case Bt:continue;case Zr:case"svg":return yf(n);case Re:return xp(n.children);default:return n}return yf(n)}return null}function yf(e){const t=Ze("only-child");return ve("span",{class:t.e("content")},[e])}const Tp=Xe({virtualRef:{type:Me(Object)},virtualTriggering:Boolean,onMouseenter:{type:Me(Function)},onMouseleave:{type:Me(Function)},onClick:{type:Me(Function)},onKeydown:{type:Me(Function)},onFocus:{type:Me(Function)},onBlur:{type:Me(Function)},onContextmenu:{type:Me(Function)},id:String,open:Boolean}),C2=Oe({name:"ElPopperTrigger",inheritAttrs:!1}),S2=Oe({...C2,props:Tp,setup(e,{expose:t}){const n=e,{role:r,triggerRef:s}=Pe(nc,void 0);kx(s);const p=re(()=>c.value?n.id:void 0),m=re(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),c=re(()=>{if(r&&r.value!=="tooltip")return r.value}),i=re(()=>c.value?`${n.open}`:void 0);let h;return Ge(()=>{Ae(()=>n.virtualRef,f=>{f&&(s.value=Wn(f))},{immediate:!0}),Ae(s,(f,o)=>{h?.(),h=void 0,Nr(f)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(l=>{var a;const u=n[l];u&&(f.addEventListener(l.slice(2).toLowerCase(),u),(a=o?.removeEventListener)==null||a.call(o,l.slice(2).toLowerCase(),u))}),h=Ae([p,m,c,i],l=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((a,u)=>{_o(l[u])?f.removeAttribute(a):f.setAttribute(a,l[u])})},{immediate:!0})),Nr(o)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(l=>o.removeAttribute(l))},{immediate:!0})}),jt(()=>{h?.(),h=void 0}),t({triggerRef:s}),(f,o)=>f.virtualTriggering?we("v-if",!0):(ee(),Te(A(Sp),wt({key:0},f.$attrs,{"aria-controls":A(p),"aria-describedby":A(m),"aria-expanded":A(i),"aria-haspopup":A(c)}),{default:_e(()=>[Ee(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var x2=$e(S2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const Qo="focus-trap.focus-after-trapped",ea="focus-trap.focus-after-released",T2="focus-trap.focusout-prevented",bf={cancelable:!0,bubbles:!1},O2={cancelable:!0,bubbles:!1},wf="focusAfterTrapped",Cf="focusAfterReleased",Op=Symbol("elFocusTrap"),rc=fe(),xo=fe(0),ic=fe(0);let ls=0;const Ep=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},Sf=(e,t)=>{for(const n of e)if(!E2(n,t))return n},E2=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},P2=e=>{const t=Ep(e),n=Sf(t,e),r=Sf(t.reverse(),e);return[n,r]},k2=e=>e instanceof HTMLInputElement&&"select"in e,zn=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),ic.value=window.performance.now(),e!==n&&k2(e)&&t&&e.select()}};function xf(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const A2=()=>{let e=[];return{push:r=>{const s=e[0];s&&r!==s&&s.pause(),e=xf(e,r),e.unshift(r)},remove:r=>{var s,p;e=xf(e,r),(p=(s=e[0])==null?void 0:s.resume)==null||p.call(s)}}},M2=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(zn(r,t),document.activeElement!==n)return},Tf=A2(),R2=()=>xo.value>ic.value,cs=()=>{rc.value="pointer",xo.value=window.performance.now()},Of=()=>{rc.value="keyboard",xo.value=window.performance.now()},D2=()=>(Ge(()=>{ls===0&&(document.addEventListener("mousedown",cs),document.addEventListener("touchstart",cs),document.addEventListener("keydown",Of)),ls++}),jt(()=>{ls--,ls<=0&&(document.removeEventListener("mousedown",cs),document.removeEventListener("touchstart",cs),document.removeEventListener("keydown",Of))}),{focusReason:rc,lastUserFocusTimestamp:xo,lastAutomatedFocusTimestamp:ic}),us=e=>new CustomEvent(T2,{...O2,detail:e}),I2=Oe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[wf,Cf,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=fe();let r,s;const{focusReason:p}=D2();xx(u=>{e.trapped&&!m.paused&&t("release-requested",u)});const m={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},c=u=>{if(!e.loop&&!e.trapped||m.paused)return;const{key:g,altKey:d,ctrlKey:v,metaKey:_,currentTarget:b,shiftKey:y}=u,{loop:w}=e,C=g===Be.tab&&!d&&!v&&!_,S=document.activeElement;if(C&&S){const T=b,[j,W]=P2(T);if(j&&W){if(!y&&S===W){const H=us({focusReason:p.value});t("focusout-prevented",H),H.defaultPrevented||(u.preventDefault(),w&&zn(j,!0))}else if(y&&[j,T].includes(S)){const H=us({focusReason:p.value});t("focusout-prevented",H),H.defaultPrevented||(u.preventDefault(),w&&zn(W,!0))}}else if(S===T){const H=us({focusReason:p.value});t("focusout-prevented",H),H.defaultPrevented||u.preventDefault()}}};Je(Op,{focusTrapRef:n,onKeydown:c}),Ae(()=>e.focusTrapEl,u=>{u&&(n.value=u)},{immediate:!0}),Ae([n],([u],[g])=>{u&&(u.addEventListener("keydown",c),u.addEventListener("focusin",f),u.addEventListener("focusout",o)),g&&(g.removeEventListener("keydown",c),g.removeEventListener("focusin",f),g.removeEventListener("focusout",o))});const i=u=>{t(wf,u)},h=u=>t(Cf,u),f=u=>{const g=A(n);if(!g)return;const d=u.target,v=u.relatedTarget,_=d&&g.contains(d);e.trapped||v&&g.contains(v)||(r=v),_&&t("focusin",u),!m.paused&&e.trapped&&(_?s=d:zn(s,!0))},o=u=>{const g=A(n);if(!(m.paused||!g))if(e.trapped){const d=u.relatedTarget;!_o(d)&&!g.contains(d)&&setTimeout(()=>{if(!m.paused&&e.trapped){const v=us({focusReason:p.value});t("focusout-prevented",v),v.defaultPrevented||zn(s,!0)}},0)}else{const d=u.target;d&&g.contains(d)||t("focusout",u)}};async function l(){await at();const u=A(n);if(u){Tf.push(m);const g=u.contains(document.activeElement)?r:document.activeElement;if(r=g,!u.contains(g)){const v=new Event(Qo,bf);u.addEventListener(Qo,i),u.dispatchEvent(v),v.defaultPrevented||at(()=>{let _=e.focusStartEl;je(_)||(zn(_),document.activeElement!==_&&(_="first")),_==="first"&&M2(Ep(u),!0),(document.activeElement===g||_==="container")&&zn(u)})}}}function a(){const u=A(n);if(u){u.removeEventListener(Qo,i);const g=new CustomEvent(ea,{...bf,detail:{focusReason:p.value}});u.addEventListener(ea,h),u.dispatchEvent(g),!g.defaultPrevented&&(p.value=="keyboard"||!R2()||u.contains(document.activeElement))&&zn(r??document.body),u.removeEventListener(ea,h),Tf.remove(m)}}return Ge(()=>{e.trapped&&l(),Ae(()=>e.trapped,u=>{u?l():a()})}),jt(()=>{e.trapped&&a()}),{onKeydown:c}}});function F2(e,t,n,r,s,p){return Ee(e.$slots,"default",{handleKeydown:e.onKeydown})}var L2=$e(I2,[["render",F2],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const B2=["fixed","absolute"],j2=Xe({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Me(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ul,default:"bottom"},popperOptions:{type:Me(Object),default:()=>({})},strategy:{type:String,values:B2,default:"absolute"}}),Pp=Xe({...j2,id:String,style:{type:Me([String,Array,Object])},className:{type:Me([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Me([String,Array,Object])},popperStyle:{type:Me([String,Array,Object])},referenceEl:{type:Me(Object)},triggerTargetEl:{type:Me(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),N2={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},z2=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:s}=e,p={placement:n,strategy:r,...s,modifiers:[...H2(e),...t]};return U2(p,s?.modifiers),p},$2=e=>{if(Ye)return Wn(e)};function H2(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function U2(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const W2=0,Y2=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:s}=Pe(nc,void 0),p=fe(),m=fe(),c=re(()=>({name:"eventListeners",enabled:!!e.visible})),i=re(()=>{var v;const _=A(p),b=(v=A(m))!=null?v:W2;return{name:"arrow",enabled:!VC(_),options:{element:_,padding:b}}}),h=re(()=>({onFirstUpdate:()=>{u()},...z2(e,[A(i),A(c)])})),f=re(()=>$2(e.referenceEl)||A(r)),{attributes:o,state:l,styles:a,update:u,forceUpdate:g,instanceRef:d}=wx(f,n,h);return Ae(d,v=>t.value=v),Ge(()=>{Ae(()=>{var v;return(v=A(f))==null?void 0:v.getBoundingClientRect()},()=>{u()})}),{attributes:o,arrowRef:p,contentRef:n,instanceRef:d,state:l,styles:a,role:s,forceUpdate:g,update:u}},X2=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:s}=Jl(),p=Ze("popper"),m=re(()=>A(t).popper),c=fe(ot(e.zIndex)?e.zIndex:s()),i=re(()=>[p.b(),p.is("pure",e.pure),p.is(e.effect),e.popperClass]),h=re(()=>[{zIndex:A(c)},A(n).popper,e.popperStyle||{}]),f=re(()=>r.value==="dialog"?"false":void 0),o=re(()=>A(n).arrow||{});return{ariaModal:f,arrowStyle:o,contentAttrs:m,contentClass:i,contentStyle:h,contentZIndex:c,updateZIndex:()=>{c.value=ot(e.zIndex)?e.zIndex:s()}}},V2=(e,t)=>{const n=fe(!1),r=fe();return{focusStartRef:r,trapped:n,onFocusAfterReleased:h=>{var f;((f=h.detail)==null?void 0:f.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:h=>{e.visible&&!n.value&&(h.target&&(r.value=h.target),n.value=!0)},onFocusoutPrevented:h=>{e.trapping||(h.detail.focusReason==="pointer"&&h.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},G2=Oe({name:"ElPopperContent"}),K2=Oe({...G2,props:Pp,emits:N2,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:s,trapped:p,onFocusAfterReleased:m,onFocusAfterTrapped:c,onFocusInTrap:i,onFocusoutPrevented:h,onReleaseRequested:f}=V2(r,n),{attributes:o,arrowRef:l,contentRef:a,styles:u,instanceRef:g,role:d,update:v}=Y2(r),{ariaModal:_,arrowStyle:b,contentAttrs:y,contentClass:w,contentStyle:C,updateZIndex:S}=X2(r,{styles:u,attributes:o,role:d}),T=Pe($s,void 0),j=fe();Je(bp,{arrowStyle:b,arrowRef:l,arrowOffset:j}),T&&(T.addInputId||T.removeInputId)&&Je($s,{...T,addInputId:bt,removeInputId:bt});let W;const V=(te=!0)=>{v(),te&&S()},H=()=>{V(!1),r.visible&&r.focusOnShow?p.value=!0:r.visible===!1&&(p.value=!1)};return Ge(()=>{Ae(()=>r.triggerTargetEl,(te,se)=>{W?.(),W=void 0;const le=A(te||a.value),ue=A(se||a.value);Nr(le)&&(W=Ae([d,()=>r.ariaLabel,_,()=>r.id],X=>{["role","aria-label","aria-modal","id"].forEach((K,x)=>{_o(X[x])?le.removeAttribute(K):le.setAttribute(K,X[x])})},{immediate:!0})),ue!==le&&Nr(ue)&&["role","aria-label","aria-modal","id"].forEach(X=>{ue.removeAttribute(X)})},{immediate:!0}),Ae(()=>r.visible,H,{immediate:!0})}),jt(()=>{W?.(),W=void 0}),t({popperContentRef:a,popperInstanceRef:g,updatePopper:V,contentStyle:C}),(te,se)=>(ee(),he("div",wt({ref_key:"contentRef",ref:a},A(y),{style:A(C),class:A(w),tabindex:"-1",onMouseenter:se[0]||(se[0]=le=>te.$emit("mouseenter",le)),onMouseleave:se[1]||(se[1]=le=>te.$emit("mouseleave",le))}),[ve(A(L2),{trapped:A(p),"trap-on-focus-in":!0,"focus-trap-el":A(a),"focus-start-el":A(s),onFocusAfterTrapped:A(c),onFocusAfterReleased:A(m),onFocusin:A(i),onFocusoutPrevented:A(h),onReleaseRequested:A(f)},{default:_e(()=>[Ee(te.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var q2=$e(K2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const J2=sn(m2),sc=Symbol("elTooltip"),$t=Xe({...Ex,...Pp,appendTo:{type:Me([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Me(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),Ni=Xe({...Tp,disabled:Boolean,trigger:{type:Me([String,Array]),default:"hover"},triggerKeys:{type:Me(Array),default:()=>[Be.enter,Be.space]}}),{useModelToggleProps:Z2,useModelToggleEmits:Q2,useModelToggle:eT}=Jd("visible"),tT=Xe({...wp,...Z2,...$t,...Ni,...Cp,showArrow:{type:Boolean,default:!0}}),nT=[...Q2,"before-show","before-hide","show","hide","open","close"],rT=(e,t)=>Ce(e)?e.includes(t):e===t,Sr=(e,t,n)=>r=>{rT(A(e),t)&&n(r)},iT=Oe({name:"ElTooltipTrigger"}),sT=Oe({...iT,props:Ni,setup(e,{expose:t}){const n=e,r=Ze("tooltip"),{controlled:s,id:p,open:m,onOpen:c,onClose:i,onToggle:h}=Pe(sc,void 0),f=fe(null),o=()=>{if(A(s)||n.disabled)return!0},l=yt(n,"trigger"),a=tt(o,Sr(l,"hover",c)),u=tt(o,Sr(l,"hover",i)),g=tt(o,Sr(l,"click",y=>{y.button===0&&h(y)})),d=tt(o,Sr(l,"focus",c)),v=tt(o,Sr(l,"focus",i)),_=tt(o,Sr(l,"contextmenu",y=>{y.preventDefault(),h(y)})),b=tt(o,y=>{const{code:w}=y;n.triggerKeys.includes(w)&&(y.preventDefault(),h(y))});return t({triggerRef:f}),(y,w)=>(ee(),Te(A(x2),{id:A(p),"virtual-ref":y.virtualRef,open:A(m),"virtual-triggering":y.virtualTriggering,class:ye(A(r).e("trigger")),onBlur:A(v),onClick:A(g),onContextmenu:A(_),onFocus:A(d),onMouseenter:A(a),onMouseleave:A(u),onKeydown:A(b)},{default:_e(()=>[Ee(y.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var oT=$e(sT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const aT=Oe({name:"ElTooltipContent",inheritAttrs:!1}),lT=Oe({...aT,props:$t,setup(e,{expose:t}){const n=e,{selector:r}=fp(),s=Ze("tooltip"),p=fe(null),m=fe(!1),{controlled:c,id:i,open:h,trigger:f,onClose:o,onOpen:l,onShow:a,onHide:u,onBeforeShow:g,onBeforeHide:d}=Pe(sc,void 0),v=re(()=>n.transition||`${s.namespace.value}-fade-in-linear`),_=re(()=>n.persistent);jt(()=>{m.value=!0});const b=re(()=>A(_)?!0:A(h)),y=re(()=>n.disabled?!1:A(h)),w=re(()=>n.appendTo||r.value),C=re(()=>{var X;return(X=n.style)!=null?X:{}}),S=re(()=>!A(h)),T=()=>{u()},j=()=>{if(A(c))return!0},W=tt(j,()=>{n.enterable&&A(f)==="hover"&&l()}),V=tt(j,()=>{A(f)==="hover"&&o()}),H=()=>{var X,K;(K=(X=p.value)==null?void 0:X.updatePopper)==null||K.call(X),g?.()},te=()=>{d?.()},se=()=>{a(),ue=Gw(re(()=>{var X;return(X=p.value)==null?void 0:X.popperContentRef}),()=>{if(A(c))return;A(f)!=="hover"&&o()})},le=()=>{n.virtualTriggering||o()};let ue;return Ae(()=>A(h),X=>{X||ue?.()},{flush:"post"}),Ae(()=>n.content,()=>{var X,K;(K=(X=p.value)==null?void 0:X.updatePopper)==null||K.call(X)}),t({contentRef:p}),(X,K)=>(ee(),Te(Ol,{disabled:!X.teleported,to:A(w)},[ve(_n,{name:A(v),onAfterLeave:T,onBeforeEnter:H,onAfterEnter:se,onBeforeLeave:te},{default:_e(()=>[A(b)?dt((ee(),Te(A(q2),wt({key:0,id:A(i),ref_key:"contentRef",ref:p},X.$attrs,{"aria-label":X.ariaLabel,"aria-hidden":A(S),"boundaries-padding":X.boundariesPadding,"fallback-placements":X.fallbackPlacements,"gpu-acceleration":X.gpuAcceleration,offset:X.offset,placement:X.placement,"popper-options":X.popperOptions,strategy:X.strategy,effect:X.effect,enterable:X.enterable,pure:X.pure,"popper-class":X.popperClass,"popper-style":[X.popperStyle,A(C)],"reference-el":X.referenceEl,"trigger-target-el":X.triggerTargetEl,visible:A(y),"z-index":X.zIndex,onMouseenter:A(W),onMouseleave:A(V),onBlur:le,onClose:A(o)}),{default:_e(()=>[m.value?we("v-if",!0):Ee(X.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[xt,A(y)]]):we("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var cT=$e(lT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const uT=["innerHTML"],fT={key:1},hT=Oe({name:"ElTooltip"}),dT=Oe({...hT,props:tT,emits:nT,setup(e,{expose:t,emit:n}){const r=e;Ox();const s=So(),p=fe(),m=fe(),c=()=>{var v;const _=A(p);_&&((v=_.popperInstanceRef)==null||v.update())},i=fe(!1),h=fe(),{show:f,hide:o,hasUpdateHandler:l}=eT({indicator:i,toggleReason:h}),{onOpen:a,onClose:u}=Px({showAfter:yt(r,"showAfter"),hideAfter:yt(r,"hideAfter"),autoClose:yt(r,"autoClose"),open:f,close:o}),g=re(()=>Nl(r.visible)&&!l.value);Je(sc,{controlled:g,id:s,open:Wi(i),trigger:yt(r,"trigger"),onOpen:v=>{a(v)},onClose:v=>{u(v)},onToggle:v=>{A(i)?u(v):a(v)},onShow:()=>{n("show",h.value)},onHide:()=>{n("hide",h.value)},onBeforeShow:()=>{n("before-show",h.value)},onBeforeHide:()=>{n("before-hide",h.value)},updatePopper:c}),Ae(()=>r.disabled,v=>{v&&i.value&&(i.value=!1)});const d=v=>{var _,b;const y=(b=(_=m.value)==null?void 0:_.contentRef)==null?void 0:b.popperContentRef,w=v?.relatedTarget||document.activeElement;return y&&y.contains(w)};return Nh(()=>i.value&&o()),t({popperRef:p,contentRef:m,isFocusInsideContent:d,updatePopper:c,onOpen:a,onClose:u,hide:o}),(v,_)=>(ee(),Te(A(J2),{ref_key:"popperRef",ref:p,role:v.role},{default:_e(()=>[ve(oT,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:_e(()=>[v.$slots.default?Ee(v.$slots,"default",{key:0}):we("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ve(cT,{ref_key:"contentRef",ref:m,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:_e(()=>[Ee(v.$slots,"content",{},()=>[v.rawContent?(ee(),he("span",{key:0,innerHTML:v.content},null,8,uT)):(ee(),he("span",fT,ze(v.content),1))]),v.showArrow?(ee(),Te(A(b2),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):we("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var pT=$e(dT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const kp=sn(pT),gT=Xe({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),vT=["textContent"],mT=Oe({name:"ElBadge"}),_T=Oe({...mT,props:gT,setup(e,{expose:t}){const n=e,r=Ze("badge"),s=re(()=>n.isDot?"":ot(n.value)&&ot(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`);return t({content:s}),(p,m)=>(ee(),he("div",{class:ye(A(r).b())},[Ee(p.$slots,"default"),ve(_n,{name:`${A(r).namespace.value}-zoom-in-center`,persisted:""},{default:_e(()=>[dt(ie("sup",{class:ye([A(r).e("content"),A(r).em("content",p.type),A(r).is("fixed",!!p.$slots.default),A(r).is("dot",p.isDot)]),textContent:ze(A(s))},null,10,vT),[[xt,!p.hidden&&(A(s)||p.isDot)]])]),_:1},8,["name"])],2))}});var yT=$e(_T,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const bT=sn(yT),Ap=Symbol("buttonGroupContextKey"),wT=(e,t)=>{fS({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},re(()=>e.type==="text"));const n=Pe(Ap,void 0),r=Zl("button"),{form:s}=_p(),p=ec(re(()=>n?.size)),m=tc(),c=fe(),i=Xh(),h=re(()=>e.type||n?.type||""),f=re(()=>{var u,g,d;return(d=(g=e.autoInsertSpace)!=null?g:(u=r.value)==null?void 0:u.autoInsertSpace)!=null?d:!1}),o=re(()=>e.tag==="button"?{ariaDisabled:m.value||e.loading,disabled:m.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),l=re(()=>{var u;const g=(u=i.default)==null?void 0:u.call(i);if(f.value&&g?.length===1){const d=g[0];if(d?.type===Zr){const v=d.children;return/^\p{Unified_Ideograph}{2}$/u.test(v.trim())}}return!1});return{_disabled:m,_size:p,_type:h,_ref:c,_props:o,shouldAddSpace:l,handleClick:u=>{e.nativeType==="reset"&&s?.resetFields(),t("click",u)}}},CT=["default","primary","success","warning","info","danger","text",""],ST=["button","submit","reset"],$a=Xe({size:gp,disabled:Boolean,type:{type:String,values:CT,default:""},icon:{type:zr},nativeType:{type:String,values:ST,default:"button"},loading:Boolean,loadingIcon:{type:zr,default:()=>Nd},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Me([String,Object]),default:"button"}}),xT={click:e=>e instanceof MouseEvent};function gt(e,t){TT(e)&&(e="100%");var n=OT(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function fs(e){return Math.min(1,Math.max(0,e))}function TT(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function OT(e){return typeof e=="string"&&e.indexOf("%")!==-1}function Mp(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function hs(e){return e<=1?"".concat(Number(e)*100,"%"):e}function lr(e){return e.length===1?"0"+e:String(e)}function ET(e,t,n){return{r:gt(e,255)*255,g:gt(t,255)*255,b:gt(n,255)*255}}function Ef(e,t,n){e=gt(e,255),t=gt(t,255),n=gt(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),p=0,m=0,c=(r+s)/2;if(r===s)m=0,p=0;else{var i=r-s;switch(m=c>.5?i/(2-r-s):i/(r+s),r){case e:p=(t-n)/i+(t<n?6:0);break;case t:p=(n-e)/i+2;break;case n:p=(e-t)/i+4;break}p/=6}return{h:p,s:m,l:c}}function ta(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function PT(e,t,n){var r,s,p;if(e=gt(e,360),t=gt(t,100),n=gt(n,100),t===0)s=n,p=n,r=n;else{var m=n<.5?n*(1+t):n+t-n*t,c=2*n-m;r=ta(c,m,e+1/3),s=ta(c,m,e),p=ta(c,m,e-1/3)}return{r:r*255,g:s*255,b:p*255}}function Pf(e,t,n){e=gt(e,255),t=gt(t,255),n=gt(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),p=0,m=r,c=r-s,i=r===0?0:c/r;if(r===s)p=0;else{switch(r){case e:p=(t-n)/c+(t<n?6:0);break;case t:p=(n-e)/c+2;break;case n:p=(e-t)/c+4;break}p/=6}return{h:p,s:i,v:m}}function kT(e,t,n){e=gt(e,360)*6,t=gt(t,100),n=gt(n,100);var r=Math.floor(e),s=e-r,p=n*(1-t),m=n*(1-s*t),c=n*(1-(1-s)*t),i=r%6,h=[n,m,p,p,c,n][i],f=[c,n,n,m,p,p][i],o=[p,p,c,n,n,m][i];return{r:h*255,g:f*255,b:o*255}}function kf(e,t,n,r){var s=[lr(Math.round(e).toString(16)),lr(Math.round(t).toString(16)),lr(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function AT(e,t,n,r,s){var p=[lr(Math.round(e).toString(16)),lr(Math.round(t).toString(16)),lr(Math.round(n).toString(16)),lr(MT(r))];return s&&p[0].startsWith(p[0].charAt(1))&&p[1].startsWith(p[1].charAt(1))&&p[2].startsWith(p[2].charAt(1))&&p[3].startsWith(p[3].charAt(1))?p[0].charAt(0)+p[1].charAt(0)+p[2].charAt(0)+p[3].charAt(0):p.join("")}function MT(e){return Math.round(parseFloat(e)*255).toString(16)}function Af(e){return It(e)/255}function It(e){return parseInt(e,16)}function RT(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Ha={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function DT(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,p=null,m=!1,c=!1;return typeof e=="string"&&(e=LT(e)),typeof e=="object"&&(xn(e.r)&&xn(e.g)&&xn(e.b)?(t=ET(e.r,e.g,e.b),m=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):xn(e.h)&&xn(e.s)&&xn(e.v)?(r=hs(e.s),s=hs(e.v),t=kT(e.h,r,s),m=!0,c="hsv"):xn(e.h)&&xn(e.s)&&xn(e.l)&&(r=hs(e.s),p=hs(e.l),t=PT(e.h,r,p),m=!0,c="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Mp(n),{ok:m,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var IT="[-\\+]?\\d+%?",FT="[-\\+]?\\d*\\.\\d+%?",Yn="(?:".concat(FT,")|(?:").concat(IT,")"),na="[\\s|\\(]+(".concat(Yn,")[,|\\s]+(").concat(Yn,")[,|\\s]+(").concat(Yn,")\\s*\\)?"),ra="[\\s|\\(]+(".concat(Yn,")[,|\\s]+(").concat(Yn,")[,|\\s]+(").concat(Yn,")[,|\\s]+(").concat(Yn,")\\s*\\)?"),qt={CSS_UNIT:new RegExp(Yn),rgb:new RegExp("rgb"+na),rgba:new RegExp("rgba"+ra),hsl:new RegExp("hsl"+na),hsla:new RegExp("hsla"+ra),hsv:new RegExp("hsv"+na),hsva:new RegExp("hsva"+ra),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function LT(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(Ha[e])e=Ha[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=qt.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=qt.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=qt.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=qt.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=qt.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=qt.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=qt.hex8.exec(e),n?{r:It(n[1]),g:It(n[2]),b:It(n[3]),a:Af(n[4]),format:t?"name":"hex8"}:(n=qt.hex6.exec(e),n?{r:It(n[1]),g:It(n[2]),b:It(n[3]),format:t?"name":"hex"}:(n=qt.hex4.exec(e),n?{r:It(n[1]+n[1]),g:It(n[2]+n[2]),b:It(n[3]+n[3]),a:Af(n[4]+n[4]),format:t?"name":"hex8"}:(n=qt.hex3.exec(e),n?{r:It(n[1]+n[1]),g:It(n[2]+n[2]),b:It(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function xn(e){return!!qt.CSS_UNIT.exec(String(e))}var BT=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=RT(t)),this.originalInput=t;var s=DT(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,s,p=t.r/255,m=t.g/255,c=t.b/255;return p<=.03928?n=p/12.92:n=Math.pow((p+.055)/1.055,2.4),m<=.03928?r=m/12.92:r=Math.pow((m+.055)/1.055,2.4),c<=.03928?s=c/12.92:s=Math.pow((c+.055)/1.055,2.4),.2126*n+.7152*r+.0722*s},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=Mp(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=Pf(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=Pf(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=Ef(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=Ef(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),kf(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),AT(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(gt(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(gt(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+kf(this.r,this.g,this.b,!1),n=0,r=Object.entries(Ha);n<r.length;n++){var s=r[n],p=s[0],m=s[1];if(t===m)return p}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,s=this.a<1&&this.a>=0,p=!n&&s&&(t.startsWith("hex")||t==="name");return p?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=fs(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=fs(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=fs(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=fs(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),s=new e(t).toRgb(),p=n/100,m={r:(s.r-r.r)*p+r.r,g:(s.g-r.g)*p+r.g,b:(s.b-r.b)*p+r.b,a:(s.a-r.a)*p+r.a};return new e(m)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),s=360/n,p=[this];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,p.push(new e(r));return p},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,s=n.s,p=n.v,m=[],c=1/t;t--;)m.push(new e({h:r,s,v:p})),p=(p+c)%1;return m},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),s=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,s=[this],p=360/t,m=1;m<t;m++)s.push(new e({h:(r+m*p)%360,s:n.s,l:n.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function jn(e,t=20){return e.mix("#141414",t).toString()}function jT(e){const t=tc(),n=Ze("button");return re(()=>{let r={};const s=e.color;if(s){const p=new BT(s),m=e.dark?p.tint(20).toString():jn(p,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?jn(p,90):p.tint(90).toString(),"text-color":s,"border-color":e.dark?jn(p,50):p.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":m,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":m}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?jn(p,90):p.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?jn(p,50):p.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?jn(p,80):p.tint(80).toString());else{const c=e.dark?jn(p,30):p.tint(30).toString(),i=p.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":s,"text-color":i,"border-color":s,"hover-bg-color":c,"hover-text-color":i,"hover-border-color":c,"active-bg-color":m,"active-border-color":m}),t.value){const h=e.dark?jn(p,50):p.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=h,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=h}}}return r})}const NT=Oe({name:"ElButton"}),zT=Oe({...NT,props:$a,emits:xT,setup(e,{expose:t,emit:n}){const r=e,s=jT(r),p=Ze("button"),{_ref:m,_size:c,_type:i,_disabled:h,_props:f,shouldAddSpace:o,handleClick:l}=wT(r,n);return t({ref:m,size:c,type:i,disabled:h,shouldAddSpace:o}),(a,u)=>(ee(),Te(Zt(a.tag),wt({ref_key:"_ref",ref:m},A(f),{class:[A(p).b(),A(p).m(A(i)),A(p).m(A(c)),A(p).is("disabled",A(h)),A(p).is("loading",a.loading),A(p).is("plain",a.plain),A(p).is("round",a.round),A(p).is("circle",a.circle),A(p).is("text",a.text),A(p).is("link",a.link),A(p).is("has-bg",a.bg)],style:A(s),onClick:A(l)}),{default:_e(()=>[a.loading?(ee(),he(Re,{key:0},[a.$slots.loading?Ee(a.$slots,"loading",{key:0}):(ee(),Te(A(We),{key:1,class:ye(A(p).is("loading"))},{default:_e(()=>[(ee(),Te(Zt(a.loadingIcon)))]),_:1},8,["class"]))],64)):a.icon||a.$slots.icon?(ee(),Te(A(We),{key:1},{default:_e(()=>[a.icon?(ee(),Te(Zt(a.icon),{key:0})):Ee(a.$slots,"icon",{key:1})]),_:3})):we("v-if",!0),a.$slots.default?(ee(),he("span",{key:2,class:ye({[A(p).em("text","expand")]:A(o)})},[Ee(a.$slots,"default")],2)):we("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var $T=$e(zT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const HT={size:$a.size,type:$a.type},UT=Oe({name:"ElButtonGroup"}),WT=Oe({...UT,props:HT,setup(e){const t=e;Je(Ap,pr({size:yt(t,"size"),type:yt(t,"type")}));const n=Ze("button");return(r,s)=>(ee(),he("div",{class:ye(`${A(n).b("group")}`)},[Ee(r.$slots,"default")],2))}});var Rp=$e(WT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const Dp=sn($T,{ButtonGroup:Rp});zl(Rp);function YT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}const XT=Oe({inheritAttrs:!1});function VT(e,t,n,r,s,p){return Ee(e.$slots,"default")}var GT=$e(XT,[["render",VT],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const KT=Oe({name:"ElCollectionItem",inheritAttrs:!1});function qT(e,t,n,r,s,p){return Ee(e.$slots,"default")}var JT=$e(KT,[["render",qT],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Ip="data-el-collection-item",Fp=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),s=Symbol(n),p={...GT,name:t,setup(){const c=fe(null),i=new Map;Je(r,{itemMap:i,getItems:()=>{const f=A(c);if(!f)return[];const o=Array.from(f.querySelectorAll(`[${Ip}]`));return[...i.values()].sort((a,u)=>o.indexOf(a.ref)-o.indexOf(u.ref))},collectionRef:c})}},m={...JT,name:n,setup(c,{attrs:i}){const h=fe(null),f=Pe(r,void 0);Je(s,{collectionItemRef:h}),Ge(()=>{const o=A(h);o&&f.itemMap.set(o,{ref:o,...i})}),jt(()=>{const o=A(h);f.itemMap.delete(o)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:p,ElCollectionItem:m}},ZT=Xe({style:{type:Me([String,Array,Object])},currentTabId:{type:Me(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Me(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:QT,ElCollectionItem:eO,COLLECTION_INJECTION_KEY:oc,COLLECTION_ITEM_INJECTION_KEY:tO}=Fp("RovingFocusGroup"),ac=Symbol("elRovingFocusGroup"),Lp=Symbol("elRovingFocusGroupItem"),nO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},rO=(e,t)=>{if(t!=="rtl")return e;switch(e){case Be.right:return Be.left;case Be.left:return Be.right;default:return e}},iO=(e,t,n)=>{const r=rO(e.key,n);if(!(t==="vertical"&&[Be.left,Be.right].includes(r))&&!(t==="horizontal"&&[Be.up,Be.down].includes(r)))return nO[r]},sO=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),lc=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},Mf="currentTabIdChange",Rf="rovingFocusGroup.entryFocus",oO={bubbles:!1,cancelable:!0},aO=Oe({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:ZT,emits:[Mf,"entryFocus"],setup(e,{emit:t}){var n;const r=fe((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),s=fe(!1),p=fe(!1),m=fe(null),{getItems:c}=Pe(oc,void 0),i=re(()=>[{outline:"none"},e.style]),h=g=>{t(Mf,g)},f=()=>{s.value=!0},o=tt(g=>{var d;(d=e.onMousedown)==null||d.call(e,g)},()=>{p.value=!0}),l=tt(g=>{var d;(d=e.onFocus)==null||d.call(e,g)},g=>{const d=!A(p),{target:v,currentTarget:_}=g;if(v===_&&d&&!A(s)){const b=new Event(Rf,oO);if(_?.dispatchEvent(b),!b.defaultPrevented){const y=c().filter(j=>j.focusable),w=y.find(j=>j.active),C=y.find(j=>j.id===A(r)),T=[w,C,...y].filter(Boolean).map(j=>j.ref);lc(T)}}p.value=!1}),a=tt(g=>{var d;(d=e.onBlur)==null||d.call(e,g)},()=>{s.value=!1}),u=(...g)=>{t("entryFocus",...g)};Je(ac,{currentTabbedId:Wi(r),loop:yt(e,"loop"),tabIndex:re(()=>A(s)?-1:0),rovingFocusGroupRef:m,rovingFocusGroupRootStyle:i,orientation:yt(e,"orientation"),dir:yt(e,"dir"),onItemFocus:h,onItemShiftTab:f,onBlur:a,onFocus:l,onMousedown:o}),Ae(()=>e.currentTabId,g=>{r.value=g??null}),Tt(m,Rf,u)}});function lO(e,t,n,r,s,p){return Ee(e.$slots,"default")}var cO=$e(aO,[["render",lO],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const uO=Oe({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:QT,ElRovingFocusGroupImpl:cO}});function fO(e,t,n,r,s,p){const m=He("el-roving-focus-group-impl"),c=He("el-focus-group-collection");return ee(),Te(c,null,{default:_e(()=>[ve(m,ev(id(e.$attrs)),{default:_e(()=>[Ee(e.$slots,"default")]),_:3},16)]),_:3})}var hO=$e(uO,[["render",fO],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const dO=Oe({components:{ElRovingFocusCollectionItem:eO},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:s,onItemShiftTab:p}=Pe(ac,void 0),{getItems:m}=Pe(oc,void 0),c=So(),i=fe(null),h=tt(a=>{t("mousedown",a)},a=>{e.focusable?s(A(c)):a.preventDefault()}),f=tt(a=>{t("focus",a)},()=>{s(A(c))}),o=tt(a=>{t("keydown",a)},a=>{const{key:u,shiftKey:g,target:d,currentTarget:v}=a;if(u===Be.tab&&g){p();return}if(d!==v)return;const _=iO(a);if(_){a.preventDefault();let y=m().filter(w=>w.focusable).map(w=>w.ref);switch(_){case"last":{y.reverse();break}case"prev":case"next":{_==="prev"&&y.reverse();const w=y.indexOf(v);y=r.value?sO(y,w+1):y.slice(w+1);break}}at(()=>{lc(y)})}}),l=re(()=>n.value===A(c));return Je(Lp,{rovingFocusGroupItemRef:i,tabIndex:re(()=>A(l)?0:-1),handleMousedown:h,handleFocus:f,handleKeydown:o}),{id:c,handleKeydown:o,handleFocus:f,handleMousedown:h}}});function pO(e,t,n,r,s,p){const m=He("el-roving-focus-collection-item");return ee(),Te(m,{id:e.id,focusable:e.focusable,active:e.active},{default:_e(()=>[Ee(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var gO=$e(dO,[["render",pO],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const xs=Xe({trigger:Ni.trigger,effect:{...$t.effect,default:"light"},type:{type:Me(String)},placement:{type:Me(String),default:"bottom"},popperOptions:{type:Me(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Me([Number,String]),default:0},maxHeight:{type:Me([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:Me(Object)},teleported:$t.teleported}),Bp=Xe({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:zr}}),vO=Xe({onKeydown:{type:Me(Function)}}),mO=[Be.down,Be.pageDown,Be.home],jp=[Be.up,Be.pageUp,Be.end],_O=[...mO,...jp],{ElCollection:yO,ElCollectionItem:bO,COLLECTION_INJECTION_KEY:wO,COLLECTION_ITEM_INJECTION_KEY:CO}=Fp("Dropdown"),To=Symbol("elDropdown"),{ButtonGroup:SO}=Dp,xO=Oe({name:"ElDropdown",components:{ElButton:Dp,ElButtonGroup:SO,ElScrollbar:d2,ElDropdownCollection:yO,ElTooltip:kp,ElRovingFocusGroup:hO,ElOnlyChild:Sp,ElIcon:We,ArrowDown:Fl},props:xs,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=Rt(),r=Ze("dropdown"),{t:s}=wo(),p=fe(),m=fe(),c=fe(null),i=fe(null),h=fe(null),f=fe(null),o=fe(!1),l=[Be.enter,Be.space,Be.down],a=re(()=>({maxHeight:Li(e.maxHeight)})),u=re(()=>[r.m(w.value)]),g=re(()=>$C(e.trigger)),d=So().value,v=re(()=>e.id||d);Ae([p,g],([X,K],[x])=>{var D,F,I;(D=x?.$el)!=null&&D.removeEventListener&&x.$el.removeEventListener("pointerenter",S),(F=X?.$el)!=null&&F.removeEventListener&&X.$el.removeEventListener("pointerenter",S),(I=X?.$el)!=null&&I.addEventListener&&K.includes("hover")&&X.$el.addEventListener("pointerenter",S)},{immediate:!0}),jt(()=>{var X,K;(K=(X=p.value)==null?void 0:X.$el)!=null&&K.removeEventListener&&p.value.$el.removeEventListener("pointerenter",S)});function _(){b()}function b(){var X;(X=c.value)==null||X.onClose()}function y(){var X;(X=c.value)==null||X.onOpen()}const w=ec();function C(...X){t("command",...X)}function S(){var X,K;(K=(X=p.value)==null?void 0:X.$el)==null||K.focus()}function T(){}function j(){const X=A(i);g.value.includes("hover")&&X?.focus(),f.value=null}function W(X){f.value=X}function V(X){o.value||(X.preventDefault(),X.stopImmediatePropagation())}function H(){t("visible-change",!0)}function te(X){X?.type==="keydown"&&i.value.focus()}function se(){t("visible-change",!1)}return Je(To,{contentRef:i,role:re(()=>e.role),triggerId:v,isUsingKeyboard:o,onItemEnter:T,onItemLeave:j}),Je("elDropdown",{instance:n,dropdownSize:w,handleClick:_,commandHandler:C,trigger:yt(e,"trigger"),hideOnClick:yt(e,"hideOnClick")}),{t:s,ns:r,scrollbar:h,wrapStyle:a,dropdownTriggerKls:u,dropdownSize:w,triggerId:v,triggerKeys:l,currentTabId:f,handleCurrentTabIdChange:W,handlerMainButtonClick:X=>{t("click",X)},handleEntryFocus:V,handleClose:b,handleOpen:y,handleBeforeShowTooltip:H,handleShowTooltip:te,handleBeforeHideTooltip:se,onFocusAfterTrapped:X=>{var K,x;X.preventDefault(),(x=(K=i.value)==null?void 0:K.focus)==null||x.call(K,{preventScroll:!0})},popperRef:c,contentRef:i,triggeringElementRef:p,referenceElementRef:m}}});function TO(e,t,n,r,s,p){var m;const c=He("el-dropdown-collection"),i=He("el-roving-focus-group"),h=He("el-scrollbar"),f=He("el-only-child"),o=He("el-tooltip"),l=He("el-button"),a=He("arrow-down"),u=He("el-icon"),g=He("el-button-group");return ee(),he("div",{class:ye([e.ns.b(),e.ns.is("disabled",e.disabled)])},[ve(o,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(m=e.referenceElementRef)==null?void 0:m.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},um({content:_e(()=>[ve(h,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:_e(()=>[ve(i,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:_e(()=>[ve(c,null,{default:_e(()=>[Ee(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:_e(()=>[ve(f,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:_e(()=>[Ee(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(ee(),Te(g,{key:0},{default:_e(()=>[ve(l,wt({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:_e(()=>[Ee(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ve(l,wt({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:_e(()=>[ve(u,{class:ye(e.ns.e("icon"))},{default:_e(()=>[ve(a)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):we("v-if",!0)],2)}var OO=$e(xO,[["render",TO],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const EO=Oe({name:"DropdownItemImpl",components:{ElIcon:We},props:Bp,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=Ze("dropdown"),{role:r}=Pe(To,void 0),{collectionItemRef:s}=Pe(CO,void 0),{collectionItemRef:p}=Pe(tO,void 0),{rovingFocusGroupItemRef:m,tabIndex:c,handleFocus:i,handleKeydown:h,handleMousedown:f}=Pe(Lp,void 0),o=Vd(s,p,m),l=re(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),a=tt(u=>{const{code:g}=u;if(g===Be.enter||g===Be.space)return u.preventDefault(),u.stopImmediatePropagation(),t("clickimpl",u),!0},h);return{ns:n,itemRef:o,dataset:{[Ip]:""},role:l,tabIndex:c,handleFocus:i,handleKeydown:a,handleMousedown:f}}}),PO=["aria-disabled","tabindex","role"];function kO(e,t,n,r,s,p){const m=He("el-icon");return ee(),he(Re,null,[e.divided?(ee(),he("li",wt({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):we("v-if",!0),ie("li",wt({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=c=>e.$emit("clickimpl",c)),onFocus:t[1]||(t[1]=(...c)=>e.handleFocus&&e.handleFocus(...c)),onKeydown:t[2]||(t[2]=Kn((...c)=>e.handleKeydown&&e.handleKeydown(...c),["self"])),onMousedown:t[3]||(t[3]=(...c)=>e.handleMousedown&&e.handleMousedown(...c)),onPointermove:t[4]||(t[4]=c=>e.$emit("pointermove",c)),onPointerleave:t[5]||(t[5]=c=>e.$emit("pointerleave",c))}),[e.icon?(ee(),Te(m,{key:0},{default:_e(()=>[(ee(),Te(Zt(e.icon)))]),_:1})):we("v-if",!0),Ee(e.$slots,"default")],16,PO)],64)}var AO=$e(EO,[["render",kO],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const Np=()=>{const e=Pe("elDropdown",{}),t=re(()=>e?.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},MO=Oe({name:"ElDropdownItem",components:{ElDropdownCollectionItem:bO,ElRovingFocusItem:gO,ElDropdownItemImpl:AO},inheritAttrs:!1,props:Bp,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=Np(),s=Rt(),p=fe(null),m=re(()=>{var a,u;return(u=(a=A(p))==null?void 0:a.textContent)!=null?u:""}),{onItemEnter:c,onItemLeave:i}=Pe(To,void 0),h=tt(a=>(t("pointermove",a),a.defaultPrevented),ju(a=>{if(e.disabled){i(a);return}const u=a.currentTarget;u===document.activeElement||u.contains(document.activeElement)||(c(a),a.defaultPrevented||u?.focus())})),f=tt(a=>(t("pointerleave",a),a.defaultPrevented),ju(a=>{i(a)})),o=tt(a=>{if(!e.disabled)return t("click",a),a.type!=="keydown"&&a.defaultPrevented},a=>{var u,g,d;if(e.disabled){a.stopImmediatePropagation();return}(u=r?.hideOnClick)!=null&&u.value&&((g=r.handleClick)==null||g.call(r)),(d=r.commandHandler)==null||d.call(r,e.command,s,a)}),l=re(()=>({...e,...n}));return{handleClick:o,handlePointerMove:h,handlePointerLeave:f,textContent:m,propsAndAttrs:l}}});function RO(e,t,n,r,s,p){var m;const c=He("el-dropdown-item-impl"),i=He("el-roving-focus-item"),h=He("el-dropdown-collection-item");return ee(),Te(h,{disabled:e.disabled,"text-value":(m=e.textValue)!=null?m:e.textContent},{default:_e(()=>[ve(i,{focusable:!e.disabled},{default:_e(()=>[ve(c,wt(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:_e(()=>[Ee(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var zp=$e(MO,[["render",RO],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const DO=Oe({name:"ElDropdownMenu",props:vO,setup(e){const t=Ze("dropdown"),{_elDropdownSize:n}=Np(),r=n.value,{focusTrapRef:s,onKeydown:p}=Pe(Op,void 0),{contentRef:m,role:c,triggerId:i}=Pe(To,void 0),{collectionRef:h,getItems:f}=Pe(wO,void 0),{rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,tabIndex:a,onBlur:u,onFocus:g,onMousedown:d}=Pe(ac,void 0),{collectionRef:v}=Pe(oc,void 0),_=re(()=>[t.b("menu"),t.bm("menu",r?.value)]),b=Vd(m,h,s,o,v),y=tt(C=>{var S;(S=e.onKeydown)==null||S.call(e,C)},C=>{const{currentTarget:S,code:T,target:j}=C;if(S.contains(j),Be.tab===T&&C.stopImmediatePropagation(),C.preventDefault(),j!==A(m)||!_O.includes(T))return;const V=f().filter(H=>!H.disabled).map(H=>H.ref);jp.includes(T)&&V.reverse(),lc(V)});return{size:r,rovingFocusGroupRootStyle:l,tabIndex:a,dropdownKls:_,role:c,triggerId:i,dropdownListWrapperRef:b,handleKeydown:C=>{y(C),p(C)},onBlur:u,onFocus:g,onMousedown:d}}}),IO=["role","aria-labelledby"];function FO(e,t,n,r,s,p){return ee(),he("ul",{ref:e.dropdownListWrapperRef,class:ye(e.dropdownKls),style:Ve(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...m)=>e.onBlur&&e.onBlur(...m)),onFocus:t[1]||(t[1]=(...m)=>e.onFocus&&e.onFocus(...m)),onKeydown:t[2]||(t[2]=Kn((...m)=>e.handleKeydown&&e.handleKeydown(...m),["self"])),onMousedown:t[3]||(t[3]=Kn((...m)=>e.onMousedown&&e.onMousedown(...m),["self"]))},[Ee(e.$slots,"default")],46,IO)}var $p=$e(DO,[["render",FO],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const LO=sn(OO,{DropdownItem:zp,DropdownMenu:$p}),BO=zl(zp),jO=zl($p),NO=Xe({urlList:{type:Me(Array),default:()=>bo([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),zO={close:()=>!0,switch:e=>ot(e),rotate:e=>ot(e)},$O=["src"],HO=Oe({name:"ElImageViewer"}),UO=Oe({...HO,props:NO,emits:zO,setup(e,{expose:t,emit:n}){const r=e,s={CONTAIN:{name:"contain",icon:Ms(vb)},ORIGINAL:{name:"original",icon:Ms(Jb)}},{t:p}=wo(),m=Ze("image-viewer"),{nextZIndex:c}=Jl(),i=fe(),h=fe([]),f=hh(),o=fe(!0),l=fe(r.initialIndex),a=En(s.CONTAIN),u=fe({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=re(()=>{const{urlList:x}=r;return x.length<=1}),d=re(()=>l.value===0),v=re(()=>l.value===r.urlList.length-1),_=re(()=>r.urlList[l.value]),b=re(()=>[m.e("btn"),m.e("prev"),m.is("disabled",!r.infinite&&d.value)]),y=re(()=>[m.e("btn"),m.e("next"),m.is("disabled",!r.infinite&&v.value)]),w=re(()=>{const{scale:x,deg:D,offsetX:F,offsetY:I,enableTransition:Q}=u.value;let R=F/x,E=I/x;switch(D%360){case 90:case-270:[R,E]=[E,-R];break;case 180:case-180:[R,E]=[-R,-E];break;case 270:case-90:[R,E]=[-E,R];break}const U={transform:`scale(${x}) rotate(${D}deg) translate(${R}px, ${E}px)`,transition:Q?"transform .3s":""};return a.value.name===s.CONTAIN.name&&(U.maxWidth=U.maxHeight="100%"),U}),C=re(()=>ot(r.zIndex)?r.zIndex:c());function S(){j(),n("close")}function T(){const x=ws(F=>{switch(F.code){case Be.esc:r.closeOnPressEscape&&S();break;case Be.space:se();break;case Be.left:ue();break;case Be.up:K("zoomIn");break;case Be.right:X();break;case Be.down:K("zoomOut");break}}),D=ws(F=>{const I=F.deltaY||F.deltaX;K(I<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});f.run(()=>{Tt(document,"keydown",x),Tt(document,"wheel",D)})}function j(){f.stop()}function W(){o.value=!1}function V(x){o.value=!1,x.target.alt=p("el.image.error")}function H(x){if(o.value||x.button!==0||!i.value)return;u.value.enableTransition=!1;const{offsetX:D,offsetY:F}=u.value,I=x.pageX,Q=x.pageY,R=ws(U=>{u.value={...u.value,offsetX:D+U.pageX-I,offsetY:F+U.pageY-Q}}),E=Tt(document,"mousemove",R);Tt(document,"mouseup",()=>{E()}),x.preventDefault()}function te(){u.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function se(){if(o.value)return;const x=ja(s),D=Object.values(s),F=a.value.name,Q=(D.findIndex(R=>R.name===F)+1)%x.length;a.value=s[x[Q]],te()}function le(x){const D=r.urlList.length;l.value=(x+D)%D}function ue(){d.value&&!r.infinite||le(l.value-1)}function X(){v.value&&!r.infinite||le(l.value+1)}function K(x,D={}){if(o.value)return;const{minScale:F,maxScale:I}=r,{zoomRate:Q,rotateDeg:R,enableTransition:E}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...D};switch(x){case"zoomOut":u.value.scale>F&&(u.value.scale=Number.parseFloat((u.value.scale/Q).toFixed(3)));break;case"zoomIn":u.value.scale<I&&(u.value.scale=Number.parseFloat((u.value.scale*Q).toFixed(3)));break;case"clockwise":u.value.deg+=R,n("rotate",u.value.deg);break;case"anticlockwise":u.value.deg-=R,n("rotate",u.value.deg);break}u.value.enableTransition=E}return Ae(_,()=>{at(()=>{const x=h.value[0];x?.complete||(o.value=!0)})}),Ae(l,x=>{te(),n("switch",x)}),Ge(()=>{var x,D;T(),(D=(x=i.value)==null?void 0:x.focus)==null||D.call(x)}),t({setActiveItem:le}),(x,D)=>(ee(),Te(Ol,{to:"body",disabled:!x.teleported},[ve(_n,{name:"viewer-fade",appear:""},{default:_e(()=>[ie("div",{ref_key:"wrapper",ref:i,tabindex:-1,class:ye(A(m).e("wrapper")),style:Ve({zIndex:A(C)})},[ie("div",{class:ye(A(m).e("mask")),onClick:D[0]||(D[0]=Kn(F=>x.hideOnClickModal&&S(),["self"]))},null,2),we(" CLOSE "),ie("span",{class:ye([A(m).e("btn"),A(m).e("close")]),onClick:S},[ve(A(We),null,{default:_e(()=>[ve(A(Bd))]),_:1})],2),we(" ARROW "),A(g)?we("v-if",!0):(ee(),he(Re,{key:0},[ie("span",{class:ye(A(b)),onClick:ue},[ve(A(We),null,{default:_e(()=>[ve(A(Id))]),_:1})],2),ie("span",{class:ye(A(y)),onClick:X},[ve(A(We),null,{default:_e(()=>[ve(A(Fy))]),_:1})],2)],64)),we(" ACTIONS "),ie("div",{class:ye([A(m).e("btn"),A(m).e("actions")])},[ie("div",{class:ye(A(m).e("actions__inner"))},[ve(A(We),{onClick:D[1]||(D[1]=F=>K("zoomOut"))},{default:_e(()=>[ve(A(Aw))]),_:1}),ve(A(We),{onClick:D[2]||(D[2]=F=>K("zoomIn"))},{default:_e(()=>[ve(A(xw))]),_:1}),ie("i",{class:ye(A(m).e("actions__divider"))},null,2),ve(A(We),{onClick:se},{default:_e(()=>[(ee(),Te(Zt(A(a).icon)))]),_:1}),ie("i",{class:ye(A(m).e("actions__divider"))},null,2),ve(A(We),{onClick:D[3]||(D[3]=F=>K("anticlockwise"))},{default:_e(()=>[ve(A(Nb))]),_:1}),ve(A(We),{onClick:D[4]||(D[4]=F=>K("clockwise"))},{default:_e(()=>[ve(A(Yb))]),_:1})],2)],2),we(" CANVAS "),ie("div",{class:ye(A(m).e("canvas"))},[(ee(!0),he(Re,null,ht(x.urlList,(F,I)=>dt((ee(),he("img",{ref_for:!0,ref:Q=>h.value[I]=Q,key:F,src:F,style:Ve(A(w)),class:ye(A(m).e("img")),onLoad:W,onError:V,onMousedown:H},null,46,$O)),[[xt,I===l.value]])),128))],2),Ee(x.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var WO=$e(UO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const YO=sn(WO),XO=Xe({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Me([String,Object])},previewSrcList:{type:Me(Array),default:()=>bo([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),VO={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>ot(e),close:()=>!0,show:()=>!0},GO=["src","loading"],KO={key:0},qO=Oe({name:"ElImage",inheritAttrs:!1}),JO=Oe({...qO,props:XO,emits:VO,setup(e,{emit:t}){const n=e;let r="";const{t:s}=wo(),p=Ze("image"),m=Cl(),c=Gd(),i=fe(),h=fe(!1),f=fe(!0),o=fe(!1),l=fe(),a=fe(),u=Ye&&"loading"in HTMLImageElement.prototype;let g,d;const v=re(()=>[p.e("inner"),y.value&&p.e("preview"),f.value&&p.is("loading")]),_=re(()=>m.style),b=re(()=>{const{fit:K}=n;return Ye&&K?{objectFit:K}:{}}),y=re(()=>{const{previewSrcList:K}=n;return Array.isArray(K)&&K.length>0}),w=re(()=>{const{previewSrcList:K,initialIndex:x}=n;let D=x;return x>K.length-1&&(D=0),D}),C=re(()=>n.loading==="eager"?!1:!u&&n.loading==="lazy"||n.lazy),S=()=>{Ye&&(f.value=!0,h.value=!1,i.value=n.src)};function T(K){f.value=!1,h.value=!1,t("load",K)}function j(K){f.value=!1,h.value=!0,t("error",K)}function W(){s1(l.value,a.value)&&(S(),te())}const V=Yw(W,200,!0);async function H(){var K;if(!Ye)return;await at();const{scrollContainer:x}=n;Nr(x)?a.value=x:je(x)&&x!==""?a.value=(K=document.querySelector(x))!=null?K:void 0:l.value&&(a.value=tS(l.value)),a.value&&(g=Tt(a,"scroll",V),setTimeout(()=>W(),100))}function te(){!Ye||!a.value||!V||(g?.(),a.value=void 0)}function se(K){if(K.ctrlKey){if(K.deltaY<0)return K.preventDefault(),!1;if(K.deltaY>0)return K.preventDefault(),!1}}function le(){y.value&&(d=Tt("wheel",se,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",o.value=!0,t("show"))}function ue(){d?.(),document.body.style.overflow=r,o.value=!1,t("close")}function X(K){t("switch",K)}return Ae(()=>n.src,()=>{C.value?(f.value=!0,h.value=!1,te(),H()):S()}),Ge(()=>{C.value?H():S()}),(K,x)=>(ee(),he("div",{ref_key:"container",ref:l,class:ye([A(p).b(),K.$attrs.class]),style:Ve(A(_))},[h.value?Ee(K.$slots,"error",{key:0},()=>[ie("div",{class:ye(A(p).e("error"))},ze(A(s)("el.image.error")),3)]):(ee(),he(Re,{key:1},[i.value!==void 0?(ee(),he("img",wt({key:0},A(c),{src:i.value,loading:K.loading,style:A(b),class:A(v),onClick:le,onLoad:T,onError:j}),null,16,GO)):we("v-if",!0),f.value?(ee(),he("div",{key:1,class:ye(A(p).e("wrapper"))},[Ee(K.$slots,"placeholder",{},()=>[ie("div",{class:ye(A(p).e("placeholder"))},null,2)])],2)):we("v-if",!0)],64)),A(y)?(ee(),he(Re,{key:2},[o.value?(ee(),Te(A(YO),{key:0,"z-index":K.zIndex,"initial-index":A(w),infinite:K.infinite,"zoom-rate":K.zoomRate,"min-scale":K.minScale,"max-scale":K.maxScale,"url-list":K.previewSrcList,"hide-on-click-modal":K.hideOnClickModal,teleported:K.previewTeleported,"close-on-press-escape":K.closeOnPressEscape,onClose:ue,onSwitch:X},{default:_e(()=>[K.$slots.viewer?(ee(),he("div",KO,[Ee(K.$slots,"viewer")])):we("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):we("v-if",!0)],64)):we("v-if",!0)],6))}});var ZO=$e(JO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const ui=sn(ZO),QO=Xe({trigger:Ni.trigger,placement:xs.placement,disabled:Ni.disabled,visible:$t.visible,transition:$t.transition,popperOptions:xs.popperOptions,tabindex:xs.tabindex,content:$t.content,popperStyle:$t.popperStyle,popperClass:$t.popperClass,enterable:{...$t.enterable,default:!0},effect:{...$t.effect,default:"light"},teleported:$t.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),eE={"update:visible":e=>Nl(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},tE="onUpdate:visible",nE=Oe({name:"ElPopover"}),rE=Oe({...nE,props:QO,emits:eE,setup(e,{expose:t,emit:n}){const r=e,s=re(()=>r[tE]),p=Ze("popover"),m=fe(),c=re(()=>{var d;return(d=A(m))==null?void 0:d.popperRef}),i=re(()=>[{width:Li(r.width)},r.popperStyle]),h=re(()=>[p.b(),r.popperClass,{[p.m("plain")]:!!r.content}]),f=re(()=>r.transition===`${p.namespace.value}-fade-in-linear`),o=()=>{var d;(d=m.value)==null||d.hide()},l=()=>{n("before-enter")},a=()=>{n("before-leave")},u=()=>{n("after-enter")},g=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:c,hide:o}),(d,v)=>(ee(),Te(A(kp),wt({ref_key:"tooltipRef",ref:m},d.$attrs,{trigger:d.trigger,placement:d.placement,disabled:d.disabled,visible:d.visible,transition:d.transition,"popper-options":d.popperOptions,tabindex:d.tabindex,content:d.content,offset:d.offset,"show-after":d.showAfter,"hide-after":d.hideAfter,"auto-close":d.autoClose,"show-arrow":d.showArrow,"aria-label":d.title,effect:d.effect,enterable:d.enterable,"popper-class":A(h),"popper-style":A(i),teleported:d.teleported,persistent:d.persistent,"gpu-acceleration":A(f),"onUpdate:visible":A(s),onBeforeShow:l,onBeforeHide:a,onShow:u,onHide:g}),{content:_e(()=>[d.title?(ee(),he("div",{key:0,class:ye(A(p).e("title")),role:"title"},ze(d.title),3)):we("v-if",!0),Ee(d.$slots,"default",{},()=>[Yi(ze(d.content),1)])]),default:_e(()=>[d.$slots.reference?Ee(d.$slots,"reference",{key:0}):we("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var iE=$e(rE,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const Df=(e,t)=>{const n=t.arg||t.value,r=n?.popperRef;r&&(r.triggerRef=e)};var sE={mounted(e,t){Df(e,t)},updated(e,t){Df(e,t)}};const oE="popover",aE=oS(sE,oE),lE=sn(iE,{directive:aE}),Hp=["success","info","warning","error"],Et=bo({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Ye?document.body:void 0}),cE=Xe({customClass:{type:String,default:Et.customClass},center:{type:Boolean,default:Et.center},dangerouslyUseHTMLString:{type:Boolean,default:Et.dangerouslyUseHTMLString},duration:{type:Number,default:Et.duration},icon:{type:zr,default:Et.icon},id:{type:String,default:Et.id},message:{type:Me([String,Object,Function]),default:Et.message},onClose:{type:Me(Function),required:!1},showClose:{type:Boolean,default:Et.showClose},type:{type:String,values:Hp,default:Et.type},offset:{type:Number,default:Et.offset},zIndex:{type:Number,default:Et.zIndex},grouping:{type:Boolean,default:Et.grouping},repeatNum:{type:Number,default:Et.repeatNum}}),uE={destroy:()=>!0},en=vl([]),fE=e=>{const t=en.findIndex(s=>s.id===e),n=en[t];let r;return t>0&&(r=en[t-1]),{current:n,prev:r}},hE=e=>{const{prev:t}=fE(e);return t?t.vm.exposed.bottom.value:0},dE=(e,t)=>en.findIndex(r=>r.id===e)>0?20:t,pE=["id"],gE=["innerHTML"],vE=Oe({name:"ElMessage"}),mE=Oe({...vE,props:cE,emits:uE,setup(e,{expose:t}){const n=e,{Close:r}=rS,{ns:s,zIndex:p}=Ix("message"),{currentZIndex:m,nextZIndex:c}=p,i=fe(),h=fe(!1),f=fe(0);let o;const l=re(()=>n.type?n.type==="error"?"danger":n.type:"info"),a=re(()=>{const S=n.type;return{[s.bm("icon",S)]:S&&Qu[S]}}),u=re(()=>n.icon||Qu[n.type]||""),g=re(()=>hE(n.id)),d=re(()=>dE(n.id,n.offset)+g.value),v=re(()=>f.value+d.value),_=re(()=>({top:`${d.value}px`,zIndex:m.value}));function b(){n.duration!==0&&({stop:o}=Vw(()=>{w()},n.duration))}function y(){o?.()}function w(){h.value=!1}function C({code:S}){S===Be.esc&&w()}return Ge(()=>{b(),c(),h.value=!0}),Ae(()=>n.repeatNum,()=>{y(),b()}),Tt(document,"keydown",C),Bl(i,()=>{f.value=i.value.getBoundingClientRect().height}),t({visible:h,bottom:v,close:w}),(S,T)=>(ee(),Te(_n,{name:A(s).b("fade"),onBeforeLeave:S.onClose,onAfterLeave:T[0]||(T[0]=j=>S.$emit("destroy")),persisted:""},{default:_e(()=>[dt(ie("div",{id:S.id,ref_key:"messageRef",ref:i,class:ye([A(s).b(),{[A(s).m(S.type)]:S.type&&!S.icon},A(s).is("center",S.center),A(s).is("closable",S.showClose),S.customClass]),style:Ve(A(_)),role:"alert",onMouseenter:y,onMouseleave:b},[S.repeatNum>1?(ee(),Te(A(bT),{key:0,value:S.repeatNum,type:A(l),class:ye(A(s).e("badge"))},null,8,["value","type","class"])):we("v-if",!0),A(u)?(ee(),Te(A(We),{key:1,class:ye([A(s).e("icon"),A(a)])},{default:_e(()=>[(ee(),Te(Zt(A(u))))]),_:1},8,["class"])):we("v-if",!0),Ee(S.$slots,"default",{},()=>[S.dangerouslyUseHTMLString?(ee(),he(Re,{key:1},[we(" Caution here, message could've been compromised, never use user's input as message "),ie("p",{class:ye(A(s).e("content")),innerHTML:S.message},null,10,gE)],2112)):(ee(),he("p",{key:0,class:ye(A(s).e("content"))},ze(S.message),3))]),S.showClose?(ee(),Te(A(We),{key:2,class:ye(A(s).e("closeBtn")),onClick:Kn(w,["stop"])},{default:_e(()=>[ve(A(r))]),_:1},8,["class","onClick"])):we("v-if",!0)],46,pE),[[xt,h.value]])]),_:3},8,["name","onBeforeLeave"]))}});var _E=$e(mE,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let yE=1;const Up=e=>{const t=!e||je(e)||Dr(e)||xe(e)?{message:e}:e,n={...Et,...t};if(!n.appendTo)n.appendTo=document.body;else if(je(n.appendTo)){let r=document.querySelector(n.appendTo);Nr(r)||(r=document.body),n.appendTo=r}return n},bE=e=>{const t=en.indexOf(e);if(t===-1)return;en.splice(t,1);const{handler:n}=e;n.close()},wE=({appendTo:e,...t},n)=>{const r=`message_${yE++}`,s=t.onClose,p=document.createElement("div"),m={...t,id:r,onClose:()=>{s?.(),bE(f)},onDestroy:()=>{yu(null,p)}},c=ve(_E,m,xe(m.message)||Dr(m.message)?{default:xe(m.message)?m.message:()=>m.message}:null);c.appContext=n||Xr._context,yu(c,p),e.appendChild(p.firstElementChild);const i=c.component,f={id:r,vnode:c,vm:i,handler:{close:()=>{i.exposed.visible.value=!1}},props:c.component.props};return f},Xr=(e={},t)=>{if(!Ye)return{close:()=>{}};if(ot(gf.max)&&en.length>=gf.max)return{close:()=>{}};const n=Up(e);if(n.grouping&&en.length){const s=en.find(({vnode:p})=>{var m;return((m=p.props)==null?void 0:m.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}const r=wE(n,t);return en.push(r),r.handler};Hp.forEach(e=>{Xr[e]=(t={},n)=>{const r=Up(t);return Xr({...r,type:e},n)}});function CE(e){for(const t of en)(!e||e===t.props.type)&&t.handler.close()}Xr.closeAll=CE;Xr._context=null;const SE=sS(Xr,"$message");const xE=e=>(no("data-v-6d273564"),e=e(),ro(),e),TE={key:0,class:"resource-station__panel page-scrollbar_container"},OE={key:0,class:"add"},EE={class:"header"},PE={class:"title"},kE={class:"container"},AE={class:"list"},ME={class:"content"},RE=["src"],DE={key:0,class:"name"},IE={key:1,class:"material"},FE={class:"nav-container"},LE={class:"navlist"},BE=["onClick"],jE={class:"el-dropdown-link"},NE={class:"material-container"},zE={class:"container page-scrollbar_container"},$E={class:"panel-content"},HE={key:0,class:"panel-batch"},UE={key:1,class:"panel-batch"},WE={key:0,class:"detail-list page-scrollbar_container"},YE={key:2,class:"Image"},XE=xE(()=>ie("div",{class:"image-slot"},null,-1)),VE={__name:"resource",setup(e){const{state:t}=gr(),n=fe("https://haixin-fang.github.io/vue-design-editor-static/"),r=fe(),s=re(()=>t.activeModule),p=re(()=>t.imageList?(t.imageList.forEach(l=>{l.url=n.value+"image/"+l.url}),t.imageList):[]),m=re(()=>t.icons),c=En(_y),i=En(yy.map((l,a)=>({...l,id:a})));function h(l){r.value=l}const f=([l,a])=>Array(a-(l-1)).fill("").map((g,d)=>d+l);function o(l,a,u){a.type=s.value.type,a.interval&&(a.url=`${n.value}svg/${u}.svg`),l.dataTransfer.setData("item",JSON.stringify(a))}return(l,a)=>s.value?(ee(),he("div",TE,[s.value.type=="add"?(ee(),he("div",OE,[(ee(!0),he(Re,null,ht(c.value,(u,g)=>(ee(),he("div",{class:"addList",key:g},[ie("div",EE,[ie("div",PE,ze(u.title),1)]),ie("div",kE,[ie("div",AE,[ie("div",ME,[(ee(!0),he(Re,null,ht(u.list,(d,v)=>(ee(),he("div",{class:"addItem",key:v},[ie("img",{src:d.icon,alt:""},null,8,RE),d.title?(ee(),he("div",DE,ze(d.title),1)):we("",!0)]))),128))])])])]))),128))])):we("",!0),s.value.type=="material"?(ee(),he("div",IE,[ie("div",FE,[ie("div",LE,[ie("div",{class:ye(["navItem",r.value?"":"navItemActive"]),onClick:a[0]||(a[0]=u=>r.value=null)}," 全部 ",2),(ee(!0),he(Re,null,ht(i.value.slice(0,4),u=>(ee(),he("div",{class:ye(["navItem",r.value&&r.value.title==u.title?"navItemActive":""]),key:u.id,onClick:g=>h(u)},ze(u.title),11,BE))),128)),i.value.length>4?(ee(),Te(A(LO),{key:0,onCommand:h,class:"navItem","popper-class":"navItem",trigger:"click",teleported:!1},{dropdown:_e(()=>[ve(A(jO),null,{default:_e(()=>[(ee(!0),he(Re,null,ht(i.value.slice(4),u=>(ee(),Te(A(BO),{command:u,key:u.id},{default:_e(()=>[ie("span",{class:ye(r.value&&r.value.title==u.title?"navItemActive":"")},ze(u.title),3)]),_:2},1032,["command"]))),128))]),_:1})]),default:_e(()=>[ie("span",jE,[Yi(" 更多 "),ve(A(We),{class:"el-icon--right"},{default:_e(()=>[ve(A(Fl))]),_:1})])]),_:1})):we("",!0)])]),ie("div",NE,[ie("div",zE,[(ee(!0),he(Re,null,ht(i.value,u=>(ee(),he("div",{class:"panel-block",key:u.id},[ve(Fw,{title:u.title,subTitle:"查看更多",onChange:g=>h(u)},null,8,["title","onChange"]),ie("div",$E,[u.interval?(ee(),he("div",HE,[(ee(!0),he(Re,null,ht(f(u.interval).slice(0,8),g=>(ee(),he("div",{class:"material-detail",key:g},[ve(A(ui),{src:`${n.value}svg/${g}.svg`,lazy:"",draggable:!0,onDragstart:d=>o(d,u,g)},null,8,["src","onDragstart"])]))),128))])):(ee(),he("div",UE,[(ee(!0),he(Re,null,ht(m.value.slice(0,8),(g,d)=>(ee(),he("div",{class:"material-detail",style:{width:"60px",height:"60px"},key:d},[ve(A(ui),{src:g.url,lazy:"",draggable:!0,onDragstart:v=>o(v,g)},null,8,["src","onDragstart"])]))),128))]))])]))),128))]),ve(_n,{name:"anime"},{default:_e(()=>[r.value?(ee(),he("div",WE,[r.value.interval?(ee(!0),he(Re,{key:0},ht(f(r.value.interval),u=>(ee(),he("div",{class:"detail-item",key:u},[ve(A(ui),{style:{width:"88px",height:"88px"},src:`${n.value}svg/${u}.svg`,draggable:!0,onDragstart:g=>o(g,u),lazy:""},null,8,["src","onDragstart"])]))),128)):(ee(!0),he(Re,{key:1},ht(m.value,(u,g)=>(ee(),he("div",{class:"detail-item",key:g},[ve(A(ui),{style:{width:"88px",height:"88px"},src:u.url,draggable:!0,onDragstart:d=>o(d,u),lazy:""},null,8,["src","onDragstart"])]))),128))])):we("",!0)]),_:1})])])):we("",!0),s.value.type=="Image"?(ee(),he("div",YE,[ve(Nw,{list:p.value,column:2},{default:_e(({item:u})=>[ve(A(ui),{src:u.url,loading:"lazy",lazy:"",onDragstart:g=>o(g,u)},{placeholder:_e(()=>[XE]),_:2},1032,["src","onDragstart"])]),_:1},8,["list"])])):we("",!0)])):we("",!0)}},GE=vt(VE,[["__scopeId","data-v-6d273564"]]);function KE(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(r){return r.split(" ").map(function(s){return s?""+e+s:""}).join(" ")}).join(" ")}function qE(e,t){return t.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function Un(e,t){return function(n){n&&(e[t]=n)}}function JE(e,t,n){return function(r){r&&(e[t][n]=r)}}function If(e,t){return function(n){var r=n.prototype;e.forEach(function(s){t(r,s)})}}var ZE="function",QE="object",eP="string",tP="number",Wp="undefined",nP=typeof document!==Wp&&document,rP=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],ia=1e-7,ds={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,t){return e*t/100},vw:function(e,t){return t===void 0&&(t=window.innerWidth),e/100*t},vh:function(e,t){return t===void 0&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function iP(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,c=p.length;m<c;m++,s++)r[s]=p[m];return r}function Yp(e){return typeof e===Wp}function mn(e){return e&&typeof e===QE}function Xp(e){return Array.isArray(e)}function dr(e){return typeof e===eP}function sP(e){return typeof e===tP}function Vp(e){return typeof e===ZE}function oP(e,t){var n=e===""||e==" ",r=t===""||t==" ";return r&&n||e===t}function Gp(e,t,n,r,s){var p=cc(e,t,n);return p?n:aP(e,t,n+1,r,s)}function cc(e,t,n){if(!e.ignore)return null;var r=t.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(r)}function aP(e,t,n,r,s){for(var p=function(h){var f=t[h].trim();if(f===e.close&&!cc(e,t,h))return{value:h};var o=h,l=Hs(s,function(a){var u=a.open;return u===f});if(l&&(o=Gp(l,t,h,r,s)),o===-1)return m=h,"break";h=o,m=h},m,c=n;c<r;++c){var i=p(c);if(c=m,typeof i=="object")return i.value;if(i==="break")break}return-1}function uc(e,t){var n=dr(t)?{separator:t}:t,r=n.separator,s=r===void 0?",":r,p=n.isSeparateFirst,m=n.isSeparateOnlyOpenClose,c=n.isSeparateOpenClose,i=c===void 0?m:c,h=n.openCloseCharacters,f=h===void 0?rP:h,o=f.map(function(S){var T=S.open,j=S.close;return T===j?T:T+"|"+j}).join("|"),l="(\\s*"+s+"\\s*|"+o+"|\\s+)",a=new RegExp(l,"g"),u=e.split(a).filter(function(S){return S&&S!=="undefined"}),g=u.length,d=[],v=[];function _(){return v.length?(d.push(v.join("")),v=[],!0):!1}for(var b=function(S){var T=u[S].trim(),j=S,W=Hs(f,function(te){var se=te.open;return se===T}),V=Hs(f,function(te){var se=te.close;return se===T});if(W){if(j=Gp(W,u,S,g,f),j!==-1&&i)return _()&&p||(d.push(u.slice(S,j+1).join("")),S=j,p)?(y=S,"break"):(y=S,"continue")}else if(V&&!cc(V,u,S)){var H=iP(f);return H.splice(f.indexOf(V),1),{value:uc(e,{separator:s,isSeparateFirst:p,isSeparateOnlyOpenClose:m,isSeparateOpenClose:i,openCloseCharacters:H})}}else if(oP(T,s)&&!m)return _(),p?(y=S,"break"):(y=S,"continue");j===-1&&(j=g-1),v.push(u.slice(S,j+1).join("")),S=j,y=S},y,w=0;w<g;++w){var C=b(w);if(w=y,typeof C=="object")return C.value;if(C==="break")break}return v.length&&d.push(v.join("")),d}function lP(e){return uc(e,"")}function pi(e){return uc(e,",")}function cP(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function Kp(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2],s=t[3];return{prefix:n,unit:s,value:parseFloat(r)}}function uP(e){return e.replace(/[\s-_]+([^\s-_])/g,function(t,n){return n.toUpperCase()})}function sa(e,t){return t===void 0&&(t="-"),e.replace(/([a-z])([A-Z])/g,function(n,r,s){return""+r+t+s.toLowerCase()})}function Ua(){return Date.now?Date.now():new Date().getTime()}function Oo(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=0;s<r;++s)if(t(e[s],s,e))return s;return n}function fP(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=r-1;s>=0;--s)if(t(e[s],s,e))return s;return n}function hP(e,t,n){var r=fP(e,t);return r>-1?e[r]:n}function Hs(e,t,n){var r=Oo(e,t);return r>-1?e[r]:n}function Wa(e){return Object.keys(e)}function dP(e){var t=Wa(e);return t.map(function(n){return e[n]})}function Si(e,t){var n=Kp(e),r=n.value,s=n.unit;if(mn(t)){var p=t[s];if(p){if(Vp(p))return p(r);if(ds[s])return ds[s](r,p)}}else if(s==="%")return r*t/100;return ds[s]?ds[s](r):r}function oa(e,t){if(!t)return e;var n=1/t;return Math.round(e/t)/n}function pP(e){return e.reduce(function(t,n){return t.concat(n)},[])}function gP(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function vP(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function mP(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function ut(e,t,n,r){e.addEventListener(t,n,r)}function it(e,t,n,r){e.removeEventListener(t,n,r)}function fc(e){return e?.ownerDocument||nP}function aa(e){var t;return((t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function _P(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function hc(e){return mn(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}var yP=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(n){return this.values[this.keys.indexOf(n)]},t.set=function(n,r){var s=this.keys,p=this.values,m=s.indexOf(n),c=m===-1?s.length:m;s[c]=n,p[c]=r},e}(),bP=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(n){return this.object[n]},t.set=function(n,r){this.object[n]=r},e}(),wP=typeof Map=="function",CP=function(){function e(){}var t=e.prototype;return t.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},t.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},t.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},e}();function SP(e,t){var n=[],r=[];return e.forEach(function(s){var p=s[0],m=s[1],c=new CP;n[p]=c,r[m]=c}),n.forEach(function(s,p){s.connect(n[p-1])}),e.filter(function(s,p){return!t[p]}).map(function(s,p){var m=s[0],c=s[1];if(m===c)return[0,0];var i=n[m],h=r[c-1],f=i.getIndex();i.disconnect(),h?i.connect(h,h.next):i.connect(void 0,n[0]);var o=i.getIndex();return[f,o]})}var xP=function(){function e(n,r,s,p,m,c,i,h){this.prevList=n,this.list=r,this.added=s,this.removed=p,this.changed=m,this.maintained=c,this.changedBeforeAdded=i,this.fixed=h}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var n=SP(this.changedBeforeAdded,this.fixed),r=this.changed,s=[];this.cacheOrdered=n.filter(function(p,m){var c=p[0],i=p[1],h=r[m],f=h[0],o=h[1];if(c!==i)return s.push([f,o]),!0}),this.cachePureChanged=s},e}();function qp(e,t,n){var r=wP?Map:n?bP:yP,s=n||function(_){return _},p=[],m=[],c=[],i=e.map(s),h=t.map(s),f=new r,o=new r,l=[],a=[],u={},g=[],d=0,v=0;return i.forEach(function(_,b){f.set(_,b)}),h.forEach(function(_,b){o.set(_,b)}),i.forEach(function(_,b){var y=o.get(_);typeof y>"u"?(++v,m.push(b)):u[y]=v}),h.forEach(function(_,b){var y=f.get(_);typeof y>"u"?(p.push(b),++d):(c.push([y,b]),v=u[b]||0,l.push([y-v,b-d]),a.push(b===y),y!==b&&g.push([y,b]))}),m.reverse(),new xP(e,t,p,m,g,c,l,a)}var Ya=function(e,t){return Ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ya(e,t)};function Gi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ya(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var dn=function(){return dn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},dn.apply(this,arguments)};function Jp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Ff(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,p;r<s;r++)(p||!(r in t))&&(p||(p=Array.prototype.slice.call(t,0,r)),p[r]=t[r]);return e.concat(p||Array.prototype.slice.call(t))}function Lf(e){var t=0;return e.map(function(n){return n==null?"$compat".concat(++t):"".concat(n)})}function Zp(e){var t=[];return e.forEach(function(n){t=t.concat(Xp(n)?Zp(n):n)}),t}function la(e,t){if(!t)return e;for(var n in t)Yp(e[n])&&(e[n]=t[n]);return e}function Us(e,t){if(e===t)return!1;for(var n in e)if(!(n in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function Bf(e){var t=e.className,n=Jp(e,["className"]);return t!=null&&(n.class=t),delete n.style,delete n.children,n}function jf(e){var t={},n={};for(var r in e)r.indexOf("on")===0?n[r]=e[r]:t[r]=e[r];return[t,n]}function Eo(e){if(!e)return null;var t=e.b;return hc(t)?t:Eo(e.c)}function Qp(e){var t=e.parentNode;t&&t.removeChild(e)}function eg(e){e.forEach(function(t){t()})}function TP(){return this.constructor(this.props,this.context)}var dc=0,Po=function(){function e(n,r,s,p,m,c,i){i===void 0&&(i={}),this.t=n,this.d=r,this.k=s,this.i=p,this.c=m,this.ref=c,this.ps=i,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var t=e.prototype;return t.s=function(){return!0},t.u=function(n,r,s,p,m){var c=this,i=c.d,h=dP(r).filter(function(u){return u.$_req}),f=Zp(h.map(function(u){return u.$_subs})),o=Hs(f,function(u){return u.d===i});if(c.b&&!dr(s)&&!m&&!c.s(s.props,p)&&!o){var l=f.reduce(function(u,g){var d=g.d;return u[0]?u[0].d===d&&u.push(g):d>i&&u.push(g),u},[]);return l.forEach(function(u){Ki(u,u._ps,[u.o],n,r,!0)}),!1}c.o=s,c.ss(p);var a=c.ps;return dr(s)||(c.ps=s.props,c.ref=s.ref),pc(this),c.r(n,r,c.b?a:{},p),!0},t.md=function(){this.rr()},t.ss=function(){},t.ud=function(){this.rr()},t.rr=function(){var n=this,r=n.ref,s=n.fr;r&&r(s?s.current:n.b)},e}();function tg(){return Object.__CROACT_CURRENT_INSTNACE__}function OP(){return dc}function EP(e){dc=e}function pc(e){return Object.__CROACT_CURRENT_INSTNACE__=e,dc=0,e}var gc=function(){function e(n,r){n===void 0&&(n={}),this.props=n,this.context=r,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var t=e.prototype;return t.render=function(){return null},t.shouldComponentUpdate=function(n,r){return this.props!==n||this.state!==r},t.setState=function(n,r,s){var p=this;p.$_timer||(p.$_state={}),clearTimeout(p.$_timer),p.$_timer=0,p.$_state=dn(dn({},p.$_state),n),s?p.$_setState(r,s):p.$_timer=window.setTimeout(function(){p.$_timer=0,p.$_setState(r,s)})},t.forceUpdate=function(n){this.setState({},n,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(n,r){},t.componentWillUnmount=function(){},t.$_setState=function(n,r){var s=[],p=this.$_p,m=Ki(p.c,[p],[p.o],s,p._cs,dn(dn({},this.state),this.$_state),r);m&&(n&&s.push(n),eg(s),pc(null))},e}(),ng=function(e){Gi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,s){return Us(this.props,r)||Us(this.state,s)},t}(gc);function vc(e){var t=function(n){t.current=n};return t.current=e,t}function PP(e){return e._fr=!0,e}function kP(e,t,n,r){var s,p;return!((s=e?.prototype)===null||s===void 0)&&s.render?p=new e(t,n):(p=new gc(t,n),p.constructor=e,e._fr?(r.fr=vc(),p.render=function(){return this.constructor(this.props,r.fr)}):p.render=TP),p.$_p=r,p}var AP=function(e){Gi(t,e);function t(r,s,p,m,c,i,h){h===void 0&&(h={});var f=e.call(this,r,s,p,m,c,i,la(h,r.defaultProps))||this;return f.typ="comp",f._usefs=[],f._uefs=[],f._defs=[],f}var n=t.prototype;return n.s=function(r,s){var p=this.b;return p.shouldComponentUpdate(la(r,this.t.defaultProps),s||p.state)!==!1},n.r=function(r,s,p){var m,c,i=this,h=i.t;i.ps=la(i.ps,i.t.defaultProps);var f=i.ps,o=!i.b,l=h.contextType,a=i.b,u=l?.get(i);i._cs=s,o?(a=kP(h,f,u,i),i.b=a):(a.props=f,a.context=u);var g=a.state;i._usefs=[],i._uefs=[];var d=a.render();((c=(m=d?.props)===null||m===void 0?void 0:m.children)===null||c===void 0?void 0:c.length)===0&&(d.props.children=i.ps.children);var v=dn(dn({},s),a.$_cs);Ki(i,i._ps,d?[d]:[],r,v),o?i._uefs.push(function(){l?.register(i),a.componentDidMount()}):i._uefs.push(function(){a.componentDidUpdate(p,g)}),r.push(function(){i._usefs.forEach(function(_){_()}),o?i.md():i.ud(),i._defs=i._uefs.map(function(_){return _()})})},n.ss=function(r){var s=this.b;!s||!r||(s.state=r)},n.un=function(){var r,s=this;s._ps.forEach(function(m){m.un()});var p=s.t;(r=p.contextType)===null||r===void 0||r.unregister(s),clearTimeout(s.b.$_timer),s._defs.forEach(function(m){m&&m()}),s.b.componentWillUnmount()},t}(Po);function MP(e,t,n){var r=mc(Bf(e),Bf(t)),s=r.added,p=r.removed,m=r.changed;for(var c in s)n.setAttribute(c,s[c]);for(var i in m)n.setAttribute(i,m[i][1]);for(var h in p)n.removeAttribute(h)}function RP(e,t,n){var r=mc(e,t),s=r.added,p=r.removed;for(var m in p)n.e(m,!0);for(var c in s)n.e(c)}function mc(e,t){var n=Wa(e),r=Wa(t),s=qp(n,r,function(i){return i}),p={},m={},c={};return s.added.forEach(function(i){var h=r[i];p[h]=t[h]}),s.removed.forEach(function(i){var h=n[i];m[h]=e[h]}),s.maintained.forEach(function(i){var h=i[0],f=n[h],o=[e[f],t[f]];e[f]!==t[f]&&(c[f]=o)}),{added:p,removed:m,changed:c}}function DP(e,t,n){var r=n.style,s=mc(e,t),p=s.added,m=s.removed,c=s.changed;for(var i in p){var h=sa(i,"-");r.setProperty(h,p[i])}for(var i in c){var f=sa(i,"-");r.setProperty(f,c[i][1])}for(var i in m){var o=sa(i,"-");r.removeProperty(o)}}function IP(e){return e.replace(/^on/g,"").toLowerCase()}var FP=function(e){Gi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="elem",r._es={},r._svg=!1,r}var n=t.prototype;return n.e=function(r,s){var p=this,m=p._es,c=p.b,i=IP(r);s?(it(c,i,m[r]),delete m[r]):(m[r]=function(h){var f,o;(o=(f=p.ps)[r])===null||o===void 0||o.call(f,h)},ut(c,i,m[r]))},n.s=function(r){return Us(this.ps,r)},n.r=function(r,s,p){var m,c=this,i=!c.b,h=c.ps;if(i){var f=Eo(c.c),o=!1;c._svg||c.t==="svg"?o=!0:o=f&&f.ownerSVGElement,c._svg=o;var l=(m=c._hyd)===null||m===void 0?void 0:m.splice(0,1)[0],a=c.t;if(l)c._hyd=[].slice.call(l.children||[]);else{var u=fc(f);o?l=u.createElementNS("http://www.w3.org/2000/svg",a):l=u.createElement(a)}c.b=l}Ki(c,c._ps,h.children,r,s);var g=c.b,d=jf(p),v=d[0],_=d[1],b=jf(h),y=b[0],w=b[1];return MP(v,y,g),RP(_,w,c),DP(p.style||{},h.style||{},g),r.push(function(){i?c.md():c.ud()}),!0},n.un=function(){var r=this,s=r._es,p=r.b;for(var m in s)it(p,m,s[m]);r._ps.forEach(function(c){c.un()}),r._es={},r._sel||Qp(p)},t}(Po);function zi(e){if(!e||hc(e))return e;var t=e.$_p._ps;return t.length?zi(t[0].b):null}function rg(e){if(e){if(e.b&&hc(e.b))return e;var t=e._ps;return t.length?rg(t[0]):null}}function Ht(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=t||{},p=s.key,m=s.ref,c=Jp(s,["key","ref"]);return{type:e,key:p,ref:m,props:dn(dn({},c),{children:pP(n).filter(function(i){return i!=null&&i!==!1})})}}var ig=function(e){Gi(t,e);function t(r,s){s===void 0&&(s=0);var p=e.call(this,"container",s,"container",0,null)||this;return p.typ="container",p.b=r,p}var n=t.prototype;return n.r=function(){return!0},n.un=function(){},t}(Po),LP=function(e){Gi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="text",r}var n=t.prototype;return n.r=function(r){var s,p=this,m=!p.b;if(m){var c=Eo(p.c),i=(s=p._hyd)===null||s===void 0?void 0:s.splice(0,1)[0];p.b=i||fc(c).createTextNode(p.t.replace("text_",""))}return r.push(function(){m?p.md():p.ud()}),!0},n.un=function(){Qp(this.b)},t}(Po);function BP(e,t,n){var r=n.map(function(i){return dr(i)?null:i.key}),s=Lf(t.map(function(i){return i.k})),p=Lf(r),m=qp(s,p,function(i){return i});m.removed.forEach(function(i){t.splice(i,1)[0].un()}),m.ordered.forEach(function(i){var h=i[0],f=i[1],o=t.splice(h,1)[0];t.splice(f,0,o);var l=zi(o.b),a=zi(t[f+1]&&t[f+1].b);l&&l.parentNode.insertBefore(l,a)}),m.added.forEach(function(i){t.splice(i,0,Nf(n[i],r[i],i,e))});var c=m.maintained.filter(function(i){i[0];var h=i[1],f=n[h],o=t[h],l=dr(f)?"text_".concat(f):f.type;return l!==o.t?(o.un(),t.splice(h,1,Nf(f,r[h],h,e)),!0):(o.i=h,!1)});return Ff(Ff([],m.added,!0),c.map(function(i){i[0];var h=i[1];return h}),!0)}function jP(e,t){for(var n=e._ps,r=n.length,s=t.i+1;s<r;++s){var p=zi(n[s].b);if(p)return p}return null}function Nf(e,t,n,r){var s=r.d+1;if(dr(e)||sP(e))return new LP("text_".concat(e),s,t,n,r,null,{});var p=e.type,m=typeof p=="string"?FP:AP;return new m(p,s,t,n,r,e.ref,e.props)}function Ki(e,t,n,r,s,p,m){var c=BP(e,t,n),i=e._hyd,h=t.filter(function(o,l){return o._hyd=i,o.u(r,s,n[l],p,m)});e.typ==="container"&&e._sel&&t.forEach(function(o){var l=rg(o);l&&(l._sel=!0)}),e._hyd=null;var f=Eo(e);return f&&c.reverse().forEach(function(o){var l=t[o],a=zi(l.b);if(a&&f!==a&&!a.parentNode){var u=jP(e,l);f.insertBefore(a,u)}}),h.length>0}function NP(e,t,n,r){n===void 0&&(n=t.__CROACT__),r===void 0&&(r={});var s=!!n;n||(n=new ig(t));var p=[];return Ki(n,n._ps,e?[e]:[],p,r,void 0,void 0),eg(p),pc(null),s||(t.__CROACT__=n),n}function zf(e,t,n){return!n&&e&&(n=new ig(t.parentElement),n._hyd=[t],n._sel=!0),NP(e,t,n),n}function sg(e){var t=tg(),n=t._hs||(t._hs=[]),r=OP(),s=n[r];if(EP(r+1),s){if(!Us(s.deps,e.deps))return s.updated=!1,s;n[r]=e}else n.push(e);return e.value=e.func(),e.updated=!0,e}function zP(e,t){var n=sg({func:e,deps:t});return n.value}function $P(e){return zP(function(){return vc(e)},[])}function og(e,t,n){var r=tg(),s=sg({func:function(){return e},deps:t}),p=n?r._usefs:r._uefs;s.updated?p.push(function(){return s.effect&&s.effect(),s.effect=e(),s.effect}):p.push(function(){return s.effect})}function HP(e,t,n){og(function(){e?.(t())},n,!0)}var Xa=function(e,t){return Xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Xa(e,t)};function UP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xa(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var WP=function(e){UP(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={scrollPos:0},r.width=0,r.height=0,r._zoom=0,r._rulerScale=0,r._observer=null,r._checkResize=function(){r.resize()},r}var n=t.prototype;return n.render=function(){var r=this.props;return this._zoom=r.zoom,Ht("canvas",{ref:Un(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var r=this.props;this.state.scrollPos=r.defaultScrollPos||0;var s=this.canvasElement,p=s.getContext("2d",{alpha:!0});this.canvasContext=p,r.useResizeObserver?(this._observer=new ResizeObserver(this._checkResize),this._observer.observe(s,{box:"border-box"})):this.resize()},n.componentDidUpdate=function(){this.resize()},n.componentWillUnmount=function(){var r;this.state.scrollPos=0,(r=this._observer)===null||r===void 0||r.disconnect()},n.getScrollPos=function(){return this.state.scrollPos},n.scroll=function(r,s){this.draw({scrollPos:r,zoom:s})},n.resize=function(r){var s=this.canvasElement,p=this.props,m=p.width,c=p.height,i=p.scrollPos,h=this._getRulerScale();this.width=m||s.offsetWidth,this.height=c||s.offsetHeight,s.width=this.width*h,s.height=this.height*h,this.draw({scrollPos:i,zoom:r})},n.draw=function(r){r===void 0&&(r={});var s=this.props,p=r.zoom,m=p===void 0?this._zoom:p,c=r.scrollPos,i=c===void 0?this.state.scrollPos:c,h=r.marks,f=h===void 0?s.marks:h,o=r.selectedRanges,l=o===void 0?s.selectedRanges:o,a=r.segment,u=a===void 0?s.segment||10:a,g=r.unit,d=g===void 0?s.unit:g;this._zoom=m;var v=s,_=v.type,b=v.backgroundColor,y=v.lineColor,w=v.textColor,C=v.textBackgroundColor,S=v.direction,T=v.negativeRuler,j=T===void 0?!0:T,W=v.textFormat,V=v.range,H=V===void 0?[-1/0,1/0]:V,te=v.rangeBackgroundColor,se=v.selectedBackgroundColor,le=v.lineWidth,ue=le===void 0?1:le,X=v.selectedRangesText,K=v.selectedRangesTextColor,x=K===void 0?"#44aaff":K,D=v.selectedRangesTextOffset,F=D===void 0?[0,0]:D,I=v.markColor,Q=I===void 0?"#ff5":I,R=this._getRulerScale(),E=this.width,U=this.height,M=this.state;M.scrollPos=i;var L=this.canvasContext,z=_==="horizontal",q=j!==!1,oe=s.font||"10px sans-serif",k=s.textAlign||"left",O=s.textOffset||[0,0],P=z?U:E,B=Si("".concat(s.mainLineSize||"100%"),P),$=Si("".concat(s.longLineSize||10),P),N=Si("".concat(s.shortLineSize||7),P),Y=s.lineOffset||[0,0];switch(b==="transparent"?L.clearRect(0,0,E*R,U*R):(L.rect(0,0,E*R,U*R),L.fillStyle=b,L.fill()),L.save(),L.scale(R,R),L.strokeStyle=y,L.lineWidth=ue,L.font=oe,L.fillStyle=w,L.textAlign=k,S){case"start":L.textBaseline="top";break;case"center":L.textBaseline="middle";break;case"end":L.textBaseline="bottom";break}L.translate(.5,0),L.beginPath();for(var J=z?E:U,ae=m*d,ne=Math.floor(i*m/ae),G=Math.ceil((i*m+J)/ae),ce=G-ne,pe=Math.max(["left","center","right"].indexOf(k)-1,-1),Z=z?U:E,ge=[],me=0;me<=ce;++me){var be=(me+ne)*d,ke="".concat(be);W&&(ke=W(be));var qe=L.measureText(ke).width;ge.push({color:w,offset:O,backgroundColor:C,value:be,text:ke,textSize:qe})}if(se!=="transparent"&&l?.length&&l.forEach(function(Ot){var Nt=Math.max(Ot[0],H[0],j?-1/0:0),Gt=Math.min(Ot[1],H[1]),bn=(Nt-i)*m,wn=(Gt-Nt)*m;X&&Ot.forEach(function(ln){var cn="".concat(ln);W&&(cn=W(ln));var Cn=L.measureText(cn).width,Dn=ln*m,Qi=Dn+Cn;hP(ge,function(yr,ii){var Zn=yr.value,zg=yr.textSize,Rc=Zn*m,$g=Rc+zg;Rc<=Qi&&Dn<=$g&&ge.splice(ii,1)}),ge.push({value:ln,color:x,offset:F,text:cn,textSize:Cn})}),!(wn<=0)&&(L.save(),L.fillStyle=se,z?L.fillRect(bn,0,wn,Z):L.fillRect(0,bn,Z,wn),L.restore())}),te!=="transparent"&&H[0]!==-1/0&&H[1]!==1/0){var Ct=(H[0]-i)*m,mt=(H[1]-H[0])*m;L.save(),L.fillStyle=te,z?L.fillRect(Ct,0,mt,Z):L.fillRect(0,Ct,Z,mt),L.restore()}for(var me=0;me<=ce;++me){var be=me+ne;if(!(!q&&be<0))for(var an=be*d,Jn=(an-i)*m,Ke=0;Ke<u;++Ke){var ct=Jn+Ke/u*ae,ni=an+Ke/u*d;if(!(ct<0||ct>=J||ni<H[0]||ni>H[1])){var Zi=Ke===0?B:Ke%2===0?$:N,ri=0;switch(S){case"start":ri=0;break;case"center":ri=Z/2-Zi/2;break;case"end":ri=Z-Zi;break}var Ac=z?[ct+Y[0],ri+Y[1]]:[ri+Y[0],ct+Y[1]],Io=Ac[0],Fo=Ac[1],Mc=z?[Io,Fo+Zi]:[Io+Zi,Fo],jg=Mc[0],Ng=Mc[1];L.moveTo(Io+Y[0],Fo+Y[1]),L.lineTo(jg+Y[0],Ng+Y[1])}}}L.stroke(),L.beginPath(),L.strokeStyle=Q,L.lineWidth=1,(f||[]).forEach(function(Ot){var Nt=(-i+Ot)*m;if(!(Nt<0||Nt>=J||Ot<H[0]||Ot>H[1])){var Gt=z?[Nt+Y[0],Y[1]]:[Y[0],Nt+Y[1]],bn=Gt[0],wn=Gt[1],ln=z?[bn,wn+P]:[bn+P,wn],cn=ln[0],Cn=ln[1];L.moveTo(bn+Y[0],wn+Y[1]),L.lineTo(cn+Y[0],Cn+Y[1])}}),L.stroke(),ge.forEach(function(Ot){var Nt=Ot.value,Gt=Ot.offset,bn=Ot.backgroundColor,wn=Ot.color,ln=Ot.text,cn=Ot.textSize;if(!(!q&&Nt<0)){var Cn=(Nt-i)*m;if(!(Cn<-ae||Cn>=J+d*m||Nt<H[0]||Nt>H[1])){var Dn=0;switch(S){case"start":Dn=17;break;case"center":Dn=Z/2;break;case"end":Dn=Z-17;break}var Qi=z?[Cn+pe*-3,Dn]:[Dn,Cn+pe*3],yr=Qi[0],ii=Qi[1];if(bn){var Zn=0;switch(k){case"left":Zn=0;break;case"center":Zn=-cn/2;break;case"right":Zn=-cn;break}L.save(),L.fillStyle=bn,z?L.fillRect(yr+Gt[0]+Zn,0,cn,B):(L.translate(0,ii+Gt[1]),L.rotate(-Math.PI/2),L.fillRect(Zn,0,cn,B)),L.restore()}L.save(),L.fillStyle=wn,z?L.fillText(ln,yr+Gt[0],ii+Gt[1]):(L.translate(yr+Gt[0],ii+Gt[1]),L.rotate(-Math.PI/2),L.fillText(ln,0,0)),L.restore()}}}),L.restore()},n._getRulerScale=function(){var r=this.props.defaultPixelScale||2;if(!this._rulerScale){var s=window.devicePixelRatio>1;if(!s&&window.matchMedia){var p=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");s=p&&p.matches}this._rulerScale=s?3:r}return this._rulerScale},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555",defaultScrollPos:0,markColor:"#f55",marks:[]},t}(ng),ag=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","defaultScrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat","warpSelf","selectedBackgroundColor","selectedRanges","defaultPixelScale","useResizeObserver","selectedRangesText","selectedRangesTextColor","selectedRangesTextOffset","marks","markColor"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Va=function(){return Va=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Va.apply(this,arguments)};function YP(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,c=p.length;m<c;m++,s++)r[s]=p[m];return r}var XP=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(mn(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(mn(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=Oo(p,function(c){return c.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,YP(p).forEach(function(c){c.listener(r),c.once&&s.off(n,c.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(Va({listener:r},s))},e}();const VP=XP;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ga=function(e,t){return Ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Ga(e,t)};function GP(e,t){Ga(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var et=function(){return et=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},et.apply(this,arguments)};function KP(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=Math.atan2(r,n);return s>=0?s:s+Math.PI*2}function ca(e){return KP([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function qP(e){return e.touches&&e.touches.length>=2}function ps(e){return e?e.touches?ZP(e.touches):[lg(e)]:[]}function JP(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function $f(e,t,n){var r=n.length,s=xi(e,r),p=s.clientX,m=s.clientY,c=s.originalClientX,i=s.originalClientY,h=xi(t,r),f=h.clientX,o=h.clientY,l=xi(n,r),a=l.clientX,u=l.clientY,g=p-f,d=m-o,v=p-a,_=m-u;return{clientX:c,clientY:i,deltaX:g,deltaY:d,distX:v,distY:_}}function ua(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function ZP(e){for(var t=Math.min(e.length,2),n=[],r=0;r<t;++r)n.push(lg(e[r]));return n}function lg(e){return{clientX:e.clientX,clientY:e.clientY}}function xi(e,t){t===void 0&&(t=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(e.length,t),s=0;s<r;++s){var p=e[s];n.originalClientX+="originalClientX"in p?p.originalClientX:p.clientX,n.originalClientY+="originalClientY"in p?p.originalClientY:p.clientY,n.clientX+=p.clientX,n.clientY+=p.clientY}return t?{clientX:n.clientX/t,clientY:n.clientY/t,originalClientX:n.originalClientX/t,originalClientY:n.originalClientY/t}:n}var fa=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return e.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),ca(t)},e.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),ca(t)-ca(this.startClients)},e.prototype.getPosition=function(t,n){t===void 0&&(t=this.prevClients);var r=$f(t||this.prevClients,this.prevClients,this.startClients),s=r.deltaX,p=r.deltaY;return this.movement+=Math.sqrt(s*s+p*p),this.prevClients=t,r},e.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var n=this.prevClients,r=this.startClients,s=Math.min(this.length,n.length),p=[],m=0;m<s;++m)p[m]=$f([t[m]],[n[m]],[r[m]]);return p},e.prototype.getMovement=function(t){var n=this.movement;if(!t)return n;var r=xi(t,this.length),s=xi(this.prevClients,this.length),p=r.clientX-s.clientX,m=r.clientY-s.clientY;return Math.sqrt(p*p+m*m)+n},e.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),ua(t)},e.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),ua(t)/ua(this.startClients)},e.prototype.move=function(t,n){this.startClients.forEach(function(r){r.clientX-=t,r.clientY-=n}),this.prevClients.forEach(function(r){r.clientX-=t,r.clientY-=n})},e}(),Hf=["textarea","input"],QP=function(e){GP(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this)||this;s.options={},s.flag=!1,s.pinchFlag=!1,s.data={},s.isDrag=!1,s.isPinch=!1,s.clientStores=[],s.targets=[],s.prevTime=0,s.doubleFlag=!1,s._useMouse=!1,s._useTouch=!1,s._useDrag=!1,s._dragFlag=!1,s._isTrusted=!1,s._isMouseEvent=!1,s._isSecondaryButton=!1,s._preventMouseEvent=!1,s._prevInputEvent=null,s._isDragAPI=!1,s._isIdle=!0,s._window=window,s.onDragStart=function(l,a){if(a===void 0&&(a=!0),!(!s.flag&&l.cancelable===!1)){var u=l.type.indexOf("drag")>=-1;if(!(s.flag&&u)){s._isDragAPI=!0;var g=s.options,d=g.container,v=g.pinchOutside,_=g.preventWheelClick,b=g.preventRightClick,y=g.preventDefault,w=g.checkInput,C=g.dragFocusedInput,S=g.preventClickEventOnDragStart,T=g.preventClickEventOnDrag,j=g.preventClickEventByCondition,W=s._useTouch,V=!s.flag;if(s._isSecondaryButton=l.which===3||l.button===2,_&&(l.which===2||l.button===1)||b&&(l.which===3||l.button===2))return s.stop(),!1;if(V){var H=s._window.document.activeElement,te=l.target;if(te){var se=te.tagName.toLowerCase(),le=Hf.indexOf(se)>-1,ue=te.isContentEditable;if(le||ue){if(w||!C&&H===te)return!1;if(H&&(H===te||ue&&H.isContentEditable&&H.contains(te)))if(C)te.blur();else return!1}else if((y||l.type==="touchstart")&&H){var X=H.tagName.toLowerCase();(H.isContentEditable||Hf.indexOf(X)>-1)&&H.blur()}(S||T||j)&&ut(s._window,"click",s._onClick,!0)}s.clientStores=[new fa(ps(l))],s._isIdle=!1,s.flag=!0,s.isDrag=!1,s._isTrusted=a,s._dragFlag=!0,s._prevInputEvent=l,s.data={},s.doubleFlag=Ua()-s.prevTime<200,s._isMouseEvent=JP(l),!s._isMouseEvent&&s._preventMouseEvent&&(s._preventMouseEvent=!1);var K=s._preventMouseEvent||s.emit("dragStart",et(et({data:s.data,datas:s.data,inputEvent:l,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,isTrusted:a,isDouble:s.doubleFlag},s.getCurrentStore().getPosition()),{preventDefault:function(){l.preventDefault()},preventDrag:function(){s._dragFlag=!1}}));K===!1&&s.stop(),s._isMouseEvent&&s.flag&&y&&l.preventDefault()}if(!s.flag)return!1;var x=0;if(V?(s._attchDragEvent(),W&&v&&(x=setTimeout(function(){ut(d,"touchstart",s.onDragStart,{passive:!1})}))):W&&v&&it(d,"touchstart",s.onDragStart),s.flag&&qP(l)){if(clearTimeout(x),V&&l.touches.length!==l.changedTouches.length)return;s.pinchFlag||s.onPinchStart(l)}}}},s.onDrag=function(l,a){if(s.flag){var u=s.options.preventDefault;!s._isMouseEvent&&u&&l.preventDefault(),s._prevInputEvent=l;var g=ps(l),d=s.moveClients(g,l,!1);if(s._dragFlag){if(s.pinchFlag||d.deltaX||d.deltaY){var v=s._preventMouseEvent||s.emit("drag",et(et({},d),{isScroll:!!a,inputEvent:l}));if(v===!1){s.stop();return}}s.pinchFlag&&s.onPinch(l,g)}s.getCurrentStore().getPosition(g,!0)}},s.onDragEnd=function(l){if(s.flag){var a=s.options,u=a.pinchOutside,g=a.container,d=a.preventClickEventOnDrag,v=a.preventClickEventOnDragStart,_=a.preventClickEventByCondition,b=s.isDrag;(d||v||_)&&requestAnimationFrame(function(){s._allowClickEvent()}),!_&&!v&&d&&!b&&s._allowClickEvent(),s._useTouch&&u&&it(g,"touchstart",s.onDragStart),s.pinchFlag&&s.onPinchEnd(l);var y=l?.touches?ps(l):[],w=y.length;w===0||!s.options.keepDragging?s.flag=!1:s._addStore(new fa(y));var C=s._getPosition(),S=Ua(),T=!b&&s.doubleFlag;s._prevInputEvent=null,s.prevTime=b||T?0:S,s.flag||(s._dettachDragEvent(),s._preventMouseEvent||s.emit("dragEnd",et({data:s.data,datas:s.data,isDouble:T,isDrag:b,isClick:!b,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,inputEvent:l,isTrusted:s._isTrusted},C)),s.clientStores=[],s._isMouseEvent||(s._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){s._preventMouseEvent=!1})})),s._isIdle=!0)}},s.onBlur=function(){s.onDragEnd()},s._allowClickEvent=function(){it(s._window,"click",s._onClick,!0)},s._onClick=function(l){s._allowClickEvent(),s._preventMouseEvent=!1;var a=s.options.preventClickEventByCondition;a?.(l)||(l.stopPropagation(),l.preventDefault())},s._onContextMenu=function(l){var a=s.options;a.preventRightClick?s.onDragEnd(l):l.preventDefault()},s._passCallback=function(){};var p=[].concat(n),m=p[0];s._window=_P(m)?m:aa(m),s.options=et({checkInput:!1,container:m&&!("document"in m)?aa(m):m,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},r);var c=s.options,i=c.container,h=c.events,f=c.checkWindowBlur;if(s._useDrag=h.indexOf("drag")>-1,s._useTouch=h.indexOf("touch")>-1,s._useMouse=h.indexOf("mouse")>-1,s.targets=p,s._useDrag&&p.forEach(function(l){ut(l,"dragstart",s.onDragStart)}),s._useMouse&&(p.forEach(function(l){ut(l,"mousedown",s.onDragStart),ut(l,"mousemove",s._passCallback)}),ut(i,"contextmenu",s._onContextMenu)),f&&ut(aa(),"blur",s.onBlur),s._useTouch){var o={passive:!1};p.forEach(function(l){ut(l,"touchstart",s.onDragStart,o),ut(l,"touchmove",s._passCallback,o)})}return s}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(r,s){return r+s.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(n,r,s,p){p===void 0&&(p=!0),this.flag&&(this.clientStores[0].move(n,r),p&&this.onDrag(s,!0))},t.prototype.move=function(n,r){var s=n[0],p=n[1],m=this.getCurrentStore(),c=m.prevClients;return this.moveClients(c.map(function(i){var h=i.clientX,f=i.clientY;return{clientX:h+s,clientY:f+p,originalClientX:h,originalClientY:f}}),r,!0)},t.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},t.prototype.setEventData=function(n){var r=this.data;for(var s in n)r[s]=n[s];return this},t.prototype.setEventDatas=function(n){return this.setEventData(n)},t.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),et(et({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var n=this,r=this.targets,s=this.options.container;this.off(),it(this._window,"blur",this.onBlur),this._useDrag&&r.forEach(function(p){it(p,"dragstart",n.onDragStart)}),this._useMouse&&(r.forEach(function(p){it(p,"mousedown",n.onDragStart)}),it(s,"contextmenu",this._onContextMenu)),this._useTouch&&(r.forEach(function(p){it(p,"touchstart",n.onDragStart)}),it(s,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(n){var r=this,s=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>s)){var p=new fa(ps(n));this.pinchFlag=!0,this._addStore(p);var m=this.emit("pinchStart",et(et({data:this.data,datas:this.data,angle:p.getAngle(),touches:this.getCurrentStore().getPositions()},p.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){r._dragFlag=!1}}));m===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(n,r){if(!(!this.flag||!this.pinchFlag||r.length<2)){var s=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",et(et({data:this.data,datas:this.data,movement:this.getMovement(r),angle:s.getAngle(r),rotation:s.getRotation(r),touches:s.getPositions(r),scale:s.getScale(r),distance:s.getDistance(r)},s.getPosition(r)),{inputEvent:n,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(n){if(this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var s=this.getCurrentStore();this.emit("pinchEnd",et(et({data:this.data,datas:this.data,isPinch:r,touches:s.getPositions()},s.getPosition()),{inputEvent:n}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(n,r,s){var p=this._getPosition(n,s),m=this.isDrag;(p.deltaX||p.deltaY)&&(this.isDrag=!0);var c=!1;return!m&&this.isDrag&&(c=!0),et(et({data:this.data,datas:this.data},p),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:r,isTrusted:this._isTrusted,isFirstDrag:c})},t.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},t.prototype._getPosition=function(n,r){var s=this.getCurrentStore(),p=s.getPosition(n,r),m=this.clientStores.slice(1).reduce(function(h,f){var o=f.getPosition();return h.distX+=o.distX,h.distY+=o.distY,h},p),c=m.distX,i=m.distY;return et(et({},p),{distX:c,distY:i})},t.prototype._attchDragEvent=function(){var n=this._window,r=this.options.container,s={passive:!1};this._isDragAPI&&(ut(r,"dragover",this.onDrag,s),ut(n,"dragend",this.onDragEnd)),this._useMouse&&(ut(r,"mousemove",this.onDrag),ut(n,"mouseup",this.onDragEnd)),this._useTouch&&(ut(r,"touchmove",this.onDrag,s),ut(n,"touchend",this.onDragEnd,s),ut(n,"touchcancel",this.onDragEnd,s))},t.prototype._dettachDragEvent=function(){var n=this._window,r=this.options.container;this._isDragAPI&&(it(r,"dragover",this.onDrag),it(n,"dragend",this.onDragEnd)),this._useMouse&&(it(r,"mousemove",this.onDrag),it(n,"mouseup",this.onDragEnd)),this._useTouch&&(it(r,"touchstart",this.onDragStart),it(r,"touchmove",this.onDrag),it(n,"touchend",this.onDragEnd),it(n,"touchcancel",this.onDragEnd))},t}(VP);function ek(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var tk=ek;function nk(e){return tk(e).toString(36)}function rk(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function ik(e,t,n){return n.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,s){var p=s.trim();return(p?pi(p):[""]).map(function(m){var c=m.trim();return c.indexOf("@")===0?c:c.indexOf(":global")>-1?c.replace(/\:global/g,""):c.indexOf(":host")>-1?"".concat(c.replace(/\:host/g,".".concat(e))):c?".".concat(e," ").concat(c):".".concat(e)}).join(", ")+" {"})}function sk(e,t,n,r,s){var p=fc(r),m=p.createElement("style");return m.setAttribute("type","text/css"),m.setAttribute("data-styled-id",e),m.setAttribute("data-styled-count","1"),n.nonce&&m.setAttribute("nonce",n.nonce),m.innerHTML=ik(e,t,n),(s||p.head||p.body).appendChild(m),m}function ok(e){var t="rCS"+nk(e);return{className:t,inject:function(n,r){r===void 0&&(r={});var s=rk(n),p=(s||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!p)p=sk(t,e,r,n,s);else{var m=parseFloat(p.getAttribute("data-styled-count"))||0;p.setAttribute("data-styled-count","".concat(m+1))}return{destroy:function(){var c,i=parseFloat(p.getAttribute("data-styled-count"))||0;i<=1?(p.remove?p.remove():(c=p.parentNode)===null||c===void 0||c.removeChild(p),p=null):p.setAttribute("data-styled-count","".concat(i-1))}}}}}var Ka=function(){return Ka=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Ka.apply(this,arguments)};function ak(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function lk(e,t){var n=ok(t),r=n.className;return PP(function(s,p){var m=s.className,c=m===void 0?"":m;s.cspNonce;var i=ak(s,["className","cspNonce"]),h=$P();return HP(p,function(){return h.current},[]),og(function(){var f=n.inject(h.current,{nonce:s.cspNonce});return function(){f.destroy()}},[]),Ht(e,Ka({ref:h,"data-styled-id":r,className:"".concat(c," ").concat(r)},i))})}function ck(e,t,n,r,s,p){for(var m=0;m<s;++m){var c=n+m*s,i=r+m*s;e[c]+=e[i]*p,t[c]+=t[i]*p}}function uk(e,t,n,r,s){for(var p=0;p<s;++p){var m=n+p*s,c=r+p*s,i=e[m],h=t[m];e[m]=e[c],e[c]=i,t[m]=t[c],t[c]=h}}function fk(e,t,n,r,s){for(var p=0;p<r;++p){var m=n+p*r;e[m]/=s,t[m]/=s}}function hk(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var n=e.slice(),r=cg(t),s=0;s<t;++s){var p=t*s+s;if(!oa(n[p],ia)){for(var m=s+1;m<t;++m)if(n[t*s+m]){uk(n,r,s,m,t);break}}if(!oa(n[p],ia))return[];fk(n,r,s,t,n[p]);for(var m=0;m<t;++m){var c=m,i=m+s*t,h=n[i];!oa(h,ia)||s===m||ck(n,r,c,s,t,-h)}}return r}function _r(e,t,n){n===void 0&&(n=Math.sqrt(e.length));var r=[],s=e.length/n,p=t.length/s;if(s){if(!p)return e}else return t;for(var m=0;m<n;++m)for(var c=0;c<p;++c){r[c*n+m]=0;for(var i=0;i<s;++i)r[c*n+m]+=e[i*n+m]*t[c*s+i]}return r}function dk(e,t,n){n===void 0&&(n=t.length);var r=_r(e,t,n),s=r[n-1];return r.map(function(p){return p/s})}function pk(e,t){return _r(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function gk(e,t){return _r(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function vk(e,t){return _r(e,mk(t,4))}function gs(e,t){var n=t[0],r=n===void 0?1:n,s=t[1],p=s===void 0?1:s,m=t[2],c=m===void 0?1:m;return _r(e,[r,0,0,0,0,p,0,0,0,0,c,0,0,0,0,1],4)}function ha(e,t){var n=t[0],r=n===void 0?0:n,s=t[1],p=s===void 0?0:s,m=t[2],c=m===void 0?0:m;return _r(e,[1,0,0,0,0,1,0,0,0,0,1,0,r,p,c,1],4)}function qa(e,t){return _r(e,t,4)}function mk(e,t){var n=Math.cos(e),r=Math.sin(e),s=cg(t);return s[0]=n,s[1]=r,s[t]=-r,s[t+1]=n,s}function cg(e){for(var t=e*e,n=[],r=0;r<t;++r)n[r]=r%(e+1)?0:1;return n}var Ti=function(){return Ti=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Ti.apply(this,arguments)};function ug(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function _k(e,t){return t===void 0&&(t=0),bk(wk(e,t))}function Uf(e,t){var n=dk(e,[t[0],t[1]||0,t[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function yk(e,t){t===void 0&&(t=document.body);for(var n=e,r=ug();n;){var s=getComputedStyle(n).transform;if(r=qa(_k(s),r),n===t)break;n=n.parentElement}return r=hk(r,4),r[12]=0,r[13]=0,r[14]=0,r}function bk(e){var t=ug();return e.forEach(function(n){var r=n.matrixFunction,s=n.functionValue;r&&(t=r(t,s))}),t}function wk(e,t){t===void 0&&(t=0);var n=Xp(e)?e:lP(e);return n.map(function(r){var s=cP(r),p=s.prefix,m=s.value,c=null,i=p,h="";if(p==="translate"||p==="translateX"||p==="translate3d"){var f=mn(t)?Ti(Ti({},t),{"o%":t["%"]}):{"%":t,"o%":t},o=pi(m).map(function(te,se){return se===0&&"x%"in f?f["%"]=t["x%"]:se===1&&"y%"in f?f["%"]=t["y%"]:f["%"]=t["o%"],Si(te,f)}),l=o[0],a=o[1],u=a===void 0?0:a,g=o[2],d=g===void 0?0:g;c=ha,h=[l,u,d]}else if(p==="translateY"){var v=mn(t)?Ti({"%":t["y%"]},t):{"%":t},u=Si(m,v);c=ha,h=[0,u,0]}else if(p==="translateZ"){var d=parseFloat(m);c=ha,h=[0,0,d]}else if(p==="scale"||p==="scale3d"){var _=pi(m).map(function(te){return parseFloat(te)}),b=_[0],y=_[1],w=y===void 0?b:y,C=_[2],S=C===void 0?1:C;c=gs,h=[b,w,S]}else if(p==="scaleX"){var b=parseFloat(m);c=gs,h=[b,1,1]}else if(p==="scaleY"){var w=parseFloat(m);c=gs,h=[1,w,1]}else if(p==="scaleZ"){var S=parseFloat(m);c=gs,h=[1,1,S]}else if(p==="rotate"||p==="rotateZ"||p==="rotateX"||p==="rotateY"){var T=Kp(m),j=T.unit,W=T.value,V=j==="rad"?W:W*Math.PI/180;p==="rotate"||p==="rotateZ"?(i="rotateZ",c=vk):p==="rotateX"?c=pk:p==="rotateY"&&(c=gk),h=V}else if(p==="matrix3d")c=qa,h=pi(m).map(function(te){return parseFloat(te)});else if(p==="matrix"){var H=pi(m).map(function(te){return parseFloat(te)});c=qa,h=[H[0],H[1],0,0,H[2],H[3],0,0,0,0,1,0,H[4],H[5],0,1]}else i="";return{name:p,functionName:i,value:m,matrixFunction:c,functionValue:h}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ja=function(){return Ja=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Ja.apply(this,arguments)};function Ck(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,c=p.length;m<c;m++,s++)r[s]=p[m];return r}var Sk=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(mn(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(mn(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=Oo(p,function(c){return c.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,Ck(p).forEach(function(c){c.listener(r),c.once&&s.off(n,c.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(Ja({listener:r},s))},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Za=function(e,t){return Za=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Za(e,t)};function xk(e,t){Za(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Er=function(){return Er=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Er.apply(this,arguments)};function Tk(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function da(e){if(e){if(dr(e))return document.querySelector(e)}else return null;if(Vp(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var Ok=function(e){xk(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r}var n=t.prototype;return n.dragStart=function(r,s){var p=da(s.container);if(!p){this._flag=!1;return}var m=0,c=0,i=0,h=0;if(p===document.body)i=window.innerWidth,h=window.innerHeight;else{var f=p.getBoundingClientRect();m=f.top,c=f.left,i=f.width,h=f.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:m,left:c,width:i,height:h},this._prevScrollPos=this._getScrollPosition([0,0],s)},n.drag=function(r,s){if(clearTimeout(this._timer),!!this._flag){var p=r.clientX,m=r.clientY,c=s.threshold,i=c===void 0?0:c,h=this,f=h._startRect,o=h._startPos,l=[0,0];return f.top>m-i?(o[1]>f.top||m<o[1])&&(l[1]=-1):f.top+f.height<m+i&&(o[1]<f.top+f.height||m>o[1])&&(l[1]=1),f.left>p-i?(o[0]>f.left||p<o[0])&&(l[0]=-1):f.left+f.width<p+i&&(o[0]<f.left+f.width||p>o[0])&&(l[0]=1),!l[0]&&!l[1]?!1:this._continueDrag(Er(Er({},s),{direction:l,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var s=this;if(this._isWait)return!1;var p=r.prevScrollPos,m=p===void 0?this._prevScrollPos:p,c=r.direction,i=r.throttleTime,h=i===void 0?0:i,f=r.inputEvent,o=r.isDrag,l=this._getScrollPosition(c||[0,0],r),a=l[0]-m[0],u=l[1]-m[1],g=c||[a?Math.abs(a)/a:0,u?Math.abs(u)/u:0];return this._prevScrollPos=l,!a&&!u?!1:(this.trigger("move",{offsetX:g[0]?a:0,offsetY:g[1]?u:0,inputEvent:f}),h&&o&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},h)),!0)},n.dragEnd=function(){this._flag=!1,clearTimeout(this._timer)},n._getScrollPosition=function(r,s){var p=s.container,m=s.getScrollPosition,c=m===void 0?Tk:m;return c({container:da(p),direction:r})},n._continueDrag=function(r){var s=this,p,m,c=r.container,i=r.direction,h=r.throttleTime,f=r.useScroll,o=r.isDrag,l=r.inputEvent;if(!(!this._flag||o&&this._isWait)){var a=Ua(),u=Math.max(h+this._prevTime-a,0);if(u>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},u),!1;this._prevTime=a;var g=this._getScrollPosition(i,r);this._prevScrollPos=g,o&&(this._isWait=!0);var d={container:da(c),direction:i,inputEvent:l};return(m=(p=r).requestScroll)===null||m===void 0||m.call(p,d),this.trigger("scroll",d),this._isWait=!1,f||this.checkScroll(Er(Er({},r),{prevScrollPos:g,direction:i,inputEvent:l}))}},t}(Sk),Qa=function(e,t){return Qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Qa(e,t)};function Ek(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Qa(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ft=function(){return Ft=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Ft.apply(this,arguments)};function Oi(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,p;r<s;r++)(p||!(r in t))&&(p||(p=Array.prototype.slice.call(t,0,r)),p[r]=t[r]);return e.concat(p||Array.prototype.slice.call(t))}function On(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return KE.apply(void 0,Oi(["scena-guides-"],e,!1))}var Pk=On("guide","adder"),kk=On("guides"),Ak=On("guide"),Wf=On("dragging"),Mk=On("display-drag"),Rk=qE("scena-guides-",`
{
    position: relative;
    width: 100%;
    height: 100%;
}
canvas {
    position: relative;
}
.guide-origin {
    position: absolute;
    width: 1px;
    height: 1px;
    top: 0;
    left: 0;
    opacity: 0;
}
.guides {
    position: absolute;
    bottom: 0;
    right: 0;
    will-change: transform;
    z-index: 2000;
}
.guide-pos {
    position: absolute;
    font-weight: bold;
    font-size: 12px;
    color: #f33;
}
.horizontal .guide-pos {
    bottom: 100%;
    left: 50%;
    transform: translate(-50%);
}
.vertical .guide-pos {
    left: calc(100% + 2px);
    top: 50%;
    transform: translateY(-50%);
}
.display-drag {
    position: absolute;
    will-change: transform;
    z-index: 2000;
    font-weight: bold;
    font-size: 12px;
    display: none;
    left: 20px;
    top: -20px;
    color: #f33;
}
:host.horizontal .guides {
    width: 100%;
    height: 0;
}
:host.vertical .guides {
    height: 100%;
    width: 0;
}
:host.horizontal canvas {
    cursor: ns-resize;
}
:host.vertical canvas {
    cursor: ew-resize;
}
.guide {
    position: absolute;
    background: #f33;
    z-index: 2;
}
.guide.dragging:before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
:host.horizontal .guide {
    width: 100%;
    height: 1px;
    cursor: row-resize;
}
:host.vertical .guide {
    width: 1px;
    height: 100%;
    cursor: col-resize;
}
.mobile :host.horizontal .guide {
    transform: scale(1, 2);
}
.mobile :host.vertical .guide {
    transform: scale(2, 1);
}
:host.horizontal .guide:before {
    height: 20px;
}
:host.vertical .guide:before {
    width: 20px;
}
.adder {
    display: none;
}
.adder.dragging {
    display: block;
}
`),Dk=Oi(["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides","scrollOptions","guideStyle","guidesOffset","digit","defaultGuidesPos","dragGuideStyle","displayGuidePos","guidePosFormat","guidePosStyle","lockGuides"],ag,!0),Ik=["getGuides","loadGuides","scroll","scrollGuides","resize","getElement","getRulerElement","forceUpdate","getRulerScrollPos","getGuideScrollPos","zoomTo","drawRuler"],Fk=["changeGuides","requestScroll","dragStart","drag","dragEnd","clickRuler"],Lk=lk("div",Rk),Bk=function(e){Ek(t,e);function t(r){var s=e.call(this,r)||this;return s.state={guides:[]},s.scrollPos=0,s.managerRef=vc(),s.guideElements=[],s._isFirstMove=!1,s._zoom=1,s._observer=null,s.onDragStart=function(p){var m=p.datas,c=p.inputEvent;s._isFirstMove=!0,s.movePos(p),s.props.onDragStart(Ft(Ft({},p),{dragElement:m.target})),s.gesto.isFlag()&&(c.stopPropagation(),c.preventDefault(),s._startDragScroll(p))},s._onDrag=function(p){s._isFirstMove&&(s._isFirstMove=!1,vP(p.datas.target,Wf));var m=s.movePos(p);if(s.props.onDrag(Ft(Ft({},p),{dragElement:p.datas.target})),!s.gesto.isFlag()){s._endDragScroll(p);return}return s._dragScroll(p),m},s.onDragEnd=function(p){var m=p.datas,c=p.isDouble,i=p.distX,h=p.distY,f=s.movePos(p),o=s.state.guides,l=s.props,a=l.onChangeGuides,u=l.displayDragPos,g=l.digit,d=l.lockGuides,v=l.guidesOffset,_=s._zoom,b=parseFloat((f/_).toFixed(g||0)),y=s.scrollPos-(v||0);if(u&&(s.displayElement.style.cssText+="display: none;"),mP(m.target,Wf),s.props.onDragEnd(Ft(Ft({},p),{dragElement:m.target})),s._endDragScroll(p),m.fromRuler)s._isFirstMove&&s.props.onClickRuler(Ft(Ft({},p),{pos:0})),b>=y&&o.indexOf(b)<0&&s.setState({guides:Oi(Oi([],o,!0),[b],!1)},function(){a({guides:s.state.guides,distX:i,distY:h,index:o.length,isAdd:!0,isRemove:!1,isChange:!1})});else{var w=parseFloat(m.target.getAttribute("data-index")),C=!1,S=!1;o=Oi([],o,!0);var T=o.indexOf(b);if(c||b<y||T>-1&&T!==w){if(d&&(d===!0||d.indexOf("remove")>-1))return;o.splice(w,1),C=!0}else{if(T>-1)return;if(d&&(d===!0||d.indexOf("change")>-1))return;o[w]=b,S=!0}s.setState({guides:o},function(){var j=s.state.guides;a({distX:i,distY:h,guides:j,isAdd:!1,index:w,isChange:S,isRemove:C})})}},s._onCheck=function(){s.resize()},s.state.guides=r.defaultGuides||[],s.scrollPos=r.defaultGuidesPos||0,s}var n=t.prototype;return n.render=function(){var r=this.props,s=r.className,p=r.type,m=r.zoom,c=r.style,i=r.rulerStyle,h=r.displayDragPos,f=r.cspNonce,o=r.dragGuideStyle,l=r.guidePosStyle,a=l===void 0?{}:l,u=this.props,g=this.getTranslateName(),d={};return ag.forEach(function(v){v==="style"||v==="warpSelf"||v==="useResizeObserver"||(d[v]=u[v])}),this._zoom=m,Ht(Lk,{ref:this.managerRef,cspNonce:f,className:"".concat(On("manager",p)," ").concat(s),style:c},Ht("div",{className:On("guide-origin"),ref:Un(this,"originElement")}),Ht(WP,Ft({ref:Un(this,"ruler"),style:i},d)),Ht("div",{className:kk,ref:Un(this,"guidesElement"),style:{transform:"".concat(g,"(").concat(-this.scrollPos*m,"px)")}},h&&Ht("div",{className:Mk,ref:Un(this,"displayElement"),style:a||{}}),Ht("div",{className:Pk,ref:Un(this,"adderElement"),style:o}),this.renderGuides()))},n.drawRuler=function(r){this.ruler.draw(r)},n.renderGuides=function(){var r=this,s=this.props,p=s,m=p.type,c=p.showGuides,i=p.guideStyle,h=p.displayGuidePos,f=p.guidePosStyle,o=f===void 0?{}:f,l=p.guidesOffset,a=this._zoom,u=this.getTranslateName(),g=this.state.guides,d=s.guidePosFormat||s.dragPosFormat||function(v){return v};if(this.guideElements=[],c)return g.map(function(v,_){var b=v+(l||0);return Ht("div",{className:On("guide",m),ref:JE(r,"guideElements",_),key:_,"data-index":_,"data-pos":v,style:Ft(Ft({},i),{transform:"".concat(u,"(").concat(b*a,"px) translateZ(0px)")})},h&&Ht("div",{className:On("guide-pos"),style:o||{}},d(v)))})},n.componentDidMount=function(){var r=this;this.gesto=new QP(this.managerRef.current,{container:document.body}).on("dragStart",function(s){var p=r.props,m=p.type,c=p.lockGuides,i=r._zoom;if(c===!0){s.stop();return}var h=s.inputEvent,f=h.target,o=s.datas,l=r.ruler.canvasElement,a=r.guidesElement,u=m==="horizontal",g=r.originElement.getBoundingClientRect(),d=yk(r.managerRef.current),v=Uf(d,[s.clientX-g.left,s.clientY-g.top]);v[0]-=a.offsetLeft,v[1]-=a.offsetTop,v[u?1:0]+=r.scrollPos*i,o.offsetPos=v,o.matrix=d;var _=c&&c.indexOf("add")>-1,b=c&&c.indexOf("remove")>-1,y=c&&c.indexOf("change")>-1;if(f===l){if(_){s.stop();return}o.fromRuler=!0,o.target=r.adderElement}else if(gP(f,Ak)){if(b&&y){s.stop();return}o.target=f}else return s.stop(),!1;r.onDragStart(s)}).on("drag",this._onDrag).on("dragEnd",this.onDragEnd),this.props.useResizeObserver?(this._observer=new ResizeObserver(this._onCheck),this._observer.observe(this.guidesElement,{box:"border-box"}),this._observer.observe(this.getRulerElement(),{box:"border-box"})):this._onCheck()},n.componentWillUnmount=function(){var r;this.gesto.unset(),(r=this._observer)===null||r===void 0||r.disconnect()},n.componentDidUpdate=function(r){var s=this.props.defaultGuides;r.defaultGuides!==s&&this.setState({guides:s||[]})},n.loadGuides=function(r){this.setState({guides:r})},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(r,s){s===void 0&&(s=this._zoom),this._zoom=s;var p=this.getTranslateName(),m=this.guidesElement;this.scrollPos=r,m.style.transform="".concat(p,"(").concat(-r*s,"px)");var c=this.state.guides,i=this.props.guidesOffset||0;this.guideElements.forEach(function(h,f){if(h){var o=c[f]+(i||0);h.style.transform="".concat(p,"(").concat(o*s,"px) translateZ(0px)"),h.style.display=-r+o<0?"none":"block"}})},n.zoomTo=function(r){this.scroll(this.getRulerScrollPos(),r),this.scrollGuides(this.getGuideScrollPos(),r)},n.getElement=function(){return this.managerRef.current},n.getRulerElement=function(){return this.ruler.canvasElement},n.getGuideScrollPos=function(){return this.scrollPos},n.getRulerScrollPos=function(){return this.ruler.getScrollPos()},n.scroll=function(r,s){s===void 0&&(s=this._zoom),this._zoom=s,this.ruler.scroll(r,s)},n.resize=function(r){r===void 0&&(r=this._zoom),this.ruler.resize(r)},n.movePos=function(r){var s=r.datas,p=r.distX,m=r.distY,c=this.props,i=c.type,h=c.snaps,f=c.snapThreshold,o=c.displayDragPos,l=c.digit,a=c.guidesOffset||0,u=this._zoom,g=c.dragPosFormat||function(V){return V},d=i==="horizontal",v=Uf(s.matrix,[p,m]),_=s.offsetPos,b=v[0]+_[0],y=v[1]+_[1],w=a*u,C=Math.round(d?y:b)-a,S=parseFloat((C/u).toFixed(l||0)),T=h.slice().sort(function(V,H){return Math.abs(S-V)-Math.abs(S-H)});if(T.length&&Math.abs(T[0]*u-C)<f&&(S=T[0],C=S*u),!s.fromRuler||!this._isFirstMove){if(o){var j=i==="horizontal"?[b,C+w]:[C+w,y];this.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) "+"translate(".concat(j.map(function(V){return"".concat(V,"px")}).join(", "),")"),this.displayElement.innerHTML="".concat(g(S))}var W=s.target;W.setAttribute("data-pos",S),W.style.transform="".concat(this.getTranslateName(),"(").concat(C+a*u,"px)")}return C},n.getTranslateName=function(){return this.props.type==="horizontal"?"translateY":"translateX"},n._startDragScroll=function(r){var s=this,p=this.props.scrollOptions;if(p){var m=r.datas,c=new Ok;m.dragScroll=c,c.on("scroll",function(i){var h,f,o=i.container,l=i.direction;(f=(h=s.props).onRequestScroll)===null||f===void 0||f.call(h,{container:o,direction:l})}).on("move",function(i){var h=i.offsetX,f=i.offsetY,o=i.inputEvent;s.gesto.scrollBy(h,f,o.inputEvent,!0)}),c.dragStart(r,{container:p.container})}},n._dragScroll=function(r){var s=this.props.scrollOptions;if(s){var p=r.datas.dragScroll;p.drag(r,s)}},n._endDragScroll=function(r){var s;(s=r.datas.dragScroll)===null||s===void 0||s.dragEnd(),r.datas.dragScroll=null},t.defaultProps={className:"",type:"horizontal",zoom:1,style:{},snapThreshold:5,snaps:[],digit:0,onClickRuler:function(){},onChangeGuides:function(){},onRequestScroll:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(r){return r},defaultGuides:[],lockGuides:!1,showGuides:!0,guideStyle:{},dragGuideStyle:{},guidePosStyle:{},defaultGuidesPos:0},t}(ng),el=function(e,t){return el=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},el(e,t)};function _c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");el(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ws=function(){return Ws=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Ws.apply(this,arguments)};function jk(e,t,n,r){var s=arguments.length,p=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(m=e[c])&&(p=(s<3?m(p):s>3?m(t,n,p):m(t,n))||p);return s>3&&p&&Object.defineProperty(t,n,p),p}var fg=Dk,hg=Ik,dg=Fk,Nk=function(e){_c(t,e);function t(r){var s=e.call(this,r)||this;return s.state={},s.state=s.props,s}var n=t.prototype;return n.render=function(){return Ht(Bk,Ws({ref:Un(this,"guides")},this.state))},t}(gc);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tl=function(){return tl=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},tl.apply(this,arguments)};function zk(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,c=p.length;m<c;m++,s++)r[s]=p[m];return r}var $k=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(mn(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(mn(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=Oo(p,function(c){return c.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,zk(p).forEach(function(c){c.listener(r),c.once&&s.off(n,c.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(tl({listener:r},s))},e}(),Hk=function(e){_c(t,e);function t(r,s){s===void 0&&(s={});var p=e.call(this)||this;p.containerProvider=null,p.selfElement=null,p._warp=!1;var m={};dg.forEach(function(i){m[uP("on ".concat(i))]=function(h){return p.trigger(i,h)}});var c;return s.warpSelf?(delete s.warpSelf,p._warp=!0,c=r):(c=document.createElement("div"),r.appendChild(c)),p.containerProvider=zf(Ht(Nk,Ws({ref:Un(p,"innerGuides")},m,s)),c),p}var n=t.prototype;return n.setState=function(r,s){this.innerGuides.setState(r,s)},n.forceUpdate=function(r){this.innerGuides.forceUpdate(r)},n.destroy=function(){var r,s=this.selfElement;zf(null,s,this.containerProvider),this._warp||(r=s?.parentElement)===null||r===void 0||r.removeChild(s),this.selfElement=null,this.innerGuides=null},n.getInnerGuides=function(){return this.innerGuides.guides},t=jk([If(hg,function(r,s){r[s]||(r[s]=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var c=this.getInnerGuides();if(!(!c||!c[s]))return c[s].apply(c,p)})}),If(fg,function(r,s){Object.defineProperty(r,s,{get:function(){return this.getInnerGuides().props[s]},set:function(p){var m;this.innerGuides.setState((m={},m[s]=p,m))},enumerable:!0,configurable:!0})})],t),t}($k),Uk=function(e){_c(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Hk);const $i=[...fg];$i.splice($i.indexOf("style"),1);const pg={},yc={};$i.forEach(e=>{yc[e]=function(t){this.$_guides[e]=t}});yc.vueStyle=function(e){this.$_guides.style=e};hg.forEach(e=>{pg[e]=function(...t){return this.$_guides[e](...t)}});const Wk={name:"guides",methods:pg,watch:yc,props:[...$i,"vueStyle"],mounted(){const e={},t=this.$props;$i.forEach(p=>{const m=t[p];Yp(m)||(e[p]=t[p])});const r=this.$refs.container;e.style=t.vueStyle,e.warpSelf=!0,this.$_guides=new Uk(r,e);const s=this.$_guides;dg.forEach(p=>{s.on(p,m=>{this.$emit(p,{...m})})})},beforeUnmount(){this.$_guides.destroy()}},Yk={ref:"container"};function Xk(e,t,n,r,s,p){return ee(),he("div",Yk,null,512)}const Vk=vt(Wk,[["render",Xk]]);const bc=e=>(no("data-v-9db25f33"),e=e(),ro(),e),Gk=bc(()=>ie("path",{d:"M12.75 12.75H21V11.25H12.75H11.25H3V12.75H11.25H12.75Z",fill:"currentColor"},null,-1)),Kk=[Gk],qk=bc(()=>ie("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.25 12.75V21H12.75V12.75H21V11.25H12.75V3H11.25V11.25H3V12.75H11.25Z",fill:"currentColor"},null,-1)),Jk=[qk],Zk=["random"],Qk=["onClick"],eA={class:"dc-layout-scale-bar-item__menu__item--main"},tA=bc(()=>ie("hr",null,null,-1)),nA={__name:"scale-bar",props:{clearRule:{type:Function},lockRule:{type:Function}},setup(e){const t=e,n=fe(!1),r=fe(),s=Pe("canvas"),p=Pe("handler"),m=fe(),c=fe([[{type:"showRule",title:"显示标尺和参考线",status:!0}],[{type:"lock",title:"锁定参考线",status:()=>{t.lockRule()}},{type:"clearRule",title:"清除参考线",status:()=>{t.clearRule()}}],[{type:"size",title:"400%",value:4,status:()=>{p.value?.workareaHandler.setZoomAuto(4)}},{type:"size",title:"200%",value:2,status:()=>{p.value?.workareaHandler.setZoomAuto(2)}},{type:"size",title:"100%",value:1,status:()=>{p.value?.workareaHandler.setZoomAuto(1)}},{type:"size",title:"50%",value:.5,status:()=>{p.value?.workareaHandler.setZoomAuto(.5)}}],[{type:"fullscreen",title:"适合满屏",status:()=>{p.value?.workareaHandler.one()}},{type:"fullscreen",title:"填满屏幕",status:()=>{p.value?.workareaHandler.one()}}]]);function i(u){u.status()}function h(){n.value=!n.value}function f(){return s.value?parseInt(s.value.getZoom()*100)+"%":"0%"}function o(){m.value=Math.random()*1e3}function l(){p.value?.workareaHandler.small()}function a(){p.value?.workareaHandler.big()}return Ge(()=>{window.addEventListener("resize",o)}),Jr(()=>{window.removeEventListener("resize",o)}),(u,g)=>{const d=He("popover");return ee(),he("div",{class:"dc-layout-scale-bar popover",ref_key:"scaleDom",ref:r},[(ee(),he("svg",{role:"img","aria-label":"minus",focusable:"false","data-icon":"minus","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-minus",onClick:l},Kk)),(ee(),he("svg",{role:"img","aria-label":"add",focusable:"false","data-icon":"add","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-add",onClick:a},Jk)),ie("span",{class:"dc-layout-scale-bar__percent gda-popover-open",onClick:h,random:m.value},ze(f()),9,Zk),ve(d,{dom:r.value,show:n.value,onClose:g[0]||(g[0]=v=>n.value=!1)},{default:_e(({setSlotRef:v})=>[ie("div",{class:"content",ref:_=>v(_)},[(ee(!0),he(Re,null,ht(c.value,(_,b)=>(ee(),he(Re,{key:b},[(ee(!0),he(Re,null,ht(_,y=>(ee(),he("div",{key:y.type,class:"dc-layout-scale-bar-item__menu__item",onClick:w=>i(y)},[ie("span",eA,ze(y.title),1)],8,Qk))),128)),tA],64))),128))],512)]),_:1},8,["dom","show"])],512)}}},rA=vt(nA,[["__scopeId","data-v-9db25f33"]]);const iA={components:{Guides:Vk,ScaleBar:rA},setup(){const e=fe(),t=fe(),n=fe(),r=fe(null),s=fe(),p=Pe("handler"),m=fe(!0),c=fe(),{state:i}=gr(),h=re(()=>{const y=p.value?.canvas?.viewportTransform,w=i.workspace;return a(),y&&w?{left:parseInt(y[4]),top:parseInt(y[5]),zoom:y[0],width:w.width,height:w.height}:{left:0,x:1,y:1,top:0}}),f=re(()=>i.workspace?.unit);Ae(()=>h.value?.zoom,()=>{d(),a()},{deep:!0}),Ae(()=>f.value,()=>{a()}),Ge(()=>{d(),window.addEventListener("resize",u),s.value.addEventListener("scroll",g)}),Jr(()=>{window.removeEventListener("resize",u)});const o=re(()=>r.value?[[r.value.left,r.value.left+r.value.width]]:[]),l=re(()=>r.value?[[r.value.top,r.value.top+r.value.height]]:[]);re(()=>r.value?r.value.width-r.value.width*(1-r.value.zoom)/2:0);function a(){if(s.value&&p.value){const{offsetWidth:y,offsetHeight:w}=s.value,{width:C,height:S}=p.value.workareaHandler.option;let T=p.value.workareaHandler?.unitEnum[f.value];const j={px:1e3,cm:100,mm:100};let W=h.value?.zoom?h.value.zoom>1?1:h.value.zoom:1;const V=p.value?.workareaHandler.getAutoScale();W<V&&(W=W/V);const H=C>1e3||S>1e3?100:50,te=50,se=50;f.value=="mm"&&(T/=3),console.log("zoom",W),console.log("unitValue",T),y/C<w/S?c.value=parseInt((Math.floor(parseInt(se/(y/C)/W)/te)||1)*H||10):c.value=parseInt((Math.floor(parseInt(se/(w/S)/W)/te)||1)*H||10),c.value<T?c.value=T/W*2:c.value>j[f.value]&&(c.value=j[f.value])}}function u(){e.value.resize(),t.value.resize(),h.value&&d()}function g(){const y=s.value.scrollTop,w=s.value.scrollLeft;e.value.scroll(w),t.value.scrollGuides(w),t.value.scroll(y),e.value.scrollGuides(y)}function d(){h.value&&(r.value={left:h.value.left,top:h.value.top,width:h.value.width,height:h.value.height,zoom:h.value.zoom})}function v(){e.value.loadGuides([]),t.value.loadGuides([])}function _(){m.value=!m.value}function b(y){y.isChange=!1}return{guides1:e,guides2:t,horRange:o,verRange:l,shell:n,shellPoi:r,container:s,clearRule:v,lockRule:_,unit:c,OnChangeGuides:b,textFormat(y){return parseInt(y/p.value?.workareaHandler.unitEnum[f.value])},verTextFormat(y){return parseInt(y/p.value?.workareaHandler.unitEnum[f.value])},DragPosFormat(y){return console.log("value",y),y}}}},sA={class:"main"},oA={class:"ruler horizontal"},aA={class:"ruler vertical"},lA={class:"editor-container",ref:"container"},cA={class:"editor-shell-wrap",ref:"shell"},uA={class:"edit-bottom"};function fA(e,t,n,r,s,p){const m=He("Guides"),c=He("ScaleBar");return ee(),he("div",sA,[ie("div",{class:"box",onClick:t[0]||(t[0]=(...i)=>e.onRestore&&e.onRestore(...i)),ref:"box"},null,512),ie("div",oA,[ve(m,{ref:"guides1",type:"horizontal",direction:"start",textAlign:"left",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[0,-8],selectedRangesTextOffset:[0,-8],longLineSize:5,textFormat:r.textFormat,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",defaultPixelScale:1,scrollPos:20,selectedRangesText:!0,textColor:"#7f8792",selectedRangesTextColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,markColor:"red",segment:2,displayDragPos:!1,rulerStyle:{left:"20px",width:"calc(100% - 20px)",height:"20px"},unit:r.unit,useResizeObserver:!0,onChangeGuides:r.OnChangeGuides},null,8,["textFormat","zoom","rulerStyle","unit","onChangeGuides"])]),ie("div",aA,[ve(m,{ref:"guides2",type:"vertical",direction:"start",textAlign:"right",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[-8,0],selectedRangesTextOffset:[-8,0],longLineSize:5,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",selectedRangesText:!0,textFormat:r.verTextFormat,textColor:"#7f8792",selectedRangesTextColor:"red",markColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,segment:1,useResizeObserver:!0,unit:r.unit,displayDragPos:!0,rulerStyle:{top:"20px",height:"calc(100% - 20px)",width:"20px"}},null,8,["textFormat","zoom","unit","rulerStyle"])]),ie("div",lA,[ie("div",cA,[Ee(e.$slots,"canvas",{},void 0,!0)],512)],512),ie("div",uA,[ve(c,{clearRule:r.clearRule,lockRule:r.lockRule},null,8,["clearRule","lockRule"])])])}const hA=vt(iA,[["render",fA],["__scopeId","data-v-b9add3a9"]]),dA=[{text:"设计",type:"design"}];const pA={class:"common-checkbox"},gA=["id"],vA=["for"],mA={__name:"checkbox",props:{className:{type:String,default:""},initValue:{type:Object,default:()=>({})},typeKey:{type:String,default:""},content:{type:String,default:""},disabled:{type:Boolean,default:!1},activeName:{type:String,default:""},effect:{type:String,default:"dark"},placement:{type:String,default:"bottom"}},setup(e){const t=e,{emit:n}=Cl(),r=re({get(){return t.initValue[t.typeKey]},set(s){n("change",s)}});return(s,p)=>{const m=He("el-tooltip");return ee(),Te(m,{class:"item",effect:e.effect,content:e.content,placement:e.placement},{default:_e(()=>[ie("div",pA,[dt(ie("input",{type:"checkbox",id:"toggle_"+e.typeKey,"onUpdate:modelValue":p[0]||(p[0]=c=>r.value=c)},null,8,gA),[[f0,r.value]]),ie("label",{for:"toggle_"+e.typeKey,class:ye(["switch",[e.className,r.value?"switch-active":"",r.value?e.activeName:"",e.disabled?"switch-disabeld":""]])},[Ee(s.$slots,"default",{},void 0,!0)],10,vA)])]),_:3},8,["effect","content","placement"])}}},_A=vt(mA,[["__scopeId","data-v-037d29d3"]]);const yA={components:{Checkbox:_A},props:{onChange:{type:Function,default:()=>{}},canvasRef:{type:Object,default:{}},barShow:{type:Array,default:()=>["locked","layer","flip","copy","delete"]},poi:{type:String,default:"bottom"}},computed:{islocked(){return!1}},methods:{myCheck(){},getBarShow(e){return this.barShow.includes(e)},copy(){},handleDelete(){}}},bA={class:"bar"},wA={class:"func-content"},CA={class:"func-content"},SA={class:"func-content"},xA={class:"func-content"},TA={class:"func-content"};function OA(e,t,n,r,s,p){const m=He("el-tooltip"),c=He("Checkbox");return ee(),he("div",bA,[dt(ie("div",wA,[ve(m,{class:"item",effect:"dark",content:"图层顺序",placement:"top",disabled:p.islocked},{default:_e(()=>[ie("i",{class:"iconfont icon-cengji",onClick:t[0]||(t[0]=Kn((...i)=>e.onLayerShow&&e.onLayerShow(...i),["stop"]))})]),_:1},8,["disabled"])],512),[[xt,p.getBarShow("layer")]]),dt(ie("div",CA,[ve(m,{class:"item",effect:"dark",content:"翻转",placement:"top",disabled:p.islocked},{default:_e(()=>[ie("i",{class:"iconfont icon-zuoyoufanzhuan",onClick:t[1]||(t[1]=Kn((...i)=>e.handleFlip&&e.handleFlip(...i),["stop"]))})]),_:1},8,["disabled"])],512),[[xt,p.getBarShow("flip")]]),dt(ie("div",SA,[ve(c,{className:"iconfont icon-unlock",activeName:"icon-suoding_huaban",content:"锁定图层",initValue:{locked:!1},typeKey:"locked",effect:"dark",placement:"top",onChange:p.myCheck},null,8,["onChange"])],512),[[xt,p.getBarShow("locked")]]),dt(ie("div",xA,[ve(m,{class:"item",effect:"dark",content:"创建副本",placement:"top",disabled:p.islocked},{default:_e(()=>[ie("i",{class:"iconfont icon-fuzhi",onClick:t[2]||(t[2]=(...i)=>p.copy&&p.copy(...i))})]),_:1},8,["disabled"])],512),[[xt,p.getBarShow("copy")]]),dt(ie("div",TA,[ve(m,{class:"item",effect:"dark",content:"删除",placement:"top",disabled:p.islocked},{default:_e(()=>[ie("i",{class:ye(["iconfont icon-delete",p.islocked?"icon_noactive":""]),onClick:t[3]||(t[3]=(...i)=>p.handleDelete&&p.handleDelete(...i))},null,2)]),_:1},8,["disabled"])],512),[[xt,p.getBarShow("delete")]])])}const EA=vt(yA,[["render",OA],["__scopeId","data-v-688426f9"]]),PA=[{material_type:"canvas_size",id:2931,title:"手机海报",material:{unit:"px",name:"手机海报",width:"1242",height:"2208"}},{material_type:"canvas_size",id:2932,title:"公众号首图 ",material:{unit:"px",name:"公众号首图 ",width:"900",height:"383"}},{material_type:"canvas_size",id:2933,title:"公众号次图",material:{unit:"px",name:"公众号次图",width:"500",height:"500"}},{material_type:"canvas_size",id:12425,title:"小红书配图",material:{unit:"px",name:"小红书配图",width:"1242",height:"1660"}},{material_type:"canvas_size",id:2934,title:"商品主图",material:{unit:"px",name:"商品主图",width:"800",height:"800"}},{material_type:"canvas_size",id:2935,title:"小程序封面",material:{unit:"px",name:"小程序封面",width:"520",height:"416"}},{material_type:"canvas_size",id:2936,title:"电商横版海报",material:{unit:"px",name:"电商横版海报",width:"1200",height:"675"}},{material_type:"canvas_size",id:2937,title:"电商竖版海报",material:{unit:"px",name:"电商竖版海报",width:"1200",height:"1920"}},{material_type:"canvas_size",id:2938,title:"电商全屏海报",material:{unit:"px",name:"电商全屏海报",width:"1920",height:"700"}},{material_type:"canvas_size",id:2939,title:"店招",material:{unit:"px",name:"店招",width:"1920",height:"150"}},{material_type:"canvas_size",id:2940,title:"手机端店铺首页 ",material:{unit:"px",name:"手机端店铺首页 ",width:"750",height:"1000"}},{material_type:"canvas_size",id:12427,title:"横版视频封面",material:{unit:"px",name:"横版视频封面",width:"1920",height:"1080"}},{material_type:"canvas_size",id:12428,title:"竖版视频封面",material:{unit:"px",name:"竖版视频封面",width:"1080",height:"1260"}},{material_type:"canvas_size",id:12426,title:"竖版直播背景",material:{unit:"px",name:"竖版直播背景",width:"1242",height:"2690"}},{material_type:"canvas_size",id:2941,title:"PPT（16:9）",material:{unit:"px",name:"PPT（16:9）",width:"1920",height:"1080"}},{material_type:"canvas_size",id:2942,title:"名片",material:{unit:"mm",name:"名片",width:"96",dpi:"300",height:"60"}},{material_type:"canvas_size",id:2949,title:"张贴海报",material:{unit:"mm",name:"张贴海报",width:"426",dpi:"300",height:"576"}},{material_type:"canvas_size",id:2948,title:"2m易拉宝",material:{unit:"cm",name:"2m易拉宝",width:"80",dpi:"150",height:"200"}},{material_type:"canvas_size",id:2947,title:"1.8m展架",material:{unit:"cm",name:"1.8m展架",width:"80",dpi:"150",height:"180"}},{material_type:"canvas_size",id:2946,title:"优惠券",material:{unit:"mm",name:"优惠券",width:"168",dpi:"300",height:"66"}},{material_type:"canvas_size",id:2945,title:"门票",material:{unit:"mm",name:"门票",width:"206",dpi:"300",height:"86"}},{material_type:"canvas_size",id:2944,title:"三折页",material:{unit:"mm",name:"三折页",width:"291",dpi:"300",height:"216"}},{material_type:"canvas_size",id:2943,title:"画册",material:{unit:"mm",name:"画册",width:"426",dpi:"300",height:"291"}},{material_type:"canvas_size",id:2950,title:"A3纸张",material:{unit:"mm",name:"A3纸张",width:"291",dpi:"300",height:"420"}},{material_type:"canvas_size",id:2951,title:"A4纸张",material:{unit:"mm",name:"A4纸张",width:"210",dpi:"300",height:"297"}},{material_type:"canvas_size",id:2952,title:"A5纸张",material:{unit:"mm",name:"A5纸张",width:"148",dpi:"300",height:"210"}}];const wc=e=>(no("data-v-2fc9d916"),e=e(),ro(),e),kA={class:"workspace-size"},AA={class:"size-header"},MA=wc(()=>ie("span",null,"调整尺寸",-1)),RA={class:"header_toolbar"},DA={class:"custom-size popover"},IA={class:"input-number-group"},FA={class:"input-number",type:"number"},LA={class:"input-number",type:"number"},BA={class:"input-number-group__suffix"},jA={key:0,class:"iconfont icon-link-outline"},NA={key:1,class:"iconfont icon-unlink-outline"},zA={type:"button",class:"btn-px"},$A={class:"dbu-resize-panel__unit-select__text"},HA={class:"unit-menu-list"},UA=["onClick"],WA={class:"size-body"},YA={class:"size-list"},XA=wc(()=>ie("div",{class:"size-name"},"自定义尺寸",-1)),VA=["onClick"],GA={class:"size-name"},KA={class:"size-info"},qA=wc(()=>ie("span",{class:"m03"},"×",-1)),JA={class:"m03"},ZA={__name:"workspace-size",setup(e){const{state:t}=gr(),n=fe(PA),r=Pe("handler"),s=fe(!1);fe(!1);const p=fe([{unit:"px",title:"像素"},{unit:"cm",title:"厘米"},{unit:"mm",title:"毫米"}]),m=re({get(){const u=r.value?.workareaHandler.unitEnum[h.value];let g=0;return u&&(g=t.workspace?.width/u),parseInt(g||0)},set(u){if(s.value){const g=r.value?.workareaHandler.getBili(),d=u/g;r.value?.workareaHandler.setSize(parseInt(u),parseInt(d));return}r.value?.workareaHandler.setWidth(parseInt(u))}}),c=re({get(){const u=r.value?.workareaHandler.unitEnum[h.value];let g=0;return u&&(g=t.workspace?.height/u),parseInt(g||0)},set(u){if(s.value){const g=r.value?.workareaHandler.getBili(),d=u*g;r.value?.workareaHandler.setSize(parseInt(d),parseInt(u));return}r.value?.workareaHandler.setHeight(parseInt(u))}}),i=re(()=>t.workspace),h=re(()=>i.value?.unit);function f(u){i.value.sizeId=u.id,i.value.unit=u?.material.unit,r.value?.workareaHandler.setSize(parseInt(u?.material.width),parseInt(u?.material.height))}function o(){i.value.sizeId=""}function l(){s.value=!s.value}function a(u){r.value?.workareaHandler.unpdateUnit(u.unit)}return(u,g)=>{const d=He("el-tooltip");return ee(),he("div",kA,[ie("div",AA,[ie("div",{class:"header_back",onClick:g[0]||(g[0]=v=>u.$emit("back"))},[ve(A(Id),{style:{width:"16px",height:"16px"}}),MA]),ie("div",RA,[ie("div",DA,[ie("div",IA,[ie("div",FA,[ve(A(mf),{modelValue:m.value,"onUpdate:modelValue":g[1]||(g[1]=v=>m.value=v),min:1,max:2e3},null,8,["modelValue"])]),ie("div",LA,[ve(A(mf),{modelValue:c.value,"onUpdate:modelValue":g[2]||(g[2]=v=>c.value=v),min:1,max:2e3},null,8,["modelValue"])]),ie("div",BA,[ve(d,{class:"item",effect:"dark",content:"锁定宽高比",placement:"top"},{default:_e(()=>[ie("button",{type:"button",onClick:l},[s.value?(ee(),he("i",jA)):(ee(),he("i",NA))])]),_:1})])]),ve(A(lE),{placement:"bottom-start","popper-class":"unit-menu",width:200,offset:2,trigger:"hover","show-arrow":!1},{reference:_e(()=>[ie("button",zA,[ie("span",$A,ze(i.value&&i.value.unit),1),ve(A(We),{size:12,class:"up"},{default:_e(()=>[ve(A($y))]),_:1}),ve(A(We),{size:12,class:"down"},{default:_e(()=>[ve(A(Fl))]),_:1})])]),default:_e(()=>[ie("div",HA,[(ee(!0),he(Re,null,ht(p.value,(v,_)=>(ee(),he("div",{class:"unit-menu-item",key:_,onClick:b=>a(v)},[ie("div",{class:ye(v.unit==i.value?.unit?"unit-menu-item-select":"")},[Yi(ze(v.unit)+"  ("+ze(v.title)+") ",1),v.unit==i.value?.unit?(ee(),Te(A(We),{key:0,style:{width:"1em",height:"1em"}},{default:_e(()=>[ve(A(qo))]),_:1})):we("",!0)],2)],8,UA))),128))])]),_:1})])])]),ie("div",WA,[ie("div",YA,[ie("div",{class:ye(["size-item",!i.value||!i.value.sizeId?"size-item-select":""]),onClick:o},[ve(A(We),{style:{width:"1em",height:"1em"}},{default:_e(()=>[ve(A(qo))]),_:1}),XA],2),(ee(!0),he(Re,null,ht(n.value,(v,_)=>(ee(),he("div",{class:ye(["size-item",i.value&&v.id==i.value.sizeId?"size-item-select":""]),key:_,onClick:b=>f(v)},[ve(A(We),{style:{width:"1em",height:"1em"}},{default:_e(()=>[ve(A(qo))]),_:1}),ie("div",GA,ze(v.title),1),ie("div",KA,[ie("span",null,ze(v.material.width),1),qA,ie("span",null,ze(v.material.height),1),ie("span",JA,ze(v.material.unit),1)])],10,VA))),128))])])])}}},QA=vt(ZA,[["__scopeId","data-v-2fc9d916"]]);const eM={components:{Bar:EA,WorkspaceSize:QA},setup(){const e=fe(dA),t=fe("design"),n=fe(!1),{state:r}=gr(),s=re(()=>r.workspace);return{headtool:e,sizeShow:n,workspace:s,getActiveClass(p){return Array.isArray(p.type)?p.type.includes(t.value)?"tabActive":"":p.type==t.value?"tabActive":""},selectTabs(p){t.value=p.type},getActiveTab(p){return p.type==t.value}}}},gg=e=>(no("data-v-ba191d32"),e=e(),ro(),e),tM={class:"editor-props-panel"},nM={class:"tab-panel-header"},rM={class:"tab-panel-block__header"},iM=["onClick"],sM={class:"tab-button"},oM={class:"tab-panel-bloack_content"},aM={class:"tab-panel"},lM={class:"tab-scrollbar__container"},cM={class:"panel-block"},uM=gg(()=>ie("div",{class:"panel-block__header"},[ie("div",{class:"panel-block__header-title"},"画布")],-1)),fM={class:"panel-block__content"},hM={class:"gda-space-item"},dM={class:"panel-row"},pM=gg(()=>ie("div",{class:"panel-row__label"},"尺寸",-1)),gM={key:0,class:"panel-row__content"},vM={class:"gda-space-item"},mM={class:"panel-row"},_M={class:"panel-row__content"},yM=Rm('<div class="panel-block" data-v-ba191d32><div class="panel-block__header" data-v-ba191d32><div class="panel-block__header-title" data-v-ba191d32>背景图</div></div><div class="panel-block__content" data-v-ba191d32><div class="gda-space-item" data-v-ba191d32><div class="gda-space-item" data-v-ba191d32><div class="panel-row" data-v-ba191d32><div class="panel-row__content" data-v-ba191d32><button class="right-canvas-resize-btn" data-v-ba191d32>上传图片</button></div></div></div></div></div></div><div class="panel-block" data-v-ba191d32><div class="panel-block__header" data-v-ba191d32><div class="panel-block__header-title" data-v-ba191d32>背景图</div><div class="panel-block__header-action" data-v-ba191d32><div class="popup" data-v-ba191d32><div class="swatch--shape-round" data-v-ba191d32></div></div></div></div></div>',2);function bM(e,t,n,r,s,p){const m=He("Bar"),c=He("workspace-size");return ee(),he("div",tM,[ie("div",nM,[ie("div",rM,[(ee(!0),he(Re,null,ht(r.headtool,i=>dt((ee(),he("div",{key:i.text,onClick:h=>r.selectTabs(i)},[ie("button",sM,[ie("div",{class:ye(["tab-content",r.getActiveClass(i)])},ze(i.text),3)])],8,iM)),[[xt,r.getActiveTab(i)]])),128))]),ie("div",oM,[ve(m)])]),ie("div",aM,[ie("div",lM,[ie("div",cM,[uM,ie("div",fM,[ie("div",hM,[ie("div",dM,[pM,r.workspace?(ee(),he("div",gM,ze(r.workspace.width)+" × "+ze(r.workspace.height)+" px ",1)):we("",!0)]),ie("div",vM,[ie("div",mM,[ie("div",_M,[ie("button",{class:"right-canvas-resize-btn",onClick:t[0]||(t[0]=i=>r.sizeShow=!0)}," 调整尺寸 ")])])])])])]),yM])]),ve(_n,{name:"anime"},{default:_e(()=>[r.sizeShow?(ee(),Te(c,{key:0,onBack:t[1]||(t[1]=i=>r.sizeShow=!1)})):we("",!0)]),_:1})])}const wM=vt(eM,[["render",bM],["__scopeId","data-v-ba191d32"]]);const CM={},SM={class:"header_nav"},xM=ie("div",{class:"logo"},null,-1),TM=ie("div",{class:"starfish-link"},[ie("a",{href:"https://github.com/haixin-fang/vue-design-editor",target:"_black"},[ie("i",{class:"iconfont icon-GitHub"})])],-1),OM=[xM,TM];function EM(e,t){return ee(),he("div",SM,OM)}const PM=vt(CM,[["render",EM]]);let vs;const kM=new Uint8Array(16);function AM(){if(!vs&&(vs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vs(kM)}const ft=[];for(let e=0;e<256;++e)ft.push((e+256).toString(16).slice(1));function MM(e,t=0){return ft[e[t+0]]+ft[e[t+1]]+ft[e[t+2]]+ft[e[t+3]]+"-"+ft[e[t+4]]+ft[e[t+5]]+"-"+ft[e[t+6]]+ft[e[t+7]]+"-"+ft[e[t+8]]+ft[e[t+9]]+"-"+ft[e[t+10]]+ft[e[t+11]]+ft[e[t+12]]+ft[e[t+13]]+ft[e[t+14]]+ft[e[t+15]]}const RM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Yf={randomUUID:RM};function Cc(e,t,n){if(Yf.randomUUID&&!t&&!e)return Yf.randomUUID();e=e||{};const r=e.random||(e.rng||AM)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return MM(r)}var Se={};const DM={},IM=Object.freeze(Object.defineProperty({__proto__:null,default:DM},Symbol.toStringTag,{value:"Module"})),pa=YT(IM);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=pa,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=pa.implForWrapper,t.nodeCanvas=pa.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function c(a,u){if(this.__eventListeners[a]){var g=this.__eventListeners[a];u?g[g.indexOf(u)]=!1:t.util.array.fill(g,!1)}}function i(a,u){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in a)this.on(g,a[g]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(u);return this}function h(a,u){var g=function(){u.apply(this,arguments),this.off(a,g)}.bind(this);this.on(a,g)}function f(a,u){if(arguments.length===1)for(var g in a)h.call(this,g,a[g]);else h.call(this,a,u);return this}function o(a,u){if(!this.__eventListeners)return this;if(arguments.length===0)for(a in this.__eventListeners)c.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in a)c.call(this,g,a[g]);else c.call(this,a,u);return this}function l(a,u){if(!this.__eventListeners)return this;var g=this.__eventListeners[a];if(!g)return this;for(var d=0,v=g.length;d<v;d++)g[d]&&g[d].call(this,u||{});return this.__eventListeners[a]=g.filter(function(_){return _!==!1}),this}t.Observable={fire:l,on:i,once:f,off:o}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var c=0,i=arguments.length;c<i;c++)this._onObjectAdded(arguments[c]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(c,i,h){var f=this._objects;return h?f[i]=c:f.splice(i,0,c),this._onObjectAdded&&this._onObjectAdded(c),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var c=this._objects,i,h=!1,f=0,o=arguments.length;f<o;f++)i=c.indexOf(arguments[f]),i!==-1&&(h=!0,c.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(c,i){for(var h=this.getObjects(),f=0,o=h.length;f<o;f++)c.call(i,h[f],f,h);return this},getObjects:function(c){return typeof c>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===c})},item:function(c){return this._objects[c]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(c,i){return this._objects.indexOf(c)>-1?!0:i?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(c,!0)}):!1},complexity:function(){return this._objects.reduce(function(c,i){return c+=i.complexity?i.complexity():0,c},0)}},t.CommonMethods={_setOptions:function(c){for(var i in c)this.set(i,c[i])},_initGradient:function(c,i){c&&c.colorStops&&!(c instanceof t.Gradient)&&this.set(i,new t.Gradient(c))},_initPattern:function(c,i,h){c&&c.source&&!(c instanceof t.Pattern)?this.set(i,new t.Pattern(c,h)):h&&h()},_setObject:function(c){for(var i in c)this._set(i,c[i])},set:function(c,i){return typeof c=="object"?this._setObject(c):this._set(c,i),this},_set:function(c,i){this[c]=i},toggle:function(c){var i=this.get(c);return typeof i=="boolean"&&this.set(c,!i),this},get:function(c){return this[c]}},function(c){var i=Math.sqrt,h=Math.atan2,f=Math.pow,o=Math.PI/180,l=Math.PI/2;t.util={cos:function(a){if(a===0)return 1;a<0&&(a=-a);var u=a/l;switch(u){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(a===0)return 0;var u=a/l,g=1;switch(a<0&&(g=-1),u){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(a)},removeFromArray:function(a,u){var g=a.indexOf(u);return g!==-1&&a.splice(g,1),a},getRandomInt:function(a,u){return Math.floor(Math.random()*(u-a+1))+a},degreesToRadians:function(a){return a*o},radiansToDegrees:function(a){return a/o},rotatePoint:function(a,u,g){var d=new t.Point(a.x-u.x,a.y-u.y),v=t.util.rotateVector(d,g);return new t.Point(v.x,v.y).addEquals(u)},rotateVector:function(a,u){var g=t.util.sin(u),d=t.util.cos(u),v=a.x*d-a.y*g,_=a.x*g+a.y*d;return{x:v,y:_}},createVector:function(a,u){return new t.Point(u.x-a.x,u.y-a.y)},calcAngleBetweenVectors:function(a,u){return Math.acos((a.x*u.x+a.y*u.y)/(Math.hypot(a.x,a.y)*Math.hypot(u.x,u.y)))},getHatVector:function(a){return new t.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,u,g){var d=t.util.createVector(a,u),v=t.util.createVector(a,g),_=t.util.calcAngleBetweenVectors(d,v),b=t.util.calcAngleBetweenVectors(t.util.rotateVector(d,_),v),y=_*(b===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(d,y)),angle:_}},projectStrokeOnPoints:function(a,u,g){var d=[],v=u.strokeWidth/2,_=u.strokeUniform?new t.Point(1/u.scaleX,1/u.scaleY):new t.Point(1,1),b=function(y){var w=v/Math.hypot(y.x,y.y);return new t.Point(y.x*w*_.x,y.y*w*_.y)};return a.length<=1||a.forEach(function(y,w){var C=new t.Point(y.x,y.y),S,T;w===0?(T=a[w+1],S=g?b(t.util.createVector(T,C)).addEquals(C):a[a.length-1]):w===a.length-1?(S=a[w-1],T=g?b(t.util.createVector(S,C)).addEquals(C):a[0]):(S=a[w-1],T=a[w+1]);var j=t.util.getBisector(C,S,T),W=j.vector,V=j.angle,H,te;if(u.strokeLineJoin==="miter"&&(H=-v/Math.sin(V/2),te=new t.Point(W.x*H*_.x,W.y*H*_.y),Math.hypot(te.x,te.y)/v<=u.strokeMiterLimit)){d.push(C.add(te)),d.push(C.subtract(te));return}H=-v*Math.SQRT2,te=new t.Point(W.x*H*_.x,W.y*H*_.y),d.push(C.add(te)),d.push(C.subtract(te))}),d},transformPoint:function(a,u,g){return g?new t.Point(u[0]*a.x+u[2]*a.y,u[1]*a.x+u[3]*a.y):new t.Point(u[0]*a.x+u[2]*a.y+u[4],u[1]*a.x+u[3]*a.y+u[5])},makeBoundingBoxFromPoints:function(a,u){if(u)for(var g=0;g<a.length;g++)a[g]=t.util.transformPoint(a[g],u);var d=[a[0].x,a[1].x,a[2].x,a[3].x],v=t.util.array.min(d),_=t.util.array.max(d),b=_-v,y=[a[0].y,a[1].y,a[2].y,a[3].y],w=t.util.array.min(y),C=t.util.array.max(y),S=C-w;return{left:v,top:w,width:b,height:S}},invertTransform:function(a){var u=1/(a[0]*a[3]-a[1]*a[2]),g=[u*a[3],-u*a[1],-u*a[2],u*a[0]],d=t.util.transformPoint({x:a[4],y:a[5]},g,!0);return g[4]=-d.x,g[5]=-d.y,g},toFixed:function(a,u){return parseFloat(Number(a).toFixed(u))},parseUnit:function(a,u){var g=/\D{0,2}$/.exec(a),d=parseFloat(a);switch(u||(u=t.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return d*t.DPI/25.4;case"cm":return d*t.DPI/2.54;case"in":return d*t.DPI;case"pt":return d*t.DPI/72;case"pc":return d*t.DPI/72*12;case"em":return d*u;default:return d}},falseFunction:function(){return!1},getKlass:function(a,u){return a=t.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),t.util.resolveNamespace(u)[a]},getSvgAttributes:function(a){var u=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":u=u.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":u=u.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":u=u.concat(["offset","stop-color","stop-opacity"]);break}return u},resolveNamespace:function(a){if(!a)return t;var u=a.split("."),g=u.length,d,v=c||t.window;for(d=0;d<g;++d)v=v[u[d]];return v},loadImage:function(a,u,g,d){if(!a){u&&u.call(g,a);return}var v=t.util.createImage(),_=function(){u&&u.call(g,v,!1),v=v.onload=v.onerror=null};v.onload=_,v.onerror=function(){t.log("Error loading "+v.src),u&&u.call(g,null,!0),v=v.onload=v.onerror=null},a.indexOf("data")!==0&&d!==void 0&&d!==null&&(v.crossOrigin=d),a.substring(0,14)==="data:image/svg"&&(v.onload=null,t.util.loadImageInDom(v,_)),v.src=a},loadImageInDom:function(a,u){var g=t.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(a),t.document.querySelector("body").appendChild(g),a.onload=function(){u(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(a,u,g,d){a=a||[];var v=[],_=0,b=a.length;function y(){++_===b&&u&&u(v.filter(function(w){return w}))}if(!b){u&&u(v);return}a.forEach(function(w,C){if(!w||!w.type){y();return}var S=t.util.getKlass(w.type,g);S.fromObject(w,function(T,j){j||(v[C]=T),d&&d(w,T,j),y()})})},enlivenObjectEnlivables:function(a,u,g){var d=t.Object.ENLIVEN_PROPS.filter(function(v){return!!a[v]});t.util.enlivenObjects(d.map(function(v){return a[v]}),function(v){var _={};d.forEach(function(b,y){_[b]=v[y],u&&(u[b]=v[y])}),g&&g(_)})},enlivenPatterns:function(a,u){a=a||[];function g(){++v===_&&u&&u(d)}var d=[],v=0,_=a.length;if(!_){u&&u(d);return}a.forEach(function(b,y){b&&b.source?new t.Pattern(b,function(w){d[y]=w,g()}):(d[y]=b,g())})},groupSVGElements:function(a,u,g){var d;return a&&a.length===1?(typeof g<"u"&&(a[0].sourcePath=g),a[0]):(u&&(u.width&&u.height?u.centerPoint={x:u.width/2,y:u.height/2}:(delete u.width,delete u.height)),d=new t.Group(a,u),typeof g<"u"&&(d.sourcePath=g),d)},populateWithProperties:function(a,u,g){if(g&&Array.isArray(g))for(var d=0,v=g.length;d<v;d++)g[d]in a&&(u[g[d]]=a[g[d]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(a){var u=t.util.createCanvasElement();return u.width=a.width,u.height=a.height,u.getContext("2d").drawImage(a,0,0),u},toDataURL:function(a,u,g){return a.toDataURL("image/"+u,g)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(a,u,g){return[a[0]*u[0]+a[2]*u[1],a[1]*u[0]+a[3]*u[1],a[0]*u[2]+a[2]*u[3],a[1]*u[2]+a[3]*u[3],g?0:a[0]*u[4]+a[2]*u[5]+a[4],g?0:a[1]*u[4]+a[3]*u[5]+a[5]]},qrDecompose:function(a){var u=h(a[1],a[0]),g=f(a[0],2)+f(a[1],2),d=i(g),v=(a[0]*a[3]-a[2]*a[1])/d,_=h(a[0]*a[2]+a[1]*a[3],g);return{angle:u/o,scaleX:d,scaleY:v,skewX:_/o,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return t.iMatrix.concat();var u=t.util.degreesToRadians(a.angle),g=t.util.cos(u),d=t.util.sin(u);return[g,d,-d,g,0,0]},calcDimensionsMatrix:function(a){var u=typeof a.scaleX>"u"?1:a.scaleX,g=typeof a.scaleY>"u"?1:a.scaleY,d=[a.flipX?-u:u,0,0,a.flipY?-g:g,0,0],v=t.util.multiplyTransformMatrices,_=t.util.degreesToRadians;return a.skewX&&(d=v(d,[1,0,Math.tan(_(a.skewX)),1],!0)),a.skewY&&(d=v(d,[1,Math.tan(_(a.skewY)),0,1],!0)),d},composeMatrix:function(a){var u=[1,0,0,1,a.translateX||0,a.translateY||0],g=t.util.multiplyTransformMatrices;return a.angle&&(u=g(u,t.util.calcRotateMatrix(a))),(a.scaleX!==1||a.scaleY!==1||a.skewX||a.skewY||a.flipX||a.flipY)&&(u=g(u,t.util.calcDimensionsMatrix(a))),u},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,u,g,d){d>0&&(u>d?u-=d:u=0,g>d?g-=d:g=0);var v=!0,_,b,y=a.getImageData(u,g,d*2||1,d*2||1),w=y.data.length;for(_=3;_<w&&(b=y.data[_],v=b<=0,v!==!1);_+=4);return y=null,v},parsePreserveAspectRatioAttribute:function(a){var u="meet",g="Mid",d="Mid",v=a.split(" "),_;return v&&v.length&&(u=v.pop(),u!=="meet"&&u!=="slice"?(_=u,u="meet"):v.length&&(_=v.pop())),g=_!=="none"?_.slice(1,4):"none",d=_!=="none"?_.slice(5,8):"none",{meetOrSlice:u,alignX:g,alignY:d}},clearFabricFontCache:function(a){a=(a||"").toLowerCase(),a?t.charWidthsCache[a]&&delete t.charWidthsCache[a]:t.charWidthsCache={}},limitDimsByArea:function(a,u){var g=Math.sqrt(u*a),d=Math.floor(u/g);return{x:Math.floor(g),y:d}},capValue:function(a,u,g){return Math.max(a,Math.min(u,g))},findScaleToFit:function(a,u){return Math.min(u.width/a.width,u.height/a.height)},findScaleToCover:function(a,u){return Math.max(u.width/a.width,u.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(u){return t.util.toFixed(u,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,u){var g=t.util.invertTransform(u),d=t.util.multiplyTransformMatrices(g,a.calcOwnMatrix());t.util.applyTransformToObject(a,d)},addTransformToObject:function(a,u){t.util.applyTransformToObject(a,t.util.multiplyTransformMatrices(u,a.calcOwnMatrix()))},applyTransformToObject:function(a,u){var g=t.util.qrDecompose(u),d=new t.Point(g.translateX,g.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",g.scaleX),a.set("scaleY",g.scaleY),a.skewX=g.skewX,a.skewY=g.skewY,a.angle=g.angle,a.setPositionByOrigin(d,"center","center")},sizeAfterTransform:function(a,u,g){var d=a/2,v=u/2,_=[{x:-d,y:-v},{x:d,y:-v},{x:-d,y:v},{x:d,y:v}],b=t.util.calcDimensionsMatrix(g),y=t.util.makeBoundingBoxFromPoints(_,b);return{x:y.width,y:y.height}},mergeClipPaths:function(a,u){var g=a,d=u;g.inverted&&!d.inverted&&(g=u,d=a),t.util.applyTransformToObject(d,t.util.multiplyTransformMatrices(t.util.invertTransform(g.calcTransformMatrix()),d.calcTransformMatrix()));var v=g.inverted&&d.inverted;return v&&(g.inverted=d.inverted=!1),new t.Group([g],{clipPath:d,inverted:v})},hasStyleChanged:function(a,u,g){return g=g||!1,a.fill!==u.fill||a.stroke!==u.stroke||a.strokeWidth!==u.strokeWidth||a.fontSize!==u.fontSize||a.fontFamily!==u.fontFamily||a.fontWeight!==u.fontWeight||a.fontStyle!==u.fontStyle||a.textBackgroundColor!==u.textBackgroundColor||a.deltaY!==u.deltaY||g&&(a.overline!==u.overline||a.underline!==u.underline||a.linethrough!==u.linethrough)},stylesToArray:function(g,u){for(var g=t.util.object.clone(g,!0),d=u.split(`
`),v=-1,_={},b=[],y=0;y<d.length;y++){if(!g[y]){v+=d[y].length;continue}for(var w=0;w<d[y].length;w++){v++;var C=g[y][w];if(C&&Object.keys(C).length>0){var S=t.util.hasStyleChanged(_,C,!0);S?b.push({start:v,end:v+1,style:C}):b[b.length-1].end++}_=C||{}}}return b},stylesFromArray:function(a,u){if(!Array.isArray(a))return a;for(var g=u.split(`
`),d=-1,v=0,_={},b=0;b<g.length;b++)for(var y=0;y<g[b].length;y++)d++,a[v]&&a[v].start<=d&&d<a[v].end&&(_[b]=_[b]||{},_[b][y]=Object.assign({},a[v].style),d===a[v].end-1&&v++);return _}}}(e),function(){var c=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function f(x,D,F,I,Q,R,E,U,M,L,z){var q=t.util.cos(x),oe=t.util.sin(x),k=t.util.cos(D),O=t.util.sin(D),P=F*Q*k-I*R*O+E,B=I*Q*k+F*R*O+U,$=L+M*(-F*Q*oe-I*R*q),N=z+M*(-I*Q*oe+F*R*q),Y=P+M*(F*Q*O+I*R*k),J=B+M*(I*Q*O-F*R*k);return["C",$,N,Y,J,P,B]}function o(x,D,F,I,Q,R,E){var U=Math.PI,M=E*U/180,L=t.util.sin(M),z=t.util.cos(M),q=0,oe=0;F=Math.abs(F),I=Math.abs(I);var k=-z*x*.5-L*D*.5,O=-z*D*.5+L*x*.5,P=F*F,B=I*I,$=O*O,N=k*k,Y=P*B-P*$-B*N,J=0;if(Y<0){var ae=Math.sqrt(1-Y/(P*B));F*=ae,I*=ae}else J=(Q===R?-1:1)*Math.sqrt(Y/(P*$+B*N));var ne=J*F*O/I,G=-J*I*k/F,ce=z*ne-L*G+x*.5,pe=L*ne+z*G+D*.5,Z=l(1,0,(k-ne)/F,(O-G)/I),ge=l((k-ne)/F,(O-G)/I,(-k-ne)/F,(-O-G)/I);R===0&&ge>0?ge-=2*U:R===1&&ge<0&&(ge+=2*U);for(var me=Math.ceil(Math.abs(ge/U*2)),be=[],ke=ge/me,qe=8/3*Math.sin(ke/4)*Math.sin(ke/4)/Math.sin(ke/2),Ct=Z+ke,mt=0;mt<me;mt++)be[mt]=f(Z,Ct,z,L,F,I,ce,pe,qe,q,oe),q=be[mt][5],oe=be[mt][6],Z=Ct,Ct+=ke;return be}function l(x,D,F,I){var Q=Math.atan2(D,x),R=Math.atan2(I,F);return R>=Q?R-Q:2*Math.PI-(Q-R)}function a(x,D,F,I,Q,R,E,U){var M;if(t.cachesBoundsOfCurve&&(M=c.call(arguments),t.boundsOfCurveCache[M]))return t.boundsOfCurveCache[M];var L=Math.sqrt,z=Math.min,q=Math.max,oe=Math.abs,k=[],O=[[],[]],P,B,$,N,Y,J,ae,ne;B=6*x-12*F+6*Q,P=-3*x+9*F-9*Q+3*E,$=3*F-3*x;for(var G=0;G<2;++G){if(G>0&&(B=6*D-12*I+6*R,P=-3*D+9*I-9*R+3*U,$=3*I-3*D),oe(P)<1e-12){if(oe(B)<1e-12)continue;N=-$/B,0<N&&N<1&&k.push(N);continue}ae=B*B-4*$*P,!(ae<0)&&(ne=L(ae),Y=(-B+ne)/(2*P),0<Y&&Y<1&&k.push(Y),J=(-B-ne)/(2*P),0<J&&J<1&&k.push(J))}for(var ce,pe,Z=k.length,ge=Z,me;Z--;)N=k[Z],me=1-N,ce=me*me*me*x+3*me*me*N*F+3*me*N*N*Q+N*N*N*E,O[0][Z]=ce,pe=me*me*me*D+3*me*me*N*I+3*me*N*N*R+N*N*N*U,O[1][Z]=pe;O[0][ge]=x,O[1][ge]=D,O[0][ge+1]=E,O[1][ge+1]=U;var be=[{x:z.apply(null,O[0]),y:z.apply(null,O[1])},{x:q.apply(null,O[0]),y:q.apply(null,O[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[M]=be),be}function u(x,D,F){for(var I=F[1],Q=F[2],R=F[3],E=F[4],U=F[5],M=F[6],L=F[7],z=o(M-x,L-D,I,Q,E,U,R),q=0,oe=z.length;q<oe;q++)z[q][1]+=x,z[q][2]+=D,z[q][3]+=x,z[q][4]+=D,z[q][5]+=x,z[q][6]+=D;return z}function g(x){var D=0,F=0,I=x.length,Q=0,R=0,E,U,M,L=[],z,q,oe;for(U=0;U<I;++U){switch(M=!1,E=x[U].slice(0),E[0]){case"l":E[0]="L",E[1]+=D,E[2]+=F;case"L":D=E[1],F=E[2];break;case"h":E[1]+=D;case"H":E[0]="L",E[2]=F,D=E[1];break;case"v":E[1]+=F;case"V":E[0]="L",F=E[1],E[1]=D,E[2]=F;break;case"m":E[0]="M",E[1]+=D,E[2]+=F;case"M":D=E[1],F=E[2],Q=E[1],R=E[2];break;case"c":E[0]="C",E[1]+=D,E[2]+=F,E[3]+=D,E[4]+=F,E[5]+=D,E[6]+=F;case"C":q=E[3],oe=E[4],D=E[5],F=E[6];break;case"s":E[0]="S",E[1]+=D,E[2]+=F,E[3]+=D,E[4]+=F;case"S":z==="C"?(q=2*D-q,oe=2*F-oe):(q=D,oe=F),D=E[3],F=E[4],E[0]="C",E[5]=E[3],E[6]=E[4],E[3]=E[1],E[4]=E[2],E[1]=q,E[2]=oe,q=E[3],oe=E[4];break;case"q":E[0]="Q",E[1]+=D,E[2]+=F,E[3]+=D,E[4]+=F;case"Q":q=E[1],oe=E[2],D=E[3],F=E[4];break;case"t":E[0]="T",E[1]+=D,E[2]+=F;case"T":z==="Q"?(q=2*D-q,oe=2*F-oe):(q=D,oe=F),E[0]="Q",D=E[1],F=E[2],E[1]=q,E[2]=oe,E[3]=D,E[4]=F;break;case"a":E[0]="A",E[6]+=D,E[7]+=F;case"A":M=!0,L=L.concat(u(D,F,E)),D=E[6],F=E[7];break;case"z":case"Z":D=Q,F=R;break}M||L.push(E),z=E[0]}return L}function d(x,D,F,I){return Math.sqrt((F-x)*(F-x)+(I-D)*(I-D))}function v(x){return x*x*x}function _(x){return 3*x*x*(1-x)}function b(x){return 3*x*(1-x)*(1-x)}function y(x){return(1-x)*(1-x)*(1-x)}function w(x,D,F,I,Q,R,E,U){return function(M){var L=v(M),z=_(M),q=b(M),oe=y(M);return{x:E*L+Q*z+F*q+x*oe,y:U*L+R*z+I*q+D*oe}}}function C(x,D,F,I,Q,R,E,U){return function(M){var L=1-M,z=3*L*L*(F-x)+6*L*M*(Q-F)+3*M*M*(E-Q),q=3*L*L*(I-D)+6*L*M*(R-I)+3*M*M*(U-R);return Math.atan2(q,z)}}function S(x){return x*x}function T(x){return 2*x*(1-x)}function j(x){return(1-x)*(1-x)}function W(x,D,F,I,Q,R){return function(E){var U=S(E),M=T(E),L=j(E);return{x:Q*U+F*M+x*L,y:R*U+I*M+D*L}}}function V(x,D,F,I,Q,R){return function(E){var U=1-E,M=2*U*(F-x)+2*E*(Q-F),L=2*U*(I-D)+2*E*(R-I);return Math.atan2(L,M)}}function H(x,D,F){var I={x:D,y:F},Q,R=0,E;for(E=1;E<=100;E+=1)Q=x(E/100),R+=d(I.x,I.y,Q.x,Q.y),I=Q;return R}function te(x,D){for(var F=0,I=0,Q=x.iterator,R={x:x.x,y:x.y},E,U,M=.01,L=x.angleFinder,z;I<D&&M>1e-4;)E=Q(F),z=F,U=d(R.x,R.y,E.x,E.y),U+I>D?(F-=M,M/=2):(R=E,F+=M,I+=U);return E.angle=L(z),E}function se(x){for(var D=0,F=x.length,I,Q=0,R=0,E=0,U=0,M=[],L,z,q,oe=0;oe<F;oe++){switch(I=x[oe],z={x:Q,y:R,command:I[0]},I[0]){case"M":z.length=0,E=Q=I[1],U=R=I[2];break;case"L":z.length=d(Q,R,I[1],I[2]),Q=I[1],R=I[2];break;case"C":L=w(Q,R,I[1],I[2],I[3],I[4],I[5],I[6]),q=C(Q,R,I[1],I[2],I[3],I[4],I[5],I[6]),z.iterator=L,z.angleFinder=q,z.length=H(L,Q,R),Q=I[5],R=I[6];break;case"Q":L=W(Q,R,I[1],I[2],I[3],I[4]),q=V(Q,R,I[1],I[2],I[3],I[4]),z.iterator=L,z.angleFinder=q,z.length=H(L,Q,R),Q=I[3],R=I[4];break;case"Z":case"z":z.destX=E,z.destY=U,z.length=d(Q,R,E,U),Q=E,R=U;break}D+=z.length,M.push(z)}return M.push({length:D,x:Q,y:R}),M}function le(x,D,F){F||(F=se(x));for(var I=0;D-F[I].length>0&&I<F.length-2;)D-=F[I].length,I++;var Q=F[I],R=D/Q.length,E=Q.command,U=x[I],M;switch(E){case"M":return{x:Q.x,y:Q.y,angle:0};case"Z":case"z":return M=new t.Point(Q.x,Q.y).lerp(new t.Point(Q.destX,Q.destY),R),M.angle=Math.atan2(Q.destY-Q.y,Q.destX-Q.x),M;case"L":return M=new t.Point(Q.x,Q.y).lerp(new t.Point(U[1],U[2]),R),M.angle=Math.atan2(U[2]-Q.y,U[1]-Q.x),M;case"C":return te(Q,D);case"Q":return te(Q,D)}}function ue(x){var D=[],F=[],I,Q,R=t.rePathCommand,E="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",U="("+E+")"+t.commaWsp,M="([01])"+t.commaWsp+"?",L=U+"?"+U+"?"+U+M+M+U+"?("+E+")",z=new RegExp(L,"g"),q,oe,k;if(!x||!x.match)return D;k=x.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var O=0,P,B=k.length;O<B;O++){I=k[O],oe=I.slice(1).trim(),F.length=0;var $=I.charAt(0);if(P=[$],$.toLowerCase()==="a")for(var N;N=z.exec(oe);)for(var Y=1;Y<N.length;Y++)F.push(N[Y]);else for(;q=R.exec(oe);)F.push(q[0]);for(var Y=0,J=F.length;Y<J;Y++)Q=parseFloat(F[Y]),isNaN(Q)||P.push(Q);var ae=i[$.toLowerCase()],ne=h[$]||$;if(P.length-1>ae)for(var G=1,ce=P.length;G<ce;G+=ae)D.push([$].concat(P.slice(G,G+ae))),$=ne;else D.push(P)}return D}function X(x,D){var F=[],I,Q=new t.Point(x[0].x,x[0].y),R=new t.Point(x[1].x,x[1].y),E=x.length,U=1,M=0,L=E>2;for(D=D||0,L&&(U=x[2].x<R.x?-1:x[2].x===R.x?0:1,M=x[2].y<R.y?-1:x[2].y===R.y?0:1),F.push(["M",Q.x-U*D,Q.y-M*D]),I=1;I<E;I++){if(!Q.eq(R)){var z=Q.midPointFrom(R);F.push(["Q",Q.x,Q.y,z.x,z.y])}Q=x[I],I+1<x.length&&(R=x[I+1])}return L&&(U=Q.x>x[I-2].x?1:Q.x===x[I-2].x?0:-1,M=Q.y>x[I-2].y?1:Q.y===x[I-2].y?0:-1),F.push(["L",Q.x+U*D,Q.y+M*D]),F}function K(x,D,F){return F&&(D=t.util.multiplyTransformMatrices(D,[1,0,0,1,-F.x,-F.y])),x.map(function(I){for(var Q=I.slice(0),R={},E=1;E<I.length-1;E+=2)R.x=I[E],R.y=I[E+1],R=t.util.transformPoint(R,D),Q[E]=R.x,Q[E+1]=R.y;return Q})}t.util.joinPath=function(x){return x.map(function(D){return D.join(" ")}).join(" ")},t.util.parsePath=ue,t.util.makePathSimpler=g,t.util.getSmoothPathFromPoints=X,t.util.getPathSegmentsInfo=se,t.util.getBoundsOfCurve=a,t.util.getPointOnPath=le,t.util.transformPath=K}(),function(){var c=Array.prototype.slice;function i(a,u){for(var g=c.call(arguments,2),d=[],v=0,_=a.length;v<_;v++)d[v]=g.length?a[v][u].apply(a[v],g):a[v][u].call(a[v]);return d}function h(a,u){return l(a,u,function(g,d){return g>=d})}function f(a,u){return l(a,u,function(g,d){return g<d})}function o(a,u){for(var g=a.length;g--;)a[g]=u;return a}function l(a,u,g){if(!(!a||a.length===0)){var d=a.length-1,v=u?a[d][u]:a[d];if(u)for(;d--;)g(a[d][u],v)&&(v=a[d][u]);else for(;d--;)g(a[d],v)&&(v=a[d]);return v}}t.util.array={fill:o,invoke:i,min:f,max:h}}(),function(){function c(h,f,o){if(o)if(!t.isLikelyNode&&f instanceof Element)h=f;else if(f instanceof Array){h=[];for(var l=0,a=f.length;l<a;l++)h[l]=c({},f[l],o)}else if(f&&typeof f=="object")for(var u in f)u==="canvas"||u==="group"?h[u]=null:f.hasOwnProperty(u)&&(h[u]=c({},f[u],o));else h=f;else for(var u in f)h[u]=f[u];return h}function i(h,f){return c({},h,f)}t.util.object={extend:c,clone:i},t.util.object.extend(t.util,t.Observable)}(),function(){function c(l){return l.replace(/-+(.)?/g,function(a,u){return u?u.toUpperCase():""})}function i(l,a){return l.charAt(0).toUpperCase()+(a?l.slice(1):l.slice(1).toLowerCase())}function h(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(l){var a=0,u,g=[];for(a=0,u;a<l.length;a++)(u=o(l,a))!==!1&&g.push(u);return g}function o(l,a){var u=l.charCodeAt(a);if(isNaN(u))return"";if(u<55296||u>57343)return l.charAt(a);if(55296<=u&&u<=56319){if(l.length<=a+1)throw"High surrogate without following low surrogate";var g=l.charCodeAt(a+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return l.charAt(a)+l.charAt(a+1)}if(a===0)throw"Low surrogate without preceding high surrogate";var d=l.charCodeAt(a-1);if(55296>d||d>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:c,capitalize:i,escapeXml:h,graphemeSplit:f}}(),function(){var c=Array.prototype.slice,i=function(){},h=function(){for(var u in{toString:1})if(u==="toString")return!1;return!0}(),f=function(u,g,d){for(var v in g)v in u.prototype&&typeof u.prototype[v]=="function"&&(g[v]+"").indexOf("callSuper")>-1?u.prototype[v]=function(_){return function(){var b=this.constructor.superclass;this.constructor.superclass=d;var y=g[_].apply(this,arguments);if(this.constructor.superclass=b,_!=="initialize")return y}}(v):u.prototype[v]=g[v],h&&(g.toString!==Object.prototype.toString&&(u.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(u.prototype.valueOf=g.valueOf))};function o(){}function l(u){for(var g=null,d=this;d.constructor.superclass;){var v=d.constructor.superclass.prototype[u];if(d[u]!==v){g=v;break}d=d.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,c.call(arguments,1)):g.call(this):console.log("tried to callSuper "+u+", method not found in prototype chain",this)}function a(){var u=null,g=c.call(arguments,0);typeof g[0]=="function"&&(u=g.shift());function d(){this.initialize.apply(this,arguments)}d.superclass=u,d.subclasses=[],u&&(o.prototype=u.prototype,d.prototype=new o,u.subclasses.push(d));for(var v=0,_=g.length;v<_;v++)f(d,g[v],u);return d.prototype.initialize||(d.prototype.initialize=i),d.prototype.constructor=d,d.prototype.callSuper=l,d}t.util.createClass=a}(),function(){var c=!!t.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];t.util.addListener=function(f,o,l,a){f&&f.addEventListener(o,l,c?!1:a)},t.util.removeListener=function(f,o,l,a){f&&f.removeEventListener(o,l,c?!1:a)};function h(f){var o=f.changedTouches;return o&&o[0]?o[0]:f}t.util.getPointer=function(f){var o=f.target,l=t.util.getScrollLeftTop(o),a=h(f);return{x:a.clientX+l.left,y:a.clientY+l.top}},t.util.isTouchEvent=function(f){return i.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function c(a,u){var g=a.style;if(!g)return a;if(typeof u=="string")return a.style.cssText+=";"+u,u.indexOf("opacity")>-1?l(a,u.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var d in u)if(d==="opacity")l(a,u[d]);else{var v=d==="float"||d==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":d;g.setProperty(v,u[d])}return a}var i=t.document.createElement("div"),h=typeof i.style.opacity=="string",f=typeof i.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,l=function(a){return a};h?l=function(a,u){return a.style.opacity=u,a}:f&&(l=function(a,u){var g=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(g.zoom=1),o.test(g.filter)?(u=u>=.9999?"":"alpha(opacity="+u*100+")",g.filter=g.filter.replace(o,u)):g.filter+=" alpha(opacity="+u*100+")",a}),t.util.setStyle=c}(),function(){var c=Array.prototype.slice;function i(y){return typeof y=="string"?t.document.getElementById(y):y}var h,f=function(y){return c.call(y,0)};try{h=f(t.document.childNodes)instanceof Array}catch{}h||(f=function(y){for(var w=new Array(y.length),C=y.length;C--;)w[C]=y[C];return w});function o(y,w){var C=t.document.createElement(y);for(var S in w)S==="class"?C.className=w[S]:S==="for"?C.htmlFor=w[S]:C.setAttribute(S,w[S]);return C}function l(y,w){y&&(" "+y.className+" ").indexOf(" "+w+" ")===-1&&(y.className+=(y.className?" ":"")+w)}function a(y,w,C){return typeof w=="string"&&(w=o(w,C)),y.parentNode&&y.parentNode.replaceChild(w,y),w.appendChild(y),w}function u(y){for(var w=0,C=0,S=t.document.documentElement,T=t.document.body||{scrollLeft:0,scrollTop:0};y&&(y.parentNode||y.host)&&(y=y.parentNode||y.host,y===t.document?(w=T.scrollLeft||S.scrollLeft||0,C=T.scrollTop||S.scrollTop||0):(w+=y.scrollLeft||0,C+=y.scrollTop||0),!(y.nodeType===1&&y.style.position==="fixed")););return{left:w,top:C}}function g(y){var w,C=y&&y.ownerDocument,S={left:0,top:0},T={left:0,top:0},j,W={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!C)return T;for(var V in W)T[W[V]]+=parseInt(d(y,V),10)||0;return w=C.documentElement,typeof y.getBoundingClientRect<"u"&&(S=y.getBoundingClientRect()),j=u(y),{left:S.left+j.left-(w.clientLeft||0)+T.left,top:S.top+j.top-(w.clientTop||0)+T.top}}var d;t.document.defaultView&&t.document.defaultView.getComputedStyle?d=function(y,w){var C=t.document.defaultView.getComputedStyle(y,null);return C?C[w]:void 0}:d=function(y,w){var C=y.style[w];return!C&&y.currentStyle&&(C=y.currentStyle[w]),C},function(){var y=t.document.documentElement.style,w="userSelect"in y?"userSelect":"MozUserSelect"in y?"MozUserSelect":"WebkitUserSelect"in y?"WebkitUserSelect":"KhtmlUserSelect"in y?"KhtmlUserSelect":"";function C(T){return typeof T.onselectstart<"u"&&(T.onselectstart=t.util.falseFunction),w?T.style[w]="none":typeof T.unselectable=="string"&&(T.unselectable="on"),T}function S(T){return typeof T.onselectstart<"u"&&(T.onselectstart=null),w?T.style[w]="":typeof T.unselectable=="string"&&(T.unselectable=""),T}t.util.makeElementUnselectable=C,t.util.makeElementSelectable=S}();function v(y){var w=t.jsdomImplForWrapper(y);return w._canvas||w._image}function _(y){if(t.isLikelyNode){var w=t.jsdomImplForWrapper(y);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function b(y,w){y.imageSmoothingEnabled=y.imageSmoothingEnabled||y.webkitImageSmoothingEnabled||y.mozImageSmoothingEnabled||y.msImageSmoothingEnabled||y.oImageSmoothingEnabled,y.imageSmoothingEnabled=w}t.util.setImageSmoothing=b,t.util.getById=i,t.util.toArray=f,t.util.addClass=l,t.util.makeElement=o,t.util.wrapElement=a,t.util.getScrollLeftTop=u,t.util.getElementOffset=g,t.util.getNodeCanvas=v,t.util.cleanUpJsdomNode=_}(),function(){function c(f,o){return f+(/\?/.test(f)?"&":"?")+o}function i(){}function h(f,o){o||(o={});var l=o.method?o.method.toUpperCase():"GET",a=o.onComplete||function(){},u=new t.window.XMLHttpRequest,g=o.body||o.parameters;return u.onreadystatechange=function(){u.readyState===4&&(a(u),u.onreadystatechange=i)},l==="GET"&&(g=null,typeof o.parameters=="string"&&(f=c(f,o.parameters))),u.open(l,f,!0),(l==="POST"||l==="PUT")&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(g),u}t.util.request=h}(),t.log=console.log,t.warn=console.warn,function(){var c=t.util.object.extend,i=t.util.object.clone,h=[];t.util.object.extend(h,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(_){_.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var _=this.filter(function(b){return typeof b.target=="object"&&b.target.canvas===v});return _.forEach(function(b){b.cancel()}),_},cancelByTarget:function(v){var _=this.findAnimationsByTarget(v);return _.forEach(function(b){b.cancel()}),_},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(_){return _.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(_){return _.target===v}):[]}});function f(){return!1}function o(v,_,b,y){return-b*Math.cos(v/y*(Math.PI/2))+b+_}function l(v){v||(v={});var _=!1,b,y=function(){var w=t.runningAnimations.indexOf(b);return w>-1&&t.runningAnimations.splice(w,1)[0]};return b=c(i(v),{cancel:function(){return _=!0,y()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(b),g(function(w){var C=w||+new Date,S=v.duration||500,T=C+S,j,W=v.onChange||f,V=v.abort||f,H=v.onComplete||f,te=v.easing||o,se="startValue"in v?v.startValue.length>0:!1,le="startValue"in v?v.startValue:0,ue="endValue"in v?v.endValue:100,X=v.byValue||(se?le.map(function(K,x){return ue[x]-le[x]}):ue-le);v.onStart&&v.onStart(),function K(x){j=x||+new Date;var D=j>T?S:j-C,F=D/S,I=se?le.map(function(R,E){return te(D,le[E],X[E],S)}):te(D,le,X,S),Q=Math.abs(se?(I[0]-le[0])/X[0]:(I-le)/X);if(b.currentValue=se?I.slice():I,b.completionRate=Q,b.durationRate=F,!_){if(V(I,Q,F)){y();return}if(j>T){b.currentValue=se?ue.slice():ue,b.completionRate=1,b.durationRate=1,W(se?ue.slice():ue,1,1),H(ue,1,1),y();return}else W(I,Q,F),g(K)}}(C)}),b.cancel}var a=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(v){return t.window.setTimeout(v,1e3/60)},u=t.window.cancelAnimationFrame||t.window.clearTimeout;function g(){return a.apply(t.window,arguments)}function d(){return u.apply(t.window,arguments)}t.util.animate=l,t.util.requestAnimFrame=g,t.util.cancelAnimFrame=d,t.runningAnimations=h}(),function(){function c(h,f,o){var l="rgba("+parseInt(h[0]+o*(f[0]-h[0]),10)+","+parseInt(h[1]+o*(f[1]-h[1]),10)+","+parseInt(h[2]+o*(f[2]-h[2]),10);return l+=","+(h&&f?parseFloat(h[3]+o*(f[3]-h[3])):1),l+=")",l}function i(h,f,o,l){var a=new t.Color(h).getSource(),u=new t.Color(f).getSource(),g=l.onComplete,d=l.onChange;return l=l||{},t.util.animate(t.util.object.extend(l,{duration:o||500,startValue:a,endValue:u,byValue:u,easing:function(v,_,b,y){var w=l.colorEasing?l.colorEasing(v,y):1-Math.cos(v/y*(Math.PI/2));return c(_,b,w)},onComplete:function(v,_,b){if(g)return g(c(u,u,0),_,b)},onChange:function(v,_,b){if(d){if(Array.isArray(v))return d(c(v,v,0),_,b);d(v,_,b)}}}))}t.util.animateColor=i}(),function(){function c(x,D,F,I){return x<Math.abs(D)?(x=D,I=F/4):D===0&&x===0?I=F/(2*Math.PI)*Math.asin(1):I=F/(2*Math.PI)*Math.asin(D/x),{a:x,c:D,p:F,s:I}}function i(x,D,F){return x.a*Math.pow(2,10*(D-=1))*Math.sin((D*F-x.s)*(2*Math.PI)/x.p)}function h(x,D,F,I){return F*((x=x/I-1)*x*x+1)+D}function f(x,D,F,I){return x/=I/2,x<1?F/2*x*x*x+D:F/2*((x-=2)*x*x+2)+D}function o(x,D,F,I){return F*(x/=I)*x*x*x+D}function l(x,D,F,I){return-F*((x=x/I-1)*x*x*x-1)+D}function a(x,D,F,I){return x/=I/2,x<1?F/2*x*x*x*x+D:-F/2*((x-=2)*x*x*x-2)+D}function u(x,D,F,I){return F*(x/=I)*x*x*x*x+D}function g(x,D,F,I){return F*((x=x/I-1)*x*x*x*x+1)+D}function d(x,D,F,I){return x/=I/2,x<1?F/2*x*x*x*x*x+D:F/2*((x-=2)*x*x*x*x+2)+D}function v(x,D,F,I){return-F*Math.cos(x/I*(Math.PI/2))+F+D}function _(x,D,F,I){return F*Math.sin(x/I*(Math.PI/2))+D}function b(x,D,F,I){return-F/2*(Math.cos(Math.PI*x/I)-1)+D}function y(x,D,F,I){return x===0?D:F*Math.pow(2,10*(x/I-1))+D}function w(x,D,F,I){return x===I?D+F:F*(-Math.pow(2,-10*x/I)+1)+D}function C(x,D,F,I){return x===0?D:x===I?D+F:(x/=I/2,x<1?F/2*Math.pow(2,10*(x-1))+D:F/2*(-Math.pow(2,-10*--x)+2)+D)}function S(x,D,F,I){return-F*(Math.sqrt(1-(x/=I)*x)-1)+D}function T(x,D,F,I){return F*Math.sqrt(1-(x=x/I-1)*x)+D}function j(x,D,F,I){return x/=I/2,x<1?-F/2*(Math.sqrt(1-x*x)-1)+D:F/2*(Math.sqrt(1-(x-=2)*x)+1)+D}function W(x,D,F,I){var Q=1.70158,R=0,E=F;if(x===0)return D;if(x/=I,x===1)return D+F;R||(R=I*.3);var U=c(E,F,R,Q);return-i(U,x,I)+D}function V(x,D,F,I){var Q=1.70158,R=0,E=F;if(x===0)return D;if(x/=I,x===1)return D+F;R||(R=I*.3);var U=c(E,F,R,Q);return U.a*Math.pow(2,-10*x)*Math.sin((x*I-U.s)*(2*Math.PI)/U.p)+U.c+D}function H(x,D,F,I){var Q=1.70158,R=0,E=F;if(x===0)return D;if(x/=I/2,x===2)return D+F;R||(R=I*(.3*1.5));var U=c(E,F,R,Q);return x<1?-.5*i(U,x,I)+D:U.a*Math.pow(2,-10*(x-=1))*Math.sin((x*I-U.s)*(2*Math.PI)/U.p)*.5+U.c+D}function te(x,D,F,I,Q){return Q===void 0&&(Q=1.70158),F*(x/=I)*x*((Q+1)*x-Q)+D}function se(x,D,F,I,Q){return Q===void 0&&(Q=1.70158),F*((x=x/I-1)*x*((Q+1)*x+Q)+1)+D}function le(x,D,F,I,Q){return Q===void 0&&(Q=1.70158),x/=I/2,x<1?F/2*(x*x*(((Q*=1.525)+1)*x-Q))+D:F/2*((x-=2)*x*(((Q*=1.525)+1)*x+Q)+2)+D}function ue(x,D,F,I){return F-X(I-x,0,F,I)+D}function X(x,D,F,I){return(x/=I)<1/2.75?F*(7.5625*x*x)+D:x<2/2.75?F*(7.5625*(x-=1.5/2.75)*x+.75)+D:x<2.5/2.75?F*(7.5625*(x-=2.25/2.75)*x+.9375)+D:F*(7.5625*(x-=2.625/2.75)*x+.984375)+D}function K(x,D,F,I){return x<I/2?ue(x*2,0,F,I)*.5+D:X(x*2-I,0,F,I)*.5+F*.5+D}t.util.ease={easeInQuad:function(x,D,F,I){return F*(x/=I)*x+D},easeOutQuad:function(x,D,F,I){return-F*(x/=I)*(x-2)+D},easeInOutQuad:function(x,D,F,I){return x/=I/2,x<1?F/2*x*x+D:-F/2*(--x*(x-2)-1)+D},easeInCubic:function(x,D,F,I){return F*(x/=I)*x*x+D},easeOutCubic:h,easeInOutCubic:f,easeInQuart:o,easeOutQuart:l,easeInOutQuart:a,easeInQuint:u,easeOutQuint:g,easeInOutQuint:d,easeInSine:v,easeOutSine:_,easeInOutSine:b,easeInExpo:y,easeOutExpo:w,easeInOutExpo:C,easeInCirc:S,easeOutCirc:T,easeInOutCirc:j,easeInElastic:W,easeOutElastic:V,easeInOutElastic:H,easeInBack:te,easeOutBack:se,easeInOutBack:le,easeInBounce:ue,easeOutBounce:X,easeInOutBounce:K}}(),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.util.object.clone,o=i.util.toFixed,l=i.util.parseUnit,a=i.util.multiplyTransformMatrices,u=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],d=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],_={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},y="font-size",w="clip-path";i.svgValidTagNamesRegEx=T(u),i.svgViewBoxElementsRegEx=T(g),i.svgInvalidAncestorsRegEx=T(d),i.svgValidParentsRegEx=T(v),i.cssRules={},i.gradientDefs={},i.clipPaths={};function C(R){return R in _?_[R]:R}function S(R,E,U,M){var L=Array.isArray(E),z;if((R==="fill"||R==="stroke")&&E==="none")E="";else{if(R==="strokeUniform")return E==="non-scaling-stroke";if(R==="strokeDashArray")E==="none"?E=null:E=E.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(R==="transformMatrix")U&&U.transformMatrix?E=a(U.transformMatrix,i.parseTransformAttribute(E)):E=i.parseTransformAttribute(E);else if(R==="visible")E=E!=="none"&&E!=="hidden",U&&U.visible===!1&&(E=!1);else if(R==="opacity")E=parseFloat(E),U&&typeof U.opacity<"u"&&(E*=U.opacity);else if(R==="textAnchor")E=E==="start"?"left":E==="end"?"right":"center";else if(R==="charSpacing")z=l(E,M)/M*1e3;else if(R==="paintFirst"){var q=E.indexOf("fill"),oe=E.indexOf("stroke"),E="fill";(q>-1&&oe>-1&&oe<q||q===-1&&oe>-1)&&(E="stroke")}else{if(R==="href"||R==="xlink:href"||R==="font")return E;if(R==="imageSmoothing")return E==="optimizeQuality";z=L?E.map(l):l(E,M)}}return!L&&isNaN(z)?E:z}function T(R){return new RegExp("^("+R.join("|")+")\\b","i")}function j(R){for(var E in b)if(!(typeof R[b[E]]>"u"||R[E]==="")){if(typeof R[E]>"u"){if(!i.Object.prototype[E])continue;R[E]=i.Object.prototype[E]}if(R[E].indexOf("url(")!==0){var U=new i.Color(R[E]);R[E]=U.setAlpha(o(U.getAlpha()*R[b[E]],2)).toRgba()}}return R}function W(R,E){var U,M=[],L,z,q;for(z=0,q=E.length;z<q;z++)U=E[z],L=R.getElementsByTagName(U),M=M.concat(Array.prototype.slice.call(L));return M}i.parseTransformAttribute=function(){function R(G,ce){var pe=i.util.cos(ce[0]),Z=i.util.sin(ce[0]),ge=0,me=0;ce.length===3&&(ge=ce[1],me=ce[2]),G[0]=pe,G[1]=Z,G[2]=-Z,G[3]=pe,G[4]=ge-(pe*ge-Z*me),G[5]=me-(Z*ge+pe*me)}function E(G,ce){var pe=ce[0],Z=ce.length===2?ce[1]:ce[0];G[0]=pe,G[3]=Z}function U(G,ce,pe){G[pe]=Math.tan(i.util.degreesToRadians(ce[0]))}function M(G,ce){G[4]=ce[0],ce.length===2&&(G[5]=ce[1])}var L=i.iMatrix,z=i.reNum,q=i.commaWsp,oe="(?:(skewX)\\s*\\(\\s*("+z+")\\s*\\))",k="(?:(skewY)\\s*\\(\\s*("+z+")\\s*\\))",O="(?:(rotate)\\s*\\(\\s*("+z+")(?:"+q+"("+z+")"+q+"("+z+"))?\\s*\\))",P="(?:(scale)\\s*\\(\\s*("+z+")(?:"+q+"("+z+"))?\\s*\\))",B="(?:(translate)\\s*\\(\\s*("+z+")(?:"+q+"("+z+"))?\\s*\\))",$="(?:(matrix)\\s*\\(\\s*("+z+")"+q+"("+z+")"+q+"("+z+")"+q+"("+z+")"+q+"("+z+")"+q+"("+z+")\\s*\\))",N="(?:"+$+"|"+B+"|"+P+"|"+O+"|"+oe+"|"+k+")",Y="(?:"+N+"(?:"+q+"*"+N+")*)",J="^\\s*(?:"+Y+"?)\\s*$",ae=new RegExp(J),ne=new RegExp(N,"g");return function(G){var ce=L.concat(),pe=[];if(!G||G&&!ae.test(G))return ce;G.replace(ne,function(ge){var me=new RegExp(N).exec(ge).filter(function(qe){return!!qe}),be=me[1],ke=me.slice(2).map(parseFloat);switch(be){case"translate":M(ce,ke);break;case"rotate":ke[0]=i.util.degreesToRadians(ke[0]),R(ce,ke);break;case"scale":E(ce,ke);break;case"skewX":U(ce,ke,2);break;case"skewY":U(ce,ke,1);break;case"matrix":ce=ke;break}pe.push(ce.concat()),ce=L.concat()});for(var Z=pe[0];pe.length>1;)pe.shift(),Z=i.util.multiplyTransformMatrices(Z,pe[0]);return Z}}();function V(R,E){var U,M;R.replace(/;\s*$/,"").split(";").forEach(function(L){var z=L.split(":");U=z[0].trim().toLowerCase(),M=z[1].trim(),E[U]=M})}function H(R,E){var U,M;for(var L in R)typeof R[L]>"u"||(U=L.toLowerCase(),M=R[L],E[U]=M)}function te(R,E){var U={};for(var M in i.cssRules[E])if(se(R,M.split(" ")))for(var L in i.cssRules[E][M])U[L]=i.cssRules[E][M][L];return U}function se(R,E){var U,M=!0;return U=ue(R,E.pop()),U&&E.length&&(M=le(R,E)),U&&M&&E.length===0}function le(R,E){for(var U,M=!0;R.parentNode&&R.parentNode.nodeType===1&&E.length;)M&&(U=E.pop()),R=R.parentNode,M=ue(R,U);return E.length===0}function ue(R,E){var U=R.nodeName,M=R.getAttribute("class"),L=R.getAttribute("id"),z,q;if(z=new RegExp("^"+U,"i"),E=E.replace(z,""),L&&E.length&&(z=new RegExp("#"+L+"(?![a-zA-Z\\-]+)","i"),E=E.replace(z,"")),M&&E.length)for(M=M.split(" "),q=M.length;q--;)z=new RegExp("\\."+M[q]+"(?![a-zA-Z\\-]+)","i"),E=E.replace(z,"");return E.length===0}function X(R,E){var U;if(R.getElementById&&(U=R.getElementById(E)),U)return U;var M,L,z,q=R.getElementsByTagName("*");for(L=0,z=q.length;L<z;L++)if(M=q[L],E===M.getAttribute("id"))return M}function K(R){for(var E=W(R,["use","svg:use"]),U=0;E.length&&U<E.length;){var M=E[U],L=M.getAttribute("xlink:href")||M.getAttribute("href");if(L===null)return;var z=L.slice(1),q=M.getAttribute("x")||0,oe=M.getAttribute("y")||0,k=X(R,z).cloneNode(!0),O=(k.getAttribute("transform")||"")+" translate("+q+", "+oe+")",P,B=E.length,$,N,Y,J,ae=i.svgNS;if(D(k),/^svg$/i.test(k.nodeName)){var ne=k.ownerDocument.createElementNS(ae,"g");for(N=0,Y=k.attributes,J=Y.length;N<J;N++)$=Y.item(N),ne.setAttributeNS(ae,$.nodeName,$.nodeValue);for(;k.firstChild;)ne.appendChild(k.firstChild);k=ne}for(N=0,Y=M.attributes,J=Y.length;N<J;N++)$=Y.item(N),!($.nodeName==="x"||$.nodeName==="y"||$.nodeName==="xlink:href"||$.nodeName==="href")&&($.nodeName==="transform"?O=$.nodeValue+" "+O:k.setAttribute($.nodeName,$.nodeValue));k.setAttribute("transform",O),k.setAttribute("instantiated_by_use","1"),k.removeAttribute("id"),P=M.parentNode,P.replaceChild(k,M),E.length===B&&U++}}var x=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function D(R){if(!i.svgViewBoxElementsRegEx.test(R.nodeName))return{};var E=R.getAttribute("viewBox"),U=1,M=1,L=0,z=0,q,oe,k,O,P=R.getAttribute("width"),B=R.getAttribute("height"),$=R.getAttribute("x")||0,N=R.getAttribute("y")||0,Y=R.getAttribute("preserveAspectRatio")||"",J=!E||!(E=E.match(x)),ae=!P||!B||P==="100%"||B==="100%",ne=J&&ae,G={},ce="",pe=0,Z=0;if(G.width=0,G.height=0,G.toBeParsed=ne,J&&($||N)&&R.parentNode&&R.parentNode.nodeName!=="#document"&&(ce=" translate("+l($)+" "+l(N)+") ",k=(R.getAttribute("transform")||"")+ce,R.setAttribute("transform",k),R.removeAttribute("x"),R.removeAttribute("y")),ne)return G;if(J)return G.width=l(P),G.height=l(B),G;if(L=-parseFloat(E[1]),z=-parseFloat(E[2]),q=parseFloat(E[3]),oe=parseFloat(E[4]),G.minX=L,G.minY=z,G.viewBoxWidth=q,G.viewBoxHeight=oe,ae?(G.width=q,G.height=oe):(G.width=l(P),G.height=l(B),U=G.width/q,M=G.height/oe),Y=i.util.parsePreserveAspectRatioAttribute(Y),Y.alignX!=="none"&&(Y.meetOrSlice==="meet"&&(M=U=U>M?M:U),Y.meetOrSlice==="slice"&&(M=U=U>M?U:M),pe=G.width-q*U,Z=G.height-oe*U,Y.alignX==="Mid"&&(pe/=2),Y.alignY==="Mid"&&(Z/=2),Y.alignX==="Min"&&(pe=0),Y.alignY==="Min"&&(Z=0)),U===1&&M===1&&L===0&&z===0&&$===0&&N===0)return G;if(($||N)&&R.parentNode.nodeName!=="#document"&&(ce=" translate("+l($)+" "+l(N)+") "),k=ce+" matrix("+U+" 0 0 "+M+" "+(L*U+pe)+" "+(z*M+Z)+") ",R.nodeName==="svg"){for(O=R.ownerDocument.createElementNS(i.svgNS,"g");R.firstChild;)O.appendChild(R.firstChild);R.appendChild(O)}else O=R,O.removeAttribute("x"),O.removeAttribute("y"),k=O.getAttribute("transform")+k;return O.setAttribute("transform",k),G}function F(R,E){for(;R&&(R=R.parentNode);)if(R.nodeName&&E.test(R.nodeName.replace("svg:",""))&&!R.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(R,E,U,M){if(R){K(R);var L=i.Object.__uid++,z,q,oe=D(R),k=i.util.toArray(R.getElementsByTagName("*"));if(oe.crossOrigin=M&&M.crossOrigin,oe.svgUid=L,k.length===0&&i.isLikelyNode){k=R.selectNodes('//*[name(.)!="svg"]');var O=[];for(z=0,q=k.length;z<q;z++)O[z]=k[z];k=O}var P=k.filter(function($){return D($),i.svgValidTagNamesRegEx.test($.nodeName.replace("svg:",""))&&!F($,i.svgInvalidAncestorsRegEx)});if(!P||P&&!P.length){E&&E([],{});return}var B={};k.filter(function($){return $.nodeName.replace("svg:","")==="clipPath"}).forEach(function($){var N=$.getAttribute("id");B[N]=i.util.toArray($.getElementsByTagName("*")).filter(function(Y){return i.svgValidTagNamesRegEx.test(Y.nodeName.replace("svg:",""))})}),i.gradientDefs[L]=i.getGradientDefs(R),i.cssRules[L]=i.getCSSRules(R),i.clipPaths[L]=B,i.parseElements(P,function($,N){E&&(E($,oe,N,k),delete i.gradientDefs[L],delete i.cssRules[L],delete i.clipPaths[L])},f(oe),U,M)}};function I(R,E){var U=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],M="xlink:href",L=E.getAttribute(M).slice(1),z=X(R,L);if(z&&z.getAttribute(M)&&I(R,z),U.forEach(function(oe){z&&!E.hasAttribute(oe)&&z.hasAttribute(oe)&&E.setAttribute(oe,z.getAttribute(oe))}),!E.children.length)for(var q=z.cloneNode(!0);q.firstChild;)E.appendChild(q.firstChild);E.removeAttribute(M)}var Q=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");h(i,{parseFontDeclaration:function(R,E){var U=R.match(Q);if(U){var M=U[1],L=U[3],z=U[4],q=U[5],oe=U[6];M&&(E.fontStyle=M),L&&(E.fontWeight=isNaN(parseFloat(L))?L:parseFloat(L)),z&&(E.fontSize=l(z)),oe&&(E.fontFamily=oe),q&&(E.lineHeight=q==="normal"?1:q)}},getGradientDefs:function(R){var E=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],U=W(R,E),M,L=0,z={};for(L=U.length;L--;)M=U[L],M.getAttribute("xlink:href")&&I(R,M),z[M.getAttribute("id")]=M;return z},parseAttributes:function(R,E,U){if(R){var M,L={},z,q;typeof U>"u"&&(U=R.getAttribute("svgUid")),R.parentNode&&i.svgValidParentsRegEx.test(R.parentNode.nodeName)&&(L=i.parseAttributes(R.parentNode,E,U));var oe=E.reduce(function(Y,J){return M=R.getAttribute(J),M&&(Y[J]=M),Y},{}),k=h(te(R,U),i.parseStyleAttribute(R));oe=h(oe,k),k[w]&&R.setAttribute(w,k[w]),z=q=L.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,oe[y]&&(oe[y]=z=l(oe[y],q));var O,P,B={};for(var $ in oe)O=C($),P=S(O,oe[$],L,z),B[O]=P;B&&B.font&&i.parseFontDeclaration(B.font,B);var N=h(L,B);return i.svgValidParentsRegEx.test(R.nodeName)?N:j(N)}},parseElements:function(R,E,U,M,L){new i.ElementsParser(R,E,U,M,L).parse()},parseStyleAttribute:function(R){var E={},U=R.getAttribute("style");return U&&(typeof U=="string"?V(U,E):H(U,E)),E},parsePointsAttribute:function(R){if(!R)return null;R=R.replace(/,/g," ").trim(),R=R.split(/\s+/);var E=[],U,M;for(U=0,M=R.length;U<M;U+=2)E.push({x:parseFloat(R[U]),y:parseFloat(R[U+1])});return E},getCSSRules:function(R){var E=R.getElementsByTagName("style"),U,M,L={},z;for(U=0,M=E.length;U<M;U++){var q=E[U].textContent;q=q.replace(/\/\*[\s\S]*?\*\//g,""),q.trim()!==""&&(z=q.split("}"),z=z.filter(function(oe){return oe.trim()}),z.forEach(function(oe){var k=oe.split("{"),O={},P=k[1].trim(),B=P.split(";").filter(function(J){return J.trim()});for(U=0,M=B.length;U<M;U++){var $=B[U].split(":"),N=$[0].trim(),Y=$[1].trim();O[N]=Y}oe=k[0].trim(),oe.split(",").forEach(function(J){J=J.replace(/^svg/i,"").trim(),J!==""&&(L[J]?i.util.object.extend(L[J],O):L[J]=i.util.object.clone(O))})}))}return L},loadSVGFromURL:function(R,E,U,M){R=R.replace(/^\n\s*/,"").trim(),new i.util.request(R,{method:"get",onComplete:L});function L(z){var q=z.responseXML;if(!q||!q.documentElement)return E&&E(null),!1;i.parseSVGDocument(q.documentElement,function(oe,k,O,P){E&&E(oe,k,O,P)},U,M)}},loadSVGFromString:function(R,E,U,M){var L=new i.window.DOMParser,z=L.parseFromString(R.trim(),"text/xml");i.parseSVGDocument(z.documentElement,function(q,oe,k,O){E(q,oe,k,O)},U,M)}})}(e),t.ElementsParser=function(c,i,h,f,o,l){this.elements=c,this.callback=i,this.options=h,this.reviver=f,this.svgUid=h&&h.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=l},function(c){c.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},c.createObjects=function(){var i=this;this.elements.forEach(function(h,f){h.setAttribute("svgUid",i.svgUid),i.createObject(h,f)})},c.findTag=function(i){return t[t.util.string.capitalize(i.tagName.replace("svg:",""))]},c.createObject=function(i,h){var f=this.findTag(i);if(f&&f.fromElement)try{f.fromElement(i,this.createCallback(h,i),this.options)}catch(o){t.log(o)}else this.checkIfDone()},c.createCallback=function(i,h){var f=this;return function(o){var l;f.resolveGradient(o,h,"fill"),f.resolveGradient(o,h,"stroke"),o instanceof t.Image&&o._originalElement&&(l=o.parsePreserveAspectRatioAttribute(h)),o._removeTransformMatrix(l),f.resolveClipPath(o,h),f.reviver&&f.reviver(h,o),f.instances[i]=o,f.checkIfDone()}},c.extractPropertyDefinition=function(i,h,f){var o=i[h],l=this.regexUrl;if(l.test(o)){l.lastIndex=0;var a=l.exec(o)[1];return l.lastIndex=0,t[f][this.svgUid][a]}},c.resolveGradient=function(i,h,f){var o=this.extractPropertyDefinition(i,f,"gradientDefs");if(o){var l=h.getAttribute(f+"-opacity"),a=t.Gradient.fromElement(o,i,l,this.options);i.set(f,a)}},c.createClipPathCallback=function(i,h){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,h.push(f)}},c.resolveClipPath=function(i,h){var f=this.extractPropertyDefinition(i,"clipPath","clipPaths"),o,l,a,u,g,d;if(f){u=[],a=t.util.invertTransform(i.calcTransformMatrix());for(var v=f[0].parentNode,_=h;_.parentNode&&_.getAttribute("clip-path")!==i.clipPath;)_=_.parentNode;_.parentNode.appendChild(v);for(var b=0;b<f.length;b++)o=f[b],l=this.findTag(o),l.fromElement(o,this.createClipPathCallback(i,u),this.options);u.length===1?f=u[0]:f=new t.Group(u),g=t.util.multiplyTransformMatrices(a,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,_);var d=t.util.qrDecompose(g);f.flipX=!1,f.flipY=!1,f.set("scaleX",d.scaleX),f.set("scaleY",d.scaleY),f.angle=d.angle,f.skewX=d.skewX,f.skewY=0,f.setPositionByOrigin({x:d.translateX,y:d.translateY},"center","center"),i.clipPath=f}else delete i.clipPath},c.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(c){var i=c.fabric||(c.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=h;function h(f,o){this.x=f,this.y=o}h.prototype={type:"point",constructor:h,add:function(f){return new h(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new h(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new h(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new h(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new h(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new h(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,o){return typeof o>"u"&&(o=.5),o=Math.max(Math.min(1,o),0),new h(this.x+(f.x-this.x)*o,this.y+(f.y-this.y)*o)},distanceFrom:function(f){var o=this.x-f.x,l=this.y-f.y;return Math.sqrt(o*o+l*l)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new h(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new h(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,o){return this.x=f,this.y=o,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var o=this.x,l=this.y;this.x=f.x,this.y=f.y,f.x=o,f.y=l},clone:function(){return new h(this.x,this.y)}}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function h(f){this.status=f,this.points=[]}i.Intersection=h,i.Intersection.prototype={constructor:h,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},i.Intersection.intersectLineLine=function(f,o,l,a){var u,g=(a.x-l.x)*(f.y-l.y)-(a.y-l.y)*(f.x-l.x),d=(o.x-f.x)*(f.y-l.y)-(o.y-f.y)*(f.x-l.x),v=(a.y-l.y)*(o.x-f.x)-(a.x-l.x)*(o.y-f.y);if(v!==0){var _=g/v,b=d/v;0<=_&&_<=1&&0<=b&&b<=1?(u=new h("Intersection"),u.appendPoint(new i.Point(f.x+_*(o.x-f.x),f.y+_*(o.y-f.y)))):u=new h}else g===0||d===0?u=new h("Coincident"):u=new h("Parallel");return u},i.Intersection.intersectLinePolygon=function(f,o,l){var a=new h,u=l.length,g,d,v,_;for(_=0;_<u;_++)g=l[_],d=l[(_+1)%u],v=h.intersectLineLine(f,o,g,d),a.appendPoints(v.points);return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonPolygon=function(f,o){var l=new h,a=f.length,u;for(u=0;u<a;u++){var g=f[u],d=f[(u+1)%a],v=h.intersectLinePolygon(g,d,o);l.appendPoints(v.points)}return l.points.length>0&&(l.status="Intersection"),l},i.Intersection.intersectPolygonRectangle=function(f,o,l){var a=o.min(l),u=o.max(l),g=new i.Point(u.x,a.y),d=new i.Point(a.x,u.y),v=h.intersectLinePolygon(a,g,f),_=h.intersectLinePolygon(g,u,f),b=h.intersectLinePolygon(u,d,f),y=h.intersectLinePolygon(d,a,f),w=new h;return w.appendPoints(v.points),w.appendPoints(_.points),w.appendPoints(b.points),w.appendPoints(y.points),w.points.length>0&&(w.status="Intersection"),w}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function h(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}i.Color=h,i.Color.prototype={_tryParsingColor:function(o){var l;o in h.colorNameMap&&(o=h.colorNameMap[o]),o==="transparent"&&(l=[255,255,255,0]),l||(l=h.sourceFromHex(o)),l||(l=h.sourceFromRgb(o)),l||(l=h.sourceFromHsl(o)),l||(l=[0,0,0,1]),l&&this.setSource(l)},_rgbToHsl:function(o,l,a){o/=255,l/=255,a/=255;var u,g,d,v=i.util.array.max([o,l,a]),_=i.util.array.min([o,l,a]);if(d=(v+_)/2,v===_)u=g=0;else{var b=v-_;switch(g=d>.5?b/(2-v-_):b/(v+_),v){case o:u=(l-a)/b+(l<a?6:0);break;case l:u=(a-o)/b+2;break;case a:u=(o-l)/b+4;break}u/=6}return[Math.round(u*360),Math.round(g*100),Math.round(d*100)]},getSource:function(){return this._source},setSource:function(o){this._source=o},toRgb:function(){var o=this.getSource();return"rgb("+o[0]+","+o[1]+","+o[2]+")"},toRgba:function(){var o=this.getSource();return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},toHsl:function(){var o=this.getSource(),l=this._rgbToHsl(o[0],o[1],o[2]);return"hsl("+l[0]+","+l[1]+"%,"+l[2]+"%)"},toHsla:function(){var o=this.getSource(),l=this._rgbToHsl(o[0],o[1],o[2]);return"hsla("+l[0]+","+l[1]+"%,"+l[2]+"%,"+o[3]+")"},toHex:function(){var o=this.getSource(),l,a,u;return l=o[0].toString(16),l=l.length===1?"0"+l:l,a=o[1].toString(16),a=a.length===1?"0"+a:a,u=o[2].toString(16),u=u.length===1?"0"+u:u,l.toUpperCase()+a.toUpperCase()+u.toUpperCase()},toHexa:function(){var o=this.getSource(),l;return l=Math.round(o[3]*255),l=l.toString(16),l=l.length===1?"0"+l:l,this.toHex()+l.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(o){var l=this.getSource();return l[3]=o,this.setSource(l),this},toGrayscale:function(){var o=this.getSource(),l=parseInt((o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),10),a=o[3];return this.setSource([l,l,l,a]),this},toBlackWhite:function(o){var l=this.getSource(),a=(l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),u=l[3];return o=o||127,a=Number(a)<Number(o)?0:255,this.setSource([a,a,a,u]),this},overlayWith:function(o){o instanceof h||(o=new h(o));var l=[],a=this.getAlpha(),u=.5,g=this.getSource(),d=o.getSource(),v;for(v=0;v<3;v++)l.push(Math.round(g[v]*(1-u)+d[v]*u));return l[3]=a,this.setSource(l),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(o,l,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?o+(l-o)*6*a:a<1/2?l:a<2/3?o+(l-o)*(2/3-a)*6:o}i.Color.fromRgb=function(o){return h.fromSource(h.sourceFromRgb(o))},i.Color.sourceFromRgb=function(o){var l=o.match(h.reRGBa);if(l){var a=parseInt(l[1],10)/(/%$/.test(l[1])?100:1)*(/%$/.test(l[1])?255:1),u=parseInt(l[2],10)/(/%$/.test(l[2])?100:1)*(/%$/.test(l[2])?255:1),g=parseInt(l[3],10)/(/%$/.test(l[3])?100:1)*(/%$/.test(l[3])?255:1);return[parseInt(a,10),parseInt(u,10),parseInt(g,10),l[4]?parseFloat(l[4]):1]}},i.Color.fromRgba=h.fromRgb,i.Color.fromHsl=function(o){return h.fromSource(h.sourceFromHsl(o))},i.Color.sourceFromHsl=function(o){var l=o.match(h.reHSLa);if(l){var a=(parseFloat(l[1])%360+360)%360/360,u=parseFloat(l[2])/(/%$/.test(l[2])?100:1),g=parseFloat(l[3])/(/%$/.test(l[3])?100:1),d,v,_;if(u===0)d=v=_=g;else{var b=g<=.5?g*(u+1):g+u-g*u,y=g*2-b;d=f(y,b,a+1/3),v=f(y,b,a),_=f(y,b,a-1/3)}return[Math.round(d*255),Math.round(v*255),Math.round(_*255),l[4]?parseFloat(l[4]):1]}},i.Color.fromHsla=h.fromHsl,i.Color.fromHex=function(o){return h.fromSource(h.sourceFromHex(o))},i.Color.sourceFromHex=function(o){if(o.match(h.reHex)){var l=o.slice(o.indexOf("#")+1),a=l.length===3||l.length===4,u=l.length===8||l.length===4,g=a?l.charAt(0)+l.charAt(0):l.substring(0,2),d=a?l.charAt(1)+l.charAt(1):l.substring(2,4),v=a?l.charAt(2)+l.charAt(2):l.substring(4,6),_=u?a?l.charAt(3)+l.charAt(3):l.substring(6,8):"FF";return[parseInt(g,16),parseInt(d,16),parseInt(v,16),parseFloat((parseInt(_,16)/255).toFixed(2))]}},i.Color.fromSource=function(o){var l=new h;return l.setSource(o),l}}(e),function(c){var i=c.fabric||(c.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],o={},l="left",a="top",u="right",g="bottom",d="center",v={top:g,bottom:a,left:u,right:l,center:d},_=i.util.radiansToDegrees,b=Math.sign||function(O){return(O>0)-(O<0)||+O};function y(O,P){var B=O.angle+_(Math.atan2(P.y,P.x))+360;return Math.round(B%360/45)}function w(O,P){var B=P.transform.target,$=B.canvas,N=i.util.object.clone(P);N.target=B,$&&$.fire("object:"+O,N),B.fire(O,P)}function C(O,P){var B=P.canvas,$=B.uniScaleKey,N=O[$];return B.uniformScaling&&!N||!B.uniformScaling&&N}function S(O){return O.originX===d&&O.originY===d}function T(O,P,B){var $=O.lockScalingX,N=O.lockScalingY;return!!($&&N||!P&&($||N)&&B||$&&P==="x"||N&&P==="y")}function j(O,P,B){var $="not-allowed",N=C(O,B),Y="";if(P.x!==0&&P.y===0?Y="x":P.x===0&&P.y!==0&&(Y="y"),T(B,Y,N))return $;var J=y(B,P);return h[J]+"-resize"}function W(O,P,B){var $="not-allowed";if(P.x!==0&&B.lockSkewingY||P.y!==0&&B.lockSkewingX)return $;var N=y(B,P)%4;return f[N]+"-resize"}function V(O,P,B){return O[B.canvas.altActionKey]?o.skewCursorStyleHandler(O,P,B):o.scaleCursorStyleHandler(O,P,B)}function H(O,P,B){var $=O[B.canvas.altActionKey];if(P.x===0)return $?"skewX":"scaleY";if(P.y===0)return $?"skewY":"scaleX"}function te(O,P,B){return B.lockRotation?"not-allowed":P.cursorStyle}function se(O,P,B,$){return{e:O,transform:P,pointer:{x:B,y:$}}}function le(O){return function(P,B,$,N){var Y=B.target,J=Y.getCenterPoint(),ae=Y.translateToOriginPoint(J,B.originX,B.originY),ne=O(P,B,$,N);return Y.setPositionByOrigin(ae,B.originX,B.originY),ne}}function ue(O,P){return function(B,$,N,Y){var J=P(B,$,N,Y);return J&&w(O,se(B,$,N,Y)),J}}function X(O,P,B,$,N){var Y=O.target,J=Y.controls[O.corner],ae=Y.canvas.getZoom(),ne=Y.padding/ae,G=Y.toLocalPoint(new i.Point($,N),P,B);return G.x>=ne&&(G.x-=ne),G.x<=-ne&&(G.x+=ne),G.y>=ne&&(G.y-=ne),G.y<=ne&&(G.y+=ne),G.x-=J.offsetX,G.y-=J.offsetY,G}function K(O){return O.flipX!==O.flipY}function x(O,P,B,$,N){if(O[P]!==0){var Y=O._getTransformedDimensions()[$],J=N/Y*O[B];O.set(B,J)}}function D(O,P,B,$){var N=P.target,Y=N._getTransformedDimensions(0,N.skewY),J=X(P,P.originX,P.originY,B,$),ae=Math.abs(J.x*2)-Y.x,ne=N.skewX,G;ae<2?G=0:(G=_(Math.atan2(ae/N.scaleX,Y.y/N.scaleY)),P.originX===l&&P.originY===g&&(G=-G),P.originX===u&&P.originY===a&&(G=-G),K(N)&&(G=-G));var ce=ne!==G;if(ce){var pe=N._getTransformedDimensions().y;N.set("skewX",G),x(N,"skewY","scaleY","y",pe)}return ce}function F(O,P,B,$){var N=P.target,Y=N._getTransformedDimensions(N.skewX,0),J=X(P,P.originX,P.originY,B,$),ae=Math.abs(J.y*2)-Y.y,ne=N.skewY,G;ae<2?G=0:(G=_(Math.atan2(ae/N.scaleY,Y.x/N.scaleX)),P.originX===l&&P.originY===g&&(G=-G),P.originX===u&&P.originY===a&&(G=-G),K(N)&&(G=-G));var ce=ne!==G;if(ce){var pe=N._getTransformedDimensions().x;N.set("skewY",G),x(N,"skewX","scaleX","x",pe)}return ce}function I(O,P,B,$){var N=P.target,Y=N.skewX,J,ae=P.originY;if(N.lockSkewingX)return!1;if(Y===0){var ne=X(P,d,d,B,$);ne.x>0?J=l:J=u}else Y>0&&(J=ae===a?l:u),Y<0&&(J=ae===a?u:l),K(N)&&(J=J===l?u:l);P.originX=J;var G=ue("skewing",le(D));return G(O,P,B,$)}function Q(O,P,B,$){var N=P.target,Y=N.skewY,J,ae=P.originX;if(N.lockSkewingY)return!1;if(Y===0){var ne=X(P,d,d,B,$);ne.y>0?J=a:J=g}else Y>0&&(J=ae===l?a:g),Y<0&&(J=ae===l?g:a),K(N)&&(J=J===a?g:a);P.originY=J;var G=ue("skewing",le(F));return G(O,P,B,$)}function R(O,P,B,$){var N=P,Y=N.target,J=Y.translateToOriginPoint(Y.getCenterPoint(),N.originX,N.originY);if(Y.lockRotation)return!1;var ae=Math.atan2(N.ey-J.y,N.ex-J.x),ne=Math.atan2($-J.y,B-J.x),G=_(ne-ae+N.theta),ce=!0;if(Y.snapAngle>0){var pe=Y.snapAngle,Z=Y.snapThreshold||pe,ge=Math.ceil(G/pe)*pe,me=Math.floor(G/pe)*pe;Math.abs(G-me)<Z?G=me:Math.abs(G-ge)<Z&&(G=ge)}return G<0&&(G=360+G),G%=360,ce=Y.angle!==G,Y.angle=G,ce}function E(O,P,B,$,N){N=N||{};var Y=P.target,J=Y.lockScalingX,ae=Y.lockScalingY,ne=N.by,G,ce,pe,Z,ge=C(O,Y),me=T(Y,ne,ge),be,ke,qe=P.gestureScale;if(me)return!1;if(qe)ce=P.scaleX*qe,pe=P.scaleY*qe;else{if(G=X(P,P.originX,P.originY,B,$),be=ne!=="y"?b(G.x):1,ke=ne!=="x"?b(G.y):1,P.signX||(P.signX=be),P.signY||(P.signY=ke),Y.lockScalingFlip&&(P.signX!==be||P.signY!==ke))return!1;if(Z=Y._getTransformedDimensions(),ge&&!ne){var Ct=Math.abs(G.x)+Math.abs(G.y),mt=P.original,an=Math.abs(Z.x*mt.scaleX/Y.scaleX)+Math.abs(Z.y*mt.scaleY/Y.scaleY),Jn=Ct/an;ce=mt.scaleX*Jn,pe=mt.scaleY*Jn}else ce=Math.abs(G.x*Y.scaleX/Z.x),pe=Math.abs(G.y*Y.scaleY/Z.y);S(P)&&(ce*=2,pe*=2),P.signX!==be&&ne!=="y"&&(P.originX=v[P.originX],ce*=-1,P.signX=be),P.signY!==ke&&ne!=="x"&&(P.originY=v[P.originY],pe*=-1,P.signY=ke)}var Ke=Y.scaleX,ct=Y.scaleY;return ne?(ne==="x"&&Y.set("scaleX",ce),ne==="y"&&Y.set("scaleY",pe)):(!J&&Y.set("scaleX",ce),!ae&&Y.set("scaleY",pe)),Ke!==Y.scaleX||ct!==Y.scaleY}function U(O,P,B,$){return E(O,P,B,$)}function M(O,P,B,$){return E(O,P,B,$,{by:"x"})}function L(O,P,B,$){return E(O,P,B,$,{by:"y"})}function z(O,P,B,$){return O[P.target.canvas.altActionKey]?o.skewHandlerX(O,P,B,$):o.scalingY(O,P,B,$)}function q(O,P,B,$){return O[P.target.canvas.altActionKey]?o.skewHandlerY(O,P,B,$):o.scalingX(O,P,B,$)}function oe(O,P,B,$){var N=P.target,Y=X(P,P.originX,P.originY,B,$),J=N.strokeWidth/(N.strokeUniform?N.scaleX:1),ae=S(P)?2:1,ne=N.width,G=Math.abs(Y.x*ae/N.scaleX)-J;return N.set("width",Math.max(G,0)),ne!==G}function k(O,P,B,$){var N=P.target,Y=B-P.offsetX,J=$-P.offsetY,ae=!N.get("lockMovementX")&&N.left!==Y,ne=!N.get("lockMovementY")&&N.top!==J;return ae&&N.set("left",Y),ne&&N.set("top",J),(ae||ne)&&w("moving",se(O,P,B,$)),ae||ne}o.scaleCursorStyleHandler=j,o.skewCursorStyleHandler=W,o.scaleSkewCursorStyleHandler=V,o.rotationWithSnapping=ue("rotating",le(R)),o.scalingEqually=ue("scaling",le(U)),o.scalingX=ue("scaling",le(M)),o.scalingY=ue("scaling",le(L)),o.scalingYOrSkewingX=z,o.scalingXOrSkewingY=q,o.changeWidth=ue("resizing",le(oe)),o.skewHandlerX=I,o.skewHandlerY=Q,o.dragHandler=k,o.scaleOrSkewActionName=H,o.rotationStyleHandler=te,o.fireEvent=w,o.wrapWithFixedAnchor=le,o.wrapWithFireEvent=ue,o.getLocalPoint=X,i.controlsUtils=o}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.degreesToRadians,f=i.controlsUtils;function o(a,u,g,d,v){d=d||{};var _=this.sizeX||d.cornerSize||v.cornerSize,b=this.sizeY||d.cornerSize||v.cornerSize,y=typeof d.transparentCorners<"u"?d.transparentCorners:v.transparentCorners,w=y?"stroke":"fill",C=!y&&(d.cornerStrokeColor||v.cornerStrokeColor),S=u,T=g,j;a.save(),a.fillStyle=d.cornerColor||v.cornerColor,a.strokeStyle=d.cornerStrokeColor||v.cornerStrokeColor,_>b?(j=_,a.scale(1,b/_),T=g*_/b):b>_?(j=b,a.scale(_/b,1),S=u*b/_):j=_,a.lineWidth=1,a.beginPath(),a.arc(S,T,j/2,0,2*Math.PI,!1),a[w](),C&&a.stroke(),a.restore()}function l(a,u,g,d,v){d=d||{};var _=this.sizeX||d.cornerSize||v.cornerSize,b=this.sizeY||d.cornerSize||v.cornerSize,y=typeof d.transparentCorners<"u"?d.transparentCorners:v.transparentCorners,w=y?"stroke":"fill",C=!y&&(d.cornerStrokeColor||v.cornerStrokeColor),S=_/2,T=b/2;a.save(),a.fillStyle=d.cornerColor||v.cornerColor,a.strokeStyle=d.cornerStrokeColor||v.cornerStrokeColor,a.lineWidth=1,a.translate(u,g),a.rotate(h(v.angle)),a[w+"Rect"](-S,-T,_,b),C&&a.strokeRect(-S,-T,_,b),a.restore()}f.renderCircleControl=o,f.renderSquareControl=l}(e),function(c){var i=c.fabric||(c.fabric={});function h(f){for(var o in f)this[o]=f[o]}i.Control=h,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,o){return o.cursorStyle},getActionName:function(f,o){return o.actionName},getVisibility:function(f,o){var l=f._controlsVisibility;return l&&typeof l[o]<"u"?l[o]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,o){var l=i.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},o);return l},calcCornerCoords:function(f,o,l,a,u){var g,d,v,_,b=u?this.touchSizeX:this.sizeX,y=u?this.touchSizeY:this.sizeY;if(b&&y&&b!==y){var w=Math.atan2(y,b),C=Math.sqrt(b*b+y*y)/2,S=w-i.util.degreesToRadians(f),T=Math.PI/2-w-i.util.degreesToRadians(f);g=C*i.util.cos(S),d=C*i.util.sin(S),v=C*i.util.cos(T),_=C*i.util.sin(T)}else{var j=b&&y?b:o;C=j*.7071067812;var S=i.util.degreesToRadians(45-f);g=v=C*i.util.cos(S),d=_=C*i.util.sin(S)}return{tl:{x:l-_,y:a-v},tr:{x:l+g,y:a-d},bl:{x:l-g,y:a+d},br:{x:l+_,y:a+v}}},render:function(f,o,l,a,u){switch(a=a||{},a.cornerStyle||u.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,f,o,l,a,u);break;default:i.controlsUtils.renderSquareControl.call(this,f,o,l,a,u)}}}}(e),function(){function c(l,a){var u=l.getAttribute("style"),g=l.getAttribute("offset")||0,d,v,_,b;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,u){var y=u.split(/\s*;\s*/);for(y[y.length-1]===""&&y.pop(),b=y.length;b--;){var w=y[b].split(/\s*:\s*/),C=w[0].trim(),S=w[1].trim();C==="stop-color"?d=S:C==="stop-opacity"&&(_=S)}}return d||(d=l.getAttribute("stop-color")||"rgb(0,0,0)"),_||(_=l.getAttribute("stop-opacity")),d=new t.Color(d),v=d.getAlpha(),_=isNaN(parseFloat(_))?1:parseFloat(_),_*=v*a,{offset:g,color:d.toRgb(),opacity:_}}function i(l){return{x1:l.getAttribute("x1")||0,y1:l.getAttribute("y1")||0,x2:l.getAttribute("x2")||"100%",y2:l.getAttribute("y2")||0}}function h(l){return{x1:l.getAttribute("fx")||l.getAttribute("cx")||"50%",y1:l.getAttribute("fy")||l.getAttribute("cy")||"50%",r1:0,x2:l.getAttribute("cx")||"50%",y2:l.getAttribute("cy")||"50%",r2:l.getAttribute("r")||"50%"}}var f=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(l){l||(l={}),l.coords||(l.coords={});var a,u=this;Object.keys(l).forEach(function(g){u[g]=l[g]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,a={x1:l.coords.x1||0,y1:l.coords.y1||0,x2:l.coords.x2||0,y2:l.coords.y2||0},this.type==="radial"&&(a.r1=l.coords.r1||0,a.r2=l.coords.r2||0),this.coords=a,this.colorStops=l.colorStops.slice()},addColorStop:function(l){for(var a in l){var u=new t.Color(l[a]);this.colorStops.push({offset:parseFloat(a),color:u.toRgb(),opacity:u.getAlpha()})}return this},toObject:function(l){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,a,l),a},toSVG:function(l,v){var u=f(this.coords,!0),g,d,v=v||{},_,b,y=f(this.colorStops,!0),w=u.r1>u.r2,C=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),S=-this.offsetX,T=-this.offsetY,j=!!v.additionalTransform,W=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(y.sort(function(le,ue){return le.offset-ue.offset}),W==="objectBoundingBox"?(S/=l.width,T/=l.height):(S+=l.width/2,T+=l.height/2),l.type==="path"&&this.gradientUnits!=="percentage"&&(S-=l.pathOffset.x,T-=l.pathOffset.y),C[4]-=S,C[5]-=T,b='id="SVGID_'+this.id+'" gradientUnits="'+W+'"',b+=' gradientTransform="'+(j?v.additionalTransform+" ":"")+t.util.matrixToSVG(C)+'" ',this.type==="linear"?_=["<linearGradient ",b,' x1="',u.x1,'" y1="',u.y1,'" x2="',u.x2,'" y2="',u.y2,`">
`]:this.type==="radial"&&(_=["<radialGradient ",b,' cx="',w?u.x1:u.x2,'" cy="',w?u.y1:u.y2,'" r="',w?u.r1:u.r2,'" fx="',w?u.x2:u.x1,'" fy="',w?u.y2:u.y1,`">
`]),this.type==="radial"){if(w)for(y=y.concat(),y.reverse(),g=0,d=y.length;g<d;g++)y[g].offset=1-y[g].offset;var V=Math.min(u.r1,u.r2);if(V>0){var H=Math.max(u.r1,u.r2),te=V/H;for(g=0,d=y.length;g<d;g++)y[g].offset+=te*(1-y[g].offset)}}for(g=0,d=y.length;g<d;g++){var se=y[g];_.push("<stop ",'offset="',se.offset*100+"%",'" style="stop-color:',se.color,typeof se.opacity<"u"?";stop-opacity: "+se.opacity:";",`"/>
`)}return _.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),_.join("")},toLive:function(l){var a,u=t.util.object.clone(this.coords),g,d;if(this.type){for(this.type==="linear"?a=l.createLinearGradient(u.x1,u.y1,u.x2,u.y2):this.type==="radial"&&(a=l.createRadialGradient(u.x1,u.y1,u.r1,u.x2,u.y2,u.r2)),g=0,d=this.colorStops.length;g<d;g++){var v=this.colorStops[g].color,_=this.colorStops[g].opacity,b=this.colorStops[g].offset;typeof _<"u"&&(v=new t.Color(v).setAlpha(_).toRgba()),a.addColorStop(b,v)}return a}}}),t.util.object.extend(t.Gradient,{fromElement:function(l,a,u,g){var d=parseFloat(u)/(/%$/.test(u)?100:1);d=d<0?0:d>1?1:d,isNaN(d)&&(d=1);var v=l.getElementsByTagName("stop"),_,b=l.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",y=l.getAttribute("gradientTransform")||"",w=[],C,S,T=0,j=0,W;for(l.nodeName==="linearGradient"||l.nodeName==="LINEARGRADIENT"?(_="linear",C=i(l)):(_="radial",C=h(l)),S=v.length;S--;)w.push(c(v[S],d));W=t.parseTransformAttribute(y),o(a,C,g,b),b==="pixels"&&(T=-a.left,j=-a.top);var V=new t.Gradient({id:l.getAttribute("id"),type:_,coords:C,colorStops:w,gradientUnits:b,gradientTransform:W,offsetX:T,offsetY:j});return V}});function o(l,a,u,g){var d,v;Object.keys(a).forEach(function(_){d=a[_],d==="Infinity"?v=1:d==="-Infinity"?v=0:(v=parseFloat(a[_],10),typeof d=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(d)&&(v*=.01,g==="pixels"&&((_==="x1"||_==="x2"||_==="r2")&&(v*=u.viewBoxWidth||u.width),(_==="y1"||_==="y2")&&(v*=u.viewBoxHeight||u.height)))),a[_]=v})}}(),function(){var c=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,h){if(i||(i={}),this.id=t.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){h&&h(this);return}else{var f=this;this.source=t.util.createImage(),t.util.loadImage(i.source,function(o,l){f.source=o,h&&h(f,l)},null,this.crossOrigin)}},toObject:function(i){var h=t.Object.NUM_FRACTION_DIGITS,f,o;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),o={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:c(this.offsetX,h),offsetY:c(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,o,i),o},toSVG:function(i){var h=typeof this.source=="function"?this.source():this.source,f=h.width/i.width,o=h.height/i.height,l=this.offsetX/i.width,a=this.offsetY/i.height,u="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(o=1,a&&(o+=Math.abs(a))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,l&&(f+=Math.abs(l))),h.src?u=h.src:h.toDataURL&&(u=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+l+'" y="'+a+'" width="'+f+'" height="'+o+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+u+`"></image>
</pattern>
`},setOptions:function(i){for(var h in i)this[h]=i[h]},toLive:function(i){var h=this.source;return!h||typeof h.src<"u"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":i.createPattern(h,this.repeat)}})}(),function(c){var i=c.fabric||(c.fabric={}),h=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var o in f)this[o]=f[o];this.id=i.Object.__uid++},_parseShadow:function(f){var o=f.trim(),l=i.Shadow.reOffsetsAndBlur.exec(o)||[],a=o.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:a.trim(),offsetX:parseFloat(l[1],10)||0,offsetY:parseFloat(l[2],10)||0,blur:parseFloat(l[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var o=40,l=40,a=i.Object.NUM_FRACTION_DIGITS,u=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-f.angle)),g=20,d=new i.Color(this.color);return f.width&&f.height&&(o=h((Math.abs(u.x)+this.blur)/f.width,a)*100+g,l=h((Math.abs(u.y)+this.blur)/f.height,a)*100+g),f.flipX&&(u.x*=-1),f.flipY&&(u.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+l+'%" height="'+(100+2*l)+'%" x="-'+o+'%" width="'+(100+2*o)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,a)+`"></feGaussianBlur>
	<feOffset dx="`+h(u.x,a)+'" dy="'+h(u.y,a)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+d.toRgb()+'" flood-opacity="'+d.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},o=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(l){this[l]!==o[l]&&(f[l]=this[l])},this),f}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var c=t.util.object.extend,i=t.util.getElementOffset,h=t.util.removeFromArray,f=t.util.toFixed,o=t.util.transformPoint,l=t.util.invertTransform,a=t.util.getNodeCanvas,u=t.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(d,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(d,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(d,v){var _=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(d),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,_),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,_),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,_),v.overlayColor&&this.setOverlayColor(v.overlayColor,_),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var d=t.devicePixelRatio;this.__initRetinaScaling(d,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(d,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(d,v,_){v.setAttribute("width",this.width*d),v.setAttribute("height",this.height*d),_.scale(d,d)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(d,v,_){return this.__setBgOverlayImage("overlayImage",d,v,_)},setBackgroundImage:function(d,v,_){return this.__setBgOverlayImage("backgroundImage",d,v,_)},setOverlayColor:function(d,v){return this.__setBgOverlayColor("overlayColor",d,v)},setBackgroundColor:function(d,v){return this.__setBgOverlayColor("backgroundColor",d,v)},__setBgOverlayImage:function(d,v,_,b){return typeof v=="string"?t.util.loadImage(v,function(y,w){if(y){var C=new t.Image(y,b);this[d]=C,C.canvas=this}_&&_(y,w)},this,b&&b.crossOrigin):(b&&v.setOptions(b),this[d]=v,v&&(v.canvas=this),_&&_(v,!1)),this},__setBgOverlayColor:function(d,v,_){return this[d]=v,this._initGradient(v,d),this._initPattern(v,d,_),this},_createCanvasElement:function(){var d=u();if(!d||(d.style||(d.style={}),typeof d.getContext>"u"))throw g;return d},_initOptions:function(d){var v=this.lowerCanvasEl;this._setOptions(d),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(d){d&&d.getContext?this.lowerCanvasEl=d:this.lowerCanvasEl=t.util.getById(d)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(d,v){return this.setDimensions({width:d},v)},setHeight:function(d,v){return this.setDimensions({height:d},v)},setDimensions:function(d,v){var _;v=v||{};for(var b in d)_=d[b],v.cssOnly||(this._setBackstoreDimension(b,d[b]),_+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(b,_);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(d,v){return this.lowerCanvasEl[d]=v,this.upperCanvasEl&&(this.upperCanvasEl[d]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[d]=v),this[d]=v,this},_setCssDimension:function(d,v){return this.lowerCanvasEl.style[d]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[d]=v),this.wrapperEl&&(this.wrapperEl.style[d]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(d){var v=this._activeObject,_=this.backgroundImage,b=this.overlayImage,y,w,C;for(this.viewportTransform=d,w=0,C=this._objects.length;w<C;w++)y=this._objects[w],y.group||y.setCoords(!0);return v&&v.setCoords(),_&&_.setCoords(!0),b&&b.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(d,v){var _=d,b=this.viewportTransform.slice(0);d=o(d,l(this.viewportTransform)),b[0]=v,b[3]=v;var y=o(d,b);return b[4]+=_.x-y.x,b[5]+=_.y-y.y,this.setViewportTransform(b)},setZoom:function(d){return this.zoomToPoint(new t.Point(0,0),d),this},absolutePan:function(d){var v=this.viewportTransform.slice(0);return v[4]=-d.x,v[5]=-d.y,this.setViewportTransform(v)},relativePan:function(d){return this.absolutePan(new t.Point(-d.x-this.viewportTransform[4],-d.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(d){this.stateful&&d.setupState(),d._set("canvas",this),d.setCoords(),this.fire("object:added",{target:d}),d.fire("added")},_onObjectRemoved:function(d){this.fire("object:removed",{target:d}),d.fire("removed"),delete d.canvas},clearContext:function(d){return d.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var d=this.contextContainer;return this.renderCanvas(d,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var d={},v=this.width,_=this.height,b=l(this.viewportTransform);return d.tl=o({x:0,y:0},b),d.br=o({x:v,y:_},b),d.tr=new t.Point(d.br.x,d.tl.y),d.bl=new t.Point(d.tl.x,d.br.y),this.vptCoords=d,d},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(d,v){var _=this.viewportTransform,b=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(d),t.util.setImageSmoothing(d,this.imageSmoothingEnabled),this.fire("before:render",{ctx:d}),this._renderBackground(d),d.save(),d.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._renderObjects(d,v),d.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(d),b&&(b.canvas=this,b.shouldCache(),b._transformDone=!0,b.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(d)),this._renderOverlay(d),this.controlsAboveOverlay&&this.interactive&&this.drawControls(d),this.fire("after:render",{ctx:d})},drawClipPathOnCanvas:function(d){var v=this.viewportTransform,_=this.clipPath;d.save(),d.transform(v[0],v[1],v[2],v[3],v[4],v[5]),d.globalCompositeOperation="destination-in",_.transform(d),d.scale(1/_.zoomX,1/_.zoomY),d.drawImage(_._cacheCanvas,-_.cacheTranslationX,-_.cacheTranslationY),d.restore()},_renderObjects:function(d,v){var _,b;for(_=0,b=v.length;_<b;++_)v[_]&&v[_].render(d)},_renderBackgroundOrOverlay:function(d,v){var _=this[v+"Color"],b=this[v+"Image"],y=this.viewportTransform,w=this[v+"Vpt"];if(!(!_&&!b)){if(_){d.save(),d.beginPath(),d.moveTo(0,0),d.lineTo(this.width,0),d.lineTo(this.width,this.height),d.lineTo(0,this.height),d.closePath(),d.fillStyle=_.toLive?_.toLive(d,this):_,w&&d.transform(y[0],y[1],y[2],y[3],y[4],y[5]),d.transform(1,0,0,1,_.offsetX||0,_.offsetY||0);var C=_.gradientTransform||_.patternTransform;C&&d.transform(C[0],C[1],C[2],C[3],C[4],C[5]),d.fill(),d.restore()}b&&(d.save(),w&&d.transform(y[0],y[1],y[2],y[3],y[4],y[5]),b.render(d),d.restore())}},_renderBackground:function(d){this._renderBackgroundOrOverlay(d,"background")},_renderOverlay:function(d){this._renderBackgroundOrOverlay(d,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(d){return this._centerObject(d,new t.Point(this.getCenterPoint().x,d.getCenterPoint().y))},centerObjectV:function(d){return this._centerObject(d,new t.Point(d.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(d){var v=this.getCenterPoint();return this._centerObject(d,v)},viewportCenterObject:function(d){var v=this.getVpCenter();return this._centerObject(d,v)},viewportCenterObjectH:function(d){var v=this.getVpCenter();return this._centerObject(d,new t.Point(v.x,d.getCenterPoint().y)),this},viewportCenterObjectV:function(d){var v=this.getVpCenter();return this._centerObject(d,new t.Point(d.getCenterPoint().x,v.y))},getVpCenter:function(){var d=this.getCenterPoint(),v=l(this.viewportTransform);return o(d,v)},_centerObject:function(d,v){return d.setPositionByOrigin(v,"center","center"),d.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(d){return this.toDatalessObject(d)},toObject:function(d){return this._toObjectMethod("toObject",d)},toDatalessObject:function(d){return this._toObjectMethod("toDatalessObject",d)},_toObjectMethod:function(d,v){var _=this.clipPath,b={version:t.version,objects:this._toObjects(d,v)};return _&&!_.excludeFromExport&&(b.clipPath=this._toObject(this.clipPath,d,v)),c(b,this.__serializeBgOverlay(d,v)),t.util.populateWithProperties(this,b,v),b},_toObjects:function(d,v){return this._objects.filter(function(_){return!_.excludeFromExport}).map(function(_){return this._toObject(_,d,v)},this)},_toObject:function(d,v,_){var b;this.includeDefaultValues||(b=d.includeDefaultValues,d.includeDefaultValues=!1);var y=d[v](_);return this.includeDefaultValues||(d.includeDefaultValues=b),y},__serializeBgOverlay:function(d,v){var _={},b=this.backgroundImage,y=this.overlayImage,w=this.backgroundColor,C=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(_.background=w.toObject(v)):w&&(_.background=w),C&&C.toObject?C.excludeFromExport||(_.overlay=C.toObject(v)):C&&(_.overlay=C),b&&!b.excludeFromExport&&(_.backgroundImage=this._toObject(b,d,v)),y&&!y.excludeFromExport&&(_.overlayImage=this._toObject(y,d,v)),_},svgViewportTransformation:!0,toSVG:function(d,v){d||(d={}),d.reviver=v;var _=[];return this._setSVGPreamble(_,d),this._setSVGHeader(_,d),this.clipPath&&_.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(_,"background"),this._setSVGBgOverlayImage(_,"backgroundImage",v),this._setSVGObjects(_,v),this.clipPath&&_.push(`</g>
`),this._setSVGBgOverlayColor(_,"overlay"),this._setSVGBgOverlayImage(_,"overlayImage",v),_.push("</svg>"),_.join("")},_setSVGPreamble:function(d,v){v.suppressPreamble||d.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(d,v){var _=v.width||this.width,b=v.height||this.height,y,w='viewBox="0 0 '+this.width+" "+this.height+'" ',C=t.Object.NUM_FRACTION_DIGITS;v.viewBox?w='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(y=this.viewportTransform,w='viewBox="'+f(-y[4]/y[0],C)+" "+f(-y[5]/y[3],C)+" "+f(this.width/y[0],C)+" "+f(this.height/y[3],C)+'" '),d.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',_,'" ','height="',b,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(d){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(d.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var d=this,v=["background","overlay"].map(function(_){var b=d[_+"Color"];if(b&&b.toLive){var y=d[_+"Vpt"],w=d.viewportTransform,C={width:d.width/(y?w[0]:1),height:d.height/(y?w[3]:1)};return b.toSVG(C,{additionalTransform:y?t.util.matrixToSVG(w):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var d="",v={},_,b,y,w,C,S,T,j,W,V=t.fontPaths,H=[];for(this._objects.forEach(function se(le){H.push(le),le._objects&&le._objects.forEach(se)}),j=0,W=H.length;j<W;j++)if(_=H[j],b=_.fontFamily,!(_.type.indexOf("text")===-1||v[b]||!V[b])&&(v[b]=!0,!!_.styles)){y=_.styles;for(C in y){w=y[C];for(T in w)S=w[T],b=S.fontFamily,!v[b]&&V[b]&&(v[b]=!0)}}for(var te in v)d+=[`		@font-face {
`,"			font-family: '",te,`';
`,"			src: url('",V[te],`');
`,`		}
`].join("");return d&&(d=['	<style type="text/css">',`<![CDATA[
`,d,"]]>",`</style>
`].join("")),d},_setSVGObjects:function(d,v){var _,b,y,w=this._objects;for(b=0,y=w.length;b<y;b++)_=w[b],!_.excludeFromExport&&this._setSVGObject(d,_,v)},_setSVGObject:function(d,v,_){d.push(v.toSVG(_))},_setSVGBgOverlayImage:function(d,v,_){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&d.push(this[v].toSVG(_))},_setSVGBgOverlayColor:function(d,v){var _=this[v+"Color"],b=this.viewportTransform,y=this.width,w=this.height;if(_)if(_.toLive){var C=_.repeat,S=t.util.invertTransform(b),T=this[v+"Vpt"],j=T?t.util.matrixToSVG(S):"";d.push('<rect transform="'+j+" translate(",y/2,",",w/2,')"',' x="',_.offsetX-y/2,'" y="',_.offsetY-w/2,'" ','width="',C==="repeat-y"||C==="no-repeat"?_.source.width:y,'" height="',C==="repeat-x"||C==="no-repeat"?_.source.height:w,'" fill="url(#SVGID_'+_.id+')"',`></rect>
`)}else d.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',_,'"',`></rect>
`)},sendToBack:function(d){if(!d)return this;var v=this._activeObject,_,b,y;if(d===v&&d.type==="activeSelection")for(y=v._objects,_=y.length;_--;)b=y[_],h(this._objects,b),this._objects.unshift(b);else h(this._objects,d),this._objects.unshift(d);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(d){if(!d)return this;var v=this._activeObject,_,b,y;if(d===v&&d.type==="activeSelection")for(y=v._objects,_=0;_<y.length;_++)b=y[_],h(this._objects,b),this._objects.push(b);else h(this._objects,d),this._objects.push(d);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(d,v){if(!d)return this;var _=this._activeObject,b,y,w,C,S,T=0;if(d===_&&d.type==="activeSelection")for(S=_._objects,b=0;b<S.length;b++)y=S[b],w=this._objects.indexOf(y),w>0+T&&(C=w-1,h(this._objects,y),this._objects.splice(C,0,y)),T++;else w=this._objects.indexOf(d),w!==0&&(C=this._findNewLowerIndex(d,w,v),h(this._objects,d),this._objects.splice(C,0,d));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(d,v,_){var b,y;if(_)for(b=v,y=v-1;y>=0;--y){var w=d.intersectsWithObject(this._objects[y])||d.isContainedWithinObject(this._objects[y])||this._objects[y].isContainedWithinObject(d);if(w){b=y;break}}else b=v-1;return b},bringForward:function(d,v){if(!d)return this;var _=this._activeObject,b,y,w,C,S,T=0;if(d===_&&d.type==="activeSelection")for(S=_._objects,b=S.length;b--;)y=S[b],w=this._objects.indexOf(y),w<this._objects.length-1-T&&(C=w+1,h(this._objects,y),this._objects.splice(C,0,y)),T++;else w=this._objects.indexOf(d),w!==this._objects.length-1&&(C=this._findNewUpperIndex(d,w,v),h(this._objects,d),this._objects.splice(C,0,d));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(d,v,_){var b,y,w;if(_)for(b=v,y=v+1,w=this._objects.length;y<w;++y){var C=d.intersectsWithObject(this._objects[y])||d.isContainedWithinObject(this._objects[y])||this._objects[y].isContainedWithinObject(d);if(C){b=y;break}}else b=v+1;return b},moveTo:function(d,v){return h(this._objects,d),this._objects.splice(v,0,d),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(d){d.dispose&&d.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),c(t.StaticCanvas.prototype,t.Observable),c(t.StaticCanvas.prototype,t.Collection),c(t.StaticCanvas.prototype,t.DataURLExporter),c(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(d){var v=u();if(!v||!v.getContext)return null;var _=v.getContext("2d");if(!_)return null;switch(d){case"setLineDash":return typeof _.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var d=a(this.lowerCanvasEl);return d&&d.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(d){var v=a(this.lowerCanvasEl);return v&&v.createJPEGStream(d)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(c){c.strokeStyle=this.color,c.lineWidth=this.width,c.lineCap=this.strokeLineCap,c.miterLimit=this.strokeMiterLimit,c.lineJoin=this.strokeLineJoin,c.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(c){var i=this.canvas.viewportTransform;c.save(),c.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var c=this.canvas,i=this.shadow,h=c.contextTop,f=c.getZoom();c&&c._isRetinaScaling()&&(f*=t.devicePixelRatio),h.shadowColor=i.color,h.shadowBlur=i.blur*f,h.shadowOffsetX=i.offsetX*f,h.shadowOffsetY=i.offsetY*f}},needsFullRender:function(){var c=new t.Color(this.color);return c.getAlpha()<1||!!this.shadow},_resetShadow:function(){var c=this.canvas.contextTop;c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0},_isOutSideCanvas:function(c){return c.x<0||c.x>this.canvas.getWidth()||c.y<0||c.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(c){this.canvas=c,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(c,i,h){var f=i.midPointFrom(h);return c.quadraticCurveTo(i.x,i.y,f.x,f.y),f},onMouseDown:function(c,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(c),this._captureDrawingPath(c),this._render())},onMouseMove:function(c,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c))&&this._captureDrawingPath(c)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,f=h.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,h[f-2],h[f-1],!0),o.stroke(),o.restore()}},onMouseUp:function(c){return this.canvas._isMainEvent(c.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(c){var i=new t.Point(c.x,c.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(c){return this._points.length>1&&c.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(c),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(c){var i=new t.Point(c.x,c.y);return this._addPoint(i)},_render:function(c){var i,h,f=this._points[0],o=this._points[1];if(c=c||this.canvas.contextTop,this._saveAndTransform(c),c.beginPath(),this._points.length===2&&f.x===o.x&&f.y===o.y){var l=this.width/1e3;f=new t.Point(f.x,f.y),o=new t.Point(o.x,o.y),f.x-=l,o.x+=l}for(c.moveTo(f.x,f.y),i=1,h=this._points.length;i<h;i++)this._drawSegment(c,f,o),f=this._points[i],o=this._points[i+1];c.lineTo(f.x,f.y),c.stroke(),c.restore()},convertPointsToSVGPath:function(c){var i=this.width/1e3;return t.util.getSmoothPathFromPoints(c,i)},_isEmptySVGPath:function(c){var i=t.util.joinPath(c);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(c){var i=new t.Path(c,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new t.Shadow(this.shadow)),i},decimatePoints:function(c,i){if(c.length<=2)return c;var h=this.canvas.getZoom(),f=Math.pow(i/h,2),o,l=c.length-1,a=c[0],u=[a],g;for(o=1;o<l-1;o++)g=Math.pow(a.x-c[o].x,2)+Math.pow(a.y-c[o].y,2),g>=f&&(a=c[o],u.push(a));return u.push(c[l]),u},_finalizeAndAddPath:function(){var c=this.canvas.contextTop;c.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var h=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(c){this.canvas=c,this.points=[]},drawDot:function(c){var i=this.addPoint(c),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,i),h.restore()},dot:function(c,i){c.fillStyle=i.fill,c.beginPath(),c.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),c.closePath(),c.fill()},onMouseDown:function(c){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(c)},_render:function(){var c=this.canvas.contextTop,i,h,f=this.points;for(this._saveAndTransform(c),i=0,h=f.length;i<h;i++)this.dot(c,f[i]);c.restore()},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(c),this._render()):this.drawDot(c))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove,i,h;this.canvas.renderOnAddRemove=!1;var f=[];for(i=0,h=this.points.length;i<h;i++){var o=this.points[i],l=new t.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(l.shadow=new t.Shadow(this.shadow)),f.push(l)}var a=new t.Group(f);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},addPoint:function(c){var i=new t.Point(c.x,c.y),h=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return i.radius=h,i.fill=f,this.points.push(i),i}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(c){this.canvas=c,this.sprayChunks=[]},onMouseDown:function(c){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(c),this.render(this.sprayChunkPoints)},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.addSprayChunk(c),this.render(this.sprayChunkPoints))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],h=0,f=this.sprayChunks.length;h<f;h++)for(var o=this.sprayChunks[h],l=0,a=o.length;l<a;l++){var u=new t.Rect({width:o[l].width,height:o[l].width,left:o[l].x+1,top:o[l].y+1,originX:"center",originY:"center",fill:this.color});i.push(u)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var g=new t.Group(i);this.shadow&&g.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},_getOptimizedRects:function(c){var i={},h,f,o;for(f=0,o=c.length;f<o;f++)h=c[f].left+""+c[f].top,i[h]||(i[h]=c[f]);var l=[];for(h in i)l.push(i[h]);return l},render:function(c){var i=this.canvas.contextTop,h,f;for(i.fillStyle=this.color,this._saveAndTransform(i),h=0,f=c.length;h<f;h++){var o=c[h];typeof o.opacity<"u"&&(i.globalAlpha=o.opacity),i.fillRect(o.x,o.y,o.width,o.width)}i.restore()},_render:function(){var c=this.canvas.contextTop,i,h;for(c.fillStyle=this.color,this._saveAndTransform(c),i=0,h=this.sprayChunks.length;i<h;i++)this.render(this.sprayChunks[i]);c.restore()},addSprayChunk:function(c){this.sprayChunkPoints=[];var i,h,f,o=this.width/2,l;for(l=0;l<this.density;l++){i=t.util.getRandomInt(c.x-o,c.x+o),h=t.util.getRandomInt(c.y-o,c.y+o),this.dotWidthVariance?f=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var a=new t.Point(i,h);a.width=f,this.randomOpacity&&(a.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var c=20,i=5,h=t.util.createCanvasElement(),f=h.getContext("2d");return h.width=h.height=c+i,f.fillStyle=this.color,f.beginPath(),f.arc(c/2,c/2,c/2,0,Math.PI*2,!1),f.closePath(),f.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(c){return c.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(c){this.callSuper("_setBrushStyles",c),c.strokeStyle=this.getPattern(c)},createPath:function(c){var i=this.callSuper("createPath",c),h=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),i}}),function(){var c=t.util.getPointer,i=t.util.degreesToRadians,h=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(o,l){l||(l={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,l),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var o=this.getActiveObjects(),l,a,u;if(o.length>0&&!this.preserveObjectStacking){a=[],u=[];for(var g=0,d=this._objects.length;g<d;g++)l=this._objects[g],o.indexOf(l)===-1?a.push(l):u.push(l);o.length>1&&(this._activeObject._objects=u),a.push.apply(a,u)}else a=this._objects;return a},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var o=this.contextContainer;return this.renderCanvas(o,this._chooseObjectsToRender()),this},renderTopLayer:function(o){o.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(o),this.contextTopDirty=!0),o.restore()},renderTop:function(){var o=this.contextTop;return this.clearContext(o),this.renderTopLayer(o),this.fire("after:render"),this},_normalizePointer:function(o,l){var a=o.calcTransformMatrix(),u=t.util.invertTransform(a),g=this.restorePointerVpt(l);return t.util.transformPoint(g,u)},isTargetTransparent:function(o,l,a){if(o.shouldCache()&&o._cacheCanvas&&o!==this._activeObject){var u=this._normalizePointer(o,{x:l,y:a}),g=Math.max(o.cacheTranslationX+u.x*o.zoomX,0),d=Math.max(o.cacheTranslationY+u.y*o.zoomY,0),y=t.util.isTransparent(o._cacheContext,Math.round(g),Math.round(d),this.targetFindTolerance);return y}var v=this.contextCache,_=o.selectionBackgroundColor,b=this.viewportTransform;o.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(b[0],b[1],b[2],b[3],b[4],b[5]),o.render(v),v.restore(),o.selectionBackgroundColor=_;var y=t.util.isTransparent(v,l,a,this.targetFindTolerance);return y},_isSelectionKeyPressed:function(o){var l=!1;return Array.isArray(this.selectionKey)?l=!!this.selectionKey.find(function(a){return o[a]===!0}):l=o[this.selectionKey],l},_shouldClearSelection:function(o,l){var a=this.getActiveObjects(),u=this._activeObject;return!l||l&&u&&a.length>1&&a.indexOf(l)===-1&&u!==l&&!this._isSelectionKeyPressed(o)||l&&!l.evented||l&&!l.selectable&&u&&u!==l},_shouldCenterTransform:function(o,l,a){if(o){var u;return l==="scale"||l==="scaleX"||l==="scaleY"||l==="resizing"?u=this.centeredScaling||o.centeredScaling:l==="rotate"&&(u=this.centeredRotation||o.centeredRotation),u?!a:a}},_getOriginFromCorner:function(o,l){var a={x:o.originX,y:o.originY};return l==="ml"||l==="tl"||l==="bl"?a.x="right":(l==="mr"||l==="tr"||l==="br")&&(a.x="left"),l==="tl"||l==="mt"||l==="tr"?a.y="bottom":(l==="bl"||l==="mb"||l==="br")&&(a.y="top"),a},_getActionFromCorner:function(o,l,a,u){if(!l||!o)return"drag";var g=u.controls[l];return g.getActionName(a,g,u)},_setupCurrentTransform:function(o,l,a){if(l){var u=this.getPointer(o),g=l.__corner,d=l.controls[g],v=a&&g?d.getActionHandler(o,l,d):t.controlsUtils.dragHandler,_=this._getActionFromCorner(a,g,o,l),b=this._getOriginFromCorner(l,g),y=o[this.centeredKey],w={target:l,action:_,actionHandler:v,corner:g,scaleX:l.scaleX,scaleY:l.scaleY,skewX:l.skewX,skewY:l.skewY,offsetX:u.x-l.left,offsetY:u.y-l.top,originX:b.x,originY:b.y,ex:u.x,ey:u.y,lastX:u.x,lastY:u.y,theta:i(l.angle),width:l.width*l.scaleX,shiftKey:o.shiftKey,altKey:y,original:t.util.saveObjectTransform(l)};this._shouldCenterTransform(l,_,y)&&(w.originX="center",w.originY="center"),w.original.originX=b.x,w.original.originY=b.y,this._currentTransform=w,this._beforeTransform(o)}},setCursor:function(o){this.upperCanvasEl.style.cursor=o},_drawSelection:function(o){var l=this._groupSelector,a=new t.Point(l.ex,l.ey),u=t.util.transformPoint(a,this.viewportTransform),g=new t.Point(l.ex+l.left,l.ey+l.top),d=t.util.transformPoint(g,this.viewportTransform),v=Math.min(u.x,d.x),_=Math.min(u.y,d.y),b=Math.max(u.x,d.x),y=Math.max(u.y,d.y),w=this.selectionLineWidth/2;this.selectionColor&&(o.fillStyle=this.selectionColor,o.fillRect(v,_,b-v,y-_)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(o.lineWidth=this.selectionLineWidth,o.strokeStyle=this.selectionBorderColor,v+=w,_+=w,b-=w,y-=w,t.Object.prototype._setLineDash.call(this,o,this.selectionDashArray),o.strokeRect(v,_,b-v,y-_))},findTarget:function(o,l){if(!this.skipTargetFind){var a=!0,u=this.getPointer(o,a),g=this._activeObject,d=this.getActiveObjects(),v,_,b=h(o),y=d.length>1&&!l||d.length===1;if(this.targets=[],y&&g._findTargetCorner(u,b)||d.length>1&&!l&&g===this._searchPossibleTargets([g],u))return g;if(d.length===1&&g===this._searchPossibleTargets([g],u))if(this.preserveObjectStacking)v=g,_=this.targets,this.targets=[];else return g;var w=this._searchPossibleTargets(this._objects,u);return o[this.altSelectionKey]&&w&&v&&w!==v&&(w=v,this.targets=_),w}},_checkTarget:function(o,l,a){if(l&&l.visible&&l.evented&&l.containsPoint(o))if((this.perPixelTargetFind||l.perPixelTargetFind)&&!l.isEditing){var u=this.isTargetTransparent(l,a.x,a.y);if(!u)return!0}else return!0},_searchPossibleTargets:function(o,l){for(var a,u=o.length,g;u--;){var d=o[u],v=d.group?this._normalizePointer(d.group,l):l;if(this._checkTarget(v,d,l)){a=o[u],a.subTargetCheck&&a instanceof t.Group&&(g=this._searchPossibleTargets(a._objects,l),g&&this.targets.push(g));break}}return a},restorePointerVpt:function(o){return t.util.transformPoint(o,t.util.invertTransform(this.viewportTransform))},getPointer:function(o,l){if(this._absolutePointer&&!l)return this._absolutePointer;if(this._pointer&&l)return this._pointer;var a=c(o),u=this.upperCanvasEl,g=u.getBoundingClientRect(),d=g.width||0,v=g.height||0,_;(!d||!v)&&("top"in g&&"bottom"in g&&(v=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(d=Math.abs(g.right-g.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,l||(a=this.restorePointerVpt(a));var b=this.getRetinaScaling();return b!==1&&(a.x/=b,a.y/=b),d===0||v===0?_={width:1,height:1}:_={width:u.width/d,height:u.height/v},{x:a.x*_.width,y:a.y*_.height}},_createUpperCanvas:function(){var o=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),l=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),t.util.addClass(a,"upper-canvas "+o),this.wrapperEl.appendChild(a),this._copyCanvasStyle(l,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(o){var l=this.width||o.width,a=this.height||o.height;t.util.setStyle(o,{position:"absolute",width:l+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),o.width=l,o.height=a,t.util.makeElementUnselectable(o)},_copyCanvasStyle:function(o,l){l.style.cssText=o.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var o=this._activeObject;return o?o.type==="activeSelection"&&o._objects?o._objects.slice(0):[o]:[]},_onObjectRemoved:function(o){o===this._activeObject&&(this.fire("before:selection:cleared",{target:o}),this._discardActiveObject(),this.fire("selection:cleared",{target:o}),o.fire("deselected")),o===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",o)},_fireSelectionEvents:function(o,l){var a=!1,u=this.getActiveObjects(),g=[],d=[];o.forEach(function(v){u.indexOf(v)===-1&&(a=!0,v.fire("deselected",{e:l,target:v}),d.push(v))}),u.forEach(function(v){o.indexOf(v)===-1&&(a=!0,v.fire("selected",{e:l,target:v}),g.push(v))}),o.length>0&&u.length>0?a&&this.fire("selection:updated",{e:l,selected:g,deselected:d}):u.length>0?this.fire("selection:created",{e:l,selected:g}):o.length>0&&this.fire("selection:cleared",{e:l,deselected:d})},setActiveObject:function(o,l){var a=this.getActiveObjects();return this._setActiveObject(o,l),this._fireSelectionEvents(a,l),this},_setActiveObject:function(o,l){return this._activeObject===o||!this._discardActiveObject(l,o)||o.onSelect({e:l})?!1:(this._activeObject=o,!0)},_discardActiveObject:function(o,l){var a=this._activeObject;if(a){if(a.onDeselect({e:o,object:l}))return!1;this._activeObject=null}return!0},discardActiveObject:function(o){var l=this.getActiveObjects(),a=this.getActiveObject();return l.length&&this.fire("before:selection:cleared",{target:a,e:o}),this._discardActiveObject(o),this._fireSelectionEvents(l,o),this},dispose:function(){var o=this.wrapperEl;return this.removeListeners(),o.removeChild(this.upperCanvasEl),o.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(l){t.util.cleanUpJsdomNode(this[l]),this[l]=void 0}.bind(this)),o.parentNode&&o.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(o){var l=this._activeObject;l&&l._renderControls(o)},_toObject:function(o,l,a){var u=this._realizeGroupTransformOnObject(o),g=this.callSuper("_toObject",o,l,a);return this._unwindGroupTransformOnObject(o,u),g},_realizeGroupTransformOnObject:function(o){if(o.group&&o.group.type==="activeSelection"&&this._activeObject===o.group){var l=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],a={};return l.forEach(function(u){a[u]=o[u]}),t.util.addTransformToObject(o,this._activeObject.calcOwnMatrix()),a}else return null},_unwindGroupTransformOnObject:function(o,l){l&&o.set(l)},_setSVGObject:function(o,l,a){var u=this._realizeGroupTransformOnObject(l);this.callSuper("_setSVGObject",o,l,a),this._unwindGroupTransformOnObject(l,u)},setViewportTransform:function(o){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,o)}});for(var f in t.StaticCanvas)f!=="prototype"&&(t.Canvas[f]=t.StaticCanvas[f])}(),function(){var c=t.util.addListener,i=t.util.removeListener,h=3,f=2,o=1,l={passive:!1};function a(u,g){return u.button&&u.button===g-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(c,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(u,g){var d=this.upperCanvasEl,v=this._getEventPrefix();u(t.window,"resize",this._onResize),u(d,v+"down",this._onMouseDown),u(d,v+"move",this._onMouseMove,l),u(d,v+"out",this._onMouseOut),u(d,v+"enter",this._onMouseEnter),u(d,"wheel",this._onMouseWheel),u(d,"contextmenu",this._onContextMenu),u(d,"dblclick",this._onDoubleClick),u(d,"dragover",this._onDragOver),u(d,"dragenter",this._onDragEnter),u(d,"dragleave",this._onDragLeave),u(d,"drop",this._onDrop),this.enablePointerEvents||u(d,"touchstart",this._onTouchStart,l),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](d,"gesture",this._onGesture),eventjs[g](d,"drag",this._onDrag),eventjs[g](d,"orientation",this._onOrientationChange),eventjs[g](d,"shake",this._onShake),eventjs[g](d,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var u=this._getEventPrefix();i(t.document,u+"up",this._onMouseUp),i(t.document,"touchend",this._onTouchEnd,l),i(t.document,u+"move",this._onMouseMove,l),i(t.document,"touchmove",this._onMouseMove,l)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(u,g){this.__onTransformGesture&&this.__onTransformGesture(u,g)},_onDrag:function(u,g){this.__onDrag&&this.__onDrag(u,g)},_onMouseWheel:function(u){this.__onMouseWheel(u)},_onMouseOut:function(u){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:u}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:u});var d=this;this._hoveredTargets.forEach(function(v){d.fire("mouse:out",{target:g,e:u}),v&&g.fire("mouseout",{e:u})}),this._hoveredTargets=[]},_onMouseEnter:function(u){!this._currentTransform&&!this.findTarget(u)&&(this.fire("mouse:over",{target:null,e:u}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(u,g){this.__onOrientationChange&&this.__onOrientationChange(u,g)},_onShake:function(u,g){this.__onShake&&this.__onShake(u,g)},_onLongPress:function(u,g){this.__onLongPress&&this.__onLongPress(u,g)},_onDragOver:function(u){u.preventDefault();var g=this._simpleEventHandler("dragover",u);this._fireEnterLeaveEvents(g,u)},_onDrop:function(u){return this._simpleEventHandler("drop:before",u),this._simpleEventHandler("drop",u)},_onContextMenu:function(u){return this.stopContextMenu&&(u.stopPropagation(),u.preventDefault()),!1},_onDoubleClick:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"dblclick"),this._resetTransformEventData(u)},getPointerId:function(u){var g=u.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?u.pointerId:-1},_isMainEvent:function(u){return u.isPrimary===!0?!0:u.isPrimary===!1?!1:u.type==="touchend"&&u.touches.length===0?!0:u.changedTouches?u.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(u){u.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(u)),this.__onMouseDown(u),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();c(t.document,"touchend",this._onTouchEnd,l),c(t.document,"touchmove",this._onMouseMove,l),i(g,d+"down",this._onMouseDown)},_onMouseDown:function(u){this.__onMouseDown(u),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();i(g,d+"move",this._onMouseMove,l),c(t.document,d+"up",this._onMouseUp),c(t.document,d+"move",this._onMouseMove,l)},_onTouchEnd:function(u){if(!(u.touches.length>0)){this.__onMouseUp(u),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();i(t.document,"touchend",this._onTouchEnd,l),i(t.document,"touchmove",this._onMouseMove,l);var d=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){c(d.upperCanvasEl,g+"down",d._onMouseDown),d._willAddMouseDown=0},400)}},_onMouseUp:function(u){this.__onMouseUp(u),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();this._isMainEvent(u)&&(i(t.document,d+"up",this._onMouseUp),i(t.document,d+"move",this._onMouseMove,l),c(g,d+"move",this._onMouseMove,l))},_onMouseMove:function(u){!this.allowTouchScrolling&&u.preventDefault&&u.preventDefault(),this.__onMouseMove(u)},_onResize:function(){this.calcOffset()},_shouldRender:function(u){var g=this._activeObject;return!!g!=!!u||g&&u&&g!==u?!0:(g&&g.isEditing,!1)},__onMouseUp:function(u){var g,d=this._currentTransform,v=this._groupSelector,_=!1,b=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(u),g=this._target,this._handleEvent(u,"up:before"),a(u,h)){this.fireRightClick&&this._handleEvent(u,"up",h,b);return}if(a(u,f)){this.fireMiddleClick&&this._handleEvent(u,"up",f,b),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(u);return}if(this._isMainEvent(u)){if(d&&(this._finalizeCurrentTransform(u),_=d.actionPerformed),!b){var y=g===this._activeObject;this._maybeGroupObjects(u),_||(_=this._shouldRender(g)||!y&&g===this._activeObject)}var w,C;if(g){if(w=g._findTargetCorner(this.getPointer(u,!0),t.util.isTouchEvent(u)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,u),_=!0;else{var S=g.controls[w],T=S&&S.getMouseUpHandler(u,g,S);T&&(C=this.getPointer(u),T(u,d,C.x,C.y))}g.isMoving=!1}if(d&&(d.target!==g||d.corner!==w)){var j=d.target&&d.target.controls[d.corner],W=j&&j.getMouseUpHandler(u,g,S);C=C||this.getPointer(u),W&&W(u,d,C.x,C.y)}this._setCursorFromEvent(u,g),this._handleEvent(u,"up",o,b),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),_?this.requestRenderAll():b||this.renderTop()}},_simpleEventHandler:function(u,g){var d=this.findTarget(g),v=this.targets,_={e:g,target:d,subTargets:v};if(this.fire(u,_),d&&d.fire(u,_),!v)return d;for(var b=0;b<v.length;b++)v[b].fire(u,_);return d},_handleEvent:function(u,g,d,v){var _=this._target,b=this.targets||[],y={e:u,target:_,subTargets:b,button:d||o,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(y.currentTarget=this.findTarget(u),y.currentSubTargets=this.targets),this.fire("mouse:"+g,y),_&&_.fire("mouse"+g,y);for(var w=0;w<b.length;w++)b[w].fire("mouse"+g,y)},_finalizeCurrentTransform:function(u){var g=this._currentTransform,d=g.target,v={e:u,target:d,transform:g,action:g.action};d._scaling&&(d._scaling=!1),d.setCoords(),(g.actionPerformed||this.stateful&&d.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(u){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(u).requestRenderAll();var g=this.getPointer(u);this.freeDrawingBrush.onMouseDown(g,{e:u,pointer:g}),this._handleEvent(u,"down")},_onMouseMoveInDrawingMode:function(u){if(this._isCurrentlyDrawing){var g=this.getPointer(u);this.freeDrawingBrush.onMouseMove(g,{e:u,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(u,"move")},_onMouseUpInDrawingMode:function(u){var g=this.getPointer(u);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:u,pointer:g}),this._handleEvent(u,"up")},__onMouseDown:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"down:before");var g=this._target;if(a(u,h)){this.fireRightClick&&this._handleEvent(u,"down",h);return}if(a(u,f)){this.fireMiddleClick&&this._handleEvent(u,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(u);return}if(this._isMainEvent(u)&&!this._currentTransform){var d=this._pointer;this._previousPointer=d;var v=this._shouldRender(g),_=this._shouldGroup(u,g);if(this._shouldClearSelection(u,g)?this.discardActiveObject(u):_&&(this._handleGrouping(u,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var b=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,u);var y=g._findTargetCorner(this.getPointer(u,!0),t.util.isTouchEvent(u));if(g.__corner=y,g===this._activeObject&&(y||!_)){this._setupCurrentTransform(u,g,b);var w=g.controls[y],d=this.getPointer(u),C=w&&w.getMouseDownHandler(u,g,w);C&&C(u,this._currentTransform,d.x,d.y)}}this._handleEvent(u,"down"),(v||_)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(u){this._resetTransformEventData(),this._pointer=this.getPointer(u,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(u)||null},_beforeTransform:function(u){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:u,transform:g})},__onMouseMove:function(u){this._handleEvent(u,"move:before"),this._cacheTransformEventData(u);var g,d;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(u);return}if(this._isMainEvent(u)){var v=this._groupSelector;v?(d=this._absolutePointer,v.left=d.x-v.ex,v.top=d.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(u):(g=this.findTarget(u)||null,this._setCursorFromEvent(u,g),this._fireOverOutEvents(g,u)),this._handleEvent(u,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(u,g){var d=this._hoveredTarget,v=this._hoveredTargets,_=this.targets,b=Math.max(v.length,_.length);this.fireSyntheticInOutEvents(u,g,{oldTarget:d,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var y=0;y<b;y++)this.fireSyntheticInOutEvents(_[y],g,{oldTarget:v[y],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=u,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(u,g){var d=this._draggedoverTarget,v=this._hoveredTargets,_=this.targets,b=Math.max(v.length,_.length);this.fireSyntheticInOutEvents(u,g,{oldTarget:d,evtOut:"dragleave",evtIn:"dragenter"});for(var y=0;y<b;y++)this.fireSyntheticInOutEvents(_[y],g,{oldTarget:v[y],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=u},fireSyntheticInOutEvents:function(u,g,d){var v,_,b=d.oldTarget,y,w,C=b!==u,S=d.canvasEvtIn,T=d.canvasEvtOut;C&&(v={e:g,target:u,previousTarget:b},_={e:g,target:b,nextTarget:u}),w=u&&C,y=b&&C,y&&(T&&this.fire(T,_),b.fire(d.evtOut,_)),w&&(S&&this.fire(S,v),u.fire(d.evtIn,v))},__onMouseWheel:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"wheel"),this._resetTransformEventData()},_transformObject:function(u){var g=this.getPointer(u),d=this._currentTransform;d.reset=!1,d.shiftKey=u.shiftKey,d.altKey=u[this.centeredKey],this._performTransformAction(u,d,g),d.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(u,g,d){var v=d.x,_=d.y,b=g.action,y=!1,w=g.actionHandler;w&&(y=w(u,g,v,_)),b==="drag"&&y&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||y},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(u,g){if(!g)return this.setCursor(this.defaultCursor),!1;var d=g.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,_=(!v||!v.contains(g))&&g._findTargetCorner(this.getPointer(u,!0));_?this.setCursor(this.getCornerCursor(_,g,u)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(b){d=b.hoverCursor||d}),this.setCursor(d))},getCornerCursor:function(u,g,d){var v=g.controls[u];return v.cursorStyleHandler(d,v,g)}})}(),function(){var c=Math.min,i=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(h,f){var o=this._activeObject;return o&&this._isSelectionKeyPressed(h)&&f&&f.selectable&&this.selection&&(o!==f||o.type==="activeSelection")&&!f.onSelect({e:h})},_handleGrouping:function(h,f){var o=this._activeObject;o.__corner||f===o&&(f=this.findTarget(h,!0),!f||!f.selectable)||(o&&o.type==="activeSelection"?this._updateActiveSelection(f,h):this._createActiveSelection(f,h))},_updateActiveSelection:function(h,f){var o=this._activeObject,l=o._objects.slice(0);o.contains(h)?(o.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),o.size()===1&&this._setActiveObject(o.item(0),f)):(o.addWithUpdate(h),this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(l,f)},_createActiveSelection:function(h,f){var o=this.getActiveObjects(),l=this._createGroup(h);this._hoveredTarget=l,this._setActiveObject(l,f),this._fireSelectionEvents(o,f)},_createGroup:function(h){var f=this._objects,o=f.indexOf(this._activeObject)<f.indexOf(h),l=o?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(l,{canvas:this})},_groupSelectedObjects:function(h){var f=this._collectObjects(h),o;f.length===1?this.setActiveObject(f[0],h):f.length>1&&(o=new t.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(o,h))},_collectObjects:function(h){for(var f=[],o,l=this._groupSelector.ex,a=this._groupSelector.ey,u=l+this._groupSelector.left,g=a+this._groupSelector.top,d=new t.Point(c(l,u),c(a,g)),v=new t.Point(i(l,u),i(a,g)),_=!this.selectionFullyContained,b=l===u&&a===g,y=this._objects.length;y--&&(o=this._objects[y],!(!(!o||!o.selectable||!o.visible)&&(_&&o.intersectsWithRect(d,v,!0)||o.isContainedWithinRect(d,v,!0)||_&&o.containsPoint(d,null,!0)||_&&o.containsPoint(v,null,!0))&&(f.push(o),b))););return f.length>1&&(f=f.filter(function(w){return!w.onSelect({e:h})})),f},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(c){c||(c={});var i=c.format||"png",h=c.quality||1,f=(c.multiplier||1)*(c.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(f,c);return t.util.toDataURL(o,i,h)},toCanvasElement:function(c,i){c=c||1,i=i||{};var h=(i.width||this.width)*c,f=(i.height||this.height)*c,o=this.getZoom(),l=this.width,a=this.height,u=o*c,g=this.viewportTransform,d=(g[4]-(i.left||0))*c,v=(g[5]-(i.top||0))*c,_=this.interactive,b=[u,0,0,u,d,v],y=this.enableRetinaScaling,w=t.util.createCanvasElement(),C=this.contextTop;return w.width=h,w.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=b,this.width=h,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=g,this.width=l,this.height=a,this.calcViewportBoundaries(),this.interactive=_,this.enableRetinaScaling=y,this.contextTop=C,w}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(c,i,h){if(c){var f=typeof c=="string"?JSON.parse(c):t.util.object.clone(c),o=this,l=f.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(u){o.clear(),o._setBgOverlay(f,function(){l?o._enlivenObjects([l],function(g){o.clipPath=g[0],o.__setupCanvas.call(o,f,u,a,i)}):o.__setupCanvas.call(o,f,u,a,i)})},h),this}},__setupCanvas:function(c,i,h,f){var o=this;i.forEach(function(l,a){o.insertAt(l,a)}),this.renderOnAddRemove=h,delete c.objects,delete c.backgroundImage,delete c.overlayImage,delete c.background,delete c.overlay,this._setOptions(c),this.renderAll(),f&&f()},_setBgOverlay:function(c,i){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!c.backgroundImage&&!c.overlayImage&&!c.background&&!c.overlay){i&&i();return}var f=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",c.backgroundImage,h,f),this.__setBgOverlay("overlayImage",c.overlayImage,h,f),this.__setBgOverlay("backgroundColor",c.background,h,f),this.__setBgOverlay("overlayColor",c.overlay,h,f)},__setBgOverlay:function(c,i,h,f){var o=this;if(!i){h[c]=!0,f&&f();return}c==="backgroundImage"||c==="overlayImage"?t.util.enlivenObjects([i],function(l){o[c]=l[0],h[c]=!0,f&&f()}):this["set"+t.util.string.capitalize(c,!0)](i,function(){h[c]=!0,f&&f()})},_enlivenObjects:function(c,i,h){if(!c||c.length===0){i&&i([]);return}t.util.enlivenObjects(c,function(f){i&&i(f)},null,h)},_toDataURL:function(c,i){this.clone(function(h){i(h.toDataURL(c))})},_toDataURLWithMultiplier:function(c,i,h){this.clone(function(f){h(f.toDataURLWithMultiplier(c,i))})},clone:function(c,i){var h=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(f){f.loadFromJSON(h,function(){c&&c(f)})})},cloneWithoutData:function(c){var i=t.util.createCanvasElement();i.width=this.width,i.height=this.height;var h=new t.Canvas(i);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),c&&c(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):c&&c(h)}}),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.util.object.clone,o=i.util.toFixed,l=i.util.string.capitalize,a=i.util.degreesToRadians,u=!i.isLikelyNode,g=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:u,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(d){d&&this.setOptions(d)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(d){var v=i.perfLimitSizeTotal,_=d.width,b=d.height,y=i.maxCacheSideLimit,w=i.minCacheSideLimit;if(_<=y&&b<=y&&_*b<=v)return _<w&&(d.width=w),b<w&&(d.height=w),d;var C=_/b,S=i.util.limitDimsByArea(C,v),T=i.util.capValue,j=T(w,S.x,y),W=T(w,S.y,y);return _>j&&(d.zoomX/=_/j,d.width=j,d.capped=!0),b>W&&(d.zoomY/=b/W,d.height=W,d.capped=!0),d},_getCacheCanvasDimensions:function(){var d=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),_=v.x*d.scaleX/this.scaleX,b=v.y*d.scaleY/this.scaleY;return{width:_+g,height:b+g,zoomX:d.scaleX,zoomY:d.scaleY,x:_,y:b}},_updateCacheCanvas:function(){var d=this.canvas;if(this.noScaleCache&&d&&d._currentTransform){var v=d._currentTransform.target,_=d._currentTransform.action;if(this===v&&_.slice&&_.slice(0,5)==="scale")return!1}var b=this._cacheCanvas,y=this._limitCacheSize(this._getCacheCanvasDimensions()),w=i.minCacheSideLimit,C=y.width,S=y.height,T,j,W=y.zoomX,V=y.zoomY,H=C!==this.cacheWidth||S!==this.cacheHeight,te=this.zoomX!==W||this.zoomY!==V,se=H||te,le=0,ue=0,X=!1;if(H){var K=this._cacheCanvas.width,x=this._cacheCanvas.height,D=C>K||S>x,F=(C<K*.9||S<x*.9)&&K>w&&x>w;X=D||F,D&&!y.capped&&(C>w||S>w)&&(le=C*.1,ue=S*.1)}return this instanceof i.Text&&this.path&&(se=!0,X=!0,le+=this.getHeightOfLine(0)*this.zoomX,ue+=this.getHeightOfLine(0)*this.zoomY),se?(X?(b.width=Math.ceil(C+le),b.height=Math.ceil(S+ue)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,b.width,b.height)),T=y.x/2,j=y.y/2,this.cacheTranslationX=Math.round(b.width/2-T)+T,this.cacheTranslationY=Math.round(b.height/2-j)+j,this.cacheWidth=C,this.cacheHeight=S,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(W,V),this.zoomX=W,this.zoomY=V,!0):!1},setOptions:function(d){this._setOptions(d),this._initGradient(d.fill,"fill"),this._initGradient(d.stroke,"stroke"),this._initPattern(d.fill,"fill"),this._initPattern(d.stroke,"stroke")},transform:function(d){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&d===this.canvas.contextTop,_=this.calcTransformMatrix(!v);d.transform(_[0],_[1],_[2],_[3],_[4],_[5])},toObject:function(d){var v=i.Object.NUM_FRACTION_DIGITS,_={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:o(this.left,v),top:o(this.top,v),width:o(this.width,v),height:o(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,v),scaleX:o(this.scaleX,v),scaleY:o(this.scaleY,v),angle:o(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,v),skewY:o(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(_.clipPath=this.clipPath.toObject(d),_.clipPath.inverted=this.clipPath.inverted,_.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,_,d),this.includeDefaultValues||(_=this._removeDefaultValues(_)),_},toDatalessObject:function(d){return this.toObject(d)},_removeDefaultValues:function(d){var v=i.util.getKlass(d.type).prototype,_=v.stateProperties;return _.forEach(function(b){b==="left"||b==="top"||(d[b]===v[b]&&delete d[b],Array.isArray(d[b])&&Array.isArray(v[b])&&d[b].length===0&&v[b].length===0&&delete d[b])}),d},toString:function(){return"#<fabric."+l(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var d=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(d.scaleX),scaleY:Math.abs(d.scaleY)}},getTotalObjectScaling:function(){var d=this.getObjectScaling(),v=d.scaleX,_=d.scaleY;if(this.canvas){var b=this.canvas.getZoom(),y=this.canvas.getRetinaScaling();v*=b*y,_*=b*y}return{scaleX:v,scaleY:_}},getObjectOpacity:function(){var d=this.opacity;return this.group&&(d*=this.group.getObjectOpacity()),d},_set:function(d,v){var _=d==="scaleX"||d==="scaleY",b=this[d]!==v,y=!1;return _&&(v=this._constrainScale(v)),d==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):d==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):d==="shadow"&&v&&!(v instanceof i.Shadow)?v=new i.Shadow(v):d==="dirty"&&this.group&&this.group.set("dirty",v),this[d]=v,b&&(y=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(d)>-1?(this.dirty=!0,y&&this.group.set("dirty",!0)):y&&this.stateProperties.indexOf(d)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(d){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(d.save(),this._setupCompositeOperation(d),this.drawSelectionBackground(d),this.transform(d),this._setOpacity(d),this._setShadow(d,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(d)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(d),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),d.restore())},renderCache:function(d){d=d||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,d.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(d,v){if(d.save(),v.inverted?d.globalCompositeOperation="destination-out":d.globalCompositeOperation="destination-in",v.absolutePositioned){var _=i.util.invertTransform(this.calcTransformMatrix());d.transform(_[0],_[1],_[2],_[3],_[4],_[5])}v.transform(d),d.scale(1/v.zoomX,1/v.zoomY),d.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),d.restore()},drawObject:function(d,v){var _=this.fill,b=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(d)):this._renderBackground(d),this._render(d),this._drawClipPath(d,this.clipPath),this.fill=_,this.stroke=b},_drawClipPath:function(d,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(d,v))},drawCacheOnCanvas:function(d){d.scale(1/this.zoomX,1/this.zoomY),d.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(d){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!d&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!d){var v=this.cacheWidth/this.zoomX,_=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-_/2,v,_)}return!0}return!1},_renderBackground:function(d){if(this.backgroundColor){var v=this._getNonTransformedDimensions();d.fillStyle=this.backgroundColor,d.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(d)}},_setOpacity:function(d){this.group&&!this.group._transformDone?d.globalAlpha=this.getObjectOpacity():d.globalAlpha*=this.opacity},_setStrokeStyles:function(d,v){var _=v.stroke;_&&(d.lineWidth=v.strokeWidth,d.lineCap=v.strokeLineCap,d.lineDashOffset=v.strokeDashOffset,d.lineJoin=v.strokeLineJoin,d.miterLimit=v.strokeMiterLimit,_.toLive?_.gradientUnits==="percentage"||_.gradientTransform||_.patternTransform?this._applyPatternForTransformedGradient(d,_):(d.strokeStyle=_.toLive(d,this),this._applyPatternGradientTransform(d,_)):d.strokeStyle=v.stroke)},_setFillStyles:function(d,v){var _=v.fill;_&&(_.toLive?(d.fillStyle=_.toLive(d,this),this._applyPatternGradientTransform(d,v.fill)):d.fillStyle=_)},_setClippingProperties:function(d){d.globalAlpha=1,d.strokeStyle="transparent",d.fillStyle="#000000"},_setLineDash:function(d,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),d.setLineDash(v))},_renderControls:function(d,v){var _=this.getViewportTransform(),b=this.calcTransformMatrix(),y,w,C;v=v||{},w=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,C=typeof v.hasControls<"u"?v.hasControls:this.hasControls,b=i.util.multiplyTransformMatrices(_,b),y=i.util.qrDecompose(b),d.save(),d.translate(y.translateX,y.translateY),d.lineWidth=1*this.borderScaleFactor,this.group||(d.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(y.angle-=180),d.rotate(a(this.group?y.angle:this.angle)),v.forActiveSelection||this.group?w&&this.drawBordersInGroup(d,y,v):w&&this.drawBorders(d,v),C&&this.drawControls(d,v),d.restore()},_setShadow:function(d){if(this.shadow){var v=this.shadow,_=this.canvas,b,y=_&&_.viewportTransform[0]||1,w=_&&_.viewportTransform[3]||1;v.nonScaling?b={scaleX:1,scaleY:1}:b=this.getObjectScaling(),_&&_._isRetinaScaling()&&(y*=i.devicePixelRatio,w*=i.devicePixelRatio),d.shadowColor=v.color,d.shadowBlur=v.blur*i.browserShadowBlurConstant*(y+w)*(b.scaleX+b.scaleY)/4,d.shadowOffsetX=v.offsetX*y*b.scaleX,d.shadowOffsetY=v.offsetY*w*b.scaleY}},_removeShadow:function(d){this.shadow&&(d.shadowColor="",d.shadowBlur=d.shadowOffsetX=d.shadowOffsetY=0)},_applyPatternGradientTransform:function(d,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var _=v.gradientTransform||v.patternTransform,b=-this.width/2+v.offsetX||0,y=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?d.transform(this.width,0,0,this.height,b,y):d.transform(1,0,0,1,b,y),_&&d.transform(_[0],_[1],_[2],_[3],_[4],_[5]),{offsetX:b,offsetY:y}},_renderPaintInOrder:function(d){this.paintFirst==="stroke"?(this._renderStroke(d),this._renderFill(d)):(this._renderFill(d),this._renderStroke(d))},_render:function(){},_renderFill:function(d){this.fill&&(d.save(),this._setFillStyles(d,this),this.fillRule==="evenodd"?d.fill("evenodd"):d.fill(),d.restore())},_renderStroke:function(d){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(d),d.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();d.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&d.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(d,this.strokeDashArray),this._setStrokeStyles(d,this),d.stroke(),d.restore()}},_applyPatternForTransformedGradient:function(d,v){var _=this._limitCacheSize(this._getCacheCanvasDimensions()),b=i.util.createCanvasElement(),y,w=this.canvas.getRetinaScaling(),C=_.x/this.scaleX/w,S=_.y/this.scaleY/w;b.width=C,b.height=S,y=b.getContext("2d"),y.beginPath(),y.moveTo(0,0),y.lineTo(C,0),y.lineTo(C,S),y.lineTo(0,S),y.closePath(),y.translate(C/2,S/2),y.scale(_.zoomX/this.scaleX/w,_.zoomY/this.scaleY/w),this._applyPatternGradientTransform(y,v),y.fillStyle=v.toLive(d),y.fill(),d.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),d.scale(w*this.scaleX/_.zoomX,w*this.scaleY/_.zoomY),d.strokeStyle=y.createPattern(b,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var d=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",d.scaleX),this.set("scaleY",d.scaleY),this.angle=d.angle,this.skewX=d.skewX,this.skewY=0}},_removeTransformMatrix:function(d){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=i.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,d&&(this.scaleX*=d.scaleX,this.scaleY*=d.scaleY,this.cropX=d.cropX,this.cropY=d.cropY,v.x+=d.offsetLeft,v.y+=d.offsetTop,this.width=d.width,this.height=d.height),this.setPositionByOrigin(v,"center","center")},clone:function(d,v){var _=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(_,d):i.Object._fromObject("Object",_,d)},cloneAsImage:function(d,v){var _=this.toCanvasElement(v);return d&&d(new i.Image(_)),this},toCanvasElement:function(d){d||(d={});var v=i.util,_=v.saveObjectTransform(this),b=this.group,y=this.shadow,w=Math.abs,C=(d.multiplier||1)*(d.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,d.withoutTransform&&v.resetObjectTransform(this),d.withoutShadow&&(this.shadow=null);var S=i.util.createCanvasElement(),T=this.getBoundingRect(!0,!0),j=this.shadow,W,V={x:0,y:0},H,te,se;j&&(H=j.blur,j.nonScaling?W={scaleX:1,scaleY:1}:W=this.getObjectScaling(),V.x=2*Math.round(w(j.offsetX)+H)*w(W.scaleX),V.y=2*Math.round(w(j.offsetY)+H)*w(W.scaleY)),te=T.width+V.x,se=T.height+V.y,S.width=Math.ceil(te),S.height=Math.ceil(se);var le=new i.StaticCanvas(S,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});d.format==="jpeg"&&(le.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(le.width/2,le.height/2),"center","center");var ue=this.canvas;le.add(this);var X=le.toCanvasElement(C||1,d);return this.shadow=y,this.set("canvas",ue),b&&(this.group=b),this.set(_).setCoords(),le._objects=[],le.dispose(),le=null,X},toDataURL:function(d){return d||(d={}),i.util.toDataURL(this.toCanvasElement(d),d.format||"png",d.quality||1)},isType:function(d){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===d},complexity:function(){return 1},toJSON:function(d){return this.toObject(d)},rotate:function(d){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",d),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(d,v){v=v||this.canvas.getPointer(d);var _=new i.Point(v.x,v.y),b=this._getLeftTopCoords();return this.angle&&(_=i.util.rotatePoint(_,b,a(-this.angle))),{x:_.x-b.x,y:_.y-b.y}},_setupCompositeOperation:function(d){this.globalCompositeOperation&&(d.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),h(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(d,v,_,b){var y=i[d];v=f(v,!0),i.util.enlivenPatterns([v.fill,v.stroke],function(w){typeof w[0]<"u"&&(v.fill=w[0]),typeof w[1]<"u"&&(v.stroke=w[1]),i.util.enlivenObjectEnlivables(v,v,function(){var C=b?new y(v[b],v):new y(v);_&&_(C)})})},i.Object.__uid=0)}(e),function(){var c=t.util.degreesToRadians,i={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(f,o,l,a,u){var g=f.x,d=f.y,v,_,b;return typeof o=="string"?o=i[o]:o-=.5,typeof a=="string"?a=i[a]:a-=.5,v=a-o,typeof l=="string"?l=h[l]:l-=.5,typeof u=="string"?u=h[u]:u-=.5,_=u-l,(v||_)&&(b=this._getTransformedDimensions(),g=f.x+v*b.x,d=f.y+_*b.y),new t.Point(g,d)},translateToCenterPoint:function(f,o,l){var a=this.translateToGivenOrigin(f,o,l,"center","center");return this.angle?t.util.rotatePoint(a,f,c(this.angle)):a},translateToOriginPoint:function(f,o,l){var a=this.translateToGivenOrigin(f,"center","center",o,l);return this.angle?t.util.rotatePoint(a,f,c(this.angle)):a},getCenterPoint:function(){var f=new t.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,o){var l=this.getCenterPoint();return this.translateToOriginPoint(l,f,o)},toLocalPoint:function(f,o,l){var a=this.getCenterPoint(),u,g;return typeof o<"u"&&typeof l<"u"?u=this.translateToGivenOrigin(a,"center","center",o,l):u=new t.Point(this.left,this.top),g=new t.Point(f.x,f.y),this.angle&&(g=t.util.rotatePoint(g,a,-c(this.angle))),g.subtractEquals(u)},setPositionByOrigin:function(f,o,l){var a=this.translateToCenterPoint(f,o,l),u=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",u.x),this.set("top",u.y)},adjustPosition:function(f){var o=c(this.angle),l=this.getScaledWidth(),a=t.util.cos(o)*l,u=t.util.sin(o)*l,g,d;typeof this.originX=="string"?g=i[this.originX]:g=this.originX-.5,typeof f=="string"?d=i[f]:d=f-.5,this.left+=a*(d-g),this.top+=u*(d-g),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function c(l){return[new t.Point(l.tl.x,l.tl.y),new t.Point(l.tr.x,l.tr.y),new t.Point(l.br.x,l.br.y),new t.Point(l.bl.x,l.bl.y)]}var i=t.util,h=i.degreesToRadians,f=i.multiplyTransformMatrices,o=i.transformPoint;i.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(l,a){return a?l?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),l?this.aCoords:this.lineCoords)},getCoords:function(l,a){return c(this._getCoords(l,a))},intersectsWithRect:function(l,a,u,g){var d=this.getCoords(u,g),v=t.Intersection.intersectPolygonRectangle(d,l,a);return v.status==="Intersection"},intersectsWithObject:function(l,a,u){var g=t.Intersection.intersectPolygonPolygon(this.getCoords(a,u),l.getCoords(a,u));return g.status==="Intersection"||l.isContainedWithinObject(this,a,u)||this.isContainedWithinObject(l,a,u)},isContainedWithinObject:function(l,a,u){for(var g=this.getCoords(a,u),d=a?l.aCoords:l.lineCoords,v=0,_=l._getImageLines(d);v<4;v++)if(!l.containsPoint(g[v],_))return!1;return!0},isContainedWithinRect:function(l,a,u,g){var d=this.getBoundingRect(u,g);return d.left>=l.x&&d.left+d.width<=a.x&&d.top>=l.y&&d.top+d.height<=a.y},containsPoint:function(l,v,u,g){var d=this._getCoords(u,g),v=v||this._getImageLines(d),_=this._findCrossPoints(l,v);return _!==0&&_%2===1},isOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br,g=this.getCoords(!0,l);return g.some(function(d){return d.x<=u.x&&d.x>=a.x&&d.y<=u.y&&d.y>=a.y})||this.intersectsWithRect(a,u,!0,l)?!0:this._containsCenterOfCanvas(a,u,l)},_containsCenterOfCanvas:function(l,a,u){var g={x:(l.x+a.x)/2,y:(l.y+a.y)/2};return!!this.containsPoint(g,null,!0,u)},isPartiallyOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br;if(this.intersectsWithRect(a,u,!0,l))return!0;var g=this.getCoords(!0,l).every(function(d){return(d.x>=u.x||d.x<=a.x)&&(d.y>=u.y||d.y<=a.y)});return g&&this._containsCenterOfCanvas(a,u,l)},_getImageLines:function(l){var a={topline:{o:l.tl,d:l.tr},rightline:{o:l.tr,d:l.br},bottomline:{o:l.br,d:l.bl},leftline:{o:l.bl,d:l.tl}};return a},_findCrossPoints:function(l,a){var u,g,d,v,_,b=0,y;for(var w in a)if(y=a[w],!(y.o.y<l.y&&y.d.y<l.y)&&!(y.o.y>=l.y&&y.d.y>=l.y)&&(y.o.x===y.d.x&&y.o.x>=l.x?_=y.o.x:(u=0,g=(y.d.y-y.o.y)/(y.d.x-y.o.x),d=l.y-u*l.x,v=y.o.y-g*y.o.x,_=-(d-v)/(u-g)),_>=l.x&&(b+=1),b===2))break;return b},getBoundingRect:function(l,a){var u=this.getCoords(l,a);return i.makeBoundingBoxFromPoints(u)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(l){return Math.abs(l)<this.minScaleLimit?l<0?-this.minScaleLimit:this.minScaleLimit:l===0?1e-4:l},scale:function(l){return this._set("scaleX",l),this._set("scaleY",l),this.setCoords()},scaleToWidth:function(l,a){var u=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(l/this.width/u)},scaleToHeight:function(l,a){var u=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(l/this.height/u)},calcLineCoords:function(){var l=this.getViewportTransform(),a=this.padding,u=h(this.angle),g=i.cos(u),d=i.sin(u),v=g*a,_=d*a,b=v+_,y=v-_,w=this.calcACoords(),C={tl:o(w.tl,l),tr:o(w.tr,l),bl:o(w.bl,l),br:o(w.br,l)};return a&&(C.tl.x-=y,C.tl.y-=b,C.tr.x+=b,C.tr.y-=y,C.bl.x-=b,C.bl.y+=y,C.br.x+=y,C.br.y+=b),C},calcOCoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),u=this.getViewportTransform(),g=f(u,a),d=f(g,l),d=f(d,[1/u[0],0,0,1/u[3],0,0]),v=this._calculateCurrentDimensions(),_={};return this.forEachControl(function(b,y,w){_[y]=b.positionHandler(v,d,w)}),_},calcACoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),u=f(a,l),g=this._getTransformedDimensions(),d=g.x/2,v=g.y/2;return{tl:o({x:-d,y:-v},u),tr:o({x:d,y:-v},u),bl:o({x:-d,y:v},u),br:o({x:d,y:v},u)}},setCoords:function(l){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),l?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var l=this.getCenterPoint();return[1,0,0,1,l.x,l.y]},transformMatrixKey:function(l){var a="_",u="";return!l&&this.group&&(u=this.group.transformMatrixKey(l)+a),u+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(l){var a=this.calcOwnMatrix();if(l||!this.group)return a;var u=this.transformMatrixKey(l),g=this.matrixCache||(this.matrixCache={});return g.key===u?g.value:(this.group&&(a=f(this.group.calcTransformMatrix(!1),a)),g.key=u,g.value=a,a)},calcOwnMatrix:function(){var l=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===l)return a.value;var u=this._calcTranslateMatrix(),g={angle:this.angle,translateX:u[4],translateY:u[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=l,a.value=i.composeMatrix(g),a.value},_getNonTransformedDimensions:function(){var l=this.strokeWidth,a=this.width+l,u=this.height+l;return{x:a,y:u}},_getTransformedDimensions:function(l,a){typeof l>"u"&&(l=this.skewX),typeof a>"u"&&(a=this.skewY);var u,g,d,v=l===0&&a===0;if(this.strokeUniform?(g=this.width,d=this.height):(u=this._getNonTransformedDimensions(),g=u.x,d=u.y),v)return this._finalizeDimensions(g*this.scaleX,d*this.scaleY);var _=i.sizeAfterTransform(g,d,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:l,skewY:a});return this._finalizeDimensions(_.x,_.y)},_finalizeDimensions:function(l,a){return this.strokeUniform?{x:l+this.strokeWidth,y:a+this.strokeWidth}:{x:l,y:a}},_calculateCurrentDimensions:function(){var l=this.getViewportTransform(),a=this._getTransformedDimensions(),u=o(a,l,!0);return u.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(c){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,c):this.canvas&&this.canvas.sendBackwards(this,c),this},bringForward:function(c){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,c):this.canvas&&this.canvas.bringForward(this,c),this},moveTo:function(c){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,c):this.canvas&&this.canvas.moveTo(this,c),this}}),function(){function c(h,f){if(f){if(f.toLive)return h+": url(#SVGID_"+f.id+"); ";var o=new t.Color(f),l=h+": "+o.toRgb()+"; ",a=o.getAlpha();return a!==1&&(l+=h+"-opacity: "+a.toString()+"; "),l}else return h+": none; "}var i=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(h){var f=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",l=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",u=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",d=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",_=this.visible?"":" visibility: hidden;",b=h?"":this.getSvgFilter(),y=c("fill",this.fill),w=c("stroke",this.stroke);return[w,"stroke-width: ",o,"; ","stroke-dasharray: ",l,"; ","stroke-linecap: ",u,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",d,"; ",y,"fill-rule: ",f,"; ","opacity: ",v,";",b,_].join("")},getSvgSpanStyles:function(h,f){var o="; ",a=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+o:"",l=h.strokeWidth?"stroke-width: "+h.strokeWidth+o:"",a=a,u=h.fontSize?"font-size: "+h.fontSize+"px"+o:"",g=h.fontStyle?"font-style: "+h.fontStyle+o:"",d=h.fontWeight?"font-weight: "+h.fontWeight+o:"",v=h.fill?c("fill",h.fill):"",_=h.stroke?c("stroke",h.stroke):"",b=this.getSvgTextDecoration(h),y=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return b&&(b="text-decoration: "+b+o),[_,l,a,u,g,d,b,v,y,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(f){return h[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,f){var o=h?this.calcTransformMatrix():this.calcOwnMatrix(),l='transform="'+t.util.matrixToSVG(o);return l+(f||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var f=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,f),'" y="',i(-this.height/2,f),'" width="',i(this.width,f),'" height="',i(this.height,f),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,f){f=f||{};var o=f.reviver,l=f.additionalTransform||"",a=[this.getSvgTransform(!0,l),this.getSvgCommons()].join(""),u=h.indexOf("COMMON_PARTS");return h[u]=a,o?o(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,f){f=f||{};var o=f.noStyle,l=f.reviver,a=o?"":'style="'+this.getSvgStyles()+'" ',u=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,d=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=g&&g.absolutePositioned,_=this.stroke,b=this.fill,y=this.shadow,w,C=[],S,T=h.indexOf("COMMON_PARTS"),j=f.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+t.Object.__uid++,S='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(l)+`</clipPath>
`),v&&C.push("<g ",u,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),v?"":u+this.getSvgCommons(),` >
`),w=[a,d,o?"":this.addPaintOrder()," ",j?'transform="'+j+'" ':""].join(""),h[T]=w,b&&b.toLive&&C.push(b.toSVG(this)),_&&_.toLive&&C.push(_.toSVG(this)),y&&C.push(y.toSVG(this)),g&&C.push(S),C.push(h.join("")),C.push(`</g>
`),v&&C.push(`</g>
`),l?l(C.join("")):C.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var c=t.util.object.extend,i="stateProperties";function h(o,l,a){var u={},g=!0;a.forEach(function(d){u[d]=o[d]}),c(o[l],u,g)}function f(o,l,a){if(o===l)return!0;if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(var u=0,g=o.length;u<g;u++)if(!f(o[u],l[u]))return!1;return!0}else if(o&&typeof o=="object"){var d=Object.keys(o),v;if(!l||typeof l!="object"||!a&&d.length!==Object.keys(l).length)return!1;for(var u=0,g=d.length;u<g;u++)if(v=d[u],!(v==="canvas"||v==="group")&&!f(o[v],l[v]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(o){o=o||i;var l="_"+o;return Object.keys(this[l]).length<this[o].length?!0:!f(this[l],this,!0)},saveState:function(o){var l=o&&o.propertySet||i,a="_"+l;return this[a]?(h(this,a,this[l]),o&&o.stateProperties&&h(this,a,o.stateProperties),this):this.setupState(o)},setupState:function(o){o=o||{};var l=o.propertySet||i;return o.propertySet=l,this["_"+l]={},this.saveState(o),this}})}(),function(){var c=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(i,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=i.x,o=i.y,l,a,u=Object.keys(this.oCoords),g=u.length-1,d;for(this.__corner=0;g>=0;g--)if(d=u[g],!!this.isControlVisible(d)&&(a=this._getImageLines(h?this.oCoords[d].touchCorner:this.oCoords[d].corner),l=this._findCrossPoints({x:f,y:o},a),l!==0&&l%2===1))return this.__corner=d,d;return!1},forEachControl:function(i){for(var h in this.controls)i(this.controls[h],h,this)},_setCornerCoords:function(){var i=this.oCoords;for(var h in i){var f=this.controls[h];i[h].corner=f.calcCornerCoords(this.angle,this.cornerSize,i[h].x,i[h].y,!1),i[h].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,i[h].x,i[h].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var h=this.getCenterPoint(),f=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return i.translate(h.x,h.y),i.scale(1/o[0],1/o[3]),i.rotate(c(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-f.x/2,-f.y/2,f.x,f.y),i.restore(),this},drawBorders:function(i,h){h=h||{};var f=this._calculateCurrentDimensions(),o=this.borderScaleFactor,l=f.x+o,a=f.y+o,u=typeof h.hasControls<"u"?h.hasControls:this.hasControls,g=!1;return i.save(),i.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeRect(-l/2,-a/2,l,a),u&&(i.beginPath(),this.forEachControl(function(d,v,_){d.withConnection&&d.getVisibility(_,v)&&(g=!0,i.moveTo(d.x*l,d.y*a),i.lineTo(d.x*l+d.offsetX,d.y*a+d.offsetY))}),g&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,h,f){f=f||{};var o=t.util.sizeAfterTransform(this.width,this.height,h),l=this.strokeWidth,a=this.strokeUniform,u=this.borderScaleFactor,g=o.x+l*(a?this.canvas.getZoom():h.scaleX)+u,d=o.y+l*(a?this.canvas.getZoom():h.scaleY)+u;return i.save(),this._setLineDash(i,f.borderDashArray||this.borderDashArray),i.strokeStyle=f.borderColor||this.borderColor,i.strokeRect(-g/2,-d/2,g,d),i.restore(),this},drawControls:function(i,h){h=h||{},i.save();var f=this.canvas.getRetinaScaling(),o,l;return i.setTransform(f,0,0,f,0,0),i.strokeStyle=i.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(o=this.group.calcTransformMatrix()),this.forEachControl(function(a,u,g){l=g.oCoords[u],a.getVisibility(g,u)&&(o&&(l=t.util.transformPoint(l,o)),a.render(i,l.x,l.y,h,g))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=h,this},setControlsVisibility:function(i){i||(i={});for(var h in i)this.setControlVisible(h,i[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(c,i){i=i||{};var h=function(){},f=i.onComplete||h,o=i.onChange||h,l=this;return t.util.animate({target:this,startValue:c.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){c.set("left",a),l.requestRenderAll(),o()},onComplete:function(){c.setCoords(),f()}})},fxCenterObjectV:function(c,i){i=i||{};var h=function(){},f=i.onComplete||h,o=i.onChange||h,l=this;return t.util.animate({target:this,startValue:c.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){c.set("top",a),l.requestRenderAll(),o()},onComplete:function(){c.setCoords(),f()}})},fxRemove:function(c,i){i=i||{};var h=function(){},f=i.onComplete||h,o=i.onChange||h,l=this;return t.util.animate({target:this,startValue:c.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){c.set("opacity",a),l.requestRenderAll(),o()},onComplete:function(){l.remove(c),f()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var c=[],i,h,f=[];for(i in arguments[0])c.push(i);for(var o=0,l=c.length;o<l;o++)i=c[o],h=o!==l-1,f.push(this._animate(i,arguments[0][i],arguments[1],h));return f}else return this._animate.apply(this,arguments)},_animate:function(c,i,h,f){var o=this,l;i=i.toString(),h?h=t.util.object.clone(h):h={},~c.indexOf(".")&&(l=c.split("."));var a=o.colorProperties.indexOf(c)>-1||l&&o.colorProperties.indexOf(l[1])>-1,u=l?this.get(l[0])[l[1]]:this.get(c);"from"in h||(h.from=u),a||(~i.indexOf("=")?i=u+parseFloat(i.replace("=","")):i=parseFloat(i));var g={target:this,startValue:h.from,endValue:i,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(d,v,_){return h.abort.call(o,d,v,_)},onChange:function(d,v,_){l?o[l[0]][l[1]]=d:o.set(c,d),!f&&h.onChange&&h.onChange(d,v,_)},onComplete:function(d,v,_){f||(o.setCoords(),h.onComplete&&h.onComplete(d,v,_))}};return a?t.util.animateColor(g.startValue,g.endValue,g.duration,g):t.util.animate(g)}}),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,u){a||(a=[0,0,0,0]),this.callSuper("initialize",u),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(u)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,u){return this.callSuper("_set",a,u),typeof o[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:l({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:l({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var u=this.calcLinePoints();a.moveTo(u.x1,u.y1),a.lineTo(u.x2,u.y2),a.lineWidth=this.strokeWidth;var g=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return h(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(a.y-=this.strokeWidth),this.height===0&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,u=this.y1<=this.y2?-1:1,g=a*this.width*.5,d=u*this.height*.5,v=a*this.width*-.5,_=u*this.height*-.5;return{x1:g,x2:v,y1:d,y2:_}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(a,u,g){g=g||{};var d=i.parseAttributes(a,i.Line.ATTRIBUTE_NAMES),v=[d.x1||0,d.y1||0,d.x2||0,d.y2||0];u(new i.Line(v,h(d,g)))},i.Line.fromObject=function(a,u){function g(v){delete v.points,u&&u(v)}var d=f(a,!0);d.points=[a.x1,a.y1,a.x2,a.y2],i.Object._fromObject("Line",d,g,"points")};function l(a,u){var g=a.origin,d=a.axis1,v=a.axis2,_=a.dimension,b=u.nearest,y=u.center,w=u.farthest;return function(){switch(this.get(g)){case b:return Math.min(this.get(d),this.get(v));case y:return Math.min(this.get(d),this.get(v))+.5*this.get(_);case w:return Math.max(this.get(d),this.get(v))}}}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(o,l){return this.callSuper("_set",o,l),o==="radius"&&this.setRadius(l),this},toObject:function(o){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(o))},_toSVG:function(){var o,l=0,a=0,u=(this.endAngle-this.startAngle)%360;if(u===0)o=["<circle ","COMMON_PARTS",'cx="'+l+'" cy="'+a+'" ','r="',this.radius,`" />
`];else{var g=h(this.startAngle),d=h(this.endAngle),v=this.radius,_=i.util.cos(g)*v,b=i.util.sin(g)*v,y=i.util.cos(d)*v,w=i.util.sin(d)*v,C=u>180?"1":"0";o=['<path d="M '+_+" "+b," A "+v+" "+v," 0 ",+C+" 1"," "+y+" "+w,'" ',"COMMON_PARTS",` />
`]}return o},_render:function(o){o.beginPath(),o.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(o)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(o){return this.radius=o,this.set("width",o*2).set("height",o*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(o,l){var a=i.parseAttributes(o,i.Circle.ATTRIBUTE_NAMES);if(!f(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,l(new i.Circle(a))};function f(o){return"radius"in o&&o.radius>=0}i.Circle.fromObject=function(o,l){i.Object._fromObject("Circle",o,l)}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(h){var f=this.width/2,o=this.height/2;h.beginPath(),h.moveTo(-f,o),h.lineTo(0,-o),h.lineTo(f,o),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,f=this.height/2,o=[-h+" "+f,"0 "+-f,h+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',o,'" />']}}),i.Triangle.fromObject=function(h,f){return i.Object._fromObject("Triangle",h,f)}}(e),function(c){var i=c.fabric||(c.fabric={}),h=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,o){switch(this.callSuper("_set",f,o),f){case"rx":this.rx=o,this.set("width",o*2);break;case"ry":this.ry=o,this.set("height",o*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,h,!1),f.restore(),this._renderPaintInOrder(f)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(f,o){var l=i.parseAttributes(f,i.Ellipse.ATTRIBUTE_NAMES);l.left=(l.left||0)-l.rx,l.top=(l.top||0)-l.ry,o(new i.Ellipse(l))},i.Ellipse.fromObject=function(f,o){i.Object._fromObject("Ellipse",f,o)}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var o=this.rx?Math.min(this.rx,this.width/2):0,l=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,u=this.height,g=-this.width/2,d=-this.height/2,v=o!==0||l!==0,_=1-.5522847498;f.beginPath(),f.moveTo(g+o,d),f.lineTo(g+a-o,d),v&&f.bezierCurveTo(g+a-_*o,d,g+a,d+_*l,g+a,d+l),f.lineTo(g+a,d+u-l),v&&f.bezierCurveTo(g+a,d+u-_*l,g+a-_*o,d+u,g+a-o,d+u),f.lineTo(g+o,d+u),v&&f.bezierCurveTo(g+_*o,d+u,g,d+u-_*l,g,d+u-l),f.lineTo(g,d+l),v&&f.bezierCurveTo(g,d+_*l,g+_*o,d,g+o,d),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,o=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',o,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(f,o,l){if(!f)return o(null);l=l||{};var a=i.parseAttributes(f,i.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var u=new i.Rect(h(l?i.util.object.clone(l):{},a));u.visible=u.visible&&u.width>0&&u.height>0,o(u)},i.Rect.fromObject=function(f,o){return i.Object._fromObject("Rect",f,o)}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.util.array.min,o=i.util.array.max,l=i.util.toFixed,a=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(u,g){g=g||{},this.points=u||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(u){var g=this._calcDimensions(u),d,v=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-v,this.height=g.height-v,u.fromSVG||(d=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+v/2,y:g.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof u.left>"u"&&(this.left=u.fromSVG?g.left:d.x),typeof u.top>"u"&&(this.top=u.fromSVG?g.top:d.y),this.pathOffset={x:g.left+this.width/2+v/2,y:g.top+this.height/2+v/2}},_calcDimensions:function(){var u=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=f(u,"x")||0,d=f(u,"y")||0,v=o(u,"x")||0,_=o(u,"y")||0,b=v-g,y=_-d;return{left:g,top:d,width:b,height:y}},toObject:function(u){return h(this.callSuper("toObject",u),{points:this.points.concat()})},_toSVG:function(){for(var u=[],g=this.pathOffset.x,d=this.pathOffset.y,v=i.Object.NUM_FRACTION_DIGITS,_=0,b=this.points.length;_<b;_++)u.push(l(this.points[_].x-g,v),",",l(this.points[_].y-d,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',u.join(""),`" />
`]},commonRender:function(u){var g,d=this.points.length,v=this.pathOffset.x,_=this.pathOffset.y;if(!d||isNaN(this.points[d-1].y))return!1;u.beginPath(),u.moveTo(this.points[0].x-v,this.points[0].y-_);for(var b=0;b<d;b++)g=this.points[b],u.lineTo(g.x-v,g.y-_);return!0},_render:function(u){this.commonRender(u)&&this._renderPaintInOrder(u)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(u){return function(g,d,v){if(!g)return d(null);v||(v={});var _=i.parsePointsAttribute(g.getAttribute("points")),b=i.parseAttributes(g,i[u].ATTRIBUTE_NAMES);b.fromSVG=!0,d(new i[u](_,h(b,v)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(u,g){return i.Object._fromObject("Polyline",u,g,"points")}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(f){this.commonRender(f)&&(f.closePath(),this._renderPaintInOrder(f))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(f,o){i.Object._fromObject("Polygon",f,o,"points")}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.array.min,f=i.util.array.max,o=i.util.object.extend,l=i.util.object.clone,a=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(u,g){g=l(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(u||[],g)},_setPath:function(u,g){this.path=i.util.makePathSimpler(Array.isArray(u)?u:i.util.parsePath(u)),i.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(u){var g,d=0,v=0,_=0,b=0,y=0,w=0,C=-this.pathOffset.x,S=-this.pathOffset.y;u.beginPath();for(var T=0,j=this.path.length;T<j;++T)switch(g=this.path[T],g[0]){case"L":_=g[1],b=g[2],u.lineTo(_+C,b+S);break;case"M":_=g[1],b=g[2],d=_,v=b,u.moveTo(_+C,b+S);break;case"C":_=g[5],b=g[6],y=g[3],w=g[4],u.bezierCurveTo(g[1]+C,g[2]+S,y+C,w+S,_+C,b+S);break;case"Q":u.quadraticCurveTo(g[1]+C,g[2]+S,g[3]+C,g[4]+S),_=g[3],b=g[4],y=g[1],w=g[2];break;case"z":case"Z":_=d,b=v,u.closePath();break}},_render:function(u){this._renderPathCommands(u),this._renderPaintInOrder(u)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(u){return o(this.callSuper("toObject",u),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(u){var g=this.toObject(["sourcePath"].concat(u));return g.sourcePath&&delete g.path,g},_toSVG:function(){var u=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',u,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var u=i.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,u)+", "+a(-this.pathOffset.y,u)+")"},toClipPathSVG:function(u){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:g})},toSVG:function(u){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var u=[],g=[],d,v=0,_=0,b=0,y=0,w,C=0,S=this.path.length;C<S;++C){switch(d=this.path[C],d[0]){case"L":b=d[1],y=d[2],w=[];break;case"M":b=d[1],y=d[2],v=b,_=y,w=[];break;case"C":w=i.util.getBoundsOfCurve(b,y,d[1],d[2],d[3],d[4],d[5],d[6]),b=d[5],y=d[6];break;case"Q":w=i.util.getBoundsOfCurve(b,y,d[1],d[2],d[1],d[2],d[3],d[4]),b=d[3],y=d[4];break;case"z":case"Z":b=v,y=_;break}w.forEach(function(se){u.push(se.x),g.push(se.y)}),u.push(b),g.push(y)}var T=h(u)||0,j=h(g)||0,W=f(u)||0,V=f(g)||0,H=W-T,te=V-j;return{left:T,top:j,width:H,height:te}}}),i.Path.fromObject=function(u,g){if(typeof u.sourcePath=="string"){var d=u.sourcePath;i.loadSVGFromURL(d,function(v){var _=v[0];_.setOptions(u),u.clipPath?i.util.enlivenObjects([u.clipPath],function(b){_.clipPath=b[0],g&&g(_)}):g&&g(_)})}else i.Object._fromObject("Path",u,g,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(u,g,d){var v=i.parseAttributes(u,i.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,g(new i.Path(v.d,o(v,d)))}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.array.min,f=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(o,l,a){l=l||{},this._objects=[],a&&this.callSuper("initialize",l),this._objects=o||[];for(var u=this._objects.length;u--;)this._objects[u].group=this;if(a)this._updateObjectsACoords();else{var g=l&&l.centerPoint;l.originX!==void 0&&(this.originX=l.originX),l.originY!==void 0&&(this.originY=l.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete l.centerPoint,this.callSuper("initialize",l)}this.setCoords()},_updateObjectsACoords:function(){for(var o=!0,l=this._objects.length;l--;)this._objects[l].setCoords(o)},_updateObjectsCoords:function(l){for(var l=l||this.getCenterPoint(),a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],l)},_updateObjectCoords:function(o,l){var a=o.left,u=o.top,g=!0;o.set({left:a-l.x,top:u-l.y}),o.group=this,o.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(o){var l=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),o&&(l&&i.util.removeTransformFromObject(o,this.group.calcTransformMatrix()),this._objects.push(o),o.group=this,o._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,l?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(o){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(o),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(o){this.dirty=!0,o.group=this,o._set("canvas",this.canvas)},_onObjectRemoved:function(o){this.dirty=!0,delete o.group},_set:function(o,l){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(o,l);if(o==="canvas")for(;a--;)this._objects[a]._set(o,l);i.Object.prototype._set.call(this,o,l)},toObject:function(o){var l=this.includeDefaultValues,a=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var d=g.includeDefaultValues;g.includeDefaultValues=l;var v=g.toObject(o);return g.includeDefaultValues=d,v}),u=i.Object.prototype.toObject.call(this,o);return u.objects=a,u},toDatalessObject:function(o){var l,a=this.sourcePath;if(a)l=a;else{var u=this.includeDefaultValues;l=this._objects.map(function(d){var v=d.includeDefaultValues;d.includeDefaultValues=u;var _=d.toDatalessObject(o);return d.includeDefaultValues=v,_})}var g=i.Object.prototype.toDatalessObject.call(this,o);return g.objects=l,g},render:function(o){this._transformDone=!0,this.callSuper("render",o),this._transformDone=!1},shouldCache:function(){var o=i.Object.prototype.shouldCache.call(this);if(o){for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].willDrawShadow())return this.ownCaching=!1,!1}return o},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var o=0,l=this._objects.length;o<l;o++)if(this._objects[o].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(o){for(var l=0,a=this._objects.length;l<a;l++)this._objects[l].render(o);this._drawClipPath(o,this.clipPath)},isCacheDirty:function(o){if(this.callSuper("isCacheDirty",o))return!0;if(!this.statefullCache)return!1;for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].isCacheDirty(!0)){if(this._cacheCanvas){var u=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-u/2,-g/2,u,g)}return!0}return!1},_restoreObjectsState:function(){var o=this.calcOwnMatrix();return this._objects.forEach(function(l){i.util.addTransformToObject(l,o),delete l.group,l.setCoords()}),this},destroy:function(){return this._objects.forEach(function(o){o.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var o=this._objects,l=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var u=new i.ActiveSelection([]);return u.set(a),u.type="activeSelection",l.remove(this),o.forEach(function(g){g.group=u,g.dirty=!0,l.add(g)}),u.canvas=l,u._objects=o,l._activeObject=u,u.setCoords(),u}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var o=!0;return this.forEachObject(function(l){l.setCoords(o)}),this},_calcBounds:function(o){for(var l=[],a=[],u,g,d,v=["tr","br","bl","tl"],_=0,b=this._objects.length,y,w=v.length;_<b;++_){for(u=this._objects[_],d=u.calcACoords(),y=0;y<w;y++)g=v[y],l.push(d[g].x),a.push(d[g].y);u.aCoords=d}this._getBounds(l,a,o)},_getBounds:function(o,l,a){var u=new i.Point(h(o),h(l)),g=new i.Point(f(o),f(l)),d=u.y||0,v=u.x||0,_=g.x-u.x||0,b=g.y-u.y||0;this.width=_,this.height=b,a||this.setPositionByOrigin({x:v,y:d},"left","top")},_toSVG:function(o){for(var l=["<g ","COMMON_PARTS",` >
`],a=0,u=this._objects.length;a<u;a++)l.push("		",this._objects[a].toSVG(o));return l.push(`</g>
`),l},getSvgStyles:function(){var o=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",l=this.visible?"":" visibility: hidden;";return[o,this.getSvgFilter(),l].join("")},toClipPathSVG:function(o){for(var l=[],a=0,u=this._objects.length;a<u;a++)l.push("	",this._objects[a].toClipPathSVG(o));return this._createBaseClipPathSVGMarkup(l,{reviver:o})}}),i.Group.fromObject=function(o,l){var a=o.objects,u=i.util.object.clone(o,!0);if(delete u.objects,typeof a=="string"){i.loadSVGFromURL(a,function(g){var d=i.util.groupSVGElements(g,o,a),v=u.clipPath;delete u.clipPath,d.set(u),v?i.util.enlivenObjects([v],function(_){d.clipPath=_[0],l&&l(d)}):l&&l(d)});return}i.util.enlivenObjects(a,function(g){i.util.enlivenObjectEnlivables(o,u,function(){l&&l(new i.Group(g,u,!0))})})})}(e),function(c){var i=c.fabric||(c.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(h,f){f=f||{},this._objects=h||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var f=i.Object.prototype.toObject.call(this),o=new i.Group([]);if(delete f.type,o.set(f),h.forEach(function(a){a.canvas.remove(a),a.group=o}),o._objects=h,!this.canvas)return o;var l=this.canvas;return l.add(o),l._activeObject=o,o.setCoords(),o},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,f,o){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,f),o=o||{},typeof o.hasControls>"u"&&(o.hasControls=!1),o.forActiveSelection=!0;for(var l=0,a=this._objects.length;l<a;l++)this._objects[l]._renderControls(h,o);h.restore()}}),i.ActiveSelection.fromObject=function(h,f){i.util.enlivenObjects(h.objects,function(o){delete h.objects,f&&f(new i.ActiveSelection(o,h,!0))})})}(e),function(c){var i=t.util.object.extend;if(c.fabric||(c.fabric={}),c.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,f){f||(f={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",f),this._initElement(h,f)},getElement:function(){return this._element||{}},setElement:function(h,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var f=t.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(h){t.util.cleanUpJsdomNode(this[h]),this[h]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,o=this.height/2;h.beginPath(),h.moveTo(-f,-o),h.lineTo(f,-o),h.lineTo(f,o),h.lineTo(-f,o),h.lineTo(-f,-o),h.closePath()}},toObject:function(h){var f=[];this.filters.forEach(function(l){l&&f.push(l.toObject())});var o=i(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(o.resizeFilter=this.resizeFilter.toObject()),o},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],f=[],o,l=this._element,a=-this.width/2,u=-this.height/2,g="",d="";if(!l)return[];if(this.hasCrop()){var v=t.Object.__uid++;h.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+a+'" y="'+u+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(d='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',u-this.cropY,'" width="',l.width||l.naturalWidth,'" height="',l.height||l.height,d,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var _=this.fill;this.fill=null,o=["	<rect ",'x="',a,'" y="',u,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=_}return this.paintFirst!=="fill"?h=h.concat(o,f):h=h.concat(f,o),h},getSrc:function(h){var f=h?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(h,f,o){return t.util.loadImage(h,function(l,a){this.setElement(l,o),this._setWidthHeight(),f&&f(this,a)},this,o&&o.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,f=this.minimumScaleTrigger,o=this.getTotalObjectScaling(),l=o.scaleX,a=o.scaleY,u=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||l>f&&a>f){this._element=u,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=l,this._lastScaleY=a;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var g=t.util.createCanvasElement(),d=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=u.width,_=u.height;g.width=v,g.height=_,this._element=g,this._lastScaleX=h.scaleX=l,this._lastScaleY=h.scaleY=a,t.filterBackend.applyFilters([h],u,v,_,this._element,d),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(u){return u&&!u.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,o=f.naturalWidth||f.width,l=f.naturalHeight||f.height;if(this._element===this._originalElement){var a=t.util.createCanvasElement();a.width=o,a.height=l,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,o,l),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(h,this._originalElement,o,l,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var f=this._element;if(f){var o=this._filterScalingX,l=this._filterScalingY,a=this.width,u=this.height,g=Math.min,d=Math.max,v=d(this.cropX,0),_=d(this.cropY,0),b=f.naturalWidth||f.width,y=f.naturalHeight||f.height,w=v*o,C=_*l,S=g(a*o,b-w),T=g(u*l,y-C),j=-a/2,W=-u/2,V=g(a,b/o-v),H=g(u,y/l-_);f&&h.drawImage(f,w,C,S,T,j,W,V,H)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,f){this.setElement(t.util.getById(h),f),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,f){h&&h.length?t.util.enlivenObjects(h,function(o){f&&f(o)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(h){h||(h={});var f=this.getElement();this.width=h.width||f.naturalWidth||f.width||0,this.height=h.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var h=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,o=this._element.height,l=1,a=1,u=0,g=0,d=0,v=0,_,b=this.width,y=this.height,w={width:b,height:y};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(l=a=t.util.findScaleToFit(this._element,w),_=(b-f*l)/2,h.alignX==="Min"&&(u=-_),h.alignX==="Max"&&(u=_),_=(y-o*a)/2,h.alignY==="Min"&&(g=-_),h.alignY==="Max"&&(g=_)),h.meetOrSlice==="slice"&&(l=a=t.util.findScaleToCover(this._element,w),_=f-b/l,h.alignX==="Mid"&&(d=_/2),h.alignX==="Max"&&(d=_),_=o-y/a,h.alignY==="Mid"&&(v=_/2),h.alignY==="Max"&&(v=_),f=b/l,o=y/a)):(l=b/f,a=y/o),{width:f,height:o,scaleX:l,scaleY:a,offsetLeft:u,offsetTop:g,cropX:d,cropY:v}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(h,f){var o=t.util.object.clone(h);t.util.loadImage(o.src,function(l,a){if(a){f&&f(null,!0);return}t.Image.prototype._initFilters.call(o,o.filters,function(u){o.filters=u||[],t.Image.prototype._initFilters.call(o,[o.resizeFilter],function(g){o.resizeFilter=g[0],t.util.enlivenObjectEnlivables(o,o,function(){var d=new t.Image(l,o);f(d,!1)})})})},null,o.crossOrigin)},t.Image.fromURL=function(h,f,o){t.util.loadImage(h,function(l,a){f&&f(new t.Image(l,o),a)},null,o&&o.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(h,f,o){var l=t.parseAttributes(h,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(l["xlink:href"],f,i(o?t.util.object.clone(o):{},l))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var c=this.angle%360;return c>0?Math.round((c-1)/90)*90:Math.round(c/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(c){c=c||{};var i=function(){},h=c.onComplete||i,f=c.onChange||i,o=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(l){o.rotate(l),f()},onComplete:function(){o.setCoords(),h()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(c){return c.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(c){return c.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function c(h,f){var o="precision "+f+` float;
void main(){}`,l=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(l,o),h.compileShader(l),!!h.getShaderParameter(l,h.COMPILE_STATUS)}t.isWebglSupported=function(h){if(t.isLikelyNode)return!1;h=h||t.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),o=f.getContext("webgl")||f.getContext("experimental-webgl"),l=!1;if(o){t.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),l=t.maxTextureSize>=h;for(var a=["highp","mediump","lowp"],u=0;u<3;u++)if(c(o,a[u])){t.webGlPrecision=a[u];break}}return this.isSupported=l,l},t.WebglFilterBackend=i;function i(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(h,f){this.dispose(),this.createWebGLCanvas(h,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,f)},chooseFastestCopyGLTo2DMethod:function(h,f){var o=typeof window.performance<"u",l;try{new ImageData(1,1),l=!0}catch{l=!1}var a=typeof ArrayBuffer<"u",u=typeof Uint8ClampedArray<"u";if(o&&l&&a&&u){var g=t.util.createCanvasElement(),d=new ArrayBuffer(h*f*4);if(t.forceGLPutImageData){this.imageBuffer=d,this.copyGLTo2D=m;return}var v={imageBuffer:d,destinationWidth:h,destinationHeight:f,targetCanvas:g},_,b,y;g.width=h,g.height=f,_=window.performance.now(),p.call(v,this.gl,v),b=window.performance.now()-_,_=window.performance.now(),m.call(v,this.gl,v),y=window.performance.now()-_,b>y?(this.imageBuffer=d,this.copyGLTo2D=m):this.copyGLTo2D=p}},createWebGLCanvas:function(h,f){var o=t.util.createCanvasElement();o.width=h,o.height=f;var l={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=o.getContext("webgl",l);a||(a=o.getContext("experimental-webgl",l)),a&&(a.clearColor(0,0,0,0),this.canvas=o,this.gl=a)},applyFilters:function(h,f,o,l,a,u){var g=this.gl,d;u&&(d=this.getCachedTexture(u,f));var v={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:o,sourceHeight:l,destinationWidth:o,destinationHeight:l,context:g,sourceTexture:this.createTexture(g,o,l,!d&&f),targetTexture:this.createTexture(g,o,l),originalTexture:d||this.createTexture(g,o,l,!d&&f),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},_=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,_),h.forEach(function(b){b&&b.applyTo(v)}),s(v),this.copyGLTo2D(g,v),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(v.sourceTexture),g.deleteTexture(v.targetTexture),g.deleteFramebuffer(_),a.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,f,o,l,a){var u=h.createTexture();return h.bindTexture(h.TEXTURE_2D,u),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,a||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,a||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),l?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,l):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,f,o,0,h.RGBA,h.UNSIGNED_BYTE,null),u},getCachedTexture:function(h,f){if(this.textureCache[h])return this.textureCache[h];var o=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[h]=o,o},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:p,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,f={renderer:"",vendor:""};if(!h)return f;var o=h.getExtension("WEBGL_debug_renderer_info");if(o){var l=h.getParameter(o.UNMASKED_RENDERER_WEBGL),a=h.getParameter(o.UNMASKED_VENDOR_WEBGL);l&&(f.renderer=l.toLowerCase()),a&&(f.vendor=a.toLowerCase())}return this.gpuInfo=f,f}}}();function s(c){var i=c.targetCanvas,h=i.width,f=i.height,o=c.destinationWidth,l=c.destinationHeight;(h!==o||f!==l)&&(i.width=o,i.height=l)}function p(c,i){var h=c.canvas,f=i.targetCanvas,o=f.getContext("2d");o.translate(0,f.height),o.scale(1,-1);var l=h.height-f.height;o.drawImage(h,0,l,f.width,f.height,0,0,f.width,f.height)}function m(c,i){var h=i.targetCanvas,f=h.getContext("2d"),o=i.destinationWidth,l=i.destinationHeight,a=o*l*4,u=new Uint8Array(this.imageBuffer,0,a),g=new Uint8ClampedArray(this.imageBuffer,0,a);c.readPixels(0,0,o,l,c.RGBA,c.UNSIGNED_BYTE,u);var d=new ImageData(g,o,l);f.putImageData(d,0,0)}(function(){var c=function(){};t.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:c,dispose:c,clearWebGLCaches:c,resources:{},applyFilters:function(h,f,o,l,a){var u=a.getContext("2d");u.drawImage(f,0,0,o,l);var g=u.getImageData(0,0,o,l),d=u.getImageData(0,0,o,l),v={sourceWidth:o,sourceHeight:l,imageData:g,originalEl:f,originalImageData:d,canvasEl:a,ctx:u,filterBackend:this};return h.forEach(function(_){_.applyTo(v)}),(v.imageData.width!==o||v.imageData.height!==l)&&(a.width=v.imageData.width,a.height=v.imageData.height),u.putImageData(v.imageData,0,0),v}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(c){c&&this.setOptions(c)},setOptions:function(c){for(var i in c)this[i]=c[i]},createProgram:function(c,i,h){i=i||this.fragmentSource,h=h||this.vertexSource,t.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var f=c.createShader(c.VERTEX_SHADER);if(c.shaderSource(f,h),c.compileShader(f),!c.getShaderParameter(f,c.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+c.getShaderInfoLog(f));var o=c.createShader(c.FRAGMENT_SHADER);if(c.shaderSource(o,i),c.compileShader(o),!c.getShaderParameter(o,c.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+c.getShaderInfoLog(o));var l=c.createProgram();if(c.attachShader(l,f),c.attachShader(l,o),c.linkProgram(l),!c.getProgramParameter(l,c.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+c.getProgramInfoLog(l));var a=this.getAttributeLocations(c,l),u=this.getUniformLocations(c,l)||{};return u.uStepW=c.getUniformLocation(l,"uStepW"),u.uStepH=c.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:a,uniformLocations:u}},getAttributeLocations:function(c,i){return{aPosition:c.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(c,i,h){var f=i.aPosition,o=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,o),c.enableVertexAttribArray(f),c.vertexAttribPointer(f,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,h,c.STATIC_DRAW)},_setupFrameBuffer:function(c){var i=c.context,h,f;c.passes>1?(h=c.destinationWidth,f=c.destinationHeight,(c.sourceWidth!==h||c.sourceHeight!==f)&&(i.deleteTexture(c.targetTexture),c.targetTexture=c.filterBackend.createTexture(i,h,f)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,c.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(c){c.passes--,c.pass++;var i=c.targetTexture;c.targetTexture=c.sourceTexture,c.sourceTexture=i},isNeutralState:function(){var c=this.mainParameter,i=t.Image.filters[this.type].prototype;if(c)if(Array.isArray(i[c])){for(var h=i[c].length;h--;)if(this[c][h]!==i[c][h])return!1;return!0}else return i[c]===this[c];else return!1},applyTo:function(c){c.webgl?(this._setupFrameBuffer(c),this.applyToWebGL(c),this._swapTextures(c)):this.applyTo2d(c)},retrieveShader:function(c){return c.programCache.hasOwnProperty(this.type)||(c.programCache[this.type]=this.createProgram(c.context)),c.programCache[this.type]},applyToWebGL:function(c){var i=c.context,h=this.retrieveShader(c);c.pass===0&&c.originalTexture?i.bindTexture(i.TEXTURE_2D,c.originalTexture):i.bindTexture(i.TEXTURE_2D,c.sourceTexture),i.useProgram(h.program),this.sendAttributeData(i,h.attributeLocations,c.aPosition),i.uniform1f(h.uniformLocations.uStepW,1/c.sourceWidth),i.uniform1f(h.uniformLocations.uStepH,1/c.sourceHeight),this.sendUniformData(i,h.uniformLocations),i.viewport(0,0,c.destinationWidth,c.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(c,i,h){c.activeTexture(h),c.bindTexture(c.TEXTURE_2D,i),c.activeTexture(c.TEXTURE0)},unbindAdditionalTexture:function(c,i){c.activeTexture(i),c.bindTexture(c.TEXTURE_2D,null),c.activeTexture(c.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(c){this[this.mainParameter]=c},sendUniformData:function(){},createHelpLayer:function(c){if(!c.helpLayer){var i=document.createElement("canvas");i.width=c.sourceWidth,i.height=c.sourceHeight,c.helpLayer=i}},toObject:function(){var c={type:this.type},i=this.mainParameter;return i&&(c[i]=this[i]),c},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(c,i){var h=new t.Image.filters[c.type](c);return i&&i(h),h},function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.ColorMatrix=f(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(o){this.callSuper("initialize",o),this.matrix=this.matrix.slice(0)},applyTo2d:function(o){var l=o.imageData,a=l.data,u=a.length,g=this.matrix,d,v,_,b,y,w=this.colorsOnly;for(y=0;y<u;y+=4)d=a[y],v=a[y+1],_=a[y+2],w?(a[y]=d*g[0]+v*g[1]+_*g[2]+g[4]*255,a[y+1]=d*g[5]+v*g[6]+_*g[7]+g[9]*255,a[y+2]=d*g[10]+v*g[11]+_*g[12]+g[14]*255):(b=a[y+3],a[y]=d*g[0]+v*g[1]+_*g[2]+b*g[3]+g[4]*255,a[y+1]=d*g[5]+v*g[6]+_*g[7]+b*g[8]+g[9]*255,a[y+2]=d*g[10]+v*g[11]+_*g[12]+b*g[13]+g[14]*255,a[y+3]=d*g[15]+v*g[16]+_*g[17]+b*g[18]+g[19]*255)},getUniformLocations:function(o,l){return{uColorMatrix:o.getUniformLocation(l,"uColorMatrix"),uConstants:o.getUniformLocation(l,"uConstants")}},sendUniformData:function(o,l){var a=this.matrix,u=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],g=[a[4],a[9],a[14],a[19]];o.uniformMatrix4fv(l.uColorMatrix,!1,u),o.uniform4fv(l.uConstants,g)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Brightness=f(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(o){if(this.brightness!==0){var l=o.imageData,a=l.data,u,g=a.length,d=Math.round(this.brightness*255);for(u=0;u<g;u+=4)a[u]=a[u]+d,a[u+1]=a[u+1]+d,a[u+2]=a[u+2]+d}},getUniformLocations:function(o,l){return{uBrightness:o.getUniformLocation(l,"uBrightness")}},sendUniformData:function(o,l){o.uniform1f(l.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.Convolute=o(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(l){var a=Math.sqrt(this.matrix.length),u=this.type+"_"+a+"_"+(this.opaque?1:0),g=this.fragmentSource[u];return l.programCache.hasOwnProperty(u)||(l.programCache[u]=this.createProgram(l.context,g)),l.programCache[u]},applyTo2d:function(l){var a=l.imageData,u=a.data,g=this.matrix,d=Math.round(Math.sqrt(g.length)),v=Math.floor(d/2),_=a.width,b=a.height,y=l.ctx.createImageData(_,b),w=y.data,C=this.opaque?1:0,S,T,j,W,V,H,te,se,le,ue,X,K,x;for(X=0;X<b;X++)for(ue=0;ue<_;ue++){for(V=(X*_+ue)*4,S=0,T=0,j=0,W=0,x=0;x<d;x++)for(K=0;K<d;K++)te=X+x-v,H=ue+K-v,!(te<0||te>=b||H<0||H>=_)&&(se=(te*_+H)*4,le=g[x*d+K],S+=u[se]*le,T+=u[se+1]*le,j+=u[se+2]*le,C||(W+=u[se+3]*le));w[V]=S,w[V+1]=T,w[V+2]=j,C?w[V+3]=u[V+3]:w[V+3]=W}l.imageData=y},getUniformLocations:function(l,a){return{uMatrix:l.getUniformLocation(a,"uMatrix"),uOpaque:l.getUniformLocation(a,"uOpaque"),uHalfSize:l.getUniformLocation(a,"uHalfSize"),uSize:l.getUniformLocation(a,"uSize")}},sendUniformData:function(l,a){l.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Grayscale=f(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(o){var l=o.imageData,a=l.data,u,g=a.length,d,v=this.mode;for(u=0;u<g;u+=4)v==="average"?d=(a[u]+a[u+1]+a[u+2])/3:v==="lightness"?d=(Math.min(a[u],a[u+1],a[u+2])+Math.max(a[u],a[u+1],a[u+2]))/2:v==="luminosity"&&(d=.21*a[u]+.72*a[u+1]+.07*a[u+2]),a[u]=d,a[u+1]=d,a[u+2]=d},retrieveShader:function(o){var l=this.type+"_"+this.mode;if(!o.programCache.hasOwnProperty(l)){var a=this.fragmentSource[this.mode];o.programCache[l]=this.createProgram(o.context,a)}return o.programCache[l]},getUniformLocations:function(o,l){return{uMode:o.getUniformLocation(l,"uMode")}},sendUniformData:function(o,l){var a=1;o.uniform1i(l.uMode,a)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Invert=f(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(o){var l=o.imageData,a=l.data,u,g=a.length;for(u=0;u<g;u+=4)a[u]=255-a[u],a[u+1]=255-a[u+1],a[u+2]=255-a[u+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(o,l){return{uInvert:o.getUniformLocation(l,"uInvert")}},sendUniformData:function(o,l){o.uniform1i(l.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.Noise=o(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(l){if(this.noise!==0){var a=l.imageData,u=a.data,g,d=u.length,v=this.noise,_;for(g=0,d=u.length;g<d;g+=4)_=(.5-Math.random())*v,u[g]+=_,u[g+1]+=_,u[g+2]+=_}},getUniformLocations:function(l,a){return{uNoise:l.getUniformLocation(a,"uNoise"),uSeed:l.getUniformLocation(a,"uSeed")}},sendUniformData:function(l,a){l.uniform1f(a.uNoise,this.noise/255),l.uniform1f(a.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Pixelate=f(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(o){var l=o.imageData,a=l.data,u=l.height,g=l.width,d,v,_,b,y,w,C,S,T,j,W;for(v=0;v<u;v+=this.blocksize)for(_=0;_<g;_+=this.blocksize)for(d=v*4*g+_*4,b=a[d],y=a[d+1],w=a[d+2],C=a[d+3],j=Math.min(v+this.blocksize,u),W=Math.min(_+this.blocksize,g),S=v;S<j;S++)for(T=_;T<W;T++)d=S*4*g+T*4,a[d]=b,a[d+1]=y,a[d+2]=w,a[d+3]=C},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(o,l){return{uBlocksize:o.getUniformLocation(l,"uBlocksize"),uStepW:o.getUniformLocation(l,"uStepW"),uStepH:o.getUniformLocation(l,"uStepH")}},sendUniformData:function(o,l){o.uniform1f(l.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.RemoveColor=o(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(l){var a=l.imageData,u=a.data,g,d=this.distance*255,v,_,b,y=new i.Color(this.color).getSource(),w=[y[0]-d,y[1]-d,y[2]-d],C=[y[0]+d,y[1]+d,y[2]+d];for(g=0;g<u.length;g+=4)v=u[g],_=u[g+1],b=u[g+2],v>w[0]&&_>w[1]&&b>w[2]&&v<C[0]&&_<C[1]&&b<C[2]&&(u[g+3]=0)},getUniformLocations:function(l,a){return{uLow:l.getUniformLocation(a,"uLow"),uHigh:l.getUniformLocation(a,"uHigh")}},sendUniformData:function(l,a){var u=new i.Color(this.color).getSource(),g=parseFloat(this.distance),d=[0+u[0]/255-g,0+u[1]/255-g,0+u[2]/255-g,1],v=[u[0]/255+g,u[1]/255+g,u[2]/255+g,1];l.uniform4fv(a.uLow,d),l.uniform4fv(a.uHigh,v)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var l in o)h[l]=f(h.ColorMatrix,{type:l,matrix:o[l],mainParameter:!1,colorsOnly:!0}),i.Image.filters[l].fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric,h=i.Image.filters,f=i.util.createClass;h.BlendColor=f(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(o){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[o]+`}
}`},retrieveShader:function(o){var l=this.type+"_"+this.mode,a;return o.programCache.hasOwnProperty(l)||(a=this.buildSource(this.mode),o.programCache[l]=this.createProgram(o.context,a)),o.programCache[l]},applyTo2d:function(o){var l=o.imageData,a=l.data,u=a.length,g,d,v,_,b,y,w,C=1-this.alpha;w=new i.Color(this.color).getSource(),g=w[0]*this.alpha,d=w[1]*this.alpha,v=w[2]*this.alpha;for(var S=0;S<u;S+=4)switch(_=a[S],b=a[S+1],y=a[S+2],this.mode){case"multiply":a[S]=_*g/255,a[S+1]=b*d/255,a[S+2]=y*v/255;break;case"screen":a[S]=255-(255-_)*(255-g)/255,a[S+1]=255-(255-b)*(255-d)/255,a[S+2]=255-(255-y)*(255-v)/255;break;case"add":a[S]=_+g,a[S+1]=b+d,a[S+2]=y+v;break;case"diff":case"difference":a[S]=Math.abs(_-g),a[S+1]=Math.abs(b-d),a[S+2]=Math.abs(y-v);break;case"subtract":a[S]=_-g,a[S+1]=b-d,a[S+2]=y-v;break;case"darken":a[S]=Math.min(_,g),a[S+1]=Math.min(b,d),a[S+2]=Math.min(y,v);break;case"lighten":a[S]=Math.max(_,g),a[S+1]=Math.max(b,d),a[S+2]=Math.max(y,v);break;case"overlay":a[S]=g<128?2*_*g/255:255-2*(255-_)*(255-g)/255,a[S+1]=d<128?2*b*d/255:255-2*(255-b)*(255-d)/255,a[S+2]=v<128?2*y*v/255:255-2*(255-y)*(255-v)/255;break;case"exclusion":a[S]=g+_-2*g*_/255,a[S+1]=d+b-2*d*b/255,a[S+2]=v+y-2*v*y/255;break;case"tint":a[S]=g+_*C,a[S+1]=d+b*C,a[S+2]=v+y*C}},getUniformLocations:function(o,l){return{uColor:o.getUniformLocation(l,"uColor")}},sendUniformData:function(o,l){var a=new i.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,o.uniform4fv(l.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric,h=i.Image.filters,f=i.util.createClass;h.BlendImage=f(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(o){var l=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return o.programCache.hasOwnProperty(l)||(o.programCache[l]=this.createProgram(o.context,a)),o.programCache[l]},applyToWebGL:function(o){var l=o.context,a=this.createTexture(o.filterBackend,this.image);this.bindAdditionalTexture(l,a,l.TEXTURE1),this.callSuper("applyToWebGL",o),this.unbindAdditionalTexture(l,l.TEXTURE1)},createTexture:function(o,l){return o.getCachedTexture(l.cacheKey,l._element)},calculateMatrix:function(){var o=this.image,l=o._element.width,a=o._element.height;return[1/o.scaleX,0,0,0,1/o.scaleY,0,-o.left/l,-o.top/a,1]},applyTo2d:function(o){var l=o.imageData,a=o.filterBackend.resources,u=l.data,g=u.length,d=l.width,v=l.height,_,b,y,w,C,S,T,j,W,V,H=this.image,te;a.blendImage||(a.blendImage=i.util.createCanvasElement()),W=a.blendImage,V=W.getContext("2d"),W.width!==d||W.height!==v?(W.width=d,W.height=v):V.clearRect(0,0,d,v),V.setTransform(H.scaleX,0,0,H.scaleY,H.left,H.top),V.drawImage(H._element,0,0,d,v),te=V.getImageData(0,0,d,v).data;for(var se=0;se<g;se+=4)switch(C=u[se],S=u[se+1],T=u[se+2],j=u[se+3],_=te[se],b=te[se+1],y=te[se+2],w=te[se+3],this.mode){case"multiply":u[se]=C*_/255,u[se+1]=S*b/255,u[se+2]=T*y/255,u[se+3]=j*w/255;break;case"mask":u[se+3]=w;break}},getUniformLocations:function(o,l){return{uTransformMatrix:o.getUniformLocation(l,"uTransformMatrix"),uImage:o.getUniformLocation(l,"uImage")}},sendUniformData:function(o,l){var a=this.calculateMatrix();o.uniform1i(l.uImage,1),o.uniformMatrix3fv(l.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(o,l){i.Image.fromObject(o.image,function(a){var u=i.util.object.clone(o);u.image=a,l(new i.Image.filters.BlendImage(u))})}}(e),function(c){var i=c.fabric||(c.fabric={}),h=Math.pow,f=Math.floor,o=Math.sqrt,l=Math.abs,a=Math.round,u=Math.sin,g=Math.ceil,d=i.Image.filters,v=i.util.createClass;d.Resize=v(d.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(_,b){return{uDelta:_.getUniformLocation(b,"uDelta"),uTaps:_.getUniformLocation(b,"uTaps")}},sendUniformData:function(_,b){_.uniform2fv(b.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),_.uniform1fv(b.uTaps,this.taps)},retrieveShader:function(_){var b=this.getFilterWindow(),y=this.type+"_"+b;if(!_.programCache.hasOwnProperty(y)){var w=this.generateShader(b);_.programCache[y]=this.createProgram(_.context,w)}return _.programCache[y]},getFilterWindow:function(){var _=this.tempScale;return Math.ceil(this.lanczosLobes/_)},getTaps:function(){for(var _=this.lanczosCreate(this.lanczosLobes),b=this.tempScale,y=this.getFilterWindow(),w=new Array(y),C=1;C<=y;C++)w[C-1]=_(C*b);return w},generateShader:function(w){for(var b=new Array(w),y=this.fragmentSourceTOP,w,C=1;C<=w;C++)b[C-1]=C+".0 * uDelta";return y+="uniform float uTaps["+w+`];
`,y+=`void main() {
`,y+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,y+=`  float sum = 1.0;
`,b.forEach(function(S,T){y+="  color += texture2D(uTexture, vTexCoord + "+S+") * uTaps["+T+`];
`,y+="  color += texture2D(uTexture, vTexCoord - "+S+") * uTaps["+T+`];
`,y+="  sum += 2.0 * uTaps["+T+`];
`}),y+=`  gl_FragColor = color / sum;
`,y+="}",y},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(_){_.webgl?(_.passes++,this.width=_.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=_.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),_.destinationWidth=this.dW,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceWidth=_.destinationWidth,this.height=_.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),_.destinationHeight=this.dH,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceHeight=_.destinationHeight):this.applyTo2d(_)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(_){return function(b){if(b>=_||b<=-_)return 0;if(b<11920929e-14&&b>-11920929e-14)return 1;b*=Math.PI;var y=b/_;return u(b)/b*u(y)/y}},applyTo2d:function(_){var b=_.imageData,y=this.scaleX,w=this.scaleY;this.rcpScaleX=1/y,this.rcpScaleY=1/w;var C=b.width,S=b.height,T=a(C*y),j=a(S*w),W;this.resizeType==="sliceHack"?W=this.sliceByTwo(_,C,S,T,j):this.resizeType==="hermite"?W=this.hermiteFastResize(_,C,S,T,j):this.resizeType==="bilinear"?W=this.bilinearFiltering(_,C,S,T,j):this.resizeType==="lanczos"&&(W=this.lanczosResize(_,C,S,T,j)),_.imageData=W},sliceByTwo:function(_,b,y,w,C){var S=_.imageData,T=.5,j=!1,W=!1,V=b*T,H=y*T,te=i.filterBackend.resources,se,le,ue=0,X=0,K=b,x=0;for(te.sliceByTwo||(te.sliceByTwo=document.createElement("canvas")),se=te.sliceByTwo,(se.width<b*1.5||se.height<y)&&(se.width=b*1.5,se.height=y),le=se.getContext("2d"),le.clearRect(0,0,b*1.5,y),le.putImageData(S,0,0),w=f(w),C=f(C);!j||!W;)b=V,y=H,w<f(V*T)?V=f(V*T):(V=w,j=!0),C<f(H*T)?H=f(H*T):(H=C,W=!0),le.drawImage(se,ue,X,b,y,K,x,V,H),ue=K,X=x,x+=H;return le.getImageData(ue,X,w,C)},lanczosResize:function(_,b,y,w,C){function S(F){var I,Q,R,E,U,M,L,z,q,oe,k;for(x.x=(F+.5)*H,D.x=f(x.x),I=0;I<C;I++){for(x.y=(I+.5)*te,D.y=f(x.y),U=0,M=0,L=0,z=0,q=0,Q=D.x-ue;Q<=D.x+ue;Q++)if(!(Q<0||Q>=b)){oe=f(1e3*l(Q-x.x)),K[oe]||(K[oe]={});for(var O=D.y-X;O<=D.y+X;O++)O<0||O>=y||(k=f(1e3*l(O-x.y)),K[oe][k]||(K[oe][k]=V(o(h(oe*se,2)+h(k*le,2))/1e3)),R=K[oe][k],R>0&&(E=(O*b+Q)*4,U+=R,M+=R*T[E],L+=R*T[E+1],z+=R*T[E+2],q+=R*T[E+3]))}E=(I*w+F)*4,W[E]=M/U,W[E+1]=L/U,W[E+2]=z/U,W[E+3]=q/U}return++F<w?S(F):j}var T=_.imageData.data,j=_.ctx.createImageData(w,C),W=j.data,V=this.lanczosCreate(this.lanczosLobes),H=this.rcpScaleX,te=this.rcpScaleY,se=2/this.rcpScaleX,le=2/this.rcpScaleY,ue=g(H*this.lanczosLobes/2),X=g(te*this.lanczosLobes/2),K={},x={},D={};return S(0)},bilinearFiltering:function(_,b,y,w,C){var S,T,j,W,V,H,te,se,le,ue,X,K,x=0,D,F=this.rcpScaleX,I=this.rcpScaleY,Q=4*(b-1),R=_.imageData,E=R.data,U=_.ctx.createImageData(w,C),M=U.data;for(te=0;te<C;te++)for(se=0;se<w;se++)for(V=f(F*se),H=f(I*te),le=F*se-V,ue=I*te-H,D=4*(H*b+V),X=0;X<4;X++)S=E[D+X],T=E[D+4+X],j=E[D+Q+X],W=E[D+Q+4+X],K=S*(1-le)*(1-ue)+T*le*(1-ue)+j*ue*(1-le)+W*le*ue,M[x++]=K;return U},hermiteFastResize:function(_,b,y,w,C){for(var S=this.rcpScaleX,T=this.rcpScaleY,j=g(S/2),W=g(T/2),V=_.imageData,H=V.data,te=_.ctx.createImageData(w,C),se=te.data,le=0;le<C;le++)for(var ue=0;ue<w;ue++){for(var X=(ue+le*w)*4,K=0,x=0,D=0,F=0,I=0,Q=0,R=0,E=(le+.5)*T,U=f(le*T);U<(le+1)*T;U++)for(var M=l(E-(U+.5))/W,L=(ue+.5)*S,z=M*M,q=f(ue*S);q<(ue+1)*S;q++){var oe=l(L-(q+.5))/j,k=o(z+oe*oe);k>1&&k<-1||(K=2*k*k*k-3*k*k+1,K>0&&(oe=4*(q+U*b),R+=K*H[oe+3],D+=K,H[oe+3]<255&&(K=K*H[oe+3]/250),F+=K*H[oe],I+=K*H[oe+1],Q+=K*H[oe+2],x+=K))}se[X]=F/x,se[X+1]=I/x,se[X+2]=Q/x,se[X+3]=R/D}return te},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Contrast=f(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(o){if(this.contrast!==0){var l=o.imageData,a,g,u=l.data,g=u.length,d=Math.floor(this.contrast*255),v=259*(d+255)/(255*(259-d));for(a=0;a<g;a+=4)u[a]=v*(u[a]-128)+128,u[a+1]=v*(u[a+1]-128)+128,u[a+2]=v*(u[a+2]-128)+128}},getUniformLocations:function(o,l){return{uContrast:o.getUniformLocation(l,"uContrast")}},sendUniformData:function(o,l){o.uniform1f(l.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Saturation=f(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(o){if(this.saturation!==0){var l=o.imageData,a=l.data,u=a.length,g=-this.saturation,d,v;for(d=0;d<u;d+=4)v=Math.max(a[d],a[d+1],a[d+2]),a[d]+=v!==a[d]?(v-a[d])*g:0,a[d+1]+=v!==a[d+1]?(v-a[d+1])*g:0,a[d+2]+=v!==a[d+2]?(v-a[d+2])*g:0}},getUniformLocations:function(o,l){return{uSaturation:o.getUniformLocation(l,"uSaturation")}},sendUniformData:function(o,l){o.uniform1f(l.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Vibrance=f(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(o){if(this.vibrance!==0){var l=o.imageData,a=l.data,u=a.length,g=-this.vibrance,d,v,_,b;for(d=0;d<u;d+=4)v=Math.max(a[d],a[d+1],a[d+2]),_=(a[d]+a[d+1]+a[d+2])/3,b=Math.abs(v-_)*2/255*g,a[d]+=v!==a[d]?(v-a[d])*b:0,a[d+1]+=v!==a[d+1]?(v-a[d+1])*b:0,a[d+2]+=v!==a[d+2]?(v-a[d+2])*b:0}},getUniformLocations:function(o,l){return{uVibrance:o.getUniformLocation(l,"uVibrance")}},sendUniformData:function(o,l){o.uniform1f(l.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Blur=f(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(o){o.webgl?(this.aspectRatio=o.sourceWidth/o.sourceHeight,o.passes++,this._setupFrameBuffer(o),this.horizontal=!0,this.applyToWebGL(o),this._swapTextures(o),this._setupFrameBuffer(o),this.horizontal=!1,this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},applyTo2d:function(o){o.imageData=this.simpleBlur(o)},simpleBlur:function(o){var l=o.filterBackend.resources,a,u,g=o.imageData.width,d=o.imageData.height;l.blurLayer1||(l.blurLayer1=i.util.createCanvasElement(),l.blurLayer2=i.util.createCanvasElement()),a=l.blurLayer1,u=l.blurLayer2,(a.width!==g||a.height!==d)&&(u.width=a.width=g,u.height=a.height=d);var v=a.getContext("2d"),_=u.getContext("2d"),b=15,y,w,C,S,T=this.blur*.06*.5;for(v.putImageData(o.imageData,0,0),_.clearRect(0,0,g,d),S=-b;S<=b;S++)y=(Math.random()-.5)/4,w=S/b,C=T*w*g+y,_.globalAlpha=1-Math.abs(w),_.drawImage(a,C,y),v.drawImage(u,0,0),_.globalAlpha=1,_.clearRect(0,0,u.width,u.height);for(S=-b;S<=b;S++)y=(Math.random()-.5)/4,w=S/b,C=T*w*d+y,_.globalAlpha=1-Math.abs(w),_.drawImage(a,y,C),v.drawImage(u,0,0),_.globalAlpha=1,_.clearRect(0,0,u.width,u.height);o.ctx.drawImage(a,0,0);var j=o.ctx.getImageData(0,0,a.width,a.height);return v.globalAlpha=1,v.clearRect(0,0,a.width,a.height),j},getUniformLocations:function(o,l){return{delta:o.getUniformLocation(l,"uDelta")}},sendUniformData:function(o,l){var a=this.chooseRightDelta();o.uniform2fv(l.delta,a)},chooseRightDelta:function(){var o=1,l=[0,0],a;return this.horizontal?this.aspectRatio>1&&(o=1/this.aspectRatio):this.aspectRatio<1&&(o=this.aspectRatio),a=o*this.blur*.12,this.horizontal?l[0]=a:l[1]=a,l}}),h.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Gamma=f(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(o){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,o)},applyTo2d:function(o){var l=o.imageData,a=l.data,u=this.gamma,g=a.length,d=1/u[0],v=1/u[1],_=1/u[2],b;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),b=0,g=256;b<g;b++)this.rVals[b]=Math.pow(b/255,d)*255,this.gVals[b]=Math.pow(b/255,v)*255,this.bVals[b]=Math.pow(b/255,_)*255;for(b=0,g=a.length;b<g;b+=4)a[b]=this.rVals[a[b]],a[b+1]=this.gVals[a[b+1]],a[b+2]=this.bVals[a[b+2]]},getUniformLocations:function(o,l){return{uGamma:o.getUniformLocation(l,"uGamma")}},sendUniformData:function(o,l){o.uniform3fv(l.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Composed=f(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(o){this.callSuper("initialize",o),this.subFilters=this.subFilters.slice(0)},applyTo:function(o){o.passes+=this.subFilters.length-1,this.subFilters.forEach(function(l){l.applyTo(o)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(o){return o.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(o){return!o.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(o,l){var a=o.subFilters||[],u=a.map(function(d){return new i.Image.filters[d.type](d)}),g=new i.Image.filters.Composed({subFilters:u});return l&&l(g),g}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.HueRotation=f(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var o=this.rotation*Math.PI,l=i.util.cos(o),a=i.util.sin(o),u=1/3,g=Math.sqrt(u)*a,d=1-l;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=l+d/3,this.matrix[1]=u*d-g,this.matrix[2]=u*d+g,this.matrix[5]=u*d+g,this.matrix[6]=l+u*d,this.matrix[7]=u*d-g,this.matrix[10]=u*d-g,this.matrix[11]=u*d+g,this.matrix[12]=l+u*d},isNeutralState:function(o){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,o)},applyTo:function(o){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,o)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(f),cacheProperties:i.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(o,l){this.styles=l?l.styles||{}:{},this.text=o,this.__skipDimension=!0,this.callSuper("initialize",l),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var o=this.path;o&&(o.segmentsInfo=i.util.getPathSegmentsInfo(o.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var o=this._splitTextIntoLines(this.text);return this.textLines=o.lines,this._textLines=o.graphemeLines,this._unwrappedTextLines=o._unwrappedLines,this._text=o.graphemeText,o},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var o,l,a,u,g,d,v,_=0,b=this._textLines.length;_<b;_++)if(!(this.textAlign!=="justify"&&(_===b-1||this.isEndOfWrapping(_)))&&(u=0,g=this._textLines[_],l=this.getLineWidth(_),l<this.width&&(v=this.textLines[_].match(this._reSpacesAndTabs)))){a=v.length,o=(this.width-l)/a;for(var y=0,w=g.length;y<=w;y++)d=this.__charBounds[_][y],this._reSpaceAndTab.test(g[y])?(d.width+=o,d.kernedWidth+=o,d.left+=u,u+=o):d.left+=u}},isEndOfWrapping:function(o){return o===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var o=this.callSuper("_getCacheCanvasDimensions"),l=this.fontSize;return o.width+=l*o.zoomX,o.height+=l*o.zoomY,o},_render:function(o){var l=this.path;l&&!l.isNotVisible()&&l._render(o),this._setTextStyles(o),this._renderTextLinesBackground(o),this._renderTextDecoration(o,"underline"),this._renderText(o),this._renderTextDecoration(o,"overline"),this._renderTextDecoration(o,"linethrough")},_renderText:function(o){this.paintFirst==="stroke"?(this._renderTextStroke(o),this._renderTextFill(o)):(this._renderTextFill(o),this._renderTextStroke(o))},_setTextStyles:function(o,l,a){if(o.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":o.textBaseline="middle";break;case"ascender":o.textBaseline="top";break;case"descender":o.textBaseline="bottom";break}o.font=this._getFontDeclaration(l,a)},calcTextWidth:function(){for(var o=this.getLineWidth(0),l=1,a=this._textLines.length;l<a;l++){var u=this.getLineWidth(l);u>o&&(o=u)}return o},_renderTextLine:function(o,l,a,u,g,d){this._renderChars(o,l,a,u,g,d)},_renderTextLinesBackground:function(o){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var l,a,u=o.fillStyle,g,d,v=this._getLeftOffset(),_=this._getTopOffset(),b=0,y=0,w,C,S=this.path,T,j=0,W=this._textLines.length;j<W;j++){if(l=this.getHeightOfLine(j),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",j)){_+=l;continue}g=this._textLines[j],a=this._getLineLeftOffset(j),y=0,b=0,d=this.getValueOfPropertyAt(j,0,"textBackgroundColor");for(var V=0,H=g.length;V<H;V++)w=this.__charBounds[j][V],C=this.getValueOfPropertyAt(j,V,"textBackgroundColor"),S?(o.save(),o.translate(w.renderLeft,w.renderTop),o.rotate(w.angle),o.fillStyle=C,C&&o.fillRect(-w.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),w.width,l/this.lineHeight),o.restore()):C!==d?(T=v+a+b,this.direction==="rtl"&&(T=this.width-T-y),o.fillStyle=d,d&&o.fillRect(T,_,y,l/this.lineHeight),b=w.left,y=w.width,d=C):y+=w.kernedWidth;C&&!S&&(T=v+a+b,this.direction==="rtl"&&(T=this.width-T-y),o.fillStyle=C,o.fillRect(T,_,y,l/this.lineHeight)),_+=l}o.fillStyle=u,this._removeShadow(o)}},getFontCache:function(o){var l=o.fontFamily.toLowerCase();i.charWidthsCache[l]||(i.charWidthsCache[l]={});var a=i.charWidthsCache[l],u=o.fontStyle.toLowerCase()+"_"+(o.fontWeight+"").toLowerCase();return a[u]||(a[u]={}),a[u]},_measureChar:function(o,l,a,u){var g=this.getFontCache(l),d=this._getFontDeclaration(l),v=this._getFontDeclaration(u),_=a+o,b=d===v,y,w,C,S=l.fontSize/this.CACHE_FONT_SIZE,T;if(a&&g[a]!==void 0&&(C=g[a]),g[o]!==void 0&&(T=y=g[o]),b&&g[_]!==void 0&&(w=g[_],T=w-C),y===void 0||C===void 0||w===void 0){var j=this.getMeasuringContext();this._setTextStyles(j,l,!0)}return y===void 0&&(T=y=j.measureText(o).width,g[o]=y),C===void 0&&b&&a&&(C=j.measureText(a).width,g[a]=C),b&&w===void 0&&(w=j.measureText(_).width,g[_]=w,T=w-C),{width:y*S,kernedWidth:T*S}},getHeightOfChar:function(o,l){return this.getValueOfPropertyAt(o,l,"fontSize")},measureLine:function(o){var l=this._measureLine(o);return this.charSpacing!==0&&(l.width-=this._getWidthOfCharSpacing()),l.width<0&&(l.width=0),l},_measureLine:function(o){var l=0,a,u,g=this._textLines[o],d,v,_=0,b=new Array(g.length),y=0,w,C,S=this.path,T=this.pathSide==="right";for(this.__charBounds[o]=b,a=0;a<g.length;a++)u=g[a],v=this._getGraphemeBox(u,o,a,d),b[a]=v,l+=v.kernedWidth,d=u;if(b[a]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},S){switch(C=S.segmentsInfo[S.segmentsInfo.length-1].length,w=i.util.getPointOnPath(S.path,0,S.segmentsInfo),w.x+=S.pathOffset.x,w.y+=S.pathOffset.y,this.textAlign){case"left":y=T?C-l:0;break;case"center":y=(C-l)/2;break;case"right":y=T?0:C-l;break}for(y+=this.pathStartOffset*(T?-1:1),a=T?g.length-1:0;T?a>=0:a<g.length;T?a--:a++)v=b[a],y>C?y%=C:y<0&&(y+=C),this._setGraphemeOnPath(y,v,w),y+=v.kernedWidth}return{width:l,numOfSpaces:_}},_setGraphemeOnPath:function(o,l,a){var u=o+l.kernedWidth/2,g=this.path,d=i.util.getPointOnPath(g.path,u,g.segmentsInfo);l.renderLeft=d.x-a.x,l.renderTop=d.y-a.y,l.angle=d.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(o,l,a,u,g){var d=this.getCompleteStyleDeclaration(l,a),v=u?this.getCompleteStyleDeclaration(l,a-1):{},_=this._measureChar(o,d,u,v),b=_.kernedWidth,y=_.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),y+=w,b+=w);var C={width:y,left:0,height:d.fontSize,kernedWidth:b,deltaY:d.deltaY};if(a>0&&!g){var S=this.__charBounds[l][a-1];C.left=S.left+S.width+_.kernedWidth-_.width}return C},getHeightOfLine:function(o){if(this.__lineHeights[o])return this.__lineHeights[o];for(var l=this._textLines[o],a=this.getHeightOfChar(o,0),u=1,g=l.length;u<g;u++)a=Math.max(this.getHeightOfChar(o,u),a);return this.__lineHeights[o]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var o,l=0,a=0,u=this._textLines.length;a<u;a++)o=this.getHeightOfLine(a),l+=a===u-1?o/this.lineHeight:o;return l},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(o,l){o.save();for(var a=0,u=this._getLeftOffset(),g=this._getTopOffset(),d=0,v=this._textLines.length;d<v;d++){var _=this.getHeightOfLine(d),b=_/this.lineHeight,y=this._getLineLeftOffset(d);this._renderTextLine(l,o,this._textLines[d],u+y,g+a+b,d),a+=_}o.restore()},_renderTextFill:function(o){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(o,"fillText")},_renderTextStroke:function(o){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this._setLineDash(o,this.strokeDashArray),o.beginPath(),this._renderTextCommon(o,"strokeText"),o.closePath(),o.restore())},_renderChars:function(o,l,a,u,g,d){var v=this.getHeightOfLine(d),_=this.textAlign.indexOf("justify")!==-1,b,y,w="",C,S=0,T,j=this.path,W=!_&&this.charSpacing===0&&this.isEmptyStyles(d)&&!j,V=this.direction==="ltr",H=this.direction==="ltr"?1:-1,te,se=l.canvas.getAttribute("dir");if(l.save(),se!==this.direction&&(l.canvas.setAttribute("dir",V?"ltr":"rtl"),l.direction=V?"ltr":"rtl",l.textAlign=V?"left":"right"),g-=v*this._fontSizeFraction/this.lineHeight,W){this._renderChar(o,l,d,0,a.join(""),u,g,v),l.restore();return}for(var le=0,ue=a.length-1;le<=ue;le++)T=le===ue||this.charSpacing||j,w+=a[le],C=this.__charBounds[d][le],S===0?(u+=H*(C.kernedWidth-C.width),S+=C.width):S+=C.kernedWidth,_&&!T&&this._reSpaceAndTab.test(a[le])&&(T=!0),T||(b=b||this.getCompleteStyleDeclaration(d,le),y=this.getCompleteStyleDeclaration(d,le+1),T=i.util.hasStyleChanged(b,y,!1)),T&&(j?(l.save(),l.translate(C.renderLeft,C.renderTop),l.rotate(C.angle),this._renderChar(o,l,d,le,w,-S/2,0,v),l.restore()):(te=u,this._renderChar(o,l,d,le,w,te,g,v)),w="",b=y,u+=H*S,S=0);l.restore()},_applyPatternGradientTransformText:function(o){var l=i.util.createCanvasElement(),a,u=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return l.width=u,l.height=g,a=l.getContext("2d"),a.beginPath(),a.moveTo(0,0),a.lineTo(u,0),a.lineTo(u,g),a.lineTo(0,g),a.closePath(),a.translate(u/2,g/2),a.fillStyle=o.toLive(a),this._applyPatternGradientTransform(a,o),a.fill(),a.createPattern(l,"no-repeat")},handleFiller:function(o,l,a){var u,g;return a.toLive?a.gradientUnits==="percentage"||a.gradientTransform||a.patternTransform?(u=-this.width/2,g=-this.height/2,o.translate(u,g),o[l]=this._applyPatternGradientTransformText(a),{offsetX:u,offsetY:g}):(o[l]=a.toLive(o,this),this._applyPatternGradientTransform(o,a)):(o[l]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(o,l){return o.lineWidth=l.strokeWidth,o.lineCap=this.strokeLineCap,o.lineDashOffset=this.strokeDashOffset,o.lineJoin=this.strokeLineJoin,o.miterLimit=this.strokeMiterLimit,this.handleFiller(o,"strokeStyle",l.stroke)},_setFillStyles:function(o,l){return this.handleFiller(o,"fillStyle",l.fill)},_renderChar:function(o,l,a,u,g,d,v){var _=this._getStyleDeclaration(a,u),b=this.getCompleteStyleDeclaration(a,u),y=o==="fillText"&&b.fill,w=o==="strokeText"&&b.stroke&&b.strokeWidth,C,S;!w&&!y||(l.save(),y&&(C=this._setFillStyles(l,b)),w&&(S=this._setStrokeStyles(l,b)),l.font=this._getFontDeclaration(b),_&&_.textBackgroundColor&&this._removeShadow(l),_&&_.deltaY&&(v+=_.deltaY),y&&l.fillText(g,d-C.offsetX,v-C.offsetY),w&&l.strokeText(g,d-S.offsetX,v-S.offsetY),l.restore())},setSuperscript:function(o,l){return this._setScript(o,l,this.superscript)},setSubscript:function(o,l){return this._setScript(o,l,this.subscript)},_setScript:function(o,l,a){var u=this.get2DCursorLocation(o,!0),g=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"fontSize"),d=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"deltaY"),v={fontSize:g*a.size,deltaY:d+g*a.baseline};return this.setSelectionStyles(v,o,l),this},_getLineLeftOffset:function(o){var l=this.getLineWidth(o),a=this.width-l,u=this.textAlign,g=this.direction,v,d=0,v=this.isEndOfWrapping(o);return u==="justify"||u==="justify-center"&&!v||u==="justify-right"&&!v||u==="justify-left"&&!v?0:(u==="center"&&(d=a/2),u==="right"&&(d=a),u==="justify-center"&&(d=a/2),u==="justify-right"&&(d=a),g==="rtl"&&(d-=a),d)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var o=this._forceClearCache;return o||(o=this.hasStateChanged("_dimensionAffectingProps")),o&&(this.dirty=!0,this._forceClearCache=!1),o},getLineWidth:function(o){if(this.__lineWidths[o]!==void 0)return this.__lineWidths[o];var l=this.measureLine(o),a=l.width;return this.__lineWidths[o]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(o,l,a){var u=this._getStyleDeclaration(o,l);return u&&typeof u[a]<"u"?u[a]:this[a]},_renderTextDecoration:function(o,l){if(!(!this[l]&&!this.styleHas(l))){for(var a,u,g,d,v,_,b,y,w=this._getLeftOffset(),C=this._getTopOffset(),S,T,j,W,V,H,te,se,le=this.path,ue=this._getWidthOfCharSpacing(),X=this.offsets[l],K=0,x=this._textLines.length;K<x;K++){if(a=this.getHeightOfLine(K),!this[l]&&!this.styleHas(l,K)){C+=a;continue}b=this._textLines[K],H=a/this.lineHeight,d=this._getLineLeftOffset(K),T=0,j=0,y=this.getValueOfPropertyAt(K,0,l),se=this.getValueOfPropertyAt(K,0,"fill"),S=C+H*(1-this._fontSizeFraction),u=this.getHeightOfChar(K,0),v=this.getValueOfPropertyAt(K,0,"deltaY");for(var D=0,F=b.length;D<F;D++)if(W=this.__charBounds[K][D],V=this.getValueOfPropertyAt(K,D,l),te=this.getValueOfPropertyAt(K,D,"fill"),g=this.getHeightOfChar(K,D),_=this.getValueOfPropertyAt(K,D,"deltaY"),le&&V&&te)o.save(),o.fillStyle=se,o.translate(W.renderLeft,W.renderTop),o.rotate(W.angle),o.fillRect(-W.kernedWidth/2,X*g+_,W.kernedWidth,this.fontSize/15),o.restore();else if((V!==y||te!==se||g!==u||_!==v)&&j>0){var I=w+d+T;this.direction==="rtl"&&(I=this.width-I-j),y&&se&&(o.fillStyle=se,o.fillRect(I,S+X*u+v,j,this.fontSize/15)),T=W.left,j=W.width,y=V,se=te,u=g,v=_}else j+=W.kernedWidth;var I=w+d+T;this.direction==="rtl"&&(I=this.width-I-j),o.fillStyle=te,V&&te&&o.fillRect(I,S+X*u+v,j-ue,this.fontSize/15),C+=a}this._removeShadow(o)}},_getFontDeclaration:function(o,l){var a=o||this,u=this.fontFamily,g=i.Text.genericFonts.indexOf(u.toLowerCase())>-1,d=u===void 0||u.indexOf("'")>-1||u.indexOf(",")>-1||u.indexOf('"')>-1||g?a.fontFamily:'"'+a.fontFamily+'"';return[i.isLikelyNode?a.fontWeight:a.fontStyle,i.isLikelyNode?a.fontStyle:a.fontWeight,l?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",d].join(" ")},render:function(o){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",o)))},_splitTextIntoLines:function(o){for(var l=o.split(this._reNewline),a=new Array(l.length),u=[`
`],g=[],d=0;d<l.length;d++)a[d]=i.util.string.graphemeSplit(l[d]),g=g.concat(a[d],u);return g.pop(),{_unwrappedLines:a,lines:l,graphemeText:g,graphemeLines:a}},toObject:function(o){var l=f.concat(o),a=this.callSuper("toObject",l);return a.styles=i.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(o,l){this.callSuper("set",o,l);var a=!1,u=!1;if(typeof o=="object")for(var g in o)g==="path"&&this.setPathInfo(),a=a||this._dimensionAffectingProps.indexOf(g)!==-1,u=u||g==="path";else a=this._dimensionAffectingProps.indexOf(o)!==-1,u=o==="path";return u&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(o,l,a){if(!o)return l(null);var u=i.parseAttributes(o,i.Text.ATTRIBUTE_NAMES),g=u.textAnchor||"left";if(a=i.util.object.extend(a?h(a):{},u),a.top=a.top||0,a.left=a.left||0,u.textDecoration){var d=u.textDecoration;d.indexOf("underline")!==-1&&(a.underline=!0),d.indexOf("overline")!==-1&&(a.overline=!0),d.indexOf("line-through")!==-1&&(a.linethrough=!0),delete a.textDecoration}"dx"in u&&(a.left+=u.dx),"dy"in u&&(a.top+=u.dy),"fontSize"in a||(a.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in o?v=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(v=o.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var _=a.strokeWidth;a.strokeWidth=0;var b=new i.Text(v,a),y=b.getScaledHeight()/b.height,w=(b.height+b.strokeWidth)*b.lineHeight-b.height,C=w*y,S=b.getScaledHeight()+C,T=0;g==="center"&&(T=b.getScaledWidth()/2),g==="right"&&(T=b.getScaledWidth()),b.set({left:b.left-T,top:b.top-(S-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof _<"u"?_:1}),l(b)},i.Text.fromObject=function(o,l){var a=h(o),u=o.path;return delete a.path,i.Object._fromObject("Text",a,function(g){g.styles=i.util.stylesFromArray(o.styles,o.text),u?i.Object._fromObject("Path",u,function(d){g.set("path",d),l(g)},"path"):l(g)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(c){if(!this.styles||typeof c<"u"&&!this.styles[c])return!0;var i=typeof c>"u"?this.styles:{line:this.styles[c]};for(var h in i)for(var f in i[h])for(var o in i[h][f])return!1;return!0},styleHas:function(c,i){if(!this.styles||!c||c===""||typeof i<"u"&&!this.styles[i])return!1;var h=typeof i>"u"?this.styles:{0:this.styles[i]};for(var f in h)for(var o in h[f])if(typeof h[f][o][c]<"u")return!0;return!1},cleanStyle:function(c){if(!this.styles||!c||c==="")return!1;var i=this.styles,h=0,f,o,l=!0,a=0,u;for(var g in i){f=0;for(var d in i[g]){var u=i[g][d],v=u.hasOwnProperty(c);h++,v?(o?u[c]!==o&&(l=!1):o=u[c],u[c]===this[c]&&delete u[c]):l=!1,Object.keys(u).length!==0?f++:delete i[g][d]}f===0&&delete i[g]}for(var _=0;_<this._textLines.length;_++)a+=this._textLines[_].length;l&&h===a&&(this[c]=o,this.removeStyle(c))},removeStyle:function(c){if(!(!this.styles||!c||c==="")){var i=this.styles,h,f,o;for(f in i){h=i[f];for(o in h)delete h[o][c],Object.keys(h[o]).length===0&&delete h[o];Object.keys(h).length===0&&delete i[f]}}},_extendStyles:function(c,i){var h=this.get2DCursorLocation(c);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),i)},get2DCursorLocation:function(c,i){typeof c>"u"&&(c=this.selectionStart);for(var h=i?this._unwrappedTextLines:this._textLines,f=h.length,o=0;o<f;o++){if(c<=h[o].length)return{lineIndex:o,charIndex:c};c-=h[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:h[o-1].length<c?h[o-1].length:c}},getSelectionStyles:function(c,i,h){typeof c>"u"&&(c=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||c);for(var f=[],o=c;o<i;o++)f.push(this.getStyleAtPosition(o,h));return f},getStyleAtPosition:function(c,i){var h=this.get2DCursorLocation(c),f=i?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return f||{}},setSelectionStyles:function(c,i,h){typeof i>"u"&&(i=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||i);for(var f=i;f<h;f++)this._extendStyles(f,c);return this._forceClearCache=!0,this},_getStyleDeclaration:function(c,i){var h=this.styles&&this.styles[c];return h?h[i]:null},getCompleteStyleDeclaration:function(c,i){for(var h=this._getStyleDeclaration(c,i)||{},f={},o,l=0;l<this._styleProperties.length;l++)o=this._styleProperties[l],f[o]=typeof h[o]>"u"?this[o]:h[o];return f},_setStyleDeclaration:function(c,i,h){this.styles[c][i]=h},_deleteStyleDeclaration:function(c,i){delete this.styles[c][i]},_getLineStyle:function(c){return!!this.styles[c]},_setLineStyle:function(c){this.styles[c]={}},_deleteLineStyle:function(c){delete this.styles[c]}})}(),function(){function c(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,h){this.callSuper("initialize",i,h),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,h){this[i]!==h&&(this._fireSelectionChanged(),this[i]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,f=this.canvas.viewportTransform;h.save(),h.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(h),this._clearTextArea(h),i||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,h):this.renderSelection(i,h),h.restore()}},_clearTextArea:function(i){var h=this.width+4,f=this.height+4;i.clearRect(-h/2,-f/2,h,f)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var h=this._getLeftOffset(),f=this._getTopOffset(),o=this._getCursorBoundariesOffsets(i);return{left:h,top:f,leftOffset:o.left,topOffset:o.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,f,o,l=0,a=0,u,g=this.get2DCursorLocation(i);o=g.charIndex,f=g.lineIndex;for(var d=0;d<f;d++)l+=this.getHeightOfLine(d);h=this._getLineLeftOffset(f);var v=this.__charBounds[f][o];return v&&(a=v.left),this.charSpacing!==0&&o===this._textLines[f].length&&(a-=this._getWidthOfCharSpacing()),u={top:l,left:h+(a>0?a:0)},this.direction==="rtl"&&(u.left*=-1),this.cursorOffsetCache=u,this.cursorOffsetCache},renderCursor:function(i,h){var f=this.get2DCursorLocation(),o=f.lineIndex,l=f.charIndex>0?f.charIndex-1:0,a=this.getValueOfPropertyAt(o,l,"fontSize"),u=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/u,d=i.topOffset,v=this.getValueOfPropertyAt(o,l,"deltaY");d+=(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,l,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(i.left+i.leftOffset-g/2,d+i.top+v,g,a)},renderSelection:function(i,h){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,o=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,l=this.textAlign.indexOf("justify")!==-1,a=this.get2DCursorLocation(f),u=this.get2DCursorLocation(o),g=a.lineIndex,d=u.lineIndex,v=a.charIndex<0?0:a.charIndex,_=u.charIndex<0?0:u.charIndex,b=g;b<=d;b++){var y=this._getLineLeftOffset(b)||0,w=this.getHeightOfLine(b),C=0,S=0,T=0;if(b===g&&(S=this.__charBounds[g][v].left),b>=g&&b<d)T=l&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===d)if(_===0)T=this.__charBounds[d][_].left;else{var j=this._getWidthOfCharSpacing();T=this.__charBounds[d][_-1].left+this.__charBounds[d][_-1].width-j}C=w,(this.lineHeight<1||b===d&&this.lineHeight>1)&&(w/=this.lineHeight);var W=i.left+y+S,V=T-S,H=w,te=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",H=1,te=w):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(W=this.width-W-V),h.fillRect(W,i.top+i.topOffset+te,V,H),i.topOffset+=C}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),h=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:h}}}),t.IText.fromObject=function(i,h){var f=t.util.stylesFromArray(i.styles,i.text),o=Object.assign({},i,{styles:f});if(c(o),o.styles)for(var l in o.styles)for(var a in o.styles[l])c(o.styles[l][a]);t.Object._fromObject("IText",o,h,"text")}}(),function(){var c=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var h=i.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,i._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var h=i.canvas;h&&(h._iTextInstances=h._iTextInstances||[],t.util.removeFromArray(h._iTextInstances,i),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,i._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,h,f,o){var l;return l={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",h,{duration:f,onComplete:function(){l.isAborted||i[o]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return l.isAborted}}),l},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var h=this,f=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},f)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var h=0,f=i-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)h++,f--;for(;/\S/.test(this._text[f])&&f>-1;)h++,f--;return i-h},findWordBoundaryRight:function(i){var h=0,f=i;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)h++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)h++,f++;return i+h},findLineBoundaryLeft:function(i){for(var h=0,f=i-1;!/\n/.test(this._text[f])&&f>-1;)h++,f--;return i-h},findLineBoundaryRight:function(i){for(var h=0,f=i;!/\n/.test(this._text[f])&&f<this._text.length;)h++,f++;return i+h},searchWordBoundary:function(i,h){for(var f=this._text,o=this._reSpace.test(f[i])?i-1:i,l=f[o],a=t.reNonWord;!a.test(l)&&o>0&&o<f.length;)o+=h,l=f[o];return a.test(l)&&(o+=h===1?0:1),o},selectWord:function(i){i=i||this.selectionStart;var h=this.searchWordBoundary(i,-1),f=this.searchWordBoundary(i,1);this.selectionStart=h,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var h=this.findLineBoundaryLeft(i),f=this.findLineBoundaryRight(i);return this.selectionStart=h,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var h=this.getSelectionStartFromPointer(i.e),f=this.selectionStart,o=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||f===o)&&(f===h||o===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==o)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,h,f){var o=f.slice(0,i),l=t.util.string.graphemeSplit(o).length;if(i===h)return{selectionStart:l,selectionEnd:l};var a=f.slice(i,h),u=t.util.string.graphemeSplit(a).length;return{selectionStart:l,selectionEnd:l+u}},fromGraphemeToStringSelection:function(i,h,f){var o=f.slice(0,i),l=o.join("").length;if(i===h)return{selectionStart:l,selectionEnd:l};var a=f.slice(i,h),u=a.join("").length;return{selectionStart:l,selectionEnd:l+u}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(i),f=this.get2DCursorLocation(i),o=f.lineIndex,l=f.charIndex,a=this.getValueOfPropertyAt(o,l,"fontSize")*this.lineHeight,u=h.leftOffset,g=this.calcTransformMatrix(),d={x:h.left+u,y:h.top+h.topOffset+a},v=this.canvas.getRetinaScaling(),_=this.canvas.upperCanvasEl,b=_.width/v,y=_.height/v,w=b-a,C=y-a,S=_.clientWidth/b,T=_.clientHeight/y;return d=t.util.transformPoint(d,g),d=t.util.transformPoint(d,this.canvas.viewportTransform),d.x*=S,d.y*=T,d.x<0&&(d.x=0),d.x>w&&(d.x=w),d.y<0&&(d.y=0),d.y>C&&(d.y=C),d.x+=this.canvas._offset.left,d.y+=this.canvas._offset.top,{left:d.x+"px",top:d.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,h){var f=this.get2DCursorLocation(i,!0),o=this.get2DCursorLocation(h,!0),l=f.lineIndex,a=f.charIndex,u=o.lineIndex,g=o.charIndex,d,v;if(l!==u){if(this.styles[l])for(d=a;d<this._unwrappedTextLines[l].length;d++)delete this.styles[l][d];if(this.styles[u])for(d=g;d<this._unwrappedTextLines[u].length;d++)v=this.styles[u][d],v&&(this.styles[l]||(this.styles[l]={}),this.styles[l][a+d-g]=v);for(d=l+1;d<=u;d++)delete this.styles[d];this.shiftLineStyles(u,l-u)}else if(this.styles[l]){v=this.styles[l];var _=g-a,b,y;for(d=a;d<g;d++)delete v[d];for(y in this.styles[l])b=parseInt(y,10),b>=g&&(v[b-_]=v[y],delete v[y])}},shiftLineStyles:function(i,h){var f=c(this.styles);for(var o in this.styles){var l=parseInt(o,10);l>i&&(this.styles[l+h]=f[l],f[l-h]||delete this.styles[l])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,h,f,o){var l,a={},u=!1,g=this._unwrappedTextLines[i].length===h;f||(f=1),this.shiftLineStyles(i,f),this.styles[i]&&(l=this.styles[i][h===0?h:h-1]);for(var d in this.styles[i]){var v=parseInt(d,10);v>=h&&(u=!0,a[v-h]=this.styles[i][d],g&&h===0||delete this.styles[i][d])}var _=!1;for(u&&!g&&(this.styles[i+f]=a,_=!0),_&&f--;f>0;)o&&o[f-1]?this.styles[i+f]={0:c(o[f-1])}:l?this.styles[i+f]={0:c(l)}:delete this.styles[i+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(i,h,f,o){this.styles||(this.styles={});var l=this.styles[i],a=l?c(l):{};f||(f=1);for(var u in a){var g=parseInt(u,10);g>=h&&(l[g+f]=a[g],a[g-f]||delete l[g])}if(this._forceClearCache=!0,o){for(;f--;)Object.keys(o[f]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][h+f]=c(o[f]));return}if(l)for(var d=l[h?h-1:1];d&&f--;)this.styles[i][h+f]=c(d)},insertNewStyleBlock:function(i,h,f){for(var o=this.get2DCursorLocation(h,!0),l=[0],a=0,u=0;u<i.length;u++)i[u]===`
`?(a++,l[a]=0):l[a]++;l[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,l[0],f),f=f&&f.slice(l[0]+1)),a&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+l[0],a);for(var u=1;u<a;u++)l[u]>0?this.insertCharStyleObject(o.lineIndex+u,0,l[u],f):f&&this.styles[o.lineIndex+u]&&f[0]&&(this.styles[o.lineIndex+u][0]=f[0]),f=f&&f.slice(l[u]+1);l[u]>0&&this.insertCharStyleObject(o.lineIndex+u,0,l[u],f)},setSelectionStartEndWithShift:function(i,h,f){f<=i?(h===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=f):f>i&&f<h?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(h===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=f)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(c){if(this.canvas){this.__newClickTime=+new Date;var i=c.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",c),this._stopEvent(c.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(c){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===c.x&&this.__lastPointer.y===c.y},_stopEvent:function(c){c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(c){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(c.e))},tripleClickHandler:function(c){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(c.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(c.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(c){if(this.__isMousedown=!1,!(!this.editable||this.group||c.transform&&c.transform.actionPerformed||c.e.button&&c.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(c.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(c){var i=this.getSelectionStartFromPointer(c),h=this.selectionStart,f=this.selectionEnd;c.shiftKey?this.setSelectionStartEndWithShift(h,f,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(c){for(var i=this.getLocalPointer(c),h=0,f=0,o=0,l=0,a=0,u,g,d=0,v=this._textLines.length;d<v&&o<=i.y;d++)o+=this.getHeightOfLine(d)*this.scaleY,a=d,d>0&&(l+=this._textLines[d-1].length+this.missingNewlineOffset(d-1));u=this._getLineLeftOffset(a),f=u*this.scaleX,g=this._textLines[a],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+f);for(var _=0,b=g.length;_<b&&(h=f,f+=this.__charBounds[a][_].kernedWidth*this.scaleX,f<=i.x);_++)l++;return this._getNewSelectionStartFromOffset(i,h,f,l,b)},_getNewSelectionStartFromOffset:function(c,i,h,f,o){var l=c.x-i,a=h-c.x,u=a>l||a<0?0:1,g=f+u;return this.flipX&&(g=o-g),g>this._text.length&&(g=this._text.length),g}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var c=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+c.top+"; left: "+c.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+c.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(c){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(c.keyCode in i)this[i[c.keyCode]](c);else if(c.keyCode in this.ctrlKeysMapDown&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapDown[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),c.keyCode>=33&&c.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(c){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(c.keyCode in this.ctrlKeysMapUp&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapUp[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(c){var i=this.fromPaste;if(this.fromPaste=!1,c&&c.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,o=h.length,l,a,u=o-f,g=this.selectionStart,d=this.selectionEnd,v=g!==d,_,b,y;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),C=g>w.selectionStart;v?(l=this._text.slice(g,d),u+=d-g):o<f&&(C?l=this._text.slice(d+u,d):l=this._text.slice(g,g-u)),a=h.slice(w.selectionEnd-u,w.selectionEnd),l&&l.length&&(a.length&&(_=this.getSelectionStyles(g,g+1,!1),_=a.map(function(){return _[0]})),v?(b=g,y=d):C?(b=d-l.length,y=d):(b=d,y=d+l.length),this.removeStyleFromTo(b,y)),a.length&&(i&&a.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(_=t.copiedTextStyle),this.insertNewStyleBlock(a,g,_)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(c){this.compositionStart=c.target.selectionStart,this.compositionEnd=c.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(c){return c&&c.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(c,i){var h=this._getLineLeftOffset(c),f;return i>0&&(f=this.__charBounds[c][i-1],h+=f.left+f.width),h},getDownCursorOffset:function(c,i){var h=this._getSelectionForOffset(c,i),f=this.get2DCursorLocation(h),o=f.lineIndex;if(o===this._textLines.length-1||c.metaKey||c.keyCode===34)return this._text.length-h;var l=f.charIndex,a=this._getWidthBeforeCursor(o,l),u=this._getIndexOnLine(o+1,a),g=this._textLines[o].slice(l);return g.length+u+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(c,i){return c.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(c,i){var h=this._getSelectionForOffset(c,i),f=this.get2DCursorLocation(h),o=f.lineIndex;if(o===0||c.metaKey||c.keyCode===33)return-h;var l=f.charIndex,a=this._getWidthBeforeCursor(o,l),u=this._getIndexOnLine(o-1,a),g=this._textLines[o].slice(0,l),d=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+u-g.length+(1-d)},_getIndexOnLine:function(c,i){for(var h=this._textLines[c],f=this._getLineLeftOffset(c),o=f,l=0,a,u,g=0,d=h.length;g<d;g++)if(a=this.__charBounds[c][g].width,o+=a,o>i){u=!0;var v=o-a,_=o,b=Math.abs(v-i),y=Math.abs(_-i);l=y<b?g:g-1;break}return u||(l=h.length-1),l},moveCursorDown:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",c)},moveCursorUp:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",c)},_moveCursorUpOrDown:function(c,i){var h="get"+c+"CursorOffset",f=this[h](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(c){var i=this._selectionDirection==="left"?this.selectionStart+c:this.selectionEnd+c;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),c!==0},moveCursorWithoutShift:function(c){return c<0?(this.selectionStart+=c,this.selectionEnd=this.selectionStart):(this.selectionEnd+=c,this.selectionStart=this.selectionEnd),c!==0},moveCursorLeft:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",c)},_move:function(c,i,h){var f;if(c.altKey)f=this["findWordBoundary"+h](this[i]);else if(c.metaKey||c.keyCode===35||c.keyCode===36)f=this["findLineBoundary"+h](this[i]);else return this[i]+=h==="Left"?-1:1,!0;if(typeof f<"u"&&this[i]!==f)return this[i]=f,!0},_moveLeft:function(c,i){return this._move(c,i,"Left")},_moveRight:function(c,i){return this._move(c,i,"Right")},moveCursorLeftWithoutShift:function(c){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(c,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(c){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(c,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(c,"selectionStart")},moveCursorRight:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",c)},_moveCursorLeftOrRight:function(c,i){var h="moveCursor"+c+"With";this._currentCursorOpacity=1,i.shiftKey?h+="Shift":h+="outShift",this[h](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(c){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(c,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(c,"selectionEnd")},moveCursorRightWithoutShift:function(c){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(c,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(c,i){typeof i>"u"&&(i=c+1),this.removeStyleFromTo(c,i),this._text.splice(c,i-c),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(c,i,h,f){typeof f>"u"&&(f=h),f>h&&this.removeStyleFromTo(h,f);var o=t.util.string.graphemeSplit(c);this.insertNewStyleBlock(o,h,i),this._text=[].concat(this._text.slice(0,h),o,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var c=t.util.toFixed,i=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),f=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(f)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var f=!0,o=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(f),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,f){var o=[],l=[],a=h,u;this._setSVGBg(l);for(var g=0,d=this._textLines.length;g<d;g++)u=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(l,g,f+u,a),this._setSVGTextLineText(o,g,f+u,a),a+=this.getHeightOfLine(g);return{textSpans:o,textBgRects:l}},_createTextCharSpan:function(h,f,o,l){var a=h!==h.trim()||h.match(i),u=this.getSvgSpanStyles(f,a),g=u?'style="'+u+'"':"",d=f.deltaY,v="",_=t.Object.NUM_FRACTION_DIGITS;return d&&(v=' dy="'+c(d,_)+'" '),['<tspan x="',c(o,_),'" y="',c(l,_),'" ',v,g,">",t.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,f,o,l){var a=this.getHeightOfLine(f),u=this.textAlign.indexOf("justify")!==-1,g,d,v="",_,b,y=0,w=this._textLines[f],C;l+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var S=0,T=w.length-1;S<=T;S++)C=S===T||this.charSpacing,v+=w[S],_=this.__charBounds[f][S],y===0?(o+=_.kernedWidth-_.width,y+=_.width):y+=_.kernedWidth,u&&!C&&this._reSpaceAndTab.test(w[S])&&(C=!0),C||(g=g||this.getCompleteStyleDeclaration(f,S),d=this.getCompleteStyleDeclaration(f,S+1),C=t.util.hasStyleChanged(g,d,!0)),C&&(b=this._getStyleDeclaration(f,S)||{},h.push(this._createTextCharSpan(v,b,o,l)),v="",g=d,o+=y,y=0)},_pushTextBgRect:function(h,f,o,l,a,u){var g=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(f),' x="',c(o,g),'" y="',c(l,g),'" width="',c(a,g),'" height="',c(u,g),`"></rect>
`)},_setSVGTextLineBg:function(h,f,o,l){for(var a=this._textLines[f],u=this.getHeightOfLine(f)/this.lineHeight,g=0,d=0,v,_,b=this.getValueOfPropertyAt(f,0,"textBackgroundColor"),y=0,w=a.length;y<w;y++)v=this.__charBounds[f][y],_=this.getValueOfPropertyAt(f,y,"textBackgroundColor"),_!==b?(b&&this._pushTextBgRect(h,b,o+d,l,g,u),d=v.left,g=v.width,b=_):g+=v.kernedWidth;_&&this._pushTextBgRect(h,_,o+d,l,g,u)},_getFillAttributes:function(h){var f=h&&typeof h=="string"?new t.Color(h):"";return!f||!f.getSource()||f.getAlpha()===1?'fill="'+h+'"':'opacity="'+f.getAlpha()+'" fill="'+f.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var f=0,o=0,l=0;l<h;l++)f+=this.getHeightOfLine(l);return o=this.getHeightOfLine(l),{lineTop:f,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var f=t.Object.prototype.getSvgStyles.call(this,h);return f+" white-space: pre;"}})}(),function(c){var i=c.fabric||(c.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var f=0,o=0,l=0,a={},u=0;u<h.graphemeLines.length;u++)h.graphemeText[l]===`
`&&u>0?(o=0,l++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[l])&&u>0&&(o++,l++),a[u]={line:f,offset:o},l+=h.graphemeLines[u].length,o+=h.graphemeLines[u].length;return a},styleHas:function(h,f){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[f];o&&(f=o.line)}return i.Text.prototype.styleHas.call(this,h,f)},isEmptyStyles:function(h){if(!this.styles)return!0;var f=0,o=h+1,l,a,u=!1,g=this._styleMap[h],d=this._styleMap[h+1];g&&(h=g.line,f=g.offset),d&&(o=d.line,u=o===h,l=d.offset),a=typeof h>"u"?this.styles:{line:this.styles[h]};for(var v in a)for(var _ in a[v])if(_>=f&&(!u||_<l))for(var b in a[v][_])return!1;return!0},_getStyleDeclaration:function(h,f){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[h];if(!o)return null;h=o.line,f=o.offset+f}return this.callSuper("_getStyleDeclaration",h,f)},_setStyleDeclaration:function(h,f,o){var l=this._styleMap[h];h=l.line,f=l.offset+f,this.styles[h][f]=o},_deleteStyleDeclaration:function(h,f){var o=this._styleMap[h];h=o.line,f=o.offset+f,delete this.styles[h][f]},_getLineStyle:function(h){var f=this._styleMap[h];return!!this.styles[f.line]},_setLineStyle:function(h){var f=this._styleMap[h];this.styles[f.line]={}},_wrapText:function(h,f){var o=[],l;for(this.isWrapping=!0,l=0;l<h.length;l++)o=o.concat(this._wrapLine(h[l],l,f));return this.isWrapping=!1,o},_measureWord:function(h,f,o){var l=0,a,u=!0;o=o||0;for(var g=0,d=h.length;g<d;g++){var v=this._getGraphemeBox(h[g],f,g+o,a,u);l+=v.kernedWidth,a=h[g]}return l},_wrapLine:function(h,f,o,W){var a=0,u=this.splitByGrapheme,g=[],d=[],v=u?i.util.string.graphemeSplit(h):h.split(this._wordJoiners),_="",b=0,y=u?"":" ",w=0,C=0,S=0,T=!0,j=this._getWidthOfCharSpacing(),W=W||0;v.length===0&&v.push([]),o-=W;for(var V=0;V<v.length;V++)_=u?v[V]:i.util.string.graphemeSplit(v[V]),w=this._measureWord(_,f,b),b+=_.length,a+=C+w-j,a>o&&!T?(g.push(d),d=[],a=w,T=!0):a+=j,!T&&!u&&d.push(y),d=d.concat(_),C=u?0:this._measureWord([y],f,b),b++,T=!1,w>S&&(S=w);return V&&g.push(d),S+W>this.dynamicMinWidth&&(this.dynamicMinWidth=S-j+W),g},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var f=i.Text.prototype._splitTextIntoLines.call(this,h),o=this._wrapText(f.lines,this.width),l=new Array(o.length),a=0;a<o.length;a++)l[a]=o[a].join("");return f.lines=l,f.graphemeLines=o,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var f in this._styleMap)this._textLines[f]&&(h[this._styleMap[f].line]=1);for(var f in this.styles)h[f]||delete this.styles[f]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),i.Textbox.fromObject=function(h,f){var o=i.util.stylesFromArray(h.styles,h.text),l=Object.assign({},h,{styles:o});return i.Object._fromObject("Textbox",l,f,"text")}}(e),function(){var c=t.controlsUtils,i=c.scaleSkewCursorStyleHandler,h=c.scaleCursorStyleHandler,f=c.scalingEqually,o=c.scalingYOrSkewingX,l=c.scalingXOrSkewingY,a=c.scaleOrSkewActionName,u=t.Object.prototype.controls;if(u.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),u.mr=new t.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),u.mb=new t.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),u.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),u.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:f}),u.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:f}),u.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:f}),u.br=new t.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:f}),u.mtr=new t.Control({x:0,y:-.5,actionHandler:c.rotationWithSnapping,cursorStyleHandler:c.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var g=t.Textbox.prototype.controls={};g.mtr=u.mtr,g.tr=u.tr,g.br=u.br,g.tl=u.tl,g.bl=u.bl,g.mt=u.mt,g.mb=u.mb,g.mr=new t.Control({x:.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),g.ml=new t.Control({x:-.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(Se);class FM{canvas;workspaceEl;workspace;option;handler;unitEnum;constructor(t){this.handler=t,this.canvas=t.canvas;const n=t.container;if(!n)throw new Error("element #workspace is missing, plz check!");this.workspaceEl=n,this.workspace=null,this.option=t.workareaOption,this.initialize(),this.unitEnum={cm:37.9,mm:3.78,px:1}}initialize(){this._initBackground(),this._initWorkspace(),this._initResizeObserve()}_initBackground(){this.canvas.backgroundImage="",this.canvas.setWidth(this.workspaceEl.offsetWidth).setHeight(this.workspaceEl.offsetHeight)}_initWorkspace(){const t=new Se.fabric.Rect(this.option);this.canvas.add(t),this.canvas.renderAll(),this.workspace=t,this.auto()}setCenterFromObject(t){const{canvas:n}=this,r=t.getCenterPoint(),s=n.viewportTransform;if(n.width===void 0||n.height===void 0||!s)return;const p=10;s[4]=n.width/2-r.x*s[0]+p,s[5]=n.height/2-r.y*s[3],n.setViewportTransform(s),n.renderAll()}_initResizeObserve(){new ResizeObserver(()=>{this.auto()}).observe(this.workspaceEl)}setSize(t,n){this._initBackground();const r=this.workspace?.unit||"px";this.option.width=t*this.unitEnum[r],this.option.height=n*this.unitEnum[r],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("width",this.option.width),this.workspace.set("height",this.option.height),this.auto()}getBili(){return this.option.width/this.option.height}setWidth(t){this._initBackground();const n=this.workspace?.unit||"px";this.option.width=t*this.unitEnum[n],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("width",t),this.auto()}setHeight(t){this._initBackground();const n=this.workspace?.unit||"px";this.option.height=t*this.unitEnum[n],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("height",t),this.auto()}setZoomAuto(t,n){const{workspaceEl:r}=this,s=r.offsetWidth,p=r.offsetHeight;this.canvas.setWidth(s),this.canvas.setHeight(p);const m=this.canvas.getCenter();this.canvas.setViewportTransform(Se.fabric.iMatrix.concat()),this.canvas.zoomToPoint(new Se.fabric.Point(m.left,m.top),t),this.workspace&&(this.setCenterFromObject(this.workspace),this.workspace.clone(c=>{this.canvas.clipPath=c,this.canvas.requestRenderAll()}),n&&n(this.workspace.left,this.workspace.top))}unpdateUnit(t){this.workspace?.set("unit",t)}_getScale(){const t=this.workspaceEl.offsetWidth,n=this.workspaceEl.offsetHeight;return t/n<this.option.width/this.option.height?t/this.option.width:n/this.option.height}big(){let t=this.canvas.getZoom();t+=.05,this.setZoomAuto(t>5?5:t)}small(){let t=this.canvas.getZoom();t-=.05,this.setZoomAuto(t<0?.01:t)}auto(){const t=this._getScale();this.setZoomAuto(t-.08<.01?.01:t-.08)}one(){this.setZoomAuto(.8-.08),this.canvas.requestRenderAll()}getAutoScale(){return this._getScale()}}class LM{handler;constructor(t){this.handler=t}async Image(t){const n=this.handler.utils.getFileType(t.src)||this.handler.utils.getBase64ImageType(t.src);if(n=="svg")return t.type="svg",this.addSvg(t);if(n&&["jpg","png","jpeg"].includes(n))return this.addImage(t)}addSvg(t){return new Promise(n=>{const{src:r,path:s,...p}=t,{width:m}=this.handler.workareaHandler.option;if(r)r&&Se.fabric.loadSVGFromURL(r,(c,i)=>{const h=Se.fabric.util.groupSVGElements(c,i);if(h.width>m){const f=m/h.width;h.set({scaleX:f,scaleY:f})}h.set({crossOrigin:"Anonymous",src:r,...p}),n(h)});else{const c=new Se.fabric.Path(s);n(c)}})}async addImage(t){const{src:n,...r}=t,{objectOption:s}=this.handler,p=new Image;p.crossOrigin="Anonymous";const m=new Se.fabric.Image(p,{clipPath:null,...JSON.parse(JSON.stringify(s)),...r});return m.crossOrigin="Anonymous",await this.handler.setImage(m,n),m}}class BM{handler;constructor(t){this.handler=t}getFileType(t){if(t){if(t=t.split("?")[0],t){const n=t.lastIndexOf(".");return t.substring(n+1)}return""}}getBase64ImageType(t){if(!t)return;const n=/data:image\/([a-zA-Z]*);/,r=t.match(n);return r&&r[1]?r[1]:"png"}uuid(){return Cc()}find=t=>this.findById(t.id);findById=t=>{let n=null;return this.handler.canvas.getObjects().some(s=>s.id===t?(n=s,!0):!1)?n:null}}class jM{handler;constructor(t){this.handler=t}}const NM="/vue-design-editor/assets/middlecontrol-a163c615.svg",zM="/vue-design-editor/assets/middlecontrolhoz-9b7cc4b3.svg",$M="/vue-design-editor/assets/edgecontrol-dbe38ac6.svg",HM="/vue-design-editor/assets/rotateicon-ec6729f2.svg";Se.fabric.Object.NUM_FRACTION_DIGITS=4;function Ys(e,t,n,r,s,p,m){m!==void 0&&(e.save(),e.translate(t,n),e.rotate(Se.fabric.util.degreesToRadians(m)),e.drawImage(r,-s/2,-p/2,s,p),e.restore())}function UM(){const e=document.createElement("img");e.src=NM;const t=document.createElement("img");t.src=zM;function n(s,p,m,c,i){Ys(s,p,m,e,20,25,i.angle)}function r(s,p,m,c,i){Ys(s,p,m,t,25,20,i.angle)}Se.fabric.Object.prototype.controls.ml=new Se.fabric.Control({x:-.5,y:0,offsetX:-1,cursorStyleHandler:Se.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingXOrSkewingY,getActionName:Se.fabric.controlsUtils.scaleOrSkewActionName,render:n}),Se.fabric.Object.prototype.controls.mr=new Se.fabric.Control({x:.5,y:0,offsetX:1,cursorStyleHandler:Se.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingXOrSkewingY,getActionName:Se.fabric.controlsUtils.scaleOrSkewActionName,render:n}),Se.fabric.Object.prototype.controls.mb=new Se.fabric.Control({x:0,y:.5,offsetY:1,cursorStyleHandler:Se.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingYOrSkewingX,getActionName:Se.fabric.controlsUtils.scaleOrSkewActionName,render:r}),Se.fabric.Object.prototype.controls.mt=new Se.fabric.Control({x:0,y:-.5,offsetY:-1,cursorStyleHandler:Se.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingYOrSkewingX,getActionName:Se.fabric.controlsUtils.scaleOrSkewActionName,render:r})}function WM(){const e=document.createElement("img");e.src=$M;function t(n,r,s,p,m){Ys(n,r,s,e,25,25,m.angle)}Se.fabric.Object.prototype.controls.tl=new Se.fabric.Control({x:-.5,y:-.5,cursorStyleHandler:Se.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingEqually,render:t}),Se.fabric.Object.prototype.controls.bl=new Se.fabric.Control({x:-.5,y:.5,cursorStyleHandler:Se.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingEqually,render:t}),Se.fabric.Object.prototype.controls.tr=new Se.fabric.Control({x:.5,y:-.5,cursorStyleHandler:Se.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingEqually,render:t}),Se.fabric.Object.prototype.controls.br=new Se.fabric.Control({x:.5,y:.5,cursorStyleHandler:Se.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingEqually,render:t})}function YM(){const e=document.createElement("img");e.src=HM;function t(n,r,s,p,m){Ys(n,r,s,e,40,40,m.angle)}Se.fabric.Object.prototype.controls.mtr=new Se.fabric.Control({x:0,y:.5,cursorStyleHandler:Se.fabric.controlsUtils.rotationStyleHandler,actionHandler:Se.fabric.controlsUtils.rotationWithSnapping,offsetY:30,actionName:"rotate",render:t})}class XM{constructor(){this.init()}init(){WM(),UM(),YM(),Se.fabric.Object.prototype.set({transparentCorners:!1,borderColor:"#51B9F9",cornerColor:"#FFF",borderScaleFactor:2.5,cornerStyle:"circle",cornerStrokeColor:"#0E98FC",borderOpacityWhenMoving:1})}destroy(){console.log("pluginDestroy")}}const VM={debounce(e,t){let n=null;return function(){n!==null&&clearTimeout(n),n=setTimeout(e,t)}},deepClone(e){let t;if(typeof e=="object")if(Array.isArray(e)){t=[];for(let n=0;n<e.length;n++)Object.prototype.hasOwnProperty.call(e,n)&&t.push(this.deepClone(e[n]))}else if(e===null)t=null;else if(e.constructor===RegExp)t=e;else{t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=this.deepClone(e[n]))}else t=e;return t},isPromise(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}};class GM{workareaOption;workareaHandler;fabricObjects;utils;imageHandler;objectOption;control;canvas;onAdd;init;editable;container;constructor(t){this.workareaOption=t.workareaOption,this.canvas=t.canvas,this.container=t.container,this.editable=t.editable,this.onAdd=t.onAdd,this.init=t.init,this.workareaHandler=new FM(this),this.fabricObjects=new LM(this),this.utils=new BM(this),this.imageHandler=new jM(this),this.control=new XM,this.initialize(t)}async initialize(t){const{init:n}=this;this.initOption(t),n&&n()}initOption=t=>{this.setObjectOption(t.objectOption)};setObjectOption=t=>{this.objectOption=Object.assign({},this.objectOption,t)};select=(t,n=!1)=>{let r=t;n&&(r=this.utils.find(t)),r&&(this.canvas.discardActiveObject(),this.canvas.setActiveObject(r),this.canvas.requestRenderAll())};setImage=(t,n)=>new Promise(r=>{if(this.canvas.contextTop)if(n instanceof File){const s=new FileReader;s.onload=()=>{t.set("file",n),t.set("src",null),t.setSrc(s.result,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0})},s.readAsDataURL(n)}else t.set("file",null),t.set("src",n),t.setSrc(n,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0,crossOrigin:"Anonymous"})});add=async t=>{const{editable:n}=this,r={editable:n,hasControls:n,hasBorders:n,selectable:n,lockMovementX:!n,lockMovementY:!n},s=Object.assign({},JSON.parse(JSON.stringify(this.objectOption)),t,r,{container:this.container});let p;t.type=="material"&&(t.type="Image");try{p=this.fabricObjects[t.type](s)}catch(m){console.error(m);return}if(VM.isPromise(p)){const m=await p;p=this.addContent(m)}else p&&(p=this.addContent(p));return p};addContent(t){const{onAdd:n}=this;return t&&(t.id||(t.id=this.utils.uuid()),this.canvas.add(t),n&&n(t)),this.canvas.renderAll(),t}}const Xf=12,KM={props:{workareaOption:{type:Object,default:()=>({})},editable:{type:Boolean,default:!0},objectOption:{type:Object,default:()=>({})},onAdd:{type:Function},init:{type:Function}},setup(e){const t=fe(Cc());let n;const r=fe(),s=fe();return Ge(()=>{const{offsetWidth:p,offsetHeight:m}=r.value.parentElement.parentElement,c=Object.assign({height:m-Xf,width:p-Xf,fireRightClick:!0,stopContextMenu:!0,enableRetinaScaling:!0,controlsAboveOverlay:!0});n=new Se.fabric.Canvas(`canvas_${t.value}`,c),n.renderAll(),s.value=new GM({id:t.value,canvas:n,container:r.value,...e}),n.selectionColor="rgba(196,235,255,0.3)",n.selectionBorderColor="#6ccfff",n.selectionLineWidth=1}),{id:t,parentCanvas:r,handler:s}}},qM=["id"],JM=["id"];function ZM(e,t,n,r,s,p){return ee(),he("div",{style:{width:"100%",height:"100%"},ref:"parentCanvas",class:"parentCanvas",id:r.id},[ie("canvas",{id:`canvas_${r.id}`},null,8,JM)],8,qM)}const QM=vt(KM,[["render",ZM]]),eR={trigger:"color",width:260,height:641,lockScalingX:!0,lockScalingY:!0,scaleX:1,scaleY:1,fill:"#fff",hasBorders:!1,hasControls:!1,selectable:!1,lockMovementX:!0,lockMovementY:!0,hoverCursor:"default",name:"",id:"workarea",unit:"px",isElement:!1};var tR=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const nR={name:"AtomSpinner",props:{animationDuration:{type:Number,default:1e3},size:{type:Number,default:60},color:{type:String,default:"#fff"}},computed:{spinnerStyle(){return{height:`${this.size}px`,width:`${this.size}px`}},circleStyle(){return{color:this.color,fontSize:`${this.size*.24}px`}},lineStyle(){return{animationDuration:`${this.animationDuration}ms`,borderLeftWidth:`${this.size/25}px`,borderTopWidth:`${this.size/25}px`,borderLeftColor:this.color}}}},rR={class:"spinner-inner"};function iR(e,t,n,r,s,p){return ee(),he("div",{class:"atom-spinner",style:Ve(p.spinnerStyle)},[ie("div",rR,[ie("div",{class:"spinner-line",style:Ve(p.lineStyle)},null,4),ie("div",{class:"spinner-line",style:Ve(p.lineStyle)},null,4),ie("div",{class:"spinner-line",style:Ve(p.lineStyle)},null,4),ie("div",{class:"spinner-circle",style:Ve(p.circleStyle)},"●",4)])],4)}var sR=tR(nR,[["render",iR]]);const oR={__name:"editor",setup(e){const{dispatch:t,state:n,commit:r}=gr(),s=fe(),p=fe(),m=fe(),c=fe({filters:[]}),i=fe();Je("handler",p),Je("canvas",i);const h=re(()=>n.loadOk);let f;const o=new Promise(d=>{f=d});Ae(h,async d=>{d&&(await at(),m.value.$el.addEventListener("drop",l,!1),p.value=s.value?.handler,i.value=p.value.canvas,f())}),Ge(async()=>{t("getMaterial")});function l(d){if(d.dataTransfer.getData("item")){let v=JSON.parse(d.dataTransfer.getData("item"));const{layerX:_,layerY:b}=d,y=p.value.canvas.restorePointerVpt({x:_,y:b}),w={option:{name:v.templateName,type:v.type,data:v,src:v.url||v.src,left:y.x,top:y.y}};v.width&&v.height&&(w.option.width=v.width,w.option.height=v.height);let C=Object.assign({},w);a(C)}}function a(d){const v=Cc(),_=Object.assign({},d.option,{id:v});p.value.add(_)}function u(d){r("setActivateItem",d),p.value.select(d)}async function g(){await o,r("setWorkarea",p.value?.workareaHandler.workspace)}return(d,v)=>(ee(),Te(ty,null,{header:_e(()=>[ve(PM)]),module:_e(()=>[dt(ve(ay,{onModule:d.selectedModule},null,8,["onModule"]),[[xt,h.value]])]),left:_e(()=>[ve(GE)]),workspace:_e(()=>[h.value?(ee(),Te(hA,{key:0,ref_key:"workspace",ref:m},{canvas:_e(()=>[ve(QM,{workareaOption:A(eR),ref_key:"canvasRef",ref:s,objectOption:c.value,onAdd:u,init:g},null,8,["workareaOption","objectOption"])]),_:1},512)):(ee(),Te(A(sR),{key:1,"animation-duration":1e3,size:60,color:"#2254f4",class:"spinner"}))]),propsPanel:_e(()=>[ve(wM)]),_:1}))}},aR=vt(oR,[["__scopeId","data-v-28e4ba62"]]),lR=[{path:"/",name:"home",component:aR}],cR=M_({history:V0(),routes:lR});function vg(e,t){return function(){return e.apply(t,arguments)}}const{toString:uR}=Object.prototype,{getPrototypeOf:Sc}=Object,ko=(e=>t=>{const n=uR.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yn=e=>(e=e.toLowerCase(),t=>ko(t)===e),Ao=e=>t=>typeof t===e,{isArray:ti}=Array,Hi=Ao("undefined");function fR(e){return e!==null&&!Hi(e)&&e.constructor!==null&&!Hi(e.constructor)&&Yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const mg=yn("ArrayBuffer");function hR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&mg(e.buffer),t}const dR=Ao("string"),Yt=Ao("function"),_g=Ao("number"),Mo=e=>e!==null&&typeof e=="object",pR=e=>e===!0||e===!1,Ts=e=>{if(ko(e)!=="object")return!1;const t=Sc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},gR=yn("Date"),vR=yn("File"),mR=yn("Blob"),_R=yn("FileList"),yR=e=>Mo(e)&&Yt(e.pipe),bR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Yt(e.append)&&((t=ko(e))==="formdata"||t==="object"&&Yt(e.toString)&&e.toString()==="[object FormData]"))},wR=yn("URLSearchParams"),CR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qi(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),ti(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const p=n?Object.getOwnPropertyNames(e):Object.keys(e),m=p.length;let c;for(r=0;r<m;r++)c=p[r],t.call(null,e[c],c,e)}}function yg(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const bg=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),wg=e=>!Hi(e)&&e!==bg;function nl(){const{caseless:e}=wg(this)&&this||{},t={},n=(r,s)=>{const p=e&&yg(t,s)||s;Ts(t[p])&&Ts(r)?t[p]=nl(t[p],r):Ts(r)?t[p]=nl({},r):ti(r)?t[p]=r.slice():t[p]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&qi(arguments[r],n);return t}const SR=(e,t,n,{allOwnKeys:r}={})=>(qi(t,(s,p)=>{n&&Yt(s)?e[p]=vg(s,n):e[p]=s},{allOwnKeys:r}),e),xR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),TR=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},OR=(e,t,n,r)=>{let s,p,m;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),p=s.length;p-- >0;)m=s[p],(!r||r(m,e,t))&&!c[m]&&(t[m]=e[m],c[m]=!0);e=n!==!1&&Sc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ER=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},PR=e=>{if(!e)return null;if(ti(e))return e;let t=e.length;if(!_g(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},kR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Sc(Uint8Array)),AR=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const p=s.value;t.call(e,p[0],p[1])}},MR=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},RR=yn("HTMLFormElement"),DR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Vf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),IR=yn("RegExp"),Cg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};qi(n,(s,p)=>{let m;(m=t(s,p,e))!==!1&&(r[p]=m||s)}),Object.defineProperties(e,r)},FR=e=>{Cg(e,(t,n)=>{if(Yt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Yt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},LR=(e,t)=>{const n={},r=s=>{s.forEach(p=>{n[p]=!0})};return ti(e)?r(e):r(String(e).split(t)),n},BR=()=>{},jR=(e,t)=>(e=+e,Number.isFinite(e)?e:t),ga="abcdefghijklmnopqrstuvwxyz",Gf="0123456789",Sg={DIGIT:Gf,ALPHA:ga,ALPHA_DIGIT:ga+ga.toUpperCase()+Gf},NR=(e=16,t=Sg.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function zR(e){return!!(e&&Yt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const $R=e=>{const t=new Array(10),n=(r,s)=>{if(Mo(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const p=ti(r)?[]:{};return qi(r,(m,c)=>{const i=n(m,s+1);!Hi(i)&&(p[c]=i)}),t[s]=void 0,p}}return r};return n(e,0)},HR=yn("AsyncFunction"),UR=e=>e&&(Mo(e)||Yt(e))&&Yt(e.then)&&Yt(e.catch),de={isArray:ti,isArrayBuffer:mg,isBuffer:fR,isFormData:bR,isArrayBufferView:hR,isString:dR,isNumber:_g,isBoolean:pR,isObject:Mo,isPlainObject:Ts,isUndefined:Hi,isDate:gR,isFile:vR,isBlob:mR,isRegExp:IR,isFunction:Yt,isStream:yR,isURLSearchParams:wR,isTypedArray:kR,isFileList:_R,forEach:qi,merge:nl,extend:SR,trim:CR,stripBOM:xR,inherits:TR,toFlatObject:OR,kindOf:ko,kindOfTest:yn,endsWith:ER,toArray:PR,forEachEntry:AR,matchAll:MR,isHTMLForm:RR,hasOwnProperty:Vf,hasOwnProp:Vf,reduceDescriptors:Cg,freezeMethods:FR,toObjectSet:LR,toCamelCase:DR,noop:BR,toFiniteNumber:jR,findKey:yg,global:bg,isContextDefined:wg,ALPHABET:Sg,generateString:NR,isSpecCompliantForm:zR,toJSONObject:$R,isAsyncFn:HR,isThenable:UR};function Ie(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}de.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const xg=Ie.prototype,Tg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Tg[e]={value:e}});Object.defineProperties(Ie,Tg);Object.defineProperty(xg,"isAxiosError",{value:!0});Ie.from=(e,t,n,r,s,p)=>{const m=Object.create(xg);return de.toFlatObject(e,m,function(i){return i!==Error.prototype},c=>c!=="isAxiosError"),Ie.call(m,e.message,t,n,r,s),m.cause=e,m.name=e.name,p&&Object.assign(m,p),m};const WR=null;function rl(e){return de.isPlainObject(e)||de.isArray(e)}function Og(e){return de.endsWith(e,"[]")?e.slice(0,-2):e}function Kf(e,t,n){return e?e.concat(t).map(function(s,p){return s=Og(s),!n&&p?"["+s+"]":s}).join(n?".":""):t}function YR(e){return de.isArray(e)&&!e.some(rl)}const XR=de.toFlatObject(de,{},null,function(t){return/^is[A-Z]/.test(t)});function Ro(e,t,n){if(!de.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=de.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,d){return!de.isUndefined(d[g])});const r=n.metaTokens,s=n.visitor||f,p=n.dots,m=n.indexes,i=(n.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(t);if(!de.isFunction(s))throw new TypeError("visitor must be a function");function h(u){if(u===null)return"";if(de.isDate(u))return u.toISOString();if(!i&&de.isBlob(u))throw new Ie("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(u)||de.isTypedArray(u)?i&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function f(u,g,d){let v=u;if(u&&!d&&typeof u=="object"){if(de.endsWith(g,"{}"))g=r?g:g.slice(0,-2),u=JSON.stringify(u);else if(de.isArray(u)&&YR(u)||(de.isFileList(u)||de.endsWith(g,"[]"))&&(v=de.toArray(u)))return g=Og(g),v.forEach(function(b,y){!(de.isUndefined(b)||b===null)&&t.append(m===!0?Kf([g],y,p):m===null?g:g+"[]",h(b))}),!1}return rl(u)?!0:(t.append(Kf(d,g,p),h(u)),!1)}const o=[],l=Object.assign(XR,{defaultVisitor:f,convertValue:h,isVisitable:rl});function a(u,g){if(!de.isUndefined(u)){if(o.indexOf(u)!==-1)throw Error("Circular reference detected in "+g.join("."));o.push(u),de.forEach(u,function(v,_){(!(de.isUndefined(v)||v===null)&&s.call(t,v,de.isString(_)?_.trim():_,g,l))===!0&&a(v,g?g.concat(_):[_])}),o.pop()}}if(!de.isObject(e))throw new TypeError("data must be an object");return a(e),t}function qf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function xc(e,t){this._pairs=[],e&&Ro(e,this,t)}const Eg=xc.prototype;Eg.append=function(t,n){this._pairs.push([t,n])};Eg.toString=function(t){const n=t?function(r){return t.call(this,r,qf)}:qf;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function VR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Pg(e,t,n){if(!t)return e;const r=n&&n.encode||VR,s=n&&n.serialize;let p;if(s?p=s(t,n):p=de.isURLSearchParams(t)?t.toString():new xc(t,n).toString(r),p){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class GR{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){de.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Jf=GR,kg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KR=typeof URLSearchParams<"u"?URLSearchParams:xc,qR=typeof FormData<"u"?FormData:null,JR=typeof Blob<"u"?Blob:null,ZR=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),QR=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),pn={isBrowser:!0,classes:{URLSearchParams:KR,FormData:qR,Blob:JR},isStandardBrowserEnv:ZR,isStandardBrowserWebWorkerEnv:QR,protocols:["http","https","file","blob","url","data"]};function eD(e,t){return Ro(e,new pn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,p){return pn.isNode&&de.isBuffer(n)?(this.append(r,n.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)}},t))}function tD(e){return de.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nD(e){const t={},n=Object.keys(e);let r;const s=n.length;let p;for(r=0;r<s;r++)p=n[r],t[p]=e[p];return t}function Ag(e){function t(n,r,s,p){let m=n[p++];const c=Number.isFinite(+m),i=p>=n.length;return m=!m&&de.isArray(s)?s.length:m,i?(de.hasOwnProp(s,m)?s[m]=[s[m],r]:s[m]=r,!c):((!s[m]||!de.isObject(s[m]))&&(s[m]=[]),t(n,r,s[m],p)&&de.isArray(s[m])&&(s[m]=nD(s[m])),!c)}if(de.isFormData(e)&&de.isFunction(e.entries)){const n={};return de.forEachEntry(e,(r,s)=>{t(tD(r),s,n,0)}),n}return null}function rD(e,t,n){if(de.isString(e))try{return(t||JSON.parse)(e),de.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Tc={transitional:kg,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,p=de.isObject(t);if(p&&de.isHTMLForm(t)&&(t=new FormData(t)),de.isFormData(t))return s&&s?JSON.stringify(Ag(t)):t;if(de.isArrayBuffer(t)||de.isBuffer(t)||de.isStream(t)||de.isFile(t)||de.isBlob(t))return t;if(de.isArrayBufferView(t))return t.buffer;if(de.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(p){if(r.indexOf("application/x-www-form-urlencoded")>-1)return eD(t,this.formSerializer).toString();if((c=de.isFileList(t))||r.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return Ro(c?{"files[]":t}:t,i&&new i,this.formSerializer)}}return p||s?(n.setContentType("application/json",!1),rD(t)):t}],transformResponse:[function(t){const n=this.transitional||Tc.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(t&&de.isString(t)&&(r&&!this.responseType||s)){const m=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(m)throw c.name==="SyntaxError"?Ie.from(c,Ie.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pn.classes.FormData,Blob:pn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],e=>{Tc.headers[e]={}});const Oc=Tc,iD=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sD=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(m){s=m.indexOf(":"),n=m.substring(0,s).trim().toLowerCase(),r=m.substring(s+1).trim(),!(!n||t[n]&&iD[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Zf=Symbol("internals");function fi(e){return e&&String(e).trim().toLowerCase()}function Os(e){return e===!1||e==null?e:de.isArray(e)?e.map(Os):String(e)}function oD(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const aD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function va(e,t,n,r,s){if(de.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!de.isString(t)){if(de.isString(r))return t.indexOf(r)!==-1;if(de.isRegExp(r))return r.test(t)}}function lD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function cD(e,t){const n=de.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,p,m){return this[r].call(this,t,s,p,m)},configurable:!0})})}class Do{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function p(c,i,h){const f=fi(i);if(!f)throw new Error("header name must be a non-empty string");const o=de.findKey(s,f);(!o||s[o]===void 0||h===!0||h===void 0&&s[o]!==!1)&&(s[o||i]=Os(c))}const m=(c,i)=>de.forEach(c,(h,f)=>p(h,f,i));return de.isPlainObject(t)||t instanceof this.constructor?m(t,n):de.isString(t)&&(t=t.trim())&&!aD(t)?m(sD(t),n):t!=null&&p(n,t,r),this}get(t,n){if(t=fi(t),t){const r=de.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return oD(s);if(de.isFunction(n))return n.call(this,s,r);if(de.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=fi(t),t){const r=de.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||va(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function p(m){if(m=fi(m),m){const c=de.findKey(r,m);c&&(!n||va(r,r[c],c,n))&&(delete r[c],s=!0)}}return de.isArray(t)?t.forEach(p):p(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const p=n[r];(!t||va(this,this[p],p,t,!0))&&(delete this[p],s=!0)}return s}normalize(t){const n=this,r={};return de.forEach(this,(s,p)=>{const m=de.findKey(r,p);if(m){n[m]=Os(s),delete n[p];return}const c=t?lD(p):String(p).trim();c!==p&&delete n[p],n[c]=Os(s),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return de.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&de.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Zf]=this[Zf]={accessors:{}}).accessors,s=this.prototype;function p(m){const c=fi(m);r[c]||(cD(s,m),r[c]=!0)}return de.isArray(t)?t.forEach(p):p(t),this}}Do.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(Do.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});de.freezeMethods(Do);const Pn=Do;function ma(e,t){const n=this||Oc,r=t||n,s=Pn.from(r.headers);let p=r.data;return de.forEach(e,function(c){p=c.call(n,p,s.normalize(),t?t.status:void 0)}),s.normalize(),p}function Mg(e){return!!(e&&e.__CANCEL__)}function Ji(e,t,n){Ie.call(this,e??"canceled",Ie.ERR_CANCELED,t,n),this.name="CanceledError"}de.inherits(Ji,Ie,{__CANCEL__:!0});function uD(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ie("Request failed with status code "+n.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const fD=pn.isStandardBrowserEnv?function(){return{write:function(n,r,s,p,m,c){const i=[];i.push(n+"="+encodeURIComponent(r)),de.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),de.isString(p)&&i.push("path="+p),de.isString(m)&&i.push("domain="+m),c===!0&&i.push("secure"),document.cookie=i.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function hD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function dD(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Rg(e,t){return e&&!hD(t)?dD(e,t):t}const pD=pn.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(p){let m=p;return t&&(n.setAttribute("href",m),m=n.href),n.setAttribute("href",m),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(m){const c=de.isString(m)?s(m):m;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}();function gD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function vD(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,p=0,m;return t=t!==void 0?t:1e3,function(i){const h=Date.now(),f=r[p];m||(m=h),n[s]=i,r[s]=h;let o=p,l=0;for(;o!==s;)l+=n[o++],o=o%e;if(s=(s+1)%e,s===p&&(p=(p+1)%e),h-m<t)return;const a=f&&h-f;return a?Math.round(l*1e3/a):void 0}}function Qf(e,t){let n=0;const r=vD(50,250);return s=>{const p=s.loaded,m=s.lengthComputable?s.total:void 0,c=p-n,i=r(c),h=p<=m;n=p;const f={loaded:p,total:m,progress:m?p/m:void 0,bytes:c,rate:i||void 0,estimated:i&&m&&h?(m-p)/i:void 0,event:s};f[t?"download":"upload"]=!0,e(f)}}const mD=typeof XMLHttpRequest<"u",_D=mD&&function(e){return new Promise(function(n,r){let s=e.data;const p=Pn.from(e.headers).normalize(),m=e.responseType;let c;function i(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let h;de.isFormData(s)&&(pn.isStandardBrowserEnv||pn.isStandardBrowserWebWorkerEnv?p.setContentType(!1):p.getContentType(/^\s*multipart\/form-data/)?de.isString(h=p.getContentType())&&p.setContentType(h.replace(/^\s*(multipart\/form-data);+/,"$1")):p.setContentType("multipart/form-data"));let f=new XMLHttpRequest;if(e.auth){const u=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.set("Authorization","Basic "+btoa(u+":"+g))}const o=Rg(e.baseURL,e.url);f.open(e.method.toUpperCase(),Pg(o,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function l(){if(!f)return;const u=Pn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),d={data:!m||m==="text"||m==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:u,config:e,request:f};uD(function(_){n(_),i()},function(_){r(_),i()},d),f=null}if("onloadend"in f?f.onloadend=l:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(l)},f.onabort=function(){f&&(r(new Ie("Request aborted",Ie.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new Ie("Network Error",Ie.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let g=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const d=e.transitional||kg;e.timeoutErrorMessage&&(g=e.timeoutErrorMessage),r(new Ie(g,d.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,e,f)),f=null},pn.isStandardBrowserEnv){const u=(e.withCredentials||pD(o))&&e.xsrfCookieName&&fD.read(e.xsrfCookieName);u&&p.set(e.xsrfHeaderName,u)}s===void 0&&p.setContentType(null),"setRequestHeader"in f&&de.forEach(p.toJSON(),function(g,d){f.setRequestHeader(d,g)}),de.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),m&&m!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",Qf(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Qf(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=u=>{f&&(r(!u||u.type?new Ji(null,e,f):u),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const a=gD(o);if(a&&pn.protocols.indexOf(a)===-1){r(new Ie("Unsupported protocol "+a+":",Ie.ERR_BAD_REQUEST,e));return}f.send(s||null)})},il={http:WR,xhr:_D};de.forEach(il,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const eh=e=>`- ${e}`,yD=e=>de.isFunction(e)||e===null||e===!1,Dg={getAdapter:e=>{e=de.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let p=0;p<t;p++){n=e[p];let m;if(r=n,!yD(n)&&(r=il[(m=String(n)).toLowerCase()],r===void 0))throw new Ie(`Unknown adapter '${m}'`);if(r)break;s[m||"#"+p]=r}if(!r){const p=Object.entries(s).map(([c,i])=>`adapter ${c} `+(i===!1?"is not supported by the environment":"is not available in the build"));let m=t?p.length>1?`since :
`+p.map(eh).join(`
`):" "+eh(p[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return r},adapters:il};function _a(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ji(null,e)}function th(e){return _a(e),e.headers=Pn.from(e.headers),e.data=ma.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Dg.getAdapter(e.adapter||Oc.adapter)(e).then(function(r){return _a(e),r.data=ma.call(e,e.transformResponse,r),r.headers=Pn.from(r.headers),r},function(r){return Mg(r)||(_a(e),r&&r.response&&(r.response.data=ma.call(e,e.transformResponse,r.response),r.response.headers=Pn.from(r.response.headers))),Promise.reject(r)})}const nh=e=>e instanceof Pn?e.toJSON():e;function Vr(e,t){t=t||{};const n={};function r(h,f,o){return de.isPlainObject(h)&&de.isPlainObject(f)?de.merge.call({caseless:o},h,f):de.isPlainObject(f)?de.merge({},f):de.isArray(f)?f.slice():f}function s(h,f,o){if(de.isUndefined(f)){if(!de.isUndefined(h))return r(void 0,h,o)}else return r(h,f,o)}function p(h,f){if(!de.isUndefined(f))return r(void 0,f)}function m(h,f){if(de.isUndefined(f)){if(!de.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function c(h,f,o){if(o in t)return r(h,f);if(o in e)return r(void 0,h)}const i={url:p,method:p,data:p,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:c,headers:(h,f)=>s(nh(h),nh(f),!0)};return de.forEach(Object.keys(Object.assign({},e,t)),function(f){const o=i[f]||s,l=o(e[f],t[f],f);de.isUndefined(l)&&o!==c||(n[f]=l)}),n}const Ig="1.5.1",Ec={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ec[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const rh={};Ec.transitional=function(t,n,r){function s(p,m){return"[Axios v"+Ig+"] Transitional option '"+p+"'"+m+(r?". "+r:"")}return(p,m,c)=>{if(t===!1)throw new Ie(s(m," has been removed"+(n?" in "+n:"")),Ie.ERR_DEPRECATED);return n&&!rh[m]&&(rh[m]=!0,console.warn(s(m," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(p,m,c):!0}};function bD(e,t,n){if(typeof e!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const p=r[s],m=t[p];if(m){const c=e[p],i=c===void 0||m(c,p,e);if(i!==!0)throw new Ie("option "+p+" must be "+i,Ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ie("Unknown option "+p,Ie.ERR_BAD_OPTION)}}const sl={assertOptions:bD,validators:Ec},Nn=sl.validators;class Xs{constructor(t){this.defaults=t,this.interceptors={request:new Jf,response:new Jf}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Vr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:p}=n;r!==void 0&&sl.assertOptions(r,{silentJSONParsing:Nn.transitional(Nn.boolean),forcedJSONParsing:Nn.transitional(Nn.boolean),clarifyTimeoutError:Nn.transitional(Nn.boolean)},!1),s!=null&&(de.isFunction(s)?n.paramsSerializer={serialize:s}:sl.assertOptions(s,{encode:Nn.function,serialize:Nn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let m=p&&de.merge(p.common,p[n.method]);p&&de.forEach(["delete","get","head","post","put","patch","common"],u=>{delete p[u]}),n.headers=Pn.concat(m,p);const c=[];let i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(i=i&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});const h=[];this.interceptors.response.forEach(function(g){h.push(g.fulfilled,g.rejected)});let f,o=0,l;if(!i){const u=[th.bind(this),void 0];for(u.unshift.apply(u,c),u.push.apply(u,h),l=u.length,f=Promise.resolve(n);o<l;)f=f.then(u[o++],u[o++]);return f}l=c.length;let a=n;for(o=0;o<l;){const u=c[o++],g=c[o++];try{a=u(a)}catch(d){g.call(this,d);break}}try{f=th.call(this,a)}catch(u){return Promise.reject(u)}for(o=0,l=h.length;o<l;)f=f.then(h[o++],h[o++]);return f}getUri(t){t=Vr(this.defaults,t);const n=Rg(t.baseURL,t.url);return Pg(n,t.params,t.paramsSerializer)}}de.forEach(["delete","get","head","options"],function(t){Xs.prototype[t]=function(n,r){return this.request(Vr(r||{},{method:t,url:n,data:(r||{}).data}))}});de.forEach(["post","put","patch"],function(t){function n(r){return function(p,m,c){return this.request(Vr(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:p,data:m}))}}Xs.prototype[t]=n(),Xs.prototype[t+"Form"]=n(!0)});const Es=Xs;class Pc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(p){n=p});const r=this;this.promise.then(s=>{if(!r._listeners)return;let p=r._listeners.length;for(;p-- >0;)r._listeners[p](s);r._listeners=null}),this.promise.then=s=>{let p;const m=new Promise(c=>{r.subscribe(c),p=c}).then(s);return m.cancel=function(){r.unsubscribe(p)},m},t(function(p,m,c){r.reason||(r.reason=new Ji(p,m,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Pc(function(s){t=s}),cancel:t}}}const wD=Pc;function CD(e){return function(n){return e.apply(null,n)}}function SD(e){return de.isObject(e)&&e.isAxiosError===!0}const ol={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ol).forEach(([e,t])=>{ol[t]=e});const xD=ol;function Fg(e){const t=new Es(e),n=vg(Es.prototype.request,t);return de.extend(n,Es.prototype,t,{allOwnKeys:!0}),de.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Fg(Vr(e,s))},n}const rt=Fg(Oc);rt.Axios=Es;rt.CanceledError=Ji;rt.CancelToken=wD;rt.isCancel=Mg;rt.VERSION=Ig;rt.toFormData=Ro;rt.AxiosError=Ie;rt.Cancel=rt.CanceledError;rt.all=function(t){return Promise.all(t)};rt.spread=CD;rt.isAxiosError=SD;rt.mergeConfig=Vr;rt.AxiosHeaders=Pn;rt.formToJSON=e=>Ag(de.isHTMLForm(e)?new FormData(e):e);rt.getAdapter=Dg.getAdapter;rt.HttpStatusCode=xD;rt.default=rt;const Lg=rt,kc=Lg.create({timeout:5e3});Lg.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)});kc.interceptors.request.use(e=>e,e=>(console.log(e),Promise.reject(e)));kc.interceptors.response.use(e=>{if(e)return e.data;debugger;throw console.log("无数据返回"),new Error("无数据返回")},e=>(console.log("err"+e),SE({message:e.message,type:"error",duration:3*1e3,showClose:!0}),Promise.reject(e)));function Bg(e,t,n,r){kc(e).then(s=>{e.retry&&(s.retry=t-e.retry),n(s)}).catch(s=>{e.retry--,e.retry>=0?setTimeout(()=>{Bg(e,t,n,r)},10):(s.retry=t,r(s))})}function ih(e){return new Promise((t,n)=>{(!e||!e.url)&&n({errorMsg:"请求对象不完整"}),e.type||(e.type="get"),e.timeout||(e.timeout=5e3),typeof e.retry!="number"&&(e.retry=3),Bg(e,e.retry,t,n)}).then(t=>t)}const TD=q_({state:{isClose:!0,activeModule:null,imageList:[],loadOk:!1,icons:[],selectedItem:null,workspace:null},getters:{},mutations:{setClose(e,t){e.isClose=t},setActiveModule(e,t){e.activeModule=t},Ok(e,t){e.loadOk=!0,e.imageList=t},COMMIT_ICONS(e,t){e.icons=t},setActivateItem(e,t){e.selectedItem=t},setWorkarea(e,t){e.workspace=t}},actions:{getMaterial({commit:e}){const t=[];t.push(ih({url:"https://haixin-fang.github.io/vue-design-editor-static/imglist.json",timeout:1e4}).catch(n=>console.error(n))),t.push(ih({url:"https://haixin-fang.github.io/icons/bootstrap-icons.json",timeout:1e4}).catch(n=>console.error(n))),Promise.all(t).then(n=>{if(Array.isArray(n)&&(n[0]&&e("Ok",n[0]),n[1])){const r=Object.keys(n[1]),s=[];r.forEach(p=>{const m=`https://haixin-fang.github.io/icons/icons/${p}.svg`;s.push({url:m})}),e("COMMIT_ICONS",s)}})}},modules:{}});const OD={class:"gda-popover-content"},ED={key:0,class:"gda-popover-arrow"},PD={class:"gda-popover-inner"},kD={__name:"popover",props:{to:{type:String,default:"body"},arrow:{type:Boolean,default:!1},dom:{type:HTMLElement,default:null},show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e;let r=null,s=null;const p=fe();Ae(()=>n.show,h=>{h&&at(()=>{c()})}),Ge(()=>{window.addEventListener("click",h=>{n.show&&(Array.from(h.path||h.composedPath()).find(o=>{if(o.className&&typeof o.className=="string"&&o.className.indexOf("popover")!=-1)return o})||t("close"))})}),Jr(()=>{window.removeEventListener("resize",c)});const m=()=>{window.addEventListener("resize",c),s=new ResizeObserver(ws(()=>{c()},50)),s.observe(r)};function c(){s||m();const{width:h,height:f,left:o,top:l,bottom:a,right:u}=n.dom?.getBoundingClientRect(),{offsetWidth:g,offsetHeight:d}=r;let v=0,_=0,b=0,y=0;l>d+10?(v=l-d-10,y=d+10,g<u?(_=o+h-g,b=g):(_=o,b=0)):a>d+10&&(v=l+f+10,y=10,g<u?(_=o+h-g,b=g):(_=o,b=0)),p.value.style.left=_+"px",p.value.style.top=v+"px",p.value.style.transformOrigin=`${b}px ${y}px`}const i=h=>{r=h};return(h,f)=>(ee(),Te(Ol,{to:e.to},[ve(_n,{name:"fade"},{default:_e(()=>[dt(ie("div",{class:"gda-popover",ref_key:"popover",ref:p},[ie("div",OD,[e.arrow?(ee(),he("div",ED)):we("",!0),ie("div",PD,[Ee(h.$slots,"default",{setSlotRef:i},void 0,!0)])])],512),[[xt,e.show]])]),_:3})],8,["to"]))}},AD=vt(kD,[["__scopeId","data-v-0fe2fdde"]]),MD=v0(b0);MD.use(TD).use(cR).component("popover",AD).mount("#app");
