var i0=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ij=i0((Ut,Vt)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const d of s)if(d.type==="childList")for(const v of d.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&r(v)}).observe(document,{childList:!0,subtree:!0});function n(s){const d={};return s.integrity&&(d.integrity=s.integrity),s.referrerPolicy&&(d.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?d.credentials="include":s.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(s){if(s.ep)return;s.ep=!0;const d=n(s);fetch(s.href,d)}})();function lc(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Ze={},Qr=[],We=()=>{},s0=()=>!1,o0=/^on[^a-z]/,zo=e=>o0.test(e),cc=e=>e.startsWith("onUpdate:"),at=Object.assign,uc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},a0=Object.prototype.hasOwnProperty,Le=(e,t)=>a0.call(e,t),Te=Array.isArray,ei=e=>Cs(e)==="[object Map]",yi=e=>Cs(e)==="[object Set]",zu=e=>Cs(e)==="[object Date]",Pe=e=>typeof e=="function",De=e=>typeof e=="string",ts=e=>typeof e=="symbol",He=e=>e!==null&&typeof e=="object",Wd=e=>He(e)&&Pe(e.then)&&Pe(e.catch),Yd=Object.prototype.toString,Cs=e=>Yd.call(e),l0=e=>Cs(e).slice(8,-1),mo=e=>Cs(e)==="[object Object]",fc=e=>De(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,io=lc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ho=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},c0=/-(\w)/g,fn=Ho(e=>e.replace(c0,(t,n)=>n?n.toUpperCase():"")),u0=/\B([A-Z])/g,Lr=Ho(e=>e.replace(u0,"-$1").toLowerCase()),Uo=Ho(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ea=Ho(e=>e?`on${Uo(e)}`:""),ns=(e,t)=>!Object.is(e,t),so=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},_o=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},yo=e=>{const t=parseFloat(e);return isNaN(t)?e:t},f0=e=>{const t=De(e)?Number(e):NaN;return isNaN(t)?e:t};let Hu;const dl=()=>Hu||(Hu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Re(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=De(r)?g0(r):Re(r);if(s)for(const d in s)t[d]=s[d]}return t}else{if(De(e))return e;if(He(e))return e}}const h0=/;(?![^(]*\))/g,d0=/:([^]+)/,p0=/\/\*[^]*?\*\//g;function g0(e){const t={};return e.replace(p0,"").split(h0).forEach(n=>{if(n){const r=n.split(d0);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function pe(e){let t="";if(De(e))t=e;else if(Te(e))for(let n=0;n<e.length;n++){const r=pe(e[n]);r&&(t+=r+" ")}else if(He(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function v0(e){if(!e)return null;let{class:t,style:n}=e;return t&&!De(t)&&(e.class=pe(t)),n&&(e.style=Re(n)),e}const m0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_0=lc(m0);function Xd(e){return!!e||e===""}function y0(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Mr(e[r],t[r]);return n}function Mr(e,t){if(e===t)return!0;let n=zu(e),r=zu(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ts(e),r=ts(t),n||r)return e===t;if(n=Te(e),r=Te(t),n||r)return n&&r?y0(e,t):!1;if(n=He(e),r=He(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,d=Object.keys(t).length;if(s!==d)return!1;for(const v in e){const c=e.hasOwnProperty(v),i=t.hasOwnProperty(v);if(c&&!i||!c&&i||!Mr(e[v],t[v]))return!1}}return String(e)===String(t)}function hc(e,t){return e.findIndex(n=>Mr(n,t))}const Be=e=>De(e)?e:e==null?"":Te(e)||He(e)&&(e.toString===Yd||!Pe(e.toString))?JSON.stringify(e,Gd,2):String(e),Gd=(e,t)=>t&&t.__v_isRef?Gd(e,t.value):ei(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:yi(t)?{[`Set(${t.size})`]:[...t.values()]}:He(t)&&!Te(t)&&!mo(t)?String(t):t;let zt;class Kd{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=zt,!t&&zt&&(this.index=(zt.scopes||(zt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=zt;try{return zt=this,t()}finally{zt=n}}}on(){zt=this}off(){zt=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function qd(e){return new Kd(e)}function b0(e,t=zt){t&&t.active&&t.effects.push(e)}function Jd(){return zt}function w0(e){zt&&zt.cleanups.push(e)}const dc=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Zd=e=>(e.w&fr)>0,Qd=e=>(e.n&fr)>0,C0=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=fr},S0=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];Zd(s)&&!Qd(s)?s.delete(e):t[n++]=s,s.w&=~fr,s.n&=~fr}t.length=n}},bo=new WeakMap;let $i=0,fr=1;const pl=30;let an;const Pr=Symbol(""),gl=Symbol("");class pc{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,b0(this,r)}run(){if(!this.active)return this.fn();let t=an,n=cr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=an,an=this,cr=!0,fr=1<<++$i,$i<=pl?C0(this):Uu(this),this.fn()}finally{$i<=pl&&S0(this),fr=1<<--$i,an=this.parent,cr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){an===this?this.deferStop=!0:this.active&&(Uu(this),this.onStop&&this.onStop(),this.active=!1)}}function Uu(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let cr=!0;const ep=[];function bi(){ep.push(cr),cr=!1}function wi(){const e=ep.pop();cr=e===void 0?!0:e}function Lt(e,t,n){if(cr&&an){let r=bo.get(e);r||bo.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=dc()),tp(s)}}function tp(e,t){let n=!1;$i<=pl?Qd(e)||(e.n|=fr,n=!Zd(e)):n=!e.has(an),n&&(e.add(an),an.deps.push(e))}function Hn(e,t,n,r,s,d){const v=bo.get(e);if(!v)return;let c=[];if(t==="clear")c=[...v.values()];else if(n==="length"&&Te(e)){const i=Number(r);v.forEach((f,h)=>{(h==="length"||h>=i)&&c.push(f)})}else switch(n!==void 0&&c.push(v.get(n)),t){case"add":Te(e)?fc(n)&&c.push(v.get("length")):(c.push(v.get(Pr)),ei(e)&&c.push(v.get(gl)));break;case"delete":Te(e)||(c.push(v.get(Pr)),ei(e)&&c.push(v.get(gl)));break;case"set":ei(e)&&c.push(v.get(Pr));break}if(c.length===1)c[0]&&vl(c[0]);else{const i=[];for(const f of c)f&&i.push(...f);vl(dc(i))}}function vl(e,t){const n=Te(e)?e:[...e];for(const r of n)r.computed&&Vu(r);for(const r of n)r.computed||Vu(r)}function Vu(e,t){(e!==an||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function x0(e,t){var n;return(n=bo.get(e))==null?void 0:n.get(t)}const T0=lc("__proto__,__v_isRef,__isVue"),np=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ts)),O0=gc(),E0=gc(!1,!0),P0=gc(!0),Wu=k0();function k0(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=$e(this);for(let d=0,v=this.length;d<v;d++)Lt(r,"get",d+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map($e)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){bi();const r=$e(this)[t].apply(this,n);return wi(),r}}),e}function A0(e){const t=$e(this);return Lt(t,"has",e),t.hasOwnProperty(e)}function gc(e=!1,t=!1){return function(r,s,d){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&d===(e?t?Y0:ap:t?op:sp).get(r))return r;const v=Te(r);if(!e){if(v&&Le(Wu,s))return Reflect.get(Wu,s,d);if(s==="hasOwnProperty")return A0}const c=Reflect.get(r,s,d);return(ts(s)?np.has(s):T0(s))||(e||Lt(r,"get",s),t)?c:dt(c)?v&&fc(s)?c:c.value:He(c)?e?Ss(c):Pn(c):c}}const I0=rp(),M0=rp(!0);function rp(e=!1){return function(n,r,s,d){let v=n[r];if(ri(v)&&dt(v)&&!dt(s))return!1;if(!e&&(!wo(s)&&!ri(s)&&(v=$e(v),s=$e(s)),!Te(n)&&dt(v)&&!dt(s)))return v.value=s,!0;const c=Te(n)&&fc(r)?Number(r)<n.length:Le(n,r),i=Reflect.set(n,r,s,d);return n===$e(d)&&(c?ns(s,v)&&Hn(n,"set",r,s):Hn(n,"add",r,s)),i}}function R0(e,t){const n=Le(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Hn(e,"delete",t,void 0),r}function D0(e,t){const n=Reflect.has(e,t);return(!ts(t)||!np.has(t))&&Lt(e,"has",t),n}function F0(e){return Lt(e,"iterate",Te(e)?"length":Pr),Reflect.ownKeys(e)}const ip={get:O0,set:I0,deleteProperty:R0,has:D0,ownKeys:F0},L0={get:P0,set(e,t){return!0},deleteProperty(e,t){return!0}},B0=at({},ip,{get:E0,set:M0}),vc=e=>e,Vo=e=>Reflect.getPrototypeOf(e);function js(e,t,n=!1,r=!1){e=e.__v_raw;const s=$e(e),d=$e(t);n||(t!==d&&Lt(s,"get",t),Lt(s,"get",d));const{has:v}=Vo(s),c=r?vc:n?bc:rs;if(v.call(s,t))return c(e.get(t));if(v.call(s,d))return c(e.get(d));e!==s&&e.get(t)}function Ns(e,t=!1){const n=this.__v_raw,r=$e(n),s=$e(e);return t||(e!==s&&Lt(r,"has",e),Lt(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function zs(e,t=!1){return e=e.__v_raw,!t&&Lt($e(e),"iterate",Pr),Reflect.get(e,"size",e)}function Yu(e){e=$e(e);const t=$e(this);return Vo(t).has.call(t,e)||(t.add(e),Hn(t,"add",e,e)),this}function Xu(e,t){t=$e(t);const n=$e(this),{has:r,get:s}=Vo(n);let d=r.call(n,e);d||(e=$e(e),d=r.call(n,e));const v=s.call(n,e);return n.set(e,t),d?ns(t,v)&&Hn(n,"set",e,t):Hn(n,"add",e,t),this}function Gu(e){const t=$e(this),{has:n,get:r}=Vo(t);let s=n.call(t,e);s||(e=$e(e),s=n.call(t,e)),r&&r.call(t,e);const d=t.delete(e);return s&&Hn(t,"delete",e,void 0),d}function Ku(){const e=$e(this),t=e.size!==0,n=e.clear();return t&&Hn(e,"clear",void 0,void 0),n}function Hs(e,t){return function(r,s){const d=this,v=d.__v_raw,c=$e(v),i=t?vc:e?bc:rs;return!e&&Lt(c,"iterate",Pr),v.forEach((f,h)=>r.call(s,i(f),i(h),d))}}function Us(e,t,n){return function(...r){const s=this.__v_raw,d=$e(s),v=ei(d),c=e==="entries"||e===Symbol.iterator&&v,i=e==="keys"&&v,f=s[e](...r),h=n?vc:t?bc:rs;return!t&&Lt(d,"iterate",i?gl:Pr),{next(){const{value:o,done:l}=f.next();return l?{value:o,done:l}:{value:c?[h(o[0]),h(o[1])]:h(o),done:l}},[Symbol.iterator](){return this}}}}function Jn(e){return function(...t){return e==="delete"?!1:this}}function $0(){const e={get(d){return js(this,d)},get size(){return zs(this)},has:Ns,add:Yu,set:Xu,delete:Gu,clear:Ku,forEach:Hs(!1,!1)},t={get(d){return js(this,d,!1,!0)},get size(){return zs(this)},has:Ns,add:Yu,set:Xu,delete:Gu,clear:Ku,forEach:Hs(!1,!0)},n={get(d){return js(this,d,!0)},get size(){return zs(this,!0)},has(d){return Ns.call(this,d,!0)},add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear"),forEach:Hs(!0,!1)},r={get(d){return js(this,d,!0,!0)},get size(){return zs(this,!0)},has(d){return Ns.call(this,d,!0)},add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear"),forEach:Hs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{e[d]=Us(d,!1,!1),n[d]=Us(d,!0,!1),t[d]=Us(d,!1,!0),r[d]=Us(d,!0,!0)}),[e,n,t,r]}const[j0,N0,z0,H0]=$0();function mc(e,t){const n=t?e?H0:z0:e?N0:j0;return(r,s,d)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Le(n,s)&&s in r?n:r,s,d)}const U0={get:mc(!1,!1)},V0={get:mc(!1,!0)},W0={get:mc(!0,!1)},sp=new WeakMap,op=new WeakMap,ap=new WeakMap,Y0=new WeakMap;function X0(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function G0(e){return e.__v_skip||!Object.isExtensible(e)?0:X0(l0(e))}function Pn(e){return ri(e)?e:yc(e,!1,ip,U0,sp)}function _c(e){return yc(e,!1,B0,V0,op)}function Ss(e){return yc(e,!0,L0,W0,ap)}function yc(e,t,n,r,s){if(!He(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const d=s.get(e);if(d)return d;const v=G0(e);if(v===0)return e;const c=new Proxy(e,v===2?r:n);return s.set(e,c),c}function ti(e){return ri(e)?ti(e.__v_raw):!!(e&&e.__v_isReactive)}function ri(e){return!!(e&&e.__v_isReadonly)}function wo(e){return!!(e&&e.__v_isShallow)}function lp(e){return ti(e)||ri(e)}function $e(e){const t=e&&e.__v_raw;return t?$e(t):e}function Co(e){return _o(e,"__v_skip",!0),e}const rs=e=>He(e)?Pn(e):e,bc=e=>He(e)?Ss(e):e;function cp(e){cr&&an&&(e=$e(e),tp(e.dep||(e.dep=dc())))}function up(e,t){e=$e(e);const n=e.dep;n&&vl(n)}function dt(e){return!!(e&&e.__v_isRef===!0)}function fe(e){return fp(e,!1)}function Wt(e){return fp(e,!0)}function fp(e,t){return dt(e)?e:new K0(e,t)}class K0{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:$e(t),this._value=n?t:rs(t)}get value(){return cp(this),this._value}set value(t){const n=this.__v_isShallow||wo(t)||ri(t);t=n?t:$e(t),ns(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:rs(t),up(this))}}function S(e){return dt(e)?e.value:e}const q0={get:(e,t,n)=>S(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return dt(s)&&!dt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function hp(e){return ti(e)?e:new Proxy(e,q0)}function ml(e){const t=Te(e)?new Array(e.length):{};for(const n in e)t[n]=dp(e,n);return t}class J0{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return x0($e(this._object),this._key)}}class Z0{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function wt(e,t,n){return dt(e)?e:Pe(e)?new Z0(e):He(e)&&arguments.length>1?dp(e,t,n):fe(e)}function dp(e,t,n){const r=e[t];return dt(r)?r:new J0(e,t,n)}class Q0{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new pc(t,()=>{this._dirty||(this._dirty=!0,up(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=$e(this);return cp(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function e_(e,t,n=!1){let r,s;const d=Pe(e);return d?(r=e,s=We):(r=e.get,s=e.set),new Q0(r,s,d||!s,n)}function t_(e,...t){}function ur(e,t,n,r){let s;try{s=r?e(...r):e()}catch(d){Wo(d,t,n)}return s}function Zt(e,t,n,r){if(Pe(e)){const d=ur(e,t,n,r);return d&&Wd(d)&&d.catch(v=>{Wo(v,t,n)}),d}const s=[];for(let d=0;d<e.length;d++)s.push(Zt(e[d],t,n,r));return s}function Wo(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let d=t.parent;const v=t.proxy,c=n;for(;d;){const f=d.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](e,v,c)===!1)return}d=d.parent}const i=t.appContext.config.errorHandler;if(i){ur(i,null,10,[e,v,c]);return}}n_(e,n,s,r)}function n_(e,t,n,r=!0){console.error(e)}let is=!1,_l=!1;const Tt=[];let wn=0;const ni=[];let Bn=null,Sr=0;const pp=Promise.resolve();let wc=null;function nt(e){const t=wc||pp;return e?t.then(this?e.bind(this):e):t}function r_(e){let t=wn+1,n=Tt.length;for(;t<n;){const r=t+n>>>1;ss(Tt[r])<e?t=r+1:n=r}return t}function Cc(e){(!Tt.length||!Tt.includes(e,is&&e.allowRecurse?wn+1:wn))&&(e.id==null?Tt.push(e):Tt.splice(r_(e.id),0,e),gp())}function gp(){!is&&!_l&&(_l=!0,wc=pp.then(mp))}function i_(e){const t=Tt.indexOf(e);t>wn&&Tt.splice(t,1)}function s_(e){Te(e)?ni.push(...e):(!Bn||!Bn.includes(e,e.allowRecurse?Sr+1:Sr))&&ni.push(e),gp()}function qu(e,t=is?wn+1:0){for(;t<Tt.length;t++){const n=Tt[t];n&&n.pre&&(Tt.splice(t,1),t--,n())}}function vp(e){if(ni.length){const t=[...new Set(ni)];if(ni.length=0,Bn){Bn.push(...t);return}for(Bn=t,Bn.sort((n,r)=>ss(n)-ss(r)),Sr=0;Sr<Bn.length;Sr++)Bn[Sr]();Bn=null,Sr=0}}const ss=e=>e.id==null?1/0:e.id,o_=(e,t)=>{const n=ss(e)-ss(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function mp(e){_l=!1,is=!0,Tt.sort(o_);const t=We;try{for(wn=0;wn<Tt.length;wn++){const n=Tt[wn];n&&n.active!==!1&&ur(n,null,14)}}finally{wn=0,Tt.length=0,vp(),is=!1,wc=null,(Tt.length||ni.length)&&mp()}}function a_(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ze;let s=n;const d=t.startsWith("update:"),v=d&&t.slice(7);if(v&&v in r){const h=`${v==="modelValue"?"model":v}Modifiers`,{number:o,trim:l}=r[h]||Ze;l&&(s=n.map(a=>De(a)?a.trim():a)),o&&(s=n.map(yo))}let c,i=r[c=Ea(t)]||r[c=Ea(fn(t))];!i&&d&&(i=r[c=Ea(Lr(t))]),i&&Zt(i,e,6,s);const f=r[c+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Zt(f,e,6,s)}}function _p(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const d=e.emits;let v={},c=!1;if(!Pe(e)){const i=f=>{const h=_p(f,t,!0);h&&(c=!0,at(v,h))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return!d&&!c?(He(e)&&r.set(e,null),null):(Te(d)?d.forEach(i=>v[i]=null):at(v,d),He(e)&&r.set(e,v),v)}function Yo(e,t){return!e||!zo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Le(e,t[0].toLowerCase()+t.slice(1))||Le(e,Lr(t))||Le(e,t))}let Ct=null,Xo=null;function So(e){const t=Ct;return Ct=e,Xo=e&&e.type.__scopeId||null,t}function xs(e){Xo=e}function Ts(){Xo=null}function ve(e,t=Ct,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&uf(-1);const d=So(t);let v;try{v=e(...s)}finally{So(d),r._d&&uf(1)}return v};return r._n=!0,r._c=!0,r._d=!0,r}function Pa(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:d,propsOptions:[v],slots:c,attrs:i,emit:f,render:h,renderCache:o,data:l,setupState:a,ctx:u,inheritAttrs:g}=e;let p,m;const _=So(e);try{if(n.shapeFlag&4){const b=s||r;p=bn(h.call(b,b,o,d,a,l,u)),m=i}else{const b=t;p=bn(b.length>1?b(d,{attrs:i,slots:c,emit:f}):b(d,null)),m=t.props?i:l_(i)}}catch(b){Wi.length=0,Wo(b,e,1),p=he(Yt)}let y=p;if(m&&g!==!1){const b=Object.keys(m),{shapeFlag:w}=y;b.length&&w&7&&(v&&b.some(cc)&&(m=c_(m,v)),y=Un(y,m))}return n.dirs&&(y=Un(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),p=y,So(_),p}const l_=e=>{let t;for(const n in e)(n==="class"||n==="style"||zo(n))&&((t||(t={}))[n]=e[n]);return t},c_=(e,t)=>{const n={};for(const r in e)(!cc(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function u_(e,t,n){const{props:r,children:s,component:d}=e,{props:v,children:c,patchFlag:i}=t,f=d.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&i>=0){if(i&1024)return!0;if(i&16)return r?Ju(r,v,f):!!v;if(i&8){const h=t.dynamicProps;for(let o=0;o<h.length;o++){const l=h[o];if(v[l]!==r[l]&&!Yo(f,l))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===v?!1:r?v?Ju(r,v,f):!0:!!v;return!1}function Ju(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const d=r[s];if(t[d]!==e[d]&&!Yo(n,d))return!0}return!1}function f_({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const h_=e=>e.__isSuspense;function d_(e,t){t&&t.pendingBranch?Te(e)?t.effects.push(...e):t.effects.push(e):s_(e)}const Vs={};function ke(e,t,n){return yp(e,t,n)}function yp(e,t,{immediate:n,deep:r,flush:s,onTrack:d,onTrigger:v}=Ze){var c;const i=Jd()===((c=gt)==null?void 0:c.scope)?gt:null;let f,h=!1,o=!1;if(dt(e)?(f=()=>e.value,h=wo(e)):ti(e)?(f=()=>e,r=!0):Te(e)?(o=!0,h=e.some(b=>ti(b)||wo(b)),f=()=>e.map(b=>{if(dt(b))return b.value;if(ti(b))return Or(b);if(Pe(b))return ur(b,i,2)})):Pe(e)?t?f=()=>ur(e,i,2):f=()=>{if(!(i&&i.isUnmounted))return l&&l(),Zt(e,i,3,[a])}:f=We,t&&r){const b=f;f=()=>Or(b())}let l,a=b=>{l=_.onStop=()=>{ur(b,i,4)}},u;if(cs)if(a=We,t?n&&Zt(t,i,3,[f(),o?[]:void 0,a]):f(),s==="sync"){const b=ty();u=b.__watcherHandles||(b.__watcherHandles=[])}else return We;let g=o?new Array(e.length).fill(Vs):Vs;const p=()=>{if(_.active)if(t){const b=_.run();(r||h||(o?b.some((w,C)=>ns(w,g[C])):ns(b,g)))&&(l&&l(),Zt(t,i,3,[b,g===Vs?void 0:o&&g[0]===Vs?[]:g,a]),g=b)}else _.run()};p.allowRecurse=!!t;let m;s==="sync"?m=p:s==="post"?m=()=>Rt(p,i&&i.suspense):(p.pre=!0,i&&(p.id=i.uid),m=()=>Cc(p));const _=new pc(f,m);t?n?p():g=_.run():s==="post"?Rt(_.run.bind(_),i&&i.suspense):_.run();const y=()=>{_.stop(),i&&i.scope&&uc(i.scope.effects,_)};return u&&u.push(y),y}function p_(e,t,n){const r=this.proxy,s=De(e)?e.includes(".")?bp(r,e):()=>r[e]:e.bind(r,r);let d;Pe(t)?d=t:(d=t.handler,n=t);const v=gt;si(this);const c=yp(s,d.bind(r),n);return v?si(v):kr(),c}function bp(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Or(e,t){if(!He(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),dt(e))Or(e.value,t);else if(Te(e))for(let n=0;n<e.length;n++)Or(e[n],t);else if(yi(e)||ei(e))e.forEach(n=>{Or(n,t)});else if(mo(e))for(const n in e)Or(e[n],t);return e}function et(e,t){const n=Ct;if(n===null)return e;const r=Zo(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let d=0;d<t.length;d++){let[v,c,i,f=Ze]=t[d];v&&(Pe(v)&&(v={mounted:v,updated:v}),v.deep&&Or(c),s.push({dir:v,instance:r,value:c,oldValue:void 0,arg:i,modifiers:f}))}return e}function _r(e,t,n,r){const s=e.dirs,d=t&&t.dirs;for(let v=0;v<s.length;v++){const c=s[v];d&&(c.oldValue=d[v].value);let i=c.dir[r];i&&(bi(),Zt(i,n,8,[e.el,c,e,t]),wi())}}function wp(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qe(()=>{e.isMounted=!0}),Bt(()=>{e.isUnmounting=!0}),e}const Gt=[Function,Array],Cp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Gt,onEnter:Gt,onAfterEnter:Gt,onEnterCancelled:Gt,onBeforeLeave:Gt,onLeave:Gt,onAfterLeave:Gt,onLeaveCancelled:Gt,onBeforeAppear:Gt,onAppear:Gt,onAfterAppear:Gt,onAppearCancelled:Gt},g_={name:"BaseTransition",props:Cp,setup(e,{slots:t}){const n=Et(),r=wp();let s;return()=>{const d=t.default&&Sc(t.default(),!0);if(!d||!d.length)return;let v=d[0];if(d.length>1){for(const g of d)if(g.type!==Yt){v=g;break}}const c=$e(e),{mode:i}=c;if(r.isLeaving)return ka(v);const f=Zu(v);if(!f)return ka(v);const h=os(f,c,r,n);as(f,h);const o=n.subTree,l=o&&Zu(o);let a=!1;const{getTransitionKey:u}=f.type;if(u){const g=u();s===void 0?s=g:g!==s&&(s=g,a=!0)}if(l&&l.type!==Yt&&(!xr(f,l)||a)){const g=os(l,c,r,n);if(as(l,g),i==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},ka(v);i==="in-out"&&f.type!==Yt&&(g.delayLeave=(p,m,_)=>{const y=Sp(r,l);y[String(l.key)]=l,p._leaveCb=()=>{m(),p._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=_})}return v}}},v_=g_;function Sp(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function os(e,t,n,r){const{appear:s,mode:d,persisted:v=!1,onBeforeEnter:c,onEnter:i,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:o,onLeave:l,onAfterLeave:a,onLeaveCancelled:u,onBeforeAppear:g,onAppear:p,onAfterAppear:m,onAppearCancelled:_}=t,y=String(e.key),b=Sp(n,e),w=(O,B)=>{O&&Zt(O,r,9,B)},C=(O,B)=>{const Y=B[1];w(O,B),Te(O)?O.every(X=>X.length<=1)&&Y():O.length<=1&&Y()},x={mode:d,persisted:v,beforeEnter(O){let B=c;if(!n.isMounted)if(s)B=g||c;else return;O._leaveCb&&O._leaveCb(!0);const Y=b[y];Y&&xr(e,Y)&&Y.el._leaveCb&&Y.el._leaveCb(),w(B,[O])},enter(O){let B=i,Y=f,X=h;if(!n.isMounted)if(s)B=p||i,Y=m||f,X=_||h;else return;let N=!1;const j=O._enterCb=q=>{N||(N=!0,q?w(X,[O]):w(Y,[O]),x.delayedLeave&&x.delayedLeave(),O._enterCb=void 0)};B?C(B,[O,j]):j()},leave(O,B){const Y=String(e.key);if(O._enterCb&&O._enterCb(!0),n.isUnmounting)return B();w(o,[O]);let X=!1;const N=O._leaveCb=j=>{X||(X=!0,B(),j?w(u,[O]):w(a,[O]),O._leaveCb=void 0,b[Y]===e&&delete b[Y])};b[Y]=e,l?C(l,[O,N]):N()},clone(O){return os(O,t,n,r)}};return x}function ka(e){if(Go(e))return e=Un(e),e.children=null,e}function Zu(e){return Go(e)?e.children?e.children[0]:void 0:e}function as(e,t){e.shapeFlag&6&&e.component?as(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Sc(e,t=!1,n){let r=[],s=0;for(let d=0;d<e.length;d++){let v=e[d];const c=n==null?v.key:String(n)+String(v.key!=null?v.key:d);v.type===Me?(v.patchFlag&128&&s++,r=r.concat(Sc(v.children,t,c))):(t||v.type!==Yt)&&r.push(c!=null?Un(v,{key:c}):v)}if(s>1)for(let d=0;d<r.length;d++)r[d].patchFlag=-2;return r}function xe(e,t){return Pe(e)?(()=>at({name:e.name},t,{setup:e}))():e}const Hi=e=>!!e.type.__asyncLoader,Go=e=>e.type.__isKeepAlive;function m_(e,t){Tp(e,"a",t)}function xp(e,t){Tp(e,"da",t)}function Tp(e,t,n=gt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Ko(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Go(s.parent.vnode)&&__(r,t,n,s),s=s.parent}}function __(e,t,n,r){const s=Ko(t,e,r,!0);Ci(()=>{uc(r[t],s)},n)}function Ko(e,t,n=gt,r=!1){if(n){const s=n[e]||(n[e]=[]),d=t.__weh||(t.__weh=(...v)=>{if(n.isUnmounted)return;bi(),si(n);const c=Zt(t,n,e,v);return kr(),wi(),c});return r?s.unshift(d):s.push(d),d}}const Xn=e=>(t,n=gt)=>(!cs||e==="sp")&&Ko(e,(...r)=>t(...r),n),Op=Xn("bm"),Qe=Xn("m"),y_=Xn("bu"),qo=Xn("u"),Bt=Xn("bum"),Ci=Xn("um"),b_=Xn("sp"),w_=Xn("rtg"),C_=Xn("rtc");function S_(e,t=gt){Ko("ec",e,t)}const xc="components";function je(e,t){return Pp(xc,e,!0,t)||e}const Ep=Symbol.for("v-ndc");function Jt(e){return De(e)?Pp(xc,e,!1)||e:e||Ep}function Pp(e,t,n=!0,r=!1){const s=Ct||gt;if(s){const d=s.type;if(e===xc){const c=Z_(d,!1);if(c&&(c===t||c===fn(t)||c===Uo(fn(t))))return d}const v=Qu(s[e]||d[e],t)||Qu(s.appContext[e],t);return!v&&r?d:v}}function Qu(e,t){return e&&(e[t]||e[fn(t)]||e[Uo(fn(t))])}function ot(e,t,n,r){let s;const d=n&&n[r];if(Te(e)||De(e)){s=new Array(e.length);for(let v=0,c=e.length;v<c;v++)s[v]=t(e[v],v,void 0,d&&d[v])}else if(typeof e=="number"){s=new Array(e);for(let v=0;v<e;v++)s[v]=t(v+1,v,void 0,d&&d[v])}else if(He(e))if(e[Symbol.iterator])s=Array.from(e,(v,c)=>t(v,c,void 0,d&&d[c]));else{const v=Object.keys(e);s=new Array(v.length);for(let c=0,i=v.length;c<i;c++){const f=v[c];s[c]=t(e[f],f,c,d&&d[c])}}else s=[];return n&&(n[r]=s),s}function yl(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Te(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const d=r.fn(...s);return d&&(d.key=r.key),d}:r.fn)}return e}function Ce(e,t,n={},r,s){if(Ct.isCE||Ct.parent&&Hi(Ct.parent)&&Ct.parent.isCE)return t!=="default"&&(n.name=t),he("slot",n,r&&r());let d=e[t];d&&d._c&&(d._d=!1),W();const v=d&&kp(d(n)),c=Se(Me,{key:n.key||v&&v.key||`_${t}`},v||(r?r():[]),v&&e._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),d&&d._c&&(d._d=!0),c}function kp(e){return e.some(t=>ii(t)?!(t.type===Yt||t.type===Me&&!kp(t.children)):!0)?e:null}const bl=e=>e?Up(e)?Zo(e)||e.proxy:bl(e.parent):null,Ui=at(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>bl(e.parent),$root:e=>bl(e.root),$emit:e=>e.emit,$options:e=>Oc(e),$forceUpdate:e=>e.f||(e.f=()=>Cc(e.update)),$nextTick:e=>e.n||(e.n=nt.bind(e.proxy)),$watch:e=>p_.bind(e)}),Aa=(e,t)=>e!==Ze&&!e.__isScriptSetup&&Le(e,t),x_={get({_:e},t){const{ctx:n,setupState:r,data:s,props:d,accessCache:v,type:c,appContext:i}=e;let f;if(t[0]!=="$"){const a=v[t];if(a!==void 0)switch(a){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return d[t]}else{if(Aa(r,t))return v[t]=1,r[t];if(s!==Ze&&Le(s,t))return v[t]=2,s[t];if((f=e.propsOptions[0])&&Le(f,t))return v[t]=3,d[t];if(n!==Ze&&Le(n,t))return v[t]=4,n[t];wl&&(v[t]=0)}}const h=Ui[t];let o,l;if(h)return t==="$attrs"&&Lt(e,"get",t),h(e);if((o=c.__cssModules)&&(o=o[t]))return o;if(n!==Ze&&Le(n,t))return v[t]=4,n[t];if(l=i.config.globalProperties,Le(l,t))return l[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:d}=e;return Aa(s,t)?(s[t]=n,!0):r!==Ze&&Le(r,t)?(r[t]=n,!0):Le(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(d[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:d}},v){let c;return!!n[v]||e!==Ze&&Le(e,v)||Aa(t,v)||(c=d[0])&&Le(c,v)||Le(r,v)||Le(Ui,v)||Le(s.config.globalProperties,v)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Le(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ap(){return Ip().slots}function Tc(){return Ip().attrs}function Ip(){const e=Et();return e.setupContext||(e.setupContext=Wp(e))}function ef(e){return Te(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let wl=!0;function T_(e){const t=Oc(e),n=e.proxy,r=e.ctx;wl=!1,t.beforeCreate&&tf(t.beforeCreate,e,"bc");const{data:s,computed:d,methods:v,watch:c,provide:i,inject:f,created:h,beforeMount:o,mounted:l,beforeUpdate:a,updated:u,activated:g,deactivated:p,beforeDestroy:m,beforeUnmount:_,destroyed:y,unmounted:b,render:w,renderTracked:C,renderTriggered:x,errorCaptured:O,serverPrefetch:B,expose:Y,inheritAttrs:X,components:N,directives:j,filters:q}=t;if(f&&O_(f,r,null),v)for(const G in v){const Q=v[G];Pe(Q)&&(r[G]=Q.bind(n))}if(s){const G=s.call(n,n);He(G)&&(e.data=Pn(G))}if(wl=!0,d)for(const G in d){const Q=d[G],T=Pe(Q)?Q.bind(n,n):Pe(Q.get)?Q.get.bind(n,n):We,R=!Pe(Q)&&Pe(Q.set)?Q.set.bind(n):We,F=K({get:T,set:R});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>F.value,set:I=>F.value=I})}if(c)for(const G in c)Mp(c[G],r,n,G);if(i){const G=Pe(i)?i.call(n):i;Reflect.ownKeys(G).forEach(Q=>{rt(Q,G[Q])})}h&&tf(h,e,"c");function le(G,Q){Te(Q)?Q.forEach(T=>G(T.bind(n))):Q&&G(Q.bind(n))}if(le(Op,o),le(Qe,l),le(y_,a),le(qo,u),le(m_,g),le(xp,p),le(S_,O),le(C_,C),le(w_,x),le(Bt,_),le(Ci,b),le(b_,B),Te(Y))if(Y.length){const G=e.exposed||(e.exposed={});Y.forEach(Q=>{Object.defineProperty(G,Q,{get:()=>n[Q],set:T=>n[Q]=T})})}else e.exposed||(e.exposed={});w&&e.render===We&&(e.render=w),X!=null&&(e.inheritAttrs=X),N&&(e.components=N),j&&(e.directives=j)}function O_(e,t,n=We){Te(e)&&(e=Cl(e));for(const r in e){const s=e[r];let d;He(s)?"default"in s?d=Ae(s.from||r,s.default,!0):d=Ae(s.from||r):d=Ae(s),dt(d)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>d.value,set:v=>d.value=v}):t[r]=d}}function tf(e,t,n){Zt(Te(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Mp(e,t,n,r){const s=r.includes(".")?bp(n,r):()=>n[r];if(De(e)){const d=t[e];Pe(d)&&ke(s,d)}else if(Pe(e))ke(s,e.bind(n));else if(He(e))if(Te(e))e.forEach(d=>Mp(d,t,n,r));else{const d=Pe(e.handler)?e.handler.bind(n):t[e.handler];Pe(d)&&ke(s,d,e)}}function Oc(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:d,config:{optionMergeStrategies:v}}=e.appContext,c=d.get(t);let i;return c?i=c:!s.length&&!n&&!r?i=t:(i={},s.length&&s.forEach(f=>xo(i,f,v,!0)),xo(i,t,v)),He(t)&&d.set(t,i),i}function xo(e,t,n,r=!1){const{mixins:s,extends:d}=t;d&&xo(e,d,n,!0),s&&s.forEach(v=>xo(e,v,n,!0));for(const v in t)if(!(r&&v==="expose")){const c=E_[v]||n&&n[v];e[v]=c?c(e[v],t[v]):t[v]}return e}const E_={data:nf,props:rf,emits:rf,methods:ji,computed:ji,beforeCreate:kt,created:kt,beforeMount:kt,mounted:kt,beforeUpdate:kt,updated:kt,beforeDestroy:kt,beforeUnmount:kt,destroyed:kt,unmounted:kt,activated:kt,deactivated:kt,errorCaptured:kt,serverPrefetch:kt,components:ji,directives:ji,watch:k_,provide:nf,inject:P_};function nf(e,t){return t?e?function(){return at(Pe(e)?e.call(this,this):e,Pe(t)?t.call(this,this):t)}:t:e}function P_(e,t){return ji(Cl(e),Cl(t))}function Cl(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function kt(e,t){return e?[...new Set([].concat(e,t))]:t}function ji(e,t){return e?at(Object.create(null),e,t):t}function rf(e,t){return e?Te(e)&&Te(t)?[...new Set([...e,...t])]:at(Object.create(null),ef(e),ef(t??{})):t}function k_(e,t){if(!e)return t;if(!t)return e;const n=at(Object.create(null),e);for(const r in t)n[r]=kt(e[r],t[r]);return n}function Rp(){return{app:null,config:{isNativeTag:s0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let A_=0;function I_(e,t){return function(r,s=null){Pe(r)||(r=at({},r)),s!=null&&!He(s)&&(s=null);const d=Rp(),v=new Set;let c=!1;const i=d.app={_uid:A_++,_component:r,_props:s,_container:null,_context:d,_instance:null,version:ny,get config(){return d.config},set config(f){},use(f,...h){return v.has(f)||(f&&Pe(f.install)?(v.add(f),f.install(i,...h)):Pe(f)&&(v.add(f),f(i,...h))),i},mixin(f){return d.mixins.includes(f)||d.mixins.push(f),i},component(f,h){return h?(d.components[f]=h,i):d.components[f]},directive(f,h){return h?(d.directives[f]=h,i):d.directives[f]},mount(f,h,o){if(!c){const l=he(r,s);return l.appContext=d,h&&t?t(l,f):e(l,f,o),c=!0,i._container=f,f.__vue_app__=i,Zo(l.component)||l.component.proxy}},unmount(){c&&(e(null,i._container),delete i._container.__vue_app__)},provide(f,h){return d.provides[f]=h,i},runWithContext(f){To=i;try{return f()}finally{To=null}}};return i}}let To=null;function rt(e,t){if(gt){let n=gt.provides;const r=gt.parent&&gt.parent.provides;r===n&&(n=gt.provides=Object.create(r)),n[e]=t}}function Ae(e,t,n=!1){const r=gt||Ct;if(r||To){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:To._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Pe(t)?t.call(r&&r.proxy):t}}function M_(e,t,n,r=!1){const s={},d={};_o(d,Jo,1),e.propsDefaults=Object.create(null),Dp(e,t,s,d);for(const v in e.propsOptions[0])v in s||(s[v]=void 0);n?e.props=r?s:_c(s):e.type.props?e.props=s:e.props=d,e.attrs=d}function R_(e,t,n,r){const{props:s,attrs:d,vnode:{patchFlag:v}}=e,c=$e(s),[i]=e.propsOptions;let f=!1;if((r||v>0)&&!(v&16)){if(v&8){const h=e.vnode.dynamicProps;for(let o=0;o<h.length;o++){let l=h[o];if(Yo(e.emitsOptions,l))continue;const a=t[l];if(i)if(Le(d,l))a!==d[l]&&(d[l]=a,f=!0);else{const u=fn(l);s[u]=Sl(i,c,u,a,e,!1)}else a!==d[l]&&(d[l]=a,f=!0)}}}else{Dp(e,t,s,d)&&(f=!0);let h;for(const o in c)(!t||!Le(t,o)&&((h=Lr(o))===o||!Le(t,h)))&&(i?n&&(n[o]!==void 0||n[h]!==void 0)&&(s[o]=Sl(i,c,o,void 0,e,!0)):delete s[o]);if(d!==c)for(const o in d)(!t||!Le(t,o))&&(delete d[o],f=!0)}f&&Hn(e,"set","$attrs")}function Dp(e,t,n,r){const[s,d]=e.propsOptions;let v=!1,c;if(t)for(let i in t){if(io(i))continue;const f=t[i];let h;s&&Le(s,h=fn(i))?!d||!d.includes(h)?n[h]=f:(c||(c={}))[h]=f:Yo(e.emitsOptions,i)||(!(i in r)||f!==r[i])&&(r[i]=f,v=!0)}if(d){const i=$e(n),f=c||Ze;for(let h=0;h<d.length;h++){const o=d[h];n[o]=Sl(s,i,o,f[o],e,!Le(f,o))}}return v}function Sl(e,t,n,r,s,d){const v=e[n];if(v!=null){const c=Le(v,"default");if(c&&r===void 0){const i=v.default;if(v.type!==Function&&!v.skipFactory&&Pe(i)){const{propsDefaults:f}=s;n in f?r=f[n]:(si(s),r=f[n]=i.call(null,t),kr())}else r=i}v[0]&&(d&&!c?r=!1:v[1]&&(r===""||r===Lr(n))&&(r=!0))}return r}function Fp(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const d=e.props,v={},c=[];let i=!1;if(!Pe(e)){const h=o=>{i=!0;const[l,a]=Fp(o,t,!0);at(v,l),a&&c.push(...a)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!d&&!i)return He(e)&&r.set(e,Qr),Qr;if(Te(d))for(let h=0;h<d.length;h++){const o=fn(d[h]);sf(o)&&(v[o]=Ze)}else if(d)for(const h in d){const o=fn(h);if(sf(o)){const l=d[h],a=v[o]=Te(l)||Pe(l)?{type:l}:at({},l);if(a){const u=lf(Boolean,a.type),g=lf(String,a.type);a[0]=u>-1,a[1]=g<0||u<g,(u>-1||Le(a,"default"))&&c.push(o)}}}const f=[v,c];return He(e)&&r.set(e,f),f}function sf(e){return e[0]!=="$"}function of(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function af(e,t){return of(e)===of(t)}function lf(e,t){return Te(t)?t.findIndex(n=>af(n,e)):Pe(t)&&af(t,e)?0:-1}const Lp=e=>e[0]==="_"||e==="$stable",Ec=e=>Te(e)?e.map(bn):[bn(e)],D_=(e,t,n)=>{if(t._n)return t;const r=ve((...s)=>Ec(t(...s)),n);return r._c=!1,r},Bp=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Lp(s))continue;const d=e[s];if(Pe(d))t[s]=D_(s,d,r);else if(d!=null){const v=Ec(d);t[s]=()=>v}}},$p=(e,t)=>{const n=Ec(t);e.slots.default=()=>n},F_=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=$e(t),_o(t,"_",n)):Bp(t,e.slots={})}else e.slots={},t&&$p(e,t);_o(e.slots,Jo,1)},L_=(e,t,n)=>{const{vnode:r,slots:s}=e;let d=!0,v=Ze;if(r.shapeFlag&32){const c=t._;c?n&&c===1?d=!1:(at(s,t),!n&&c===1&&delete s._):(d=!t.$stable,Bp(t,s)),v=t}else t&&($p(e,t),v={default:1});if(d)for(const c in s)!Lp(c)&&!(c in v)&&delete s[c]};function xl(e,t,n,r,s=!1){if(Te(e)){e.forEach((l,a)=>xl(l,t&&(Te(t)?t[a]:t),n,r,s));return}if(Hi(r)&&!s)return;const d=r.shapeFlag&4?Zo(r.component)||r.component.proxy:r.el,v=s?null:d,{i:c,r:i}=e,f=t&&t.r,h=c.refs===Ze?c.refs={}:c.refs,o=c.setupState;if(f!=null&&f!==i&&(De(f)?(h[f]=null,Le(o,f)&&(o[f]=null)):dt(f)&&(f.value=null)),Pe(i))ur(i,c,12,[v,h]);else{const l=De(i),a=dt(i);if(l||a){const u=()=>{if(e.f){const g=l?Le(o,i)?o[i]:h[i]:i.value;s?Te(g)&&uc(g,d):Te(g)?g.includes(d)||g.push(d):l?(h[i]=[d],Le(o,i)&&(o[i]=h[i])):(i.value=[d],e.k&&(h[e.k]=i.value))}else l?(h[i]=v,Le(o,i)&&(o[i]=v)):a&&(i.value=v,e.k&&(h[e.k]=v))};v?(u.id=-1,Rt(u,n)):u()}}}const Rt=d_;function B_(e){return $_(e)}function $_(e,t){const n=dl();n.__VUE__=!0;const{insert:r,remove:s,patchProp:d,createElement:v,createText:c,createComment:i,setText:f,setElementText:h,parentNode:o,nextSibling:l,setScopeId:a=We,insertStaticContent:u}=e,g=(A,E,k,z=null,V=null,H=null,Z=!1,re=null,ue=!!E.dynamicChildren)=>{if(A===E)return;A&&!xr(A,E)&&(z=M(A),I(A,V,H,!0),A=null),E.patchFlag===-2&&(ue=!1,E.dynamicChildren=null);const{type:oe,ref:ne,shapeFlag:de}=E;switch(oe){case Si:p(A,E,k,z);break;case Yt:m(A,E,k,z);break;case oo:A==null&&_(E,k,z,Z);break;case Me:N(A,E,k,z,V,H,Z,re,ue);break;default:de&1?w(A,E,k,z,V,H,Z,re,ue):de&6?j(A,E,k,z,V,H,Z,re,ue):(de&64||de&128)&&oe.process(A,E,k,z,V,H,Z,re,ue,U)}ne!=null&&V&&xl(ne,A&&A.ref,H,E||A,!E)},p=(A,E,k,z)=>{if(A==null)r(E.el=c(E.children),k,z);else{const V=E.el=A.el;E.children!==A.children&&f(V,E.children)}},m=(A,E,k,z)=>{A==null?r(E.el=i(E.children||""),k,z):E.el=A.el},_=(A,E,k,z)=>{[A.el,A.anchor]=u(A.children,E,k,z,A.el,A.anchor)},y=({el:A,anchor:E},k,z)=>{let V;for(;A&&A!==E;)V=l(A),r(A,k,z),A=V;r(E,k,z)},b=({el:A,anchor:E})=>{let k;for(;A&&A!==E;)k=l(A),s(A),A=k;s(E)},w=(A,E,k,z,V,H,Z,re,ue)=>{Z=Z||E.type==="svg",A==null?C(E,k,z,V,H,Z,re,ue):B(A,E,V,H,Z,re,ue)},C=(A,E,k,z,V,H,Z,re)=>{let ue,oe;const{type:ne,props:de,shapeFlag:me,transition:ie,dirs:_e}=A;if(ue=A.el=v(A.type,H,de&&de.is,de),me&8?h(ue,A.children):me&16&&O(A.children,ue,null,z,V,H&&ne!=="foreignObject",Z,re),_e&&_r(A,null,z,"created"),x(ue,A,A.scopeId,Z,z),de){for(const Oe in de)Oe!=="value"&&!io(Oe)&&d(ue,Oe,null,de[Oe],H,A.children,z,V,$);"value"in de&&d(ue,"value",null,de.value),(oe=de.onVnodeBeforeMount)&&yn(oe,z,A)}_e&&_r(A,null,z,"beforeMount");const be=(!V||V&&!V.pendingBranch)&&ie&&!ie.persisted;be&&ie.beforeEnter(ue),r(ue,E,k),((oe=de&&de.onVnodeMounted)||be||_e)&&Rt(()=>{oe&&yn(oe,z,A),be&&ie.enter(ue),_e&&_r(A,null,z,"mounted")},V)},x=(A,E,k,z,V)=>{if(k&&a(A,k),z)for(let H=0;H<z.length;H++)a(A,z[H]);if(V){let H=V.subTree;if(E===H){const Z=V.vnode;x(A,Z,Z.scopeId,Z.slotScopeIds,V.parent)}}},O=(A,E,k,z,V,H,Z,re,ue=0)=>{for(let oe=ue;oe<A.length;oe++){const ne=A[oe]=re?ir(A[oe]):bn(A[oe]);g(null,ne,E,k,z,V,H,Z,re)}},B=(A,E,k,z,V,H,Z)=>{const re=E.el=A.el;let{patchFlag:ue,dynamicChildren:oe,dirs:ne}=E;ue|=A.patchFlag&16;const de=A.props||Ze,me=E.props||Ze;let ie;k&&yr(k,!1),(ie=me.onVnodeBeforeUpdate)&&yn(ie,k,E,A),ne&&_r(E,A,k,"beforeUpdate"),k&&yr(k,!0);const _e=V&&E.type!=="foreignObject";if(oe?Y(A.dynamicChildren,oe,re,k,z,_e,H):Z||Q(A,E,re,null,k,z,_e,H,!1),ue>0){if(ue&16)X(re,E,de,me,k,z,V);else if(ue&2&&de.class!==me.class&&d(re,"class",null,me.class,V),ue&4&&d(re,"style",de.style,me.style,V),ue&8){const be=E.dynamicProps;for(let Oe=0;Oe<be.length;Oe++){const Ie=be[Oe],st=de[Ie],Pt=me[Ie];(Pt!==st||Ie==="value")&&d(re,Ie,st,Pt,V,A.children,k,z,$)}}ue&1&&A.children!==E.children&&h(re,E.children)}else!Z&&oe==null&&X(re,E,de,me,k,z,V);((ie=me.onVnodeUpdated)||ne)&&Rt(()=>{ie&&yn(ie,k,E,A),ne&&_r(E,A,k,"updated")},z)},Y=(A,E,k,z,V,H,Z)=>{for(let re=0;re<E.length;re++){const ue=A[re],oe=E[re],ne=ue.el&&(ue.type===Me||!xr(ue,oe)||ue.shapeFlag&70)?o(ue.el):k;g(ue,oe,ne,null,z,V,H,Z,!0)}},X=(A,E,k,z,V,H,Z)=>{if(k!==z){if(k!==Ze)for(const re in k)!io(re)&&!(re in z)&&d(A,re,k[re],null,Z,E.children,V,H,$);for(const re in z){if(io(re))continue;const ue=z[re],oe=k[re];ue!==oe&&re!=="value"&&d(A,re,oe,ue,Z,E.children,V,H,$)}"value"in z&&d(A,"value",k.value,z.value)}},N=(A,E,k,z,V,H,Z,re,ue)=>{const oe=E.el=A?A.el:c(""),ne=E.anchor=A?A.anchor:c("");let{patchFlag:de,dynamicChildren:me,slotScopeIds:ie}=E;ie&&(re=re?re.concat(ie):ie),A==null?(r(oe,k,z),r(ne,k,z),O(E.children,k,ne,V,H,Z,re,ue)):de>0&&de&64&&me&&A.dynamicChildren?(Y(A.dynamicChildren,me,k,V,H,Z,re),(E.key!=null||V&&E===V.subTree)&&Pc(A,E,!0)):Q(A,E,k,ne,V,H,Z,re,ue)},j=(A,E,k,z,V,H,Z,re,ue)=>{E.slotScopeIds=re,A==null?E.shapeFlag&512?V.ctx.activate(E,k,z,Z,ue):q(E,k,z,V,H,Z,ue):se(A,E,ue)},q=(A,E,k,z,V,H,Z)=>{const re=A.component=G_(A,z,V);if(Go(A)&&(re.ctx.renderer=U),K_(re),re.asyncDep){if(V&&V.registerDep(re,le),!A.el){const ue=re.subTree=he(Yt);m(null,ue,E,k)}return}le(re,A,E,k,V,H,Z)},se=(A,E,k)=>{const z=E.component=A.component;if(u_(A,E,k))if(z.asyncDep&&!z.asyncResolved){G(z,E,k);return}else z.next=E,i_(z.update),z.update();else E.el=A.el,z.vnode=E},le=(A,E,k,z,V,H,Z)=>{const re=()=>{if(A.isMounted){let{next:ne,bu:de,u:me,parent:ie,vnode:_e}=A,be=ne,Oe;yr(A,!1),ne?(ne.el=_e.el,G(A,ne,Z)):ne=_e,de&&so(de),(Oe=ne.props&&ne.props.onVnodeBeforeUpdate)&&yn(Oe,ie,ne,_e),yr(A,!0);const Ie=Pa(A),st=A.subTree;A.subTree=Ie,g(st,Ie,o(st.el),M(st),A,V,H),ne.el=Ie.el,be===null&&f_(A,Ie.el),me&&Rt(me,V),(Oe=ne.props&&ne.props.onVnodeUpdated)&&Rt(()=>yn(Oe,ie,ne,_e),V)}else{let ne;const{el:de,props:me}=E,{bm:ie,m:_e,parent:be}=A,Oe=Hi(E);if(yr(A,!1),ie&&so(ie),!Oe&&(ne=me&&me.onVnodeBeforeMount)&&yn(ne,be,E),yr(A,!0),de&&ce){const Ie=()=>{A.subTree=Pa(A),ce(de,A.subTree,A,V,null)};Oe?E.type.__asyncLoader().then(()=>!A.isUnmounted&&Ie()):Ie()}else{const Ie=A.subTree=Pa(A);g(null,Ie,k,z,A,V,H),E.el=Ie.el}if(_e&&Rt(_e,V),!Oe&&(ne=me&&me.onVnodeMounted)){const Ie=E;Rt(()=>yn(ne,be,Ie),V)}(E.shapeFlag&256||be&&Hi(be.vnode)&&be.vnode.shapeFlag&256)&&A.a&&Rt(A.a,V),A.isMounted=!0,E=k=z=null}},ue=A.effect=new pc(re,()=>Cc(oe),A.scope),oe=A.update=()=>ue.run();oe.id=A.uid,yr(A,!0),oe()},G=(A,E,k)=>{E.component=A;const z=A.vnode.props;A.vnode=E,A.next=null,R_(A,E.props,z,k),L_(A,E.children,k),bi(),qu(),wi()},Q=(A,E,k,z,V,H,Z,re,ue=!1)=>{const oe=A&&A.children,ne=A?A.shapeFlag:0,de=E.children,{patchFlag:me,shapeFlag:ie}=E;if(me>0){if(me&128){R(oe,de,k,z,V,H,Z,re,ue);return}else if(me&256){T(oe,de,k,z,V,H,Z,re,ue);return}}ie&8?(ne&16&&$(oe,V,H),de!==oe&&h(k,de)):ne&16?ie&16?R(oe,de,k,z,V,H,Z,re,ue):$(oe,V,H,!0):(ne&8&&h(k,""),ie&16&&O(de,k,z,V,H,Z,re,ue))},T=(A,E,k,z,V,H,Z,re,ue)=>{A=A||Qr,E=E||Qr;const oe=A.length,ne=E.length,de=Math.min(oe,ne);let me;for(me=0;me<de;me++){const ie=E[me]=ue?ir(E[me]):bn(E[me]);g(A[me],ie,k,null,V,H,Z,re,ue)}oe>ne?$(A,V,H,!0,!1,de):O(E,k,z,V,H,Z,re,ue,de)},R=(A,E,k,z,V,H,Z,re,ue)=>{let oe=0;const ne=E.length;let de=A.length-1,me=ne-1;for(;oe<=de&&oe<=me;){const ie=A[oe],_e=E[oe]=ue?ir(E[oe]):bn(E[oe]);if(xr(ie,_e))g(ie,_e,k,null,V,H,Z,re,ue);else break;oe++}for(;oe<=de&&oe<=me;){const ie=A[de],_e=E[me]=ue?ir(E[me]):bn(E[me]);if(xr(ie,_e))g(ie,_e,k,null,V,H,Z,re,ue);else break;de--,me--}if(oe>de){if(oe<=me){const ie=me+1,_e=ie<ne?E[ie].el:z;for(;oe<=me;)g(null,E[oe]=ue?ir(E[oe]):bn(E[oe]),k,_e,V,H,Z,re,ue),oe++}}else if(oe>me)for(;oe<=de;)I(A[oe],V,H,!0),oe++;else{const ie=oe,_e=oe,be=new Map;for(oe=_e;oe<=me;oe++){const it=E[oe]=ue?ir(E[oe]):bn(E[oe]);it.key!=null&&be.set(it.key,oe)}let Oe,Ie=0;const st=me-_e+1;let Pt=!1,xt=0;const vn=new Array(st);for(oe=0;oe<st;oe++)vn[oe]=0;for(oe=ie;oe<=de;oe++){const it=A[oe];if(Ie>=st){I(it,V,H,!0);continue}let _t;if(it.key!=null)_t=be.get(it.key);else for(Oe=_e;Oe<=me;Oe++)if(vn[Oe-_e]===0&&xr(it,E[Oe])){_t=Oe;break}_t===void 0?I(it,V,H,!0):(vn[_t-_e]=oe+1,_t>=xt?xt=_t:Pt=!0,g(it,E[_t],k,null,V,H,Z,re,ue),Ie++)}const vr=Pt?j_(vn):Qr;for(Oe=vr.length-1,oe=st-1;oe>=0;oe--){const it=_e+oe,_t=E[it],Pi=it+1<ne?E[it+1].el:z;vn[oe]===0?g(null,_t,k,Pi,V,H,Z,re,ue):Pt&&(Oe<0||oe!==vr[Oe]?F(_t,k,Pi,2):Oe--)}}},F=(A,E,k,z,V=null)=>{const{el:H,type:Z,transition:re,children:ue,shapeFlag:oe}=A;if(oe&6){F(A.component.subTree,E,k,z);return}if(oe&128){A.suspense.move(E,k,z);return}if(oe&64){Z.move(A,E,k,U);return}if(Z===Me){r(H,E,k);for(let de=0;de<ue.length;de++)F(ue[de],E,k,z);r(A.anchor,E,k);return}if(Z===oo){y(A,E,k);return}if(z!==2&&oe&1&&re)if(z===0)re.beforeEnter(H),r(H,E,k),Rt(()=>re.enter(H),V);else{const{leave:de,delayLeave:me,afterLeave:ie}=re,_e=()=>r(H,E,k),be=()=>{de(H,()=>{_e(),ie&&ie()})};me?me(H,_e,be):be()}else r(H,E,k)},I=(A,E,k,z=!1,V=!1)=>{const{type:H,props:Z,ref:re,children:ue,dynamicChildren:oe,shapeFlag:ne,patchFlag:de,dirs:me}=A;if(re!=null&&xl(re,null,k,A,!0),ne&256){E.ctx.deactivate(A);return}const ie=ne&1&&me,_e=!Hi(A);let be;if(_e&&(be=Z&&Z.onVnodeBeforeUnmount)&&yn(be,E,A),ne&6)P(A.component,k,z);else{if(ne&128){A.suspense.unmount(k,z);return}ie&&_r(A,null,E,"beforeUnmount"),ne&64?A.type.remove(A,E,k,V,U,z):oe&&(H!==Me||de>0&&de&64)?$(oe,E,k,!1,!0):(H===Me&&de&384||!V&&ne&16)&&$(ue,E,k),z&&ee(A)}(_e&&(be=Z&&Z.onVnodeUnmounted)||ie)&&Rt(()=>{be&&yn(be,E,A),ie&&_r(A,null,E,"unmounted")},k)},ee=A=>{const{type:E,el:k,anchor:z,transition:V}=A;if(E===Me){D(k,z);return}if(E===oo){b(A);return}const H=()=>{s(k),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(A.shapeFlag&1&&V&&!V.persisted){const{leave:Z,delayLeave:re}=V,ue=()=>Z(k,H);re?re(A.el,H,ue):ue()}else H()},D=(A,E)=>{let k;for(;A!==E;)k=l(A),s(A),A=k;s(E)},P=(A,E,k)=>{const{bum:z,scope:V,update:H,subTree:Z,um:re}=A;z&&so(z),V.stop(),H&&(H.active=!1,I(Z,A,E,k)),re&&Rt(re,E),Rt(()=>{A.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},$=(A,E,k,z=!1,V=!1,H=0)=>{for(let Z=H;Z<A.length;Z++)I(A[Z],E,k,z,V)},M=A=>A.shapeFlag&6?M(A.component.subTree):A.shapeFlag&128?A.suspense.next():l(A.anchor||A.el),L=(A,E,k)=>{A==null?E._vnode&&I(E._vnode,null,null,!0):g(E._vnode||null,A,E,null,null,null,k),qu(),vp(),E._vnode=A},U={p:g,um:I,m:F,r:ee,mt:q,mc:O,pc:Q,pbc:Y,n:M,o:e};let te,ce;return t&&([te,ce]=t(U)),{render:L,hydrate:te,createApp:I_(L,te)}}function yr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Pc(e,t,n=!1){const r=e.children,s=t.children;if(Te(r)&&Te(s))for(let d=0;d<r.length;d++){const v=r[d];let c=s[d];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[d]=ir(s[d]),c.el=v.el),n||Pc(v,c)),c.type===Si&&(c.el=v.el)}}function j_(e){const t=e.slice(),n=[0];let r,s,d,v,c;const i=e.length;for(r=0;r<i;r++){const f=e[r];if(f!==0){if(s=n[n.length-1],e[s]<f){t[r]=s,n.push(r);continue}for(d=0,v=n.length-1;d<v;)c=d+v>>1,e[n[c]]<f?d=c+1:v=c;f<e[n[d]]&&(d>0&&(t[r]=n[d-1]),n[d]=r)}}for(d=n.length,v=n[d-1];d-- >0;)n[d]=v,v=t[v];return n}const N_=e=>e.__isTeleport,Vi=e=>e&&(e.disabled||e.disabled===""),cf=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Tl=(e,t)=>{const n=e&&e.to;return De(n)?t?t(n):null:n},z_={__isTeleport:!0,process(e,t,n,r,s,d,v,c,i,f){const{mc:h,pc:o,pbc:l,o:{insert:a,querySelector:u,createText:g,createComment:p}}=f,m=Vi(t.props);let{shapeFlag:_,children:y,dynamicChildren:b}=t;if(e==null){const w=t.el=g(""),C=t.anchor=g("");a(w,n,r),a(C,n,r);const x=t.target=Tl(t.props,u),O=t.targetAnchor=g("");x&&(a(O,x),v=v||cf(x));const B=(Y,X)=>{_&16&&h(y,Y,X,s,d,v,c,i)};m?B(n,C):x&&B(x,O)}else{t.el=e.el;const w=t.anchor=e.anchor,C=t.target=e.target,x=t.targetAnchor=e.targetAnchor,O=Vi(e.props),B=O?n:C,Y=O?w:x;if(v=v||cf(C),b?(l(e.dynamicChildren,b,B,s,d,v,c),Pc(e,t,!0)):i||o(e,t,B,Y,s,d,v,c,!1),m)O||Ws(t,n,w,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const X=t.target=Tl(t.props,u);X&&Ws(t,X,null,f,0)}else O&&Ws(t,C,x,f,1)}jp(t)},remove(e,t,n,r,{um:s,o:{remove:d}},v){const{shapeFlag:c,children:i,anchor:f,targetAnchor:h,target:o,props:l}=e;if(o&&d(h),(v||!Vi(l))&&(d(f),c&16))for(let a=0;a<i.length;a++){const u=i[a];s(u,t,n,!0,!!u.dynamicChildren)}},move:Ws,hydrate:H_};function Ws(e,t,n,{o:{insert:r},m:s},d=2){d===0&&r(e.targetAnchor,t,n);const{el:v,anchor:c,shapeFlag:i,children:f,props:h}=e,o=d===2;if(o&&r(v,t,n),(!o||Vi(h))&&i&16)for(let l=0;l<f.length;l++)s(f[l],t,n,2);o&&r(c,t,n)}function H_(e,t,n,r,s,d,{o:{nextSibling:v,parentNode:c,querySelector:i}},f){const h=t.target=Tl(t.props,i);if(h){const o=h._lpa||h.firstChild;if(t.shapeFlag&16)if(Vi(t.props))t.anchor=f(v(e),t,c(e),n,r,s,d),t.targetAnchor=o;else{t.anchor=v(e);let l=o;for(;l;)if(l=v(l),l&&l.nodeType===8&&l.data==="teleport anchor"){t.targetAnchor=l,h._lpa=t.targetAnchor&&v(t.targetAnchor);break}f(o,t,h,n,r,s,d)}jp(t)}return t.anchor&&v(t.anchor)}const kc=z_;function jp(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Me=Symbol.for("v-fgt"),Si=Symbol.for("v-txt"),Yt=Symbol.for("v-cmt"),oo=Symbol.for("v-stc"),Wi=[];let ln=null;function W(e=!1){Wi.push(ln=e?null:[])}function U_(){Wi.pop(),ln=Wi[Wi.length-1]||null}let ls=1;function uf(e){ls+=e}function Np(e){return e.dynamicChildren=ls>0?ln||Qr:null,U_(),ls>0&&ln&&ln.push(e),e}function ae(e,t,n,r,s,d){return Np(J(e,t,n,r,s,d,!0))}function Se(e,t,n,r,s){return Np(he(e,t,n,r,s,!0))}function ii(e){return e?e.__v_isVNode===!0:!1}function xr(e,t){return e.type===t.type&&e.key===t.key}const Jo="__vInternal",zp=({key:e})=>e??null,ao=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?De(e)||dt(e)||Pe(e)?{i:Ct,r:e,k:t,f:!!n}:e:null);function J(e,t=null,n=null,r=0,s=null,d=e===Me?0:1,v=!1,c=!1){const i={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&zp(t),ref:t&&ao(t),scopeId:Xo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ct};return c?(Ac(i,n),d&128&&e.normalize(i)):n&&(i.shapeFlag|=De(n)?8:16),ls>0&&!v&&ln&&(i.patchFlag>0||d&6)&&i.patchFlag!==32&&ln.push(i),i}const he=V_;function V_(e,t=null,n=null,r=0,s=null,d=!1){if((!e||e===Ep)&&(e=Yt),ii(e)){const c=Un(e,t,!0);return n&&Ac(c,n),ls>0&&!d&&ln&&(c.shapeFlag&6?ln[ln.indexOf(e)]=c:ln.push(c)),c.patchFlag|=-2,c}if(Q_(e)&&(e=e.__vccOpts),t){t=Hp(t);let{class:c,style:i}=t;c&&!De(c)&&(t.class=pe(c)),He(i)&&(lp(i)&&!Te(i)&&(i=at({},i)),t.style=Re(i))}const v=De(e)?1:h_(e)?128:N_(e)?64:He(e)?4:Pe(e)?2:0;return J(e,t,n,r,s,v,d,!0)}function Hp(e){return e?lp(e)||Jo in e?at({},e):e:null}function Un(e,t,n=!1){const{props:r,ref:s,patchFlag:d,children:v}=e,c=t?mt(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&zp(c),ref:t&&t.ref?n&&s?Te(s)?s.concat(ao(t)):[s,ao(t)]:ao(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:v,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Un(e.ssContent),ssFallback:e.ssFallback&&Un(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Os(e=" ",t=0){return he(Si,null,e,t)}function W_(e,t){const n=he(oo,null,e);return n.staticCount=t,n}function ye(e="",t=!1){return t?(W(),Se(Yt,null,e)):he(Yt,null,e)}function bn(e){return e==null||typeof e=="boolean"?he(Yt):Te(e)?he(Me,null,e.slice()):typeof e=="object"?ir(e):he(Si,null,String(e))}function ir(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Un(e)}function Ac(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Te(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Ac(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Jo in t)?t._ctx=Ct:s===3&&Ct&&(Ct.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Pe(t)?(t={default:t,_ctx:Ct},n=32):(t=String(t),r&64?(n=16,t=[Os(t)]):n=8);e.children=t,e.shapeFlag|=n}function mt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=pe([t.class,r.class]));else if(s==="style")t.style=Re([t.style,r.style]);else if(zo(s)){const d=t[s],v=r[s];v&&d!==v&&!(Te(d)&&d.includes(v))&&(t[s]=d?[].concat(d,v):v)}else s!==""&&(t[s]=r[s])}return t}function yn(e,t,n,r=null){Zt(e,t,7,[n,r])}const Y_=Rp();let X_=0;function G_(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Y_,d={uid:X_++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Kd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fp(r,s),emitsOptions:_p(r,s),emit:null,emitted:null,propsDefaults:Ze,inheritAttrs:r.inheritAttrs,ctx:Ze,data:Ze,props:Ze,attrs:Ze,slots:Ze,refs:Ze,setupState:Ze,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=t?t.root:d,d.emit=a_.bind(null,d),e.ce&&e.ce(d),d}let gt=null;const Et=()=>gt||Ct;let Ic,Vr,ff="__VUE_INSTANCE_SETTERS__";(Vr=dl()[ff])||(Vr=dl()[ff]=[]),Vr.push(e=>gt=e),Ic=e=>{Vr.length>1?Vr.forEach(t=>t(e)):Vr[0](e)};const si=e=>{Ic(e),e.scope.on()},kr=()=>{gt&&gt.scope.off(),Ic(null)};function Up(e){return e.vnode.shapeFlag&4}let cs=!1;function K_(e,t=!1){cs=t;const{props:n,children:r}=e.vnode,s=Up(e);M_(e,n,s,t),F_(e,r);const d=s?q_(e,t):void 0;return cs=!1,d}function q_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Co(new Proxy(e.ctx,x_));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?Wp(e):null;si(e),bi();const d=ur(r,e,0,[e.props,s]);if(wi(),kr(),Wd(d)){if(d.then(kr,kr),t)return d.then(v=>{hf(e,v,t)}).catch(v=>{Wo(v,e,0)});e.asyncDep=d}else hf(e,d,t)}else Vp(e,t)}function hf(e,t,n){Pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:He(t)&&(e.setupState=hp(t)),Vp(e,n)}let df;function Vp(e,t,n){const r=e.type;if(!e.render){if(!t&&df&&!r.render){const s=r.template||Oc(e).template;if(s){const{isCustomElement:d,compilerOptions:v}=e.appContext.config,{delimiters:c,compilerOptions:i}=r,f=at(at({isCustomElement:d,delimiters:c},v),i);r.render=df(s,f)}}e.render=r.render||We}si(e),bi(),T_(e),wi(),kr()}function J_(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Lt(e,"get","$attrs"),t[n]}}))}function Wp(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return J_(e)},slots:e.slots,emit:e.emit,expose:t}}function Zo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(hp(Co(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ui)return Ui[n](e)},has(t,n){return n in t||n in Ui}}))}function Z_(e,t=!0){return Pe(e)?e.displayName||e.name:e.name||t&&e.__name}function Q_(e){return Pe(e)&&"__vccOpts"in e}const K=(e,t)=>e_(e,t,cs);function Qo(e,t,n){const r=arguments.length;return r===2?He(t)&&!Te(t)?ii(t)?he(e,null,[t]):he(e,t):he(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ii(n)&&(n=[n]),he(e,t,n))}const ey=Symbol.for("v-scx"),ty=()=>Ae(ey),ny="3.3.4",ry="http://www.w3.org/2000/svg",Tr=typeof document<"u"?document:null,pf=Tr&&Tr.createElement("template"),iy={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?Tr.createElementNS(ry,e):Tr.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Tr.createTextNode(e),createComment:e=>Tr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Tr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,d){const v=n?n.previousSibling:t.lastChild;if(s&&(s===d||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===d||!(s=s.nextSibling)););else{pf.innerHTML=r?`<svg>${e}</svg>`:e;const c=pf.content;if(r){const i=c.firstChild;for(;i.firstChild;)c.appendChild(i.firstChild);c.removeChild(i)}t.insertBefore(c,n)}return[v?v.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function sy(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function oy(e,t,n){const r=e.style,s=De(n);if(n&&!s){if(t&&!De(t))for(const d in t)n[d]==null&&Ol(r,d,"");for(const d in n)Ol(r,d,n[d])}else{const d=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=d)}}const gf=/\s*!important$/;function Ol(e,t,n){if(Te(n))n.forEach(r=>Ol(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=ay(e,t);gf.test(n)?e.setProperty(Lr(r),n.replace(gf,""),"important"):e[r]=n}}const vf=["Webkit","Moz","ms"],Ia={};function ay(e,t){const n=Ia[t];if(n)return n;let r=fn(t);if(r!=="filter"&&r in e)return Ia[t]=r;r=Uo(r);for(let s=0;s<vf.length;s++){const d=vf[s]+r;if(d in e)return Ia[t]=d}return t}const mf="http://www.w3.org/1999/xlink";function ly(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(mf,t.slice(6,t.length)):e.setAttributeNS(mf,t,n);else{const d=_0(t);n==null||d&&!Xd(n)?e.removeAttribute(t):e.setAttribute(t,d?"":n)}}function cy(e,t,n,r,s,d,v){if(t==="innerHTML"||t==="textContent"){r&&v(r,s,d),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=n;const f=c==="OPTION"?e.getAttribute("value"):e.value,h=n??"";f!==h&&(e.value=h),n==null&&e.removeAttribute(t);return}let i=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=Xd(n):n==null&&f==="string"?(n="",i=!0):f==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(t)}function $n(e,t,n,r){e.addEventListener(t,n,r)}function uy(e,t,n,r){e.removeEventListener(t,n,r)}function fy(e,t,n,r,s=null){const d=e._vei||(e._vei={}),v=d[t];if(r&&v)v.value=r;else{const[c,i]=hy(t);if(r){const f=d[t]=gy(r,s);$n(e,c,f,i)}else v&&(uy(e,c,v,i),d[t]=void 0)}}const _f=/(?:Once|Passive|Capture)$/;function hy(e){let t;if(_f.test(e)){t={};let r;for(;r=e.match(_f);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Lr(e.slice(2)),t]}let Ma=0;const dy=Promise.resolve(),py=()=>Ma||(dy.then(()=>Ma=0),Ma=Date.now());function gy(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Zt(vy(r,n.value),t,5,[r])};return n.value=e,n.attached=py(),n}function vy(e,t){if(Te(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const yf=/^on[a-z]/,my=(e,t,n,r,s=!1,d,v,c,i)=>{t==="class"?sy(e,r,s):t==="style"?oy(e,n,r):zo(t)?cc(t)||fy(e,t,n,r,v):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_y(e,t,r,s))?cy(e,t,r,d,v,c,i):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),ly(e,t,r,s))};function _y(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&yf.test(t)&&Pe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||yf.test(t)&&De(n)?!1:t in e}const Zn="transition",Ii="animation",kn=(e,{slots:t})=>Qo(v_,Xp(e),t);kn.displayName="Transition";const Yp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},yy=kn.props=at({},Cp,Yp),br=(e,t=[])=>{Te(e)?e.forEach(n=>n(...t)):e&&e(...t)},bf=e=>e?Te(e)?e.some(t=>t.length>1):e.length>1:!1;function Xp(e){const t={};for(const N in e)N in Yp||(t[N]=e[N]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:d=`${n}-enter-from`,enterActiveClass:v=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:i=d,appearActiveClass:f=v,appearToClass:h=c,leaveFromClass:o=`${n}-leave-from`,leaveActiveClass:l=`${n}-leave-active`,leaveToClass:a=`${n}-leave-to`}=e,u=by(s),g=u&&u[0],p=u&&u[1],{onBeforeEnter:m,onEnter:_,onEnterCancelled:y,onLeave:b,onLeaveCancelled:w,onBeforeAppear:C=m,onAppear:x=_,onAppearCancelled:O=y}=t,B=(N,j,q)=>{nr(N,j?h:c),nr(N,j?f:v),q&&q()},Y=(N,j)=>{N._isLeaving=!1,nr(N,o),nr(N,a),nr(N,l),j&&j()},X=N=>(j,q)=>{const se=N?x:_,le=()=>B(j,N,q);br(se,[j,le]),wf(()=>{nr(j,N?i:d),Ln(j,N?h:c),bf(se)||Cf(j,r,g,le)})};return at(t,{onBeforeEnter(N){br(m,[N]),Ln(N,d),Ln(N,v)},onBeforeAppear(N){br(C,[N]),Ln(N,i),Ln(N,f)},onEnter:X(!1),onAppear:X(!0),onLeave(N,j){N._isLeaving=!0;const q=()=>Y(N,j);Ln(N,o),Kp(),Ln(N,l),wf(()=>{N._isLeaving&&(nr(N,o),Ln(N,a),bf(b)||Cf(N,r,p,q))}),br(b,[N,q])},onEnterCancelled(N){B(N,!1),br(y,[N])},onAppearCancelled(N){B(N,!0),br(O,[N])},onLeaveCancelled(N){Y(N),br(w,[N])}})}function by(e){if(e==null)return null;if(He(e))return[Ra(e.enter),Ra(e.leave)];{const t=Ra(e);return[t,t]}}function Ra(e){return f0(e)}function Ln(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function nr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function wf(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let wy=0;function Cf(e,t,n,r){const s=e._endId=++wy,d=()=>{s===e._endId&&r()};if(n)return setTimeout(d,n);const{type:v,timeout:c,propCount:i}=Gp(e,t);if(!v)return r();const f=v+"end";let h=0;const o=()=>{e.removeEventListener(f,l),d()},l=a=>{a.target===e&&++h>=i&&o()};setTimeout(()=>{h<i&&o()},c+1),e.addEventListener(f,l)}function Gp(e,t){const n=window.getComputedStyle(e),r=u=>(n[u]||"").split(", "),s=r(`${Zn}Delay`),d=r(`${Zn}Duration`),v=Sf(s,d),c=r(`${Ii}Delay`),i=r(`${Ii}Duration`),f=Sf(c,i);let h=null,o=0,l=0;t===Zn?v>0&&(h=Zn,o=v,l=d.length):t===Ii?f>0&&(h=Ii,o=f,l=i.length):(o=Math.max(v,f),h=o>0?v>f?Zn:Ii:null,l=h?h===Zn?d.length:i.length:0);const a=h===Zn&&/\b(transform|all)(,|$)/.test(r(`${Zn}Property`).toString());return{type:h,timeout:o,propCount:l,hasTransform:a}}function Sf(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>xf(n)+xf(e[r])))}function xf(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Kp(){return document.body.offsetHeight}const qp=new WeakMap,Jp=new WeakMap,Zp={name:"TransitionGroup",props:at({},yy,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Et(),r=wp();let s,d;return qo(()=>{if(!s.length)return;const v=e.moveClass||`${e.name||"v"}-move`;if(!Ey(s[0].el,n.vnode.el,v))return;s.forEach(xy),s.forEach(Ty);const c=s.filter(Oy);Kp(),c.forEach(i=>{const f=i.el,h=f.style;Ln(f,v),h.transform=h.webkitTransform=h.transitionDuration="";const o=f._moveCb=l=>{l&&l.target!==f||(!l||/transform$/.test(l.propertyName))&&(f.removeEventListener("transitionend",o),f._moveCb=null,nr(f,v))};f.addEventListener("transitionend",o)})}),()=>{const v=$e(e),c=Xp(v);let i=v.tag||Me;s=d,d=t.default?Sc(t.default()):[];for(let f=0;f<d.length;f++){const h=d[f];h.key!=null&&as(h,os(h,c,r,n))}if(s)for(let f=0;f<s.length;f++){const h=s[f];as(h,os(h,c,r,n)),qp.set(h,h.el.getBoundingClientRect())}return he(i,null,d)}}},Cy=e=>delete e.mode;Zp.props;const Sy=Zp;function xy(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Ty(e){Jp.set(e,e.el.getBoundingClientRect())}function Oy(e){const t=qp.get(e),n=Jp.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const d=e.el.style;return d.transform=d.webkitTransform=`translate(${r}px,${s}px)`,d.transitionDuration="0s",e}}function Ey(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(v=>{v.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),n.split(/\s+/).forEach(v=>v&&r.classList.add(v)),r.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(r);const{hasTransform:d}=Gp(r);return s.removeChild(r),d}const hr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Te(t)?n=>so(t,n):t};function Py(e){e.target.composing=!0}function Tf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Of={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=hr(s);const d=r||s.props&&s.props.type==="number";$n(e,t?"change":"input",v=>{if(v.target.composing)return;let c=e.value;n&&(c=c.trim()),d&&(c=yo(c)),e._assign(c)}),n&&$n(e,"change",()=>{e.value=e.value.trim()}),t||($n(e,"compositionstart",Py),$n(e,"compositionend",Tf),$n(e,"change",Tf))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},d){if(e._assign=hr(d),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(s||e.type==="number")&&yo(e.value)===t))return;const v=t??"";e.value!==v&&(e.value=v)}},Qp={deep:!0,created(e,t,n){e._assign=hr(n),$n(e,"change",()=>{const r=e._modelValue,s=oi(e),d=e.checked,v=e._assign;if(Te(r)){const c=hc(r,s),i=c!==-1;if(d&&!i)v(r.concat(s));else if(!d&&i){const f=[...r];f.splice(c,1),v(f)}}else if(yi(r)){const c=new Set(r);d?c.add(s):c.delete(s),v(c)}else v(eg(e,d))})},mounted:Ef,beforeUpdate(e,t,n){e._assign=hr(n),Ef(e,t,n)}};function Ef(e,{value:t,oldValue:n},r){e._modelValue=t,Te(t)?e.checked=hc(t,r.props.value)>-1:yi(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Mr(t,eg(e,!0)))}const ky={created(e,{value:t},n){e.checked=Mr(t,n.props.value),e._assign=hr(n),$n(e,"change",()=>{e._assign(oi(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=hr(r),t!==n&&(e.checked=Mr(t,r.props.value))}},Ay={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=yi(t);$n(e,"change",()=>{const d=Array.prototype.filter.call(e.options,v=>v.selected).map(v=>n?yo(oi(v)):oi(v));e._assign(e.multiple?s?new Set(d):d:d[0])}),e._assign=hr(r)},mounted(e,{value:t}){Pf(e,t)},beforeUpdate(e,t,n){e._assign=hr(n)},updated(e,{value:t}){Pf(e,t)}};function Pf(e,t){const n=e.multiple;if(!(n&&!Te(t)&&!yi(t))){for(let r=0,s=e.options.length;r<s;r++){const d=e.options[r],v=oi(d);if(n)Te(t)?d.selected=hc(t,v)>-1:d.selected=t.has(v);else if(Mr(oi(d),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function oi(e){return"_value"in e?e._value:e.value}function eg(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Iy={created(e,t,n){Ys(e,t,n,null,"created")},mounted(e,t,n){Ys(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Ys(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Ys(e,t,n,r,"updated")}};function My(e,t){switch(e){case"SELECT":return Ay;case"TEXTAREA":return Of;default:switch(t){case"checkbox":return Qp;case"radio":return ky;default:return Of}}}function Ys(e,t,n,r,s){const v=My(e.tagName,n.props&&n.props.type)[s];v&&v(e,t,n,r)}const Ry=["ctrl","shift","alt","meta"],Dy={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ry.some(n=>e[`${n}Key`]&&!t.includes(n))},vt=(e,t)=>(n,...r)=>{for(let s=0;s<t.length;s++){const d=Dy[t[s]];if(d&&d(n,t))return}return e(n,...r)},Fy={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qr=(e,t)=>n=>{if(!("key"in n))return;const r=Lr(n.key);if(t.some(s=>s===r||Fy[s]===r))return e(n)},ht={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Mi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Mi(e,!0),r.enter(e)):r.leave(e,()=>{Mi(e,!1)}):Mi(e,t))},beforeUnmount(e,{value:t}){Mi(e,t)}};function Mi(e,t){e.style.display=t?e._vod:"none"}const Ly=at({patchProp:my},iy);let kf;function tg(){return kf||(kf=B_(Ly))}const Af=(...e)=>{tg().render(...e)},By=(...e)=>{const t=tg().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=$y(r);if(!s)return;const d=t._component;!Pe(d)&&!d.render&&!d.template&&(d.template=s.innerHTML),s.innerHTML="";const v=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),v},t};function $y(e){return De(e)?document.querySelector(e):e}const pt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},jy={};function Ny(e,t,n,r,s,d){const v=je("router-view");return W(),Se(v)}const zy=pt(jy,[["render",Ny]]);function Hy(){return ng().__VUE_DEVTOOLS_GLOBAL_HOOK__}function ng(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Uy=typeof Proxy=="function",Vy="devtools-plugin:setup",Wy="plugin:settings:set";let Wr,El;function Yy(){var e;return Wr!==void 0||(typeof window<"u"&&window.performance?(Wr=!0,El=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(Wr=!0,El=global.perf_hooks.performance):Wr=!1),Wr}function Xy(){return Yy()?El.now():Date.now()}class Gy{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const v in t.settings){const c=t.settings[v];r[v]=c.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let d=Object.assign({},r);try{const v=localStorage.getItem(s),c=JSON.parse(v);Object.assign(d,c)}catch{}this.fallbacks={getSettings(){return d},setSettings(v){try{localStorage.setItem(s,JSON.stringify(v))}catch{}d=v},now(){return Xy()}},n&&n.on(Wy,(v,c)=>{v===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(v,c)=>this.target?this.target.on[c]:(...i)=>{this.onQueue.push({method:c,args:i})}}),this.proxiedTarget=new Proxy({},{get:(v,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...i)=>(this.targetQueue.push({method:c,args:i,resolve:()=>{}}),this.fallbacks[c](...i)):(...i)=>new Promise(f=>{this.targetQueue.push({method:c,args:i,resolve:f})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Ky(e,t){const n=e,r=ng(),s=Hy(),d=Uy&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!d))s.emit(Vy,e,t);else{const v=d?new Gy(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:v}),v&&t(v.proxiedTarget)}}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Gr=typeof window<"u";function qy(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ge=Object.assign;function Da(e,t){const n={};for(const r in t){const s=t[r];n[r]=hn(s)?s.map(e):e(s)}return n}const Yi=()=>{},hn=Array.isArray,Jy=/\/$/,Zy=e=>e.replace(Jy,"");function Fa(e,t,n="/"){let r,s={},d="",v="";const c=t.indexOf("#");let i=t.indexOf("?");return c<i&&c>=0&&(i=-1),i>-1&&(r=t.slice(0,i),d=t.slice(i+1,c>-1?c:t.length),s=e(d)),c>-1&&(r=r||t.slice(0,c),v=t.slice(c,t.length)),r=nb(r??t,n),{fullPath:r+(d&&"?")+d+v,path:r,query:s,hash:v}}function Qy(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function If(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function eb(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&ai(t.matched[r],n.matched[s])&&rg(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ai(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function rg(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!tb(e[n],t[n]))return!1;return!0}function tb(e,t){return hn(e)?Mf(e,t):hn(t)?Mf(t,e):e===t}function Mf(e,t){return hn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function nb(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let d=n.length-1,v,c;for(v=0;v<r.length;v++)if(c=r[v],c!==".")if(c==="..")d>1&&d--;else break;return n.slice(0,d).join("/")+"/"+r.slice(v-(v===r.length?1:0)).join("/")}var us;(function(e){e.pop="pop",e.push="push"})(us||(us={}));var Xi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Xi||(Xi={}));function rb(e){if(!e)if(Gr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Zy(e)}const ib=/^[^#]+#/;function sb(e,t){return e.replace(ib,"#")+t}function ob(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ea=()=>({left:window.pageXOffset,top:window.pageYOffset});function ab(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=ob(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Rf(e,t){return(history.state?history.state.position-t:-1)+e}const Pl=new Map;function lb(e,t){Pl.set(e,t)}function cb(e){const t=Pl.get(e);return Pl.delete(e),t}let ub=()=>location.protocol+"//"+location.host;function ig(e,t){const{pathname:n,search:r,hash:s}=t,d=e.indexOf("#");if(d>-1){let c=s.includes(e.slice(d))?e.slice(d).length:1,i=s.slice(c);return i[0]!=="/"&&(i="/"+i),If(i,"")}return If(n,e)+r+s}function fb(e,t,n,r){let s=[],d=[],v=null;const c=({state:l})=>{const a=ig(e,location),u=n.value,g=t.value;let p=0;if(l){if(n.value=a,t.value=l,v&&v===u){v=null;return}p=g?l.position-g.position:0}else r(a);s.forEach(m=>{m(n.value,u,{delta:p,type:us.pop,direction:p?p>0?Xi.forward:Xi.back:Xi.unknown})})};function i(){v=n.value}function f(l){s.push(l);const a=()=>{const u=s.indexOf(l);u>-1&&s.splice(u,1)};return d.push(a),a}function h(){const{history:l}=window;l.state&&l.replaceState(Ge({},l.state,{scroll:ea()}),"")}function o(){for(const l of d)l();d=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:i,listen:f,destroy:o}}function Df(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?ea():null}}function hb(e){const{history:t,location:n}=window,r={value:ig(e,n)},s={value:t.state};s.value||d(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function d(i,f,h){const o=e.indexOf("#"),l=o>-1?(n.host&&document.querySelector("base")?e:e.slice(o))+i:ub()+e+i;try{t[h?"replaceState":"pushState"](f,"",l),s.value=f}catch(a){console.error(a),n[h?"replace":"assign"](l)}}function v(i,f){const h=Ge({},t.state,Df(s.value.back,i,s.value.forward,!0),f,{position:s.value.position});d(i,h,!0),r.value=i}function c(i,f){const h=Ge({},s.value,t.state,{forward:i,scroll:ea()});d(h.current,h,!0);const o=Ge({},Df(r.value,i,null),{position:h.position+1},f);d(i,o,!1),r.value=i}return{location:r,state:s,push:c,replace:v}}function db(e){e=rb(e);const t=hb(e),n=fb(e,t.state,t.location,t.replace);function r(d,v=!0){v||n.pauseListeners(),history.go(d)}const s=Ge({location:"",base:e,go:r,createHref:sb.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function pb(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),db(e)}function gb(e){return typeof e=="string"||e&&typeof e=="object"}function sg(e){return typeof e=="string"||typeof e=="symbol"}const Qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},og=Symbol("");var Ff;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ff||(Ff={}));function li(e,t){return Ge(new Error,{type:e,[og]:!0},t)}function Dn(e,t){return e instanceof Error&&og in e&&(t==null||!!(e.type&t))}const Lf="[^/]+?",vb={sensitive:!1,strict:!1,start:!0,end:!0},mb=/[.+*?^${}()[\]/\\]/g;function _b(e,t){const n=Ge({},vb,t),r=[];let s=n.start?"^":"";const d=[];for(const f of e){const h=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let o=0;o<f.length;o++){const l=f[o];let a=40+(n.sensitive?.25:0);if(l.type===0)o||(s+="/"),s+=l.value.replace(mb,"\\$&"),a+=40;else if(l.type===1){const{value:u,repeatable:g,optional:p,regexp:m}=l;d.push({name:u,repeatable:g,optional:p});const _=m||Lf;if(_!==Lf){a+=10;try{new RegExp(`(${_})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${u}" (${_}): `+b.message)}}let y=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;o||(y=p&&f.length<2?`(?:/${y})`:"/"+y),p&&(y+="?"),s+=y,a+=20,p&&(a+=-8),g&&(a+=-20),_===".*"&&(a+=-50)}h.push(a)}r.push(h)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const v=new RegExp(s,n.sensitive?"":"i");function c(f){const h=f.match(v),o={};if(!h)return null;for(let l=1;l<h.length;l++){const a=h[l]||"",u=d[l-1];o[u.name]=a&&u.repeatable?a.split("/"):a}return o}function i(f){let h="",o=!1;for(const l of e){(!o||!h.endsWith("/"))&&(h+="/"),o=!1;for(const a of l)if(a.type===0)h+=a.value;else if(a.type===1){const{value:u,repeatable:g,optional:p}=a,m=u in f?f[u]:"";if(hn(m)&&!g)throw new Error(`Provided param "${u}" is an array but it is not repeatable (* or + modifiers)`);const _=hn(m)?m.join("/"):m;if(!_)if(p)l.length<2&&(h.endsWith("/")?h=h.slice(0,-1):o=!0);else throw new Error(`Missing required param "${u}"`);h+=_}}return h||"/"}return{re:v,score:r,keys:d,parse:c,stringify:i}}function yb(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function bb(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const d=yb(r[n],s[n]);if(d)return d;n++}if(Math.abs(s.length-r.length)===1){if(Bf(r))return 1;if(Bf(s))return-1}return s.length-r.length}function Bf(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const wb={type:0,value:""},Cb=/[a-zA-Z0-9_]/;function Sb(e){if(!e)return[[]];if(e==="/")return[[wb]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(a){throw new Error(`ERR (${n})/"${f}": ${a}`)}let n=0,r=n;const s=[];let d;function v(){d&&s.push(d),d=[]}let c=0,i,f="",h="";function o(){f&&(n===0?d.push({type:0,value:f}):n===1||n===2||n===3?(d.length>1&&(i==="*"||i==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),d.push({type:1,value:f,regexp:h,repeatable:i==="*"||i==="+",optional:i==="*"||i==="?"})):t("Invalid state to consume buffer"),f="")}function l(){f+=i}for(;c<e.length;){if(i=e[c++],i==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:i==="/"?(f&&o(),v()):i===":"?(o(),n=1):l();break;case 4:l(),n=r;break;case 1:i==="("?n=2:Cb.test(i)?l():(o(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&c--);break;case 2:i===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+i:n=3:h+=i;break;case 3:o(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&c--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),o(),v(),s}function xb(e,t,n){const r=_b(Sb(e.path),n),s=Ge(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Tb(e,t){const n=[],r=new Map;t=Nf({strict:!1,end:!0,sensitive:!1},t);function s(h){return r.get(h)}function d(h,o,l){const a=!l,u=Ob(h);u.aliasOf=l&&l.record;const g=Nf(t,h),p=[u];if("alias"in h){const y=typeof h.alias=="string"?[h.alias]:h.alias;for(const b of y)p.push(Ge({},u,{components:l?l.record.components:u.components,path:b,aliasOf:l?l.record:u}))}let m,_;for(const y of p){const{path:b}=y;if(o&&b[0]!=="/"){const w=o.record.path,C=w[w.length-1]==="/"?"":"/";y.path=o.record.path+(b&&C+b)}if(m=xb(y,o,g),l?l.alias.push(m):(_=_||m,_!==m&&_.alias.push(m),a&&h.name&&!jf(m)&&v(h.name)),u.children){const w=u.children;for(let C=0;C<w.length;C++)d(w[C],m,l&&l.children[C])}l=l||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&i(m)}return _?()=>{v(_)}:Yi}function v(h){if(sg(h)){const o=r.get(h);o&&(r.delete(h),n.splice(n.indexOf(o),1),o.children.forEach(v),o.alias.forEach(v))}else{const o=n.indexOf(h);o>-1&&(n.splice(o,1),h.record.name&&r.delete(h.record.name),h.children.forEach(v),h.alias.forEach(v))}}function c(){return n}function i(h){let o=0;for(;o<n.length&&bb(h,n[o])>=0&&(h.record.path!==n[o].record.path||!ag(h,n[o]));)o++;n.splice(o,0,h),h.record.name&&!jf(h)&&r.set(h.record.name,h)}function f(h,o){let l,a={},u,g;if("name"in h&&h.name){if(l=r.get(h.name),!l)throw li(1,{location:h});g=l.record.name,a=Ge($f(o.params,l.keys.filter(_=>!_.optional).map(_=>_.name)),h.params&&$f(h.params,l.keys.map(_=>_.name))),u=l.stringify(a)}else if("path"in h)u=h.path,l=n.find(_=>_.re.test(u)),l&&(a=l.parse(u),g=l.record.name);else{if(l=o.name?r.get(o.name):n.find(_=>_.re.test(o.path)),!l)throw li(1,{location:h,currentLocation:o});g=l.record.name,a=Ge({},o.params,h.params),u=l.stringify(a)}const p=[];let m=l;for(;m;)p.unshift(m.record),m=m.parent;return{name:g,path:u,params:a,matched:p,meta:Pb(p)}}return e.forEach(h=>d(h)),{addRoute:d,resolve:f,removeRoute:v,getRoutes:c,getRecordMatcher:s}}function $f(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Ob(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Eb(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Eb(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function jf(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Pb(e){return e.reduce((t,n)=>Ge(t,n.meta),{})}function Nf(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function ag(e,t){return t.children.some(n=>n===e||ag(e,n))}const lg=/#/g,kb=/&/g,Ab=/\//g,Ib=/=/g,Mb=/\?/g,cg=/\+/g,Rb=/%5B/g,Db=/%5D/g,ug=/%5E/g,Fb=/%60/g,fg=/%7B/g,Lb=/%7C/g,hg=/%7D/g,Bb=/%20/g;function Mc(e){return encodeURI(""+e).replace(Lb,"|").replace(Rb,"[").replace(Db,"]")}function $b(e){return Mc(e).replace(fg,"{").replace(hg,"}").replace(ug,"^")}function kl(e){return Mc(e).replace(cg,"%2B").replace(Bb,"+").replace(lg,"%23").replace(kb,"%26").replace(Fb,"`").replace(fg,"{").replace(hg,"}").replace(ug,"^")}function jb(e){return kl(e).replace(Ib,"%3D")}function Nb(e){return Mc(e).replace(lg,"%23").replace(Mb,"%3F")}function zb(e){return e==null?"":Nb(e).replace(Ab,"%2F")}function Oo(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Hb(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const d=r[s].replace(cg," "),v=d.indexOf("="),c=Oo(v<0?d:d.slice(0,v)),i=v<0?null:Oo(d.slice(v+1));if(c in t){let f=t[c];hn(f)||(f=t[c]=[f]),f.push(i)}else t[c]=i}return t}function zf(e){let t="";for(let n in e){const r=e[n];if(n=jb(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(hn(r)?r.map(d=>d&&kl(d)):[r&&kl(r)]).forEach(d=>{d!==void 0&&(t+=(t.length?"&":"")+n,d!=null&&(t+="="+d))})}return t}function Ub(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=hn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const Vb=Symbol(""),Hf=Symbol(""),Rc=Symbol(""),dg=Symbol(""),Al=Symbol("");function Ri(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function sr(e,t,n,r,s){const d=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((v,c)=>{const i=o=>{o===!1?c(li(4,{from:n,to:t})):o instanceof Error?c(o):gb(o)?c(li(2,{from:t,to:o})):(d&&r.enterCallbacks[s]===d&&typeof o=="function"&&d.push(o),v())},f=e.call(r&&r.instances[s],t,n,i);let h=Promise.resolve(f);e.length<3&&(h=h.then(i)),h.catch(o=>c(o))})}function La(e,t,n,r){const s=[];for(const d of e)for(const v in d.components){let c=d.components[v];if(!(t!=="beforeRouteEnter"&&!d.instances[v]))if(Wb(c)){const f=(c.__vccOpts||c)[t];f&&s.push(sr(f,n,r,d,v))}else{let i=c();s.push(()=>i.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${v}" at "${d.path}"`));const h=qy(f)?f.default:f;d.components[v]=h;const l=(h.__vccOpts||h)[t];return l&&sr(l,n,r,d,v)()}))}}return s}function Wb(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Uf(e){const t=Ae(Rc),n=Ae(dg),r=K(()=>t.resolve(S(e.to))),s=K(()=>{const{matched:i}=r.value,{length:f}=i,h=i[f-1],o=n.matched;if(!h||!o.length)return-1;const l=o.findIndex(ai.bind(null,h));if(l>-1)return l;const a=Vf(i[f-2]);return f>1&&Vf(h)===a&&o[o.length-1].path!==a?o.findIndex(ai.bind(null,i[f-2])):l}),d=K(()=>s.value>-1&&Kb(n.params,r.value.params)),v=K(()=>s.value>-1&&s.value===n.matched.length-1&&rg(n.params,r.value.params));function c(i={}){return Gb(i)?t[S(e.replace)?"replace":"push"](S(e.to)).catch(Yi):Promise.resolve()}return{route:r,href:K(()=>r.value.href),isActive:d,isExactActive:v,navigate:c}}const Yb=xe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Uf,setup(e,{slots:t}){const n=Pn(Uf(e)),{options:r}=Ae(Rc),s=K(()=>({[Wf(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Wf(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const d=t.default&&t.default(n);return e.custom?d:Qo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},d)}}}),Xb=Yb;function Gb(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Kb(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!hn(s)||s.length!==r.length||r.some((d,v)=>d!==s[v]))return!1}return!0}function Vf(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Wf=(e,t,n)=>e??t??n,qb=xe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Ae(Al),s=K(()=>e.route||r.value),d=Ae(Hf,0),v=K(()=>{let f=S(d);const{matched:h}=s.value;let o;for(;(o=h[f])&&!o.components;)f++;return f}),c=K(()=>s.value.matched[v.value]);rt(Hf,K(()=>v.value+1)),rt(Vb,c),rt(Al,s);const i=fe();return ke(()=>[i.value,c.value,e.name],([f,h,o],[l,a,u])=>{h&&(h.instances[o]=f,a&&a!==h&&f&&f===l&&(h.leaveGuards.size||(h.leaveGuards=a.leaveGuards),h.updateGuards.size||(h.updateGuards=a.updateGuards))),f&&h&&(!a||!ai(h,a)||!l)&&(h.enterCallbacks[o]||[]).forEach(g=>g(f))},{flush:"post"}),()=>{const f=s.value,h=e.name,o=c.value,l=o&&o.components[h];if(!l)return Yf(n.default,{Component:l,route:f});const a=o.props[h],u=a?a===!0?f.params:typeof a=="function"?a(f):a:null,p=Qo(l,Ge({},u,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(o.instances[h]=null)},ref:i}));return Yf(n.default,{Component:p,route:f})||p}}});function Yf(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Jb=qb;function Zb(e){const t=Tb(e.routes,e),n=e.parseQuery||Hb,r=e.stringifyQuery||zf,s=e.history,d=Ri(),v=Ri(),c=Ri(),i=Wt(Qn);let f=Qn;Gr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Da.bind(null,M=>""+M),o=Da.bind(null,zb),l=Da.bind(null,Oo);function a(M,L){let U,te;return sg(M)?(U=t.getRecordMatcher(M),te=L):te=M,t.addRoute(te,U)}function u(M){const L=t.getRecordMatcher(M);L&&t.removeRoute(L)}function g(){return t.getRoutes().map(M=>M.record)}function p(M){return!!t.getRecordMatcher(M)}function m(M,L){if(L=Ge({},L||i.value),typeof M=="string"){const k=Fa(n,M,L.path),z=t.resolve({path:k.path},L),V=s.createHref(k.fullPath);return Ge(k,z,{params:l(z.params),hash:Oo(k.hash),redirectedFrom:void 0,href:V})}let U;if("path"in M)U=Ge({},M,{path:Fa(n,M.path,L.path).path});else{const k=Ge({},M.params);for(const z in k)k[z]==null&&delete k[z];U=Ge({},M,{params:o(k)}),L.params=o(L.params)}const te=t.resolve(U,L),ce=M.hash||"";te.params=h(l(te.params));const A=Qy(r,Ge({},M,{hash:$b(ce),path:te.path})),E=s.createHref(A);return Ge({fullPath:A,hash:ce,query:r===zf?Ub(M.query):M.query||{}},te,{redirectedFrom:void 0,href:E})}function _(M){return typeof M=="string"?Fa(n,M,i.value.path):Ge({},M)}function y(M,L){if(f!==M)return li(8,{from:L,to:M})}function b(M){return x(M)}function w(M){return b(Ge(_(M),{replace:!0}))}function C(M){const L=M.matched[M.matched.length-1];if(L&&L.redirect){const{redirect:U}=L;let te=typeof U=="function"?U(M):U;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=_(te):{path:te},te.params={}),Ge({query:M.query,hash:M.hash,params:"path"in te?{}:M.params},te)}}function x(M,L){const U=f=m(M),te=i.value,ce=M.state,A=M.force,E=M.replace===!0,k=C(U);if(k)return x(Ge(_(k),{state:typeof k=="object"?Ge({},ce,k.state):ce,force:A,replace:E}),L||U);const z=U;z.redirectedFrom=L;let V;return!A&&eb(r,te,U)&&(V=li(16,{to:z,from:te}),F(te,te,!0,!1)),(V?Promise.resolve(V):Y(z,te)).catch(H=>Dn(H)?Dn(H,2)?H:R(H):Q(H,z,te)).then(H=>{if(H){if(Dn(H,2))return x(Ge({replace:E},_(H.to),{state:typeof H.to=="object"?Ge({},ce,H.to.state):ce,force:A}),L||z)}else H=N(z,te,!0,E,ce);return X(z,te,H),H})}function O(M,L){const U=y(M,L);return U?Promise.reject(U):Promise.resolve()}function B(M){const L=D.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(M):M()}function Y(M,L){let U;const[te,ce,A]=Qb(M,L);U=La(te.reverse(),"beforeRouteLeave",M,L);for(const k of te)k.leaveGuards.forEach(z=>{U.push(sr(z,M,L))});const E=O.bind(null,M,L);return U.push(E),$(U).then(()=>{U=[];for(const k of d.list())U.push(sr(k,M,L));return U.push(E),$(U)}).then(()=>{U=La(ce,"beforeRouteUpdate",M,L);for(const k of ce)k.updateGuards.forEach(z=>{U.push(sr(z,M,L))});return U.push(E),$(U)}).then(()=>{U=[];for(const k of A)if(k.beforeEnter)if(hn(k.beforeEnter))for(const z of k.beforeEnter)U.push(sr(z,M,L));else U.push(sr(k.beforeEnter,M,L));return U.push(E),$(U)}).then(()=>(M.matched.forEach(k=>k.enterCallbacks={}),U=La(A,"beforeRouteEnter",M,L),U.push(E),$(U))).then(()=>{U=[];for(const k of v.list())U.push(sr(k,M,L));return U.push(E),$(U)}).catch(k=>Dn(k,8)?k:Promise.reject(k))}function X(M,L,U){c.list().forEach(te=>B(()=>te(M,L,U)))}function N(M,L,U,te,ce){const A=y(M,L);if(A)return A;const E=L===Qn,k=Gr?history.state:{};U&&(te||E?s.replace(M.fullPath,Ge({scroll:E&&k&&k.scroll},ce)):s.push(M.fullPath,ce)),i.value=M,F(M,L,U,E),R()}let j;function q(){j||(j=s.listen((M,L,U)=>{if(!P.listening)return;const te=m(M),ce=C(te);if(ce){x(Ge(ce,{replace:!0}),te).catch(Yi);return}f=te;const A=i.value;Gr&&lb(Rf(A.fullPath,U.delta),ea()),Y(te,A).catch(E=>Dn(E,12)?E:Dn(E,2)?(x(E.to,te).then(k=>{Dn(k,20)&&!U.delta&&U.type===us.pop&&s.go(-1,!1)}).catch(Yi),Promise.reject()):(U.delta&&s.go(-U.delta,!1),Q(E,te,A))).then(E=>{E=E||N(te,A,!1),E&&(U.delta&&!Dn(E,8)?s.go(-U.delta,!1):U.type===us.pop&&Dn(E,20)&&s.go(-1,!1)),X(te,A,E)}).catch(Yi)}))}let se=Ri(),le=Ri(),G;function Q(M,L,U){R(M);const te=le.list();return te.length?te.forEach(ce=>ce(M,L,U)):console.error(M),Promise.reject(M)}function T(){return G&&i.value!==Qn?Promise.resolve():new Promise((M,L)=>{se.add([M,L])})}function R(M){return G||(G=!M,q(),se.list().forEach(([L,U])=>M?U(M):L()),se.reset()),M}function F(M,L,U,te){const{scrollBehavior:ce}=e;if(!Gr||!ce)return Promise.resolve();const A=!U&&cb(Rf(M.fullPath,0))||(te||!U)&&history.state&&history.state.scroll||null;return nt().then(()=>ce(M,L,A)).then(E=>E&&ab(E)).catch(E=>Q(E,M,L))}const I=M=>s.go(M);let ee;const D=new Set,P={currentRoute:i,listening:!0,addRoute:a,removeRoute:u,hasRoute:p,getRoutes:g,resolve:m,options:e,push:b,replace:w,go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:d.add,beforeResolve:v.add,afterEach:c.add,onError:le.add,isReady:T,install(M){const L=this;M.component("RouterLink",Xb),M.component("RouterView",Jb),M.config.globalProperties.$router=L,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>S(i)}),Gr&&!ee&&i.value===Qn&&(ee=!0,b(s.location).catch(ce=>{}));const U={};for(const ce in Qn)Object.defineProperty(U,ce,{get:()=>i.value[ce],enumerable:!0});M.provide(Rc,L),M.provide(dg,_c(U)),M.provide(Al,i);const te=M.unmount;D.add(M),M.unmount=function(){D.delete(M),D.size<1&&(f=Qn,j&&j(),j=null,i.value=Qn,ee=!1,G=!1),te()}}};function $(M){return M.reduce((L,U)=>L.then(()=>B(U)),Promise.resolve())}return P}function Qb(e,t){const n=[],r=[],s=[],d=Math.max(t.matched.length,e.matched.length);for(let v=0;v<d;v++){const c=t.matched[v];c&&(e.matched.find(f=>ai(f,c))?r.push(c):n.push(c));const i=e.matched[v];i&&(t.matched.find(f=>ai(f,i))||s.push(i))}return[n,r,s]}const ew="/vue-design-editor/assets/module-close-b3f3c06c.svg";/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var pg="store";function Br(e){return e===void 0&&(e=null),Ae(e!==null?e:pg)}function xi(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function gg(e){return e!==null&&typeof e=="object"}function tw(e){return e&&typeof e.then=="function"}function nw(e,t){return function(){return e(t)}}function vg(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function mg(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;ta(e,n,[],e._modules.root,!0),Dc(e,n,t)}function Dc(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var d=e._wrappedGetters,v={},c={},i=qd(!0);i.run(function(){xi(d,function(f,h){v[h]=nw(f,e),c[h]=K(function(){return v[h]()}),Object.defineProperty(e.getters,h,{get:function(){return c[h].value},enumerable:!0})})}),e._state=Pn({data:t}),e._scope=i,e.strict&&aw(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function ta(e,t,n,r,s){var d=!n.length,v=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[v],e._modulesNamespaceMap[v]=r),!d&&!s){var c=Fc(t,n.slice(0,-1)),i=n[n.length-1];e._withCommit(function(){c[i]=r.state})}var f=r.context=rw(e,v,n);r.forEachMutation(function(h,o){var l=v+o;iw(e,l,h,f)}),r.forEachAction(function(h,o){var l=h.root?o:v+o,a=h.handler||h;sw(e,l,a,f)}),r.forEachGetter(function(h,o){var l=v+o;ow(e,l,h,f)}),r.forEachChild(function(h,o){ta(e,t,n.concat(o),h,s)})}function rw(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(d,v,c){var i=Eo(d,v,c),f=i.payload,h=i.options,o=i.type;return(!h||!h.root)&&(o=t+o),e.dispatch(o,f)},commit:r?e.commit:function(d,v,c){var i=Eo(d,v,c),f=i.payload,h=i.options,o=i.type;(!h||!h.root)&&(o=t+o),e.commit(o,f,h)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return _g(e,t)}},state:{get:function(){return Fc(e.state,n)}}}),s}function _g(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var d=s.slice(r);Object.defineProperty(n,d,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function iw(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(v){n.call(e,r.state,v)})}function sw(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(v){var c=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},v);return tw(c)||(c=Promise.resolve(c)),e._devtoolHook?c.catch(function(i){throw e._devtoolHook.emit("vuex:error",i),i}):c})}function ow(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(d){return n(r.state,r.getters,d.state,d.getters)})}function aw(e){ke(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Fc(e,t){return t.reduce(function(n,r){return n[r]},e)}function Eo(e,t,n){return gg(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var lw="vuex bindings",Xf="vuex:mutations",Ba="vuex:actions",Yr="vuex",cw=0;function uw(e,t){Ky({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[lw]},function(n){n.addTimelineLayer({id:Xf,label:"Vuex Mutations",color:Gf}),n.addTimelineLayer({id:Ba,label:"Vuex Actions",color:Gf}),n.addInspector({id:Yr,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===Yr)if(r.filter){var s=[];Cg(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[wg(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===Yr){var s=r.nodeId;_g(t,s),r.state=dw(gw(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===Yr){var s=r.nodeId,d=r.path;s!=="root"&&(d=s.split("/").filter(Boolean).concat(d)),t._withCommit(function(){r.set(t._state.data,d,r.state.value)})}}),t.subscribe(function(r,s){var d={};r.payload&&(d.payload=r.payload),d.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Yr),n.sendInspectorState(Yr),n.addTimelineEvent({layerId:Xf,event:{time:Date.now(),title:r.type,data:d}})}),t.subscribeAction({before:function(r,s){var d={};r.payload&&(d.payload=r.payload),r._id=cw++,r._time=Date.now(),d.state=s,n.addTimelineEvent({layerId:Ba,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:d}})},after:function(r,s){var d={},v=Date.now()-r._time;d.duration={_custom:{type:"duration",display:v+"ms",tooltip:"Action duration",value:v}},r.payload&&(d.payload=r.payload),d.state=s,n.addTimelineEvent({layerId:Ba,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:d}})}})})}var Gf=8702998,fw=6710886,hw=16777215,yg={label:"namespaced",textColor:hw,backgroundColor:fw};function bg(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function wg(e,t){return{id:t||"root",label:bg(t),tags:e.namespaced?[yg]:[],children:Object.keys(e._children).map(function(n){return wg(e._children[n],t+n+"/")})}}function Cg(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[yg]:[]}),Object.keys(t._children).forEach(function(s){Cg(e,t._children[s],n,r+s+"/")})}function dw(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(v){return{key:v,editable:!0,value:e.state[v]}})};if(r.length){var d=pw(t);s.getters=Object.keys(d).map(function(v){return{key:v.endsWith("/")?bg(v):v,editable:!1,value:Il(function(){return d[v]})}})}return s}function pw(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,d=r.pop();r.forEach(function(v){s[v]||(s[v]={_custom:{value:{},display:v,tooltip:"Module",abstract:!0}}),s=s[v]._custom.value}),s[d]=Il(function(){return e[n]})}else t[n]=Il(function(){return e[n]})}),t}function gw(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,d){var v=r[s];if(!v)throw new Error('Missing module "'+s+'" for path "'+t+'".');return d===n.length-1?v:v._children},t==="root"?e:e.root._children)}function Il(e){try{return e()}catch(t){return t}}var dn=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},Sg={namespaced:{configurable:!0}};Sg.namespaced.get=function(){return!!this._rawModule.namespaced};dn.prototype.addChild=function(t,n){this._children[t]=n};dn.prototype.removeChild=function(t){delete this._children[t]};dn.prototype.getChild=function(t){return this._children[t]};dn.prototype.hasChild=function(t){return t in this._children};dn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};dn.prototype.forEachChild=function(t){xi(this._children,t)};dn.prototype.forEachGetter=function(t){this._rawModule.getters&&xi(this._rawModule.getters,t)};dn.prototype.forEachAction=function(t){this._rawModule.actions&&xi(this._rawModule.actions,t)};dn.prototype.forEachMutation=function(t){this._rawModule.mutations&&xi(this._rawModule.mutations,t)};Object.defineProperties(dn.prototype,Sg);var $r=function(t){this.register([],t,!1)};$r.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};$r.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};$r.prototype.update=function(t){xg([],this.root,t)};$r.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var d=new dn(n,r);if(t.length===0)this.root=d;else{var v=this.get(t.slice(0,-1));v.addChild(t[t.length-1],d)}n.modules&&xi(n.modules,function(c,i){s.register(t.concat(i),c,r)})};$r.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};$r.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function xg(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;xg(e.concat(r),t.getChild(r),n.modules[r])}}function vw(e){return new $t(e)}var $t=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var d=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new $r(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=d;var v=this,c=this,i=c.dispatch,f=c.commit;this.dispatch=function(l,a){return i.call(v,l,a)},this.commit=function(l,a,u){return f.call(v,l,a,u)},this.strict=s;var h=this._modules.root.state;ta(this,h,[],this._modules.root),Dc(this,h),r.forEach(function(o){return o(n)})},Lc={state:{configurable:!0}};$t.prototype.install=function(t,n){t.provide(n||pg,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&uw(t,this)};Lc.state.get=function(){return this._state.data};Lc.state.set=function(e){};$t.prototype.commit=function(t,n,r){var s=this,d=Eo(t,n,r),v=d.type,c=d.payload,i={type:v,payload:c},f=this._mutations[v];f&&(this._withCommit(function(){f.forEach(function(o){o(c)})}),this._subscribers.slice().forEach(function(h){return h(i,s.state)}))};$t.prototype.dispatch=function(t,n){var r=this,s=Eo(t,n),d=s.type,v=s.payload,c={type:d,payload:v},i=this._actions[d];if(i){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(c,r.state)})}catch{}var f=i.length>1?Promise.all(i.map(function(h){return h(v)})):i[0](v);return new Promise(function(h,o){f.then(function(l){try{r._actionSubscribers.filter(function(a){return a.after}).forEach(function(a){return a.after(c,r.state)})}catch{}h(l)},function(l){try{r._actionSubscribers.filter(function(a){return a.error}).forEach(function(a){return a.error(c,r.state,l)})}catch{}o(l)})})}};$t.prototype.subscribe=function(t,n){return vg(t,this._subscribers,n)};$t.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return vg(r,this._actionSubscribers,n)};$t.prototype.watch=function(t,n,r){var s=this;return ke(function(){return t(s.state,s.getters)},n,Object.assign({},r))};$t.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};$t.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),ta(this,this.state,t,this._modules.get(t),r.preserveState),Dc(this,this.state)};$t.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=Fc(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),mg(this)};$t.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};$t.prototype.hotUpdate=function(t){this._modules.update(t),mg(this,!0)};$t.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties($t.prototype,Lc);var Tg=yw(function(e,t){var n={};return mw(t).forEach(function(r){var s=r.key,d=r.val;n[s]=function(){var c=this.$store.state,i=this.$store.getters;if(e){var f=bw(this.$store,"mapState",e);if(!f)return;c=f.context.state,i=f.context.getters}return typeof d=="function"?d.call(this,c,i):c[d]},n[s].vuex=!0}),n});function mw(e){return _w(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function _w(e){return Array.isArray(e)||gg(e)}function yw(e){return function(t,n){return typeof t!="string"?(n=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,n)}}function bw(e,t,n){var r=e._modulesNamespaceMap[n];return r}const ww={class:"material-editor-header"},Cw={class:"material-editor-content"},Sw={class:"material-editor-framework-left"},$a=313,ja=265,Na=72,xw=xe({__name:"Framework",setup(e){const{state:t,commit:n}=Br(),r=fe(),s=fe({module:Na,left:$a,center:window.document.body.clientWidth-$a-ja-Na,right:ja}),d=K(()=>t.activeModule),v=K(()=>t.isClose),c=K(()=>d.value&&!d.value.drag&&JSON.stringify(d.value)!="{}");Qe(()=>{s.value.center=r.value.offsetWidth-$a-ja-Na});function i(h){n("setClose",h)}async function f(){i(!0),n("setActiveModule",null)}return(h,o)=>{const l=je("el-tooltip");return W(),ae("div",{class:"material-editor",ref_key:"editor",ref:r},[J("div",ww,[Ce(h.$slots,"header",{},void 0,!0)]),J("div",Cw,[J("div",{class:"material-editor-framework-module",style:Re(`width:${s.value.module}px`)},[Ce(h.$slots,"module",{},void 0,!0)],4),J("div",{class:pe(["material-editor-framework--collapsed",[!c.value||v.value?"material-editor-framework-transition":""]]),style:Re({width:`${s.value.left}px`,"--width":-s.value.left+"px"})},[J("div",Sw,[Ce(h.$slots,"left",{},void 0,!0)]),he(l,{class:"item",effect:"dark",content:"关闭侧边栏",placement:"right"},{default:ve(()=>[et(J("img",{src:ew,class:"material-editor-framework-close",onClick:f,alt:""},null,512),[[ht,s.value.left!=0&&!v.value]])]),_:1})],6),J("div",{class:"material-editor-framework-center",style:Re(`width:${s.value.center}px`)},[Ce(h.$slots,"navlist",{},void 0,!0),Ce(h.$slots,"workspace",{},void 0,!0)],4),J("div",{class:"material-editor-framework-right",style:Re(`width:${s.value.right}px`)},[Ce(h.$slots,"color",{},void 0,!0),Ce(h.$slots,"propsPanel",{},void 0,!0)],4)])],512)}}}),Tw=pt(xw,[["__scopeId","data-v-755bb6ef"]]),Ow=[{type:"add",text:"添加",drag:!1,icon:"icon-tianjia"},{type:"template",text:"模板",drag:!1,icon:"icon-templet-"},{type:"material",text:"素材",drag:!1,show:!0,icon:"icon-xingzhuang",fileType:["jpg","png","gif","svg"]},{type:"text",text:"文字",drag:!0,icon:"icon-text",options:{type:"FontCustom",text:"",width:60,height:30,fontSize:32,name:"New text"}},{type:"Image",text:"图片",drag:!1,icon:"icon-editor-background",fileType:["jpg","png","gif","svg"]},{type:"Video",text:"视频",drag:!1,icon:"icon-shipinbofang",fileType:["mp4"]},{type:"qrcode",text:"二维码",drag:!1,icon:"icon-erweima1"}],Ew={props:{onAddItem:{type:Function}},setup(e){const t=fe(Ow),{onAddItem:n}=$e(e),{state:r,commit:s}=Br(),d=K(()=>r.activeModule),v=K(()=>r.isClose),c=K(()=>r.workspace);function i(h){s("setClose",h)}function f(h){s("setActiveModule",h)}return t.value.find(h=>{h.show&&(f(h),i(!1))}),{modulelist:t,activeModule:d,isClose:v,setActiveModule:f,selectModule(h){if(d.value&&h.type==d.value.type&&!h.drag?(i(!v.value),f(null)):(["text","qrcode"].includes(h.type)?i(!0):i(!1),f(h)),h.drag){let o;const l=parseInt(Math.random()*80);h.type=="text"?o={option:{width:60,height:30,fontSize:32,name:"自定义字体",text:"文字点击输入",type:"FontCustom",left:c.value.left+c.value.width/2-30-l,top:c.value.top+c.value.height/2-15-l}}:h.type=="qrcode"&&(o={option:{width:200,height:200,name:"二维码",type:"qrcode",src:"https://pic5.40017.cn/i/ori/1e1kdqSZAgo.png?h=200&w=200",left:this.canvasRef.handler.width/2-100-l,top:this.canvasRef.handler.height/2-100-l}});let a=Object.assign({},h,o);n(a)}}}}},Pw={class:"module-aside-body"},kw=["onClick"];function Aw(e,t,n,r,s,d){return W(),ae("div",Pw,[(W(!0),ae(Me,null,ot(r.modulelist,(v,c)=>(W(),ae("button",{class:pe(["module-aside-button",r.activeModule&&r.activeModule.type==v.type?"actived":""]),key:c,onClick:i=>r.selectModule(v)},[J("i",{class:pe([v.icon,"iconfont"])},null,2),J("span",null,Be(v.text),1)],10,kw))),128))])}const Iw=pt(Ew,[["render",Aw],["__scopeId","data-v-cfdb4c0a"]]),Mw="/vue-design-editor/assets/upload-d3fb70fb.svg",Rw="/vue-design-editor/assets/h1-10d7bd47.svg",Dw="/vue-design-editor/assets/h2-ac35d909.svg",Fw="/vue-design-editor/assets/Aa-91318e82.svg",Lw="/vue-design-editor/assets/3d-4a45aac9.svg",Bw="/vue-design-editor/assets/square-b13ef26e.svg",$w="/vue-design-editor/assets/triangle-c58cdec2.svg",jw="/vue-design-editor/assets/circle-7da04343.svg",Nw="/vue-design-editor/assets/line-146dd10e.svg",zw="/vue-design-editor/assets/qrcode-2cb253f0.svg",Hw=[{type:"image",title:"图片/视频/psd",list:[{type:"upload",icon:Mw,title:"本地上传"}]},{type:"text",title:"文字",list:[{type:"h1",icon:Rw,title:"标题"},{type:"h2",icon:Dw,title:"副标题"},{type:"Aa",icon:Fw,title:"正文"},{type:"Aa",icon:Lw,title:"3D文字"}]},{type:"shape",title:"形状",list:[{type:"square",icon:Bw},{type:"triangle",icon:$w},{type:"circle",icon:jw},{type:"line",icon:Nw}]},{type:"component",title:"组件",list:[{type:"qrcode",icon:zw,title:"二维码"}]}],Uw=[{title:"卡通",interval:[460,489]},{title:"水果",interval:[386,409]},{title:"体育",interval:[410,459]},{title:"秋天",interval:[40,49]},{title:"icons"},{title:"计算机",interval:[50,75]},{title:"卡通水果",interval:[76,89]},{title:"服饰",interval:[89,136]},{title:"旗子",interval:[137,151]},{title:"树木",interval:[152,181]},{title:"食物",interval:[182,201]},{title:"服饰",interval:[202,222]},{title:"奖牌",interval:[223,252]},{title:"商务",interval:[253,261]},{title:"活动",interval:[262,270]},{title:"卡通水果",interval:[271,300]},{title:"复古",interval:[301,350]},{title:"卡通",interval:[351,385]},{title:"动物",interval:[490,519]}];/*! Element Plus Icons Vue v2.1.0 */var qe=(e,t)=>{let n=e.__vccOpts||e;for(let[r,s]of t)n[r]=s;return n},Vw={name:"ArrowDown"},Ww={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Yw=J("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),Xw=[Yw];function Gw(e,t,n,r,s,d){return W(),ae("svg",Ww,Xw)}var na=qe(Vw,[["render",Gw],["__file","arrow-down.vue"]]),Kw={name:"ArrowLeft"},qw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Jw=J("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),Zw=[Jw];function Qw(e,t,n,r,s,d){return W(),ae("svg",qw,Zw)}var Og=qe(Kw,[["render",Qw],["__file","arrow-left.vue"]]),e1={name:"ArrowRight"},t1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},n1=J("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),r1=[n1];function i1(e,t,n,r,s,d){return W(),ae("svg",t1,r1)}var s1=qe(e1,[["render",i1],["__file","arrow-right.vue"]]),o1={name:"ArrowUp"},a1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},l1=J("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),c1=[l1];function u1(e,t,n,r,s,d){return W(),ae("svg",a1,c1)}var Eg=qe(o1,[["render",u1],["__file","arrow-up.vue"]]),f1={name:"Check"},h1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},d1=J("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),p1=[d1];function g1(e,t,n,r,s,d){return W(),ae("svg",h1,p1)}var Pg=qe(f1,[["render",g1],["__file","check.vue"]]),v1={name:"CircleCheck"},m1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_1=J("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),y1=J("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),b1=[_1,y1];function w1(e,t,n,r,s,d){return W(),ae("svg",m1,b1)}var Bc=qe(v1,[["render",w1],["__file","circle-check.vue"]]),C1={name:"CircleCloseFilled"},S1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},x1=J("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),T1=[x1];function O1(e,t,n,r,s,d){return W(),ae("svg",S1,T1)}var kg=qe(C1,[["render",O1],["__file","circle-close-filled.vue"]]),E1={name:"CircleClose"},P1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},k1=J("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),A1=J("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),I1=[k1,A1];function M1(e,t,n,r,s,d){return W(),ae("svg",P1,I1)}var $c=qe(E1,[["render",M1],["__file","circle-close.vue"]]),R1={name:"Close"},D1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},F1=J("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),L1=[F1];function B1(e,t,n,r,s,d){return W(),ae("svg",D1,L1)}var ra=qe(R1,[["render",B1],["__file","close.vue"]]),$1={name:"Delete"},j1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},N1=J("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),z1=[N1];function H1(e,t,n,r,s,d){return W(),ae("svg",j1,z1)}var U1=qe($1,[["render",H1],["__file","delete.vue"]]),V1={name:"Document"},W1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Y1=J("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),X1=[Y1];function G1(e,t,n,r,s,d){return W(),ae("svg",W1,X1)}var K1=qe(V1,[["render",G1],["__file","document.vue"]]),q1={name:"FullScreen"},J1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Z1=J("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),Q1=[Z1];function eC(e,t,n,r,s,d){return W(),ae("svg",J1,Q1)}var tC=qe(q1,[["render",eC],["__file","full-screen.vue"]]),nC={name:"Hide"},rC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},iC=J("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),sC=J("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),oC=[iC,sC];function aC(e,t,n,r,s,d){return W(),ae("svg",rC,oC)}var lC=qe(nC,[["render",aC],["__file","hide.vue"]]),cC={name:"InfoFilled"},uC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fC=J("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),hC=[fC];function dC(e,t,n,r,s,d){return W(),ae("svg",uC,hC)}var Ag=qe(cC,[["render",dC],["__file","info-filled.vue"]]),pC={name:"Loading"},gC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},vC=J("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),mC=[vC];function _C(e,t,n,r,s,d){return W(),ae("svg",gC,mC)}var Ig=qe(pC,[["render",_C],["__file","loading.vue"]]),yC={name:"Minus"},bC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},wC=J("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),CC=[wC];function SC(e,t,n,r,s,d){return W(),ae("svg",bC,CC)}var xC=qe(yC,[["render",SC],["__file","minus.vue"]]),TC={name:"Plus"},OC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},EC=J("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),PC=[EC];function kC(e,t,n,r,s,d){return W(),ae("svg",OC,PC)}var AC=qe(TC,[["render",kC],["__file","plus.vue"]]),IC={name:"RefreshLeft"},MC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},RC=J("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),DC=[RC];function FC(e,t,n,r,s,d){return W(),ae("svg",MC,DC)}var LC=qe(IC,[["render",FC],["__file","refresh-left.vue"]]),BC={name:"RefreshRight"},$C={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},jC=J("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),NC=[jC];function zC(e,t,n,r,s,d){return W(),ae("svg",$C,NC)}var HC=qe(BC,[["render",zC],["__file","refresh-right.vue"]]),UC={name:"ScaleToOriginal"},VC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},WC=J("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),YC=[WC];function XC(e,t,n,r,s,d){return W(),ae("svg",VC,YC)}var GC=qe(UC,[["render",XC],["__file","scale-to-original.vue"]]),KC={name:"Select"},qC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},JC=J("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"},null,-1),ZC=[JC];function QC(e,t,n,r,s,d){return W(),ae("svg",qC,ZC)}var za=qe(KC,[["render",QC],["__file","select.vue"]]),eS={name:"SuccessFilled"},tS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nS=J("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),rS=[nS];function iS(e,t,n,r,s,d){return W(),ae("svg",tS,rS)}var Mg=qe(eS,[["render",iS],["__file","success-filled.vue"]]),sS={name:"View"},oS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},aS=J("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),lS=[aS];function cS(e,t,n,r,s,d){return W(),ae("svg",oS,lS)}var uS=qe(sS,[["render",cS],["__file","view.vue"]]),fS={name:"WarningFilled"},hS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},dS=J("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),pS=[dS];function gS(e,t,n,r,s,d){return W(),ae("svg",hS,pS)}var jc=qe(fS,[["render",gS],["__file","warning-filled.vue"]]),vS={name:"ZoomIn"},mS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_S=J("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),yS=[_S];function bS(e,t,n,r,s,d){return W(),ae("svg",mS,yS)}var Rg=qe(vS,[["render",bS],["__file","zoom-in.vue"]]),wS={name:"ZoomOut"},CS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},SS=J("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),xS=[SS];function TS(e,t,n,r,s,d){return W(),ae("svg",CS,xS)}var OS=qe(wS,[["render",TS],["__file","zoom-out.vue"]]);const ES={class:"panel-block__header"},PS={class:"panel-block__header-title"},kS={class:"panel-block__header-action"},AS={__name:"panel-block",props:{title:String,subTitle:String},emits:["change"],setup(e,{emit:t}){function n(){t("change")}return(r,s)=>(W(),ae("div",ES,[J("div",PS,Be(e.title),1),J("div",kS,[J("span",{onClick:n},[Ce(r.$slots,"default",{},()=>[Os(Be(e.subTitle),1)],!0)])])]))}},IS=pt(AS,[["__scopeId","data-v-2e948f55"]]),MS={props:{list:{type:Array,required:!0},column:{type:Number,default:4},height:{type:Number,default:225}},data(){return{itemWidth:0,columnData:[]}},watch:{list(){this.renderList()}},mounted(){this.renderList(),window.addEventListener("resize",this.renderList)},methods:{renderList(){this.row||(this.columnData=[],this.itemWidth=`${100/this.column}%`,this.$refs.container&&this.$nextTick(()=>{const e=this.$refs.container.getElementsByClassName("column-item");for(let t=0;t<e.length;t++)this.setElementStyle(e[t],this.list[t],t)}))},setElementStyle(e,t,n){const s=(this.$refs.container.offsetWidth/this.column-6)/t.width*t.height+6;if(n<this.column)e.style.left=`${n*(100/this.column)}%`,this.columnData[n]=this.columnData[n]?this.columnData[n]+s:s;else{let d={};for(let v=0;v<this.columnData.length;v++)Object.prototype.hasOwnProperty.call(d,"index")?this.columnData[v]<d.value&&(d={index:v,value:this.columnData[v]}):d={index:v,value:this.columnData[v]};e.style.left=`${d.index*(100/this.column)}%`,e.style.top=`${d.value}px`,this.columnData[d.index]+=s}e.style.width=this.itemWidth}}},RS={class:pe({"waterfall-wrap":!0}),ref:"container"};function DS(e,t,n,r,s,d){return W(),ae("div",RS,[(W(!0),ae(Me,null,ot(n.list,(v,c)=>(W(),ae("div",{key:c,class:"column-item"},[Ce(e.$slots,"default",{item:v},void 0,!0)]))),128))],512)}const FS=pt(MS,[["render",DS],["__scopeId","data-v-61d1b56b"]]),ct=(e,t,{checkForDefaultPrevented:n=!0}={})=>s=>{const d=e?.(s);if(n===!1||!d)return t?.(s)},Kf=e=>t=>t.pointerType==="mouse"?e(t):void 0;var qf;const tt=typeof window<"u",LS=e=>typeof e<"u",BS=e=>typeof e=="function",$S=e=>typeof e=="string",Po=()=>{},jS=tt&&((qf=window?.navigator)==null?void 0:qf.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ia(e){return typeof e=="function"?e():S(e)}function NS(e,t){function n(...r){return new Promise((s,d)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(d)})}return n}function zS(e,t=!0,n=!0,r=!1){let s=0,d,v=!0,c=Po,i;const f=()=>{d&&(clearTimeout(d),d=void 0,c(),c=Po)};return o=>{const l=ia(e),a=Date.now()-s,u=()=>i=o();return f(),l<=0?(s=Date.now(),u()):(a>l&&(n||!v)?(s=Date.now(),u()):t&&(i=new Promise((g,p)=>{c=r?p:g,d=setTimeout(()=>{s=Date.now(),v=!0,g(u()),f()},Math.max(0,l-a))})),!n&&!d&&(d=setTimeout(()=>v=!0,l)),v=!1,i)}}function HS(e){return e}function sa(e){return Jd()?(w0(e),!0):!1}function US(e,t=200,n=!1,r=!0,s=!1){return NS(zS(t,n,r,s),e)}function VS(e,t=!0){Et()?Qe(e):t?e():nt(e)}function WS(e,t,n={}){const{immediate:r=!0}=n,s=fe(!1);let d=null;function v(){d&&(clearTimeout(d),d=null)}function c(){s.value=!1,v()}function i(...f){v(),s.value=!0,d=setTimeout(()=>{s.value=!1,d=null,e(...f)},ia(t))}return r&&(s.value=!0,tt&&i()),sa(c),{isPending:Ss(s),start:i,stop:c}}function ar(e){var t;const n=ia(e);return(t=n?.$el)!=null?t:n}const Nc=tt?window:void 0;function Ot(...e){let t,n,r,s;if($S(e[0])||Array.isArray(e[0])?([n,r,s]=e,t=Nc):[t,n,r,s]=e,!t)return Po;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const d=[],v=()=>{d.forEach(h=>h()),d.length=0},c=(h,o,l,a)=>(h.addEventListener(o,l,a),()=>h.removeEventListener(o,l,a)),i=ke(()=>[ar(t),ia(s)],([h,o])=>{v(),h&&d.push(...n.flatMap(l=>r.map(a=>c(h,l,a,o))))},{immediate:!0,flush:"post"}),f=()=>{i(),v()};return sa(f),f}let Jf=!1;function YS(e,t,n={}){const{window:r=Nc,ignore:s=[],capture:d=!0,detectIframe:v=!1}=n;if(!r)return;jS&&!Jf&&(Jf=!0,Array.from(r.document.body.children).forEach(l=>l.addEventListener("click",Po)));let c=!0;const i=l=>s.some(a=>{if(typeof a=="string")return Array.from(r.document.querySelectorAll(a)).some(u=>u===l.target||l.composedPath().includes(u));{const u=ar(a);return u&&(l.target===u||l.composedPath().includes(u))}}),h=[Ot(r,"click",l=>{const a=ar(e);if(!(!a||a===l.target||l.composedPath().includes(a))){if(l.detail===0&&(c=!i(l)),!c){c=!0;return}t(l)}},{passive:!0,capture:d}),Ot(r,"pointerdown",l=>{const a=ar(e);a&&(c=!l.composedPath().includes(a)&&!i(l))},{passive:!0}),v&&Ot(r,"blur",l=>{var a;const u=ar(e);((a=r.document.activeElement)==null?void 0:a.tagName)==="IFRAME"&&!u?.contains(r.document.activeElement)&&t(l)})].filter(Boolean);return()=>h.forEach(l=>l())}function XS(e,t=!1){const n=fe(),r=()=>n.value=!!e();return r(),VS(r,t),n}function GS(e){return JSON.parse(JSON.stringify(e))}const Zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qf="__vueuse_ssr_handlers__";Zf[Qf]=Zf[Qf]||{};var eh=Object.getOwnPropertySymbols,KS=Object.prototype.hasOwnProperty,qS=Object.prototype.propertyIsEnumerable,JS=(e,t)=>{var n={};for(var r in e)KS.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eh)for(var r of eh(e))t.indexOf(r)<0&&qS.call(e,r)&&(n[r]=e[r]);return n};function zc(e,t,n={}){const r=n,{window:s=Nc}=r,d=JS(r,["window"]);let v;const c=XS(()=>s&&"ResizeObserver"in s),i=()=>{v&&(v.disconnect(),v=void 0)},f=ke(()=>ar(e),o=>{i(),c.value&&s&&o&&(v=new ResizeObserver(t),v.observe(o,d))},{immediate:!0,flush:"post"}),h=()=>{i(),f()};return sa(h),{isSupported:c,stop:h}}var th;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(th||(th={}));var ZS=Object.defineProperty,nh=Object.getOwnPropertySymbols,QS=Object.prototype.hasOwnProperty,e2=Object.prototype.propertyIsEnumerable,rh=(e,t,n)=>t in e?ZS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t2=(e,t)=>{for(var n in t||(t={}))QS.call(t,n)&&rh(e,n,t[n]);if(nh)for(var n of nh(t))e2.call(t,n)&&rh(e,n,t[n]);return e};const n2={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};t2({linear:HS},n2);function r2(e,t,n,r={}){var s,d,v;const{clone:c=!1,passive:i=!1,eventName:f,deep:h=!1,defaultValue:o}=r,l=Et(),a=n||l?.emit||((s=l?.$emit)==null?void 0:s.bind(l))||((v=(d=l?.proxy)==null?void 0:d.$emit)==null?void 0:v.bind(l?.proxy));let u=f;t||(t="modelValue"),u=f||u||`update:${t.toString()}`;const g=m=>c?BS(c)?c(m):GS(m):m,p=()=>LS(e[t])?g(e[t]):o;if(i){const m=p(),_=fe(m);return ke(()=>e[t],y=>_.value=g(y)),ke(_,y=>{(y!==e[t]||h)&&a(u,y)},{deep:h}),_}else return K({get(){return p()},set(m){a(u,m)}})}const i2=()=>tt&&/firefox/i.test(window.navigator.userAgent),s2=(e,t)=>{if(!tt||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right};var o2=typeof global=="object"&&global&&global.Object===Object&&global;const Dg=o2;var a2=typeof self=="object"&&self&&self.Object===Object&&self,l2=Dg||a2||Function("return this")();const pn=l2;var c2=pn.Symbol;const Tn=c2;var Fg=Object.prototype,u2=Fg.hasOwnProperty,f2=Fg.toString,Di=Tn?Tn.toStringTag:void 0;function h2(e){var t=u2.call(e,Di),n=e[Di];try{e[Di]=void 0;var r=!0}catch{}var s=f2.call(e);return r&&(t?e[Di]=n:delete e[Di]),s}var d2=Object.prototype,p2=d2.toString;function g2(e){return p2.call(e)}var v2="[object Null]",m2="[object Undefined]",ih=Tn?Tn.toStringTag:void 0;function Ti(e){return e==null?e===void 0?m2:v2:ih&&ih in Object(e)?h2(e):g2(e)}function dr(e){return e!=null&&typeof e=="object"}var _2="[object Symbol]";function oa(e){return typeof e=="symbol"||dr(e)&&Ti(e)==_2}function y2(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var b2=Array.isArray;const Vn=b2;var w2=1/0,sh=Tn?Tn.prototype:void 0,oh=sh?sh.toString:void 0;function Lg(e){if(typeof e=="string")return e;if(Vn(e))return y2(e,Lg)+"";if(oa(e))return oh?oh.call(e):"";var t=e+"";return t=="0"&&1/e==-w2?"-0":t}var C2=/\s/;function S2(e){for(var t=e.length;t--&&C2.test(e.charAt(t)););return t}var x2=/^\s+/;function T2(e){return e&&e.slice(0,S2(e)+1).replace(x2,"")}function Wn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ah=0/0,O2=/^[-+]0x[0-9a-f]+$/i,E2=/^0b[01]+$/i,P2=/^0o[0-7]+$/i,k2=parseInt;function lh(e){if(typeof e=="number")return e;if(oa(e))return ah;if(Wn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Wn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=T2(e);var n=E2.test(e);return n||P2.test(e)?k2(e.slice(2),n?2:8):O2.test(e)?ah:+e}var A2="[object AsyncFunction]",I2="[object Function]",M2="[object GeneratorFunction]",R2="[object Proxy]";function Bg(e){if(!Wn(e))return!1;var t=Ti(e);return t==I2||t==M2||t==A2||t==R2}var D2=pn["__core-js_shared__"];const Ha=D2;var ch=function(){var e=/[^.]+$/.exec(Ha&&Ha.keys&&Ha.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function F2(e){return!!ch&&ch in e}var L2=Function.prototype,B2=L2.toString;function jr(e){if(e!=null){try{return B2.call(e)}catch{}try{return e+""}catch{}}return""}var $2=/[\\^$.*+?()[\]{}|]/g,j2=/^\[object .+?Constructor\]$/,N2=Function.prototype,z2=Object.prototype,H2=N2.toString,U2=z2.hasOwnProperty,V2=RegExp("^"+H2.call(U2).replace($2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function W2(e){if(!Wn(e)||F2(e))return!1;var t=Bg(e)?V2:j2;return t.test(jr(e))}function Y2(e,t){return e?.[t]}function Nr(e,t){var n=Y2(e,t);return W2(n)?n:void 0}var X2=Nr(pn,"WeakMap");const Ml=X2;var uh=Object.create,G2=function(){function e(){}return function(t){if(!Wn(t))return{};if(uh)return uh(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const K2=G2;function q2(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var J2=function(){try{var e=Nr(Object,"defineProperty");return e({},"",{}),e}catch{}}();const fh=J2;function Z2(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Q2=9007199254740991,ex=/^(?:0|[1-9]\d*)$/;function tx(e,t){var n=typeof e;return t=t??Q2,!!t&&(n=="number"||n!="symbol"&&ex.test(e))&&e>-1&&e%1==0&&e<t}function $g(e,t,n){t=="__proto__"&&fh?fh(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Hc(e,t){return e===t||e!==e&&t!==t}var nx=Object.prototype,rx=nx.hasOwnProperty;function jg(e,t,n){var r=e[t];(!(rx.call(e,t)&&Hc(r,n))||n===void 0&&!(t in e))&&$g(e,t,n)}function aa(e,t,n,r){var s=!n;n||(n={});for(var d=-1,v=t.length;++d<v;){var c=t[d],i=r?r(n[c],e[c],c,n,e):void 0;i===void 0&&(i=e[c]),s?$g(n,c,i):jg(n,c,i)}return n}var ix=9007199254740991;function Ng(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ix}function zg(e){return e!=null&&Ng(e.length)&&!Bg(e)}var sx=Object.prototype;function Uc(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||sx;return e===n}function ox(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var ax="[object Arguments]";function hh(e){return dr(e)&&Ti(e)==ax}var Hg=Object.prototype,lx=Hg.hasOwnProperty,cx=Hg.propertyIsEnumerable,ux=hh(function(){return arguments}())?hh:function(e){return dr(e)&&lx.call(e,"callee")&&!cx.call(e,"callee")};const fx=ux;function hx(){return!1}var Ug=typeof Ut=="object"&&Ut&&!Ut.nodeType&&Ut,dh=Ug&&typeof Vt=="object"&&Vt&&!Vt.nodeType&&Vt,dx=dh&&dh.exports===Ug,ph=dx?pn.Buffer:void 0,px=ph?ph.isBuffer:void 0,gx=px||hx;const ko=gx;var vx="[object Arguments]",mx="[object Array]",_x="[object Boolean]",yx="[object Date]",bx="[object Error]",wx="[object Function]",Cx="[object Map]",Sx="[object Number]",xx="[object Object]",Tx="[object RegExp]",Ox="[object Set]",Ex="[object String]",Px="[object WeakMap]",kx="[object ArrayBuffer]",Ax="[object DataView]",Ix="[object Float32Array]",Mx="[object Float64Array]",Rx="[object Int8Array]",Dx="[object Int16Array]",Fx="[object Int32Array]",Lx="[object Uint8Array]",Bx="[object Uint8ClampedArray]",$x="[object Uint16Array]",jx="[object Uint32Array]",Je={};Je[Ix]=Je[Mx]=Je[Rx]=Je[Dx]=Je[Fx]=Je[Lx]=Je[Bx]=Je[$x]=Je[jx]=!0;Je[vx]=Je[mx]=Je[kx]=Je[_x]=Je[Ax]=Je[yx]=Je[bx]=Je[wx]=Je[Cx]=Je[Sx]=Je[xx]=Je[Tx]=Je[Ox]=Je[Ex]=Je[Px]=!1;function Nx(e){return dr(e)&&Ng(e.length)&&!!Je[Ti(e)]}function Vc(e){return function(t){return e(t)}}var Vg=typeof Ut=="object"&&Ut&&!Ut.nodeType&&Ut,Gi=Vg&&typeof Vt=="object"&&Vt&&!Vt.nodeType&&Vt,zx=Gi&&Gi.exports===Vg,Ua=zx&&Dg.process,Hx=function(){try{var e=Gi&&Gi.require&&Gi.require("util").types;return e||Ua&&Ua.binding&&Ua.binding("util")}catch{}}();const ci=Hx;var gh=ci&&ci.isTypedArray,Ux=gh?Vc(gh):Nx;const Wg=Ux;var Vx=Object.prototype,Wx=Vx.hasOwnProperty;function Yg(e,t){var n=Vn(e),r=!n&&fx(e),s=!n&&!r&&ko(e),d=!n&&!r&&!s&&Wg(e),v=n||r||s||d,c=v?ox(e.length,String):[],i=c.length;for(var f in e)(t||Wx.call(e,f))&&!(v&&(f=="length"||s&&(f=="offset"||f=="parent")||d&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||tx(f,i)))&&c.push(f);return c}function Xg(e,t){return function(n){return e(t(n))}}var Yx=Xg(Object.keys,Object);const Xx=Yx;var Gx=Object.prototype,Kx=Gx.hasOwnProperty;function qx(e){if(!Uc(e))return Xx(e);var t=[];for(var n in Object(e))Kx.call(e,n)&&n!="constructor"&&t.push(n);return t}function Wc(e){return zg(e)?Yg(e):qx(e)}function Jx(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Zx=Object.prototype,Qx=Zx.hasOwnProperty;function eT(e){if(!Wn(e))return Jx(e);var t=Uc(e),n=[];for(var r in e)r=="constructor"&&(t||!Qx.call(e,r))||n.push(r);return n}function Yc(e){return zg(e)?Yg(e,!0):eT(e)}var tT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nT=/^\w*$/;function rT(e,t){if(Vn(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||oa(e)?!0:nT.test(e)||!tT.test(e)||t!=null&&e in Object(t)}var iT=Nr(Object,"create");const fs=iT;function sT(){this.__data__=fs?fs(null):{},this.size=0}function oT(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var aT="__lodash_hash_undefined__",lT=Object.prototype,cT=lT.hasOwnProperty;function uT(e){var t=this.__data__;if(fs){var n=t[e];return n===aT?void 0:n}return cT.call(t,e)?t[e]:void 0}var fT=Object.prototype,hT=fT.hasOwnProperty;function dT(e){var t=this.__data__;return fs?t[e]!==void 0:hT.call(t,e)}var pT="__lodash_hash_undefined__";function gT(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fs&&t===void 0?pT:t,this}function Rr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Rr.prototype.clear=sT;Rr.prototype.delete=oT;Rr.prototype.get=uT;Rr.prototype.has=dT;Rr.prototype.set=gT;function vT(){this.__data__=[],this.size=0}function la(e,t){for(var n=e.length;n--;)if(Hc(e[n][0],t))return n;return-1}var mT=Array.prototype,_T=mT.splice;function yT(e){var t=this.__data__,n=la(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():_T.call(t,n,1),--this.size,!0}function bT(e){var t=this.__data__,n=la(t,e);return n<0?void 0:t[n][1]}function wT(e){return la(this.__data__,e)>-1}function CT(e,t){var n=this.__data__,r=la(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Gn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gn.prototype.clear=vT;Gn.prototype.delete=yT;Gn.prototype.get=bT;Gn.prototype.has=wT;Gn.prototype.set=CT;var ST=Nr(pn,"Map");const hs=ST;function xT(){this.size=0,this.__data__={hash:new Rr,map:new(hs||Gn),string:new Rr}}function TT(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ca(e,t){var n=e.__data__;return TT(t)?n[typeof t=="string"?"string":"hash"]:n.map}function OT(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t}function ET(e){return ca(this,e).get(e)}function PT(e){return ca(this,e).has(e)}function kT(e,t){var n=ca(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Kn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kn.prototype.clear=xT;Kn.prototype.delete=OT;Kn.prototype.get=ET;Kn.prototype.has=PT;Kn.prototype.set=kT;var AT="Expected a function";function Xc(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(AT);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],d=n.cache;if(d.has(s))return d.get(s);var v=e.apply(this,r);return n.cache=d.set(s,v)||d,v};return n.cache=new(Xc.Cache||Kn),n}Xc.Cache=Kn;var IT=500;function MT(e){var t=Xc(e,function(r){return n.size===IT&&n.clear(),r}),n=t.cache;return t}var RT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,DT=/\\(\\)?/g,FT=MT(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(RT,function(n,r,s,d){t.push(s?d.replace(DT,"$1"):r||n)}),t});const LT=FT;function BT(e){return e==null?"":Lg(e)}function $T(e,t){return Vn(e)?e:rT(e,t)?[e]:LT(BT(e))}var jT=1/0;function NT(e){if(typeof e=="string"||oa(e))return e;var t=e+"";return t=="0"&&1/e==-jT?"-0":t}function zT(e,t){t=$T(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[NT(t[n++])];return n&&n==r?e:void 0}function HT(e,t,n){var r=e==null?void 0:zT(e,t);return r===void 0?n:r}function Gg(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var UT=Xg(Object.getPrototypeOf,Object);const Kg=UT;function VT(){if(!arguments.length)return[];var e=arguments[0];return Vn(e)?e:[e]}function WT(){this.__data__=new Gn,this.size=0}function YT(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function XT(e){return this.__data__.get(e)}function GT(e){return this.__data__.has(e)}var KT=200;function qT(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!hs||r.length<KT-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this}function Nn(e){var t=this.__data__=new Gn(e);this.size=t.size}Nn.prototype.clear=WT;Nn.prototype.delete=YT;Nn.prototype.get=XT;Nn.prototype.has=GT;Nn.prototype.set=qT;function JT(e,t){return e&&aa(t,Wc(t),e)}function ZT(e,t){return e&&aa(t,Yc(t),e)}var qg=typeof Ut=="object"&&Ut&&!Ut.nodeType&&Ut,vh=qg&&typeof Vt=="object"&&Vt&&!Vt.nodeType&&Vt,QT=vh&&vh.exports===qg,mh=QT?pn.Buffer:void 0,_h=mh?mh.allocUnsafe:void 0;function eO(e,t){if(t)return e.slice();var n=e.length,r=_h?_h(n):new e.constructor(n);return e.copy(r),r}function tO(e,t){for(var n=-1,r=e==null?0:e.length,s=0,d=[];++n<r;){var v=e[n];t(v,n,e)&&(d[s++]=v)}return d}function Jg(){return[]}var nO=Object.prototype,rO=nO.propertyIsEnumerable,yh=Object.getOwnPropertySymbols,iO=yh?function(e){return e==null?[]:(e=Object(e),tO(yh(e),function(t){return rO.call(e,t)}))}:Jg;const Gc=iO;function sO(e,t){return aa(e,Gc(e),t)}var oO=Object.getOwnPropertySymbols,aO=oO?function(e){for(var t=[];e;)Gg(t,Gc(e)),e=Kg(e);return t}:Jg;const Zg=aO;function lO(e,t){return aa(e,Zg(e),t)}function Qg(e,t,n){var r=t(e);return Vn(e)?r:Gg(r,n(e))}function Rl(e){return Qg(e,Wc,Gc)}function cO(e){return Qg(e,Yc,Zg)}var uO=Nr(pn,"DataView");const Dl=uO;var fO=Nr(pn,"Promise");const Fl=fO;var hO=Nr(pn,"Set");const Ll=hO;var bh="[object Map]",dO="[object Object]",wh="[object Promise]",Ch="[object Set]",Sh="[object WeakMap]",xh="[object DataView]",pO=jr(Dl),gO=jr(hs),vO=jr(Fl),mO=jr(Ll),_O=jr(Ml),Cr=Ti;(Dl&&Cr(new Dl(new ArrayBuffer(1)))!=xh||hs&&Cr(new hs)!=bh||Fl&&Cr(Fl.resolve())!=wh||Ll&&Cr(new Ll)!=Ch||Ml&&Cr(new Ml)!=Sh)&&(Cr=function(e){var t=Ti(e),n=t==dO?e.constructor:void 0,r=n?jr(n):"";if(r)switch(r){case pO:return xh;case gO:return bh;case vO:return wh;case mO:return Ch;case _O:return Sh}return t});const ds=Cr;var yO=Object.prototype,bO=yO.hasOwnProperty;function wO(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&bO.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var CO=pn.Uint8Array;const Ao=CO;function Kc(e){var t=new e.constructor(e.byteLength);return new Ao(t).set(new Ao(e)),t}function SO(e,t){var n=t?Kc(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var xO=/\w*$/;function TO(e){var t=new e.constructor(e.source,xO.exec(e));return t.lastIndex=e.lastIndex,t}var Th=Tn?Tn.prototype:void 0,Oh=Th?Th.valueOf:void 0;function OO(e){return Oh?Object(Oh.call(e)):{}}function EO(e,t){var n=t?Kc(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var PO="[object Boolean]",kO="[object Date]",AO="[object Map]",IO="[object Number]",MO="[object RegExp]",RO="[object Set]",DO="[object String]",FO="[object Symbol]",LO="[object ArrayBuffer]",BO="[object DataView]",$O="[object Float32Array]",jO="[object Float64Array]",NO="[object Int8Array]",zO="[object Int16Array]",HO="[object Int32Array]",UO="[object Uint8Array]",VO="[object Uint8ClampedArray]",WO="[object Uint16Array]",YO="[object Uint32Array]";function XO(e,t,n){var r=e.constructor;switch(t){case LO:return Kc(e);case PO:case kO:return new r(+e);case BO:return SO(e,n);case $O:case jO:case NO:case zO:case HO:case UO:case VO:case WO:case YO:return EO(e,n);case AO:return new r;case IO:case DO:return new r(e);case MO:return TO(e);case RO:return new r;case FO:return OO(e)}}function GO(e){return typeof e.constructor=="function"&&!Uc(e)?K2(Kg(e)):{}}var KO="[object Map]";function qO(e){return dr(e)&&ds(e)==KO}var Eh=ci&&ci.isMap,JO=Eh?Vc(Eh):qO;const ZO=JO;var QO="[object Set]";function eE(e){return dr(e)&&ds(e)==QO}var Ph=ci&&ci.isSet,tE=Ph?Vc(Ph):eE;const nE=tE;var rE=1,iE=2,sE=4,ev="[object Arguments]",oE="[object Array]",aE="[object Boolean]",lE="[object Date]",cE="[object Error]",tv="[object Function]",uE="[object GeneratorFunction]",fE="[object Map]",hE="[object Number]",nv="[object Object]",dE="[object RegExp]",pE="[object Set]",gE="[object String]",vE="[object Symbol]",mE="[object WeakMap]",_E="[object ArrayBuffer]",yE="[object DataView]",bE="[object Float32Array]",wE="[object Float64Array]",CE="[object Int8Array]",SE="[object Int16Array]",xE="[object Int32Array]",TE="[object Uint8Array]",OE="[object Uint8ClampedArray]",EE="[object Uint16Array]",PE="[object Uint32Array]",Ke={};Ke[ev]=Ke[oE]=Ke[_E]=Ke[yE]=Ke[aE]=Ke[lE]=Ke[bE]=Ke[wE]=Ke[CE]=Ke[SE]=Ke[xE]=Ke[fE]=Ke[hE]=Ke[nv]=Ke[dE]=Ke[pE]=Ke[gE]=Ke[vE]=Ke[TE]=Ke[OE]=Ke[EE]=Ke[PE]=!0;Ke[cE]=Ke[tv]=Ke[mE]=!1;function lo(e,t,n,r,s,d){var v,c=t&rE,i=t&iE,f=t&sE;if(n&&(v=s?n(e,r,s,d):n(e)),v!==void 0)return v;if(!Wn(e))return e;var h=Vn(e);if(h){if(v=wO(e),!c)return q2(e,v)}else{var o=ds(e),l=o==tv||o==uE;if(ko(e))return eO(e,c);if(o==nv||o==ev||l&&!s){if(v=i||l?{}:GO(e),!c)return i?lO(e,ZT(v,e)):sO(e,JT(v,e))}else{if(!Ke[o])return s?e:{};v=XO(e,o,c)}}d||(d=new Nn);var a=d.get(e);if(a)return a;d.set(e,v),nE(e)?e.forEach(function(p){v.add(lo(p,t,n,p,e,d))}):ZO(e)&&e.forEach(function(p,m){v.set(m,lo(p,t,n,m,e,d))});var u=f?i?cO:Rl:i?Yc:Wc,g=h?void 0:u(e);return Z2(g||e,function(p,m){g&&(m=p,p=e[m]),jg(v,m,lo(p,t,n,m,e,d))}),v}var kE=1,AE=4;function kh(e){return lo(e,kE|AE)}var IE="__lodash_hash_undefined__";function ME(e){return this.__data__.set(e,IE),this}function RE(e){return this.__data__.has(e)}function Io(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}Io.prototype.add=Io.prototype.push=ME;Io.prototype.has=RE;function DE(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function FE(e,t){return e.has(t)}var LE=1,BE=2;function rv(e,t,n,r,s,d){var v=n&LE,c=e.length,i=t.length;if(c!=i&&!(v&&i>c))return!1;var f=d.get(e),h=d.get(t);if(f&&h)return f==t&&h==e;var o=-1,l=!0,a=n&BE?new Io:void 0;for(d.set(e,t),d.set(t,e);++o<c;){var u=e[o],g=t[o];if(r)var p=v?r(g,u,o,t,e,d):r(u,g,o,e,t,d);if(p!==void 0){if(p)continue;l=!1;break}if(a){if(!DE(t,function(m,_){if(!FE(a,_)&&(u===m||s(u,m,n,r,d)))return a.push(_)})){l=!1;break}}else if(!(u===g||s(u,g,n,r,d))){l=!1;break}}return d.delete(e),d.delete(t),l}function $E(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}function jE(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var NE=1,zE=2,HE="[object Boolean]",UE="[object Date]",VE="[object Error]",WE="[object Map]",YE="[object Number]",XE="[object RegExp]",GE="[object Set]",KE="[object String]",qE="[object Symbol]",JE="[object ArrayBuffer]",ZE="[object DataView]",Ah=Tn?Tn.prototype:void 0,Va=Ah?Ah.valueOf:void 0;function QE(e,t,n,r,s,d,v){switch(n){case ZE:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case JE:return!(e.byteLength!=t.byteLength||!d(new Ao(e),new Ao(t)));case HE:case UE:case YE:return Hc(+e,+t);case VE:return e.name==t.name&&e.message==t.message;case XE:case KE:return e==t+"";case WE:var c=$E;case GE:var i=r&NE;if(c||(c=jE),e.size!=t.size&&!i)return!1;var f=v.get(e);if(f)return f==t;r|=zE,v.set(e,t);var h=rv(c(e),c(t),r,s,d,v);return v.delete(e),h;case qE:if(Va)return Va.call(e)==Va.call(t)}return!1}var eP=1,tP=Object.prototype,nP=tP.hasOwnProperty;function rP(e,t,n,r,s,d){var v=n&eP,c=Rl(e),i=c.length,f=Rl(t),h=f.length;if(i!=h&&!v)return!1;for(var o=i;o--;){var l=c[o];if(!(v?l in t:nP.call(t,l)))return!1}var a=d.get(e),u=d.get(t);if(a&&u)return a==t&&u==e;var g=!0;d.set(e,t),d.set(t,e);for(var p=v;++o<i;){l=c[o];var m=e[l],_=t[l];if(r)var y=v?r(_,m,l,t,e,d):r(m,_,l,e,t,d);if(!(y===void 0?m===_||s(m,_,n,r,d):y)){g=!1;break}p||(p=l=="constructor")}if(g&&!p){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(g=!1)}return d.delete(e),d.delete(t),g}var iP=1,Ih="[object Arguments]",Mh="[object Array]",Xs="[object Object]",sP=Object.prototype,Rh=sP.hasOwnProperty;function oP(e,t,n,r,s,d){var v=Vn(e),c=Vn(t),i=v?Mh:ds(e),f=c?Mh:ds(t);i=i==Ih?Xs:i,f=f==Ih?Xs:f;var h=i==Xs,o=f==Xs,l=i==f;if(l&&ko(e)){if(!ko(t))return!1;v=!0,h=!1}if(l&&!h)return d||(d=new Nn),v||Wg(e)?rv(e,t,n,r,s,d):QE(e,t,i,n,r,s,d);if(!(n&iP)){var a=h&&Rh.call(e,"__wrapped__"),u=o&&Rh.call(t,"__wrapped__");if(a||u){var g=a?e.value():e,p=u?t.value():t;return d||(d=new Nn),s(g,p,n,r,d)}}return l?(d||(d=new Nn),rP(e,t,n,r,s,d)):!1}function iv(e,t,n,r,s){return e===t?!0:e==null||t==null||!dr(e)&&!dr(t)?e!==e&&t!==t:oP(e,t,n,r,iv,s)}var aP=function(){return pn.Date.now()};const Wa=aP;var lP="Expected a function",cP=Math.max,uP=Math.min;function Bl(e,t,n){var r,s,d,v,c,i,f=0,h=!1,o=!1,l=!0;if(typeof e!="function")throw new TypeError(lP);t=lh(t)||0,Wn(n)&&(h=!!n.leading,o="maxWait"in n,d=o?cP(lh(n.maxWait)||0,t):d,l="trailing"in n?!!n.trailing:l);function a(C){var x=r,O=s;return r=s=void 0,f=C,v=e.apply(O,x),v}function u(C){return f=C,c=setTimeout(m,t),h?a(C):v}function g(C){var x=C-i,O=C-f,B=t-x;return o?uP(B,d-O):B}function p(C){var x=C-i,O=C-f;return i===void 0||x>=t||x<0||o&&O>=d}function m(){var C=Wa();if(p(C))return _(C);c=setTimeout(m,g(C))}function _(C){return c=void 0,l&&r?a(C):(r=s=void 0,v)}function y(){c!==void 0&&clearTimeout(c),f=0,r=i=s=c=void 0}function b(){return c===void 0?v:_(Wa())}function w(){var C=Wa(),x=p(C);if(r=arguments,s=this,i=C,x){if(c===void 0)return u(i);if(o)return clearTimeout(c),c=setTimeout(m,t),a(i)}return c===void 0&&(c=setTimeout(m,t)),v}return w.cancel=y,w.flush=b,w}function Mo(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function fP(e,t){return iv(e,t)}function un(e){return e==null}function hP(e){return e===void 0}var dP="Expected a function";function co(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(dP);return Wn(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),Bl(e,t,{leading:r,maxWait:t,trailing:s})}const Ni=e=>e===void 0,qc=e=>typeof e=="boolean",Ye=e=>typeof e=="number",ui=e=>typeof Element>"u"?!1:e instanceof Element,pP=e=>De(e)?!Number.isNaN(Number(e)):!1,$l=e=>Object.keys(e),gP=e=>Object.entries(e);class vP extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Oi(e,t){throw new vP(`[${e}] ${t}`)}const mP=(e,t)=>{var n;if(!tt||!e||!t)return"";let r=fn(t);r==="float"&&(r="cssFloat");try{const s=e.style[r];if(s)return s;const d=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return d?d[r]:""}catch{return e.style[r]}};function ps(e,t="px"){if(!e)return"";if(Ye(e)||pP(e))return`${e}${t}`;if(De(e))return e}const _P=(e,t)=>{if(!tt)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=mP(e,n);return["scroll","auto","overlay"].some(s=>r.includes(s))},yP=(e,t)=>{if(!tt)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(_P(n,t))return n;n=n.parentNode}return n},sv="__epPropKey",we=e=>e,bP=e=>He(e)&&!!e[sv],ua=(e,t)=>{if(!He(e)||bP(e))return e;const{values:n,required:r,default:s,type:d,validator:v}=e,i={type:d,required:!!r,validator:n||v?f=>{let h=!1,o=[];if(n&&(o=Array.from(n),Le(e,"default")&&o.push(s),h||(h=o.includes(f))),v&&(h||(h=v(f))),!h&&o.length>0){const l=[...new Set(o)].map(a=>JSON.stringify(a)).join(", ");t_(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${l}], got value ${JSON.stringify(f)}.`)}return h}:void 0,[sv]:!0};return Le(e,"default")&&(i.default=s),i},Ue=e=>Mo(Object.entries(e).map(([t,n])=>[t,ua(n,t)])),fi=we([String,Object,Function]),wP={Close:ra,SuccessFilled:Mg,InfoFilled:Ag,WarningFilled:jc,CircleCloseFilled:kg},Dh={success:Mg,warning:jc,error:kg,info:Ag},CP={validating:Ig,success:Bc,error:$c},At=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},SP=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),xP=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Jc=e=>(e.install=We,e),ov=(...e)=>t=>{e.forEach(n=>{Pe(n)?n(t):n.value=t})},Ve={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Ht="update:modelValue",fa="change",Ar="input",TP=["","default","small","large"],OP=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),Dr=e=>e,EP=["class","style"],PP=/^on[A-Z]/,av=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=K(()=>(n?.value||[]).concat(EP)),s=Et();return K(s?()=>{var d;return Mo(Object.entries((d=s.proxy)==null?void 0:d.$attrs).filter(([v])=>!r.value.includes(v)&&!(t&&PP.test(v))))}:()=>({}))},kP=({from:e,replacement:t,scope:n,version:r,ref:s,type:d="API"},v)=>{ke(()=>S(v),c=>{},{immediate:!0})};var AP={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const IP=e=>(t,n)=>MP(t,n,S(e)),MP=(e,t,n)=>HT(n,e,e).replace(/\{(\w+)\}/g,(r,s)=>{var d;return`${(d=t?.[s])!=null?d:`{${s}}`}`}),RP=e=>{const t=K(()=>S(e).name),n=dt(e)?e:fe(e);return{lang:t,locale:n,t:IP(e)}},lv=Symbol("localeContextKey"),zr=e=>{const t=e||Ae(lv,fe());return RP(K(()=>t.value||AP))},uo="el",DP="is-",wr=(e,t,n,r,s)=>{let d=`${e}-${t}`;return n&&(d+=`-${n}`),r&&(d+=`__${r}`),s&&(d+=`--${s}`),d},cv=Symbol("namespaceContextKey"),Zc=e=>{const t=e||(Et()?Ae(cv,fe(uo)):fe(uo));return K(()=>S(t)||uo)},Xe=(e,t)=>{const n=Zc(t);return{namespace:n,b:(g="")=>wr(n.value,e,g,"",""),e:g=>g?wr(n.value,e,"",g,""):"",m:g=>g?wr(n.value,e,"","",g):"",be:(g,p)=>g&&p?wr(n.value,e,g,p,""):"",em:(g,p)=>g&&p?wr(n.value,e,"",g,p):"",bm:(g,p)=>g&&p?wr(n.value,e,g,"",p):"",bem:(g,p,m)=>g&&p&&m?wr(n.value,e,g,p,m):"",is:(g,...p)=>{const m=p.length>=1?p[0]:!0;return g&&m?`${DP}${g}`:""},cssVar:g=>{const p={};for(const m in g)g[m]&&(p[`--${n.value}-${m}`]=g[m]);return p},cssVarName:g=>`--${n.value}-${g}`,cssVarBlock:g=>{const p={};for(const m in g)g[m]&&(p[`--${n.value}-${e}-${m}`]=g[m]);return p},cssVarBlockName:g=>`--${n.value}-${e}-${g}`}},FP=ua({type:we(Boolean),default:null}),LP=ua({type:we(Function)}),uv=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],s={[e]:FP,[n]:LP};return{useModelToggle:({indicator:v,toggleReason:c,shouldHideWhenRouteChanges:i,shouldProceed:f,onShow:h,onHide:o})=>{const l=Et(),{emit:a}=l,u=l.props,g=K(()=>Pe(u[n])),p=K(()=>u[e]===null),m=x=>{v.value!==!0&&(v.value=!0,c&&(c.value=x),Pe(h)&&h(x))},_=x=>{v.value!==!1&&(v.value=!1,c&&(c.value=x),Pe(o)&&o(x))},y=x=>{if(u.disabled===!0||Pe(f)&&!f())return;const O=g.value&&tt;O&&a(t,!0),(p.value||!O)&&m(x)},b=x=>{if(u.disabled===!0||!tt)return;const O=g.value&&tt;O&&a(t,!1),(p.value||!O)&&_(x)},w=x=>{qc(x)&&(u.disabled&&x?g.value&&a(t,!1):v.value!==x&&(x?m():_()))},C=()=>{v.value?b():y()};return ke(()=>u[e],w),i&&l.appContext.config.globalProperties.$route!==void 0&&ke(()=>({...l.proxy.$route}),()=>{i.value&&v.value&&b()}),Qe(()=>{w(u[e])}),{hide:b,show:y,toggle:C,hasUpdateHandler:g}},useModelToggleProps:s,useModelToggleEmits:r}};uv("modelValue");const fv=e=>{const t=Et();return K(()=>{var n,r;return(r=(n=t?.proxy)==null?void 0:n.$props)==null?void 0:r[e]})};var Dt="top",tn="bottom",nn="right",Ft="left",Qc="auto",Es=[Dt,tn,nn,Ft],hi="start",gs="end",BP="clippingParents",hv="viewport",Fi="popper",$P="reference",Fh=Es.reduce(function(e,t){return e.concat([t+"-"+hi,t+"-"+gs])},[]),Ps=[].concat(Es,[Qc]).reduce(function(e,t){return e.concat([t,t+"-"+hi,t+"-"+gs])},[]),jP="beforeRead",NP="read",zP="afterRead",HP="beforeMain",UP="main",VP="afterMain",WP="beforeWrite",YP="write",XP="afterWrite",GP=[jP,NP,zP,HP,UP,VP,WP,YP,XP];function On(e){return e?(e.nodeName||"").toLowerCase():null}function gn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function di(e){var t=gn(e).Element;return e instanceof t||e instanceof Element}function Qt(e){var t=gn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function eu(e){if(typeof ShadowRoot>"u")return!1;var t=gn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function KP(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},d=t.elements[n];!Qt(d)||!On(d)||(Object.assign(d.style,r),Object.keys(s).forEach(function(v){var c=s[v];c===!1?d.removeAttribute(v):d.setAttribute(v,c===!0?"":c)}))})}function qP(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],d=t.attributes[r]||{},v=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=v.reduce(function(i,f){return i[f]="",i},{});!Qt(s)||!On(s)||(Object.assign(s.style,c),Object.keys(d).forEach(function(i){s.removeAttribute(i)}))})}}var dv={name:"applyStyles",enabled:!0,phase:"write",fn:KP,effect:qP,requires:["computeStyles"]};function xn(e){return e.split("-")[0]}var Ir=Math.max,Ro=Math.min,pi=Math.round;function gi(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,s=1;if(Qt(e)&&t){var d=e.offsetHeight,v=e.offsetWidth;v>0&&(r=pi(n.width)/v||1),d>0&&(s=pi(n.height)/d||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function tu(e){var t=gi(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function pv(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&eu(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Yn(e){return gn(e).getComputedStyle(e)}function JP(e){return["table","td","th"].indexOf(On(e))>=0}function pr(e){return((di(e)?e.ownerDocument:e.document)||window.document).documentElement}function ha(e){return On(e)==="html"?e:e.assignedSlot||e.parentNode||(eu(e)?e.host:null)||pr(e)}function Lh(e){return!Qt(e)||Yn(e).position==="fixed"?null:e.offsetParent}function ZP(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Qt(e)){var r=Yn(e);if(r.position==="fixed")return null}var s=ha(e);for(eu(s)&&(s=s.host);Qt(s)&&["html","body"].indexOf(On(s))<0;){var d=Yn(s);if(d.transform!=="none"||d.perspective!=="none"||d.contain==="paint"||["transform","perspective"].indexOf(d.willChange)!==-1||t&&d.willChange==="filter"||t&&d.filter&&d.filter!=="none")return s;s=s.parentNode}return null}function ks(e){for(var t=gn(e),n=Lh(e);n&&JP(n)&&Yn(n).position==="static";)n=Lh(n);return n&&(On(n)==="html"||On(n)==="body"&&Yn(n).position==="static")?t:n||ZP(e)||t}function nu(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ki(e,t,n){return Ir(e,Ro(t,n))}function QP(e,t,n){var r=Ki(e,t,n);return r>n?n:r}function gv(){return{top:0,right:0,bottom:0,left:0}}function vv(e){return Object.assign({},gv(),e)}function mv(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var ek=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,vv(typeof e!="number"?e:mv(e,Es))};function tk(e){var t,n=e.state,r=e.name,s=e.options,d=n.elements.arrow,v=n.modifiersData.popperOffsets,c=xn(n.placement),i=nu(c),f=[Ft,nn].indexOf(c)>=0,h=f?"height":"width";if(!(!d||!v)){var o=ek(s.padding,n),l=tu(d),a=i==="y"?Dt:Ft,u=i==="y"?tn:nn,g=n.rects.reference[h]+n.rects.reference[i]-v[i]-n.rects.popper[h],p=v[i]-n.rects.reference[i],m=ks(d),_=m?i==="y"?m.clientHeight||0:m.clientWidth||0:0,y=g/2-p/2,b=o[a],w=_-l[h]-o[u],C=_/2-l[h]/2+y,x=Ki(b,C,w),O=i;n.modifiersData[r]=(t={},t[O]=x,t.centerOffset=x-C,t)}}function nk(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!pv(t.elements.popper,s)||(t.elements.arrow=s))}var rk={name:"arrow",enabled:!0,phase:"main",fn:tk,effect:nk,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vi(e){return e.split("-")[1]}var ik={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sk(e){var t=e.x,n=e.y,r=window,s=r.devicePixelRatio||1;return{x:pi(t*s)/s||0,y:pi(n*s)/s||0}}function Bh(e){var t,n=e.popper,r=e.popperRect,s=e.placement,d=e.variation,v=e.offsets,c=e.position,i=e.gpuAcceleration,f=e.adaptive,h=e.roundOffsets,o=e.isFixed,l=v.x,a=l===void 0?0:l,u=v.y,g=u===void 0?0:u,p=typeof h=="function"?h({x:a,y:g}):{x:a,y:g};a=p.x,g=p.y;var m=v.hasOwnProperty("x"),_=v.hasOwnProperty("y"),y=Ft,b=Dt,w=window;if(f){var C=ks(n),x="clientHeight",O="clientWidth";if(C===gn(n)&&(C=pr(n),Yn(C).position!=="static"&&c==="absolute"&&(x="scrollHeight",O="scrollWidth")),C=C,s===Dt||(s===Ft||s===nn)&&d===gs){b=tn;var B=o&&C===w&&w.visualViewport?w.visualViewport.height:C[x];g-=B-r.height,g*=i?1:-1}if(s===Ft||(s===Dt||s===tn)&&d===gs){y=nn;var Y=o&&C===w&&w.visualViewport?w.visualViewport.width:C[O];a-=Y-r.width,a*=i?1:-1}}var X=Object.assign({position:c},f&&ik),N=h===!0?sk({x:a,y:g}):{x:a,y:g};if(a=N.x,g=N.y,i){var j;return Object.assign({},X,(j={},j[b]=_?"0":"",j[y]=m?"0":"",j.transform=(w.devicePixelRatio||1)<=1?"translate("+a+"px, "+g+"px)":"translate3d("+a+"px, "+g+"px, 0)",j))}return Object.assign({},X,(t={},t[b]=_?g+"px":"",t[y]=m?a+"px":"",t.transform="",t))}function ok(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,d=n.adaptive,v=d===void 0?!0:d,c=n.roundOffsets,i=c===void 0?!0:c,f={placement:xn(t.placement),variation:vi(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Bh(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:v,roundOffsets:i})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Bh(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var _v={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ok,data:{}},Gs={passive:!0};function ak(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,d=s===void 0?!0:s,v=r.resize,c=v===void 0?!0:v,i=gn(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return d&&f.forEach(function(h){h.addEventListener("scroll",n.update,Gs)}),c&&i.addEventListener("resize",n.update,Gs),function(){d&&f.forEach(function(h){h.removeEventListener("scroll",n.update,Gs)}),c&&i.removeEventListener("resize",n.update,Gs)}}var yv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ak,data:{}},lk={left:"right",right:"left",bottom:"top",top:"bottom"};function fo(e){return e.replace(/left|right|bottom|top/g,function(t){return lk[t]})}var ck={start:"end",end:"start"};function $h(e){return e.replace(/start|end/g,function(t){return ck[t]})}function ru(e){var t=gn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function iu(e){return gi(pr(e)).left+ru(e).scrollLeft}function uk(e){var t=gn(e),n=pr(e),r=t.visualViewport,s=n.clientWidth,d=n.clientHeight,v=0,c=0;return r&&(s=r.width,d=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(v=r.offsetLeft,c=r.offsetTop)),{width:s,height:d,x:v+iu(e),y:c}}function fk(e){var t,n=pr(e),r=ru(e),s=(t=e.ownerDocument)==null?void 0:t.body,d=Ir(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),v=Ir(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-r.scrollLeft+iu(e),i=-r.scrollTop;return Yn(s||n).direction==="rtl"&&(c+=Ir(n.clientWidth,s?s.clientWidth:0)-d),{width:d,height:v,x:c,y:i}}function su(e){var t=Yn(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function bv(e){return["html","body","#document"].indexOf(On(e))>=0?e.ownerDocument.body:Qt(e)&&su(e)?e:bv(ha(e))}function qi(e,t){var n;t===void 0&&(t=[]);var r=bv(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),d=gn(r),v=s?[d].concat(d.visualViewport||[],su(r)?r:[]):r,c=t.concat(v);return s?c:c.concat(qi(ha(v)))}function jl(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function hk(e){var t=gi(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function jh(e,t){return t===hv?jl(uk(e)):di(t)?hk(t):jl(fk(pr(e)))}function dk(e){var t=qi(ha(e)),n=["absolute","fixed"].indexOf(Yn(e).position)>=0,r=n&&Qt(e)?ks(e):e;return di(r)?t.filter(function(s){return di(s)&&pv(s,r)&&On(s)!=="body"}):[]}function pk(e,t,n){var r=t==="clippingParents"?dk(e):[].concat(t),s=[].concat(r,[n]),d=s[0],v=s.reduce(function(c,i){var f=jh(e,i);return c.top=Ir(f.top,c.top),c.right=Ro(f.right,c.right),c.bottom=Ro(f.bottom,c.bottom),c.left=Ir(f.left,c.left),c},jh(e,d));return v.width=v.right-v.left,v.height=v.bottom-v.top,v.x=v.left,v.y=v.top,v}function wv(e){var t=e.reference,n=e.element,r=e.placement,s=r?xn(r):null,d=r?vi(r):null,v=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,i;switch(s){case Dt:i={x:v,y:t.y-n.height};break;case tn:i={x:v,y:t.y+t.height};break;case nn:i={x:t.x+t.width,y:c};break;case Ft:i={x:t.x-n.width,y:c};break;default:i={x:t.x,y:t.y}}var f=s?nu(s):null;if(f!=null){var h=f==="y"?"height":"width";switch(d){case hi:i[f]=i[f]-(t[h]/2-n[h]/2);break;case gs:i[f]=i[f]+(t[h]/2-n[h]/2);break}}return i}function vs(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,d=n.boundary,v=d===void 0?BP:d,c=n.rootBoundary,i=c===void 0?hv:c,f=n.elementContext,h=f===void 0?Fi:f,o=n.altBoundary,l=o===void 0?!1:o,a=n.padding,u=a===void 0?0:a,g=vv(typeof u!="number"?u:mv(u,Es)),p=h===Fi?$P:Fi,m=e.rects.popper,_=e.elements[l?p:h],y=pk(di(_)?_:_.contextElement||pr(e.elements.popper),v,i),b=gi(e.elements.reference),w=wv({reference:b,element:m,strategy:"absolute",placement:s}),C=jl(Object.assign({},m,w)),x=h===Fi?C:b,O={top:y.top-x.top+g.top,bottom:x.bottom-y.bottom+g.bottom,left:y.left-x.left+g.left,right:x.right-y.right+g.right},B=e.modifiersData.offset;if(h===Fi&&B){var Y=B[s];Object.keys(O).forEach(function(X){var N=[nn,tn].indexOf(X)>=0?1:-1,j=[Dt,tn].indexOf(X)>=0?"y":"x";O[X]+=Y[j]*N})}return O}function gk(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,d=n.rootBoundary,v=n.padding,c=n.flipVariations,i=n.allowedAutoPlacements,f=i===void 0?Ps:i,h=vi(r),o=h?c?Fh:Fh.filter(function(u){return vi(u)===h}):Es,l=o.filter(function(u){return f.indexOf(u)>=0});l.length===0&&(l=o);var a=l.reduce(function(u,g){return u[g]=vs(e,{placement:g,boundary:s,rootBoundary:d,padding:v})[xn(g)],u},{});return Object.keys(a).sort(function(u,g){return a[u]-a[g]})}function vk(e){if(xn(e)===Qc)return[];var t=fo(e);return[$h(e),t,$h(t)]}function mk(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,d=s===void 0?!0:s,v=n.altAxis,c=v===void 0?!0:v,i=n.fallbackPlacements,f=n.padding,h=n.boundary,o=n.rootBoundary,l=n.altBoundary,a=n.flipVariations,u=a===void 0?!0:a,g=n.allowedAutoPlacements,p=t.options.placement,m=xn(p),_=m===p,y=i||(_||!u?[fo(p)]:vk(p)),b=[p].concat(y).reduce(function(D,P){return D.concat(xn(P)===Qc?gk(t,{placement:P,boundary:h,rootBoundary:o,padding:f,flipVariations:u,allowedAutoPlacements:g}):P)},[]),w=t.rects.reference,C=t.rects.popper,x=new Map,O=!0,B=b[0],Y=0;Y<b.length;Y++){var X=b[Y],N=xn(X),j=vi(X)===hi,q=[Dt,tn].indexOf(N)>=0,se=q?"width":"height",le=vs(t,{placement:X,boundary:h,rootBoundary:o,altBoundary:l,padding:f}),G=q?j?nn:Ft:j?tn:Dt;w[se]>C[se]&&(G=fo(G));var Q=fo(G),T=[];if(d&&T.push(le[N]<=0),c&&T.push(le[G]<=0,le[Q]<=0),T.every(function(D){return D})){B=X,O=!1;break}x.set(X,T)}if(O)for(var R=u?3:1,F=function(D){var P=b.find(function($){var M=x.get($);if(M)return M.slice(0,D).every(function(L){return L})});if(P)return B=P,"break"},I=R;I>0;I--){var ee=F(I);if(ee==="break")break}t.placement!==B&&(t.modifiersData[r]._skip=!0,t.placement=B,t.reset=!0)}}var _k={name:"flip",enabled:!0,phase:"main",fn:mk,requiresIfExists:["offset"],data:{_skip:!1}};function Nh(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function zh(e){return[Dt,nn,tn,Ft].some(function(t){return e[t]>=0})}function yk(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,d=t.modifiersData.preventOverflow,v=vs(t,{elementContext:"reference"}),c=vs(t,{altBoundary:!0}),i=Nh(v,r),f=Nh(c,s,d),h=zh(i),o=zh(f);t.modifiersData[n]={referenceClippingOffsets:i,popperEscapeOffsets:f,isReferenceHidden:h,hasPopperEscaped:o},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":o})}var bk={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:yk};function wk(e,t,n){var r=xn(e),s=[Ft,Dt].indexOf(r)>=0?-1:1,d=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,v=d[0],c=d[1];return v=v||0,c=(c||0)*s,[Ft,nn].indexOf(r)>=0?{x:c,y:v}:{x:v,y:c}}function Ck(e){var t=e.state,n=e.options,r=e.name,s=n.offset,d=s===void 0?[0,0]:s,v=Ps.reduce(function(h,o){return h[o]=wk(o,t.rects,d),h},{}),c=v[t.placement],i=c.x,f=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=f),t.modifiersData[r]=v}var Sk={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ck};function xk(e){var t=e.state,n=e.name;t.modifiersData[n]=wv({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Cv={name:"popperOffsets",enabled:!0,phase:"read",fn:xk,data:{}};function Tk(e){return e==="x"?"y":"x"}function Ok(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,d=s===void 0?!0:s,v=n.altAxis,c=v===void 0?!1:v,i=n.boundary,f=n.rootBoundary,h=n.altBoundary,o=n.padding,l=n.tether,a=l===void 0?!0:l,u=n.tetherOffset,g=u===void 0?0:u,p=vs(t,{boundary:i,rootBoundary:f,padding:o,altBoundary:h}),m=xn(t.placement),_=vi(t.placement),y=!_,b=nu(m),w=Tk(b),C=t.modifiersData.popperOffsets,x=t.rects.reference,O=t.rects.popper,B=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,Y=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),X=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(C){if(d){var j,q=b==="y"?Dt:Ft,se=b==="y"?tn:nn,le=b==="y"?"height":"width",G=C[b],Q=G+p[q],T=G-p[se],R=a?-O[le]/2:0,F=_===hi?x[le]:O[le],I=_===hi?-O[le]:-x[le],ee=t.elements.arrow,D=a&&ee?tu(ee):{width:0,height:0},P=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:gv(),$=P[q],M=P[se],L=Ki(0,x[le],D[le]),U=y?x[le]/2-R-L-$-Y.mainAxis:F-L-$-Y.mainAxis,te=y?-x[le]/2+R+L+M+Y.mainAxis:I+L+M+Y.mainAxis,ce=t.elements.arrow&&ks(t.elements.arrow),A=ce?b==="y"?ce.clientTop||0:ce.clientLeft||0:0,E=(j=X?.[b])!=null?j:0,k=G+U-E-A,z=G+te-E,V=Ki(a?Ro(Q,k):Q,G,a?Ir(T,z):T);C[b]=V,N[b]=V-G}if(c){var H,Z=b==="x"?Dt:Ft,re=b==="x"?tn:nn,ue=C[w],oe=w==="y"?"height":"width",ne=ue+p[Z],de=ue-p[re],me=[Dt,Ft].indexOf(m)!==-1,ie=(H=X?.[w])!=null?H:0,_e=me?ne:ue-x[oe]-O[oe]-ie+Y.altAxis,be=me?ue+x[oe]+O[oe]-ie-Y.altAxis:de,Oe=a&&me?QP(_e,ue,be):Ki(a?_e:ne,ue,a?be:de);C[w]=Oe,N[w]=Oe-ue}t.modifiersData[r]=N}}var Ek={name:"preventOverflow",enabled:!0,phase:"main",fn:Ok,requiresIfExists:["offset"]};function Pk(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function kk(e){return e===gn(e)||!Qt(e)?ru(e):Pk(e)}function Ak(e){var t=e.getBoundingClientRect(),n=pi(t.width)/e.offsetWidth||1,r=pi(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Ik(e,t,n){n===void 0&&(n=!1);var r=Qt(t),s=Qt(t)&&Ak(t),d=pr(t),v=gi(e,s),c={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(r||!r&&!n)&&((On(t)!=="body"||su(d))&&(c=kk(t)),Qt(t)?(i=gi(t,!0),i.x+=t.clientLeft,i.y+=t.clientTop):d&&(i.x=iu(d))),{x:v.left+c.scrollLeft-i.x,y:v.top+c.scrollTop-i.y,width:v.width,height:v.height}}function Mk(e){var t=new Map,n=new Set,r=[];e.forEach(function(d){t.set(d.name,d)});function s(d){n.add(d.name);var v=[].concat(d.requires||[],d.requiresIfExists||[]);v.forEach(function(c){if(!n.has(c)){var i=t.get(c);i&&s(i)}}),r.push(d)}return e.forEach(function(d){n.has(d.name)||s(d)}),r}function Rk(e){var t=Mk(e);return GP.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function Dk(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Fk(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Hh={placement:"bottom",modifiers:[],strategy:"absolute"};function Uh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ou(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,d=s===void 0?Hh:s;return function(v,c,i){i===void 0&&(i=d);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hh,d),modifiersData:{},elements:{reference:v,popper:c},attributes:{},styles:{}},h=[],o=!1,l={state:f,setOptions:function(g){var p=typeof g=="function"?g(f.options):g;u(),f.options=Object.assign({},d,f.options,p),f.scrollParents={reference:di(v)?qi(v):v.contextElement?qi(v.contextElement):[],popper:qi(c)};var m=Rk(Fk([].concat(r,f.options.modifiers)));return f.orderedModifiers=m.filter(function(_){return _.enabled}),a(),l.update()},forceUpdate:function(){if(!o){var g=f.elements,p=g.reference,m=g.popper;if(Uh(p,m)){f.rects={reference:Ik(p,ks(m),f.options.strategy==="fixed"),popper:tu(m)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(O){return f.modifiersData[O.name]=Object.assign({},O.data)});for(var _=0;_<f.orderedModifiers.length;_++){if(f.reset===!0){f.reset=!1,_=-1;continue}var y=f.orderedModifiers[_],b=y.fn,w=y.options,C=w===void 0?{}:w,x=y.name;typeof b=="function"&&(f=b({state:f,options:C,name:x,instance:l})||f)}}}},update:Dk(function(){return new Promise(function(g){l.forceUpdate(),g(f)})}),destroy:function(){u(),o=!0}};if(!Uh(v,c))return l;l.setOptions(i).then(function(g){!o&&i.onFirstUpdate&&i.onFirstUpdate(g)});function a(){f.orderedModifiers.forEach(function(g){var p=g.name,m=g.options,_=m===void 0?{}:m,y=g.effect;if(typeof y=="function"){var b=y({state:f,name:p,instance:l,options:_}),w=function(){};h.push(b||w)}})}function u(){h.forEach(function(g){return g()}),h=[]}return l}}ou();var Lk=[yv,Cv,_v,dv];ou({defaultModifiers:Lk});var Bk=[yv,Cv,_v,dv,Sk,_k,Ek,rk,bk],$k=ou({defaultModifiers:Bk});const jk=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:i})=>{const f=Nk(i);Object.assign(v.value,f)},requires:["computeStyles"]},s=K(()=>{const{onFirstUpdate:i,placement:f,strategy:h,modifiers:o}=S(n);return{onFirstUpdate:i,placement:f||"bottom",strategy:h||"absolute",modifiers:[...o||[],r,{name:"applyStyles",enabled:!1}]}}),d=Wt(),v=fe({styles:{popper:{position:S(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=()=>{d.value&&(d.value.destroy(),d.value=void 0)};return ke(s,i=>{const f=S(d);f&&f.setOptions(i)},{deep:!0}),ke([e,t],([i,f])=>{c(),!(!i||!f)&&(d.value=$k(i,f,S(s)))}),Bt(()=>{c()}),{state:K(()=>{var i;return{...((i=S(d))==null?void 0:i.state)||{}}}),styles:K(()=>S(v).styles),attributes:K(()=>S(v).attributes),update:()=>{var i;return(i=S(d))==null?void 0:i.update()},forceUpdate:()=>{var i;return(i=S(d))==null?void 0:i.forceUpdate()},instanceRef:K(()=>S(d))}};function Nk(e){const t=Object.keys(e.elements),n=Mo(t.map(s=>[s,e.styles[s]||{}])),r=Mo(t.map(s=>[s,e.attributes[s]]));return{styles:n,attributes:r}}function Vh(){let e;const t=(r,s)=>{n(),e=window.setTimeout(r,s)},n=()=>window.clearTimeout(e);return sa(()=>n()),{registerTimeout:t,cancelTimeout:n}}const Wh={prefix:Math.floor(Math.random()*1e4),current:0},zk=Symbol("elIdInjection"),Sv=()=>Et()?Ae(zk,Wh):Wh,da=e=>{const t=Sv(),n=Zc();return K(()=>S(e)||`${n.value}-id-${t.prefix}-${t.current++}`)};let Kr=[];const Yh=e=>{const t=e;t.key===Ve.esc&&Kr.forEach(n=>n(t))},Hk=e=>{Qe(()=>{Kr.length===0&&document.addEventListener("keydown",Yh),tt&&Kr.push(e)}),Bt(()=>{Kr=Kr.filter(t=>t!==e),Kr.length===0&&tt&&document.removeEventListener("keydown",Yh)})};let Xh;const xv=()=>{const e=Zc(),t=Sv(),n=K(()=>`${e.value}-popper-container-${t.prefix}`),r=K(()=>`#${n.value}`);return{id:n,selector:r}},Uk=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},Vk=()=>{const{id:e,selector:t}=xv();return Op(()=>{tt&&!Xh&&!document.body.querySelector(t.value)&&(Xh=Uk(e.value))}),{id:e,selector:t}},Wk=Ue({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),Yk=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:s})=>{const{registerTimeout:d}=Vh(),{registerTimeout:v,cancelTimeout:c}=Vh();return{onOpen:h=>{d(()=>{r(h);const o=S(n);Ye(o)&&o>0&&v(()=>{s(h)},o)},S(e))},onClose:h=>{c(),d(()=>{s(h)},S(t))}}},Tv=Symbol("elForwardRef"),Xk=e=>{rt(Tv,{setForwardRef:n=>{e.value=n}})},Gk=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),Gh=fe(0),Ov=2e3,Ev=Symbol("zIndexContextKey"),au=e=>{const t=e||(Et()?Ae(Ev,void 0):void 0),n=K(()=>{const d=S(t);return Ye(d)?d:Ov}),r=K(()=>n.value+Gh.value);return{initialZIndex:n,currentZIndex:r,nextZIndex:()=>(Gh.value++,r.value)}};function Kk(e){const t=fe();function n(){if(e.value==null)return;const{selectionStart:s,selectionEnd:d,value:v}=e.value;if(s==null||d==null)return;const c=v.slice(0,Math.max(0,s)),i=v.slice(Math.max(0,d));t.value={selectionStart:s,selectionEnd:d,value:v,beforeTxt:c,afterTxt:i}}function r(){if(e.value==null||t.value==null)return;const{value:s}=e.value,{beforeTxt:d,afterTxt:v,selectionStart:c}=t.value;if(d==null||v==null||c==null)return;let i=s.length;if(s.endsWith(v))i=s.length-v.length;else if(s.startsWith(d))i=d.length;else{const f=d[c-1],h=s.indexOf(f,c-1);h!==-1&&(i=h+1)}e.value.setSelectionRange(i,i)}return[n,r]}const ms=ua({type:String,values:TP,required:!1}),Pv=Symbol("size"),qk=()=>{const e=Ae(Pv,{});return K(()=>S(e.size)||"")};function Jk(e,{afterFocus:t,beforeBlur:n,afterBlur:r}={}){const s=Et(),{emit:d}=s,v=Wt(),c=fe(!1),i=o=>{c.value||(c.value=!0,d("focus",o),t?.())},f=o=>{var l;Pe(n)&&n(o)||o.relatedTarget&&((l=v.value)!=null&&l.contains(o.relatedTarget))||(c.value=!1,d("blur",o),r?.())},h=()=>{var o;(o=e.value)==null||o.focus()};return ke(v,o=>{o&&o.setAttribute("tabindex","-1")}),Ot(v,"click",h),{wrapperRef:v,isFocused:c,handleFocus:i,handleBlur:f}}const kv=Symbol(),Do=fe();function lu(e,t=void 0){const n=Et()?Ae(kv,Do):Do;return e?K(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[e])!=null?s:t}):n}function Zk(e,t){const n=lu(),r=Xe(e,K(()=>{var c;return((c=n.value)==null?void 0:c.namespace)||uo})),s=zr(K(()=>{var c;return(c=n.value)==null?void 0:c.locale})),d=au(K(()=>{var c;return((c=n.value)==null?void 0:c.zIndex)||Ov})),v=K(()=>{var c;return S(t)||((c=n.value)==null?void 0:c.size)||""});return Qk(K(()=>S(n)||{})),{ns:r,locale:s,zIndex:d,size:v}}const Qk=(e,t,n=!1)=>{var r;const s=!!Et(),d=s?lu():void 0,v=(r=t?.provide)!=null?r:s?rt:void 0;if(!v)return;const c=K(()=>{const i=S(e);return d?.value?eA(d.value,i):i});return v(kv,c),v(lv,K(()=>c.value.locale)),v(cv,K(()=>c.value.namespace)),v(Ev,K(()=>c.value.zIndex)),v(Pv,{size:K(()=>c.value.size||"")}),(n||!Do.value)&&(Do.value=c.value),c},eA=(e,t)=>{var n;const r=[...new Set([...$l(e),...$l(t)])],s={};for(const d of r)s[d]=(n=t[d])!=null?n:e[d];return s},Kh={};var Fe=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const tA=Ue({size:{type:we([Number,String])},color:{type:String}}),nA=xe({name:"ElIcon",inheritAttrs:!1}),rA=xe({...nA,props:tA,setup(e){const t=e,n=Xe("icon"),r=K(()=>{const{size:s,color:d}=t;return!s&&!d?{}:{fontSize:Ni(s)?void 0:ps(s),"--color":d}});return(s,d)=>(W(),ae("i",mt({class:S(n).b(),style:S(r)},s.$attrs),[Ce(s.$slots,"default")],16))}});var iA=Fe(rA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const ze=At(iA),cu=Symbol("formContextKey"),Fo=Symbol("formItemContextKey"),As=(e,t={})=>{const n=fe(void 0),r=t.prop?n:fv("size"),s=t.global?n:qk(),d=t.form?{size:void 0}:Ae(cu,void 0),v=t.formItem?{size:void 0}:Ae(Fo,void 0);return K(()=>r.value||S(e)||v?.size||d?.size||s.value||"")},gr=e=>{const t=fv("disabled"),n=Ae(cu,void 0);return K(()=>t.value||S(e)||n?.disabled||!1)},pa=()=>{const e=Ae(cu,void 0),t=Ae(Fo,void 0);return{form:e,formItem:t}},Av=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=fe(!1)),r||(r=fe(!1));const s=fe();let d;const v=K(()=>{var c;return!!(!e.label&&t&&t.inputIds&&((c=t.inputIds)==null?void 0:c.length)<=1)});return Qe(()=>{d=ke([wt(e,"id"),n],([c,i])=>{const f=c??(i?void 0:da().value);f!==s.value&&(t?.removeInputId&&(s.value&&t.removeInputId(s.value),!r?.value&&!i&&f&&t.addInputId(f)),s.value=f)},{immediate:!0})}),Ci(()=>{d&&d(),t?.removeInputId&&s.value&&t.removeInputId(s.value)}),{isLabeledByFormItem:v,inputId:s}};let sn;const sA=`
  height:0 !important;
  visibility:hidden !important;
  ${i2()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,oA=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function aA(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),s=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:oA.map(v=>`${v}:${t.getPropertyValue(v)}`).join(";"),paddingSize:r,borderSize:s,boxSizing:n}}function qh(e,t=1,n){var r;sn||(sn=document.createElement("textarea"),document.body.appendChild(sn));const{paddingSize:s,borderSize:d,boxSizing:v,contextStyle:c}=aA(e);sn.setAttribute("style",`${c};${sA}`),sn.value=e.value||e.placeholder||"";let i=sn.scrollHeight;const f={};v==="border-box"?i=i+d:v==="content-box"&&(i=i-s),sn.value="";const h=sn.scrollHeight-s;if(Ye(t)){let o=h*t;v==="border-box"&&(o=o+s+d),i=Math.max(o,i),f.minHeight=`${o}px`}if(Ye(n)){let o=h*n;v==="border-box"&&(o=o+s+d),i=Math.min(o,i)}return f.height=`${i}px`,(r=sn.parentNode)==null||r.removeChild(sn),sn=void 0,f}const lA=Ue({id:{type:String,default:void 0},size:ms,disabled:Boolean,modelValue:{type:we([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:we([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:fi},prefixIcon:{type:fi},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:we([Object,Array,String]),default:()=>Dr({})},autofocus:{type:Boolean,default:!1}}),cA={[Ht]:e=>De(e),input:e=>De(e),change:e=>De(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},uA=["role"],fA=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],hA=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],dA=xe({name:"ElInput",inheritAttrs:!1}),pA=xe({...dA,props:lA,emits:cA,setup(e,{expose:t,emit:n}){const r=e,s=Tc(),d=Ap(),v=K(()=>{const ie={};return r.containerRole==="combobox"&&(ie["aria-haspopup"]=s["aria-haspopup"],ie["aria-owns"]=s["aria-owns"],ie["aria-expanded"]=s["aria-expanded"]),ie}),c=K(()=>[r.type==="textarea"?p.b():g.b(),g.m(a.value),g.is("disabled",u.value),g.is("exceed",D.value),{[g.b("group")]:d.prepend||d.append,[g.bm("group","append")]:d.append,[g.bm("group","prepend")]:d.prepend,[g.m("prefix")]:d.prefix||r.prefixIcon,[g.m("suffix")]:d.suffix||r.suffixIcon||r.clearable||r.showPassword,[g.bm("suffix","password-clear")]:R.value&&F.value},s.class]),i=K(()=>[g.e("wrapper"),g.is("focus",Y.value)]),f=av({excludeKeys:K(()=>Object.keys(v.value))}),{form:h,formItem:o}=pa(),{inputId:l}=Av(r,{formItemContext:o}),a=As(),u=gr(),g=Xe("input"),p=Xe("textarea"),m=Wt(),_=Wt(),y=fe(!1),b=fe(!1),w=fe(!1),C=fe(),x=Wt(r.inputStyle),O=K(()=>m.value||_.value),{wrapperRef:B,isFocused:Y,handleFocus:X,handleBlur:N}=Jk(O,{afterBlur(){var ie;r.validateEvent&&((ie=o?.validate)==null||ie.call(o,"blur").catch(_e=>void 0))}}),j=K(()=>{var ie;return(ie=h?.statusIcon)!=null?ie:!1}),q=K(()=>o?.validateState||""),se=K(()=>q.value&&CP[q.value]),le=K(()=>w.value?uS:lC),G=K(()=>[s.style,r.inputStyle]),Q=K(()=>[r.inputStyle,x.value,{resize:r.resize}]),T=K(()=>un(r.modelValue)?"":String(r.modelValue)),R=K(()=>r.clearable&&!u.value&&!r.readonly&&!!T.value&&(Y.value||y.value)),F=K(()=>r.showPassword&&!u.value&&!r.readonly&&!!T.value&&(!!T.value||Y.value)),I=K(()=>r.showWordLimit&&!!f.value.maxlength&&(r.type==="text"||r.type==="textarea")&&!u.value&&!r.readonly&&!r.showPassword),ee=K(()=>T.value.length),D=K(()=>!!I.value&&ee.value>Number(f.value.maxlength)),P=K(()=>!!d.suffix||!!r.suffixIcon||R.value||r.showPassword||I.value||!!q.value&&j.value),[$,M]=Kk(m);zc(_,ie=>{if(te(),!I.value||r.resize!=="both")return;const _e=ie[0],{width:be}=_e.contentRect;C.value={right:`calc(100% - ${be+15+6}px)`}});const L=()=>{const{type:ie,autosize:_e}=r;if(!(!tt||ie!=="textarea"||!_.value))if(_e){const be=He(_e)?_e.minRows:void 0,Oe=He(_e)?_e.maxRows:void 0,Ie=qh(_.value,be,Oe);x.value={overflowY:"hidden",...Ie},nt(()=>{_.value.offsetHeight,x.value=Ie})}else x.value={minHeight:qh(_.value).minHeight}},te=(ie=>{let _e=!1;return()=>{var be;if(_e||!r.autosize)return;((be=_.value)==null?void 0:be.offsetParent)===null||(ie(),_e=!0)}})(L),ce=()=>{const ie=O.value,_e=r.formatter?r.formatter(T.value):T.value;!ie||ie.value===_e||(ie.value=_e)},A=async ie=>{$();let{value:_e}=ie.target;if(r.formatter&&(_e=r.parser?r.parser(_e):_e),!b.value){if(_e===T.value){ce();return}n(Ht,_e),n("input",_e),await nt(),ce(),M()}},E=ie=>{n("change",ie.target.value)},k=ie=>{n("compositionstart",ie),b.value=!0},z=ie=>{var _e;n("compositionupdate",ie);const be=(_e=ie.target)==null?void 0:_e.value,Oe=be[be.length-1]||"";b.value=!OP(Oe)},V=ie=>{n("compositionend",ie),b.value&&(b.value=!1,A(ie))},H=()=>{w.value=!w.value,Z()},Z=async()=>{var ie;await nt(),(ie=O.value)==null||ie.focus()},re=()=>{var ie;return(ie=O.value)==null?void 0:ie.blur()},ue=ie=>{y.value=!1,n("mouseleave",ie)},oe=ie=>{y.value=!0,n("mouseenter",ie)},ne=ie=>{n("keydown",ie)},de=()=>{var ie;(ie=O.value)==null||ie.select()},me=()=>{n(Ht,""),n("change",""),n("clear"),n("input","")};return ke(()=>r.modelValue,()=>{var ie;nt(()=>L()),r.validateEvent&&((ie=o?.validate)==null||ie.call(o,"change").catch(_e=>void 0))}),ke(T,()=>ce()),ke(()=>r.type,async()=>{await nt(),ce(),L()}),Qe(()=>{!r.formatter&&r.parser,ce(),nt(L)}),t({input:m,textarea:_,ref:O,textareaStyle:Q,autosize:wt(r,"autosize"),focus:Z,blur:re,select:de,clear:me,resizeTextarea:L}),(ie,_e)=>et((W(),ae("div",mt(S(v),{class:S(c),style:S(G),role:ie.containerRole,onMouseenter:oe,onMouseleave:ue}),[ye(" input "),ie.type!=="textarea"?(W(),ae(Me,{key:0},[ye(" prepend slot "),ie.$slots.prepend?(W(),ae("div",{key:0,class:pe(S(g).be("group","prepend"))},[Ce(ie.$slots,"prepend")],2)):ye("v-if",!0),J("div",{ref_key:"wrapperRef",ref:B,class:pe(S(i))},[ye(" prefix slot "),ie.$slots.prefix||ie.prefixIcon?(W(),ae("span",{key:0,class:pe(S(g).e("prefix"))},[J("span",{class:pe(S(g).e("prefix-inner"))},[Ce(ie.$slots,"prefix"),ie.prefixIcon?(W(),Se(S(ze),{key:0,class:pe(S(g).e("icon"))},{default:ve(()=>[(W(),Se(Jt(ie.prefixIcon)))]),_:1},8,["class"])):ye("v-if",!0)],2)],2)):ye("v-if",!0),J("input",mt({id:S(l),ref_key:"input",ref:m,class:S(g).e("inner")},S(f),{type:ie.showPassword?w.value?"text":"password":ie.type,disabled:S(u),formatter:ie.formatter,parser:ie.parser,readonly:ie.readonly,autocomplete:ie.autocomplete,tabindex:ie.tabindex,"aria-label":ie.label,placeholder:ie.placeholder,style:ie.inputStyle,form:r.form,autofocus:r.autofocus,onCompositionstart:k,onCompositionupdate:z,onCompositionend:V,onInput:A,onFocus:_e[0]||(_e[0]=(...be)=>S(X)&&S(X)(...be)),onBlur:_e[1]||(_e[1]=(...be)=>S(N)&&S(N)(...be)),onChange:E,onKeydown:ne}),null,16,fA),ye(" suffix slot "),S(P)?(W(),ae("span",{key:1,class:pe(S(g).e("suffix"))},[J("span",{class:pe(S(g).e("suffix-inner"))},[!S(R)||!S(F)||!S(I)?(W(),ae(Me,{key:0},[Ce(ie.$slots,"suffix"),ie.suffixIcon?(W(),Se(S(ze),{key:0,class:pe(S(g).e("icon"))},{default:ve(()=>[(W(),Se(Jt(ie.suffixIcon)))]),_:1},8,["class"])):ye("v-if",!0)],64)):ye("v-if",!0),S(R)?(W(),Se(S(ze),{key:1,class:pe([S(g).e("icon"),S(g).e("clear")]),onMousedown:vt(S(We),["prevent"]),onClick:me},{default:ve(()=>[he(S($c))]),_:1},8,["class","onMousedown"])):ye("v-if",!0),S(F)?(W(),Se(S(ze),{key:2,class:pe([S(g).e("icon"),S(g).e("password")]),onClick:H},{default:ve(()=>[(W(),Se(Jt(S(le))))]),_:1},8,["class"])):ye("v-if",!0),S(I)?(W(),ae("span",{key:3,class:pe(S(g).e("count"))},[J("span",{class:pe(S(g).e("count-inner"))},Be(S(ee))+" / "+Be(S(f).maxlength),3)],2)):ye("v-if",!0),S(q)&&S(se)&&S(j)?(W(),Se(S(ze),{key:4,class:pe([S(g).e("icon"),S(g).e("validateIcon"),S(g).is("loading",S(q)==="validating")])},{default:ve(()=>[(W(),Se(Jt(S(se))))]),_:1},8,["class"])):ye("v-if",!0)],2)],2)):ye("v-if",!0)],2),ye(" append slot "),ie.$slots.append?(W(),ae("div",{key:1,class:pe(S(g).be("group","append"))},[Ce(ie.$slots,"append")],2)):ye("v-if",!0)],64)):(W(),ae(Me,{key:1},[ye(" textarea "),J("textarea",mt({id:S(l),ref_key:"textarea",ref:_,class:S(p).e("inner")},S(f),{tabindex:ie.tabindex,disabled:S(u),readonly:ie.readonly,autocomplete:ie.autocomplete,style:S(Q),"aria-label":ie.label,placeholder:ie.placeholder,form:r.form,autofocus:r.autofocus,onCompositionstart:k,onCompositionupdate:z,onCompositionend:V,onInput:A,onFocus:_e[2]||(_e[2]=(...be)=>S(X)&&S(X)(...be)),onBlur:_e[3]||(_e[3]=(...be)=>S(N)&&S(N)(...be)),onChange:E,onKeydown:ne}),null,16,hA),S(I)?(W(),ae("span",{key:0,style:Re(C.value),class:pe(S(g).e("count"))},Be(S(ee))+" / "+Be(S(f).maxlength),7)):ye("v-if",!0)],64))],16,uA)),[[ht,ie.type!=="hidden"]])}});var gA=Fe(pA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Nl=At(gA),Jr=4,vA={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},mA=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),Iv=Symbol("scrollbarContextKey"),_A=Ue({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),yA="Thumb",bA=xe({__name:"thumb",props:_A,setup(e){const t=e,n=Ae(Iv),r=Xe("scrollbar");n||Oi(yA,"can not inject scrollbar context");const s=fe(),d=fe(),v=fe({}),c=fe(!1);let i=!1,f=!1,h=tt?document.onselectstart:null;const o=K(()=>vA[t.vertical?"vertical":"horizontal"]),l=K(()=>mA({size:t.size,move:t.move,bar:o.value})),a=K(()=>s.value[o.value.offset]**2/n.wrapElement[o.value.scrollSize]/t.ratio/d.value[o.value.offset]),u=C=>{var x;if(C.stopPropagation(),C.ctrlKey||[1,2].includes(C.button))return;(x=window.getSelection())==null||x.removeAllRanges(),p(C);const O=C.currentTarget;O&&(v.value[o.value.axis]=O[o.value.offset]-(C[o.value.client]-O.getBoundingClientRect()[o.value.direction]))},g=C=>{if(!d.value||!s.value||!n.wrapElement)return;const x=Math.abs(C.target.getBoundingClientRect()[o.value.direction]-C[o.value.client]),O=d.value[o.value.offset]/2,B=(x-O)*100*a.value/s.value[o.value.offset];n.wrapElement[o.value.scroll]=B*n.wrapElement[o.value.scrollSize]/100},p=C=>{C.stopImmediatePropagation(),i=!0,document.addEventListener("mousemove",m),document.addEventListener("mouseup",_),h=document.onselectstart,document.onselectstart=()=>!1},m=C=>{if(!s.value||!d.value||i===!1)return;const x=v.value[o.value.axis];if(!x)return;const O=(s.value.getBoundingClientRect()[o.value.direction]-C[o.value.client])*-1,B=d.value[o.value.offset]-x,Y=(O-B)*100*a.value/s.value[o.value.offset];n.wrapElement[o.value.scroll]=Y*n.wrapElement[o.value.scrollSize]/100},_=()=>{i=!1,v.value[o.value.axis]=0,document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",_),w(),f&&(c.value=!1)},y=()=>{f=!1,c.value=!!t.size},b=()=>{f=!0,c.value=i};Bt(()=>{w(),document.removeEventListener("mouseup",_)});const w=()=>{document.onselectstart!==h&&(document.onselectstart=h)};return Ot(wt(n,"scrollbarElement"),"mousemove",y),Ot(wt(n,"scrollbarElement"),"mouseleave",b),(C,x)=>(W(),Se(kn,{name:S(r).b("fade"),persisted:""},{default:ve(()=>[et(J("div",{ref_key:"instance",ref:s,class:pe([S(r).e("bar"),S(r).is(S(o).key)]),onMousedown:g},[J("div",{ref_key:"thumb",ref:d,class:pe(S(r).e("thumb")),style:Re(S(l)),onMousedown:u},null,38)],34),[[ht,C.always||c.value]])]),_:1},8,["name"]))}});var Jh=Fe(bA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const wA=Ue({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),CA=xe({__name:"bar",props:wA,setup(e,{expose:t}){const n=e,r=fe(0),s=fe(0);return t({handleScroll:v=>{if(v){const c=v.offsetHeight-Jr,i=v.offsetWidth-Jr;s.value=v.scrollTop*100/c*n.ratioY,r.value=v.scrollLeft*100/i*n.ratioX}}}),(v,c)=>(W(),ae(Me,null,[he(Jh,{move:r.value,ratio:v.ratioX,size:v.width,always:v.always},null,8,["move","ratio","size","always"]),he(Jh,{move:s.value,ratio:v.ratioY,size:v.height,vertical:"",always:v.always},null,8,["move","ratio","size","always"])],64))}});var SA=Fe(CA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const xA=Ue({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:we([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),TA={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(Ye)},OA="ElScrollbar",EA=xe({name:OA}),PA=xe({...EA,props:xA,emits:TA,setup(e,{expose:t,emit:n}){const r=e,s=Xe("scrollbar");let d,v;const c=fe(),i=fe(),f=fe(),h=fe("0"),o=fe("0"),l=fe(),a=fe(1),u=fe(1),g=K(()=>{const x={};return r.height&&(x.height=ps(r.height)),r.maxHeight&&(x.maxHeight=ps(r.maxHeight)),[r.wrapStyle,x]}),p=K(()=>[r.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!r.native}]),m=K(()=>[s.e("view"),r.viewClass]),_=()=>{var x;i.value&&((x=l.value)==null||x.handleScroll(i.value),n("scroll",{scrollTop:i.value.scrollTop,scrollLeft:i.value.scrollLeft}))};function y(x,O){He(x)?i.value.scrollTo(x):Ye(x)&&Ye(O)&&i.value.scrollTo(x,O)}const b=x=>{Ye(x)&&(i.value.scrollTop=x)},w=x=>{Ye(x)&&(i.value.scrollLeft=x)},C=()=>{if(!i.value)return;const x=i.value.offsetHeight-Jr,O=i.value.offsetWidth-Jr,B=x**2/i.value.scrollHeight,Y=O**2/i.value.scrollWidth,X=Math.max(B,r.minSize),N=Math.max(Y,r.minSize);a.value=B/(x-B)/(X/(x-X)),u.value=Y/(O-Y)/(N/(O-N)),o.value=X+Jr<x?`${X}px`:"",h.value=N+Jr<O?`${N}px`:""};return ke(()=>r.noresize,x=>{x?(d?.(),v?.()):({stop:d}=zc(f,C),v=Ot("resize",C))},{immediate:!0}),ke(()=>[r.maxHeight,r.height],()=>{r.native||nt(()=>{var x;C(),i.value&&((x=l.value)==null||x.handleScroll(i.value))})}),rt(Iv,Pn({scrollbarElement:c,wrapElement:i})),Qe(()=>{r.native||nt(()=>{C()})}),qo(()=>C()),t({wrapRef:i,update:C,scrollTo:y,setScrollTop:b,setScrollLeft:w,handleScroll:_}),(x,O)=>(W(),ae("div",{ref_key:"scrollbarRef",ref:c,class:pe(S(s).b())},[J("div",{ref_key:"wrapRef",ref:i,class:pe(S(p)),style:Re(S(g)),onScroll:_},[(W(),Se(Jt(x.tag),{id:x.id,ref_key:"resizeRef",ref:f,class:pe(S(m)),style:Re(x.viewStyle),role:x.role,"aria-label":x.ariaLabel,"aria-orientation":x.ariaOrientation},{default:ve(()=>[Ce(x.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),x.native?ye("v-if",!0):(W(),Se(SA,{key:0,ref_key:"barRef",ref:l,height:o.value,width:h.value,always:x.always,"ratio-x":u.value,"ratio-y":a.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var kA=Fe(PA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const AA=At(kA),uu=Symbol("popper"),Mv=Symbol("popperContent"),IA=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],Rv=Ue({role:{type:String,values:IA,default:"tooltip"}}),MA=xe({name:"ElPopper",inheritAttrs:!1}),RA=xe({...MA,props:Rv,setup(e,{expose:t}){const n=e,r=fe(),s=fe(),d=fe(),v=fe(),c=K(()=>n.role),i={triggerRef:r,popperInstanceRef:s,contentRef:d,referenceRef:v,role:c};return t(i),rt(uu,i),(f,h)=>Ce(f.$slots,"default")}});var DA=Fe(RA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const Dv=Ue({arrowOffset:{type:Number,default:5}}),FA=xe({name:"ElPopperArrow",inheritAttrs:!1}),LA=xe({...FA,props:Dv,setup(e,{expose:t}){const n=e,r=Xe("popper"),{arrowOffset:s,arrowRef:d,arrowStyle:v}=Ae(Mv,void 0);return ke(()=>n.arrowOffset,c=>{s.value=c}),Bt(()=>{d.value=void 0}),t({arrowRef:d}),(c,i)=>(W(),ae("span",{ref_key:"arrowRef",ref:d,class:pe(S(r).e("arrow")),style:Re(S(v)),"data-popper-arrow":""},null,6))}});var BA=Fe(LA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const $A="ElOnlyChild",Fv=xe({name:$A,setup(e,{slots:t,attrs:n}){var r;const s=Ae(Tv),d=Gk((r=s?.setForwardRef)!=null?r:We);return()=>{var v;const c=(v=t.default)==null?void 0:v.call(t,n);if(!c||c.length>1)return null;const i=Lv(c);return i?et(Un(i,n),[[d]]):null}}});function Lv(e){if(!e)return null;const t=e;for(const n of t){if(He(n))switch(n.type){case Yt:continue;case Si:case"svg":return Zh(n);case Me:return Lv(n.children);default:return n}return Zh(n)}return null}function Zh(e){const t=Xe("only-child");return he("span",{class:t.e("content")},[e])}const Bv=Ue({virtualRef:{type:we(Object)},virtualTriggering:Boolean,onMouseenter:{type:we(Function)},onMouseleave:{type:we(Function)},onClick:{type:we(Function)},onKeydown:{type:we(Function)},onFocus:{type:we(Function)},onBlur:{type:we(Function)},onContextmenu:{type:we(Function)},id:String,open:Boolean}),jA=xe({name:"ElPopperTrigger",inheritAttrs:!1}),NA=xe({...jA,props:Bv,setup(e,{expose:t}){const n=e,{role:r,triggerRef:s}=Ae(uu,void 0);Xk(s);const d=K(()=>c.value?n.id:void 0),v=K(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),c=K(()=>{if(r&&r.value!=="tooltip")return r.value}),i=K(()=>c.value?`${n.open}`:void 0);let f;return Qe(()=>{ke(()=>n.virtualRef,h=>{h&&(s.value=ar(h))},{immediate:!0}),ke(s,(h,o)=>{f?.(),f=void 0,ui(h)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(l=>{var a;const u=n[l];u&&(h.addEventListener(l.slice(2).toLowerCase(),u),(a=o?.removeEventListener)==null||a.call(o,l.slice(2).toLowerCase(),u))}),f=ke([d,v,c,i],l=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((a,u)=>{un(l[u])?h.removeAttribute(a):h.setAttribute(a,l[u])})},{immediate:!0})),ui(o)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(l=>o.removeAttribute(l))},{immediate:!0})}),Bt(()=>{f?.(),f=void 0}),t({triggerRef:s}),(h,o)=>h.virtualTriggering?ye("v-if",!0):(W(),Se(S(Fv),mt({key:0},h.$attrs,{"aria-controls":S(d),"aria-describedby":S(v),"aria-expanded":S(i),"aria-haspopup":S(c)}),{default:ve(()=>[Ce(h.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var zA=Fe(NA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const Ya="focus-trap.focus-after-trapped",Xa="focus-trap.focus-after-released",HA="focus-trap.focusout-prevented",Qh={cancelable:!0,bubbles:!1},UA={cancelable:!0,bubbles:!1},ed="focusAfterTrapped",td="focusAfterReleased",$v=Symbol("elFocusTrap"),fu=fe(),ga=fe(0),hu=fe(0);let Ks=0;const jv=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},nd=(e,t)=>{for(const n of e)if(!VA(n,t))return n},VA=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},WA=e=>{const t=jv(e),n=nd(t,e),r=nd(t.reverse(),e);return[n,r]},YA=e=>e instanceof HTMLInputElement&&"select"in e,rr=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),hu.value=window.performance.now(),e!==n&&YA(e)&&t&&e.select()}};function rd(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const XA=()=>{let e=[];return{push:r=>{const s=e[0];s&&r!==s&&s.pause(),e=rd(e,r),e.unshift(r)},remove:r=>{var s,d;e=rd(e,r),(d=(s=e[0])==null?void 0:s.resume)==null||d.call(s)}}},GA=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(rr(r,t),document.activeElement!==n)return},id=XA(),KA=()=>ga.value>hu.value,qs=()=>{fu.value="pointer",ga.value=window.performance.now()},sd=()=>{fu.value="keyboard",ga.value=window.performance.now()},qA=()=>(Qe(()=>{Ks===0&&(document.addEventListener("mousedown",qs),document.addEventListener("touchstart",qs),document.addEventListener("keydown",sd)),Ks++}),Bt(()=>{Ks--,Ks<=0&&(document.removeEventListener("mousedown",qs),document.removeEventListener("touchstart",qs),document.removeEventListener("keydown",sd))}),{focusReason:fu,lastUserFocusTimestamp:ga,lastAutomatedFocusTimestamp:hu}),Js=e=>new CustomEvent(HA,{...UA,detail:e}),JA=xe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ed,td,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=fe();let r,s;const{focusReason:d}=qA();Hk(u=>{e.trapped&&!v.paused&&t("release-requested",u)});const v={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},c=u=>{if(!e.loop&&!e.trapped||v.paused)return;const{key:g,altKey:p,ctrlKey:m,metaKey:_,currentTarget:y,shiftKey:b}=u,{loop:w}=e,C=g===Ve.tab&&!p&&!m&&!_,x=document.activeElement;if(C&&x){const O=y,[B,Y]=WA(O);if(B&&Y){if(!b&&x===Y){const N=Js({focusReason:d.value});t("focusout-prevented",N),N.defaultPrevented||(u.preventDefault(),w&&rr(B,!0))}else if(b&&[B,O].includes(x)){const N=Js({focusReason:d.value});t("focusout-prevented",N),N.defaultPrevented||(u.preventDefault(),w&&rr(Y,!0))}}else if(x===O){const N=Js({focusReason:d.value});t("focusout-prevented",N),N.defaultPrevented||u.preventDefault()}}};rt($v,{focusTrapRef:n,onKeydown:c}),ke(()=>e.focusTrapEl,u=>{u&&(n.value=u)},{immediate:!0}),ke([n],([u],[g])=>{u&&(u.addEventListener("keydown",c),u.addEventListener("focusin",h),u.addEventListener("focusout",o)),g&&(g.removeEventListener("keydown",c),g.removeEventListener("focusin",h),g.removeEventListener("focusout",o))});const i=u=>{t(ed,u)},f=u=>t(td,u),h=u=>{const g=S(n);if(!g)return;const p=u.target,m=u.relatedTarget,_=p&&g.contains(p);e.trapped||m&&g.contains(m)||(r=m),_&&t("focusin",u),!v.paused&&e.trapped&&(_?s=p:rr(s,!0))},o=u=>{const g=S(n);if(!(v.paused||!g))if(e.trapped){const p=u.relatedTarget;!un(p)&&!g.contains(p)&&setTimeout(()=>{if(!v.paused&&e.trapped){const m=Js({focusReason:d.value});t("focusout-prevented",m),m.defaultPrevented||rr(s,!0)}},0)}else{const p=u.target;p&&g.contains(p)||t("focusout",u)}};async function l(){await nt();const u=S(n);if(u){id.push(v);const g=u.contains(document.activeElement)?r:document.activeElement;if(r=g,!u.contains(g)){const m=new Event(Ya,Qh);u.addEventListener(Ya,i),u.dispatchEvent(m),m.defaultPrevented||nt(()=>{let _=e.focusStartEl;De(_)||(rr(_),document.activeElement!==_&&(_="first")),_==="first"&&GA(jv(u),!0),(document.activeElement===g||_==="container")&&rr(u)})}}}function a(){const u=S(n);if(u){u.removeEventListener(Ya,i);const g=new CustomEvent(Xa,{...Qh,detail:{focusReason:d.value}});u.addEventListener(Xa,f),u.dispatchEvent(g),!g.defaultPrevented&&(d.value=="keyboard"||!KA()||u.contains(document.activeElement))&&rr(r??document.body),u.removeEventListener(Xa,f),id.remove(v)}}return Qe(()=>{e.trapped&&l(),ke(()=>e.trapped,u=>{u?l():a()})}),Bt(()=>{e.trapped&&a()}),{onKeydown:c}}});function ZA(e,t,n,r,s,d){return Ce(e.$slots,"default",{handleKeydown:e.onKeydown})}var QA=Fe(JA,[["render",ZA],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const eI=["fixed","absolute"],tI=Ue({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:we(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ps,default:"bottom"},popperOptions:{type:we(Object),default:()=>({})},strategy:{type:String,values:eI,default:"absolute"}}),Nv=Ue({...tI,id:String,style:{type:we([String,Array,Object])},className:{type:we([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:we([String,Array,Object])},popperStyle:{type:we([String,Array,Object])},referenceEl:{type:we(Object)},triggerTargetEl:{type:we(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),nI={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},rI=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:s}=e,d={placement:n,strategy:r,...s,modifiers:[...sI(e),...t]};return oI(d,s?.modifiers),d},iI=e=>{if(tt)return ar(e)};function sI(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function oI(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const aI=0,lI=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:s}=Ae(uu,void 0),d=fe(),v=fe(),c=K(()=>({name:"eventListeners",enabled:!!e.visible})),i=K(()=>{var m;const _=S(d),y=(m=S(v))!=null?m:aI;return{name:"arrow",enabled:!hP(_),options:{element:_,padding:y}}}),f=K(()=>({onFirstUpdate:()=>{u()},...rI(e,[S(i),S(c)])})),h=K(()=>iI(e.referenceEl)||S(r)),{attributes:o,state:l,styles:a,update:u,forceUpdate:g,instanceRef:p}=jk(h,n,f);return ke(p,m=>t.value=m),Qe(()=>{ke(()=>{var m;return(m=S(h))==null?void 0:m.getBoundingClientRect()},()=>{u()})}),{attributes:o,arrowRef:d,contentRef:n,instanceRef:p,state:l,styles:a,role:s,forceUpdate:g,update:u}},cI=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:s}=au(),d=Xe("popper"),v=K(()=>S(t).popper),c=fe(Ye(e.zIndex)?e.zIndex:s()),i=K(()=>[d.b(),d.is("pure",e.pure),d.is(e.effect),e.popperClass]),f=K(()=>[{zIndex:S(c)},S(n).popper,e.popperStyle||{}]),h=K(()=>r.value==="dialog"?"false":void 0),o=K(()=>S(n).arrow||{});return{ariaModal:h,arrowStyle:o,contentAttrs:v,contentClass:i,contentStyle:f,contentZIndex:c,updateZIndex:()=>{c.value=Ye(e.zIndex)?e.zIndex:s()}}},uI=(e,t)=>{const n=fe(!1),r=fe();return{focusStartRef:r,trapped:n,onFocusAfterReleased:f=>{var h;((h=f.detail)==null?void 0:h.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:f=>{e.visible&&!n.value&&(f.target&&(r.value=f.target),n.value=!0)},onFocusoutPrevented:f=>{e.trapping||(f.detail.focusReason==="pointer"&&f.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},fI=xe({name:"ElPopperContent"}),hI=xe({...fI,props:Nv,emits:nI,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:s,trapped:d,onFocusAfterReleased:v,onFocusAfterTrapped:c,onFocusInTrap:i,onFocusoutPrevented:f,onReleaseRequested:h}=uI(r,n),{attributes:o,arrowRef:l,contentRef:a,styles:u,instanceRef:g,role:p,update:m}=lI(r),{ariaModal:_,arrowStyle:y,contentAttrs:b,contentClass:w,contentStyle:C,updateZIndex:x}=cI(r,{styles:u,attributes:o,role:p}),O=Ae(Fo,void 0),B=fe();rt(Mv,{arrowStyle:y,arrowRef:l,arrowOffset:B}),O&&(O.addInputId||O.removeInputId)&&rt(Fo,{...O,addInputId:We,removeInputId:We});let Y;const X=(j=!0)=>{m(),j&&x()},N=()=>{X(!1),r.visible&&r.focusOnShow?d.value=!0:r.visible===!1&&(d.value=!1)};return Qe(()=>{ke(()=>r.triggerTargetEl,(j,q)=>{Y?.(),Y=void 0;const se=S(j||a.value),le=S(q||a.value);ui(se)&&(Y=ke([p,()=>r.ariaLabel,_,()=>r.id],G=>{["role","aria-label","aria-modal","id"].forEach((Q,T)=>{un(G[T])?se.removeAttribute(Q):se.setAttribute(Q,G[T])})},{immediate:!0})),le!==se&&ui(le)&&["role","aria-label","aria-modal","id"].forEach(G=>{le.removeAttribute(G)})},{immediate:!0}),ke(()=>r.visible,N,{immediate:!0})}),Bt(()=>{Y?.(),Y=void 0}),t({popperContentRef:a,popperInstanceRef:g,updatePopper:X,contentStyle:C}),(j,q)=>(W(),ae("div",mt({ref_key:"contentRef",ref:a},S(b),{style:S(C),class:S(w),tabindex:"-1",onMouseenter:q[0]||(q[0]=se=>j.$emit("mouseenter",se)),onMouseleave:q[1]||(q[1]=se=>j.$emit("mouseleave",se))}),[he(S(QA),{trapped:S(d),"trap-on-focus-in":!0,"focus-trap-el":S(a),"focus-start-el":S(s),onFocusAfterTrapped:S(c),onFocusAfterReleased:S(v),onFocusin:S(i),onFocusoutPrevented:S(f),onReleaseRequested:S(h)},{default:ve(()=>[Ce(j.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var dI=Fe(hI,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const pI=At(DA),du=Symbol("elTooltip"),Kt=Ue({...Wk,...Nv,appendTo:{type:we([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:we(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),_s=Ue({...Bv,disabled:Boolean,trigger:{type:we([String,Array]),default:"hover"},triggerKeys:{type:we(Array),default:()=>[Ve.enter,Ve.space]}}),{useModelToggleProps:gI,useModelToggleEmits:vI,useModelToggle:mI}=uv("visible"),_I=Ue({...Rv,...gI,...Kt,..._s,...Dv,showArrow:{type:Boolean,default:!0}}),yI=[...vI,"before-show","before-hide","show","hide","open","close"],bI=(e,t)=>Te(e)?e.includes(t):e===t,Xr=(e,t,n)=>r=>{bI(S(e),t)&&n(r)},wI=xe({name:"ElTooltipTrigger"}),CI=xe({...wI,props:_s,setup(e,{expose:t}){const n=e,r=Xe("tooltip"),{controlled:s,id:d,open:v,onOpen:c,onClose:i,onToggle:f}=Ae(du,void 0),h=fe(null),o=()=>{if(S(s)||n.disabled)return!0},l=wt(n,"trigger"),a=ct(o,Xr(l,"hover",c)),u=ct(o,Xr(l,"hover",i)),g=ct(o,Xr(l,"click",b=>{b.button===0&&f(b)})),p=ct(o,Xr(l,"focus",c)),m=ct(o,Xr(l,"focus",i)),_=ct(o,Xr(l,"contextmenu",b=>{b.preventDefault(),f(b)})),y=ct(o,b=>{const{code:w}=b;n.triggerKeys.includes(w)&&(b.preventDefault(),f(b))});return t({triggerRef:h}),(b,w)=>(W(),Se(S(zA),{id:S(d),"virtual-ref":b.virtualRef,open:S(v),"virtual-triggering":b.virtualTriggering,class:pe(S(r).e("trigger")),onBlur:S(m),onClick:S(g),onContextmenu:S(_),onFocus:S(p),onMouseenter:S(a),onMouseleave:S(u),onKeydown:S(y)},{default:ve(()=>[Ce(b.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var SI=Fe(CI,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const xI=xe({name:"ElTooltipContent",inheritAttrs:!1}),TI=xe({...xI,props:Kt,setup(e,{expose:t}){const n=e,{selector:r}=xv(),s=Xe("tooltip"),d=fe(null),v=fe(!1),{controlled:c,id:i,open:f,trigger:h,onClose:o,onOpen:l,onShow:a,onHide:u,onBeforeShow:g,onBeforeHide:p}=Ae(du,void 0),m=K(()=>n.transition||`${s.namespace.value}-fade-in-linear`),_=K(()=>n.persistent);Bt(()=>{v.value=!0});const y=K(()=>S(_)?!0:S(f)),b=K(()=>n.disabled?!1:S(f)),w=K(()=>n.appendTo||r.value),C=K(()=>{var G;return(G=n.style)!=null?G:{}}),x=K(()=>!S(f)),O=()=>{u()},B=()=>{if(S(c))return!0},Y=ct(B,()=>{n.enterable&&S(h)==="hover"&&l()}),X=ct(B,()=>{S(h)==="hover"&&o()}),N=()=>{var G,Q;(Q=(G=d.value)==null?void 0:G.updatePopper)==null||Q.call(G),g?.()},j=()=>{p?.()},q=()=>{a(),le=YS(K(()=>{var G;return(G=d.value)==null?void 0:G.popperContentRef}),()=>{if(S(c))return;S(h)!=="hover"&&o()})},se=()=>{n.virtualTriggering||o()};let le;return ke(()=>S(f),G=>{G||le?.()},{flush:"post"}),ke(()=>n.content,()=>{var G,Q;(Q=(G=d.value)==null?void 0:G.updatePopper)==null||Q.call(G)}),t({contentRef:d}),(G,Q)=>(W(),Se(kc,{disabled:!G.teleported,to:S(w)},[he(kn,{name:S(m),onAfterLeave:O,onBeforeEnter:N,onAfterEnter:q,onBeforeLeave:j},{default:ve(()=>[S(y)?et((W(),Se(S(dI),mt({key:0,id:S(i),ref_key:"contentRef",ref:d},G.$attrs,{"aria-label":G.ariaLabel,"aria-hidden":S(x),"boundaries-padding":G.boundariesPadding,"fallback-placements":G.fallbackPlacements,"gpu-acceleration":G.gpuAcceleration,offset:G.offset,placement:G.placement,"popper-options":G.popperOptions,strategy:G.strategy,effect:G.effect,enterable:G.enterable,pure:G.pure,"popper-class":G.popperClass,"popper-style":[G.popperStyle,S(C)],"reference-el":G.referenceEl,"trigger-target-el":G.triggerTargetEl,visible:S(b),"z-index":G.zIndex,onMouseenter:S(Y),onMouseleave:S(X),onBlur:se,onClose:S(o)}),{default:ve(()=>[v.value?ye("v-if",!0):Ce(G.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[ht,S(b)]]):ye("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var OI=Fe(TI,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const EI=["innerHTML"],PI={key:1},kI=xe({name:"ElTooltip"}),AI=xe({...kI,props:_I,emits:yI,setup(e,{expose:t,emit:n}){const r=e;Vk();const s=da(),d=fe(),v=fe(),c=()=>{var m;const _=S(d);_&&((m=_.popperInstanceRef)==null||m.update())},i=fe(!1),f=fe(),{show:h,hide:o,hasUpdateHandler:l}=mI({indicator:i,toggleReason:f}),{onOpen:a,onClose:u}=Yk({showAfter:wt(r,"showAfter"),hideAfter:wt(r,"hideAfter"),autoClose:wt(r,"autoClose"),open:h,close:o}),g=K(()=>qc(r.visible)&&!l.value);rt(du,{controlled:g,id:s,open:Ss(i),trigger:wt(r,"trigger"),onOpen:m=>{a(m)},onClose:m=>{u(m)},onToggle:m=>{S(i)?u(m):a(m)},onShow:()=>{n("show",f.value)},onHide:()=>{n("hide",f.value)},onBeforeShow:()=>{n("before-show",f.value)},onBeforeHide:()=>{n("before-hide",f.value)},updatePopper:c}),ke(()=>r.disabled,m=>{m&&i.value&&(i.value=!1)});const p=m=>{var _,y;const b=(y=(_=v.value)==null?void 0:_.contentRef)==null?void 0:y.popperContentRef,w=m?.relatedTarget||document.activeElement;return b&&b.contains(w)};return xp(()=>i.value&&o()),t({popperRef:d,contentRef:v,isFocusInsideContent:p,updatePopper:c,onOpen:a,onClose:u,hide:o}),(m,_)=>(W(),Se(S(pI),{ref_key:"popperRef",ref:d,role:m.role},{default:ve(()=>[he(SI,{disabled:m.disabled,trigger:m.trigger,"trigger-keys":m.triggerKeys,"virtual-ref":m.virtualRef,"virtual-triggering":m.virtualTriggering},{default:ve(()=>[m.$slots.default?Ce(m.$slots,"default",{key:0}):ye("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),he(OI,{ref_key:"contentRef",ref:v,"aria-label":m.ariaLabel,"boundaries-padding":m.boundariesPadding,content:m.content,disabled:m.disabled,effect:m.effect,enterable:m.enterable,"fallback-placements":m.fallbackPlacements,"hide-after":m.hideAfter,"gpu-acceleration":m.gpuAcceleration,offset:m.offset,persistent:m.persistent,"popper-class":m.popperClass,"popper-style":m.popperStyle,placement:m.placement,"popper-options":m.popperOptions,pure:m.pure,"raw-content":m.rawContent,"reference-el":m.referenceEl,"trigger-target-el":m.triggerTargetEl,"show-after":m.showAfter,strategy:m.strategy,teleported:m.teleported,transition:m.transition,"virtual-triggering":m.virtualTriggering,"z-index":m.zIndex,"append-to":m.appendTo},{default:ve(()=>[Ce(m.$slots,"content",{},()=>[m.rawContent?(W(),ae("span",{key:0,innerHTML:m.content},null,8,EI)):(W(),ae("span",PI,Be(m.content),1))]),m.showArrow?(W(),Se(S(BA),{key:0,"arrow-offset":m.arrowOffset},null,8,["arrow-offset"])):ye("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var II=Fe(AI,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Is=At(II),MI=Ue({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),RI=["textContent"],DI=xe({name:"ElBadge"}),FI=xe({...DI,props:MI,setup(e,{expose:t}){const n=e,r=Xe("badge"),s=K(()=>n.isDot?"":Ye(n.value)&&Ye(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`);return t({content:s}),(d,v)=>(W(),ae("div",{class:pe(S(r).b())},[Ce(d.$slots,"default"),he(kn,{name:`${S(r).namespace.value}-zoom-in-center`,persisted:""},{default:ve(()=>[et(J("sup",{class:pe([S(r).e("content"),S(r).em("content",d.type),S(r).is("fixed",!!d.$slots.default),S(r).is("dot",d.isDot)]),textContent:Be(S(s))},null,10,RI),[[ht,!d.hidden&&(S(s)||d.isDot)]])]),_:1},8,["name"])],2))}});var LI=Fe(FI,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const BI=At(LI),zv=Symbol("buttonGroupContextKey"),$I=(e,t)=>{kP({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},K(()=>e.type==="text"));const n=Ae(zv,void 0),r=lu("button"),{form:s}=pa(),d=As(K(()=>n?.size)),v=gr(),c=fe(),i=Ap(),f=K(()=>e.type||n?.type||""),h=K(()=>{var u,g,p;return(p=(g=e.autoInsertSpace)!=null?g:(u=r.value)==null?void 0:u.autoInsertSpace)!=null?p:!1}),o=K(()=>e.tag==="button"?{ariaDisabled:v.value||e.loading,disabled:v.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),l=K(()=>{var u;const g=(u=i.default)==null?void 0:u.call(i);if(h.value&&g?.length===1){const p=g[0];if(p?.type===Si){const m=p.children;return/^\p{Unified_Ideograph}{2}$/u.test(m.trim())}}return!1});return{_disabled:v,_size:d,_type:f,_ref:c,_props:o,shouldAddSpace:l,handleClick:u=>{e.nativeType==="reset"&&s?.resetFields(),t("click",u)}}},jI=["default","primary","success","warning","info","danger","text",""],NI=["button","submit","reset"],zl=Ue({size:ms,disabled:Boolean,type:{type:String,values:jI,default:""},icon:{type:fi},nativeType:{type:String,values:NI,default:"button"},loading:Boolean,loadingIcon:{type:fi,default:()=>Ig},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:we([String,Object]),default:"button"}}),zI={click:e=>e instanceof MouseEvent};function St(e,t){HI(e)&&(e="100%");var n=UI(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function Zs(e){return Math.min(1,Math.max(0,e))}function HI(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function UI(e){return typeof e=="string"&&e.indexOf("%")!==-1}function Hv(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Qs(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Er(e){return e.length===1?"0"+e:String(e)}function VI(e,t,n){return{r:St(e,255)*255,g:St(t,255)*255,b:St(n,255)*255}}function od(e,t,n){e=St(e,255),t=St(t,255),n=St(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),d=0,v=0,c=(r+s)/2;if(r===s)v=0,d=0;else{var i=r-s;switch(v=c>.5?i/(2-r-s):i/(r+s),r){case e:d=(t-n)/i+(t<n?6:0);break;case t:d=(n-e)/i+2;break;case n:d=(e-t)/i+4;break}d/=6}return{h:d,s:v,l:c}}function Ga(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function WI(e,t,n){var r,s,d;if(e=St(e,360),t=St(t,100),n=St(n,100),t===0)s=n,d=n,r=n;else{var v=n<.5?n*(1+t):n+t-n*t,c=2*n-v;r=Ga(c,v,e+1/3),s=Ga(c,v,e),d=Ga(c,v,e-1/3)}return{r:r*255,g:s*255,b:d*255}}function ad(e,t,n){e=St(e,255),t=St(t,255),n=St(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),d=0,v=r,c=r-s,i=r===0?0:c/r;if(r===s)d=0;else{switch(r){case e:d=(t-n)/c+(t<n?6:0);break;case t:d=(n-e)/c+2;break;case n:d=(e-t)/c+4;break}d/=6}return{h:d,s:i,v}}function YI(e,t,n){e=St(e,360)*6,t=St(t,100),n=St(n,100);var r=Math.floor(e),s=e-r,d=n*(1-t),v=n*(1-s*t),c=n*(1-(1-s)*t),i=r%6,f=[n,v,d,d,c,n][i],h=[c,n,n,v,d,d][i],o=[d,d,c,n,n,v][i];return{r:f*255,g:h*255,b:o*255}}function ld(e,t,n,r){var s=[Er(Math.round(e).toString(16)),Er(Math.round(t).toString(16)),Er(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function XI(e,t,n,r,s){var d=[Er(Math.round(e).toString(16)),Er(Math.round(t).toString(16)),Er(Math.round(n).toString(16)),Er(GI(r))];return s&&d[0].startsWith(d[0].charAt(1))&&d[1].startsWith(d[1].charAt(1))&&d[2].startsWith(d[2].charAt(1))&&d[3].startsWith(d[3].charAt(1))?d[0].charAt(0)+d[1].charAt(0)+d[2].charAt(0)+d[3].charAt(0):d.join("")}function GI(e){return Math.round(parseFloat(e)*255).toString(16)}function cd(e){return jt(e)/255}function jt(e){return parseInt(e,16)}function KI(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Hl={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function qI(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,d=null,v=!1,c=!1;return typeof e=="string"&&(e=QI(e)),typeof e=="object"&&(Fn(e.r)&&Fn(e.g)&&Fn(e.b)?(t=VI(e.r,e.g,e.b),v=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Fn(e.h)&&Fn(e.s)&&Fn(e.v)?(r=Qs(e.s),s=Qs(e.v),t=YI(e.h,r,s),v=!0,c="hsv"):Fn(e.h)&&Fn(e.s)&&Fn(e.l)&&(r=Qs(e.s),d=Qs(e.l),t=WI(e.h,r,d),v=!0,c="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Hv(n),{ok:v,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var JI="[-\\+]?\\d+%?",ZI="[-\\+]?\\d*\\.\\d+%?",lr="(?:".concat(ZI,")|(?:").concat(JI,")"),Ka="[\\s|\\(]+(".concat(lr,")[,|\\s]+(").concat(lr,")[,|\\s]+(").concat(lr,")\\s*\\)?"),qa="[\\s|\\(]+(".concat(lr,")[,|\\s]+(").concat(lr,")[,|\\s]+(").concat(lr,")[,|\\s]+(").concat(lr,")\\s*\\)?"),on={CSS_UNIT:new RegExp(lr),rgb:new RegExp("rgb"+Ka),rgba:new RegExp("rgba"+qa),hsl:new RegExp("hsl"+Ka),hsla:new RegExp("hsla"+qa),hsv:new RegExp("hsv"+Ka),hsva:new RegExp("hsva"+qa),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function QI(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(Hl[e])e=Hl[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=on.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=on.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=on.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=on.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=on.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=on.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=on.hex8.exec(e),n?{r:jt(n[1]),g:jt(n[2]),b:jt(n[3]),a:cd(n[4]),format:t?"name":"hex8"}:(n=on.hex6.exec(e),n?{r:jt(n[1]),g:jt(n[2]),b:jt(n[3]),format:t?"name":"hex"}:(n=on.hex4.exec(e),n?{r:jt(n[1]+n[1]),g:jt(n[2]+n[2]),b:jt(n[3]+n[3]),a:cd(n[4]+n[4]),format:t?"name":"hex8"}:(n=on.hex3.exec(e),n?{r:jt(n[1]+n[1]),g:jt(n[2]+n[2]),b:jt(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Fn(e){return!!on.CSS_UNIT.exec(String(e))}var eM=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=KI(t)),this.originalInput=t;var s=qI(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,s,d=t.r/255,v=t.g/255,c=t.b/255;return d<=.03928?n=d/12.92:n=Math.pow((d+.055)/1.055,2.4),v<=.03928?r=v/12.92:r=Math.pow((v+.055)/1.055,2.4),c<=.03928?s=c/12.92:s=Math.pow((c+.055)/1.055,2.4),.2126*n+.7152*r+.0722*s},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=Hv(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=ad(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=ad(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=od(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=od(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),ld(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),XI(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(St(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(St(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+ld(this.r,this.g,this.b,!1),n=0,r=Object.entries(Hl);n<r.length;n++){var s=r[n],d=s[0],v=s[1];if(t===v)return d}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,s=this.a<1&&this.a>=0,d=!n&&s&&(t.startsWith("hex")||t==="name");return d?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=Zs(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=Zs(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=Zs(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=Zs(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),s=new e(t).toRgb(),d=n/100,v={r:(s.r-r.r)*d+r.r,g:(s.g-r.g)*d+r.g,b:(s.b-r.b)*d+r.b,a:(s.a-r.a)*d+r.a};return new e(v)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),s=360/n,d=[this];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,d.push(new e(r));return d},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,s=n.s,d=n.v,v=[],c=1/t;t--;)v.push(new e({h:r,s,v:d})),d=(d+c)%1;return v},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),s=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,s=[this],d=360/t,v=1;v<t;v++)s.push(new e({h:(r+v*d)%360,s:n.s,l:n.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function er(e,t=20){return e.mix("#141414",t).toString()}function tM(e){const t=gr(),n=Xe("button");return K(()=>{let r={};const s=e.color;if(s){const d=new eM(s),v=e.dark?d.tint(20).toString():er(d,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?er(d,90):d.tint(90).toString(),"text-color":s,"border-color":e.dark?er(d,50):d.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":v,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":v}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?er(d,90):d.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?er(d,50):d.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?er(d,80):d.tint(80).toString());else{const c=e.dark?er(d,30):d.tint(30).toString(),i=d.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":s,"text-color":i,"border-color":s,"hover-bg-color":c,"hover-text-color":i,"hover-border-color":c,"active-bg-color":v,"active-border-color":v}),t.value){const f=e.dark?er(d,50):d.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=f,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=f}}}return r})}const nM=xe({name:"ElButton"}),rM=xe({...nM,props:zl,emits:zI,setup(e,{expose:t,emit:n}){const r=e,s=tM(r),d=Xe("button"),{_ref:v,_size:c,_type:i,_disabled:f,_props:h,shouldAddSpace:o,handleClick:l}=$I(r,n);return t({ref:v,size:c,type:i,disabled:f,shouldAddSpace:o}),(a,u)=>(W(),Se(Jt(a.tag),mt({ref_key:"_ref",ref:v},S(h),{class:[S(d).b(),S(d).m(S(i)),S(d).m(S(c)),S(d).is("disabled",S(f)),S(d).is("loading",a.loading),S(d).is("plain",a.plain),S(d).is("round",a.round),S(d).is("circle",a.circle),S(d).is("text",a.text),S(d).is("link",a.link),S(d).is("has-bg",a.bg)],style:S(s),onClick:S(l)}),{default:ve(()=>[a.loading?(W(),ae(Me,{key:0},[a.$slots.loading?Ce(a.$slots,"loading",{key:0}):(W(),Se(S(ze),{key:1,class:pe(S(d).is("loading"))},{default:ve(()=>[(W(),Se(Jt(a.loadingIcon)))]),_:1},8,["class"]))],64)):a.icon||a.$slots.icon?(W(),Se(S(ze),{key:1},{default:ve(()=>[a.icon?(W(),Se(Jt(a.icon),{key:0})):Ce(a.$slots,"icon",{key:1})]),_:3})):ye("v-if",!0),a.$slots.default?(W(),ae("span",{key:2,class:pe({[S(d).em("text","expand")]:S(o)})},[Ce(a.$slots,"default")],2)):ye("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var iM=Fe(rM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const sM={size:zl.size,type:zl.type},oM=xe({name:"ElButtonGroup"}),aM=xe({...oM,props:sM,setup(e){const t=e;rt(zv,Pn({size:wt(t,"size"),type:wt(t,"type")}));const n=Xe("button");return(r,s)=>(W(),ae("div",{class:pe(`${S(n).b("group")}`)},[Ce(r.$slots,"default")],2))}});var Uv=Fe(aM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const Vv=At(iM,{ButtonGroup:Uv});Jc(Uv);function lM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}const cM=100,uM=600,ud={beforeMount(e,t){const n=t.value,{interval:r=cM,delay:s=uM}=Pe(n)?{}:n;let d,v;const c=()=>Pe(n)?n():n.handler(),i=()=>{v&&(clearTimeout(v),v=void 0),d&&(clearInterval(d),d=void 0)};e.addEventListener("mousedown",f=>{f.button===0&&(i(),c(),document.addEventListener("mouseup",()=>i(),{once:!0}),v=setTimeout(()=>{d=setInterval(()=>{c()},r)},s))})}},fM=xe({inheritAttrs:!1});function hM(e,t,n,r,s,d){return Ce(e.$slots,"default")}var dM=Fe(fM,[["render",hM],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const pM=xe({name:"ElCollectionItem",inheritAttrs:!1});function gM(e,t,n,r,s,d){return Ce(e.$slots,"default")}var vM=Fe(pM,[["render",gM],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Wv="data-el-collection-item",Yv=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),s=Symbol(n),d={...dM,name:t,setup(){const c=fe(null),i=new Map;rt(r,{itemMap:i,getItems:()=>{const h=S(c);if(!h)return[];const o=Array.from(h.querySelectorAll(`[${Wv}]`));return[...i.values()].sort((a,u)=>o.indexOf(a.ref)-o.indexOf(u.ref))},collectionRef:c})}},v={...vM,name:n,setup(c,{attrs:i}){const f=fe(null),h=Ae(r,void 0);rt(s,{collectionItemRef:f}),Qe(()=>{const o=S(f);o&&h.itemMap.set(o,{ref:o,...i})}),Bt(()=>{const o=S(f);h.itemMap.delete(o)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:d,ElCollectionItem:v}},mM=Ue({style:{type:we([String,Array,Object])},currentTabId:{type:we(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:we(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:_M,ElCollectionItem:yM,COLLECTION_INJECTION_KEY:pu,COLLECTION_ITEM_INJECTION_KEY:bM}=Yv("RovingFocusGroup"),gu=Symbol("elRovingFocusGroup"),Xv=Symbol("elRovingFocusGroupItem"),wM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},CM=(e,t)=>{if(t!=="rtl")return e;switch(e){case Ve.right:return Ve.left;case Ve.left:return Ve.right;default:return e}},SM=(e,t,n)=>{const r=CM(e.key,n);if(!(t==="vertical"&&[Ve.left,Ve.right].includes(r))&&!(t==="horizontal"&&[Ve.up,Ve.down].includes(r)))return wM[r]},xM=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),vu=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},fd="currentTabIdChange",hd="rovingFocusGroup.entryFocus",TM={bubbles:!1,cancelable:!0},OM=xe({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:mM,emits:[fd,"entryFocus"],setup(e,{emit:t}){var n;const r=fe((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),s=fe(!1),d=fe(!1),v=fe(null),{getItems:c}=Ae(pu,void 0),i=K(()=>[{outline:"none"},e.style]),f=g=>{t(fd,g)},h=()=>{s.value=!0},o=ct(g=>{var p;(p=e.onMousedown)==null||p.call(e,g)},()=>{d.value=!0}),l=ct(g=>{var p;(p=e.onFocus)==null||p.call(e,g)},g=>{const p=!S(d),{target:m,currentTarget:_}=g;if(m===_&&p&&!S(s)){const y=new Event(hd,TM);if(_?.dispatchEvent(y),!y.defaultPrevented){const b=c().filter(B=>B.focusable),w=b.find(B=>B.active),C=b.find(B=>B.id===S(r)),O=[w,C,...b].filter(Boolean).map(B=>B.ref);vu(O)}}d.value=!1}),a=ct(g=>{var p;(p=e.onBlur)==null||p.call(e,g)},()=>{s.value=!1}),u=(...g)=>{t("entryFocus",...g)};rt(gu,{currentTabbedId:Ss(r),loop:wt(e,"loop"),tabIndex:K(()=>S(s)?-1:0),rovingFocusGroupRef:v,rovingFocusGroupRootStyle:i,orientation:wt(e,"orientation"),dir:wt(e,"dir"),onItemFocus:f,onItemShiftTab:h,onBlur:a,onFocus:l,onMousedown:o}),ke(()=>e.currentTabId,g=>{r.value=g??null}),Ot(v,hd,u)}});function EM(e,t,n,r,s,d){return Ce(e.$slots,"default")}var PM=Fe(OM,[["render",EM],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const kM=xe({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:_M,ElRovingFocusGroupImpl:PM}});function AM(e,t,n,r,s,d){const v=je("el-roving-focus-group-impl"),c=je("el-focus-group-collection");return W(),Se(c,null,{default:ve(()=>[he(v,v0(Hp(e.$attrs)),{default:ve(()=>[Ce(e.$slots,"default")]),_:3},16)]),_:3})}var IM=Fe(kM,[["render",AM],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const MM=xe({components:{ElRovingFocusCollectionItem:yM},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:s,onItemShiftTab:d}=Ae(gu,void 0),{getItems:v}=Ae(pu,void 0),c=da(),i=fe(null),f=ct(a=>{t("mousedown",a)},a=>{e.focusable?s(S(c)):a.preventDefault()}),h=ct(a=>{t("focus",a)},()=>{s(S(c))}),o=ct(a=>{t("keydown",a)},a=>{const{key:u,shiftKey:g,target:p,currentTarget:m}=a;if(u===Ve.tab&&g){d();return}if(p!==m)return;const _=SM(a);if(_){a.preventDefault();let b=v().filter(w=>w.focusable).map(w=>w.ref);switch(_){case"last":{b.reverse();break}case"prev":case"next":{_==="prev"&&b.reverse();const w=b.indexOf(m);b=r.value?xM(b,w+1):b.slice(w+1);break}}nt(()=>{vu(b)})}}),l=K(()=>n.value===S(c));return rt(Xv,{rovingFocusGroupItemRef:i,tabIndex:K(()=>S(l)?0:-1),handleMousedown:f,handleFocus:h,handleKeydown:o}),{id:c,handleKeydown:o,handleFocus:h,handleMousedown:f}}});function RM(e,t,n,r,s,d){const v=je("el-roving-focus-collection-item");return W(),Se(v,{id:e.id,focusable:e.focusable,active:e.active},{default:ve(()=>[Ce(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var DM=Fe(MM,[["render",RM],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const ho=Ue({trigger:_s.trigger,effect:{...Kt.effect,default:"light"},type:{type:we(String)},placement:{type:we(String),default:"bottom"},popperOptions:{type:we(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:we([Number,String]),default:0},maxHeight:{type:we([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:we(Object)},teleported:Kt.teleported}),Gv=Ue({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:fi}}),FM=Ue({onKeydown:{type:we(Function)}}),LM=[Ve.down,Ve.pageDown,Ve.home],Kv=[Ve.up,Ve.pageUp,Ve.end],BM=[...LM,...Kv],{ElCollection:$M,ElCollectionItem:jM,COLLECTION_INJECTION_KEY:NM,COLLECTION_ITEM_INJECTION_KEY:zM}=Yv("Dropdown"),va=Symbol("elDropdown"),{ButtonGroup:HM}=Vv,UM=xe({name:"ElDropdown",components:{ElButton:Vv,ElButtonGroup:HM,ElScrollbar:AA,ElDropdownCollection:$M,ElTooltip:Is,ElRovingFocusGroup:IM,ElOnlyChild:Fv,ElIcon:ze,ArrowDown:na},props:ho,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=Et(),r=Xe("dropdown"),{t:s}=zr(),d=fe(),v=fe(),c=fe(null),i=fe(null),f=fe(null),h=fe(null),o=fe(!1),l=[Ve.enter,Ve.space,Ve.down],a=K(()=>({maxHeight:ps(e.maxHeight)})),u=K(()=>[r.m(w.value)]),g=K(()=>VT(e.trigger)),p=da().value,m=K(()=>e.id||p);ke([d,g],([G,Q],[T])=>{var R,F,I;(R=T?.$el)!=null&&R.removeEventListener&&T.$el.removeEventListener("pointerenter",x),(F=G?.$el)!=null&&F.removeEventListener&&G.$el.removeEventListener("pointerenter",x),(I=G?.$el)!=null&&I.addEventListener&&Q.includes("hover")&&G.$el.addEventListener("pointerenter",x)},{immediate:!0}),Bt(()=>{var G,Q;(Q=(G=d.value)==null?void 0:G.$el)!=null&&Q.removeEventListener&&d.value.$el.removeEventListener("pointerenter",x)});function _(){y()}function y(){var G;(G=c.value)==null||G.onClose()}function b(){var G;(G=c.value)==null||G.onOpen()}const w=As();function C(...G){t("command",...G)}function x(){var G,Q;(Q=(G=d.value)==null?void 0:G.$el)==null||Q.focus()}function O(){}function B(){const G=S(i);g.value.includes("hover")&&G?.focus(),h.value=null}function Y(G){h.value=G}function X(G){o.value||(G.preventDefault(),G.stopImmediatePropagation())}function N(){t("visible-change",!0)}function j(G){G?.type==="keydown"&&i.value.focus()}function q(){t("visible-change",!1)}return rt(va,{contentRef:i,role:K(()=>e.role),triggerId:m,isUsingKeyboard:o,onItemEnter:O,onItemLeave:B}),rt("elDropdown",{instance:n,dropdownSize:w,handleClick:_,commandHandler:C,trigger:wt(e,"trigger"),hideOnClick:wt(e,"hideOnClick")}),{t:s,ns:r,scrollbar:f,wrapStyle:a,dropdownTriggerKls:u,dropdownSize:w,triggerId:m,triggerKeys:l,currentTabId:h,handleCurrentTabIdChange:Y,handlerMainButtonClick:G=>{t("click",G)},handleEntryFocus:X,handleClose:y,handleOpen:b,handleBeforeShowTooltip:N,handleShowTooltip:j,handleBeforeHideTooltip:q,onFocusAfterTrapped:G=>{var Q,T;G.preventDefault(),(T=(Q=i.value)==null?void 0:Q.focus)==null||T.call(Q,{preventScroll:!0})},popperRef:c,contentRef:i,triggeringElementRef:d,referenceElementRef:v}}});function VM(e,t,n,r,s,d){var v;const c=je("el-dropdown-collection"),i=je("el-roving-focus-group"),f=je("el-scrollbar"),h=je("el-only-child"),o=je("el-tooltip"),l=je("el-button"),a=je("arrow-down"),u=je("el-icon"),g=je("el-button-group");return W(),ae("div",{class:pe([e.ns.b(),e.ns.is("disabled",e.disabled)])},[he(o,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(v=e.referenceElementRef)==null?void 0:v.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},yl({content:ve(()=>[he(f,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:ve(()=>[he(i,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:ve(()=>[he(c,null,{default:ve(()=>[Ce(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:ve(()=>[he(h,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:ve(()=>[Ce(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(W(),Se(g,{key:0},{default:ve(()=>[he(l,mt({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:ve(()=>[Ce(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),he(l,mt({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:ve(()=>[he(u,{class:pe(e.ns.e("icon"))},{default:ve(()=>[he(a)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):ye("v-if",!0)],2)}var WM=Fe(UM,[["render",VM],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const YM=xe({name:"DropdownItemImpl",components:{ElIcon:ze},props:Gv,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=Xe("dropdown"),{role:r}=Ae(va,void 0),{collectionItemRef:s}=Ae(zM,void 0),{collectionItemRef:d}=Ae(bM,void 0),{rovingFocusGroupItemRef:v,tabIndex:c,handleFocus:i,handleKeydown:f,handleMousedown:h}=Ae(Xv,void 0),o=ov(s,d,v),l=K(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),a=ct(u=>{const{code:g}=u;if(g===Ve.enter||g===Ve.space)return u.preventDefault(),u.stopImmediatePropagation(),t("clickimpl",u),!0},f);return{ns:n,itemRef:o,dataset:{[Wv]:""},role:l,tabIndex:c,handleFocus:i,handleKeydown:a,handleMousedown:h}}}),XM=["aria-disabled","tabindex","role"];function GM(e,t,n,r,s,d){const v=je("el-icon");return W(),ae(Me,null,[e.divided?(W(),ae("li",mt({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):ye("v-if",!0),J("li",mt({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=c=>e.$emit("clickimpl",c)),onFocus:t[1]||(t[1]=(...c)=>e.handleFocus&&e.handleFocus(...c)),onKeydown:t[2]||(t[2]=vt((...c)=>e.handleKeydown&&e.handleKeydown(...c),["self"])),onMousedown:t[3]||(t[3]=(...c)=>e.handleMousedown&&e.handleMousedown(...c)),onPointermove:t[4]||(t[4]=c=>e.$emit("pointermove",c)),onPointerleave:t[5]||(t[5]=c=>e.$emit("pointerleave",c))}),[e.icon?(W(),Se(v,{key:0},{default:ve(()=>[(W(),Se(Jt(e.icon)))]),_:1})):ye("v-if",!0),Ce(e.$slots,"default")],16,XM)],64)}var KM=Fe(YM,[["render",GM],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const qv=()=>{const e=Ae("elDropdown",{}),t=K(()=>e?.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},qM=xe({name:"ElDropdownItem",components:{ElDropdownCollectionItem:jM,ElRovingFocusItem:DM,ElDropdownItemImpl:KM},inheritAttrs:!1,props:Gv,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=qv(),s=Et(),d=fe(null),v=K(()=>{var a,u;return(u=(a=S(d))==null?void 0:a.textContent)!=null?u:""}),{onItemEnter:c,onItemLeave:i}=Ae(va,void 0),f=ct(a=>(t("pointermove",a),a.defaultPrevented),Kf(a=>{if(e.disabled){i(a);return}const u=a.currentTarget;u===document.activeElement||u.contains(document.activeElement)||(c(a),a.defaultPrevented||u?.focus())})),h=ct(a=>(t("pointerleave",a),a.defaultPrevented),Kf(a=>{i(a)})),o=ct(a=>{if(!e.disabled)return t("click",a),a.type!=="keydown"&&a.defaultPrevented},a=>{var u,g,p;if(e.disabled){a.stopImmediatePropagation();return}(u=r?.hideOnClick)!=null&&u.value&&((g=r.handleClick)==null||g.call(r)),(p=r.commandHandler)==null||p.call(r,e.command,s,a)}),l=K(()=>({...e,...n}));return{handleClick:o,handlePointerMove:f,handlePointerLeave:h,textContent:v,propsAndAttrs:l}}});function JM(e,t,n,r,s,d){var v;const c=je("el-dropdown-item-impl"),i=je("el-roving-focus-item"),f=je("el-dropdown-collection-item");return W(),Se(f,{disabled:e.disabled,"text-value":(v=e.textValue)!=null?v:e.textContent},{default:ve(()=>[he(i,{focusable:!e.disabled},{default:ve(()=>[he(c,mt(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:ve(()=>[Ce(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Jv=Fe(qM,[["render",JM],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const ZM=xe({name:"ElDropdownMenu",props:FM,setup(e){const t=Xe("dropdown"),{_elDropdownSize:n}=qv(),r=n.value,{focusTrapRef:s,onKeydown:d}=Ae($v,void 0),{contentRef:v,role:c,triggerId:i}=Ae(va,void 0),{collectionRef:f,getItems:h}=Ae(NM,void 0),{rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,tabIndex:a,onBlur:u,onFocus:g,onMousedown:p}=Ae(gu,void 0),{collectionRef:m}=Ae(pu,void 0),_=K(()=>[t.b("menu"),t.bm("menu",r?.value)]),y=ov(v,f,s,o,m),b=ct(C=>{var x;(x=e.onKeydown)==null||x.call(e,C)},C=>{const{currentTarget:x,code:O,target:B}=C;if(x.contains(B),Ve.tab===O&&C.stopImmediatePropagation(),C.preventDefault(),B!==S(v)||!BM.includes(O))return;const X=h().filter(N=>!N.disabled).map(N=>N.ref);Kv.includes(O)&&X.reverse(),vu(X)});return{size:r,rovingFocusGroupRootStyle:l,tabIndex:a,dropdownKls:_,role:c,triggerId:i,dropdownListWrapperRef:y,handleKeydown:C=>{b(C),d(C)},onBlur:u,onFocus:g,onMousedown:p}}}),QM=["role","aria-labelledby"];function eR(e,t,n,r,s,d){return W(),ae("ul",{ref:e.dropdownListWrapperRef,class:pe(e.dropdownKls),style:Re(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...v)=>e.onBlur&&e.onBlur(...v)),onFocus:t[1]||(t[1]=(...v)=>e.onFocus&&e.onFocus(...v)),onKeydown:t[2]||(t[2]=vt((...v)=>e.handleKeydown&&e.handleKeydown(...v),["self"])),onMousedown:t[3]||(t[3]=vt((...v)=>e.onMousedown&&e.onMousedown(...v),["self"]))},[Ce(e.$slots,"default")],46,QM)}var Zv=Fe(ZM,[["render",eR],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const tR=At(WM,{DropdownItem:Jv,DropdownMenu:Zv}),nR=Jc(Jv),rR=Jc(Zv),iR=Ue({urlList:{type:we(Array),default:()=>Dr([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),sR={close:()=>!0,switch:e=>Ye(e),rotate:e=>Ye(e)},oR=["src"],aR=xe({name:"ElImageViewer"}),lR=xe({...aR,props:iR,emits:sR,setup(e,{expose:t,emit:n}){const r=e,s={CONTAIN:{name:"contain",icon:Co(tC)},ORIGINAL:{name:"original",icon:Co(GC)}},{t:d}=zr(),v=Xe("image-viewer"),{nextZIndex:c}=au(),i=fe(),f=fe([]),h=qd(),o=fe(!0),l=fe(r.initialIndex),a=Wt(s.CONTAIN),u=fe({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=K(()=>{const{urlList:T}=r;return T.length<=1}),p=K(()=>l.value===0),m=K(()=>l.value===r.urlList.length-1),_=K(()=>r.urlList[l.value]),y=K(()=>[v.e("btn"),v.e("prev"),v.is("disabled",!r.infinite&&p.value)]),b=K(()=>[v.e("btn"),v.e("next"),v.is("disabled",!r.infinite&&m.value)]),w=K(()=>{const{scale:T,deg:R,offsetX:F,offsetY:I,enableTransition:ee}=u.value;let D=F/T,P=I/T;switch(R%360){case 90:case-270:[D,P]=[P,-D];break;case 180:case-180:[D,P]=[-D,-P];break;case 270:case-90:[D,P]=[-P,D];break}const $={transform:`scale(${T}) rotate(${R}deg) translate(${D}px, ${P}px)`,transition:ee?"transform .3s":""};return a.value.name===s.CONTAIN.name&&($.maxWidth=$.maxHeight="100%"),$}),C=K(()=>Ye(r.zIndex)?r.zIndex:c());function x(){B(),n("close")}function O(){const T=co(F=>{switch(F.code){case Ve.esc:r.closeOnPressEscape&&x();break;case Ve.space:q();break;case Ve.left:le();break;case Ve.up:Q("zoomIn");break;case Ve.right:G();break;case Ve.down:Q("zoomOut");break}}),R=co(F=>{const I=F.deltaY||F.deltaX;Q(I<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});h.run(()=>{Ot(document,"keydown",T),Ot(document,"wheel",R)})}function B(){h.stop()}function Y(){o.value=!1}function X(T){o.value=!1,T.target.alt=d("el.image.error")}function N(T){if(o.value||T.button!==0||!i.value)return;u.value.enableTransition=!1;const{offsetX:R,offsetY:F}=u.value,I=T.pageX,ee=T.pageY,D=co($=>{u.value={...u.value,offsetX:R+$.pageX-I,offsetY:F+$.pageY-ee}}),P=Ot(document,"mousemove",D);Ot(document,"mouseup",()=>{P()}),T.preventDefault()}function j(){u.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function q(){if(o.value)return;const T=$l(s),R=Object.values(s),F=a.value.name,ee=(R.findIndex(D=>D.name===F)+1)%T.length;a.value=s[T[ee]],j()}function se(T){const R=r.urlList.length;l.value=(T+R)%R}function le(){p.value&&!r.infinite||se(l.value-1)}function G(){m.value&&!r.infinite||se(l.value+1)}function Q(T,R={}){if(o.value)return;const{minScale:F,maxScale:I}=r,{zoomRate:ee,rotateDeg:D,enableTransition:P}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...R};switch(T){case"zoomOut":u.value.scale>F&&(u.value.scale=Number.parseFloat((u.value.scale/ee).toFixed(3)));break;case"zoomIn":u.value.scale<I&&(u.value.scale=Number.parseFloat((u.value.scale*ee).toFixed(3)));break;case"clockwise":u.value.deg+=D,n("rotate",u.value.deg);break;case"anticlockwise":u.value.deg-=D,n("rotate",u.value.deg);break}u.value.enableTransition=P}return ke(_,()=>{nt(()=>{const T=f.value[0];T?.complete||(o.value=!0)})}),ke(l,T=>{j(),n("switch",T)}),Qe(()=>{var T,R;O(),(R=(T=i.value)==null?void 0:T.focus)==null||R.call(T)}),t({setActiveItem:se}),(T,R)=>(W(),Se(kc,{to:"body",disabled:!T.teleported},[he(kn,{name:"viewer-fade",appear:""},{default:ve(()=>[J("div",{ref_key:"wrapper",ref:i,tabindex:-1,class:pe(S(v).e("wrapper")),style:Re({zIndex:S(C)})},[J("div",{class:pe(S(v).e("mask")),onClick:R[0]||(R[0]=vt(F=>T.hideOnClickModal&&x(),["self"]))},null,2),ye(" CLOSE "),J("span",{class:pe([S(v).e("btn"),S(v).e("close")]),onClick:x},[he(S(ze),null,{default:ve(()=>[he(S(ra))]),_:1})],2),ye(" ARROW "),S(g)?ye("v-if",!0):(W(),ae(Me,{key:0},[J("span",{class:pe(S(y)),onClick:le},[he(S(ze),null,{default:ve(()=>[he(S(Og))]),_:1})],2),J("span",{class:pe(S(b)),onClick:G},[he(S(ze),null,{default:ve(()=>[he(S(s1))]),_:1})],2)],64)),ye(" ACTIONS "),J("div",{class:pe([S(v).e("btn"),S(v).e("actions")])},[J("div",{class:pe(S(v).e("actions__inner"))},[he(S(ze),{onClick:R[1]||(R[1]=F=>Q("zoomOut"))},{default:ve(()=>[he(S(OS))]),_:1}),he(S(ze),{onClick:R[2]||(R[2]=F=>Q("zoomIn"))},{default:ve(()=>[he(S(Rg))]),_:1}),J("i",{class:pe(S(v).e("actions__divider"))},null,2),he(S(ze),{onClick:q},{default:ve(()=>[(W(),Se(Jt(S(a).icon)))]),_:1}),J("i",{class:pe(S(v).e("actions__divider"))},null,2),he(S(ze),{onClick:R[3]||(R[3]=F=>Q("anticlockwise"))},{default:ve(()=>[he(S(LC))]),_:1}),he(S(ze),{onClick:R[4]||(R[4]=F=>Q("clockwise"))},{default:ve(()=>[he(S(HC))]),_:1})],2)],2),ye(" CANVAS "),J("div",{class:pe(S(v).e("canvas"))},[(W(!0),ae(Me,null,ot(T.urlList,(F,I)=>et((W(),ae("img",{ref_for:!0,ref:ee=>f.value[I]=ee,key:F,src:F,style:Re(S(w)),class:pe(S(v).e("img")),onLoad:Y,onError:X,onMousedown:N},null,46,oR)),[[ht,I===l.value]])),128))],2),Ce(T.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var cR=Fe(lR,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const uR=At(cR),fR=Ue({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:we([String,Object])},previewSrcList:{type:we(Array),default:()=>Dr([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),hR={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>Ye(e),close:()=>!0,show:()=>!0},dR=["src","loading"],pR={key:0},gR=xe({name:"ElImage",inheritAttrs:!1}),vR=xe({...gR,props:fR,emits:hR,setup(e,{emit:t}){const n=e;let r="";const{t:s}=zr(),d=Xe("image"),v=Tc(),c=av(),i=fe(),f=fe(!1),h=fe(!0),o=fe(!1),l=fe(),a=fe(),u=tt&&"loading"in HTMLImageElement.prototype;let g,p;const m=K(()=>[d.e("inner"),b.value&&d.e("preview"),h.value&&d.is("loading")]),_=K(()=>v.style),y=K(()=>{const{fit:Q}=n;return tt&&Q?{objectFit:Q}:{}}),b=K(()=>{const{previewSrcList:Q}=n;return Array.isArray(Q)&&Q.length>0}),w=K(()=>{const{previewSrcList:Q,initialIndex:T}=n;let R=T;return T>Q.length-1&&(R=0),R}),C=K(()=>n.loading==="eager"?!1:!u&&n.loading==="lazy"||n.lazy),x=()=>{tt&&(h.value=!0,f.value=!1,i.value=n.src)};function O(Q){h.value=!1,f.value=!1,t("load",Q)}function B(Q){h.value=!1,f.value=!0,t("error",Q)}function Y(){s2(l.value,a.value)&&(x(),j())}const X=US(Y,200,!0);async function N(){var Q;if(!tt)return;await nt();const{scrollContainer:T}=n;ui(T)?a.value=T:De(T)&&T!==""?a.value=(Q=document.querySelector(T))!=null?Q:void 0:l.value&&(a.value=yP(l.value)),a.value&&(g=Ot(a,"scroll",X),setTimeout(()=>Y(),100))}function j(){!tt||!a.value||!X||(g?.(),a.value=void 0)}function q(Q){if(Q.ctrlKey){if(Q.deltaY<0)return Q.preventDefault(),!1;if(Q.deltaY>0)return Q.preventDefault(),!1}}function se(){b.value&&(p=Ot("wheel",q,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",o.value=!0,t("show"))}function le(){p?.(),document.body.style.overflow=r,o.value=!1,t("close")}function G(Q){t("switch",Q)}return ke(()=>n.src,()=>{C.value?(h.value=!0,f.value=!1,j(),N()):x()}),Qe(()=>{C.value?N():x()}),(Q,T)=>(W(),ae("div",{ref_key:"container",ref:l,class:pe([S(d).b(),Q.$attrs.class]),style:Re(S(_))},[f.value?Ce(Q.$slots,"error",{key:0},()=>[J("div",{class:pe(S(d).e("error"))},Be(S(s)("el.image.error")),3)]):(W(),ae(Me,{key:1},[i.value!==void 0?(W(),ae("img",mt({key:0},S(c),{src:i.value,loading:Q.loading,style:S(y),class:S(m),onClick:se,onLoad:O,onError:B}),null,16,dR)):ye("v-if",!0),h.value?(W(),ae("div",{key:1,class:pe(S(d).e("wrapper"))},[Ce(Q.$slots,"placeholder",{},()=>[J("div",{class:pe(S(d).e("placeholder"))},null,2)])],2)):ye("v-if",!0)],64)),S(b)?(W(),ae(Me,{key:2},[o.value?(W(),Se(S(uR),{key:0,"z-index":Q.zIndex,"initial-index":S(w),infinite:Q.infinite,"zoom-rate":Q.zoomRate,"min-scale":Q.minScale,"max-scale":Q.maxScale,"url-list":Q.previewSrcList,"hide-on-click-modal":Q.hideOnClickModal,teleported:Q.previewTeleported,"close-on-press-escape":Q.closeOnPressEscape,onClose:le,onSwitch:G},{default:ve(()=>[Q.$slots.viewer?(W(),ae("div",pR,[Ce(Q.$slots,"viewer")])):ye("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):ye("v-if",!0)],64)):ye("v-if",!0)],6))}});var mR=Fe(vR,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const Li=At(mR),_R=Ue({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:ms,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Ye(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),yR={[fa]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Ar]:e=>Ye(e)||un(e),[Ht]:e=>Ye(e)||un(e)},bR=["aria-label","onKeydown"],wR=["aria-label","onKeydown"],CR=xe({name:"ElInputNumber"}),SR=xe({...CR,props:_R,emits:yR,setup(e,{expose:t,emit:n}){const r=e,{t:s}=zr(),d=Xe("input-number"),v=fe(),c=Pn({currentValue:r.modelValue,userInput:null}),{formItem:i}=pa(),f=K(()=>Ye(r.modelValue)&&r.modelValue<=r.min),h=K(()=>Ye(r.modelValue)&&r.modelValue>=r.max),o=K(()=>{const j=m(r.step);return Ni(r.precision)?Math.max(m(r.modelValue),j):(j>r.precision,r.precision)}),l=K(()=>r.controls&&r.controlsPosition==="right"),a=As(),u=gr(),g=K(()=>{if(c.userInput!==null)return c.userInput;let j=c.currentValue;if(un(j))return"";if(Ye(j)){if(Number.isNaN(j))return"";Ni(r.precision)||(j=j.toFixed(r.precision))}return j}),p=(j,q)=>{if(Ni(q)&&(q=o.value),q===0)return Math.round(j);let se=String(j);const le=se.indexOf(".");if(le===-1||!se.replace(".","").split("")[le+q])return j;const T=se.length;return se.charAt(T-1)==="5"&&(se=`${se.slice(0,Math.max(0,T-1))}6`),Number.parseFloat(Number(se).toFixed(q))},m=j=>{if(un(j))return 0;const q=j.toString(),se=q.indexOf(".");let le=0;return se!==-1&&(le=q.length-se-1),le},_=(j,q=1)=>Ye(j)?p(j+r.step*q):c.currentValue,y=()=>{if(r.readonly||u.value||h.value)return;const j=Number(g.value)||0,q=_(j);C(q),n(Ar,c.currentValue)},b=()=>{if(r.readonly||u.value||f.value)return;const j=Number(g.value)||0,q=_(j,-1);C(q),n(Ar,c.currentValue)},w=(j,q)=>{const{max:se,min:le,step:G,precision:Q,stepStrictly:T,valueOnClear:R}=r;se<le&&Oi("InputNumber","min should not be greater than max.");let F=Number(j);if(un(j)||Number.isNaN(F))return null;if(j===""){if(R===null)return null;F=De(R)?{min:le,max:se}[R]:R}return T&&(F=p(Math.round(F/G)*G,Q)),Ni(Q)||(F=p(F,Q)),(F>se||F<le)&&(F=F>se?se:le,q&&n(Ht,F)),F},C=(j,q=!0)=>{var se;const le=c.currentValue,G=w(j);if(!q){n(Ht,G);return}le!==G&&(c.userInput=null,n(Ht,G),n(fa,G,le),r.validateEvent&&((se=i?.validate)==null||se.call(i,"change").catch(Q=>void 0)),c.currentValue=G)},x=j=>{c.userInput=j;const q=j===""?null:Number(j);n(Ar,q),C(q,!1)},O=j=>{const q=j!==""?Number(j):"";(Ye(q)&&!Number.isNaN(q)||j==="")&&C(q),c.userInput=null},B=()=>{var j,q;(q=(j=v.value)==null?void 0:j.focus)==null||q.call(j)},Y=()=>{var j,q;(q=(j=v.value)==null?void 0:j.blur)==null||q.call(j)},X=j=>{n("focus",j)},N=j=>{var q;n("blur",j),r.validateEvent&&((q=i?.validate)==null||q.call(i,"blur").catch(se=>void 0))};return ke(()=>r.modelValue,j=>{const q=w(c.userInput),se=w(j,!0);!Ye(q)&&(!q||q!==se)&&(c.currentValue=se,c.userInput=null)},{immediate:!0}),Qe(()=>{var j;const{min:q,max:se,modelValue:le}=r,G=(j=v.value)==null?void 0:j.input;if(G.setAttribute("role","spinbutton"),Number.isFinite(se)?G.setAttribute("aria-valuemax",String(se)):G.removeAttribute("aria-valuemax"),Number.isFinite(q)?G.setAttribute("aria-valuemin",String(q)):G.removeAttribute("aria-valuemin"),G.setAttribute("aria-valuenow",c.currentValue||c.currentValue===0?String(c.currentValue):""),G.setAttribute("aria-disabled",String(u.value)),!Ye(le)&&le!=null){let Q=Number(le);Number.isNaN(Q)&&(Q=null),n(Ht,Q)}}),qo(()=>{var j,q;const se=(j=v.value)==null?void 0:j.input;se?.setAttribute("aria-valuenow",`${(q=c.currentValue)!=null?q:""}`)}),t({focus:B,blur:Y}),(j,q)=>(W(),ae("div",{class:pe([S(d).b(),S(d).m(S(a)),S(d).is("disabled",S(u)),S(d).is("without-controls",!j.controls),S(d).is("controls-right",S(l))]),onDragstart:q[1]||(q[1]=vt(()=>{},["prevent"]))},[j.controls?et((W(),ae("span",{key:0,role:"button","aria-label":S(s)("el.inputNumber.decrease"),class:pe([S(d).e("decrease"),S(d).is("disabled",S(f))]),onKeydown:qr(b,["enter"])},[he(S(ze),null,{default:ve(()=>[S(l)?(W(),Se(S(na),{key:0})):(W(),Se(S(xC),{key:1}))]),_:1})],42,bR)),[[S(ud),b]]):ye("v-if",!0),j.controls?et((W(),ae("span",{key:1,role:"button","aria-label":S(s)("el.inputNumber.increase"),class:pe([S(d).e("increase"),S(d).is("disabled",S(h))]),onKeydown:qr(y,["enter"])},[he(S(ze),null,{default:ve(()=>[S(l)?(W(),Se(S(Eg),{key:0})):(W(),Se(S(AC),{key:1}))]),_:1})],42,wR)),[[S(ud),y]]):ye("v-if",!0),he(S(Nl),{id:j.id,ref_key:"input",ref:v,type:"number",step:j.step,"model-value":S(g),placeholder:j.placeholder,readonly:j.readonly,disabled:S(u),size:S(a),max:j.max,min:j.min,name:j.name,label:j.label,"validate-event":!1,onWheel:q[0]||(q[0]=vt(()=>{},["prevent"])),onKeydown:[qr(vt(y,["prevent"]),["up"]),qr(vt(b,["prevent"]),["down"])],onBlur:N,onFocus:X,onInput:x,onChange:O},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var xR=Fe(SR,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const TR=At(xR),OR=Ue({trigger:_s.trigger,placement:ho.placement,disabled:_s.disabled,visible:Kt.visible,transition:Kt.transition,popperOptions:ho.popperOptions,tabindex:ho.tabindex,content:Kt.content,popperStyle:Kt.popperStyle,popperClass:Kt.popperClass,enterable:{...Kt.enterable,default:!0},effect:{...Kt.effect,default:"light"},teleported:Kt.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),ER={"update:visible":e=>qc(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},PR="onUpdate:visible",kR=xe({name:"ElPopover"}),AR=xe({...kR,props:OR,emits:ER,setup(e,{expose:t,emit:n}){const r=e,s=K(()=>r[PR]),d=Xe("popover"),v=fe(),c=K(()=>{var p;return(p=S(v))==null?void 0:p.popperRef}),i=K(()=>[{width:ps(r.width)},r.popperStyle]),f=K(()=>[d.b(),r.popperClass,{[d.m("plain")]:!!r.content}]),h=K(()=>r.transition===`${d.namespace.value}-fade-in-linear`),o=()=>{var p;(p=v.value)==null||p.hide()},l=()=>{n("before-enter")},a=()=>{n("before-leave")},u=()=>{n("after-enter")},g=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:c,hide:o}),(p,m)=>(W(),Se(S(Is),mt({ref_key:"tooltipRef",ref:v},p.$attrs,{trigger:p.trigger,placement:p.placement,disabled:p.disabled,visible:p.visible,transition:p.transition,"popper-options":p.popperOptions,tabindex:p.tabindex,content:p.content,offset:p.offset,"show-after":p.showAfter,"hide-after":p.hideAfter,"auto-close":p.autoClose,"show-arrow":p.showArrow,"aria-label":p.title,effect:p.effect,enterable:p.enterable,"popper-class":S(f),"popper-style":S(i),teleported:p.teleported,persistent:p.persistent,"gpu-acceleration":S(h),"onUpdate:visible":S(s),onBeforeShow:l,onBeforeHide:a,onShow:u,onHide:g}),{content:ve(()=>[p.title?(W(),ae("div",{key:0,class:pe(S(d).e("title")),role:"title"},Be(p.title),3)):ye("v-if",!0),Ce(p.$slots,"default",{},()=>[Os(Be(p.content),1)])]),default:ve(()=>[p.$slots.reference?Ce(p.$slots,"reference",{key:0}):ye("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var IR=Fe(AR,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const dd=(e,t)=>{const n=t.arg||t.value,r=n?.popperRef;r&&(r.triggerRef=e)};var MR={mounted(e,t){dd(e,t)},updated(e,t){dd(e,t)}};const RR="popover",DR=xP(MR,RR),FR=At(IR,{directive:DR}),LR=Ue({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:we(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:we([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:we(Function),default:e=>`${e}%`}}),BR=["aria-valuenow"],$R={viewBox:"0 0 100 100"},jR=["d","stroke","stroke-linecap","stroke-width"],NR=["d","stroke","opacity","stroke-linecap","stroke-width"],zR={key:0},HR=xe({name:"ElProgress"}),UR=xe({...HR,props:LR,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=Xe("progress"),s=K(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:_(t.percentage)})),d=K(()=>(t.strokeWidth/t.width*100).toFixed(1)),v=K(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(d.value)/2}`,10):0),c=K(()=>{const y=v.value,b=t.type==="dashboard";return`
          M 50 50
          m 0 ${b?"":"-"}${y}
          a ${y} ${y} 0 1 1 0 ${b?"-":""}${y*2}
          a ${y} ${y} 0 1 1 0 ${b?"":"-"}${y*2}
          `}),i=K(()=>2*Math.PI*v.value),f=K(()=>t.type==="dashboard"?.75:1),h=K(()=>`${-1*i.value*(1-f.value)/2}px`),o=K(()=>({strokeDasharray:`${i.value*f.value}px, ${i.value}px`,strokeDashoffset:h.value})),l=K(()=>({strokeDasharray:`${i.value*f.value*(t.percentage/100)}px, ${i.value}px`,strokeDashoffset:h.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),a=K(()=>{let y;return t.color?y=_(t.percentage):y=n[t.status]||n.default,y}),u=K(()=>t.status==="warning"?jc:t.type==="line"?t.status==="success"?Bc:$c:t.status==="success"?Pg:ra),g=K(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),p=K(()=>t.format(t.percentage));function m(y){const b=100/y.length;return y.map((C,x)=>De(C)?{color:C,percentage:(x+1)*b}:C).sort((C,x)=>C.percentage-x.percentage)}const _=y=>{var b;const{color:w}=t;if(Pe(w))return w(y);if(De(w))return w;{const C=m(w);for(const x of C)if(x.percentage>y)return x.color;return(b=C[C.length-1])==null?void 0:b.color}};return(y,b)=>(W(),ae("div",{class:pe([S(r).b(),S(r).m(y.type),S(r).is(y.status),{[S(r).m("without-text")]:!y.showText,[S(r).m("text-inside")]:y.textInside}]),role:"progressbar","aria-valuenow":y.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[y.type==="line"?(W(),ae("div",{key:0,class:pe(S(r).b("bar"))},[J("div",{class:pe(S(r).be("bar","outer")),style:Re({height:`${y.strokeWidth}px`})},[J("div",{class:pe([S(r).be("bar","inner"),{[S(r).bem("bar","inner","indeterminate")]:y.indeterminate},{[S(r).bem("bar","inner","striped")]:y.striped},{[S(r).bem("bar","inner","striped-flow")]:y.stripedFlow}]),style:Re(S(s))},[(y.showText||y.$slots.default)&&y.textInside?(W(),ae("div",{key:0,class:pe(S(r).be("bar","innerText"))},[Ce(y.$slots,"default",{percentage:y.percentage},()=>[J("span",null,Be(S(p)),1)])],2)):ye("v-if",!0)],6)],6)],2)):(W(),ae("div",{key:1,class:pe(S(r).b("circle")),style:Re({height:`${y.width}px`,width:`${y.width}px`})},[(W(),ae("svg",$R,[J("path",{class:pe(S(r).be("circle","track")),d:S(c),stroke:`var(${S(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":y.strokeLinecap,"stroke-width":S(d),fill:"none",style:Re(S(o))},null,14,jR),J("path",{class:pe(S(r).be("circle","path")),d:S(c),stroke:S(a),fill:"none",opacity:y.percentage?1:0,"stroke-linecap":y.strokeLinecap,"stroke-width":S(d),style:Re(S(l))},null,14,NR)]))],6)),(y.showText||y.$slots.default)&&!y.textInside?(W(),ae("div",{key:2,class:pe(S(r).e("text")),style:Re({fontSize:`${S(g)}px`})},[Ce(y.$slots,"default",{percentage:y.percentage},()=>[y.status?(W(),Se(S(ze),{key:1},{default:ve(()=>[(W(),Se(Jt(S(u))))]),_:1})):(W(),ae("span",zR,Be(S(p)),1))])],6)):ye("v-if",!0)],10,BR))}});var VR=Fe(UR,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const WR=At(VR),Qv=Symbol("sliderContextKey"),YR=Ue({modelValue:{type:we([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:ms,inputSize:ms,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:we(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:we(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ps,default:"top"},marks:{type:we(Object)},validateEvent:{type:Boolean,default:!0}}),Ja=e=>Ye(e)||Te(e)&&e.every(Ye),XR={[Ht]:Ja,[Ar]:Ja,[fa]:Ja},GR=(e,t,n)=>{const r=fe();return Qe(async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Ot(window,"resize",n),await nt(),n()}),{sliderWrapper:r}},KR=e=>K(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),qR=(e,t,n)=>{const{form:r,formItem:s}=pa(),d=Wt(),v=fe(),c=fe(),i={firstButton:v,secondButton:c},f=K(()=>e.disabled||r?.disabled||!1),h=K(()=>Math.min(t.firstValue,t.secondValue)),o=K(()=>Math.max(t.firstValue,t.secondValue)),l=K(()=>e.range?`${100*(o.value-h.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),a=K(()=>e.range?`${100*(h.value-e.min)/(e.max-e.min)}%`:"0%"),u=K(()=>e.vertical?{height:e.height}:{}),g=K(()=>e.vertical?{height:l.value,bottom:a.value}:{width:l.value,left:a.value}),p=()=>{d.value&&(t.sliderSize=d.value[`client${e.vertical?"Height":"Width"}`])},m=X=>{const N=e.min+X*(e.max-e.min)/100;if(!e.range)return v;let j;return Math.abs(h.value-N)<Math.abs(o.value-N)?j=t.firstValue<t.secondValue?"firstButton":"secondButton":j=t.firstValue>t.secondValue?"firstButton":"secondButton",i[j]},_=X=>{const N=m(X);return N.value.setPosition(X),N},y=X=>{t.firstValue=X,w(e.range?[h.value,o.value]:X)},b=X=>{t.secondValue=X,e.range&&w([h.value,o.value])},w=X=>{n(Ht,X),n(Ar,X)},C=async()=>{await nt(),n(fa,e.range?[h.value,o.value]:e.modelValue)},x=X=>{var N,j,q,se,le,G;if(f.value||t.dragging)return;p();let Q=0;if(e.vertical){const T=(q=(j=(N=X.touches)==null?void 0:N.item(0))==null?void 0:j.clientY)!=null?q:X.clientY;Q=(d.value.getBoundingClientRect().bottom-T)/t.sliderSize*100}else{const T=(G=(le=(se=X.touches)==null?void 0:se.item(0))==null?void 0:le.clientX)!=null?G:X.clientX,R=d.value.getBoundingClientRect().left;Q=(T-R)/t.sliderSize*100}if(!(Q<0||Q>100))return _(Q)};return{elFormItem:s,slider:d,firstButton:v,secondButton:c,sliderDisabled:f,minValue:h,maxValue:o,runwayStyle:u,barStyle:g,resetSize:p,setPosition:_,emitChange:C,onSliderWrapperPrevent:X=>{var N,j;((N=i.firstButton.value)!=null&&N.dragging||(j=i.secondButton.value)!=null&&j.dragging)&&X.preventDefault()},onSliderClick:X=>{x(X)&&C()},onSliderDown:async X=>{const N=x(X);N&&(await nt(),N.value.onButtonDown(X))},setFirstValue:y,setSecondValue:b}},{left:JR,down:ZR,right:QR,up:e3,home:t3,end:n3,pageUp:r3,pageDown:i3}=Ve,s3=(e,t,n)=>{const r=fe(),s=fe(!1),d=K(()=>t.value instanceof Function),v=K(()=>d.value&&t.value(e.modelValue)||e.modelValue),c=Bl(()=>{n.value&&(s.value=!0)},50),i=Bl(()=>{n.value&&(s.value=!1)},50);return{tooltip:r,tooltipVisible:s,formatValue:v,displayTooltip:c,hideTooltip:i}},o3=(e,t,n)=>{const{disabled:r,min:s,max:d,step:v,showTooltip:c,precision:i,sliderSize:f,formatTooltip:h,emitChange:o,resetSize:l,updateDragging:a}=Ae(Qv),{tooltip:u,tooltipVisible:g,formatValue:p,displayTooltip:m,hideTooltip:_}=s3(e,h,c),y=fe(),b=K(()=>`${(e.modelValue-s.value)/(d.value-s.value)*100}%`),w=K(()=>e.vertical?{bottom:b.value}:{left:b.value}),C=()=>{t.hovering=!0,m()},x=()=>{t.hovering=!1,t.dragging||_()},O=I=>{r.value||(I.preventDefault(),Q(I),window.addEventListener("mousemove",T),window.addEventListener("touchmove",T),window.addEventListener("mouseup",R),window.addEventListener("touchend",R),window.addEventListener("contextmenu",R),y.value.focus())},B=I=>{r.value||(t.newPosition=Number.parseFloat(b.value)+I/(d.value-s.value)*100,F(t.newPosition),o())},Y=()=>{B(-v.value)},X=()=>{B(v.value)},N=()=>{B(-v.value*4)},j=()=>{B(v.value*4)},q=()=>{r.value||(F(0),o())},se=()=>{r.value||(F(100),o())},le=I=>{let ee=!0;[JR,ZR].includes(I.key)?Y():[QR,e3].includes(I.key)?X():I.key===t3?q():I.key===n3?se():I.key===i3?N():I.key===r3?j():ee=!1,ee&&I.preventDefault()},G=I=>{let ee,D;return I.type.startsWith("touch")?(D=I.touches[0].clientY,ee=I.touches[0].clientX):(D=I.clientY,ee=I.clientX),{clientX:ee,clientY:D}},Q=I=>{t.dragging=!0,t.isClick=!0;const{clientX:ee,clientY:D}=G(I);e.vertical?t.startY=D:t.startX=ee,t.startPosition=Number.parseFloat(b.value),t.newPosition=t.startPosition},T=I=>{if(t.dragging){t.isClick=!1,m(),l();let ee;const{clientX:D,clientY:P}=G(I);e.vertical?(t.currentY=P,ee=(t.startY-t.currentY)/f.value*100):(t.currentX=D,ee=(t.currentX-t.startX)/f.value*100),t.newPosition=t.startPosition+ee,F(t.newPosition)}},R=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||_(),t.isClick||F(t.newPosition),o()},0),window.removeEventListener("mousemove",T),window.removeEventListener("touchmove",T),window.removeEventListener("mouseup",R),window.removeEventListener("touchend",R),window.removeEventListener("contextmenu",R))},F=async I=>{if(I===null||Number.isNaN(+I))return;I<0?I=0:I>100&&(I=100);const ee=100/((d.value-s.value)/v.value);let P=Math.round(I/ee)*ee*(d.value-s.value)*.01+s.value;P=Number.parseFloat(P.toFixed(i.value)),P!==e.modelValue&&n(Ht,P),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await nt(),t.dragging&&m(),u.value.updatePopper()};return ke(()=>t.dragging,I=>{a(I)}),{disabled:r,button:y,tooltip:u,tooltipVisible:g,showTooltip:c,wrapperStyle:w,formatValue:p,handleMouseEnter:C,handleMouseLeave:x,onButtonDown:O,onKeyDown:le,setPosition:F}},a3=(e,t,n,r)=>({stops:K(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const v=(e.max-e.min)/e.step,c=100*e.step/(e.max-e.min),i=Array.from({length:v-1}).map((f,h)=>(h+1)*c);return e.range?i.filter(f=>f<100*(n.value-e.min)/(e.max-e.min)||f>100*(r.value-e.min)/(e.max-e.min)):i.filter(f=>f>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:v=>e.vertical?{bottom:`${v}%`}:{left:`${v}%`}}),l3=(e,t,n,r,s,d)=>{const v=f=>{s(Ht,f),s(Ar,f)},c=()=>e.range?![n.value,r.value].every((f,h)=>f===t.oldValue[h]):e.modelValue!==t.oldValue,i=()=>{var f,h;e.min>e.max&&Oi("Slider","min should not be greater than max.");const o=e.modelValue;e.range&&Array.isArray(o)?o[1]<e.min?v([e.min,e.min]):o[0]>e.max?v([e.max,e.max]):o[0]<e.min?v([e.min,o[1]]):o[1]>e.max?v([o[0],e.max]):(t.firstValue=o[0],t.secondValue=o[1],c()&&(e.validateEvent&&((f=d?.validate)==null||f.call(d,"change").catch(l=>void 0)),t.oldValue=o.slice())):!e.range&&typeof o=="number"&&!Number.isNaN(o)&&(o<e.min?v(e.min):o>e.max?v(e.max):(t.firstValue=o,c()&&(e.validateEvent&&((h=d?.validate)==null||h.call(d,"change").catch(l=>void 0)),t.oldValue=o)))};i(),ke(()=>t.dragging,f=>{f||i()}),ke(()=>e.modelValue,(f,h)=>{t.dragging||Array.isArray(f)&&Array.isArray(h)&&f.every((o,l)=>o===h[l])&&t.firstValue===f[0]&&t.secondValue===f[1]||i()},{deep:!0}),ke(()=>[e.min,e.max],()=>{i()})},c3=Ue({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ps,default:"top"}}),u3={[Ht]:e=>Ye(e)},f3=["tabindex"],h3=xe({name:"ElSliderButton"}),d3=xe({...h3,props:c3,emits:u3,setup(e,{expose:t,emit:n}){const r=e,s=Xe("slider"),d=Pn({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:v,button:c,tooltip:i,showTooltip:f,tooltipVisible:h,wrapperStyle:o,formatValue:l,handleMouseEnter:a,handleMouseLeave:u,onButtonDown:g,onKeyDown:p,setPosition:m}=o3(r,d,n),{hovering:_,dragging:y}=ml(d);return t({onButtonDown:g,onKeyDown:p,setPosition:m,hovering:_,dragging:y}),(b,w)=>(W(),ae("div",{ref_key:"button",ref:c,class:pe([S(s).e("button-wrapper"),{hover:S(_),dragging:S(y)}]),style:Re(S(o)),tabindex:S(v)?-1:0,onMouseenter:w[0]||(w[0]=(...C)=>S(a)&&S(a)(...C)),onMouseleave:w[1]||(w[1]=(...C)=>S(u)&&S(u)(...C)),onMousedown:w[2]||(w[2]=(...C)=>S(g)&&S(g)(...C)),onTouchstart:w[3]||(w[3]=(...C)=>S(g)&&S(g)(...C)),onFocus:w[4]||(w[4]=(...C)=>S(a)&&S(a)(...C)),onBlur:w[5]||(w[5]=(...C)=>S(u)&&S(u)(...C)),onKeydown:w[6]||(w[6]=(...C)=>S(p)&&S(p)(...C))},[he(S(Is),{ref_key:"tooltip",ref:i,visible:S(h),placement:b.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":b.tooltipClass,disabled:!S(f),persistent:""},{content:ve(()=>[J("span",null,Be(S(l)),1)]),default:ve(()=>[J("div",{class:pe([S(s).e("button"),{hover:S(_),dragging:S(y)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,f3))}});var pd=Fe(d3,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const p3=Ue({mark:{type:we([String,Object]),default:void 0}});var g3=xe({name:"ElSliderMarker",props:p3,setup(e){const t=Xe("slider"),n=K(()=>De(e.mark)?e.mark:e.mark.label),r=K(()=>De(e.mark)?void 0:e.mark.style);return()=>Qo("div",{class:t.e("marks-text"),style:r.value},n.value)}});const v3=["id","role","aria-label","aria-labelledby"],m3={key:1},_3=xe({name:"ElSlider"}),y3=xe({..._3,props:YR,emits:XR,setup(e,{expose:t,emit:n}){const r=e,s=Xe("slider"),{t:d}=zr(),v=Pn({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:c,slider:i,firstButton:f,secondButton:h,sliderDisabled:o,minValue:l,maxValue:a,runwayStyle:u,barStyle:g,resetSize:p,emitChange:m,onSliderWrapperPrevent:_,onSliderClick:y,onSliderDown:b,setFirstValue:w,setSecondValue:C}=qR(r,v,n),{stops:x,getStopStyle:O}=a3(r,v,l,a),{inputId:B,isLabeledByFormItem:Y}=Av(r,{formItemContext:c}),X=As(),N=K(()=>r.inputSize||X.value),j=K(()=>r.label||d("el.slider.defaultLabel",{min:r.min,max:r.max})),q=K(()=>r.range?r.rangeStartLabel||d("el.slider.defaultRangeStartLabel"):j.value),se=K(()=>r.formatValueText?r.formatValueText(I.value):`${I.value}`),le=K(()=>r.rangeEndLabel||d("el.slider.defaultRangeEndLabel")),G=K(()=>r.formatValueText?r.formatValueText(ee.value):`${ee.value}`),Q=K(()=>[s.b(),s.m(X.value),s.is("vertical",r.vertical),{[s.m("with-input")]:r.showInput}]),T=KR(r);l3(r,v,l,a,n,c);const R=K(()=>{const $=[r.min,r.max,r.step].map(M=>{const L=`${M}`.split(".")[1];return L?L.length:0});return Math.max.apply(null,$)}),{sliderWrapper:F}=GR(r,v,p),{firstValue:I,secondValue:ee,sliderSize:D}=ml(v),P=$=>{v.dragging=$};return rt(Qv,{...ml(r),sliderSize:D,disabled:o,precision:R,emitChange:m,resetSize:p,updateDragging:P}),t({onSliderClick:y}),($,M)=>{var L,U;return W(),ae("div",{id:$.range?S(B):void 0,ref_key:"sliderWrapper",ref:F,class:pe(S(Q)),role:$.range?"group":void 0,"aria-label":$.range&&!S(Y)?S(j):void 0,"aria-labelledby":$.range&&S(Y)?(L=S(c))==null?void 0:L.labelId:void 0,onTouchstart:M[2]||(M[2]=(...te)=>S(_)&&S(_)(...te)),onTouchmove:M[3]||(M[3]=(...te)=>S(_)&&S(_)(...te))},[J("div",{ref_key:"slider",ref:i,class:pe([S(s).e("runway"),{"show-input":$.showInput&&!$.range},S(s).is("disabled",S(o))]),style:Re(S(u)),onMousedown:M[0]||(M[0]=(...te)=>S(b)&&S(b)(...te)),onTouchstart:M[1]||(M[1]=(...te)=>S(b)&&S(b)(...te))},[J("div",{class:pe(S(s).e("bar")),style:Re(S(g))},null,6),he(pd,{id:$.range?void 0:S(B),ref_key:"firstButton",ref:f,"model-value":S(I),vertical:$.vertical,"tooltip-class":$.tooltipClass,placement:$.placement,role:"slider","aria-label":$.range||!S(Y)?S(q):void 0,"aria-labelledby":!$.range&&S(Y)?(U=S(c))==null?void 0:U.labelId:void 0,"aria-valuemin":$.min,"aria-valuemax":$.range?S(ee):$.max,"aria-valuenow":S(I),"aria-valuetext":S(se),"aria-orientation":$.vertical?"vertical":"horizontal","aria-disabled":S(o),"onUpdate:modelValue":S(w)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),$.range?(W(),Se(pd,{key:0,ref_key:"secondButton",ref:h,"model-value":S(ee),vertical:$.vertical,"tooltip-class":$.tooltipClass,placement:$.placement,role:"slider","aria-label":S(le),"aria-valuemin":S(I),"aria-valuemax":$.max,"aria-valuenow":S(ee),"aria-valuetext":S(G),"aria-orientation":$.vertical?"vertical":"horizontal","aria-disabled":S(o),"onUpdate:modelValue":S(C)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):ye("v-if",!0),$.showStops?(W(),ae("div",m3,[(W(!0),ae(Me,null,ot(S(x),(te,ce)=>(W(),ae("div",{key:ce,class:pe(S(s).e("stop")),style:Re(S(O)(te))},null,6))),128))])):ye("v-if",!0),S(T).length>0?(W(),ae(Me,{key:2},[J("div",null,[(W(!0),ae(Me,null,ot(S(T),(te,ce)=>(W(),ae("div",{key:ce,style:Re(S(O)(te.position)),class:pe([S(s).e("stop"),S(s).e("marks-stop")])},null,6))),128))]),J("div",{class:pe(S(s).e("marks"))},[(W(!0),ae(Me,null,ot(S(T),(te,ce)=>(W(),Se(S(g3),{key:ce,mark:te.mark,style:Re(S(O)(te.position))},null,8,["mark","style"]))),128))],2)],64)):ye("v-if",!0)],38),$.showInput&&!$.range?(W(),Se(S(TR),{key:0,ref:"input","model-value":S(I),class:pe(S(s).e("input")),step:$.step,disabled:S(o),controls:$.showInputControls,min:$.min,max:$.max,debounce:$.debounce,size:S(N),"onUpdate:modelValue":S(w),onChange:S(m)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):ye("v-if",!0)],42,v3)}}});var b3=Fe(y3,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const w3=At(b3),em=Symbol("uploadContextKey"),C3="ElUpload";class S3 extends Error{constructor(t,n,r,s){super(t),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=s}}function gd(e,t,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${t.method} ${e} ${n.status}`,new S3(r,n.status,t.method,e)}function x3(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const T3=e=>{typeof XMLHttpRequest>"u"&&Oi(C3,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",d=>{const v=d;v.percent=d.total>0?d.loaded/d.total*100:0,e.onProgress(v)});const r=new FormData;if(e.data)for(const[d,v]of Object.entries(e.data))Te(v)&&v.length?r.append(d,...v):r.append(d,v);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(gd(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(gd(n,e,t));e.onSuccess(x3(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const s=e.headers||{};if(s instanceof Headers)s.forEach((d,v)=>t.setRequestHeader(v,d));else for(const[d,v]of Object.entries(s))un(v)||t.setRequestHeader(d,String(v));return t.send(r),t},tm=["text","picture","picture-card"];let O3=1;const Ul=()=>Date.now()+O3++,nm=Ue({action:{type:String,default:"#"},headers:{type:we(Object)},method:{type:String,default:"post"},data:{type:we([Object,Function,Promise]),default:()=>Dr({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:we(Array),default:()=>Dr([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:tm,default:"text"},httpRequest:{type:we(Function),default:T3},disabled:Boolean,limit:Number}),E3=Ue({...nm,beforeUpload:{type:we(Function),default:We},beforeRemove:{type:we(Function)},onRemove:{type:we(Function),default:We},onChange:{type:we(Function),default:We},onPreview:{type:we(Function),default:We},onSuccess:{type:we(Function),default:We},onProgress:{type:we(Function),default:We},onError:{type:we(Function),default:We},onExceed:{type:we(Function),default:We}}),P3=Ue({files:{type:we(Array),default:()=>Dr([])},disabled:{type:Boolean,default:!1},handlePreview:{type:we(Function),default:We},listType:{type:String,values:tm,default:"text"}}),k3={remove:e=>!!e},A3=["onKeydown"],I3=["src"],M3=["onClick"],R3=["title"],D3=["onClick"],F3=["onClick"],L3=xe({name:"ElUploadList"}),B3=xe({...L3,props:P3,emits:k3,setup(e,{emit:t}){const n=e,{t:r}=zr(),s=Xe("upload"),d=Xe("icon"),v=Xe("list"),c=gr(),i=fe(!1),f=K(()=>[s.b("list"),s.bm("list",n.listType),s.is("disabled",n.disabled)]),h=o=>{t("remove",o)};return(o,l)=>(W(),Se(Sy,{tag:"ul",class:pe(S(f)),name:S(v).b()},{default:ve(()=>[(W(!0),ae(Me,null,ot(o.files,a=>(W(),ae("li",{key:a.uid||a.name,class:pe([S(s).be("list","item"),S(s).is(a.status),{focusing:i.value}]),tabindex:"0",onKeydown:qr(u=>!S(c)&&h(a),["delete"]),onFocus:l[0]||(l[0]=u=>i.value=!0),onBlur:l[1]||(l[1]=u=>i.value=!1),onClick:l[2]||(l[2]=u=>i.value=!1)},[Ce(o.$slots,"default",{file:a},()=>[o.listType==="picture"||a.status!=="uploading"&&o.listType==="picture-card"?(W(),ae("img",{key:0,class:pe(S(s).be("list","item-thumbnail")),src:a.url,alt:""},null,10,I3)):ye("v-if",!0),a.status==="uploading"||o.listType!=="picture-card"?(W(),ae("div",{key:1,class:pe(S(s).be("list","item-info"))},[J("a",{class:pe(S(s).be("list","item-name")),onClick:vt(u=>o.handlePreview(a),["prevent"])},[he(S(ze),{class:pe(S(d).m("document"))},{default:ve(()=>[he(S(K1))]),_:1},8,["class"]),J("span",{class:pe(S(s).be("list","item-file-name")),title:a.name},Be(a.name),11,R3)],10,M3),a.status==="uploading"?(W(),Se(S(WR),{key:0,type:o.listType==="picture-card"?"circle":"line","stroke-width":o.listType==="picture-card"?6:2,percentage:Number(a.percentage),style:Re(o.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):ye("v-if",!0)],2)):ye("v-if",!0),J("label",{class:pe(S(s).be("list","item-status-label"))},[o.listType==="text"?(W(),Se(S(ze),{key:0,class:pe([S(d).m("upload-success"),S(d).m("circle-check")])},{default:ve(()=>[he(S(Bc))]),_:1},8,["class"])):["picture-card","picture"].includes(o.listType)?(W(),Se(S(ze),{key:1,class:pe([S(d).m("upload-success"),S(d).m("check")])},{default:ve(()=>[he(S(Pg))]),_:1},8,["class"])):ye("v-if",!0)],2),S(c)?ye("v-if",!0):(W(),Se(S(ze),{key:2,class:pe(S(d).m("close")),onClick:u=>h(a)},{default:ve(()=>[he(S(ra))]),_:2},1032,["class","onClick"])),ye(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),ye(" This is a bug which needs to be fixed "),ye(" TODO: Fix the incorrect navigation interaction "),S(c)?ye("v-if",!0):(W(),ae("i",{key:3,class:pe(S(d).m("close-tip"))},Be(S(r)("el.upload.deleteTip")),3)),o.listType==="picture-card"?(W(),ae("span",{key:4,class:pe(S(s).be("list","item-actions"))},[J("span",{class:pe(S(s).be("list","item-preview")),onClick:u=>o.handlePreview(a)},[he(S(ze),{class:pe(S(d).m("zoom-in"))},{default:ve(()=>[he(S(Rg))]),_:1},8,["class"])],10,D3),S(c)?ye("v-if",!0):(W(),ae("span",{key:0,class:pe(S(s).be("list","item-delete")),onClick:u=>h(a)},[he(S(ze),{class:pe(S(d).m("delete"))},{default:ve(()=>[he(S(U1))]),_:1},8,["class"])],10,F3))],2)):ye("v-if",!0)])],42,A3))),128)),Ce(o.$slots,"append")]),_:3},8,["class","name"]))}});var vd=Fe(B3,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const $3=Ue({disabled:{type:Boolean,default:!1}}),j3={file:e=>Te(e)},N3=["onDrop","onDragover"],rm="ElUploadDrag",z3=xe({name:rm}),H3=xe({...z3,props:$3,emits:j3,setup(e,{emit:t}){const n=Ae(em);n||Oi(rm,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=Xe("upload"),s=fe(!1),d=gr(),v=i=>{if(d.value)return;s.value=!1,i.stopPropagation();const f=Array.from(i.dataTransfer.files),h=n.accept.value;if(!h){t("file",f);return}const o=f.filter(l=>{const{type:a,name:u}=l,g=u.includes(".")?`.${u.split(".").pop()}`:"",p=a.replace(/\/.*$/,"");return h.split(",").map(m=>m.trim()).filter(m=>m).some(m=>m.startsWith(".")?g===m:/\/\*$/.test(m)?p===m.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(m)?a===m:!1)});t("file",o)},c=()=>{d.value||(s.value=!0)};return(i,f)=>(W(),ae("div",{class:pe([S(r).b("dragger"),S(r).is("dragover",s.value)]),onDrop:vt(v,["prevent"]),onDragover:vt(c,["prevent"]),onDragleave:f[0]||(f[0]=vt(h=>s.value=!1,["prevent"]))},[Ce(i.$slots,"default")],42,N3))}});var U3=Fe(H3,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const V3=Ue({...nm,beforeUpload:{type:we(Function),default:We},onRemove:{type:we(Function),default:We},onStart:{type:we(Function),default:We},onSuccess:{type:we(Function),default:We},onProgress:{type:we(Function),default:We},onError:{type:we(Function),default:We},onExceed:{type:we(Function),default:We}}),W3=["onKeydown"],Y3=["name","multiple","accept"],X3=xe({name:"ElUploadContent",inheritAttrs:!1}),G3=xe({...X3,props:V3,setup(e,{expose:t}){const n=e,r=Xe("upload"),s=gr(),d=Wt({}),v=Wt(),c=g=>{if(g.length===0)return;const{autoUpload:p,limit:m,fileList:_,multiple:y,onStart:b,onExceed:w}=n;if(m&&_.length+g.length>m){w(g,_);return}y||(g=g.slice(0,1));for(const C of g){const x=C;x.uid=Ul(),b(x),p&&i(x)}},i=async g=>{if(v.value.value="",!n.beforeUpload)return h(g);let p,m={};try{const y=n.data,b=n.beforeUpload(g);m=mo(n.data)?kh(n.data):n.data,p=await b,mo(n.data)&&fP(y,m)&&(m=kh(n.data))}catch{p=!1}if(p===!1){n.onRemove(g);return}let _=g;p instanceof Blob&&(p instanceof File?_=p:_=new File([p],g.name,{type:g.type})),h(Object.assign(_,{uid:g.uid}),m)},f=async(g,p)=>Pe(g)?g(p):g,h=async(g,p)=>{const{headers:m,data:_,method:y,withCredentials:b,name:w,action:C,onProgress:x,onSuccess:O,onError:B,httpRequest:Y}=n;try{p=await f(p??_,g)}catch{n.onRemove(g);return}const{uid:X}=g,N={headers:m||{},withCredentials:b,file:g,data:p,method:y,filename:w,action:C,onProgress:q=>{x(q,g)},onSuccess:q=>{O(q,g),delete d.value[X]},onError:q=>{B(q,g),delete d.value[X]}},j=Y(N);d.value[X]=j,j instanceof Promise&&j.then(N.onSuccess,N.onError)},o=g=>{const p=g.target.files;p&&c(Array.from(p))},l=()=>{s.value||(v.value.value="",v.value.click())},a=()=>{l()};return t({abort:g=>{gP(d.value).filter(g?([m])=>String(g.uid)===m:()=>!0).forEach(([m,_])=>{_ instanceof XMLHttpRequest&&_.abort(),delete d.value[m]})},upload:i}),(g,p)=>(W(),ae("div",{class:pe([S(r).b(),S(r).m(g.listType),S(r).is("drag",g.drag)]),tabindex:"0",onClick:l,onKeydown:qr(vt(a,["self"]),["enter","space"])},[g.drag?(W(),Se(U3,{key:0,disabled:S(s),onFile:c},{default:ve(()=>[Ce(g.$slots,"default")]),_:3},8,["disabled"])):Ce(g.$slots,"default",{key:1}),J("input",{ref_key:"inputRef",ref:v,class:pe(S(r).e("input")),name:g.name,multiple:g.multiple,accept:g.accept,type:"file",onChange:o,onClick:p[0]||(p[0]=vt(()=>{},["stop"]))},null,42,Y3)],42,W3))}});var md=Fe(G3,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const _d="ElUpload",yd=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},K3=(e,t)=>{const n=r2(e,"fileList",void 0,{passive:!0}),r=l=>n.value.find(a=>a.uid===l.uid);function s(l){var a;(a=t.value)==null||a.abort(l)}function d(l=["ready","uploading","success","fail"]){n.value=n.value.filter(a=>!l.includes(a.status))}const v=(l,a)=>{const u=r(a);u&&(console.error(l),u.status="fail",n.value.splice(n.value.indexOf(u),1),e.onError(l,u,n.value),e.onChange(u,n.value))},c=(l,a)=>{const u=r(a);u&&(e.onProgress(l,u,n.value),u.status="uploading",u.percentage=Math.round(l.percent))},i=(l,a)=>{const u=r(a);u&&(u.status="success",u.response=l,e.onSuccess(l,u,n.value),e.onChange(u,n.value))},f=l=>{un(l.uid)&&(l.uid=Ul());const a={name:l.name,percentage:0,status:"ready",size:l.size,raw:l,uid:l.uid};if(e.listType==="picture-card"||e.listType==="picture")try{a.url=URL.createObjectURL(l)}catch(u){u.message,e.onError(u,a,n.value)}n.value=[...n.value,a],e.onChange(a,n.value)},h=async l=>{const a=l instanceof File?r(l):l;a||Oi(_d,"file to be removed not found");const u=g=>{s(g);const p=n.value;p.splice(p.indexOf(g),1),e.onRemove(g,p),yd(g)};e.beforeRemove?await e.beforeRemove(a,n.value)!==!1&&u(a):u(a)};function o(){n.value.filter(({status:l})=>l==="ready").forEach(({raw:l})=>{var a;return l&&((a=t.value)==null?void 0:a.upload(l))})}return ke(()=>e.listType,l=>{l!=="picture-card"&&l!=="picture"||(n.value=n.value.map(a=>{const{raw:u,url:g}=a;if(!g&&u)try{a.url=URL.createObjectURL(u)}catch(p){e.onError(p,a,n.value)}return a}))}),ke(n,l=>{for(const a of l)a.uid||(a.uid=Ul()),a.status||(a.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:s,clearFiles:d,handleError:v,handleProgress:c,handleStart:f,handleSuccess:i,handleRemove:h,submit:o,revokeFileObjectURL:yd}},q3=xe({name:"ElUpload"}),J3=xe({...q3,props:E3,setup(e,{expose:t}){const n=e,r=gr(),s=Wt(),{abort:d,submit:v,clearFiles:c,uploadFiles:i,handleStart:f,handleError:h,handleRemove:o,handleSuccess:l,handleProgress:a,revokeFileObjectURL:u}=K3(n,s),g=K(()=>n.listType==="picture-card"),p=K(()=>({...n,fileList:i.value,onStart:f,onProgress:a,onSuccess:l,onError:h,onRemove:o}));return Bt(()=>{i.value.forEach(u)}),rt(em,{accept:wt(n,"accept")}),t({abort:d,submit:v,clearFiles:c,handleStart:f,handleRemove:o}),(m,_)=>(W(),ae("div",null,[S(g)&&m.showFileList?(W(),Se(vd,{key:0,disabled:S(r),"list-type":m.listType,files:S(i),"handle-preview":m.onPreview,onRemove:S(o)},yl({append:ve(()=>[he(md,mt({ref_key:"uploadRef",ref:s},S(p)),{default:ve(()=>[m.$slots.trigger?Ce(m.$slots,"trigger",{key:0}):ye("v-if",!0),!m.$slots.trigger&&m.$slots.default?Ce(m.$slots,"default",{key:1}):ye("v-if",!0)]),_:3},16)]),_:2},[m.$slots.file?{name:"default",fn:ve(({file:y})=>[Ce(m.$slots,"file",{file:y})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):ye("v-if",!0),!S(g)||S(g)&&!m.showFileList?(W(),Se(md,mt({key:1,ref_key:"uploadRef",ref:s},S(p)),{default:ve(()=>[m.$slots.trigger?Ce(m.$slots,"trigger",{key:0}):ye("v-if",!0),!m.$slots.trigger&&m.$slots.default?Ce(m.$slots,"default",{key:1}):ye("v-if",!0)]),_:3},16)):ye("v-if",!0),m.$slots.trigger?Ce(m.$slots,"default",{key:2}):ye("v-if",!0),Ce(m.$slots,"tip"),!S(g)&&m.showFileList?(W(),Se(vd,{key:3,disabled:S(r),"list-type":m.listType,files:S(i),"handle-preview":m.onPreview,onRemove:S(o)},yl({_:2},[m.$slots.file?{name:"default",fn:ve(({file:y})=>[Ce(m.$slots,"file",{file:y})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):ye("v-if",!0)]))}});var Z3=Fe(J3,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const Q3=At(Z3),im=["success","info","warning","error"],Mt=Dr({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:tt?document.body:void 0}),eD=Ue({customClass:{type:String,default:Mt.customClass},center:{type:Boolean,default:Mt.center},dangerouslyUseHTMLString:{type:Boolean,default:Mt.dangerouslyUseHTMLString},duration:{type:Number,default:Mt.duration},icon:{type:fi,default:Mt.icon},id:{type:String,default:Mt.id},message:{type:we([String,Object,Function]),default:Mt.message},onClose:{type:we(Function),required:!1},showClose:{type:Boolean,default:Mt.showClose},type:{type:String,values:im,default:Mt.type},offset:{type:Number,default:Mt.offset},zIndex:{type:Number,default:Mt.zIndex},grouping:{type:Boolean,default:Mt.grouping},repeatNum:{type:Number,default:Mt.repeatNum}}),tD={destroy:()=>!0},cn=_c([]),nD=e=>{const t=cn.findIndex(s=>s.id===e),n=cn[t];let r;return t>0&&(r=cn[t-1]),{current:n,prev:r}},rD=e=>{const{prev:t}=nD(e);return t?t.vm.exposed.bottom.value:0},iD=(e,t)=>cn.findIndex(r=>r.id===e)>0?20:t,sD=["id"],oD=["innerHTML"],aD=xe({name:"ElMessage"}),lD=xe({...aD,props:eD,emits:tD,setup(e,{expose:t}){const n=e,{Close:r}=wP,{ns:s,zIndex:d}=Zk("message"),{currentZIndex:v,nextZIndex:c}=d,i=fe(),f=fe(!1),h=fe(0);let o;const l=K(()=>n.type?n.type==="error"?"danger":n.type:"info"),a=K(()=>{const x=n.type;return{[s.bm("icon",x)]:x&&Dh[x]}}),u=K(()=>n.icon||Dh[n.type]||""),g=K(()=>rD(n.id)),p=K(()=>iD(n.id,n.offset)+g.value),m=K(()=>h.value+p.value),_=K(()=>({top:`${p.value}px`,zIndex:v.value}));function y(){n.duration!==0&&({stop:o}=WS(()=>{w()},n.duration))}function b(){o?.()}function w(){f.value=!1}function C({code:x}){x===Ve.esc&&w()}return Qe(()=>{y(),c(),f.value=!0}),ke(()=>n.repeatNum,()=>{b(),y()}),Ot(document,"keydown",C),zc(i,()=>{h.value=i.value.getBoundingClientRect().height}),t({visible:f,bottom:m,close:w}),(x,O)=>(W(),Se(kn,{name:S(s).b("fade"),onBeforeLeave:x.onClose,onAfterLeave:O[0]||(O[0]=B=>x.$emit("destroy")),persisted:""},{default:ve(()=>[et(J("div",{id:x.id,ref_key:"messageRef",ref:i,class:pe([S(s).b(),{[S(s).m(x.type)]:x.type&&!x.icon},S(s).is("center",x.center),S(s).is("closable",x.showClose),x.customClass]),style:Re(S(_)),role:"alert",onMouseenter:b,onMouseleave:y},[x.repeatNum>1?(W(),Se(S(BI),{key:0,value:x.repeatNum,type:S(l),class:pe(S(s).e("badge"))},null,8,["value","type","class"])):ye("v-if",!0),S(u)?(W(),Se(S(ze),{key:1,class:pe([S(s).e("icon"),S(a)])},{default:ve(()=>[(W(),Se(Jt(S(u))))]),_:1},8,["class"])):ye("v-if",!0),Ce(x.$slots,"default",{},()=>[x.dangerouslyUseHTMLString?(W(),ae(Me,{key:1},[ye(" Caution here, message could've been compromised, never use user's input as message "),J("p",{class:pe(S(s).e("content")),innerHTML:x.message},null,10,oD)],2112)):(W(),ae("p",{key:0,class:pe(S(s).e("content"))},Be(x.message),3))]),x.showClose?(W(),Se(S(ze),{key:2,class:pe(S(s).e("closeBtn")),onClick:vt(w,["stop"])},{default:ve(()=>[he(S(r))]),_:1},8,["class","onClick"])):ye("v-if",!0)],46,sD),[[ht,f.value]])]),_:3},8,["name","onBeforeLeave"]))}});var cD=Fe(lD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let uD=1;const sm=e=>{const t=!e||De(e)||ii(e)||Pe(e)?{message:e}:e,n={...Mt,...t};if(!n.appendTo)n.appendTo=document.body;else if(De(n.appendTo)){let r=document.querySelector(n.appendTo);ui(r)||(r=document.body),n.appendTo=r}return n},fD=e=>{const t=cn.indexOf(e);if(t===-1)return;cn.splice(t,1);const{handler:n}=e;n.close()},hD=({appendTo:e,...t},n)=>{const r=`message_${uD++}`,s=t.onClose,d=document.createElement("div"),v={...t,id:r,onClose:()=>{s?.(),fD(h)},onDestroy:()=>{Af(null,d)}},c=he(cD,v,Pe(v.message)||ii(v.message)?{default:Pe(v.message)?v.message:()=>v.message}:null);c.appContext=n||mi._context,Af(c,d),e.appendChild(d.firstElementChild);const i=c.component,h={id:r,vnode:c,vm:i,handler:{close:()=>{i.exposed.visible.value=!1}},props:c.component.props};return h},mi=(e={},t)=>{if(!tt)return{close:()=>{}};if(Ye(Kh.max)&&cn.length>=Kh.max)return{close:()=>{}};const n=sm(e);if(n.grouping&&cn.length){const s=cn.find(({vnode:d})=>{var v;return((v=d.props)==null?void 0:v.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}const r=hD(n,t);return cn.push(r),r.handler};im.forEach(e=>{mi[e]=(t={},n)=>{const r=sm(t);return mi({...r,type:e},n)}});function dD(e){for(const t of cn)(!e||e===t.props.type)&&t.handler.close()}mi.closeAll=dD;mi._context=null;const pD=SP(mi,"$message"),gD=e=>(xs("data-v-063dea2d"),e=e(),Ts(),e),vD={key:0,class:"resource-station__panel page-scrollbar_container"},mD={key:0,class:"add"},_D={class:"header"},yD={class:"title"},bD={class:"container"},wD={class:"list"},CD={class:"content"},SD={class:"img-icon"},xD=["src"],TD={key:0,class:"name"},OD={key:1,class:"material"},ED={class:"nav-container"},PD={class:"navlist"},kD=["onClick"],AD={class:"el-dropdown-link"},ID={class:"material-container"},MD={class:"container page-scrollbar_container"},RD={class:"panel-content"},DD={key:0,class:"panel-batch"},FD={key:1,class:"panel-batch"},LD={key:0,class:"detail-list page-scrollbar_container"},BD={key:2,class:"Image"},$D=gD(()=>J("div",{class:"image-slot"},null,-1)),jD={__name:"resource",setup(e){const{state:t}=Br(),n=fe("https://haixin-fang.github.io/vue-design-editor-static/"),r=fe(),s=K(()=>t.activeModule),d=K(()=>t.imageList?(t.imageList.forEach(l=>{l.url=n.value+"image/"+l.url}),t.imageList):[]),v=K(()=>t.icons),c=Wt(Hw),i=Wt(Uw.map((l,a)=>({...l,id:a})));function f(l){r.value=l}const h=([l,a])=>Array(a-(l-1)).fill("").map((g,p)=>p+l);function o(l,a,u){a.type=s.value.type,a.interval&&(a.url=`${n.value}svg/${u}.svg`),l.dataTransfer.setData("item",JSON.stringify(a))}return(l,a)=>s.value?(W(),ae("div",vD,[s.value.type=="add"?(W(),ae("div",mD,[(W(!0),ae(Me,null,ot(c.value,(u,g)=>(W(),ae("div",{class:"addList",key:g},[J("div",_D,[J("div",yD,Be(u.title),1)]),J("div",bD,[J("div",wD,[J("div",CD,[(W(!0),ae(Me,null,ot(u.list,(p,m)=>(W(),ae("div",{class:"addItem",key:m},[J("div",SD,[J("img",{src:p.icon,alt:""},null,8,xD)]),p.title?(W(),ae("div",TD,Be(p.title),1)):ye("",!0)]))),128))])])])]))),128))])):ye("",!0),s.value.type=="material"?(W(),ae("div",OD,[J("div",ED,[J("div",PD,[J("div",{class:pe(["navItem",r.value?"":"navItemActive"]),onClick:a[0]||(a[0]=u=>r.value=null)}," 全部 ",2),(W(!0),ae(Me,null,ot(i.value.slice(0,4),u=>(W(),ae("div",{class:pe(["navItem",r.value&&r.value.title==u.title?"navItemActive":""]),key:u.id,onClick:g=>f(u)},Be(u.title),11,kD))),128)),i.value.length>4?(W(),Se(S(tR),{key:0,onCommand:f,class:"navItem","popper-class":"navItem",trigger:"click",teleported:!1},{dropdown:ve(()=>[he(S(rR),null,{default:ve(()=>[(W(!0),ae(Me,null,ot(i.value.slice(4),u=>(W(),Se(S(nR),{command:u,key:u.id},{default:ve(()=>[J("span",{class:pe(r.value&&r.value.title==u.title?"navItemActive":"")},Be(u.title),3)]),_:2},1032,["command"]))),128))]),_:1})]),default:ve(()=>[J("span",AD,[Os(" 更多 "),he(S(ze),{class:"el-icon--right"},{default:ve(()=>[he(S(na))]),_:1})])]),_:1})):ye("",!0)])]),J("div",ID,[J("div",MD,[(W(!0),ae(Me,null,ot(i.value,u=>(W(),ae("div",{class:"panel-block",key:u.id},[he(IS,{title:u.title,subTitle:"查看更多",onChange:g=>f(u)},null,8,["title","onChange"]),J("div",RD,[u.interval?(W(),ae("div",DD,[(W(!0),ae(Me,null,ot(h(u.interval).slice(0,8),g=>(W(),ae("div",{class:"material-detail",key:g},[he(S(Li),{src:`${n.value}svg/${g}.svg`,lazy:"",draggable:!0,onDragstart:p=>o(p,u,g)},null,8,["src","onDragstart"])]))),128))])):(W(),ae("div",FD,[(W(!0),ae(Me,null,ot(v.value.slice(0,8),(g,p)=>(W(),ae("div",{class:"material-detail",style:{width:"60px",height:"60px"},key:p},[he(S(Li),{src:g.url,lazy:"",draggable:!0,onDragstart:m=>o(m,g)},null,8,["src","onDragstart"])]))),128))]))])]))),128))]),he(kn,{name:"anime"},{default:ve(()=>[r.value?(W(),ae("div",LD,[r.value.interval?(W(!0),ae(Me,{key:0},ot(h(r.value.interval),u=>(W(),ae("div",{class:"detail-item",key:u},[he(S(Li),{style:{width:"88px",height:"88px"},src:`${n.value}svg/${u}.svg`,draggable:!0,onDragstart:g=>o(g,u),lazy:""},null,8,["src","onDragstart"])]))),128)):v.value&&v.value.length>0?(W(!0),ae(Me,{key:1},ot(v.value,(u,g)=>(W(),ae("div",{class:"detail-item",key:g},[he(S(Li),{style:{width:"88px",height:"88px"},src:u.url,draggable:!0,onDragstart:p=>o(p,u),lazy:""},null,8,["src","onDragstart"])]))),128)):ye("",!0)])):ye("",!0)]),_:1})])])):ye("",!0),s.value.type=="Image"?(W(),ae("div",BD,[he(FS,{list:d.value,column:2},{default:ve(({item:u})=>[he(S(Li),{src:u.url,loading:"lazy",lazy:"",onDragstart:g=>o(g,u)},{placeholder:ve(()=>[$D]),_:2},1032,["src","onDragstart"])]),_:1},8,["list"])])):ye("",!0)])):ye("",!0)}},ND=pt(jD,[["__scopeId","data-v-063dea2d"]]);function zD(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(r){return r.split(" ").map(function(s){return s?""+e+s:""}).join(" ")}).join(" ")}function HD(e,t){return t.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function or(e,t){return function(n){n&&(e[t]=n)}}function UD(e,t,n){return function(r){r&&(e[t][n]=r)}}function bd(e,t){return function(n){var r=n.prototype;e.forEach(function(s){t(r,s)})}}var VD="function",WD="object",YD="string",XD="number",om="undefined",GD=typeof document!==om&&document,KD=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Za=1e-7,eo={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,t){return e*t/100},vw:function(e,t){return t===void 0&&(t=window.innerWidth),e/100*t},vh:function(e,t){return t===void 0&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qD(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var d=arguments[t],v=0,c=d.length;v<c;v++,s++)r[s]=d[v];return r}function am(e){return typeof e===om}function En(e){return e&&typeof e===WD}function lm(e){return Array.isArray(e)}function Fr(e){return typeof e===YD}function JD(e){return typeof e===XD}function cm(e){return typeof e===VD}function ZD(e,t){var n=e===""||e==" ",r=t===""||t==" ";return r&&n||e===t}function um(e,t,n,r,s){var d=mu(e,t,n);return d?n:QD(e,t,n+1,r,s)}function mu(e,t,n){if(!e.ignore)return null;var r=t.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(r)}function QD(e,t,n,r,s){for(var d=function(f){var h=t[f].trim();if(h===e.close&&!mu(e,t,f))return{value:f};var o=f,l=Lo(s,function(a){var u=a.open;return u===h});if(l&&(o=um(l,t,f,r,s)),o===-1)return v=f,"break";f=o,v=f},v,c=n;c<r;++c){var i=d(c);if(c=v,typeof i=="object")return i.value;if(i==="break")break}return-1}function _u(e,t){var n=Fr(t)?{separator:t}:t,r=n.separator,s=r===void 0?",":r,d=n.isSeparateFirst,v=n.isSeparateOnlyOpenClose,c=n.isSeparateOpenClose,i=c===void 0?v:c,f=n.openCloseCharacters,h=f===void 0?KD:f,o=h.map(function(x){var O=x.open,B=x.close;return O===B?O:O+"|"+B}).join("|"),l="(\\s*"+s+"\\s*|"+o+"|\\s+)",a=new RegExp(l,"g"),u=e.split(a).filter(function(x){return x&&x!=="undefined"}),g=u.length,p=[],m=[];function _(){return m.length?(p.push(m.join("")),m=[],!0):!1}for(var y=function(x){var O=u[x].trim(),B=x,Y=Lo(h,function(j){var q=j.open;return q===O}),X=Lo(h,function(j){var q=j.close;return q===O});if(Y){if(B=um(Y,u,x,g,h),B!==-1&&i)return _()&&d||(p.push(u.slice(x,B+1).join("")),x=B,d)?(b=x,"break"):(b=x,"continue")}else if(X&&!mu(X,u,x)){var N=qD(h);return N.splice(h.indexOf(X),1),{value:_u(e,{separator:s,isSeparateFirst:d,isSeparateOnlyOpenClose:v,isSeparateOpenClose:i,openCloseCharacters:N})}}else if(ZD(O,s)&&!v)return _(),d?(b=x,"break"):(b=x,"continue");B===-1&&(B=g-1),m.push(u.slice(x,B+1).join("")),x=B,b=x},b,w=0;w<g;++w){var C=y(w);if(w=b,typeof C=="object")return C.value;if(C==="break")break}return m.length&&p.push(m.join("")),p}function eF(e){return _u(e,"")}function zi(e){return _u(e,",")}function tF(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function fm(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2],s=t[3];return{prefix:n,unit:s,value:parseFloat(r)}}function nF(e){return e.replace(/[\s-_]+([^\s-_])/g,function(t,n){return n.toUpperCase()})}function Qa(e,t){return t===void 0&&(t="-"),e.replace(/([a-z])([A-Z])/g,function(n,r,s){return""+r+t+s.toLowerCase()})}function Vl(){return Date.now?Date.now():new Date().getTime()}function ma(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=0;s<r;++s)if(t(e[s],s,e))return s;return n}function rF(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=r-1;s>=0;--s)if(t(e[s],s,e))return s;return n}function iF(e,t,n){var r=rF(e,t);return r>-1?e[r]:n}function Lo(e,t,n){var r=ma(e,t);return r>-1?e[r]:n}function Wl(e){return Object.keys(e)}function sF(e){var t=Wl(e);return t.map(function(n){return e[n]})}function Ji(e,t){var n=fm(e),r=n.value,s=n.unit;if(En(t)){var d=t[s];if(d){if(cm(d))return d(r);if(eo[s])return eo[s](r,d)}}else if(s==="%")return r*t/100;return eo[s]?eo[s](r):r}function el(e,t){if(!t)return e;var n=1/t;return Math.round(e/t)/n}function oF(e){return e.reduce(function(t,n){return t.concat(n)},[])}function aF(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function lF(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function cF(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function yt(e,t,n,r){e.addEventListener(t,n,r)}function ft(e,t,n,r){e.removeEventListener(t,n,r)}function yu(e){return e?.ownerDocument||GD}function tl(e){var t;return((t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function uF(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function bu(e){return En(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}var fF=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(n){return this.values[this.keys.indexOf(n)]},t.set=function(n,r){var s=this.keys,d=this.values,v=s.indexOf(n),c=v===-1?s.length:v;s[c]=n,d[c]=r},e}(),hF=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(n){return this.object[n]},t.set=function(n,r){this.object[n]=r},e}(),dF=typeof Map=="function",pF=function(){function e(){}var t=e.prototype;return t.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},t.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},t.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},e}();function gF(e,t){var n=[],r=[];return e.forEach(function(s){var d=s[0],v=s[1],c=new pF;n[d]=c,r[v]=c}),n.forEach(function(s,d){s.connect(n[d-1])}),e.filter(function(s,d){return!t[d]}).map(function(s,d){var v=s[0],c=s[1];if(v===c)return[0,0];var i=n[v],f=r[c-1],h=i.getIndex();i.disconnect(),f?i.connect(f,f.next):i.connect(void 0,n[0]);var o=i.getIndex();return[h,o]})}var vF=function(){function e(n,r,s,d,v,c,i,f){this.prevList=n,this.list=r,this.added=s,this.removed=d,this.changed=v,this.maintained=c,this.changedBeforeAdded=i,this.fixed=f}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var n=gF(this.changedBeforeAdded,this.fixed),r=this.changed,s=[];this.cacheOrdered=n.filter(function(d,v){var c=d[0],i=d[1],f=r[v],h=f[0],o=f[1];if(c!==i)return s.push([h,o]),!0}),this.cachePureChanged=s},e}();function hm(e,t,n){var r=dF?Map:n?hF:fF,s=n||function(_){return _},d=[],v=[],c=[],i=e.map(s),f=t.map(s),h=new r,o=new r,l=[],a=[],u={},g=[],p=0,m=0;return i.forEach(function(_,y){h.set(_,y)}),f.forEach(function(_,y){o.set(_,y)}),i.forEach(function(_,y){var b=o.get(_);typeof b>"u"?(++m,v.push(y)):u[b]=m}),f.forEach(function(_,y){var b=h.get(_);typeof b>"u"?(d.push(y),++p):(c.push([b,y]),m=u[y]||0,l.push([b-m,y-p]),a.push(y===b),b!==y&&g.push([b,y]))}),v.reverse(),new vF(e,t,d,v,g,c,l,a)}var Yl=function(e,t){return Yl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Yl(e,t)};function Ms(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Yl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Cn=function(){return Cn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},Cn.apply(this,arguments)};function dm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function wd(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,d;r<s;r++)(d||!(r in t))&&(d||(d=Array.prototype.slice.call(t,0,r)),d[r]=t[r]);return e.concat(d||Array.prototype.slice.call(t))}function Cd(e){var t=0;return e.map(function(n){return n==null?"$compat".concat(++t):"".concat(n)})}function pm(e){var t=[];return e.forEach(function(n){t=t.concat(lm(n)?pm(n):n)}),t}function nl(e,t){if(!t)return e;for(var n in t)am(e[n])&&(e[n]=t[n]);return e}function Bo(e,t){if(e===t)return!1;for(var n in e)if(!(n in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function Sd(e){var t=e.className,n=dm(e,["className"]);return t!=null&&(n.class=t),delete n.style,delete n.children,n}function xd(e){var t={},n={};for(var r in e)r.indexOf("on")===0?n[r]=e[r]:t[r]=e[r];return[t,n]}function _a(e){if(!e)return null;var t=e.b;return bu(t)?t:_a(e.c)}function gm(e){var t=e.parentNode;t&&t.removeChild(e)}function vm(e){e.forEach(function(t){t()})}function mF(){return this.constructor(this.props,this.context)}var wu=0,ya=function(){function e(n,r,s,d,v,c,i){i===void 0&&(i={}),this.t=n,this.d=r,this.k=s,this.i=d,this.c=v,this.ref=c,this.ps=i,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var t=e.prototype;return t.s=function(){return!0},t.u=function(n,r,s,d,v){var c=this,i=c.d,f=sF(r).filter(function(u){return u.$_req}),h=pm(f.map(function(u){return u.$_subs})),o=Lo(h,function(u){return u.d===i});if(c.b&&!Fr(s)&&!v&&!c.s(s.props,d)&&!o){var l=h.reduce(function(u,g){var p=g.d;return u[0]?u[0].d===p&&u.push(g):p>i&&u.push(g),u},[]);return l.forEach(function(u){Rs(u,u._ps,[u.o],n,r,!0)}),!1}c.o=s,c.ss(d);var a=c.ps;return Fr(s)||(c.ps=s.props,c.ref=s.ref),Cu(this),c.r(n,r,c.b?a:{},d),!0},t.md=function(){this.rr()},t.ss=function(){},t.ud=function(){this.rr()},t.rr=function(){var n=this,r=n.ref,s=n.fr;r&&r(s?s.current:n.b)},e}();function mm(){return Object.__CROACT_CURRENT_INSTNACE__}function _F(){return wu}function yF(e){wu=e}function Cu(e){return Object.__CROACT_CURRENT_INSTNACE__=e,wu=0,e}var Su=function(){function e(n,r){n===void 0&&(n={}),this.props=n,this.context=r,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var t=e.prototype;return t.render=function(){return null},t.shouldComponentUpdate=function(n,r){return this.props!==n||this.state!==r},t.setState=function(n,r,s){var d=this;d.$_timer||(d.$_state={}),clearTimeout(d.$_timer),d.$_timer=0,d.$_state=Cn(Cn({},d.$_state),n),s?d.$_setState(r,s):d.$_timer=window.setTimeout(function(){d.$_timer=0,d.$_setState(r,s)})},t.forceUpdate=function(n){this.setState({},n,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(n,r){},t.componentWillUnmount=function(){},t.$_setState=function(n,r){var s=[],d=this.$_p,v=Rs(d.c,[d],[d.o],s,d._cs,Cn(Cn({},this.state),this.$_state),r);v&&(n&&s.push(n),vm(s),Cu(null))},e}(),_m=function(e){Ms(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,s){return Bo(this.props,r)||Bo(this.state,s)},t}(Su);function xu(e){var t=function(n){t.current=n};return t.current=e,t}function bF(e){return e._fr=!0,e}function wF(e,t,n,r){var s,d;return!((s=e?.prototype)===null||s===void 0)&&s.render?d=new e(t,n):(d=new Su(t,n),d.constructor=e,e._fr?(r.fr=xu(),d.render=function(){return this.constructor(this.props,r.fr)}):d.render=mF),d.$_p=r,d}var CF=function(e){Ms(t,e);function t(r,s,d,v,c,i,f){f===void 0&&(f={});var h=e.call(this,r,s,d,v,c,i,nl(f,r.defaultProps))||this;return h.typ="comp",h._usefs=[],h._uefs=[],h._defs=[],h}var n=t.prototype;return n.s=function(r,s){var d=this.b;return d.shouldComponentUpdate(nl(r,this.t.defaultProps),s||d.state)!==!1},n.r=function(r,s,d){var v,c,i=this,f=i.t;i.ps=nl(i.ps,i.t.defaultProps);var h=i.ps,o=!i.b,l=f.contextType,a=i.b,u=l?.get(i);i._cs=s,o?(a=wF(f,h,u,i),i.b=a):(a.props=h,a.context=u);var g=a.state;i._usefs=[],i._uefs=[];var p=a.render();((c=(v=p?.props)===null||v===void 0?void 0:v.children)===null||c===void 0?void 0:c.length)===0&&(p.props.children=i.ps.children);var m=Cn(Cn({},s),a.$_cs);Rs(i,i._ps,p?[p]:[],r,m),o?i._uefs.push(function(){l?.register(i),a.componentDidMount()}):i._uefs.push(function(){a.componentDidUpdate(d,g)}),r.push(function(){i._usefs.forEach(function(_){_()}),o?i.md():i.ud(),i._defs=i._uefs.map(function(_){return _()})})},n.ss=function(r){var s=this.b;!s||!r||(s.state=r)},n.un=function(){var r,s=this;s._ps.forEach(function(v){v.un()});var d=s.t;(r=d.contextType)===null||r===void 0||r.unregister(s),clearTimeout(s.b.$_timer),s._defs.forEach(function(v){v&&v()}),s.b.componentWillUnmount()},t}(ya);function SF(e,t,n){var r=Tu(Sd(e),Sd(t)),s=r.added,d=r.removed,v=r.changed;for(var c in s)n.setAttribute(c,s[c]);for(var i in v)n.setAttribute(i,v[i][1]);for(var f in d)n.removeAttribute(f)}function xF(e,t,n){var r=Tu(e,t),s=r.added,d=r.removed;for(var v in d)n.e(v,!0);for(var c in s)n.e(c)}function Tu(e,t){var n=Wl(e),r=Wl(t),s=hm(n,r,function(i){return i}),d={},v={},c={};return s.added.forEach(function(i){var f=r[i];d[f]=t[f]}),s.removed.forEach(function(i){var f=n[i];v[f]=e[f]}),s.maintained.forEach(function(i){var f=i[0],h=n[f],o=[e[h],t[h]];e[h]!==t[h]&&(c[h]=o)}),{added:d,removed:v,changed:c}}function TF(e,t,n){var r=n.style,s=Tu(e,t),d=s.added,v=s.removed,c=s.changed;for(var i in d){var f=Qa(i,"-");r.setProperty(f,d[i])}for(var i in c){var h=Qa(i,"-");r.setProperty(h,c[i][1])}for(var i in v){var o=Qa(i,"-");r.removeProperty(o)}}function OF(e){return e.replace(/^on/g,"").toLowerCase()}var EF=function(e){Ms(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="elem",r._es={},r._svg=!1,r}var n=t.prototype;return n.e=function(r,s){var d=this,v=d._es,c=d.b,i=OF(r);s?(ft(c,i,v[r]),delete v[r]):(v[r]=function(f){var h,o;(o=(h=d.ps)[r])===null||o===void 0||o.call(h,f)},yt(c,i,v[r]))},n.s=function(r){return Bo(this.ps,r)},n.r=function(r,s,d){var v,c=this,i=!c.b,f=c.ps;if(i){var h=_a(c.c),o=!1;c._svg||c.t==="svg"?o=!0:o=h&&h.ownerSVGElement,c._svg=o;var l=(v=c._hyd)===null||v===void 0?void 0:v.splice(0,1)[0],a=c.t;if(l)c._hyd=[].slice.call(l.children||[]);else{var u=yu(h);o?l=u.createElementNS("http://www.w3.org/2000/svg",a):l=u.createElement(a)}c.b=l}Rs(c,c._ps,f.children,r,s);var g=c.b,p=xd(d),m=p[0],_=p[1],y=xd(f),b=y[0],w=y[1];return SF(m,b,g),xF(_,w,c),TF(d.style||{},f.style||{},g),r.push(function(){i?c.md():c.ud()}),!0},n.un=function(){var r=this,s=r._es,d=r.b;for(var v in s)ft(d,v,s[v]);r._ps.forEach(function(c){c.un()}),r._es={},r._sel||gm(d)},t}(ya);function ys(e){if(!e||bu(e))return e;var t=e.$_p._ps;return t.length?ys(t[0].b):null}function ym(e){if(e){if(e.b&&bu(e.b))return e;var t=e._ps;return t.length?ym(t[0]):null}}function qt(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=t||{},d=s.key,v=s.ref,c=dm(s,["key","ref"]);return{type:e,key:d,ref:v,props:Cn(Cn({},c),{children:oF(n).filter(function(i){return i!=null&&i!==!1})})}}var bm=function(e){Ms(t,e);function t(r,s){s===void 0&&(s=0);var d=e.call(this,"container",s,"container",0,null)||this;return d.typ="container",d.b=r,d}var n=t.prototype;return n.r=function(){return!0},n.un=function(){},t}(ya),PF=function(e){Ms(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="text",r}var n=t.prototype;return n.r=function(r){var s,d=this,v=!d.b;if(v){var c=_a(d.c),i=(s=d._hyd)===null||s===void 0?void 0:s.splice(0,1)[0];d.b=i||yu(c).createTextNode(d.t.replace("text_",""))}return r.push(function(){v?d.md():d.ud()}),!0},n.un=function(){gm(this.b)},t}(ya);function kF(e,t,n){var r=n.map(function(i){return Fr(i)?null:i.key}),s=Cd(t.map(function(i){return i.k})),d=Cd(r),v=hm(s,d,function(i){return i});v.removed.forEach(function(i){t.splice(i,1)[0].un()}),v.ordered.forEach(function(i){var f=i[0],h=i[1],o=t.splice(f,1)[0];t.splice(h,0,o);var l=ys(o.b),a=ys(t[h+1]&&t[h+1].b);l&&l.parentNode.insertBefore(l,a)}),v.added.forEach(function(i){t.splice(i,0,Td(n[i],r[i],i,e))});var c=v.maintained.filter(function(i){i[0];var f=i[1],h=n[f],o=t[f],l=Fr(h)?"text_".concat(h):h.type;return l!==o.t?(o.un(),t.splice(f,1,Td(h,r[f],f,e)),!0):(o.i=f,!1)});return wd(wd([],v.added,!0),c.map(function(i){i[0];var f=i[1];return f}),!0)}function AF(e,t){for(var n=e._ps,r=n.length,s=t.i+1;s<r;++s){var d=ys(n[s].b);if(d)return d}return null}function Td(e,t,n,r){var s=r.d+1;if(Fr(e)||JD(e))return new PF("text_".concat(e),s,t,n,r,null,{});var d=e.type,v=typeof d=="string"?EF:CF;return new v(d,s,t,n,r,e.ref,e.props)}function Rs(e,t,n,r,s,d,v){var c=kF(e,t,n),i=e._hyd,f=t.filter(function(o,l){return o._hyd=i,o.u(r,s,n[l],d,v)});e.typ==="container"&&e._sel&&t.forEach(function(o){var l=ym(o);l&&(l._sel=!0)}),e._hyd=null;var h=_a(e);return h&&c.reverse().forEach(function(o){var l=t[o],a=ys(l.b);if(a&&h!==a&&!a.parentNode){var u=AF(e,l);h.insertBefore(a,u)}}),f.length>0}function IF(e,t,n,r){n===void 0&&(n=t.__CROACT__),r===void 0&&(r={});var s=!!n;n||(n=new bm(t));var d=[];return Rs(n,n._ps,e?[e]:[],d,r,void 0,void 0),vm(d),Cu(null),s||(t.__CROACT__=n),n}function Od(e,t,n){return!n&&e&&(n=new bm(t.parentElement),n._hyd=[t],n._sel=!0),IF(e,t,n),n}function wm(e){var t=mm(),n=t._hs||(t._hs=[]),r=_F(),s=n[r];if(yF(r+1),s){if(!Bo(s.deps,e.deps))return s.updated=!1,s;n[r]=e}else n.push(e);return e.value=e.func(),e.updated=!0,e}function MF(e,t){var n=wm({func:e,deps:t});return n.value}function RF(e){return MF(function(){return xu(e)},[])}function Cm(e,t,n){var r=mm(),s=wm({func:function(){return e},deps:t}),d=n?r._usefs:r._uefs;s.updated?d.push(function(){return s.effect&&s.effect(),s.effect=e(),s.effect}):d.push(function(){return s.effect})}function DF(e,t,n){Cm(function(){e?.(t())},n,!0)}var Xl=function(e,t){return Xl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Xl(e,t)};function FF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var LF=function(e){FF(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={scrollPos:0},r.width=0,r.height=0,r._zoom=0,r._rulerScale=0,r._observer=null,r._checkResize=function(){r.resize()},r}var n=t.prototype;return n.render=function(){var r=this.props;return this._zoom=r.zoom,qt("canvas",{ref:or(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var r=this.props;this.state.scrollPos=r.defaultScrollPos||0;var s=this.canvasElement,d=s.getContext("2d",{alpha:!0});this.canvasContext=d,r.useResizeObserver?(this._observer=new ResizeObserver(this._checkResize),this._observer.observe(s,{box:"border-box"})):this.resize()},n.componentDidUpdate=function(){this.resize()},n.componentWillUnmount=function(){var r;this.state.scrollPos=0,(r=this._observer)===null||r===void 0||r.disconnect()},n.getScrollPos=function(){return this.state.scrollPos},n.scroll=function(r,s){this.draw({scrollPos:r,zoom:s})},n.resize=function(r){var s=this.canvasElement,d=this.props,v=d.width,c=d.height,i=d.scrollPos,f=this._getRulerScale();this.width=v||s.offsetWidth,this.height=c||s.offsetHeight,s.width=this.width*f,s.height=this.height*f,this.draw({scrollPos:i,zoom:r})},n.draw=function(r){r===void 0&&(r={});var s=this.props,d=r.zoom,v=d===void 0?this._zoom:d,c=r.scrollPos,i=c===void 0?this.state.scrollPos:c,f=r.marks,h=f===void 0?s.marks:f,o=r.selectedRanges,l=o===void 0?s.selectedRanges:o,a=r.segment,u=a===void 0?s.segment||10:a,g=r.unit,p=g===void 0?s.unit:g;this._zoom=v;var m=s,_=m.type,y=m.backgroundColor,b=m.lineColor,w=m.textColor,C=m.textBackgroundColor,x=m.direction,O=m.negativeRuler,B=O===void 0?!0:O,Y=m.textFormat,X=m.range,N=X===void 0?[-1/0,1/0]:X,j=m.rangeBackgroundColor,q=m.selectedBackgroundColor,se=m.lineWidth,le=se===void 0?1:se,G=m.selectedRangesText,Q=m.selectedRangesTextColor,T=Q===void 0?"#44aaff":Q,R=m.selectedRangesTextOffset,F=R===void 0?[0,0]:R,I=m.markColor,ee=I===void 0?"#ff5":I,D=this._getRulerScale(),P=this.width,$=this.height,M=this.state;M.scrollPos=i;var L=this.canvasContext,U=_==="horizontal",te=B!==!1,ce=s.font||"10px sans-serif",A=s.textAlign||"left",E=s.textOffset||[0,0],k=U?$:P,z=Ji("".concat(s.mainLineSize||"100%"),k),V=Ji("".concat(s.longLineSize||10),k),H=Ji("".concat(s.shortLineSize||7),k),Z=s.lineOffset||[0,0];switch(y==="transparent"?L.clearRect(0,0,P*D,$*D):(L.rect(0,0,P*D,$*D),L.fillStyle=y,L.fill()),L.save(),L.scale(D,D),L.strokeStyle=b,L.lineWidth=le,L.font=ce,L.fillStyle=w,L.textAlign=A,x){case"start":L.textBaseline="top";break;case"center":L.textBaseline="middle";break;case"end":L.textBaseline="bottom";break}L.translate(.5,0),L.beginPath();for(var re=U?P:$,ue=v*p,oe=Math.floor(i*v/ue),ne=Math.ceil((i*v+re)/ue),de=ne-oe,me=Math.max(["left","center","right"].indexOf(A)-1,-1),ie=U?$:P,_e=[],be=0;be<=de;++be){var Oe=(be+oe)*p,Ie="".concat(Oe);Y&&(Ie=Y(Oe));var st=L.measureText(Ie).width;_e.push({color:w,offset:E,backgroundColor:C,value:Oe,text:Ie,textSize:st})}if(q!=="transparent"&&l?.length&&l.forEach(function(It){var Xt=Math.max(It[0],N[0],B?-1/0:0),rn=Math.min(It[1],N[1]),In=(Xt-i)*v,Mn=(rn-Xt)*v;G&&It.forEach(function(mn){var _n="".concat(mn);Y&&(_n=Y(mn));var Rn=L.measureText(_n).width,qn=mn*v,$s=qn+Rn;iF(_e,function(Ur,Ai){var mr=Ur.value,n0=Ur.textSize,Nu=mr*v,r0=Nu+n0;Nu<=$s&&qn<=r0&&_e.splice(Ai,1)}),_e.push({value:mn,color:T,offset:F,text:_n,textSize:Rn})}),!(Mn<=0)&&(L.save(),L.fillStyle=q,U?L.fillRect(In,0,Mn,ie):L.fillRect(0,In,ie,Mn),L.restore())}),j!=="transparent"&&N[0]!==-1/0&&N[1]!==1/0){var Pt=(N[0]-i)*v,xt=(N[1]-N[0])*v;L.save(),L.fillStyle=j,U?L.fillRect(Pt,0,xt,ie):L.fillRect(0,Pt,ie,xt),L.restore()}for(var be=0;be<=de;++be){var Oe=be+oe;if(!(!te&&Oe<0))for(var vn=Oe*p,vr=(vn-i)*v,it=0;it<u;++it){var _t=vr+it/u*ue,Pi=vn+it/u*p;if(!(_t<0||_t>=re||Pi<N[0]||Pi>N[1])){var Bs=it===0?z:it%2===0?V:H,ki=0;switch(x){case"start":ki=0;break;case"center":ki=ie/2-Bs/2;break;case"end":ki=ie-Bs;break}var $u=U?[_t+Z[0],ki+Z[1]]:[ki+Z[0],_t+Z[1]],Ta=$u[0],Oa=$u[1],ju=U?[Ta,Oa+Bs]:[Ta+Bs,Oa],e0=ju[0],t0=ju[1];L.moveTo(Ta+Z[0],Oa+Z[1]),L.lineTo(e0+Z[0],t0+Z[1])}}}L.stroke(),L.beginPath(),L.strokeStyle=ee,L.lineWidth=1,(h||[]).forEach(function(It){var Xt=(-i+It)*v;if(!(Xt<0||Xt>=re||It<N[0]||It>N[1])){var rn=U?[Xt+Z[0],Z[1]]:[Z[0],Xt+Z[1]],In=rn[0],Mn=rn[1],mn=U?[In,Mn+k]:[In+k,Mn],_n=mn[0],Rn=mn[1];L.moveTo(In+Z[0],Mn+Z[1]),L.lineTo(_n+Z[0],Rn+Z[1])}}),L.stroke(),_e.forEach(function(It){var Xt=It.value,rn=It.offset,In=It.backgroundColor,Mn=It.color,mn=It.text,_n=It.textSize;if(!(!te&&Xt<0)){var Rn=(Xt-i)*v;if(!(Rn<-ue||Rn>=re+p*v||Xt<N[0]||Xt>N[1])){var qn=0;switch(x){case"start":qn=17;break;case"center":qn=ie/2;break;case"end":qn=ie-17;break}var $s=U?[Rn+me*-3,qn]:[qn,Rn+me*3],Ur=$s[0],Ai=$s[1];if(In){var mr=0;switch(A){case"left":mr=0;break;case"center":mr=-_n/2;break;case"right":mr=-_n;break}L.save(),L.fillStyle=In,U?L.fillRect(Ur+rn[0]+mr,0,_n,z):(L.translate(0,Ai+rn[1]),L.rotate(-Math.PI/2),L.fillRect(mr,0,_n,z)),L.restore()}L.save(),L.fillStyle=Mn,U?L.fillText(mn,Ur+rn[0],Ai+rn[1]):(L.translate(Ur+rn[0],Ai+rn[1]),L.rotate(-Math.PI/2),L.fillText(mn,0,0)),L.restore()}}}),L.restore()},n._getRulerScale=function(){var r=this.props.defaultPixelScale||2;if(!this._rulerScale){var s=window.devicePixelRatio>1;if(!s&&window.matchMedia){var d=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");s=d&&d.matches}this._rulerScale=s?3:r}return this._rulerScale},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555",defaultScrollPos:0,markColor:"#f55",marks:[]},t}(_m),Sm=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","defaultScrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat","warpSelf","selectedBackgroundColor","selectedRanges","defaultPixelScale","useResizeObserver","selectedRangesText","selectedRangesTextColor","selectedRangesTextOffset","marks","markColor"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gl=function(){return Gl=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},Gl.apply(this,arguments)};function BF(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var d=arguments[t],v=0,c=d.length;v<c;v++,s++)r[s]=d[v];return r}var $F=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(En(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(En(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var d=this._events[n];if(d){var v=ma(d,function(c){return c.listener===r});v>-1&&d.splice(v,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(d){s._addEvent(n,d,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var d=this._events[n];if(!n||!d)return!0;var v=!1;return r.eventType=n,r.stop=function(){v=!0},r.currentTarget=this,BF(d).forEach(function(c){c.listener(r),c.once&&s.off(n,c.listener)}),!v},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var d=this._events;d[n]=d[n]||[];var v=d[n];v.push(Gl({listener:r},s))},e}();const jF=$F;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kl=function(e,t){return Kl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Kl(e,t)};function NF(e,t){Kl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var lt=function(){return lt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},lt.apply(this,arguments)};function zF(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=Math.atan2(r,n);return s>=0?s:s+Math.PI*2}function rl(e){return zF([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function HF(e){return e.touches&&e.touches.length>=2}function to(e){return e?e.touches?VF(e.touches):[xm(e)]:[]}function UF(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function Ed(e,t,n){var r=n.length,s=Zi(e,r),d=s.clientX,v=s.clientY,c=s.originalClientX,i=s.originalClientY,f=Zi(t,r),h=f.clientX,o=f.clientY,l=Zi(n,r),a=l.clientX,u=l.clientY,g=d-h,p=v-o,m=d-a,_=v-u;return{clientX:c,clientY:i,deltaX:g,deltaY:p,distX:m,distY:_}}function il(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function VF(e){for(var t=Math.min(e.length,2),n=[],r=0;r<t;++r)n.push(xm(e[r]));return n}function xm(e){return{clientX:e.clientX,clientY:e.clientY}}function Zi(e,t){t===void 0&&(t=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(e.length,t),s=0;s<r;++s){var d=e[s];n.originalClientX+="originalClientX"in d?d.originalClientX:d.clientX,n.originalClientY+="originalClientY"in d?d.originalClientY:d.clientY,n.clientX+=d.clientX,n.clientY+=d.clientY}return t?{clientX:n.clientX/t,clientY:n.clientY/t,originalClientX:n.originalClientX/t,originalClientY:n.originalClientY/t}:n}var sl=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return e.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),rl(t)},e.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),rl(t)-rl(this.startClients)},e.prototype.getPosition=function(t,n){t===void 0&&(t=this.prevClients);var r=Ed(t||this.prevClients,this.prevClients,this.startClients),s=r.deltaX,d=r.deltaY;return this.movement+=Math.sqrt(s*s+d*d),this.prevClients=t,r},e.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var n=this.prevClients,r=this.startClients,s=Math.min(this.length,n.length),d=[],v=0;v<s;++v)d[v]=Ed([t[v]],[n[v]],[r[v]]);return d},e.prototype.getMovement=function(t){var n=this.movement;if(!t)return n;var r=Zi(t,this.length),s=Zi(this.prevClients,this.length),d=r.clientX-s.clientX,v=r.clientY-s.clientY;return Math.sqrt(d*d+v*v)+n},e.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),il(t)},e.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),il(t)/il(this.startClients)},e.prototype.move=function(t,n){this.startClients.forEach(function(r){r.clientX-=t,r.clientY-=n}),this.prevClients.forEach(function(r){r.clientX-=t,r.clientY-=n})},e}(),Pd=["textarea","input"],WF=function(e){NF(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this)||this;s.options={},s.flag=!1,s.pinchFlag=!1,s.data={},s.isDrag=!1,s.isPinch=!1,s.clientStores=[],s.targets=[],s.prevTime=0,s.doubleFlag=!1,s._useMouse=!1,s._useTouch=!1,s._useDrag=!1,s._dragFlag=!1,s._isTrusted=!1,s._isMouseEvent=!1,s._isSecondaryButton=!1,s._preventMouseEvent=!1,s._prevInputEvent=null,s._isDragAPI=!1,s._isIdle=!0,s._window=window,s.onDragStart=function(l,a){if(a===void 0&&(a=!0),!(!s.flag&&l.cancelable===!1)){var u=l.type.indexOf("drag")>=-1;if(!(s.flag&&u)){s._isDragAPI=!0;var g=s.options,p=g.container,m=g.pinchOutside,_=g.preventWheelClick,y=g.preventRightClick,b=g.preventDefault,w=g.checkInput,C=g.dragFocusedInput,x=g.preventClickEventOnDragStart,O=g.preventClickEventOnDrag,B=g.preventClickEventByCondition,Y=s._useTouch,X=!s.flag;if(s._isSecondaryButton=l.which===3||l.button===2,_&&(l.which===2||l.button===1)||y&&(l.which===3||l.button===2))return s.stop(),!1;if(X){var N=s._window.document.activeElement,j=l.target;if(j){var q=j.tagName.toLowerCase(),se=Pd.indexOf(q)>-1,le=j.isContentEditable;if(se||le){if(w||!C&&N===j)return!1;if(N&&(N===j||le&&N.isContentEditable&&N.contains(j)))if(C)j.blur();else return!1}else if((b||l.type==="touchstart")&&N){var G=N.tagName.toLowerCase();(N.isContentEditable||Pd.indexOf(G)>-1)&&N.blur()}(x||O||B)&&yt(s._window,"click",s._onClick,!0)}s.clientStores=[new sl(to(l))],s._isIdle=!1,s.flag=!0,s.isDrag=!1,s._isTrusted=a,s._dragFlag=!0,s._prevInputEvent=l,s.data={},s.doubleFlag=Vl()-s.prevTime<200,s._isMouseEvent=UF(l),!s._isMouseEvent&&s._preventMouseEvent&&(s._preventMouseEvent=!1);var Q=s._preventMouseEvent||s.emit("dragStart",lt(lt({data:s.data,datas:s.data,inputEvent:l,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,isTrusted:a,isDouble:s.doubleFlag},s.getCurrentStore().getPosition()),{preventDefault:function(){l.preventDefault()},preventDrag:function(){s._dragFlag=!1}}));Q===!1&&s.stop(),s._isMouseEvent&&s.flag&&b&&l.preventDefault()}if(!s.flag)return!1;var T=0;if(X?(s._attchDragEvent(),Y&&m&&(T=setTimeout(function(){yt(p,"touchstart",s.onDragStart,{passive:!1})}))):Y&&m&&ft(p,"touchstart",s.onDragStart),s.flag&&HF(l)){if(clearTimeout(T),X&&l.touches.length!==l.changedTouches.length)return;s.pinchFlag||s.onPinchStart(l)}}}},s.onDrag=function(l,a){if(s.flag){var u=s.options.preventDefault;!s._isMouseEvent&&u&&l.preventDefault(),s._prevInputEvent=l;var g=to(l),p=s.moveClients(g,l,!1);if(s._dragFlag){if(s.pinchFlag||p.deltaX||p.deltaY){var m=s._preventMouseEvent||s.emit("drag",lt(lt({},p),{isScroll:!!a,inputEvent:l}));if(m===!1){s.stop();return}}s.pinchFlag&&s.onPinch(l,g)}s.getCurrentStore().getPosition(g,!0)}},s.onDragEnd=function(l){if(s.flag){var a=s.options,u=a.pinchOutside,g=a.container,p=a.preventClickEventOnDrag,m=a.preventClickEventOnDragStart,_=a.preventClickEventByCondition,y=s.isDrag;(p||m||_)&&requestAnimationFrame(function(){s._allowClickEvent()}),!_&&!m&&p&&!y&&s._allowClickEvent(),s._useTouch&&u&&ft(g,"touchstart",s.onDragStart),s.pinchFlag&&s.onPinchEnd(l);var b=l?.touches?to(l):[],w=b.length;w===0||!s.options.keepDragging?s.flag=!1:s._addStore(new sl(b));var C=s._getPosition(),x=Vl(),O=!y&&s.doubleFlag;s._prevInputEvent=null,s.prevTime=y||O?0:x,s.flag||(s._dettachDragEvent(),s._preventMouseEvent||s.emit("dragEnd",lt({data:s.data,datas:s.data,isDouble:O,isDrag:y,isClick:!y,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,inputEvent:l,isTrusted:s._isTrusted},C)),s.clientStores=[],s._isMouseEvent||(s._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){s._preventMouseEvent=!1})})),s._isIdle=!0)}},s.onBlur=function(){s.onDragEnd()},s._allowClickEvent=function(){ft(s._window,"click",s._onClick,!0)},s._onClick=function(l){s._allowClickEvent(),s._preventMouseEvent=!1;var a=s.options.preventClickEventByCondition;a?.(l)||(l.stopPropagation(),l.preventDefault())},s._onContextMenu=function(l){var a=s.options;a.preventRightClick?s.onDragEnd(l):l.preventDefault()},s._passCallback=function(){};var d=[].concat(n),v=d[0];s._window=uF(v)?v:tl(v),s.options=lt({checkInput:!1,container:v&&!("document"in v)?tl(v):v,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},r);var c=s.options,i=c.container,f=c.events,h=c.checkWindowBlur;if(s._useDrag=f.indexOf("drag")>-1,s._useTouch=f.indexOf("touch")>-1,s._useMouse=f.indexOf("mouse")>-1,s.targets=d,s._useDrag&&d.forEach(function(l){yt(l,"dragstart",s.onDragStart)}),s._useMouse&&(d.forEach(function(l){yt(l,"mousedown",s.onDragStart),yt(l,"mousemove",s._passCallback)}),yt(i,"contextmenu",s._onContextMenu)),h&&yt(tl(),"blur",s.onBlur),s._useTouch){var o={passive:!1};d.forEach(function(l){yt(l,"touchstart",s.onDragStart,o),yt(l,"touchmove",s._passCallback,o)})}return s}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(r,s){return r+s.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(n,r,s,d){d===void 0&&(d=!0),this.flag&&(this.clientStores[0].move(n,r),d&&this.onDrag(s,!0))},t.prototype.move=function(n,r){var s=n[0],d=n[1],v=this.getCurrentStore(),c=v.prevClients;return this.moveClients(c.map(function(i){var f=i.clientX,h=i.clientY;return{clientX:f+s,clientY:h+d,originalClientX:f,originalClientY:h}}),r,!0)},t.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},t.prototype.setEventData=function(n){var r=this.data;for(var s in n)r[s]=n[s];return this},t.prototype.setEventDatas=function(n){return this.setEventData(n)},t.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),lt(lt({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var n=this,r=this.targets,s=this.options.container;this.off(),ft(this._window,"blur",this.onBlur),this._useDrag&&r.forEach(function(d){ft(d,"dragstart",n.onDragStart)}),this._useMouse&&(r.forEach(function(d){ft(d,"mousedown",n.onDragStart)}),ft(s,"contextmenu",this._onContextMenu)),this._useTouch&&(r.forEach(function(d){ft(d,"touchstart",n.onDragStart)}),ft(s,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(n){var r=this,s=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>s)){var d=new sl(to(n));this.pinchFlag=!0,this._addStore(d);var v=this.emit("pinchStart",lt(lt({data:this.data,datas:this.data,angle:d.getAngle(),touches:this.getCurrentStore().getPositions()},d.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){r._dragFlag=!1}}));v===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(n,r){if(!(!this.flag||!this.pinchFlag||r.length<2)){var s=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",lt(lt({data:this.data,datas:this.data,movement:this.getMovement(r),angle:s.getAngle(r),rotation:s.getRotation(r),touches:s.getPositions(r),scale:s.getScale(r),distance:s.getDistance(r)},s.getPosition(r)),{inputEvent:n,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(n){if(this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var s=this.getCurrentStore();this.emit("pinchEnd",lt(lt({data:this.data,datas:this.data,isPinch:r,touches:s.getPositions()},s.getPosition()),{inputEvent:n}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(n,r,s){var d=this._getPosition(n,s),v=this.isDrag;(d.deltaX||d.deltaY)&&(this.isDrag=!0);var c=!1;return!v&&this.isDrag&&(c=!0),lt(lt({data:this.data,datas:this.data},d),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:r,isTrusted:this._isTrusted,isFirstDrag:c})},t.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},t.prototype._getPosition=function(n,r){var s=this.getCurrentStore(),d=s.getPosition(n,r),v=this.clientStores.slice(1).reduce(function(f,h){var o=h.getPosition();return f.distX+=o.distX,f.distY+=o.distY,f},d),c=v.distX,i=v.distY;return lt(lt({},d),{distX:c,distY:i})},t.prototype._attchDragEvent=function(){var n=this._window,r=this.options.container,s={passive:!1};this._isDragAPI&&(yt(r,"dragover",this.onDrag,s),yt(n,"dragend",this.onDragEnd)),this._useMouse&&(yt(r,"mousemove",this.onDrag),yt(n,"mouseup",this.onDragEnd)),this._useTouch&&(yt(r,"touchmove",this.onDrag,s),yt(n,"touchend",this.onDragEnd,s),yt(n,"touchcancel",this.onDragEnd,s))},t.prototype._dettachDragEvent=function(){var n=this._window,r=this.options.container;this._isDragAPI&&(ft(r,"dragover",this.onDrag),ft(n,"dragend",this.onDragEnd)),this._useMouse&&(ft(r,"mousemove",this.onDrag),ft(n,"mouseup",this.onDragEnd)),this._useTouch&&(ft(r,"touchstart",this.onDragStart),ft(r,"touchmove",this.onDrag),ft(n,"touchend",this.onDragEnd),ft(n,"touchcancel",this.onDragEnd))},t}(jF);function YF(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var XF=YF;function GF(e){return XF(e).toString(36)}function KF(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function qF(e,t,n){return n.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,s){var d=s.trim();return(d?zi(d):[""]).map(function(v){var c=v.trim();return c.indexOf("@")===0?c:c.indexOf(":global")>-1?c.replace(/\:global/g,""):c.indexOf(":host")>-1?"".concat(c.replace(/\:host/g,".".concat(e))):c?".".concat(e," ").concat(c):".".concat(e)}).join(", ")+" {"})}function JF(e,t,n,r,s){var d=yu(r),v=d.createElement("style");return v.setAttribute("type","text/css"),v.setAttribute("data-styled-id",e),v.setAttribute("data-styled-count","1"),n.nonce&&v.setAttribute("nonce",n.nonce),v.innerHTML=qF(e,t,n),(s||d.head||d.body).appendChild(v),v}function ZF(e){var t="rCS"+GF(e);return{className:t,inject:function(n,r){r===void 0&&(r={});var s=KF(n),d=(s||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!d)d=JF(t,e,r,n,s);else{var v=parseFloat(d.getAttribute("data-styled-count"))||0;d.setAttribute("data-styled-count","".concat(v+1))}return{destroy:function(){var c,i=parseFloat(d.getAttribute("data-styled-count"))||0;i<=1?(d.remove?d.remove():(c=d.parentNode)===null||c===void 0||c.removeChild(d),d=null):d.setAttribute("data-styled-count","".concat(i-1))}}}}}var ql=function(){return ql=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},ql.apply(this,arguments)};function QF(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function e4(e,t){var n=ZF(t),r=n.className;return bF(function(s,d){var v=s.className,c=v===void 0?"":v;s.cspNonce;var i=QF(s,["className","cspNonce"]),f=RF();return DF(d,function(){return f.current},[]),Cm(function(){var h=n.inject(f.current,{nonce:s.cspNonce});return function(){h.destroy()}},[]),qt(e,ql({ref:f,"data-styled-id":r,className:"".concat(c," ").concat(r)},i))})}function t4(e,t,n,r,s,d){for(var v=0;v<s;++v){var c=n+v*s,i=r+v*s;e[c]+=e[i]*d,t[c]+=t[i]*d}}function n4(e,t,n,r,s){for(var d=0;d<s;++d){var v=n+d*s,c=r+d*s,i=e[v],f=t[v];e[v]=e[c],e[c]=i,t[v]=t[c],t[c]=f}}function r4(e,t,n,r,s){for(var d=0;d<r;++d){var v=n+d*r;e[v]/=s,t[v]/=s}}function i4(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var n=e.slice(),r=Tm(t),s=0;s<t;++s){var d=t*s+s;if(!el(n[d],Za)){for(var v=s+1;v<t;++v)if(n[t*s+v]){n4(n,r,s,v,t);break}}if(!el(n[d],Za))return[];r4(n,r,s,t,n[d]);for(var v=0;v<t;++v){var c=v,i=v+s*t,f=n[i];!el(f,Za)||s===v||t4(n,r,c,s,t,-f)}}return r}function Hr(e,t,n){n===void 0&&(n=Math.sqrt(e.length));var r=[],s=e.length/n,d=t.length/s;if(s){if(!d)return e}else return t;for(var v=0;v<n;++v)for(var c=0;c<d;++c){r[c*n+v]=0;for(var i=0;i<s;++i)r[c*n+v]+=e[i*n+v]*t[c*s+i]}return r}function s4(e,t,n){n===void 0&&(n=t.length);var r=Hr(e,t,n),s=r[n-1];return r.map(function(d){return d/s})}function o4(e,t){return Hr(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function a4(e,t){return Hr(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function l4(e,t){return Hr(e,c4(t,4))}function no(e,t){var n=t[0],r=n===void 0?1:n,s=t[1],d=s===void 0?1:s,v=t[2],c=v===void 0?1:v;return Hr(e,[r,0,0,0,0,d,0,0,0,0,c,0,0,0,0,1],4)}function ol(e,t){var n=t[0],r=n===void 0?0:n,s=t[1],d=s===void 0?0:s,v=t[2],c=v===void 0?0:v;return Hr(e,[1,0,0,0,0,1,0,0,0,0,1,0,r,d,c,1],4)}function Jl(e,t){return Hr(e,t,4)}function c4(e,t){var n=Math.cos(e),r=Math.sin(e),s=Tm(t);return s[0]=n,s[1]=r,s[t]=-r,s[t+1]=n,s}function Tm(e){for(var t=e*e,n=[],r=0;r<t;++r)n[r]=r%(e+1)?0:1;return n}var Qi=function(){return Qi=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},Qi.apply(this,arguments)};function Om(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function u4(e,t){return t===void 0&&(t=0),h4(d4(e,t))}function kd(e,t){var n=s4(e,[t[0],t[1]||0,t[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function f4(e,t){t===void 0&&(t=document.body);for(var n=e,r=Om();n;){var s=getComputedStyle(n).transform;if(r=Jl(u4(s),r),n===t)break;n=n.parentElement}return r=i4(r,4),r[12]=0,r[13]=0,r[14]=0,r}function h4(e){var t=Om();return e.forEach(function(n){var r=n.matrixFunction,s=n.functionValue;r&&(t=r(t,s))}),t}function d4(e,t){t===void 0&&(t=0);var n=lm(e)?e:eF(e);return n.map(function(r){var s=tF(r),d=s.prefix,v=s.value,c=null,i=d,f="";if(d==="translate"||d==="translateX"||d==="translate3d"){var h=En(t)?Qi(Qi({},t),{"o%":t["%"]}):{"%":t,"o%":t},o=zi(v).map(function(j,q){return q===0&&"x%"in h?h["%"]=t["x%"]:q===1&&"y%"in h?h["%"]=t["y%"]:h["%"]=t["o%"],Ji(j,h)}),l=o[0],a=o[1],u=a===void 0?0:a,g=o[2],p=g===void 0?0:g;c=ol,f=[l,u,p]}else if(d==="translateY"){var m=En(t)?Qi({"%":t["y%"]},t):{"%":t},u=Ji(v,m);c=ol,f=[0,u,0]}else if(d==="translateZ"){var p=parseFloat(v);c=ol,f=[0,0,p]}else if(d==="scale"||d==="scale3d"){var _=zi(v).map(function(j){return parseFloat(j)}),y=_[0],b=_[1],w=b===void 0?y:b,C=_[2],x=C===void 0?1:C;c=no,f=[y,w,x]}else if(d==="scaleX"){var y=parseFloat(v);c=no,f=[y,1,1]}else if(d==="scaleY"){var w=parseFloat(v);c=no,f=[1,w,1]}else if(d==="scaleZ"){var x=parseFloat(v);c=no,f=[1,1,x]}else if(d==="rotate"||d==="rotateZ"||d==="rotateX"||d==="rotateY"){var O=fm(v),B=O.unit,Y=O.value,X=B==="rad"?Y:Y*Math.PI/180;d==="rotate"||d==="rotateZ"?(i="rotateZ",c=l4):d==="rotateX"?c=o4:d==="rotateY"&&(c=a4),f=X}else if(d==="matrix3d")c=Jl,f=zi(v).map(function(j){return parseFloat(j)});else if(d==="matrix"){var N=zi(v).map(function(j){return parseFloat(j)});c=Jl,f=[N[0],N[1],0,0,N[2],N[3],0,0,0,0,1,0,N[4],N[5],0,1]}else i="";return{name:d,functionName:i,value:v,matrixFunction:c,functionValue:f}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Zl=function(){return Zl=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},Zl.apply(this,arguments)};function p4(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var d=arguments[t],v=0,c=d.length;v<c;v++,s++)r[s]=d[v];return r}var g4=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(En(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(En(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var d=this._events[n];if(d){var v=ma(d,function(c){return c.listener===r});v>-1&&d.splice(v,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(d){s._addEvent(n,d,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var d=this._events[n];if(!n||!d)return!0;var v=!1;return r.eventType=n,r.stop=function(){v=!0},r.currentTarget=this,p4(d).forEach(function(c){c.listener(r),c.once&&s.off(n,c.listener)}),!v},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var d=this._events;d[n]=d[n]||[];var v=d[n];v.push(Zl({listener:r},s))},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ql=function(e,t){return Ql=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Ql(e,t)};function v4(e,t){Ql(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Zr=function(){return Zr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},Zr.apply(this,arguments)};function m4(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function al(e){if(e){if(Fr(e))return document.querySelector(e)}else return null;if(cm(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var _4=function(e){v4(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r}var n=t.prototype;return n.dragStart=function(r,s){var d=al(s.container);if(!d){this._flag=!1;return}var v=0,c=0,i=0,f=0;if(d===document.body)i=window.innerWidth,f=window.innerHeight;else{var h=d.getBoundingClientRect();v=h.top,c=h.left,i=h.width,f=h.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:v,left:c,width:i,height:f},this._prevScrollPos=this._getScrollPosition([0,0],s)},n.drag=function(r,s){if(clearTimeout(this._timer),!!this._flag){var d=r.clientX,v=r.clientY,c=s.threshold,i=c===void 0?0:c,f=this,h=f._startRect,o=f._startPos,l=[0,0];return h.top>v-i?(o[1]>h.top||v<o[1])&&(l[1]=-1):h.top+h.height<v+i&&(o[1]<h.top+h.height||v>o[1])&&(l[1]=1),h.left>d-i?(o[0]>h.left||d<o[0])&&(l[0]=-1):h.left+h.width<d+i&&(o[0]<h.left+h.width||d>o[0])&&(l[0]=1),!l[0]&&!l[1]?!1:this._continueDrag(Zr(Zr({},s),{direction:l,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var s=this;if(this._isWait)return!1;var d=r.prevScrollPos,v=d===void 0?this._prevScrollPos:d,c=r.direction,i=r.throttleTime,f=i===void 0?0:i,h=r.inputEvent,o=r.isDrag,l=this._getScrollPosition(c||[0,0],r),a=l[0]-v[0],u=l[1]-v[1],g=c||[a?Math.abs(a)/a:0,u?Math.abs(u)/u:0];return this._prevScrollPos=l,!a&&!u?!1:(this.trigger("move",{offsetX:g[0]?a:0,offsetY:g[1]?u:0,inputEvent:h}),f&&o&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},f)),!0)},n.dragEnd=function(){this._flag=!1,clearTimeout(this._timer)},n._getScrollPosition=function(r,s){var d=s.container,v=s.getScrollPosition,c=v===void 0?m4:v;return c({container:al(d),direction:r})},n._continueDrag=function(r){var s=this,d,v,c=r.container,i=r.direction,f=r.throttleTime,h=r.useScroll,o=r.isDrag,l=r.inputEvent;if(!(!this._flag||o&&this._isWait)){var a=Vl(),u=Math.max(f+this._prevTime-a,0);if(u>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},u),!1;this._prevTime=a;var g=this._getScrollPosition(i,r);this._prevScrollPos=g,o&&(this._isWait=!0);var p={container:al(c),direction:i,inputEvent:l};return(v=(d=r).requestScroll)===null||v===void 0||v.call(d,p),this.trigger("scroll",p),this._isWait=!1,h||this.checkScroll(Zr(Zr({},r),{prevScrollPos:g,direction:i,inputEvent:l}))}},t}(g4),ec=function(e,t){return ec=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ec(e,t)};function y4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ec(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Nt=function(){return Nt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},Nt.apply(this,arguments)};function es(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,d;r<s;r++)(d||!(r in t))&&(d||(d=Array.prototype.slice.call(t,0,r)),d[r]=t[r]);return e.concat(d||Array.prototype.slice.call(t))}function jn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zD.apply(void 0,es(["scena-guides-"],e,!1))}var b4=jn("guide","adder"),w4=jn("guides"),C4=jn("guide"),Ad=jn("dragging"),S4=jn("display-drag"),x4=HD("scena-guides-",`
{
    position: relative;
    width: 100%;
    height: 100%;
}
canvas {
    position: relative;
}
.guide-origin {
    position: absolute;
    width: 1px;
    height: 1px;
    top: 0;
    left: 0;
    opacity: 0;
}
.guides {
    position: absolute;
    bottom: 0;
    right: 0;
    will-change: transform;
    z-index: 2000;
}
.guide-pos {
    position: absolute;
    font-weight: bold;
    font-size: 12px;
    color: #f33;
}
.horizontal .guide-pos {
    bottom: 100%;
    left: 50%;
    transform: translate(-50%);
}
.vertical .guide-pos {
    left: calc(100% + 2px);
    top: 50%;
    transform: translateY(-50%);
}
.display-drag {
    position: absolute;
    will-change: transform;
    z-index: 2000;
    font-weight: bold;
    font-size: 12px;
    display: none;
    left: 20px;
    top: -20px;
    color: #f33;
}
:host.horizontal .guides {
    width: 100%;
    height: 0;
}
:host.vertical .guides {
    height: 100%;
    width: 0;
}
:host.horizontal canvas {
    cursor: ns-resize;
}
:host.vertical canvas {
    cursor: ew-resize;
}
.guide {
    position: absolute;
    background: #f33;
    z-index: 2;
}
.guide.dragging:before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
:host.horizontal .guide {
    width: 100%;
    height: 1px;
    cursor: row-resize;
}
:host.vertical .guide {
    width: 1px;
    height: 100%;
    cursor: col-resize;
}
.mobile :host.horizontal .guide {
    transform: scale(1, 2);
}
.mobile :host.vertical .guide {
    transform: scale(2, 1);
}
:host.horizontal .guide:before {
    height: 20px;
}
:host.vertical .guide:before {
    width: 20px;
}
.adder {
    display: none;
}
.adder.dragging {
    display: block;
}
`),T4=es(["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides","scrollOptions","guideStyle","guidesOffset","digit","defaultGuidesPos","dragGuideStyle","displayGuidePos","guidePosFormat","guidePosStyle","lockGuides"],Sm,!0),O4=["getGuides","loadGuides","scroll","scrollGuides","resize","getElement","getRulerElement","forceUpdate","getRulerScrollPos","getGuideScrollPos","zoomTo","drawRuler"],E4=["changeGuides","requestScroll","dragStart","drag","dragEnd","clickRuler"],P4=e4("div",x4),k4=function(e){y4(t,e);function t(r){var s=e.call(this,r)||this;return s.state={guides:[]},s.scrollPos=0,s.managerRef=xu(),s.guideElements=[],s._isFirstMove=!1,s._zoom=1,s._observer=null,s.onDragStart=function(d){var v=d.datas,c=d.inputEvent;s._isFirstMove=!0,s.movePos(d),s.props.onDragStart(Nt(Nt({},d),{dragElement:v.target})),s.gesto.isFlag()&&(c.stopPropagation(),c.preventDefault(),s._startDragScroll(d))},s._onDrag=function(d){s._isFirstMove&&(s._isFirstMove=!1,lF(d.datas.target,Ad));var v=s.movePos(d);if(s.props.onDrag(Nt(Nt({},d),{dragElement:d.datas.target})),!s.gesto.isFlag()){s._endDragScroll(d);return}return s._dragScroll(d),v},s.onDragEnd=function(d){var v=d.datas,c=d.isDouble,i=d.distX,f=d.distY,h=s.movePos(d),o=s.state.guides,l=s.props,a=l.onChangeGuides,u=l.displayDragPos,g=l.digit,p=l.lockGuides,m=l.guidesOffset,_=s._zoom,y=parseFloat((h/_).toFixed(g||0)),b=s.scrollPos-(m||0);if(u&&(s.displayElement.style.cssText+="display: none;"),cF(v.target,Ad),s.props.onDragEnd(Nt(Nt({},d),{dragElement:v.target})),s._endDragScroll(d),v.fromRuler)s._isFirstMove&&s.props.onClickRuler(Nt(Nt({},d),{pos:0})),y>=b&&o.indexOf(y)<0&&s.setState({guides:es(es([],o,!0),[y],!1)},function(){a({guides:s.state.guides,distX:i,distY:f,index:o.length,isAdd:!0,isRemove:!1,isChange:!1})});else{var w=parseFloat(v.target.getAttribute("data-index")),C=!1,x=!1;o=es([],o,!0);var O=o.indexOf(y);if(c||y<b||O>-1&&O!==w){if(p&&(p===!0||p.indexOf("remove")>-1))return;o.splice(w,1),C=!0}else{if(O>-1)return;if(p&&(p===!0||p.indexOf("change")>-1))return;o[w]=y,x=!0}s.setState({guides:o},function(){var B=s.state.guides;a({distX:i,distY:f,guides:B,isAdd:!1,index:w,isChange:x,isRemove:C})})}},s._onCheck=function(){s.resize()},s.state.guides=r.defaultGuides||[],s.scrollPos=r.defaultGuidesPos||0,s}var n=t.prototype;return n.render=function(){var r=this.props,s=r.className,d=r.type,v=r.zoom,c=r.style,i=r.rulerStyle,f=r.displayDragPos,h=r.cspNonce,o=r.dragGuideStyle,l=r.guidePosStyle,a=l===void 0?{}:l,u=this.props,g=this.getTranslateName(),p={};return Sm.forEach(function(m){m==="style"||m==="warpSelf"||m==="useResizeObserver"||(p[m]=u[m])}),this._zoom=v,qt(P4,{ref:this.managerRef,cspNonce:h,className:"".concat(jn("manager",d)," ").concat(s),style:c},qt("div",{className:jn("guide-origin"),ref:or(this,"originElement")}),qt(LF,Nt({ref:or(this,"ruler"),style:i},p)),qt("div",{className:w4,ref:or(this,"guidesElement"),style:{transform:"".concat(g,"(").concat(-this.scrollPos*v,"px)")}},f&&qt("div",{className:S4,ref:or(this,"displayElement"),style:a||{}}),qt("div",{className:b4,ref:or(this,"adderElement"),style:o}),this.renderGuides()))},n.drawRuler=function(r){this.ruler.draw(r)},n.renderGuides=function(){var r=this,s=this.props,d=s,v=d.type,c=d.showGuides,i=d.guideStyle,f=d.displayGuidePos,h=d.guidePosStyle,o=h===void 0?{}:h,l=d.guidesOffset,a=this._zoom,u=this.getTranslateName(),g=this.state.guides,p=s.guidePosFormat||s.dragPosFormat||function(m){return m};if(this.guideElements=[],c)return g.map(function(m,_){var y=m+(l||0);return qt("div",{className:jn("guide",v),ref:UD(r,"guideElements",_),key:_,"data-index":_,"data-pos":m,style:Nt(Nt({},i),{transform:"".concat(u,"(").concat(y*a,"px) translateZ(0px)")})},f&&qt("div",{className:jn("guide-pos"),style:o||{}},p(m)))})},n.componentDidMount=function(){var r=this;this.gesto=new WF(this.managerRef.current,{container:document.body}).on("dragStart",function(s){var d=r.props,v=d.type,c=d.lockGuides,i=r._zoom;if(c===!0){s.stop();return}var f=s.inputEvent,h=f.target,o=s.datas,l=r.ruler.canvasElement,a=r.guidesElement,u=v==="horizontal",g=r.originElement.getBoundingClientRect(),p=f4(r.managerRef.current),m=kd(p,[s.clientX-g.left,s.clientY-g.top]);m[0]-=a.offsetLeft,m[1]-=a.offsetTop,m[u?1:0]+=r.scrollPos*i,o.offsetPos=m,o.matrix=p;var _=c&&c.indexOf("add")>-1,y=c&&c.indexOf("remove")>-1,b=c&&c.indexOf("change")>-1;if(h===l){if(_){s.stop();return}o.fromRuler=!0,o.target=r.adderElement}else if(aF(h,C4)){if(y&&b){s.stop();return}o.target=h}else return s.stop(),!1;r.onDragStart(s)}).on("drag",this._onDrag).on("dragEnd",this.onDragEnd),this.props.useResizeObserver?(this._observer=new ResizeObserver(this._onCheck),this._observer.observe(this.guidesElement,{box:"border-box"}),this._observer.observe(this.getRulerElement(),{box:"border-box"})):this._onCheck()},n.componentWillUnmount=function(){var r;this.gesto.unset(),(r=this._observer)===null||r===void 0||r.disconnect()},n.componentDidUpdate=function(r){var s=this.props.defaultGuides;r.defaultGuides!==s&&this.setState({guides:s||[]})},n.loadGuides=function(r){this.setState({guides:r})},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(r,s){s===void 0&&(s=this._zoom),this._zoom=s;var d=this.getTranslateName(),v=this.guidesElement;this.scrollPos=r,v.style.transform="".concat(d,"(").concat(-r*s,"px)");var c=this.state.guides,i=this.props.guidesOffset||0;this.guideElements.forEach(function(f,h){if(f){var o=c[h]+(i||0);f.style.transform="".concat(d,"(").concat(o*s,"px) translateZ(0px)"),f.style.display=-r+o<0?"none":"block"}})},n.zoomTo=function(r){this.scroll(this.getRulerScrollPos(),r),this.scrollGuides(this.getGuideScrollPos(),r)},n.getElement=function(){return this.managerRef.current},n.getRulerElement=function(){return this.ruler.canvasElement},n.getGuideScrollPos=function(){return this.scrollPos},n.getRulerScrollPos=function(){return this.ruler.getScrollPos()},n.scroll=function(r,s){s===void 0&&(s=this._zoom),this._zoom=s,this.ruler.scroll(r,s)},n.resize=function(r){r===void 0&&(r=this._zoom),this.ruler.resize(r)},n.movePos=function(r){var s=r.datas,d=r.distX,v=r.distY,c=this.props,i=c.type,f=c.snaps,h=c.snapThreshold,o=c.displayDragPos,l=c.digit,a=c.guidesOffset||0,u=this._zoom,g=c.dragPosFormat||function(X){return X},p=i==="horizontal",m=kd(s.matrix,[d,v]),_=s.offsetPos,y=m[0]+_[0],b=m[1]+_[1],w=a*u,C=Math.round(p?b:y)-a,x=parseFloat((C/u).toFixed(l||0)),O=f.slice().sort(function(X,N){return Math.abs(x-X)-Math.abs(x-N)});if(O.length&&Math.abs(O[0]*u-C)<h&&(x=O[0],C=x*u),!s.fromRuler||!this._isFirstMove){if(o){var B=i==="horizontal"?[y,C+w]:[C+w,b];this.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) "+"translate(".concat(B.map(function(X){return"".concat(X,"px")}).join(", "),")"),this.displayElement.innerHTML="".concat(g(x))}var Y=s.target;Y.setAttribute("data-pos",x),Y.style.transform="".concat(this.getTranslateName(),"(").concat(C+a*u,"px)")}return C},n.getTranslateName=function(){return this.props.type==="horizontal"?"translateY":"translateX"},n._startDragScroll=function(r){var s=this,d=this.props.scrollOptions;if(d){var v=r.datas,c=new _4;v.dragScroll=c,c.on("scroll",function(i){var f,h,o=i.container,l=i.direction;(h=(f=s.props).onRequestScroll)===null||h===void 0||h.call(f,{container:o,direction:l})}).on("move",function(i){var f=i.offsetX,h=i.offsetY,o=i.inputEvent;s.gesto.scrollBy(f,h,o.inputEvent,!0)}),c.dragStart(r,{container:d.container})}},n._dragScroll=function(r){var s=this.props.scrollOptions;if(s){var d=r.datas.dragScroll;d.drag(r,s)}},n._endDragScroll=function(r){var s;(s=r.datas.dragScroll)===null||s===void 0||s.dragEnd(),r.datas.dragScroll=null},t.defaultProps={className:"",type:"horizontal",zoom:1,style:{},snapThreshold:5,snaps:[],digit:0,onClickRuler:function(){},onChangeGuides:function(){},onRequestScroll:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(r){return r},defaultGuides:[],lockGuides:!1,showGuides:!0,guideStyle:{},dragGuideStyle:{},guidePosStyle:{},defaultGuidesPos:0},t}(_m),tc=function(e,t){return tc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},tc(e,t)};function Ou(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tc(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var $o=function(){return $o=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},$o.apply(this,arguments)};function A4(e,t,n,r){var s=arguments.length,d=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(v=e[c])&&(d=(s<3?v(d):s>3?v(t,n,d):v(t,n))||d);return s>3&&d&&Object.defineProperty(t,n,d),d}var Em=T4,Pm=O4,km=E4,I4=function(e){Ou(t,e);function t(r){var s=e.call(this,r)||this;return s.state={},s.state=s.props,s}var n=t.prototype;return n.render=function(){return qt(k4,$o({ref:or(this,"guides")},this.state))},t}(Su);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nc=function(){return nc=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},nc.apply(this,arguments)};function M4(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var d=arguments[t],v=0,c=d.length;v<c;v++,s++)r[s]=d[v];return r}var R4=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(En(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(En(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var d=this._events[n];if(d){var v=ma(d,function(c){return c.listener===r});v>-1&&d.splice(v,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(d){s._addEvent(n,d,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var d=this._events[n];if(!n||!d)return!0;var v=!1;return r.eventType=n,r.stop=function(){v=!0},r.currentTarget=this,M4(d).forEach(function(c){c.listener(r),c.once&&s.off(n,c.listener)}),!v},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var d=this._events;d[n]=d[n]||[];var v=d[n];v.push(nc({listener:r},s))},e}(),D4=function(e){Ou(t,e);function t(r,s){s===void 0&&(s={});var d=e.call(this)||this;d.containerProvider=null,d.selfElement=null,d._warp=!1;var v={};km.forEach(function(i){v[nF("on ".concat(i))]=function(f){return d.trigger(i,f)}});var c;return s.warpSelf?(delete s.warpSelf,d._warp=!0,c=r):(c=document.createElement("div"),r.appendChild(c)),d.containerProvider=Od(qt(I4,$o({ref:or(d,"innerGuides")},v,s)),c),d}var n=t.prototype;return n.setState=function(r,s){this.innerGuides.setState(r,s)},n.forceUpdate=function(r){this.innerGuides.forceUpdate(r)},n.destroy=function(){var r,s=this.selfElement;Od(null,s,this.containerProvider),this._warp||(r=s?.parentElement)===null||r===void 0||r.removeChild(s),this.selfElement=null,this.innerGuides=null},n.getInnerGuides=function(){return this.innerGuides.guides},t=A4([bd(Pm,function(r,s){r[s]||(r[s]=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];var c=this.getInnerGuides();if(!(!c||!c[s]))return c[s].apply(c,d)})}),bd(Em,function(r,s){Object.defineProperty(r,s,{get:function(){return this.getInnerGuides().props[s]},set:function(d){var v;this.innerGuides.setState((v={},v[s]=d,v))},enumerable:!0,configurable:!0})})],t),t}(R4),F4=function(e){Ou(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(D4);const bs=[...Em];bs.splice(bs.indexOf("style"),1);const Am={},Eu={};bs.forEach(e=>{Eu[e]=function(t){this.$_guides[e]=t}});Eu.vueStyle=function(e){this.$_guides.style=e};Pm.forEach(e=>{Am[e]=function(...t){return this.$_guides[e](...t)}});const L4={name:"guides",methods:Am,watch:Eu,props:[...bs,"vueStyle"],mounted(){const e={},t=this.$props;bs.forEach(d=>{const v=t[d];am(v)||(e[d]=t[d])});const r=this.$refs.container;e.style=t.vueStyle,e.warpSelf=!0,this.$_guides=new F4(r,e);const s=this.$_guides;km.forEach(d=>{s.on(d,v=>{this.$emit(d,{...v})})})},beforeUnmount(){this.$_guides.destroy()}},B4={ref:"container"};function $4(e,t,n,r,s,d){return W(),ae("div",B4,null,512)}const j4=pt(L4,[["render",$4]]),Pu=e=>(xs("data-v-6222b431"),e=e(),Ts(),e),N4=Pu(()=>J("path",{d:"M12.75 12.75H21V11.25H12.75H11.25H3V12.75H11.25H12.75Z",fill:"currentColor"},null,-1)),z4=[N4],H4=Pu(()=>J("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.25 12.75V21H12.75V12.75H21V11.25H12.75V3H11.25V11.25H3V12.75H11.25Z",fill:"currentColor"},null,-1)),U4=[H4],V4=["random"],W4=["onClick"],Y4={class:"dc-layout-scale-bar-item__menu__item--main"},X4=Pu(()=>J("hr",null,null,-1)),G4={__name:"scale-bar",props:{clearRule:{type:Function},lockRule:{type:Function},onRuleShow:{type:Function},ruleShow:{type:Boolean}},setup(e){const t=e,n=fe(!1),r=fe(),s=Ae("canvas"),d=Ae("handler"),v=fe(),c=fe([[{type:"showRule",title:"显示标尺和参考线",status:()=>{t.onRuleShow()}}],[{type:"clearRule",title:"清除参考线",status:()=>{t.clearRule()}}],[{type:"size",title:"400%",value:4,status:()=>{d.value?.workareaHandler.setZoomAuto(4)}},{type:"size",title:"200%",value:2,status:()=>{d.value?.workareaHandler.setZoomAuto(2)}},{type:"size",title:"100%",value:1,status:()=>{d.value?.workareaHandler.setZoomAuto(1)}},{type:"size",title:"50%",value:.5,status:()=>{d.value?.workareaHandler.setZoomAuto(.5)}}],[{type:"fullscreen",title:"适合满屏",status:()=>{d.value?.workareaHandler.one()}},{type:"fullscreen",title:"填满屏幕",status:()=>{d.value?.workareaHandler.one()}}]]);function i(g){g.status()}function f(){n.value=!n.value}function h(g){if(n.value){const p=d.value?.canvas?.viewportTransform||[],m=d.value?.workareaHandler?.one();switch(g.type){case"showRule":return t.ruleShow;case"size":return g.value==p[0];case"fullscreen":return m==p[0]}}}function o(){return s.value?parseInt(s.value.getZoom()*100)+"%":"0%"}function l(){v.value=Math.random()*1e3}function a(){d.value?.workareaHandler.small()}function u(){d.value?.workareaHandler.big()}return Qe(()=>{window.addEventListener("resize",l)}),Ci(()=>{window.removeEventListener("resize",l)}),(g,p)=>{const m=je("popover");return W(),ae("div",{class:"dc-layout-scale-bar popover",ref_key:"scaleDom",ref:r},[(W(),ae("svg",{role:"img","aria-label":"minus",focusable:"false","data-icon":"minus","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-minus",onClick:a},z4)),(W(),ae("svg",{role:"img","aria-label":"add",focusable:"false","data-icon":"add","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-add",onClick:u},U4)),J("span",{class:"dc-layout-scale-bar__percent gda-popover-open",onClick:f,random:v.value},Be(o()),9,V4),he(m,{dom:r.value,show:n.value,onClose:p[0]||(p[0]=_=>n.value=!1)},{default:ve(({setSlotRef:_})=>[J("div",{class:"content",ref:y=>_(y)},[(W(!0),ae(Me,null,ot(c.value,(y,b)=>(W(),ae(Me,{key:b},[(W(!0),ae(Me,null,ot(y,w=>(W(),ae("div",{key:w.type,class:pe(["dc-layout-scale-bar-item__menu__item",h(w)?"menu-active":""]),onClick:C=>i(w)},[J("span",Y4,Be(w.title),1)],10,W4))),128)),X4],64))),128))],512)]),_:1},8,["dom","show"])],512)}}},K4=pt(G4,[["__scopeId","data-v-6222b431"]]),q4={components:{Guides:j4,ScaleBar:K4},setup(){const e=fe(),t=fe(),n=fe(),r=fe(null),s=fe(),d=Ae("handler"),v=fe(!0),c=fe(),i=fe(!0),{state:f}=Br(),h=K(()=>{const C=d.value?.canvas?.viewportTransform,x=f.workspace;return C&&x?{left:parseInt(C[4]),top:parseInt(C[5]),zoom:C[0],width:x.width,height:x.height}:{left:0,x:1,y:1,top:0}}),o=K(()=>f.workspace?.unit);ke(()=>h.value?.zoom,()=>{m()},{deep:!0}),ke(()=>[f.workspace?.width,f.workspace?.height,o.value],()=>{u()}),Qe(()=>{window.addEventListener("resize",g),s.value.addEventListener("scroll",p)}),Ci(()=>{window.removeEventListener("resize",g)});const l=K(()=>r.value?[[r.value.left,r.value.left+r.value.width]]:[]),a=K(()=>r.value?[[r.value.top,r.value.top+r.value.height]]:[]);K(()=>r.value?r.value.width-r.value.width*(1-r.value.zoom)/2:0);function u(){if(s.value&&d.value){const{offsetWidth:C,offsetHeight:x}=s.value,{width:O,height:B}=d.value.workareaHandler.option;let Y=d.value.workareaHandler?.unitEnum[o.value];const X={px:1e3,cm:3e3,mm:100};let N=h.value?.zoom?h.value.zoom>1?1:h.value.zoom:1;const j=d.value?.workareaHandler.getAutoScale();N<j&&(N=N/j);const q=O>1e3||B>1e3?100:50,se=50,le=50;o.value=="mm"&&(Y/=3),C/O<x/B?c.value=parseInt((Math.floor(parseInt(le/(C/O)/N)/se)||1)*q||10):c.value=parseInt((Math.floor(parseInt(le/(x/B)/N)/se)||1)*q||10),c.value<Y?c.value=Y/N*2:c.value>X[o.value]&&(c.value=X[o.value])}}function g(){e.value.resize(),t.value.resize(),h.value&&m()}function p(){const C=s.value.scrollTop,x=s.value.scrollLeft;e.value.scroll(x),t.value.scrollGuides(x),t.value.scroll(C),e.value.scrollGuides(C)}function m(){h.value&&(r.value={left:h.value.left,top:h.value.top,width:h.value.width,height:h.value.height,zoom:h.value.zoom})}function _(){e.value.loadGuides([]),t.value.loadGuides([])}function y(){v.value=!v.value}function b(C){C.isChange=!1}function w(){i.value=!i.value}return{guides1:e,guides2:t,horRange:l,verRange:a,shell:n,shellPoi:r,container:s,clearRule:_,lockRule:y,unitType:o,unit:c,OnChangeGuides:b,ruleShow:i,onRuleShow:w,initRuleRange:m,textFormat(C){return parseInt(C/d.value?.workareaHandler.unitEnum[o.value])},verTextFormat(C){return parseInt(C/d.value?.workareaHandler.unitEnum[o.value])},DragPosFormat(C){return console.log("value",C),C}}}},J4={class:"main"},Z4={class:"ruler horizontal"},Q4={class:"ruler vertical"},eL={class:"editor-container",ref:"container"},tL={class:"editor-shell-wrap",ref:"shell"},nL={class:"edit-bottom"};function rL(e,t,n,r,s,d){const v=je("Guides"),c=je("ScaleBar");return W(),ae("div",J4,[et(J("div",{class:"box",onClick:t[0]||(t[0]=(...i)=>e.onRestore&&e.onRestore(...i)),ref:"box"},[J("span",null,Be(r.unitType),1)],512),[[ht,r.ruleShow]]),et(J("div",Z4,[he(v,{ref:"guides1",type:"horizontal",direction:"start",textAlign:"left",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[0,-8],selectedRangesTextOffset:[0,-8],longLineSize:5,textFormat:r.textFormat,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",defaultPixelScale:1,scrollPos:20,selectedRangesText:!0,textColor:"#7f8792",selectedRangesTextColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,markColor:"red",segment:2,displayDragPos:!1,rulerStyle:{left:"20px",width:"calc(100% - 20px)",height:"20px"},unit:r.unit,useResizeObserver:!0,onChangeGuides:r.OnChangeGuides},null,8,["textFormat","zoom","rulerStyle","unit","onChangeGuides"])],512),[[ht,r.ruleShow]]),et(J("div",Q4,[he(v,{ref:"guides2",type:"vertical",direction:"start",textAlign:"right",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[-8,0],selectedRangesTextOffset:[-8,0],longLineSize:5,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",selectedRangesText:!0,textFormat:r.verTextFormat,textColor:"#7f8792",selectedRangesTextColor:"red",markColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,segment:1,useResizeObserver:!0,unit:r.unit,displayDragPos:!0,rulerStyle:{top:"20px",height:"calc(100% - 20px)",width:"20px"}},null,8,["textFormat","zoom","unit","rulerStyle"])],512),[[ht,r.ruleShow]]),J("div",eL,[J("div",tL,[Ce(e.$slots,"canvas",{},void 0,!0)],512)],512),J("div",nL,[he(c,{clearRule:r.clearRule,lockRule:r.lockRule,ruleShow:r.ruleShow,onRuleShow:r.onRuleShow},null,8,["clearRule","lockRule","ruleShow","onRuleShow"])])])}const iL=pt(q4,[["render",rL],["__scopeId","data-v-6fab0458"]]),sL=[{text:"设计",type:"design"},{text:"动画",type:"animate",showList:["textbox","FontCustom","Image"]}],oL={class:"common-checkbox"},aL=["id"],lL=["for"],cL={__name:"checkbox",props:{className:{type:String,default:""},initValue:{type:Object,default:()=>({})},typeKey:{type:String,default:""},content:{type:String,default:""},disabled:{type:Boolean,default:!1},activeName:{type:String,default:""},effect:{type:String,default:"dark"},placement:{type:String,default:"bottom"}},setup(e){const t=e,{emit:n}=Tc(),r=K({get(){return t.initValue[t.typeKey]},set(s){n("change",s)}});return(s,d)=>{const v=je("el-tooltip");return W(),Se(v,{class:"item",effect:e.effect,content:e.content,placement:e.placement},{default:ve(()=>[J("div",oL,[et(J("input",{type:"checkbox",id:"toggle_"+e.typeKey,"onUpdate:modelValue":d[0]||(d[0]=c=>r.value=c)},null,8,aL),[[Qp,r.value]]),J("label",{for:"toggle_"+e.typeKey,class:pe(["switch",[e.className,r.value?"switch-active":"",r.value?e.activeName:"",e.disabled?"switch-disabeld":""]])},[Ce(s.$slots,"default",{},void 0,!0)],10,lL)])]),_:3},8,["effect","content","placement"])}}},uL=pt(cL,[["__scopeId","data-v-037d29d3"]]),fL={components:{Checkbox:uL},props:{onChange:{type:Function},canvasRef:{type:Object},barShow:{type:Array,default:()=>["locked","layer","flip","copy","delete"]},poi:{type:String,default:"bottom"}},computed:{islocked(){return!1}},methods:{myCheck(){},getBarShow(e){return this.barShow.includes(e)},copy(){},handleDelete(){}}},hL={class:"bar"},dL={class:"func-content"},pL={class:"func-content"},gL={class:"func-content"},vL={class:"func-content"},mL={class:"func-content"};function _L(e,t,n,r,s,d){const v=je("el-tooltip"),c=je("Checkbox");return W(),ae("div",hL,[et(J("div",dL,[he(v,{class:"item",effect:"dark",content:"图层顺序",placement:"top",disabled:d.islocked},{default:ve(()=>[J("i",{class:"iconfont icon-cengji",onClick:t[0]||(t[0]=vt((...i)=>e.onLayerShow&&e.onLayerShow(...i),["stop"]))})]),_:1},8,["disabled"])],512),[[ht,d.getBarShow("layer")]]),et(J("div",pL,[he(v,{class:"item",effect:"dark",content:"翻转",placement:"top",disabled:d.islocked},{default:ve(()=>[J("i",{class:"iconfont icon-zuoyoufanzhuan",onClick:t[1]||(t[1]=vt((...i)=>e.handleFlip&&e.handleFlip(...i),["stop"]))})]),_:1},8,["disabled"])],512),[[ht,d.getBarShow("flip")]]),et(J("div",gL,[he(c,{className:"iconfont icon-unlock",activeName:"icon-suoding_huaban",content:"锁定图层",initValue:{locked:!1},typeKey:"locked",effect:"dark",placement:"top",onChange:d.myCheck},null,8,["onChange"])],512),[[ht,d.getBarShow("locked")]]),et(J("div",vL,[he(v,{class:"item",effect:"dark",content:"创建副本",placement:"top",disabled:d.islocked},{default:ve(()=>[J("i",{class:"iconfont icon-fuzhi",onClick:t[2]||(t[2]=(...i)=>d.copy&&d.copy(...i))})]),_:1},8,["disabled"])],512),[[ht,d.getBarShow("copy")]]),et(J("div",mL,[he(v,{class:"item",effect:"dark",content:"删除",placement:"top",disabled:d.islocked},{default:ve(()=>[J("i",{class:pe(["iconfont icon-delete",d.islocked?"icon_noactive":""]),onClick:t[3]||(t[3]=(...i)=>d.handleDelete&&d.handleDelete(...i))},null,2)]),_:1},8,["disabled"])],512),[[ht,d.getBarShow("delete")]])])}const yL=pt(fL,[["render",_L],["__scopeId","data-v-a6b76b0b"]]),bL=[{material_type:"canvas_size",id:2931,title:"手机海报",material:{unit:"px",name:"手机海报",width:"1242",height:"2208"}},{material_type:"canvas_size",id:2932,title:"公众号首图 ",material:{unit:"px",name:"公众号首图 ",width:"900",height:"383"}},{material_type:"canvas_size",id:2933,title:"公众号次图",material:{unit:"px",name:"公众号次图",width:"500",height:"500"}},{material_type:"canvas_size",id:12425,title:"小红书配图",material:{unit:"px",name:"小红书配图",width:"1242",height:"1660"}},{material_type:"canvas_size",id:2934,title:"商品主图",material:{unit:"px",name:"商品主图",width:"800",height:"800"}},{material_type:"canvas_size",id:2935,title:"小程序封面",material:{unit:"px",name:"小程序封面",width:"520",height:"416"}},{material_type:"canvas_size",id:2936,title:"电商横版海报",material:{unit:"px",name:"电商横版海报",width:"1200",height:"675"}},{material_type:"canvas_size",id:2937,title:"电商竖版海报",material:{unit:"px",name:"电商竖版海报",width:"1200",height:"1920"}},{material_type:"canvas_size",id:2938,title:"电商全屏海报",material:{unit:"px",name:"电商全屏海报",width:"1920",height:"700"}},{material_type:"canvas_size",id:2939,title:"店招",material:{unit:"px",name:"店招",width:"1920",height:"150"}},{material_type:"canvas_size",id:2940,title:"手机端店铺首页 ",material:{unit:"px",name:"手机端店铺首页 ",width:"750",height:"1000"}},{material_type:"canvas_size",id:12427,title:"横版视频封面",material:{unit:"px",name:"横版视频封面",width:"1920",height:"1080"}},{material_type:"canvas_size",id:12428,title:"竖版视频封面",material:{unit:"px",name:"竖版视频封面",width:"1080",height:"1260"}},{material_type:"canvas_size",id:12426,title:"竖版直播背景",material:{unit:"px",name:"竖版直播背景",width:"1242",height:"2690"}},{material_type:"canvas_size",id:2941,title:"PPT（16:9）",material:{unit:"px",name:"PPT（16:9）",width:"1920",height:"1080"}},{material_type:"canvas_size",id:2942,title:"名片",material:{unit:"mm",name:"名片",width:"96",dpi:"300",height:"60"}},{material_type:"canvas_size",id:2949,title:"张贴海报",material:{unit:"mm",name:"张贴海报",width:"426",dpi:"300",height:"576"}},{material_type:"canvas_size",id:2948,title:"2m易拉宝",material:{unit:"cm",name:"2m易拉宝",width:"80",dpi:"150",height:"200"}},{material_type:"canvas_size",id:2947,title:"1.8m展架",material:{unit:"cm",name:"1.8m展架",width:"80",dpi:"150",height:"180"}},{material_type:"canvas_size",id:2946,title:"优惠券",material:{unit:"mm",name:"优惠券",width:"168",dpi:"300",height:"66"}},{material_type:"canvas_size",id:2945,title:"门票",material:{unit:"mm",name:"门票",width:"206",dpi:"300",height:"86"}},{material_type:"canvas_size",id:2944,title:"三折页",material:{unit:"mm",name:"三折页",width:"291",dpi:"300",height:"216"}},{material_type:"canvas_size",id:2943,title:"画册",material:{unit:"mm",name:"画册",width:"426",dpi:"300",height:"291"}},{material_type:"canvas_size",id:2950,title:"A3纸张",material:{unit:"mm",name:"A3纸张",width:"291",dpi:"300",height:"420"}},{material_type:"canvas_size",id:2951,title:"A4纸张",material:{unit:"mm",name:"A4纸张",width:"210",dpi:"300",height:"297"}},{material_type:"canvas_size",id:2952,title:"A5纸张",material:{unit:"mm",name:"A5纸张",width:"148",dpi:"300",height:"210"}}],ku=e=>(xs("data-v-3f9145c4"),e=e(),Ts(),e),wL={class:"workspace-size"},CL={class:"size-header"},SL=ku(()=>J("span",null,"调整尺寸",-1)),xL={class:"header_toolbar"},TL={class:"custom-size popover"},OL={class:"input-number-group"},EL={class:"input-number",type:"number"},PL={class:"input-number",type:"number"},kL={class:"input-number-group__suffix"},AL={key:0,class:"iconfont icon-link-outline"},IL={key:1,class:"iconfont icon-unlink-outline"},ML={type:"button",class:"btn-px"},RL={class:"dbu-resize-panel__unit-select__text"},DL={class:"unit-menu-list"},FL=["onClick"],LL={class:"size-body"},BL={class:"size-list"},$L=ku(()=>J("div",{class:"size-name"},"自定义尺寸",-1)),jL=["onClick"],NL={class:"size-name"},zL={class:"size-info"},HL=ku(()=>J("span",{class:"m03"},"×",-1)),UL={class:"m03"},VL={__name:"workspace-size",setup(e){const{state:t}=Br(),n=fe(bL),r=Ae("handler"),s=fe(!1);fe(!1);const d=fe([{unit:"px",title:"像素"},{unit:"cm",title:"厘米"},{unit:"mm",title:"毫米"}]),v=K({get(){const u=r.value?.workareaHandler.unitEnum[f.value];let g=0;return u&&(g=t.workspace?.width/u),parseInt(g||0)},set(u){if(s.value){const g=r.value?.workareaHandler.getBili(),p=u/g;r.value?.workareaHandler.setSize(parseInt(u),parseInt(p));return}r.value?.workareaHandler.setWidth(parseInt(u))}}),c=K({get(){const u=r.value?.workareaHandler.unitEnum[f.value];let g=0;return u&&(g=t.workspace?.height/u),parseInt(g||0)},set(u){if(s.value){const g=r.value?.workareaHandler.getBili(),p=u*g;r.value?.workareaHandler.setSize(parseInt(p),parseInt(u));return}r.value?.workareaHandler.setHeight(parseInt(u))}}),i=K(()=>t.workspace),f=K(()=>i.value?.unit);function h(u){i.value.set({sizeId:u.id,unit:u?.material.unit}),r.value?.workareaHandler.setSize(parseInt(u?.material.width),parseInt(u?.material.height))}function o(){i.value.sizeId=""}function l(){s.value=!s.value}function a(u){r.value?.workareaHandler.unpdateUnit(u.unit)}return(u,g)=>{const p=je("el-tooltip");return W(),ae("div",wL,[J("div",CL,[J("div",{class:"header_back",onClick:g[0]||(g[0]=m=>u.$emit("back"))},[he(S(Og),{style:{width:"16px",height:"16px"}}),SL]),J("div",xL,[J("div",TL,[J("div",OL,[J("div",EL,[he(S(Nl),{modelValue:v.value,"onUpdate:modelValue":g[1]||(g[1]=m=>v.value=m),min:1,max:2e3},null,8,["modelValue"])]),J("div",PL,[he(S(Nl),{modelValue:c.value,"onUpdate:modelValue":g[2]||(g[2]=m=>c.value=m),min:1,max:2e3},null,8,["modelValue"])]),J("div",kL,[he(p,{class:"item",effect:"dark",content:"锁定宽高比",placement:"top"},{default:ve(()=>[J("button",{type:"button",onClick:l},[s.value?(W(),ae("i",AL)):(W(),ae("i",IL))])]),_:1})])]),he(S(FR),{placement:"bottom-start","popper-class":"unit-menu",width:200,offset:2,trigger:"hover","show-arrow":!1},{reference:ve(()=>[J("button",ML,[J("span",RL,Be(i.value&&i.value.unit),1),he(S(ze),{size:12,class:"up"},{default:ve(()=>[he(S(Eg))]),_:1}),he(S(ze),{size:12,class:"down"},{default:ve(()=>[he(S(na))]),_:1})])]),default:ve(()=>[J("div",DL,[(W(!0),ae(Me,null,ot(d.value,(m,_)=>(W(),ae("div",{class:"unit-menu-item",key:_,onClick:y=>a(m)},[J("div",{class:pe(m.unit==i.value?.unit?"unit-menu-item-select":"")},[Os(Be(m.unit)+"  ("+Be(m.title)+") ",1),m.unit==i.value?.unit?(W(),Se(S(ze),{key:0,style:{width:"1em",height:"1em"}},{default:ve(()=>[he(S(za))]),_:1})):ye("",!0)],2)],8,FL))),128))])]),_:1})])])]),J("div",LL,[J("div",BL,[J("div",{class:pe(["size-item",!i.value||!i.value.sizeId?"size-item-select":""]),onClick:o},[he(S(ze),{style:{width:"1em",height:"1em"}},{default:ve(()=>[he(S(za))]),_:1}),$L],2),(W(!0),ae(Me,null,ot(n.value,(m,_)=>(W(),ae("div",{class:pe(["size-item",i.value&&m.id==i.value.sizeId?"size-item-select":""]),key:_,onClick:y=>h(m)},[he(S(ze),{style:{width:"1em",height:"1em"}},{default:ve(()=>[he(S(za))]),_:1}),J("div",NL,Be(m.title),1),J("div",zL,[J("span",null,Be(m.material.width),1),HL,J("span",null,Be(m.material.height),1),J("span",UL,Be(m.material.unit),1)])],10,jL))),128))])])])}}},WL=pt(VL,[["__scopeId","data-v-3f9145c4"]]),YL={components:{ElSlider:w3},props:{onChange:{type:Function},step:{type:Number,default:.01},item:{type:Object,default:null},min:{type:Number,default:0},max:{type:Number,default:1},size:{type:String,default:"mini"},value:{type:Number,default:1},typeKey:{type:String,default:""},lw:{type:String,default:"30%"},twoKey:{type:String,default:""},precentage:{type:Boolean,default:!1}},computed:{...Tg({selectedItem:e=>e.selectedItem}),slideData(){return this.selectedItem&&this.selectedItem[this.typeKey]?Number(this.selectedItem[this.typeKey]).toFixed(2):0},slideValue(){return this.getValue(this.selectedItem&&this.selectedItem[this.typeKey])}},methods:{onInputChange(e){this.precentage&&(e=e/100),this.twoKey?this.onChange(this.selectedItem,{[this.twoKey]:{[this.typeKey]:e}},{start:!0}):this.onChange(null,{[this.typeKey]:e},{start:!0})},slideChange(e){this.precentage&&(e=e/100),this.twoKey?this.onChange(this.selectedItem,{[this.twoKey]:{[this.typeKey]:e}},{end:!0}):this.onChange(null,{[this.typeKey]:e},{end:!0})},getValue(e){return console.log("888",e),e?this.precentage?e*100:e:0}}},XL={key:0,class:"slide"},GL={key:1,class:"slide"},KL={class:"slide-text"};function qL(e,t,n,r,s,d){const v=je("el-slider");return W(),ae("div",{class:pe(["slider",[e.selectedItem?"":"slider-disable"]])},[J("div",{class:"slider-icon",style:Re({width:n.lw})},[Ce(e.$slots,"left",{},void 0,!0)],4),n.item?(W(),ae("div",XL,[he(v,{value:d.getValue(n.item[n.typeKey]),size:n.size,min:n.min,max:n.max,onInput:d.onInputChange,step:n.step,height:"6",onChange:d.slideChange},null,8,["value","size","min","max","onInput","step","onChange"])])):(W(),ae("div",GL,[he(v,{modelValue:d.slideValue,"onUpdate:modelValue":t[0]||(t[0]=c=>d.slideValue=c),size:n.size,min:n.min,max:n.max,onInput:d.onInputChange,step:n.step,onChange:d.slideChange},null,8,["modelValue","size","min","max","onInput","step","onChange"])])),J("div",KL,[Ce(e.$slots,"right",{data:d.slideData},void 0,!0)])],2)}const JL=pt(YL,[["render",qL],["__scopeId","data-v-70a65c22"]]),ZL={props:{type:{type:String,default:""},initValue:{type:Object,default:()=>({})},prefix:{type:Boolean,default:!0},endfix:{type:Boolean,default:!0},inputType:{type:String,default:"number"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{newinitValue(){return this.initValue}}},QL={class:"data-input"},e5={class:"input-number"},t5=["type","placeholder","disabled"],n5={key:1,class:"prefix endfix"};function r5(e,t,n,r,s,d){return W(),ae("div",QL,[n.prefix?(W(),ae("div",{key:0,class:pe(["prefix",n.disabled?"prefix_disabled":""])},[Ce(e.$slots,"prefix",{},void 0,!0)],2)):ye("",!0),J("div",e5,[et(J("input",{type:n.inputType,class:pe(["input-number-input",[n.prefix?"":"input-number-input-nopadding",n.disabled?"input-disabled":""]]),placeholder:n.placeholder,"onUpdate:modelValue":t[0]||(t[0]=v=>d.newinitValue[n.type]=v),onInput:t[1]||(t[1]=v=>e.$emit("change",d.newinitValue)),onChange:t[2]||(t[2]=v=>e.$emit("end",d.newinitValue)),disabled:n.disabled},null,42,t5),[[Iy,d.newinitValue[n.type]]]),Ce(e.$slots,"inputprefix",{},void 0,!0)]),n.endfix?(W(),ae("div",n5,[Ce(e.$slots,"endfix",{},void 0,!0)])):ye("",!0)])}const i5=pt(ZL,[["render",r5],["__scopeId","data-v-4deff9e7"]]),s5={components:{Slider:JL,InputNumber:i5},props:{onChange:{type:Function}},computed:{...Tg({selectedItem:e=>e.selectedItem})},methods:{onInputChange(e){e.opacity=Number(e.opacity)/100,this.onChange(this.selectedItem,e)}}},o5=e=>(xs("data-v-a0635fb8"),e=e(),Ts(),e),a5={class:"opacity"},l5=o5(()=>J("span",null,"不透明度",-1));function c5(e,t,n,r,s,d){const v=je("InputNumber"),c=je("Slider");return W(),ae("div",a5,[he(c,{onChange:n.onChange,typeKey:"opacity",lw:"40%",precentage:!0,min:0,max:100,step:1},{left:ve(()=>[l5]),right:ve(()=>[he(v,{type:"opacity",prefix:!1,endfix:!1,initValue:{opacity:parseInt(Number(e.selectedItem&&e.selectedItem.opacity)*100)},onChange:d.onInputChange},null,8,["initValue","onChange"])]),_:1},8,["onChange"])])}const u5=pt(s5,[["render",c5],["__scopeId","data-v-a0635fb8"]]),f5={components:{Bar:yL,WorkspaceSize:WL,ElUpload:Q3,ElTooltip:Is,Opactiy:u5},props:{onChange:{type:Function}},setup(){const e=fe(sL),t=fe("design"),n=fe(!1),{state:r}=Br(),s=Ae("handler"),d=fe(null),v=K(()=>r.workspace),c=K(()=>r.selectedItem);return{headtool:e,sizeShow:n,workspace:v,bgObject:d,getActiveClass(i){return Array.isArray(i.type)?i.type.includes(t.value)?"tabActive":"":i.type==t.value?"tabActive":""},selectTabs(i){t.value=i.type},getActiveTab(i){return i.type==t.value},onTabShow(i){if(i.showList){if(c.value){const{type:f}=c.value;return!!i.showList.includes(f)}}else return!0},async uploadImage(i,f="Image"){if(i){const h=await s.value.utils.fileUpload(i.raw,i.name,f);f=="background"&&h&&(d.value=h)}}}}},Ds=e=>(xs("data-v-76d37a78"),e=e(),Ts(),e),h5={class:"editor-props-panel"},d5={class:"tab-panel-header"},p5={class:"tab-panel-block__header"},g5=["onClick"],v5={class:"tab-button"},m5={class:"tab-panel-bloack_content"},_5={class:"tab-panel"},y5={class:"tab-scrollbar__container"},b5={class:"panel-block"},w5=Ds(()=>J("div",{class:"panel-block__header"},[J("div",{class:"panel-block__header-title"},"画布")],-1)),C5={class:"panel-block__content"},S5={class:"gda-space-item"},x5={class:"panel-row"},T5=Ds(()=>J("div",{class:"panel-row__label"},"尺寸",-1)),O5={key:0,class:"panel-row__content"},E5={class:"gda-space-item"},P5={class:"panel-row"},k5={class:"panel-row__content"},A5={class:"panel-block"},I5=Ds(()=>J("div",{class:"panel-block__header"},[J("div",{class:"panel-block__header-title"},"背景图")],-1)),M5={class:"panel-block__content"},R5={class:"gda-space-item"},D5={class:"gda-space-item"},F5={key:0,class:"panel-row"},L5={class:"panel-row__content"},B5=Ds(()=>J("button",{class:"right-canvas-resize-btn"},"上传图片",-1)),$5={key:1,class:"panel-row panel-row-bg"},j5={class:"panel-row-image"},N5=["src"],z5={class:"panel-row__content"},H5=Ds(()=>J("button",{class:"right-canvas-resize-btn"}," 上传图片 ",-1)),U5={class:"background-edit-control__tools"},V5=W_('<div class="panel-block" data-v-76d37a78><div class="panel-block__header" data-v-76d37a78><div class="panel-block__header-title" data-v-76d37a78>背景色</div><div class="panel-block__header-action" data-v-76d37a78><div class="popup" data-v-76d37a78><div class="swatch--shape-round" data-v-76d37a78></div></div></div></div></div>',1);function W5(e,t,n,r,s,d){const v=je("Bar"),c=je("el-upload"),i=je("el-tooltip"),f=je("Opactiy"),h=je("workspace-size");return W(),ae("div",h5,[J("div",d5,[J("div",p5,[(W(!0),ae(Me,null,ot(r.headtool,o=>et((W(),ae("div",{key:o.text,onClick:l=>r.selectTabs(o)},[J("button",v5,[J("div",{class:pe(["tab-content",r.getActiveClass(o)])},Be(o.text),3)])],8,g5)),[[ht,r.onTabShow(o)]])),128))]),J("div",m5,[he(v)])]),J("div",_5,[J("div",y5,[J("div",b5,[w5,J("div",C5,[J("div",S5,[J("div",x5,[T5,r.workspace?(W(),ae("div",O5,Be(r.workspace.width)+" × "+Be(r.workspace.height)+" px ",1)):ye("",!0)]),J("div",E5,[J("div",P5,[J("div",k5,[J("button",{class:"right-canvas-resize-btn",onClick:t[0]||(t[0]=o=>r.sizeShow=!0)}," 调整尺寸 ")])])])])])]),J("div",A5,[I5,J("div",M5,[J("div",R5,[J("div",D5,[r.bgObject?(W(),ae("div",$5,[J("div",j5,[r.bgObject.src?(W(),ae("img",{key:0,src:r.bgObject.src,alt:""},null,8,N5)):ye("",!0),et(J("div",z5,[he(c,{"show-file-list":!1,"auto-upload":!1,"on-change":o=>r.uploadImage(o,"background")},{default:ve(()=>[H5]),_:1},8,["on-change"])],512),[[ht,!1]]),J("div",U5,[he(i,{class:"item",effect:"dark",content:"翻转",placement:"top"},{default:ve(()=>[J("i",{class:"iconfont icon-zuoyoufanzhuan",onClick:t[1]||(t[1]=(...o)=>e.copy&&e.copy(...o))})]),_:1}),he(i,{class:"item",effect:"dark",content:"分离图片",placement:"top"},{default:ve(()=>[J("i",{class:"iconfont icon-zhaopian",onClick:t[2]||(t[2]=(...o)=>e.copy&&e.copy(...o))})]),_:1}),he(i,{class:"item",effect:"dark",content:"删除",placement:"top"},{default:ve(()=>[J("i",{class:"iconfont icon-delete",onClick:t[3]||(t[3]=(...o)=>e.copy&&e.copy(...o))})]),_:1})])]),he(f,{onChange:n.onChange},null,8,["onChange"])])):(W(),ae("div",F5,[J("div",L5,[he(c,{"show-file-list":!1,"auto-upload":!1,"on-change":o=>r.uploadImage(o,"background")},{default:ve(()=>[B5]),_:1},8,["on-change"])])]))])])])]),V5])]),he(kn,{name:"anime"},{default:ve(()=>[r.sizeShow?(W(),Se(h,{key:0,onBack:t[4]||(t[4]=o=>r.sizeShow=!1)})):ye("",!0)]),_:1})])}const Y5=pt(f5,[["render",W5],["__scopeId","data-v-76d37a78"]]),X5={class:"header_nav"},G5=J("div",{class:"menu-btn"},[J("svg",{viewBox:"0 0 24 24"},[J("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 6.75L20 6.75V5.25H4V6.75ZM20 12.75H4V11.25H20V12.75ZM20 18.75H4V17.25H20V18.75Z",fill:"currentColor"})])],-1),K5=J("div",{class:"logo"},null,-1),q5=J("div",{class:"starfish-link"},[J("a",{href:"https://github.com/haixin-fang/vue-design-editor",target:"_black"},[J("i",{class:"iconfont icon-GitHub"})])],-1),J5=xe({__name:"Nav",setup(e){const t=fe();return(n,r)=>{const s=je("popover");return W(),ae("div",X5,[J("div",{class:"menu",ref_key:"menu",ref:t},[he(S(Is),{effect:"dark",content:"文件",placement:"bottom"},{default:ve(()=>[G5]),_:1}),he(s)],512),K5,q5])}}});let ro;const Z5=new Uint8Array(16);function Q5(){if(!ro&&(ro=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ro))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ro(Z5)}const bt=[];for(let e=0;e<256;++e)bt.push((e+256).toString(16).slice(1));function eB(e,t=0){return bt[e[t+0]]+bt[e[t+1]]+bt[e[t+2]]+bt[e[t+3]]+"-"+bt[e[t+4]]+bt[e[t+5]]+"-"+bt[e[t+6]]+bt[e[t+7]]+"-"+bt[e[t+8]]+bt[e[t+9]]+"-"+bt[e[t+10]]+bt[e[t+11]]+bt[e[t+12]]+bt[e[t+13]]+bt[e[t+14]]+bt[e[t+15]]}const tB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Id={randomUUID:tB};function Au(e,t,n){if(Id.randomUUID&&!t&&!e)return Id.randomUUID();e=e||{};const r=e.random||(e.rng||Q5)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return eB(r)}var Ee={};const nB={},rB=Object.freeze(Object.defineProperty({__proto__:null,default:nB},Symbol.toStringTag,{value:"Module"})),ll=lM(rB);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=ll,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=ll.implForWrapper,t.nodeCanvas=ll.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function c(a,u){if(this.__eventListeners[a]){var g=this.__eventListeners[a];u?g[g.indexOf(u)]=!1:t.util.array.fill(g,!1)}}function i(a,u){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in a)this.on(g,a[g]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(u);return this}function f(a,u){var g=function(){u.apply(this,arguments),this.off(a,g)}.bind(this);this.on(a,g)}function h(a,u){if(arguments.length===1)for(var g in a)f.call(this,g,a[g]);else f.call(this,a,u);return this}function o(a,u){if(!this.__eventListeners)return this;if(arguments.length===0)for(a in this.__eventListeners)c.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in a)c.call(this,g,a[g]);else c.call(this,a,u);return this}function l(a,u){if(!this.__eventListeners)return this;var g=this.__eventListeners[a];if(!g)return this;for(var p=0,m=g.length;p<m;p++)g[p]&&g[p].call(this,u||{});return this.__eventListeners[a]=g.filter(function(_){return _!==!1}),this}t.Observable={fire:l,on:i,once:h,off:o}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var c=0,i=arguments.length;c<i;c++)this._onObjectAdded(arguments[c]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(c,i,f){var h=this._objects;return f?h[i]=c:h.splice(i,0,c),this._onObjectAdded&&this._onObjectAdded(c),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var c=this._objects,i,f=!1,h=0,o=arguments.length;h<o;h++)i=c.indexOf(arguments[h]),i!==-1&&(f=!0,c.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[h]));return this.renderOnAddRemove&&f&&this.requestRenderAll(),this},forEachObject:function(c,i){for(var f=this.getObjects(),h=0,o=f.length;h<o;h++)c.call(i,f[h],h,f);return this},getObjects:function(c){return typeof c>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===c})},item:function(c){return this._objects[c]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(c,i){return this._objects.indexOf(c)>-1?!0:i?this._objects.some(function(f){return typeof f.contains=="function"&&f.contains(c,!0)}):!1},complexity:function(){return this._objects.reduce(function(c,i){return c+=i.complexity?i.complexity():0,c},0)}},t.CommonMethods={_setOptions:function(c){for(var i in c)this.set(i,c[i])},_initGradient:function(c,i){c&&c.colorStops&&!(c instanceof t.Gradient)&&this.set(i,new t.Gradient(c))},_initPattern:function(c,i,f){c&&c.source&&!(c instanceof t.Pattern)?this.set(i,new t.Pattern(c,f)):f&&f()},_setObject:function(c){for(var i in c)this._set(i,c[i])},set:function(c,i){return typeof c=="object"?this._setObject(c):this._set(c,i),this},_set:function(c,i){this[c]=i},toggle:function(c){var i=this.get(c);return typeof i=="boolean"&&this.set(c,!i),this},get:function(c){return this[c]}},function(c){var i=Math.sqrt,f=Math.atan2,h=Math.pow,o=Math.PI/180,l=Math.PI/2;t.util={cos:function(a){if(a===0)return 1;a<0&&(a=-a);var u=a/l;switch(u){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(a===0)return 0;var u=a/l,g=1;switch(a<0&&(g=-1),u){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(a)},removeFromArray:function(a,u){var g=a.indexOf(u);return g!==-1&&a.splice(g,1),a},getRandomInt:function(a,u){return Math.floor(Math.random()*(u-a+1))+a},degreesToRadians:function(a){return a*o},radiansToDegrees:function(a){return a/o},rotatePoint:function(a,u,g){var p=new t.Point(a.x-u.x,a.y-u.y),m=t.util.rotateVector(p,g);return new t.Point(m.x,m.y).addEquals(u)},rotateVector:function(a,u){var g=t.util.sin(u),p=t.util.cos(u),m=a.x*p-a.y*g,_=a.x*g+a.y*p;return{x:m,y:_}},createVector:function(a,u){return new t.Point(u.x-a.x,u.y-a.y)},calcAngleBetweenVectors:function(a,u){return Math.acos((a.x*u.x+a.y*u.y)/(Math.hypot(a.x,a.y)*Math.hypot(u.x,u.y)))},getHatVector:function(a){return new t.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,u,g){var p=t.util.createVector(a,u),m=t.util.createVector(a,g),_=t.util.calcAngleBetweenVectors(p,m),y=t.util.calcAngleBetweenVectors(t.util.rotateVector(p,_),m),b=_*(y===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(p,b)),angle:_}},projectStrokeOnPoints:function(a,u,g){var p=[],m=u.strokeWidth/2,_=u.strokeUniform?new t.Point(1/u.scaleX,1/u.scaleY):new t.Point(1,1),y=function(b){var w=m/Math.hypot(b.x,b.y);return new t.Point(b.x*w*_.x,b.y*w*_.y)};return a.length<=1||a.forEach(function(b,w){var C=new t.Point(b.x,b.y),x,O;w===0?(O=a[w+1],x=g?y(t.util.createVector(O,C)).addEquals(C):a[a.length-1]):w===a.length-1?(x=a[w-1],O=g?y(t.util.createVector(x,C)).addEquals(C):a[0]):(x=a[w-1],O=a[w+1]);var B=t.util.getBisector(C,x,O),Y=B.vector,X=B.angle,N,j;if(u.strokeLineJoin==="miter"&&(N=-m/Math.sin(X/2),j=new t.Point(Y.x*N*_.x,Y.y*N*_.y),Math.hypot(j.x,j.y)/m<=u.strokeMiterLimit)){p.push(C.add(j)),p.push(C.subtract(j));return}N=-m*Math.SQRT2,j=new t.Point(Y.x*N*_.x,Y.y*N*_.y),p.push(C.add(j)),p.push(C.subtract(j))}),p},transformPoint:function(a,u,g){return g?new t.Point(u[0]*a.x+u[2]*a.y,u[1]*a.x+u[3]*a.y):new t.Point(u[0]*a.x+u[2]*a.y+u[4],u[1]*a.x+u[3]*a.y+u[5])},makeBoundingBoxFromPoints:function(a,u){if(u)for(var g=0;g<a.length;g++)a[g]=t.util.transformPoint(a[g],u);var p=[a[0].x,a[1].x,a[2].x,a[3].x],m=t.util.array.min(p),_=t.util.array.max(p),y=_-m,b=[a[0].y,a[1].y,a[2].y,a[3].y],w=t.util.array.min(b),C=t.util.array.max(b),x=C-w;return{left:m,top:w,width:y,height:x}},invertTransform:function(a){var u=1/(a[0]*a[3]-a[1]*a[2]),g=[u*a[3],-u*a[1],-u*a[2],u*a[0]],p=t.util.transformPoint({x:a[4],y:a[5]},g,!0);return g[4]=-p.x,g[5]=-p.y,g},toFixed:function(a,u){return parseFloat(Number(a).toFixed(u))},parseUnit:function(a,u){var g=/\D{0,2}$/.exec(a),p=parseFloat(a);switch(u||(u=t.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return p*t.DPI/25.4;case"cm":return p*t.DPI/2.54;case"in":return p*t.DPI;case"pt":return p*t.DPI/72;case"pc":return p*t.DPI/72*12;case"em":return p*u;default:return p}},falseFunction:function(){return!1},getKlass:function(a,u){return a=t.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),t.util.resolveNamespace(u)[a]},getSvgAttributes:function(a){var u=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":u=u.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":u=u.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":u=u.concat(["offset","stop-color","stop-opacity"]);break}return u},resolveNamespace:function(a){if(!a)return t;var u=a.split("."),g=u.length,p,m=c||t.window;for(p=0;p<g;++p)m=m[u[p]];return m},loadImage:function(a,u,g,p){if(!a){u&&u.call(g,a);return}var m=t.util.createImage(),_=function(){u&&u.call(g,m,!1),m=m.onload=m.onerror=null};m.onload=_,m.onerror=function(){t.log("Error loading "+m.src),u&&u.call(g,null,!0),m=m.onload=m.onerror=null},a.indexOf("data")!==0&&p!==void 0&&p!==null&&(m.crossOrigin=p),a.substring(0,14)==="data:image/svg"&&(m.onload=null,t.util.loadImageInDom(m,_)),m.src=a},loadImageInDom:function(a,u){var g=t.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(a),t.document.querySelector("body").appendChild(g),a.onload=function(){u(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(a,u,g,p){a=a||[];var m=[],_=0,y=a.length;function b(){++_===y&&u&&u(m.filter(function(w){return w}))}if(!y){u&&u(m);return}a.forEach(function(w,C){if(!w||!w.type){b();return}var x=t.util.getKlass(w.type,g);x.fromObject(w,function(O,B){B||(m[C]=O),p&&p(w,O,B),b()})})},enlivenObjectEnlivables:function(a,u,g){var p=t.Object.ENLIVEN_PROPS.filter(function(m){return!!a[m]});t.util.enlivenObjects(p.map(function(m){return a[m]}),function(m){var _={};p.forEach(function(y,b){_[y]=m[b],u&&(u[y]=m[b])}),g&&g(_)})},enlivenPatterns:function(a,u){a=a||[];function g(){++m===_&&u&&u(p)}var p=[],m=0,_=a.length;if(!_){u&&u(p);return}a.forEach(function(y,b){y&&y.source?new t.Pattern(y,function(w){p[b]=w,g()}):(p[b]=y,g())})},groupSVGElements:function(a,u,g){var p;return a&&a.length===1?(typeof g<"u"&&(a[0].sourcePath=g),a[0]):(u&&(u.width&&u.height?u.centerPoint={x:u.width/2,y:u.height/2}:(delete u.width,delete u.height)),p=new t.Group(a,u),typeof g<"u"&&(p.sourcePath=g),p)},populateWithProperties:function(a,u,g){if(g&&Array.isArray(g))for(var p=0,m=g.length;p<m;p++)g[p]in a&&(u[g[p]]=a[g[p]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(a){var u=t.util.createCanvasElement();return u.width=a.width,u.height=a.height,u.getContext("2d").drawImage(a,0,0),u},toDataURL:function(a,u,g){return a.toDataURL("image/"+u,g)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(a,u,g){return[a[0]*u[0]+a[2]*u[1],a[1]*u[0]+a[3]*u[1],a[0]*u[2]+a[2]*u[3],a[1]*u[2]+a[3]*u[3],g?0:a[0]*u[4]+a[2]*u[5]+a[4],g?0:a[1]*u[4]+a[3]*u[5]+a[5]]},qrDecompose:function(a){var u=f(a[1],a[0]),g=h(a[0],2)+h(a[1],2),p=i(g),m=(a[0]*a[3]-a[2]*a[1])/p,_=f(a[0]*a[2]+a[1]*a[3],g);return{angle:u/o,scaleX:p,scaleY:m,skewX:_/o,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return t.iMatrix.concat();var u=t.util.degreesToRadians(a.angle),g=t.util.cos(u),p=t.util.sin(u);return[g,p,-p,g,0,0]},calcDimensionsMatrix:function(a){var u=typeof a.scaleX>"u"?1:a.scaleX,g=typeof a.scaleY>"u"?1:a.scaleY,p=[a.flipX?-u:u,0,0,a.flipY?-g:g,0,0],m=t.util.multiplyTransformMatrices,_=t.util.degreesToRadians;return a.skewX&&(p=m(p,[1,0,Math.tan(_(a.skewX)),1],!0)),a.skewY&&(p=m(p,[1,Math.tan(_(a.skewY)),0,1],!0)),p},composeMatrix:function(a){var u=[1,0,0,1,a.translateX||0,a.translateY||0],g=t.util.multiplyTransformMatrices;return a.angle&&(u=g(u,t.util.calcRotateMatrix(a))),(a.scaleX!==1||a.scaleY!==1||a.skewX||a.skewY||a.flipX||a.flipY)&&(u=g(u,t.util.calcDimensionsMatrix(a))),u},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,u,g,p){p>0&&(u>p?u-=p:u=0,g>p?g-=p:g=0);var m=!0,_,y,b=a.getImageData(u,g,p*2||1,p*2||1),w=b.data.length;for(_=3;_<w&&(y=b.data[_],m=y<=0,m!==!1);_+=4);return b=null,m},parsePreserveAspectRatioAttribute:function(a){var u="meet",g="Mid",p="Mid",m=a.split(" "),_;return m&&m.length&&(u=m.pop(),u!=="meet"&&u!=="slice"?(_=u,u="meet"):m.length&&(_=m.pop())),g=_!=="none"?_.slice(1,4):"none",p=_!=="none"?_.slice(5,8):"none",{meetOrSlice:u,alignX:g,alignY:p}},clearFabricFontCache:function(a){a=(a||"").toLowerCase(),a?t.charWidthsCache[a]&&delete t.charWidthsCache[a]:t.charWidthsCache={}},limitDimsByArea:function(a,u){var g=Math.sqrt(u*a),p=Math.floor(u/g);return{x:Math.floor(g),y:p}},capValue:function(a,u,g){return Math.max(a,Math.min(u,g))},findScaleToFit:function(a,u){return Math.min(u.width/a.width,u.height/a.height)},findScaleToCover:function(a,u){return Math.max(u.width/a.width,u.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(u){return t.util.toFixed(u,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,u){var g=t.util.invertTransform(u),p=t.util.multiplyTransformMatrices(g,a.calcOwnMatrix());t.util.applyTransformToObject(a,p)},addTransformToObject:function(a,u){t.util.applyTransformToObject(a,t.util.multiplyTransformMatrices(u,a.calcOwnMatrix()))},applyTransformToObject:function(a,u){var g=t.util.qrDecompose(u),p=new t.Point(g.translateX,g.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",g.scaleX),a.set("scaleY",g.scaleY),a.skewX=g.skewX,a.skewY=g.skewY,a.angle=g.angle,a.setPositionByOrigin(p,"center","center")},sizeAfterTransform:function(a,u,g){var p=a/2,m=u/2,_=[{x:-p,y:-m},{x:p,y:-m},{x:-p,y:m},{x:p,y:m}],y=t.util.calcDimensionsMatrix(g),b=t.util.makeBoundingBoxFromPoints(_,y);return{x:b.width,y:b.height}},mergeClipPaths:function(a,u){var g=a,p=u;g.inverted&&!p.inverted&&(g=u,p=a),t.util.applyTransformToObject(p,t.util.multiplyTransformMatrices(t.util.invertTransform(g.calcTransformMatrix()),p.calcTransformMatrix()));var m=g.inverted&&p.inverted;return m&&(g.inverted=p.inverted=!1),new t.Group([g],{clipPath:p,inverted:m})},hasStyleChanged:function(a,u,g){return g=g||!1,a.fill!==u.fill||a.stroke!==u.stroke||a.strokeWidth!==u.strokeWidth||a.fontSize!==u.fontSize||a.fontFamily!==u.fontFamily||a.fontWeight!==u.fontWeight||a.fontStyle!==u.fontStyle||a.textBackgroundColor!==u.textBackgroundColor||a.deltaY!==u.deltaY||g&&(a.overline!==u.overline||a.underline!==u.underline||a.linethrough!==u.linethrough)},stylesToArray:function(g,u){for(var g=t.util.object.clone(g,!0),p=u.split(`
`),m=-1,_={},y=[],b=0;b<p.length;b++){if(!g[b]){m+=p[b].length;continue}for(var w=0;w<p[b].length;w++){m++;var C=g[b][w];if(C&&Object.keys(C).length>0){var x=t.util.hasStyleChanged(_,C,!0);x?y.push({start:m,end:m+1,style:C}):y[y.length-1].end++}_=C||{}}}return y},stylesFromArray:function(a,u){if(!Array.isArray(a))return a;for(var g=u.split(`
`),p=-1,m=0,_={},y=0;y<g.length;y++)for(var b=0;b<g[y].length;b++)p++,a[m]&&a[m].start<=p&&p<a[m].end&&(_[y]=_[y]||{},_[y][b]=Object.assign({},a[m].style),p===a[m].end-1&&m++);return _}}}(e),function(){var c=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},f={m:"l",M:"L"};function h(T,R,F,I,ee,D,P,$,M,L,U){var te=t.util.cos(T),ce=t.util.sin(T),A=t.util.cos(R),E=t.util.sin(R),k=F*ee*A-I*D*E+P,z=I*ee*A+F*D*E+$,V=L+M*(-F*ee*ce-I*D*te),H=U+M*(-I*ee*ce+F*D*te),Z=k+M*(F*ee*E+I*D*A),re=z+M*(I*ee*E-F*D*A);return["C",V,H,Z,re,k,z]}function o(T,R,F,I,ee,D,P){var $=Math.PI,M=P*$/180,L=t.util.sin(M),U=t.util.cos(M),te=0,ce=0;F=Math.abs(F),I=Math.abs(I);var A=-U*T*.5-L*R*.5,E=-U*R*.5+L*T*.5,k=F*F,z=I*I,V=E*E,H=A*A,Z=k*z-k*V-z*H,re=0;if(Z<0){var ue=Math.sqrt(1-Z/(k*z));F*=ue,I*=ue}else re=(ee===D?-1:1)*Math.sqrt(Z/(k*V+z*H));var oe=re*F*E/I,ne=-re*I*A/F,de=U*oe-L*ne+T*.5,me=L*oe+U*ne+R*.5,ie=l(1,0,(A-oe)/F,(E-ne)/I),_e=l((A-oe)/F,(E-ne)/I,(-A-oe)/F,(-E-ne)/I);D===0&&_e>0?_e-=2*$:D===1&&_e<0&&(_e+=2*$);for(var be=Math.ceil(Math.abs(_e/$*2)),Oe=[],Ie=_e/be,st=8/3*Math.sin(Ie/4)*Math.sin(Ie/4)/Math.sin(Ie/2),Pt=ie+Ie,xt=0;xt<be;xt++)Oe[xt]=h(ie,Pt,U,L,F,I,de,me,st,te,ce),te=Oe[xt][5],ce=Oe[xt][6],ie=Pt,Pt+=Ie;return Oe}function l(T,R,F,I){var ee=Math.atan2(R,T),D=Math.atan2(I,F);return D>=ee?D-ee:2*Math.PI-(ee-D)}function a(T,R,F,I,ee,D,P,$){var M;if(t.cachesBoundsOfCurve&&(M=c.call(arguments),t.boundsOfCurveCache[M]))return t.boundsOfCurveCache[M];var L=Math.sqrt,U=Math.min,te=Math.max,ce=Math.abs,A=[],E=[[],[]],k,z,V,H,Z,re,ue,oe;z=6*T-12*F+6*ee,k=-3*T+9*F-9*ee+3*P,V=3*F-3*T;for(var ne=0;ne<2;++ne){if(ne>0&&(z=6*R-12*I+6*D,k=-3*R+9*I-9*D+3*$,V=3*I-3*R),ce(k)<1e-12){if(ce(z)<1e-12)continue;H=-V/z,0<H&&H<1&&A.push(H);continue}ue=z*z-4*V*k,!(ue<0)&&(oe=L(ue),Z=(-z+oe)/(2*k),0<Z&&Z<1&&A.push(Z),re=(-z-oe)/(2*k),0<re&&re<1&&A.push(re))}for(var de,me,ie=A.length,_e=ie,be;ie--;)H=A[ie],be=1-H,de=be*be*be*T+3*be*be*H*F+3*be*H*H*ee+H*H*H*P,E[0][ie]=de,me=be*be*be*R+3*be*be*H*I+3*be*H*H*D+H*H*H*$,E[1][ie]=me;E[0][_e]=T,E[1][_e]=R,E[0][_e+1]=P,E[1][_e+1]=$;var Oe=[{x:U.apply(null,E[0]),y:U.apply(null,E[1])},{x:te.apply(null,E[0]),y:te.apply(null,E[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[M]=Oe),Oe}function u(T,R,F){for(var I=F[1],ee=F[2],D=F[3],P=F[4],$=F[5],M=F[6],L=F[7],U=o(M-T,L-R,I,ee,P,$,D),te=0,ce=U.length;te<ce;te++)U[te][1]+=T,U[te][2]+=R,U[te][3]+=T,U[te][4]+=R,U[te][5]+=T,U[te][6]+=R;return U}function g(T){var R=0,F=0,I=T.length,ee=0,D=0,P,$,M,L=[],U,te,ce;for($=0;$<I;++$){switch(M=!1,P=T[$].slice(0),P[0]){case"l":P[0]="L",P[1]+=R,P[2]+=F;case"L":R=P[1],F=P[2];break;case"h":P[1]+=R;case"H":P[0]="L",P[2]=F,R=P[1];break;case"v":P[1]+=F;case"V":P[0]="L",F=P[1],P[1]=R,P[2]=F;break;case"m":P[0]="M",P[1]+=R,P[2]+=F;case"M":R=P[1],F=P[2],ee=P[1],D=P[2];break;case"c":P[0]="C",P[1]+=R,P[2]+=F,P[3]+=R,P[4]+=F,P[5]+=R,P[6]+=F;case"C":te=P[3],ce=P[4],R=P[5],F=P[6];break;case"s":P[0]="S",P[1]+=R,P[2]+=F,P[3]+=R,P[4]+=F;case"S":U==="C"?(te=2*R-te,ce=2*F-ce):(te=R,ce=F),R=P[3],F=P[4],P[0]="C",P[5]=P[3],P[6]=P[4],P[3]=P[1],P[4]=P[2],P[1]=te,P[2]=ce,te=P[3],ce=P[4];break;case"q":P[0]="Q",P[1]+=R,P[2]+=F,P[3]+=R,P[4]+=F;case"Q":te=P[1],ce=P[2],R=P[3],F=P[4];break;case"t":P[0]="T",P[1]+=R,P[2]+=F;case"T":U==="Q"?(te=2*R-te,ce=2*F-ce):(te=R,ce=F),P[0]="Q",R=P[1],F=P[2],P[1]=te,P[2]=ce,P[3]=R,P[4]=F;break;case"a":P[0]="A",P[6]+=R,P[7]+=F;case"A":M=!0,L=L.concat(u(R,F,P)),R=P[6],F=P[7];break;case"z":case"Z":R=ee,F=D;break}M||L.push(P),U=P[0]}return L}function p(T,R,F,I){return Math.sqrt((F-T)*(F-T)+(I-R)*(I-R))}function m(T){return T*T*T}function _(T){return 3*T*T*(1-T)}function y(T){return 3*T*(1-T)*(1-T)}function b(T){return(1-T)*(1-T)*(1-T)}function w(T,R,F,I,ee,D,P,$){return function(M){var L=m(M),U=_(M),te=y(M),ce=b(M);return{x:P*L+ee*U+F*te+T*ce,y:$*L+D*U+I*te+R*ce}}}function C(T,R,F,I,ee,D,P,$){return function(M){var L=1-M,U=3*L*L*(F-T)+6*L*M*(ee-F)+3*M*M*(P-ee),te=3*L*L*(I-R)+6*L*M*(D-I)+3*M*M*($-D);return Math.atan2(te,U)}}function x(T){return T*T}function O(T){return 2*T*(1-T)}function B(T){return(1-T)*(1-T)}function Y(T,R,F,I,ee,D){return function(P){var $=x(P),M=O(P),L=B(P);return{x:ee*$+F*M+T*L,y:D*$+I*M+R*L}}}function X(T,R,F,I,ee,D){return function(P){var $=1-P,M=2*$*(F-T)+2*P*(ee-F),L=2*$*(I-R)+2*P*(D-I);return Math.atan2(L,M)}}function N(T,R,F){var I={x:R,y:F},ee,D=0,P;for(P=1;P<=100;P+=1)ee=T(P/100),D+=p(I.x,I.y,ee.x,ee.y),I=ee;return D}function j(T,R){for(var F=0,I=0,ee=T.iterator,D={x:T.x,y:T.y},P,$,M=.01,L=T.angleFinder,U;I<R&&M>1e-4;)P=ee(F),U=F,$=p(D.x,D.y,P.x,P.y),$+I>R?(F-=M,M/=2):(D=P,F+=M,I+=$);return P.angle=L(U),P}function q(T){for(var R=0,F=T.length,I,ee=0,D=0,P=0,$=0,M=[],L,U,te,ce=0;ce<F;ce++){switch(I=T[ce],U={x:ee,y:D,command:I[0]},I[0]){case"M":U.length=0,P=ee=I[1],$=D=I[2];break;case"L":U.length=p(ee,D,I[1],I[2]),ee=I[1],D=I[2];break;case"C":L=w(ee,D,I[1],I[2],I[3],I[4],I[5],I[6]),te=C(ee,D,I[1],I[2],I[3],I[4],I[5],I[6]),U.iterator=L,U.angleFinder=te,U.length=N(L,ee,D),ee=I[5],D=I[6];break;case"Q":L=Y(ee,D,I[1],I[2],I[3],I[4]),te=X(ee,D,I[1],I[2],I[3],I[4]),U.iterator=L,U.angleFinder=te,U.length=N(L,ee,D),ee=I[3],D=I[4];break;case"Z":case"z":U.destX=P,U.destY=$,U.length=p(ee,D,P,$),ee=P,D=$;break}R+=U.length,M.push(U)}return M.push({length:R,x:ee,y:D}),M}function se(T,R,F){F||(F=q(T));for(var I=0;R-F[I].length>0&&I<F.length-2;)R-=F[I].length,I++;var ee=F[I],D=R/ee.length,P=ee.command,$=T[I],M;switch(P){case"M":return{x:ee.x,y:ee.y,angle:0};case"Z":case"z":return M=new t.Point(ee.x,ee.y).lerp(new t.Point(ee.destX,ee.destY),D),M.angle=Math.atan2(ee.destY-ee.y,ee.destX-ee.x),M;case"L":return M=new t.Point(ee.x,ee.y).lerp(new t.Point($[1],$[2]),D),M.angle=Math.atan2($[2]-ee.y,$[1]-ee.x),M;case"C":return j(ee,R);case"Q":return j(ee,R)}}function le(T){var R=[],F=[],I,ee,D=t.rePathCommand,P="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",$="("+P+")"+t.commaWsp,M="([01])"+t.commaWsp+"?",L=$+"?"+$+"?"+$+M+M+$+"?("+P+")",U=new RegExp(L,"g"),te,ce,A;if(!T||!T.match)return R;A=T.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var E=0,k,z=A.length;E<z;E++){I=A[E],ce=I.slice(1).trim(),F.length=0;var V=I.charAt(0);if(k=[V],V.toLowerCase()==="a")for(var H;H=U.exec(ce);)for(var Z=1;Z<H.length;Z++)F.push(H[Z]);else for(;te=D.exec(ce);)F.push(te[0]);for(var Z=0,re=F.length;Z<re;Z++)ee=parseFloat(F[Z]),isNaN(ee)||k.push(ee);var ue=i[V.toLowerCase()],oe=f[V]||V;if(k.length-1>ue)for(var ne=1,de=k.length;ne<de;ne+=ue)R.push([V].concat(k.slice(ne,ne+ue))),V=oe;else R.push(k)}return R}function G(T,R){var F=[],I,ee=new t.Point(T[0].x,T[0].y),D=new t.Point(T[1].x,T[1].y),P=T.length,$=1,M=0,L=P>2;for(R=R||0,L&&($=T[2].x<D.x?-1:T[2].x===D.x?0:1,M=T[2].y<D.y?-1:T[2].y===D.y?0:1),F.push(["M",ee.x-$*R,ee.y-M*R]),I=1;I<P;I++){if(!ee.eq(D)){var U=ee.midPointFrom(D);F.push(["Q",ee.x,ee.y,U.x,U.y])}ee=T[I],I+1<T.length&&(D=T[I+1])}return L&&($=ee.x>T[I-2].x?1:ee.x===T[I-2].x?0:-1,M=ee.y>T[I-2].y?1:ee.y===T[I-2].y?0:-1),F.push(["L",ee.x+$*R,ee.y+M*R]),F}function Q(T,R,F){return F&&(R=t.util.multiplyTransformMatrices(R,[1,0,0,1,-F.x,-F.y])),T.map(function(I){for(var ee=I.slice(0),D={},P=1;P<I.length-1;P+=2)D.x=I[P],D.y=I[P+1],D=t.util.transformPoint(D,R),ee[P]=D.x,ee[P+1]=D.y;return ee})}t.util.joinPath=function(T){return T.map(function(R){return R.join(" ")}).join(" ")},t.util.parsePath=le,t.util.makePathSimpler=g,t.util.getSmoothPathFromPoints=G,t.util.getPathSegmentsInfo=q,t.util.getBoundsOfCurve=a,t.util.getPointOnPath=se,t.util.transformPath=Q}(),function(){var c=Array.prototype.slice;function i(a,u){for(var g=c.call(arguments,2),p=[],m=0,_=a.length;m<_;m++)p[m]=g.length?a[m][u].apply(a[m],g):a[m][u].call(a[m]);return p}function f(a,u){return l(a,u,function(g,p){return g>=p})}function h(a,u){return l(a,u,function(g,p){return g<p})}function o(a,u){for(var g=a.length;g--;)a[g]=u;return a}function l(a,u,g){if(!(!a||a.length===0)){var p=a.length-1,m=u?a[p][u]:a[p];if(u)for(;p--;)g(a[p][u],m)&&(m=a[p][u]);else for(;p--;)g(a[p],m)&&(m=a[p]);return m}}t.util.array={fill:o,invoke:i,min:h,max:f}}(),function(){function c(f,h,o){if(o)if(!t.isLikelyNode&&h instanceof Element)f=h;else if(h instanceof Array){f=[];for(var l=0,a=h.length;l<a;l++)f[l]=c({},h[l],o)}else if(h&&typeof h=="object")for(var u in h)u==="canvas"||u==="group"?f[u]=null:h.hasOwnProperty(u)&&(f[u]=c({},h[u],o));else f=h;else for(var u in h)f[u]=h[u];return f}function i(f,h){return c({},f,h)}t.util.object={extend:c,clone:i},t.util.object.extend(t.util,t.Observable)}(),function(){function c(l){return l.replace(/-+(.)?/g,function(a,u){return u?u.toUpperCase():""})}function i(l,a){return l.charAt(0).toUpperCase()+(a?l.slice(1):l.slice(1).toLowerCase())}function f(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(l){var a=0,u,g=[];for(a=0,u;a<l.length;a++)(u=o(l,a))!==!1&&g.push(u);return g}function o(l,a){var u=l.charCodeAt(a);if(isNaN(u))return"";if(u<55296||u>57343)return l.charAt(a);if(55296<=u&&u<=56319){if(l.length<=a+1)throw"High surrogate without following low surrogate";var g=l.charCodeAt(a+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return l.charAt(a)+l.charAt(a+1)}if(a===0)throw"Low surrogate without preceding high surrogate";var p=l.charCodeAt(a-1);if(55296>p||p>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:c,capitalize:i,escapeXml:f,graphemeSplit:h}}(),function(){var c=Array.prototype.slice,i=function(){},f=function(){for(var u in{toString:1})if(u==="toString")return!1;return!0}(),h=function(u,g,p){for(var m in g)m in u.prototype&&typeof u.prototype[m]=="function"&&(g[m]+"").indexOf("callSuper")>-1?u.prototype[m]=function(_){return function(){var y=this.constructor.superclass;this.constructor.superclass=p;var b=g[_].apply(this,arguments);if(this.constructor.superclass=y,_!=="initialize")return b}}(m):u.prototype[m]=g[m],f&&(g.toString!==Object.prototype.toString&&(u.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(u.prototype.valueOf=g.valueOf))};function o(){}function l(u){for(var g=null,p=this;p.constructor.superclass;){var m=p.constructor.superclass.prototype[u];if(p[u]!==m){g=m;break}p=p.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,c.call(arguments,1)):g.call(this):console.log("tried to callSuper "+u+", method not found in prototype chain",this)}function a(){var u=null,g=c.call(arguments,0);typeof g[0]=="function"&&(u=g.shift());function p(){this.initialize.apply(this,arguments)}p.superclass=u,p.subclasses=[],u&&(o.prototype=u.prototype,p.prototype=new o,u.subclasses.push(p));for(var m=0,_=g.length;m<_;m++)h(p,g[m],u);return p.prototype.initialize||(p.prototype.initialize=i),p.prototype.constructor=p,p.prototype.callSuper=l,p}t.util.createClass=a}(),function(){var c=!!t.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];t.util.addListener=function(h,o,l,a){h&&h.addEventListener(o,l,c?!1:a)},t.util.removeListener=function(h,o,l,a){h&&h.removeEventListener(o,l,c?!1:a)};function f(h){var o=h.changedTouches;return o&&o[0]?o[0]:h}t.util.getPointer=function(h){var o=h.target,l=t.util.getScrollLeftTop(o),a=f(h);return{x:a.clientX+l.left,y:a.clientY+l.top}},t.util.isTouchEvent=function(h){return i.indexOf(h.type)>-1||h.pointerType==="touch"}}(),function(){function c(a,u){var g=a.style;if(!g)return a;if(typeof u=="string")return a.style.cssText+=";"+u,u.indexOf("opacity")>-1?l(a,u.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var p in u)if(p==="opacity")l(a,u[p]);else{var m=p==="float"||p==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":p;g.setProperty(m,u[p])}return a}var i=t.document.createElement("div"),f=typeof i.style.opacity=="string",h=typeof i.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,l=function(a){return a};f?l=function(a,u){return a.style.opacity=u,a}:h&&(l=function(a,u){var g=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(g.zoom=1),o.test(g.filter)?(u=u>=.9999?"":"alpha(opacity="+u*100+")",g.filter=g.filter.replace(o,u)):g.filter+=" alpha(opacity="+u*100+")",a}),t.util.setStyle=c}(),function(){var c=Array.prototype.slice;function i(b){return typeof b=="string"?t.document.getElementById(b):b}var f,h=function(b){return c.call(b,0)};try{f=h(t.document.childNodes)instanceof Array}catch{}f||(h=function(b){for(var w=new Array(b.length),C=b.length;C--;)w[C]=b[C];return w});function o(b,w){var C=t.document.createElement(b);for(var x in w)x==="class"?C.className=w[x]:x==="for"?C.htmlFor=w[x]:C.setAttribute(x,w[x]);return C}function l(b,w){b&&(" "+b.className+" ").indexOf(" "+w+" ")===-1&&(b.className+=(b.className?" ":"")+w)}function a(b,w,C){return typeof w=="string"&&(w=o(w,C)),b.parentNode&&b.parentNode.replaceChild(w,b),w.appendChild(b),w}function u(b){for(var w=0,C=0,x=t.document.documentElement,O=t.document.body||{scrollLeft:0,scrollTop:0};b&&(b.parentNode||b.host)&&(b=b.parentNode||b.host,b===t.document?(w=O.scrollLeft||x.scrollLeft||0,C=O.scrollTop||x.scrollTop||0):(w+=b.scrollLeft||0,C+=b.scrollTop||0),!(b.nodeType===1&&b.style.position==="fixed")););return{left:w,top:C}}function g(b){var w,C=b&&b.ownerDocument,x={left:0,top:0},O={left:0,top:0},B,Y={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!C)return O;for(var X in Y)O[Y[X]]+=parseInt(p(b,X),10)||0;return w=C.documentElement,typeof b.getBoundingClientRect<"u"&&(x=b.getBoundingClientRect()),B=u(b),{left:x.left+B.left-(w.clientLeft||0)+O.left,top:x.top+B.top-(w.clientTop||0)+O.top}}var p;t.document.defaultView&&t.document.defaultView.getComputedStyle?p=function(b,w){var C=t.document.defaultView.getComputedStyle(b,null);return C?C[w]:void 0}:p=function(b,w){var C=b.style[w];return!C&&b.currentStyle&&(C=b.currentStyle[w]),C},function(){var b=t.document.documentElement.style,w="userSelect"in b?"userSelect":"MozUserSelect"in b?"MozUserSelect":"WebkitUserSelect"in b?"WebkitUserSelect":"KhtmlUserSelect"in b?"KhtmlUserSelect":"";function C(O){return typeof O.onselectstart<"u"&&(O.onselectstart=t.util.falseFunction),w?O.style[w]="none":typeof O.unselectable=="string"&&(O.unselectable="on"),O}function x(O){return typeof O.onselectstart<"u"&&(O.onselectstart=null),w?O.style[w]="":typeof O.unselectable=="string"&&(O.unselectable=""),O}t.util.makeElementUnselectable=C,t.util.makeElementSelectable=x}();function m(b){var w=t.jsdomImplForWrapper(b);return w._canvas||w._image}function _(b){if(t.isLikelyNode){var w=t.jsdomImplForWrapper(b);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function y(b,w){b.imageSmoothingEnabled=b.imageSmoothingEnabled||b.webkitImageSmoothingEnabled||b.mozImageSmoothingEnabled||b.msImageSmoothingEnabled||b.oImageSmoothingEnabled,b.imageSmoothingEnabled=w}t.util.setImageSmoothing=y,t.util.getById=i,t.util.toArray=h,t.util.addClass=l,t.util.makeElement=o,t.util.wrapElement=a,t.util.getScrollLeftTop=u,t.util.getElementOffset=g,t.util.getNodeCanvas=m,t.util.cleanUpJsdomNode=_}(),function(){function c(h,o){return h+(/\?/.test(h)?"&":"?")+o}function i(){}function f(h,o){o||(o={});var l=o.method?o.method.toUpperCase():"GET",a=o.onComplete||function(){},u=new t.window.XMLHttpRequest,g=o.body||o.parameters;return u.onreadystatechange=function(){u.readyState===4&&(a(u),u.onreadystatechange=i)},l==="GET"&&(g=null,typeof o.parameters=="string"&&(h=c(h,o.parameters))),u.open(l,h,!0),(l==="POST"||l==="PUT")&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(g),u}t.util.request=f}(),t.log=console.log,t.warn=console.warn,function(){var c=t.util.object.extend,i=t.util.object.clone,f=[];t.util.object.extend(f,{cancelAll:function(){var m=this.splice(0);return m.forEach(function(_){_.cancel()}),m},cancelByCanvas:function(m){if(!m)return[];var _=this.filter(function(y){return typeof y.target=="object"&&y.target.canvas===m});return _.forEach(function(y){y.cancel()}),_},cancelByTarget:function(m){var _=this.findAnimationsByTarget(m);return _.forEach(function(y){y.cancel()}),_},findAnimationIndex:function(m){return this.indexOf(this.findAnimation(m))},findAnimation:function(m){return this.find(function(_){return _.cancel===m})},findAnimationsByTarget:function(m){return m?this.filter(function(_){return _.target===m}):[]}});function h(){return!1}function o(m,_,y,b){return-y*Math.cos(m/b*(Math.PI/2))+y+_}function l(m){m||(m={});var _=!1,y,b=function(){var w=t.runningAnimations.indexOf(y);return w>-1&&t.runningAnimations.splice(w,1)[0]};return y=c(i(m),{cancel:function(){return _=!0,b()},currentValue:"startValue"in m?m.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(y),g(function(w){var C=w||+new Date,x=m.duration||500,O=C+x,B,Y=m.onChange||h,X=m.abort||h,N=m.onComplete||h,j=m.easing||o,q="startValue"in m?m.startValue.length>0:!1,se="startValue"in m?m.startValue:0,le="endValue"in m?m.endValue:100,G=m.byValue||(q?se.map(function(Q,T){return le[T]-se[T]}):le-se);m.onStart&&m.onStart(),function Q(T){B=T||+new Date;var R=B>O?x:B-C,F=R/x,I=q?se.map(function(D,P){return j(R,se[P],G[P],x)}):j(R,se,G,x),ee=Math.abs(q?(I[0]-se[0])/G[0]:(I-se)/G);if(y.currentValue=q?I.slice():I,y.completionRate=ee,y.durationRate=F,!_){if(X(I,ee,F)){b();return}if(B>O){y.currentValue=q?le.slice():le,y.completionRate=1,y.durationRate=1,Y(q?le.slice():le,1,1),N(le,1,1),b();return}else Y(I,ee,F),g(Q)}}(C)}),y.cancel}var a=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(m){return t.window.setTimeout(m,1e3/60)},u=t.window.cancelAnimationFrame||t.window.clearTimeout;function g(){return a.apply(t.window,arguments)}function p(){return u.apply(t.window,arguments)}t.util.animate=l,t.util.requestAnimFrame=g,t.util.cancelAnimFrame=p,t.runningAnimations=f}(),function(){function c(f,h,o){var l="rgba("+parseInt(f[0]+o*(h[0]-f[0]),10)+","+parseInt(f[1]+o*(h[1]-f[1]),10)+","+parseInt(f[2]+o*(h[2]-f[2]),10);return l+=","+(f&&h?parseFloat(f[3]+o*(h[3]-f[3])):1),l+=")",l}function i(f,h,o,l){var a=new t.Color(f).getSource(),u=new t.Color(h).getSource(),g=l.onComplete,p=l.onChange;return l=l||{},t.util.animate(t.util.object.extend(l,{duration:o||500,startValue:a,endValue:u,byValue:u,easing:function(m,_,y,b){var w=l.colorEasing?l.colorEasing(m,b):1-Math.cos(m/b*(Math.PI/2));return c(_,y,w)},onComplete:function(m,_,y){if(g)return g(c(u,u,0),_,y)},onChange:function(m,_,y){if(p){if(Array.isArray(m))return p(c(m,m,0),_,y);p(m,_,y)}}}))}t.util.animateColor=i}(),function(){function c(T,R,F,I){return T<Math.abs(R)?(T=R,I=F/4):R===0&&T===0?I=F/(2*Math.PI)*Math.asin(1):I=F/(2*Math.PI)*Math.asin(R/T),{a:T,c:R,p:F,s:I}}function i(T,R,F){return T.a*Math.pow(2,10*(R-=1))*Math.sin((R*F-T.s)*(2*Math.PI)/T.p)}function f(T,R,F,I){return F*((T=T/I-1)*T*T+1)+R}function h(T,R,F,I){return T/=I/2,T<1?F/2*T*T*T+R:F/2*((T-=2)*T*T+2)+R}function o(T,R,F,I){return F*(T/=I)*T*T*T+R}function l(T,R,F,I){return-F*((T=T/I-1)*T*T*T-1)+R}function a(T,R,F,I){return T/=I/2,T<1?F/2*T*T*T*T+R:-F/2*((T-=2)*T*T*T-2)+R}function u(T,R,F,I){return F*(T/=I)*T*T*T*T+R}function g(T,R,F,I){return F*((T=T/I-1)*T*T*T*T+1)+R}function p(T,R,F,I){return T/=I/2,T<1?F/2*T*T*T*T*T+R:F/2*((T-=2)*T*T*T*T+2)+R}function m(T,R,F,I){return-F*Math.cos(T/I*(Math.PI/2))+F+R}function _(T,R,F,I){return F*Math.sin(T/I*(Math.PI/2))+R}function y(T,R,F,I){return-F/2*(Math.cos(Math.PI*T/I)-1)+R}function b(T,R,F,I){return T===0?R:F*Math.pow(2,10*(T/I-1))+R}function w(T,R,F,I){return T===I?R+F:F*(-Math.pow(2,-10*T/I)+1)+R}function C(T,R,F,I){return T===0?R:T===I?R+F:(T/=I/2,T<1?F/2*Math.pow(2,10*(T-1))+R:F/2*(-Math.pow(2,-10*--T)+2)+R)}function x(T,R,F,I){return-F*(Math.sqrt(1-(T/=I)*T)-1)+R}function O(T,R,F,I){return F*Math.sqrt(1-(T=T/I-1)*T)+R}function B(T,R,F,I){return T/=I/2,T<1?-F/2*(Math.sqrt(1-T*T)-1)+R:F/2*(Math.sqrt(1-(T-=2)*T)+1)+R}function Y(T,R,F,I){var ee=1.70158,D=0,P=F;if(T===0)return R;if(T/=I,T===1)return R+F;D||(D=I*.3);var $=c(P,F,D,ee);return-i($,T,I)+R}function X(T,R,F,I){var ee=1.70158,D=0,P=F;if(T===0)return R;if(T/=I,T===1)return R+F;D||(D=I*.3);var $=c(P,F,D,ee);return $.a*Math.pow(2,-10*T)*Math.sin((T*I-$.s)*(2*Math.PI)/$.p)+$.c+R}function N(T,R,F,I){var ee=1.70158,D=0,P=F;if(T===0)return R;if(T/=I/2,T===2)return R+F;D||(D=I*(.3*1.5));var $=c(P,F,D,ee);return T<1?-.5*i($,T,I)+R:$.a*Math.pow(2,-10*(T-=1))*Math.sin((T*I-$.s)*(2*Math.PI)/$.p)*.5+$.c+R}function j(T,R,F,I,ee){return ee===void 0&&(ee=1.70158),F*(T/=I)*T*((ee+1)*T-ee)+R}function q(T,R,F,I,ee){return ee===void 0&&(ee=1.70158),F*((T=T/I-1)*T*((ee+1)*T+ee)+1)+R}function se(T,R,F,I,ee){return ee===void 0&&(ee=1.70158),T/=I/2,T<1?F/2*(T*T*(((ee*=1.525)+1)*T-ee))+R:F/2*((T-=2)*T*(((ee*=1.525)+1)*T+ee)+2)+R}function le(T,R,F,I){return F-G(I-T,0,F,I)+R}function G(T,R,F,I){return(T/=I)<1/2.75?F*(7.5625*T*T)+R:T<2/2.75?F*(7.5625*(T-=1.5/2.75)*T+.75)+R:T<2.5/2.75?F*(7.5625*(T-=2.25/2.75)*T+.9375)+R:F*(7.5625*(T-=2.625/2.75)*T+.984375)+R}function Q(T,R,F,I){return T<I/2?le(T*2,0,F,I)*.5+R:G(T*2-I,0,F,I)*.5+F*.5+R}t.util.ease={easeInQuad:function(T,R,F,I){return F*(T/=I)*T+R},easeOutQuad:function(T,R,F,I){return-F*(T/=I)*(T-2)+R},easeInOutQuad:function(T,R,F,I){return T/=I/2,T<1?F/2*T*T+R:-F/2*(--T*(T-2)-1)+R},easeInCubic:function(T,R,F,I){return F*(T/=I)*T*T+R},easeOutCubic:f,easeInOutCubic:h,easeInQuart:o,easeOutQuart:l,easeInOutQuart:a,easeInQuint:u,easeOutQuint:g,easeInOutQuint:p,easeInSine:m,easeOutSine:_,easeInOutSine:y,easeInExpo:b,easeOutExpo:w,easeInOutExpo:C,easeInCirc:x,easeOutCirc:O,easeInOutCirc:B,easeInElastic:Y,easeOutElastic:X,easeInOutElastic:N,easeInBack:j,easeOutBack:q,easeInOutBack:se,easeInBounce:le,easeOutBounce:G,easeInOutBounce:Q}}(),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.util.object.clone,o=i.util.toFixed,l=i.util.parseUnit,a=i.util.multiplyTransformMatrices,u=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],p=["pattern","defs","symbol","metadata","clipPath","mask","desc"],m=["symbol","g","a","svg","clipPath","defs"],_={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},y={stroke:"strokeOpacity",fill:"fillOpacity"},b="font-size",w="clip-path";i.svgValidTagNamesRegEx=O(u),i.svgViewBoxElementsRegEx=O(g),i.svgInvalidAncestorsRegEx=O(p),i.svgValidParentsRegEx=O(m),i.cssRules={},i.gradientDefs={},i.clipPaths={};function C(D){return D in _?_[D]:D}function x(D,P,$,M){var L=Array.isArray(P),U;if((D==="fill"||D==="stroke")&&P==="none")P="";else{if(D==="strokeUniform")return P==="non-scaling-stroke";if(D==="strokeDashArray")P==="none"?P=null:P=P.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(D==="transformMatrix")$&&$.transformMatrix?P=a($.transformMatrix,i.parseTransformAttribute(P)):P=i.parseTransformAttribute(P);else if(D==="visible")P=P!=="none"&&P!=="hidden",$&&$.visible===!1&&(P=!1);else if(D==="opacity")P=parseFloat(P),$&&typeof $.opacity<"u"&&(P*=$.opacity);else if(D==="textAnchor")P=P==="start"?"left":P==="end"?"right":"center";else if(D==="charSpacing")U=l(P,M)/M*1e3;else if(D==="paintFirst"){var te=P.indexOf("fill"),ce=P.indexOf("stroke"),P="fill";(te>-1&&ce>-1&&ce<te||te===-1&&ce>-1)&&(P="stroke")}else{if(D==="href"||D==="xlink:href"||D==="font")return P;if(D==="imageSmoothing")return P==="optimizeQuality";U=L?P.map(l):l(P,M)}}return!L&&isNaN(U)?P:U}function O(D){return new RegExp("^("+D.join("|")+")\\b","i")}function B(D){for(var P in y)if(!(typeof D[y[P]]>"u"||D[P]==="")){if(typeof D[P]>"u"){if(!i.Object.prototype[P])continue;D[P]=i.Object.prototype[P]}if(D[P].indexOf("url(")!==0){var $=new i.Color(D[P]);D[P]=$.setAlpha(o($.getAlpha()*D[y[P]],2)).toRgba()}}return D}function Y(D,P){var $,M=[],L,U,te;for(U=0,te=P.length;U<te;U++)$=P[U],L=D.getElementsByTagName($),M=M.concat(Array.prototype.slice.call(L));return M}i.parseTransformAttribute=function(){function D(ne,de){var me=i.util.cos(de[0]),ie=i.util.sin(de[0]),_e=0,be=0;de.length===3&&(_e=de[1],be=de[2]),ne[0]=me,ne[1]=ie,ne[2]=-ie,ne[3]=me,ne[4]=_e-(me*_e-ie*be),ne[5]=be-(ie*_e+me*be)}function P(ne,de){var me=de[0],ie=de.length===2?de[1]:de[0];ne[0]=me,ne[3]=ie}function $(ne,de,me){ne[me]=Math.tan(i.util.degreesToRadians(de[0]))}function M(ne,de){ne[4]=de[0],de.length===2&&(ne[5]=de[1])}var L=i.iMatrix,U=i.reNum,te=i.commaWsp,ce="(?:(skewX)\\s*\\(\\s*("+U+")\\s*\\))",A="(?:(skewY)\\s*\\(\\s*("+U+")\\s*\\))",E="(?:(rotate)\\s*\\(\\s*("+U+")(?:"+te+"("+U+")"+te+"("+U+"))?\\s*\\))",k="(?:(scale)\\s*\\(\\s*("+U+")(?:"+te+"("+U+"))?\\s*\\))",z="(?:(translate)\\s*\\(\\s*("+U+")(?:"+te+"("+U+"))?\\s*\\))",V="(?:(matrix)\\s*\\(\\s*("+U+")"+te+"("+U+")"+te+"("+U+")"+te+"("+U+")"+te+"("+U+")"+te+"("+U+")\\s*\\))",H="(?:"+V+"|"+z+"|"+k+"|"+E+"|"+ce+"|"+A+")",Z="(?:"+H+"(?:"+te+"*"+H+")*)",re="^\\s*(?:"+Z+"?)\\s*$",ue=new RegExp(re),oe=new RegExp(H,"g");return function(ne){var de=L.concat(),me=[];if(!ne||ne&&!ue.test(ne))return de;ne.replace(oe,function(_e){var be=new RegExp(H).exec(_e).filter(function(st){return!!st}),Oe=be[1],Ie=be.slice(2).map(parseFloat);switch(Oe){case"translate":M(de,Ie);break;case"rotate":Ie[0]=i.util.degreesToRadians(Ie[0]),D(de,Ie);break;case"scale":P(de,Ie);break;case"skewX":$(de,Ie,2);break;case"skewY":$(de,Ie,1);break;case"matrix":de=Ie;break}me.push(de.concat()),de=L.concat()});for(var ie=me[0];me.length>1;)me.shift(),ie=i.util.multiplyTransformMatrices(ie,me[0]);return ie}}();function X(D,P){var $,M;D.replace(/;\s*$/,"").split(";").forEach(function(L){var U=L.split(":");$=U[0].trim().toLowerCase(),M=U[1].trim(),P[$]=M})}function N(D,P){var $,M;for(var L in D)typeof D[L]>"u"||($=L.toLowerCase(),M=D[L],P[$]=M)}function j(D,P){var $={};for(var M in i.cssRules[P])if(q(D,M.split(" ")))for(var L in i.cssRules[P][M])$[L]=i.cssRules[P][M][L];return $}function q(D,P){var $,M=!0;return $=le(D,P.pop()),$&&P.length&&(M=se(D,P)),$&&M&&P.length===0}function se(D,P){for(var $,M=!0;D.parentNode&&D.parentNode.nodeType===1&&P.length;)M&&($=P.pop()),D=D.parentNode,M=le(D,$);return P.length===0}function le(D,P){var $=D.nodeName,M=D.getAttribute("class"),L=D.getAttribute("id"),U,te;if(U=new RegExp("^"+$,"i"),P=P.replace(U,""),L&&P.length&&(U=new RegExp("#"+L+"(?![a-zA-Z\\-]+)","i"),P=P.replace(U,"")),M&&P.length)for(M=M.split(" "),te=M.length;te--;)U=new RegExp("\\."+M[te]+"(?![a-zA-Z\\-]+)","i"),P=P.replace(U,"");return P.length===0}function G(D,P){var $;if(D.getElementById&&($=D.getElementById(P)),$)return $;var M,L,U,te=D.getElementsByTagName("*");for(L=0,U=te.length;L<U;L++)if(M=te[L],P===M.getAttribute("id"))return M}function Q(D){for(var P=Y(D,["use","svg:use"]),$=0;P.length&&$<P.length;){var M=P[$],L=M.getAttribute("xlink:href")||M.getAttribute("href");if(L===null)return;var U=L.slice(1),te=M.getAttribute("x")||0,ce=M.getAttribute("y")||0,A=G(D,U).cloneNode(!0),E=(A.getAttribute("transform")||"")+" translate("+te+", "+ce+")",k,z=P.length,V,H,Z,re,ue=i.svgNS;if(R(A),/^svg$/i.test(A.nodeName)){var oe=A.ownerDocument.createElementNS(ue,"g");for(H=0,Z=A.attributes,re=Z.length;H<re;H++)V=Z.item(H),oe.setAttributeNS(ue,V.nodeName,V.nodeValue);for(;A.firstChild;)oe.appendChild(A.firstChild);A=oe}for(H=0,Z=M.attributes,re=Z.length;H<re;H++)V=Z.item(H),!(V.nodeName==="x"||V.nodeName==="y"||V.nodeName==="xlink:href"||V.nodeName==="href")&&(V.nodeName==="transform"?E=V.nodeValue+" "+E:A.setAttribute(V.nodeName,V.nodeValue));A.setAttribute("transform",E),A.setAttribute("instantiated_by_use","1"),A.removeAttribute("id"),k=M.parentNode,k.replaceChild(A,M),P.length===z&&$++}}var T=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function R(D){if(!i.svgViewBoxElementsRegEx.test(D.nodeName))return{};var P=D.getAttribute("viewBox"),$=1,M=1,L=0,U=0,te,ce,A,E,k=D.getAttribute("width"),z=D.getAttribute("height"),V=D.getAttribute("x")||0,H=D.getAttribute("y")||0,Z=D.getAttribute("preserveAspectRatio")||"",re=!P||!(P=P.match(T)),ue=!k||!z||k==="100%"||z==="100%",oe=re&&ue,ne={},de="",me=0,ie=0;if(ne.width=0,ne.height=0,ne.toBeParsed=oe,re&&(V||H)&&D.parentNode&&D.parentNode.nodeName!=="#document"&&(de=" translate("+l(V)+" "+l(H)+") ",A=(D.getAttribute("transform")||"")+de,D.setAttribute("transform",A),D.removeAttribute("x"),D.removeAttribute("y")),oe)return ne;if(re)return ne.width=l(k),ne.height=l(z),ne;if(L=-parseFloat(P[1]),U=-parseFloat(P[2]),te=parseFloat(P[3]),ce=parseFloat(P[4]),ne.minX=L,ne.minY=U,ne.viewBoxWidth=te,ne.viewBoxHeight=ce,ue?(ne.width=te,ne.height=ce):(ne.width=l(k),ne.height=l(z),$=ne.width/te,M=ne.height/ce),Z=i.util.parsePreserveAspectRatioAttribute(Z),Z.alignX!=="none"&&(Z.meetOrSlice==="meet"&&(M=$=$>M?M:$),Z.meetOrSlice==="slice"&&(M=$=$>M?$:M),me=ne.width-te*$,ie=ne.height-ce*$,Z.alignX==="Mid"&&(me/=2),Z.alignY==="Mid"&&(ie/=2),Z.alignX==="Min"&&(me=0),Z.alignY==="Min"&&(ie=0)),$===1&&M===1&&L===0&&U===0&&V===0&&H===0)return ne;if((V||H)&&D.parentNode.nodeName!=="#document"&&(de=" translate("+l(V)+" "+l(H)+") "),A=de+" matrix("+$+" 0 0 "+M+" "+(L*$+me)+" "+(U*M+ie)+") ",D.nodeName==="svg"){for(E=D.ownerDocument.createElementNS(i.svgNS,"g");D.firstChild;)E.appendChild(D.firstChild);D.appendChild(E)}else E=D,E.removeAttribute("x"),E.removeAttribute("y"),A=E.getAttribute("transform")+A;return E.setAttribute("transform",A),ne}function F(D,P){for(;D&&(D=D.parentNode);)if(D.nodeName&&P.test(D.nodeName.replace("svg:",""))&&!D.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(D,P,$,M){if(D){Q(D);var L=i.Object.__uid++,U,te,ce=R(D),A=i.util.toArray(D.getElementsByTagName("*"));if(ce.crossOrigin=M&&M.crossOrigin,ce.svgUid=L,A.length===0&&i.isLikelyNode){A=D.selectNodes('//*[name(.)!="svg"]');var E=[];for(U=0,te=A.length;U<te;U++)E[U]=A[U];A=E}var k=A.filter(function(V){return R(V),i.svgValidTagNamesRegEx.test(V.nodeName.replace("svg:",""))&&!F(V,i.svgInvalidAncestorsRegEx)});if(!k||k&&!k.length){P&&P([],{});return}var z={};A.filter(function(V){return V.nodeName.replace("svg:","")==="clipPath"}).forEach(function(V){var H=V.getAttribute("id");z[H]=i.util.toArray(V.getElementsByTagName("*")).filter(function(Z){return i.svgValidTagNamesRegEx.test(Z.nodeName.replace("svg:",""))})}),i.gradientDefs[L]=i.getGradientDefs(D),i.cssRules[L]=i.getCSSRules(D),i.clipPaths[L]=z,i.parseElements(k,function(V,H){P&&(P(V,ce,H,A),delete i.gradientDefs[L],delete i.cssRules[L],delete i.clipPaths[L])},h(ce),$,M)}};function I(D,P){var $=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],M="xlink:href",L=P.getAttribute(M).slice(1),U=G(D,L);if(U&&U.getAttribute(M)&&I(D,U),$.forEach(function(ce){U&&!P.hasAttribute(ce)&&U.hasAttribute(ce)&&P.setAttribute(ce,U.getAttribute(ce))}),!P.children.length)for(var te=U.cloneNode(!0);te.firstChild;)P.appendChild(te.firstChild);P.removeAttribute(M)}var ee=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");f(i,{parseFontDeclaration:function(D,P){var $=D.match(ee);if($){var M=$[1],L=$[3],U=$[4],te=$[5],ce=$[6];M&&(P.fontStyle=M),L&&(P.fontWeight=isNaN(parseFloat(L))?L:parseFloat(L)),U&&(P.fontSize=l(U)),ce&&(P.fontFamily=ce),te&&(P.lineHeight=te==="normal"?1:te)}},getGradientDefs:function(D){var P=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],$=Y(D,P),M,L=0,U={};for(L=$.length;L--;)M=$[L],M.getAttribute("xlink:href")&&I(D,M),U[M.getAttribute("id")]=M;return U},parseAttributes:function(D,P,$){if(D){var M,L={},U,te;typeof $>"u"&&($=D.getAttribute("svgUid")),D.parentNode&&i.svgValidParentsRegEx.test(D.parentNode.nodeName)&&(L=i.parseAttributes(D.parentNode,P,$));var ce=P.reduce(function(Z,re){return M=D.getAttribute(re),M&&(Z[re]=M),Z},{}),A=f(j(D,$),i.parseStyleAttribute(D));ce=f(ce,A),A[w]&&D.setAttribute(w,A[w]),U=te=L.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,ce[b]&&(ce[b]=U=l(ce[b],te));var E,k,z={};for(var V in ce)E=C(V),k=x(E,ce[V],L,U),z[E]=k;z&&z.font&&i.parseFontDeclaration(z.font,z);var H=f(L,z);return i.svgValidParentsRegEx.test(D.nodeName)?H:B(H)}},parseElements:function(D,P,$,M,L){new i.ElementsParser(D,P,$,M,L).parse()},parseStyleAttribute:function(D){var P={},$=D.getAttribute("style");return $&&(typeof $=="string"?X($,P):N($,P)),P},parsePointsAttribute:function(D){if(!D)return null;D=D.replace(/,/g," ").trim(),D=D.split(/\s+/);var P=[],$,M;for($=0,M=D.length;$<M;$+=2)P.push({x:parseFloat(D[$]),y:parseFloat(D[$+1])});return P},getCSSRules:function(D){var P=D.getElementsByTagName("style"),$,M,L={},U;for($=0,M=P.length;$<M;$++){var te=P[$].textContent;te=te.replace(/\/\*[\s\S]*?\*\//g,""),te.trim()!==""&&(U=te.split("}"),U=U.filter(function(ce){return ce.trim()}),U.forEach(function(ce){var A=ce.split("{"),E={},k=A[1].trim(),z=k.split(";").filter(function(re){return re.trim()});for($=0,M=z.length;$<M;$++){var V=z[$].split(":"),H=V[0].trim(),Z=V[1].trim();E[H]=Z}ce=A[0].trim(),ce.split(",").forEach(function(re){re=re.replace(/^svg/i,"").trim(),re!==""&&(L[re]?i.util.object.extend(L[re],E):L[re]=i.util.object.clone(E))})}))}return L},loadSVGFromURL:function(D,P,$,M){D=D.replace(/^\n\s*/,"").trim(),new i.util.request(D,{method:"get",onComplete:L});function L(U){var te=U.responseXML;if(!te||!te.documentElement)return P&&P(null),!1;i.parseSVGDocument(te.documentElement,function(ce,A,E,k){P&&P(ce,A,E,k)},$,M)}},loadSVGFromString:function(D,P,$,M){var L=new i.window.DOMParser,U=L.parseFromString(D.trim(),"text/xml");i.parseSVGDocument(U.documentElement,function(te,ce,A,E){P(te,ce,A,E)},$,M)}})}(e),t.ElementsParser=function(c,i,f,h,o,l){this.elements=c,this.callback=i,this.options=f,this.reviver=h,this.svgUid=f&&f.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=l},function(c){c.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},c.createObjects=function(){var i=this;this.elements.forEach(function(f,h){f.setAttribute("svgUid",i.svgUid),i.createObject(f,h)})},c.findTag=function(i){return t[t.util.string.capitalize(i.tagName.replace("svg:",""))]},c.createObject=function(i,f){var h=this.findTag(i);if(h&&h.fromElement)try{h.fromElement(i,this.createCallback(f,i),this.options)}catch(o){t.log(o)}else this.checkIfDone()},c.createCallback=function(i,f){var h=this;return function(o){var l;h.resolveGradient(o,f,"fill"),h.resolveGradient(o,f,"stroke"),o instanceof t.Image&&o._originalElement&&(l=o.parsePreserveAspectRatioAttribute(f)),o._removeTransformMatrix(l),h.resolveClipPath(o,f),h.reviver&&h.reviver(f,o),h.instances[i]=o,h.checkIfDone()}},c.extractPropertyDefinition=function(i,f,h){var o=i[f],l=this.regexUrl;if(l.test(o)){l.lastIndex=0;var a=l.exec(o)[1];return l.lastIndex=0,t[h][this.svgUid][a]}},c.resolveGradient=function(i,f,h){var o=this.extractPropertyDefinition(i,h,"gradientDefs");if(o){var l=f.getAttribute(h+"-opacity"),a=t.Gradient.fromElement(o,i,l,this.options);i.set(h,a)}},c.createClipPathCallback=function(i,f){return function(h){h._removeTransformMatrix(),h.fillRule=h.clipRule,f.push(h)}},c.resolveClipPath=function(i,f){var h=this.extractPropertyDefinition(i,"clipPath","clipPaths"),o,l,a,u,g,p;if(h){u=[],a=t.util.invertTransform(i.calcTransformMatrix());for(var m=h[0].parentNode,_=f;_.parentNode&&_.getAttribute("clip-path")!==i.clipPath;)_=_.parentNode;_.parentNode.appendChild(m);for(var y=0;y<h.length;y++)o=h[y],l=this.findTag(o),l.fromElement(o,this.createClipPathCallback(i,u),this.options);u.length===1?h=u[0]:h=new t.Group(u),g=t.util.multiplyTransformMatrices(a,h.calcTransformMatrix()),h.clipPath&&this.resolveClipPath(h,_);var p=t.util.qrDecompose(g);h.flipX=!1,h.flipY=!1,h.set("scaleX",p.scaleX),h.set("scaleY",p.scaleY),h.angle=p.angle,h.skewX=p.skewX,h.skewY=0,h.setPositionByOrigin({x:p.translateX,y:p.translateY},"center","center"),i.clipPath=h}else delete i.clipPath},c.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(c){var i=c.fabric||(c.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=f;function f(h,o){this.x=h,this.y=o}f.prototype={type:"point",constructor:f,add:function(h){return new f(this.x+h.x,this.y+h.y)},addEquals:function(h){return this.x+=h.x,this.y+=h.y,this},scalarAdd:function(h){return new f(this.x+h,this.y+h)},scalarAddEquals:function(h){return this.x+=h,this.y+=h,this},subtract:function(h){return new f(this.x-h.x,this.y-h.y)},subtractEquals:function(h){return this.x-=h.x,this.y-=h.y,this},scalarSubtract:function(h){return new f(this.x-h,this.y-h)},scalarSubtractEquals:function(h){return this.x-=h,this.y-=h,this},multiply:function(h){return new f(this.x*h,this.y*h)},multiplyEquals:function(h){return this.x*=h,this.y*=h,this},divide:function(h){return new f(this.x/h,this.y/h)},divideEquals:function(h){return this.x/=h,this.y/=h,this},eq:function(h){return this.x===h.x&&this.y===h.y},lt:function(h){return this.x<h.x&&this.y<h.y},lte:function(h){return this.x<=h.x&&this.y<=h.y},gt:function(h){return this.x>h.x&&this.y>h.y},gte:function(h){return this.x>=h.x&&this.y>=h.y},lerp:function(h,o){return typeof o>"u"&&(o=.5),o=Math.max(Math.min(1,o),0),new f(this.x+(h.x-this.x)*o,this.y+(h.y-this.y)*o)},distanceFrom:function(h){var o=this.x-h.x,l=this.y-h.y;return Math.sqrt(o*o+l*l)},midPointFrom:function(h){return this.lerp(h)},min:function(h){return new f(Math.min(this.x,h.x),Math.min(this.y,h.y))},max:function(h){return new f(Math.max(this.x,h.x),Math.max(this.y,h.y))},toString:function(){return this.x+","+this.y},setXY:function(h,o){return this.x=h,this.y=o,this},setX:function(h){return this.x=h,this},setY:function(h){return this.y=h,this},setFromPoint:function(h){return this.x=h.x,this.y=h.y,this},swap:function(h){var o=this.x,l=this.y;this.x=h.x,this.y=h.y,h.x=o,h.y=l},clone:function(){return new f(this.x,this.y)}}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function f(h){this.status=h,this.points=[]}i.Intersection=f,i.Intersection.prototype={constructor:f,appendPoint:function(h){return this.points.push(h),this},appendPoints:function(h){return this.points=this.points.concat(h),this}},i.Intersection.intersectLineLine=function(h,o,l,a){var u,g=(a.x-l.x)*(h.y-l.y)-(a.y-l.y)*(h.x-l.x),p=(o.x-h.x)*(h.y-l.y)-(o.y-h.y)*(h.x-l.x),m=(a.y-l.y)*(o.x-h.x)-(a.x-l.x)*(o.y-h.y);if(m!==0){var _=g/m,y=p/m;0<=_&&_<=1&&0<=y&&y<=1?(u=new f("Intersection"),u.appendPoint(new i.Point(h.x+_*(o.x-h.x),h.y+_*(o.y-h.y)))):u=new f}else g===0||p===0?u=new f("Coincident"):u=new f("Parallel");return u},i.Intersection.intersectLinePolygon=function(h,o,l){var a=new f,u=l.length,g,p,m,_;for(_=0;_<u;_++)g=l[_],p=l[(_+1)%u],m=f.intersectLineLine(h,o,g,p),a.appendPoints(m.points);return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonPolygon=function(h,o){var l=new f,a=h.length,u;for(u=0;u<a;u++){var g=h[u],p=h[(u+1)%a],m=f.intersectLinePolygon(g,p,o);l.appendPoints(m.points)}return l.points.length>0&&(l.status="Intersection"),l},i.Intersection.intersectPolygonRectangle=function(h,o,l){var a=o.min(l),u=o.max(l),g=new i.Point(u.x,a.y),p=new i.Point(a.x,u.y),m=f.intersectLinePolygon(a,g,h),_=f.intersectLinePolygon(g,u,h),y=f.intersectLinePolygon(u,p,h),b=f.intersectLinePolygon(p,a,h),w=new f;return w.appendPoints(m.points),w.appendPoints(_.points),w.appendPoints(y.points),w.appendPoints(b.points),w.points.length>0&&(w.status="Intersection"),w}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function f(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}i.Color=f,i.Color.prototype={_tryParsingColor:function(o){var l;o in f.colorNameMap&&(o=f.colorNameMap[o]),o==="transparent"&&(l=[255,255,255,0]),l||(l=f.sourceFromHex(o)),l||(l=f.sourceFromRgb(o)),l||(l=f.sourceFromHsl(o)),l||(l=[0,0,0,1]),l&&this.setSource(l)},_rgbToHsl:function(o,l,a){o/=255,l/=255,a/=255;var u,g,p,m=i.util.array.max([o,l,a]),_=i.util.array.min([o,l,a]);if(p=(m+_)/2,m===_)u=g=0;else{var y=m-_;switch(g=p>.5?y/(2-m-_):y/(m+_),m){case o:u=(l-a)/y+(l<a?6:0);break;case l:u=(a-o)/y+2;break;case a:u=(o-l)/y+4;break}u/=6}return[Math.round(u*360),Math.round(g*100),Math.round(p*100)]},getSource:function(){return this._source},setSource:function(o){this._source=o},toRgb:function(){var o=this.getSource();return"rgb("+o[0]+","+o[1]+","+o[2]+")"},toRgba:function(){var o=this.getSource();return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},toHsl:function(){var o=this.getSource(),l=this._rgbToHsl(o[0],o[1],o[2]);return"hsl("+l[0]+","+l[1]+"%,"+l[2]+"%)"},toHsla:function(){var o=this.getSource(),l=this._rgbToHsl(o[0],o[1],o[2]);return"hsla("+l[0]+","+l[1]+"%,"+l[2]+"%,"+o[3]+")"},toHex:function(){var o=this.getSource(),l,a,u;return l=o[0].toString(16),l=l.length===1?"0"+l:l,a=o[1].toString(16),a=a.length===1?"0"+a:a,u=o[2].toString(16),u=u.length===1?"0"+u:u,l.toUpperCase()+a.toUpperCase()+u.toUpperCase()},toHexa:function(){var o=this.getSource(),l;return l=Math.round(o[3]*255),l=l.toString(16),l=l.length===1?"0"+l:l,this.toHex()+l.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(o){var l=this.getSource();return l[3]=o,this.setSource(l),this},toGrayscale:function(){var o=this.getSource(),l=parseInt((o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),10),a=o[3];return this.setSource([l,l,l,a]),this},toBlackWhite:function(o){var l=this.getSource(),a=(l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),u=l[3];return o=o||127,a=Number(a)<Number(o)?0:255,this.setSource([a,a,a,u]),this},overlayWith:function(o){o instanceof f||(o=new f(o));var l=[],a=this.getAlpha(),u=.5,g=this.getSource(),p=o.getSource(),m;for(m=0;m<3;m++)l.push(Math.round(g[m]*(1-u)+p[m]*u));return l[3]=a,this.setSource(l),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function h(o,l,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?o+(l-o)*6*a:a<1/2?l:a<2/3?o+(l-o)*(2/3-a)*6:o}i.Color.fromRgb=function(o){return f.fromSource(f.sourceFromRgb(o))},i.Color.sourceFromRgb=function(o){var l=o.match(f.reRGBa);if(l){var a=parseInt(l[1],10)/(/%$/.test(l[1])?100:1)*(/%$/.test(l[1])?255:1),u=parseInt(l[2],10)/(/%$/.test(l[2])?100:1)*(/%$/.test(l[2])?255:1),g=parseInt(l[3],10)/(/%$/.test(l[3])?100:1)*(/%$/.test(l[3])?255:1);return[parseInt(a,10),parseInt(u,10),parseInt(g,10),l[4]?parseFloat(l[4]):1]}},i.Color.fromRgba=f.fromRgb,i.Color.fromHsl=function(o){return f.fromSource(f.sourceFromHsl(o))},i.Color.sourceFromHsl=function(o){var l=o.match(f.reHSLa);if(l){var a=(parseFloat(l[1])%360+360)%360/360,u=parseFloat(l[2])/(/%$/.test(l[2])?100:1),g=parseFloat(l[3])/(/%$/.test(l[3])?100:1),p,m,_;if(u===0)p=m=_=g;else{var y=g<=.5?g*(u+1):g+u-g*u,b=g*2-y;p=h(b,y,a+1/3),m=h(b,y,a),_=h(b,y,a-1/3)}return[Math.round(p*255),Math.round(m*255),Math.round(_*255),l[4]?parseFloat(l[4]):1]}},i.Color.fromHsla=f.fromHsl,i.Color.fromHex=function(o){return f.fromSource(f.sourceFromHex(o))},i.Color.sourceFromHex=function(o){if(o.match(f.reHex)){var l=o.slice(o.indexOf("#")+1),a=l.length===3||l.length===4,u=l.length===8||l.length===4,g=a?l.charAt(0)+l.charAt(0):l.substring(0,2),p=a?l.charAt(1)+l.charAt(1):l.substring(2,4),m=a?l.charAt(2)+l.charAt(2):l.substring(4,6),_=u?a?l.charAt(3)+l.charAt(3):l.substring(6,8):"FF";return[parseInt(g,16),parseInt(p,16),parseInt(m,16),parseFloat((parseInt(_,16)/255).toFixed(2))]}},i.Color.fromSource=function(o){var l=new f;return l.setSource(o),l}}(e),function(c){var i=c.fabric||(c.fabric={}),f=["e","se","s","sw","w","nw","n","ne","e"],h=["ns","nesw","ew","nwse"],o={},l="left",a="top",u="right",g="bottom",p="center",m={top:g,bottom:a,left:u,right:l,center:p},_=i.util.radiansToDegrees,y=Math.sign||function(E){return(E>0)-(E<0)||+E};function b(E,k){var z=E.angle+_(Math.atan2(k.y,k.x))+360;return Math.round(z%360/45)}function w(E,k){var z=k.transform.target,V=z.canvas,H=i.util.object.clone(k);H.target=z,V&&V.fire("object:"+E,H),z.fire(E,k)}function C(E,k){var z=k.canvas,V=z.uniScaleKey,H=E[V];return z.uniformScaling&&!H||!z.uniformScaling&&H}function x(E){return E.originX===p&&E.originY===p}function O(E,k,z){var V=E.lockScalingX,H=E.lockScalingY;return!!(V&&H||!k&&(V||H)&&z||V&&k==="x"||H&&k==="y")}function B(E,k,z){var V="not-allowed",H=C(E,z),Z="";if(k.x!==0&&k.y===0?Z="x":k.x===0&&k.y!==0&&(Z="y"),O(z,Z,H))return V;var re=b(z,k);return f[re]+"-resize"}function Y(E,k,z){var V="not-allowed";if(k.x!==0&&z.lockSkewingY||k.y!==0&&z.lockSkewingX)return V;var H=b(z,k)%4;return h[H]+"-resize"}function X(E,k,z){return E[z.canvas.altActionKey]?o.skewCursorStyleHandler(E,k,z):o.scaleCursorStyleHandler(E,k,z)}function N(E,k,z){var V=E[z.canvas.altActionKey];if(k.x===0)return V?"skewX":"scaleY";if(k.y===0)return V?"skewY":"scaleX"}function j(E,k,z){return z.lockRotation?"not-allowed":k.cursorStyle}function q(E,k,z,V){return{e:E,transform:k,pointer:{x:z,y:V}}}function se(E){return function(k,z,V,H){var Z=z.target,re=Z.getCenterPoint(),ue=Z.translateToOriginPoint(re,z.originX,z.originY),oe=E(k,z,V,H);return Z.setPositionByOrigin(ue,z.originX,z.originY),oe}}function le(E,k){return function(z,V,H,Z){var re=k(z,V,H,Z);return re&&w(E,q(z,V,H,Z)),re}}function G(E,k,z,V,H){var Z=E.target,re=Z.controls[E.corner],ue=Z.canvas.getZoom(),oe=Z.padding/ue,ne=Z.toLocalPoint(new i.Point(V,H),k,z);return ne.x>=oe&&(ne.x-=oe),ne.x<=-oe&&(ne.x+=oe),ne.y>=oe&&(ne.y-=oe),ne.y<=oe&&(ne.y+=oe),ne.x-=re.offsetX,ne.y-=re.offsetY,ne}function Q(E){return E.flipX!==E.flipY}function T(E,k,z,V,H){if(E[k]!==0){var Z=E._getTransformedDimensions()[V],re=H/Z*E[z];E.set(z,re)}}function R(E,k,z,V){var H=k.target,Z=H._getTransformedDimensions(0,H.skewY),re=G(k,k.originX,k.originY,z,V),ue=Math.abs(re.x*2)-Z.x,oe=H.skewX,ne;ue<2?ne=0:(ne=_(Math.atan2(ue/H.scaleX,Z.y/H.scaleY)),k.originX===l&&k.originY===g&&(ne=-ne),k.originX===u&&k.originY===a&&(ne=-ne),Q(H)&&(ne=-ne));var de=oe!==ne;if(de){var me=H._getTransformedDimensions().y;H.set("skewX",ne),T(H,"skewY","scaleY","y",me)}return de}function F(E,k,z,V){var H=k.target,Z=H._getTransformedDimensions(H.skewX,0),re=G(k,k.originX,k.originY,z,V),ue=Math.abs(re.y*2)-Z.y,oe=H.skewY,ne;ue<2?ne=0:(ne=_(Math.atan2(ue/H.scaleY,Z.x/H.scaleX)),k.originX===l&&k.originY===g&&(ne=-ne),k.originX===u&&k.originY===a&&(ne=-ne),Q(H)&&(ne=-ne));var de=oe!==ne;if(de){var me=H._getTransformedDimensions().x;H.set("skewY",ne),T(H,"skewX","scaleX","x",me)}return de}function I(E,k,z,V){var H=k.target,Z=H.skewX,re,ue=k.originY;if(H.lockSkewingX)return!1;if(Z===0){var oe=G(k,p,p,z,V);oe.x>0?re=l:re=u}else Z>0&&(re=ue===a?l:u),Z<0&&(re=ue===a?u:l),Q(H)&&(re=re===l?u:l);k.originX=re;var ne=le("skewing",se(R));return ne(E,k,z,V)}function ee(E,k,z,V){var H=k.target,Z=H.skewY,re,ue=k.originX;if(H.lockSkewingY)return!1;if(Z===0){var oe=G(k,p,p,z,V);oe.y>0?re=a:re=g}else Z>0&&(re=ue===l?a:g),Z<0&&(re=ue===l?g:a),Q(H)&&(re=re===a?g:a);k.originY=re;var ne=le("skewing",se(F));return ne(E,k,z,V)}function D(E,k,z,V){var H=k,Z=H.target,re=Z.translateToOriginPoint(Z.getCenterPoint(),H.originX,H.originY);if(Z.lockRotation)return!1;var ue=Math.atan2(H.ey-re.y,H.ex-re.x),oe=Math.atan2(V-re.y,z-re.x),ne=_(oe-ue+H.theta),de=!0;if(Z.snapAngle>0){var me=Z.snapAngle,ie=Z.snapThreshold||me,_e=Math.ceil(ne/me)*me,be=Math.floor(ne/me)*me;Math.abs(ne-be)<ie?ne=be:Math.abs(ne-_e)<ie&&(ne=_e)}return ne<0&&(ne=360+ne),ne%=360,de=Z.angle!==ne,Z.angle=ne,de}function P(E,k,z,V,H){H=H||{};var Z=k.target,re=Z.lockScalingX,ue=Z.lockScalingY,oe=H.by,ne,de,me,ie,_e=C(E,Z),be=O(Z,oe,_e),Oe,Ie,st=k.gestureScale;if(be)return!1;if(st)de=k.scaleX*st,me=k.scaleY*st;else{if(ne=G(k,k.originX,k.originY,z,V),Oe=oe!=="y"?y(ne.x):1,Ie=oe!=="x"?y(ne.y):1,k.signX||(k.signX=Oe),k.signY||(k.signY=Ie),Z.lockScalingFlip&&(k.signX!==Oe||k.signY!==Ie))return!1;if(ie=Z._getTransformedDimensions(),_e&&!oe){var Pt=Math.abs(ne.x)+Math.abs(ne.y),xt=k.original,vn=Math.abs(ie.x*xt.scaleX/Z.scaleX)+Math.abs(ie.y*xt.scaleY/Z.scaleY),vr=Pt/vn;de=xt.scaleX*vr,me=xt.scaleY*vr}else de=Math.abs(ne.x*Z.scaleX/ie.x),me=Math.abs(ne.y*Z.scaleY/ie.y);x(k)&&(de*=2,me*=2),k.signX!==Oe&&oe!=="y"&&(k.originX=m[k.originX],de*=-1,k.signX=Oe),k.signY!==Ie&&oe!=="x"&&(k.originY=m[k.originY],me*=-1,k.signY=Ie)}var it=Z.scaleX,_t=Z.scaleY;return oe?(oe==="x"&&Z.set("scaleX",de),oe==="y"&&Z.set("scaleY",me)):(!re&&Z.set("scaleX",de),!ue&&Z.set("scaleY",me)),it!==Z.scaleX||_t!==Z.scaleY}function $(E,k,z,V){return P(E,k,z,V)}function M(E,k,z,V){return P(E,k,z,V,{by:"x"})}function L(E,k,z,V){return P(E,k,z,V,{by:"y"})}function U(E,k,z,V){return E[k.target.canvas.altActionKey]?o.skewHandlerX(E,k,z,V):o.scalingY(E,k,z,V)}function te(E,k,z,V){return E[k.target.canvas.altActionKey]?o.skewHandlerY(E,k,z,V):o.scalingX(E,k,z,V)}function ce(E,k,z,V){var H=k.target,Z=G(k,k.originX,k.originY,z,V),re=H.strokeWidth/(H.strokeUniform?H.scaleX:1),ue=x(k)?2:1,oe=H.width,ne=Math.abs(Z.x*ue/H.scaleX)-re;return H.set("width",Math.max(ne,0)),oe!==ne}function A(E,k,z,V){var H=k.target,Z=z-k.offsetX,re=V-k.offsetY,ue=!H.get("lockMovementX")&&H.left!==Z,oe=!H.get("lockMovementY")&&H.top!==re;return ue&&H.set("left",Z),oe&&H.set("top",re),(ue||oe)&&w("moving",q(E,k,z,V)),ue||oe}o.scaleCursorStyleHandler=B,o.skewCursorStyleHandler=Y,o.scaleSkewCursorStyleHandler=X,o.rotationWithSnapping=le("rotating",se(D)),o.scalingEqually=le("scaling",se($)),o.scalingX=le("scaling",se(M)),o.scalingY=le("scaling",se(L)),o.scalingYOrSkewingX=U,o.scalingXOrSkewingY=te,o.changeWidth=le("resizing",se(ce)),o.skewHandlerX=I,o.skewHandlerY=ee,o.dragHandler=A,o.scaleOrSkewActionName=N,o.rotationStyleHandler=j,o.fireEvent=w,o.wrapWithFixedAnchor=se,o.wrapWithFireEvent=le,o.getLocalPoint=G,i.controlsUtils=o}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.degreesToRadians,h=i.controlsUtils;function o(a,u,g,p,m){p=p||{};var _=this.sizeX||p.cornerSize||m.cornerSize,y=this.sizeY||p.cornerSize||m.cornerSize,b=typeof p.transparentCorners<"u"?p.transparentCorners:m.transparentCorners,w=b?"stroke":"fill",C=!b&&(p.cornerStrokeColor||m.cornerStrokeColor),x=u,O=g,B;a.save(),a.fillStyle=p.cornerColor||m.cornerColor,a.strokeStyle=p.cornerStrokeColor||m.cornerStrokeColor,_>y?(B=_,a.scale(1,y/_),O=g*_/y):y>_?(B=y,a.scale(_/y,1),x=u*y/_):B=_,a.lineWidth=1,a.beginPath(),a.arc(x,O,B/2,0,2*Math.PI,!1),a[w](),C&&a.stroke(),a.restore()}function l(a,u,g,p,m){p=p||{};var _=this.sizeX||p.cornerSize||m.cornerSize,y=this.sizeY||p.cornerSize||m.cornerSize,b=typeof p.transparentCorners<"u"?p.transparentCorners:m.transparentCorners,w=b?"stroke":"fill",C=!b&&(p.cornerStrokeColor||m.cornerStrokeColor),x=_/2,O=y/2;a.save(),a.fillStyle=p.cornerColor||m.cornerColor,a.strokeStyle=p.cornerStrokeColor||m.cornerStrokeColor,a.lineWidth=1,a.translate(u,g),a.rotate(f(m.angle)),a[w+"Rect"](-x,-O,_,y),C&&a.strokeRect(-x,-O,_,y),a.restore()}h.renderCircleControl=o,h.renderSquareControl=l}(e),function(c){var i=c.fabric||(c.fabric={});function f(h){for(var o in h)this[o]=h[o]}i.Control=f,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(h,o){return o.cursorStyle},getActionName:function(h,o){return o.actionName},getVisibility:function(h,o){var l=h._controlsVisibility;return l&&typeof l[o]<"u"?l[o]:this.visible},setVisibility:function(h){this.visible=h},positionHandler:function(h,o){var l=i.util.transformPoint({x:this.x*h.x+this.offsetX,y:this.y*h.y+this.offsetY},o);return l},calcCornerCoords:function(h,o,l,a,u){var g,p,m,_,y=u?this.touchSizeX:this.sizeX,b=u?this.touchSizeY:this.sizeY;if(y&&b&&y!==b){var w=Math.atan2(b,y),C=Math.sqrt(y*y+b*b)/2,x=w-i.util.degreesToRadians(h),O=Math.PI/2-w-i.util.degreesToRadians(h);g=C*i.util.cos(x),p=C*i.util.sin(x),m=C*i.util.cos(O),_=C*i.util.sin(O)}else{var B=y&&b?y:o;C=B*.7071067812;var x=i.util.degreesToRadians(45-h);g=m=C*i.util.cos(x),p=_=C*i.util.sin(x)}return{tl:{x:l-_,y:a-m},tr:{x:l+g,y:a-p},bl:{x:l-g,y:a+p},br:{x:l+_,y:a+m}}},render:function(h,o,l,a,u){switch(a=a||{},a.cornerStyle||u.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,h,o,l,a,u);break;default:i.controlsUtils.renderSquareControl.call(this,h,o,l,a,u)}}}}(e),function(){function c(l,a){var u=l.getAttribute("style"),g=l.getAttribute("offset")||0,p,m,_,y;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,u){var b=u.split(/\s*;\s*/);for(b[b.length-1]===""&&b.pop(),y=b.length;y--;){var w=b[y].split(/\s*:\s*/),C=w[0].trim(),x=w[1].trim();C==="stop-color"?p=x:C==="stop-opacity"&&(_=x)}}return p||(p=l.getAttribute("stop-color")||"rgb(0,0,0)"),_||(_=l.getAttribute("stop-opacity")),p=new t.Color(p),m=p.getAlpha(),_=isNaN(parseFloat(_))?1:parseFloat(_),_*=m*a,{offset:g,color:p.toRgb(),opacity:_}}function i(l){return{x1:l.getAttribute("x1")||0,y1:l.getAttribute("y1")||0,x2:l.getAttribute("x2")||"100%",y2:l.getAttribute("y2")||0}}function f(l){return{x1:l.getAttribute("fx")||l.getAttribute("cx")||"50%",y1:l.getAttribute("fy")||l.getAttribute("cy")||"50%",r1:0,x2:l.getAttribute("cx")||"50%",y2:l.getAttribute("cy")||"50%",r2:l.getAttribute("r")||"50%"}}var h=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(l){l||(l={}),l.coords||(l.coords={});var a,u=this;Object.keys(l).forEach(function(g){u[g]=l[g]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,a={x1:l.coords.x1||0,y1:l.coords.y1||0,x2:l.coords.x2||0,y2:l.coords.y2||0},this.type==="radial"&&(a.r1=l.coords.r1||0,a.r2=l.coords.r2||0),this.coords=a,this.colorStops=l.colorStops.slice()},addColorStop:function(l){for(var a in l){var u=new t.Color(l[a]);this.colorStops.push({offset:parseFloat(a),color:u.toRgb(),opacity:u.getAlpha()})}return this},toObject:function(l){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,a,l),a},toSVG:function(l,m){var u=h(this.coords,!0),g,p,m=m||{},_,y,b=h(this.colorStops,!0),w=u.r1>u.r2,C=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),x=-this.offsetX,O=-this.offsetY,B=!!m.additionalTransform,Y=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(b.sort(function(se,le){return se.offset-le.offset}),Y==="objectBoundingBox"?(x/=l.width,O/=l.height):(x+=l.width/2,O+=l.height/2),l.type==="path"&&this.gradientUnits!=="percentage"&&(x-=l.pathOffset.x,O-=l.pathOffset.y),C[4]-=x,C[5]-=O,y='id="SVGID_'+this.id+'" gradientUnits="'+Y+'"',y+=' gradientTransform="'+(B?m.additionalTransform+" ":"")+t.util.matrixToSVG(C)+'" ',this.type==="linear"?_=["<linearGradient ",y,' x1="',u.x1,'" y1="',u.y1,'" x2="',u.x2,'" y2="',u.y2,`">
`]:this.type==="radial"&&(_=["<radialGradient ",y,' cx="',w?u.x1:u.x2,'" cy="',w?u.y1:u.y2,'" r="',w?u.r1:u.r2,'" fx="',w?u.x2:u.x1,'" fy="',w?u.y2:u.y1,`">
`]),this.type==="radial"){if(w)for(b=b.concat(),b.reverse(),g=0,p=b.length;g<p;g++)b[g].offset=1-b[g].offset;var X=Math.min(u.r1,u.r2);if(X>0){var N=Math.max(u.r1,u.r2),j=X/N;for(g=0,p=b.length;g<p;g++)b[g].offset+=j*(1-b[g].offset)}}for(g=0,p=b.length;g<p;g++){var q=b[g];_.push("<stop ",'offset="',q.offset*100+"%",'" style="stop-color:',q.color,typeof q.opacity<"u"?";stop-opacity: "+q.opacity:";",`"/>
`)}return _.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),_.join("")},toLive:function(l){var a,u=t.util.object.clone(this.coords),g,p;if(this.type){for(this.type==="linear"?a=l.createLinearGradient(u.x1,u.y1,u.x2,u.y2):this.type==="radial"&&(a=l.createRadialGradient(u.x1,u.y1,u.r1,u.x2,u.y2,u.r2)),g=0,p=this.colorStops.length;g<p;g++){var m=this.colorStops[g].color,_=this.colorStops[g].opacity,y=this.colorStops[g].offset;typeof _<"u"&&(m=new t.Color(m).setAlpha(_).toRgba()),a.addColorStop(y,m)}return a}}}),t.util.object.extend(t.Gradient,{fromElement:function(l,a,u,g){var p=parseFloat(u)/(/%$/.test(u)?100:1);p=p<0?0:p>1?1:p,isNaN(p)&&(p=1);var m=l.getElementsByTagName("stop"),_,y=l.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",b=l.getAttribute("gradientTransform")||"",w=[],C,x,O=0,B=0,Y;for(l.nodeName==="linearGradient"||l.nodeName==="LINEARGRADIENT"?(_="linear",C=i(l)):(_="radial",C=f(l)),x=m.length;x--;)w.push(c(m[x],p));Y=t.parseTransformAttribute(b),o(a,C,g,y),y==="pixels"&&(O=-a.left,B=-a.top);var X=new t.Gradient({id:l.getAttribute("id"),type:_,coords:C,colorStops:w,gradientUnits:y,gradientTransform:Y,offsetX:O,offsetY:B});return X}});function o(l,a,u,g){var p,m;Object.keys(a).forEach(function(_){p=a[_],p==="Infinity"?m=1:p==="-Infinity"?m=0:(m=parseFloat(a[_],10),typeof p=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(p)&&(m*=.01,g==="pixels"&&((_==="x1"||_==="x2"||_==="r2")&&(m*=u.viewBoxWidth||u.width),(_==="y1"||_==="y2")&&(m*=u.viewBoxHeight||u.height)))),a[_]=m})}}(),function(){var c=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,f){if(i||(i={}),this.id=t.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){f&&f(this);return}else{var h=this;this.source=t.util.createImage(),t.util.loadImage(i.source,function(o,l){h.source=o,f&&f(h,l)},null,this.crossOrigin)}},toObject:function(i){var f=t.Object.NUM_FRACTION_DIGITS,h,o;return typeof this.source.src=="string"?h=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(h=this.source.toDataURL()),o={type:"pattern",source:h,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:c(this.offsetX,f),offsetY:c(this.offsetY,f),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,o,i),o},toSVG:function(i){var f=typeof this.source=="function"?this.source():this.source,h=f.width/i.width,o=f.height/i.height,l=this.offsetX/i.width,a=this.offsetY/i.height,u="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(o=1,a&&(o+=Math.abs(a))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(h=1,l&&(h+=Math.abs(l))),f.src?u=f.src:f.toDataURL&&(u=f.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+l+'" y="'+a+'" width="'+h+'" height="'+o+`">
<image x="0" y="0" width="`+f.width+'" height="'+f.height+'" xlink:href="'+u+`"></image>
</pattern>
`},setOptions:function(i){for(var f in i)this[f]=i[f]},toLive:function(i){var f=this.source;return!f||typeof f.src<"u"&&(!f.complete||f.naturalWidth===0||f.naturalHeight===0)?"":i.createPattern(f,this.repeat)}})}(),function(c){var i=c.fabric||(c.fabric={}),f=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(h){typeof h=="string"&&(h=this._parseShadow(h));for(var o in h)this[o]=h[o];this.id=i.Object.__uid++},_parseShadow:function(h){var o=h.trim(),l=i.Shadow.reOffsetsAndBlur.exec(o)||[],a=o.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:a.trim(),offsetX:parseFloat(l[1],10)||0,offsetY:parseFloat(l[2],10)||0,blur:parseFloat(l[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(h){var o=40,l=40,a=i.Object.NUM_FRACTION_DIGITS,u=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-h.angle)),g=20,p=new i.Color(this.color);return h.width&&h.height&&(o=f((Math.abs(u.x)+this.blur)/h.width,a)*100+g,l=f((Math.abs(u.y)+this.blur)/h.height,a)*100+g),h.flipX&&(u.x*=-1),h.flipY&&(u.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+l+'%" height="'+(100+2*l)+'%" x="-'+o+'%" width="'+(100+2*o)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+f(this.blur?this.blur/2:0,a)+`"></feGaussianBlur>
	<feOffset dx="`+f(u.x,a)+'" dy="'+f(u.y,a)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+p.toRgb()+'" flood-opacity="'+p.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var h={},o=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(l){this[l]!==o[l]&&(h[l]=this[l])},this),h}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var c=t.util.object.extend,i=t.util.getElementOffset,f=t.util.removeFromArray,h=t.util.toFixed,o=t.util.transformPoint,l=t.util.invertTransform,a=t.util.getNodeCanvas,u=t.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(p,m){m||(m={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(p,m)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(p,m){var _=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(p),this._initOptions(m),this.interactive||this._initRetinaScaling(),m.overlayImage&&this.setOverlayImage(m.overlayImage,_),m.backgroundImage&&this.setBackgroundImage(m.backgroundImage,_),m.backgroundColor&&this.setBackgroundColor(m.backgroundColor,_),m.overlayColor&&this.setOverlayColor(m.overlayColor,_),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var p=t.devicePixelRatio;this.__initRetinaScaling(p,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(p,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(p,m,_){m.setAttribute("width",this.width*p),m.setAttribute("height",this.height*p),_.scale(p,p)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(p,m,_){return this.__setBgOverlayImage("overlayImage",p,m,_)},setBackgroundImage:function(p,m,_){return this.__setBgOverlayImage("backgroundImage",p,m,_)},setOverlayColor:function(p,m){return this.__setBgOverlayColor("overlayColor",p,m)},setBackgroundColor:function(p,m){return this.__setBgOverlayColor("backgroundColor",p,m)},__setBgOverlayImage:function(p,m,_,y){return typeof m=="string"?t.util.loadImage(m,function(b,w){if(b){var C=new t.Image(b,y);this[p]=C,C.canvas=this}_&&_(b,w)},this,y&&y.crossOrigin):(y&&m.setOptions(y),this[p]=m,m&&(m.canvas=this),_&&_(m,!1)),this},__setBgOverlayColor:function(p,m,_){return this[p]=m,this._initGradient(m,p),this._initPattern(m,p,_),this},_createCanvasElement:function(){var p=u();if(!p||(p.style||(p.style={}),typeof p.getContext>"u"))throw g;return p},_initOptions:function(p){var m=this.lowerCanvasEl;this._setOptions(p),this.width=this.width||parseInt(m.width,10)||0,this.height=this.height||parseInt(m.height,10)||0,this.lowerCanvasEl.style&&(m.width=this.width,m.height=this.height,m.style.width=this.width+"px",m.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(p){p&&p.getContext?this.lowerCanvasEl=p:this.lowerCanvasEl=t.util.getById(p)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(p,m){return this.setDimensions({width:p},m)},setHeight:function(p,m){return this.setDimensions({height:p},m)},setDimensions:function(p,m){var _;m=m||{};for(var y in p)_=p[y],m.cssOnly||(this._setBackstoreDimension(y,p[y]),_+="px",this.hasLostContext=!0),m.backstoreOnly||this._setCssDimension(y,_);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),m.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(p,m){return this.lowerCanvasEl[p]=m,this.upperCanvasEl&&(this.upperCanvasEl[p]=m),this.cacheCanvasEl&&(this.cacheCanvasEl[p]=m),this[p]=m,this},_setCssDimension:function(p,m){return this.lowerCanvasEl.style[p]=m,this.upperCanvasEl&&(this.upperCanvasEl.style[p]=m),this.wrapperEl&&(this.wrapperEl.style[p]=m),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(p){var m=this._activeObject,_=this.backgroundImage,y=this.overlayImage,b,w,C;for(this.viewportTransform=p,w=0,C=this._objects.length;w<C;w++)b=this._objects[w],b.group||b.setCoords(!0);return m&&m.setCoords(),_&&_.setCoords(!0),y&&y.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(p,m){var _=p,y=this.viewportTransform.slice(0);p=o(p,l(this.viewportTransform)),y[0]=m,y[3]=m;var b=o(p,y);return y[4]+=_.x-b.x,y[5]+=_.y-b.y,this.setViewportTransform(y)},setZoom:function(p){return this.zoomToPoint(new t.Point(0,0),p),this},absolutePan:function(p){var m=this.viewportTransform.slice(0);return m[4]=-p.x,m[5]=-p.y,this.setViewportTransform(m)},relativePan:function(p){return this.absolutePan(new t.Point(-p.x-this.viewportTransform[4],-p.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(p){this.stateful&&p.setupState(),p._set("canvas",this),p.setCoords(),this.fire("object:added",{target:p}),p.fire("added")},_onObjectRemoved:function(p){this.fire("object:removed",{target:p}),p.fire("removed"),delete p.canvas},clearContext:function(p){return p.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var p=this.contextContainer;return this.renderCanvas(p,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var p={},m=this.width,_=this.height,y=l(this.viewportTransform);return p.tl=o({x:0,y:0},y),p.br=o({x:m,y:_},y),p.tr=new t.Point(p.br.x,p.tl.y),p.bl=new t.Point(p.tl.x,p.br.y),this.vptCoords=p,p},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(p,m){var _=this.viewportTransform,y=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(p),t.util.setImageSmoothing(p,this.imageSmoothingEnabled),this.fire("before:render",{ctx:p}),this._renderBackground(p),p.save(),p.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._renderObjects(p,m),p.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(p),y&&(y.canvas=this,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(p)),this._renderOverlay(p),this.controlsAboveOverlay&&this.interactive&&this.drawControls(p),this.fire("after:render",{ctx:p})},drawClipPathOnCanvas:function(p){var m=this.viewportTransform,_=this.clipPath;p.save(),p.transform(m[0],m[1],m[2],m[3],m[4],m[5]),p.globalCompositeOperation="destination-in",_.transform(p),p.scale(1/_.zoomX,1/_.zoomY),p.drawImage(_._cacheCanvas,-_.cacheTranslationX,-_.cacheTranslationY),p.restore()},_renderObjects:function(p,m){var _,y;for(_=0,y=m.length;_<y;++_)m[_]&&m[_].render(p)},_renderBackgroundOrOverlay:function(p,m){var _=this[m+"Color"],y=this[m+"Image"],b=this.viewportTransform,w=this[m+"Vpt"];if(!(!_&&!y)){if(_){p.save(),p.beginPath(),p.moveTo(0,0),p.lineTo(this.width,0),p.lineTo(this.width,this.height),p.lineTo(0,this.height),p.closePath(),p.fillStyle=_.toLive?_.toLive(p,this):_,w&&p.transform(b[0],b[1],b[2],b[3],b[4],b[5]),p.transform(1,0,0,1,_.offsetX||0,_.offsetY||0);var C=_.gradientTransform||_.patternTransform;C&&p.transform(C[0],C[1],C[2],C[3],C[4],C[5]),p.fill(),p.restore()}y&&(p.save(),w&&p.transform(b[0],b[1],b[2],b[3],b[4],b[5]),y.render(p),p.restore())}},_renderBackground:function(p){this._renderBackgroundOrOverlay(p,"background")},_renderOverlay:function(p){this._renderBackgroundOrOverlay(p,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(p){return this._centerObject(p,new t.Point(this.getCenterPoint().x,p.getCenterPoint().y))},centerObjectV:function(p){return this._centerObject(p,new t.Point(p.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(p){var m=this.getCenterPoint();return this._centerObject(p,m)},viewportCenterObject:function(p){var m=this.getVpCenter();return this._centerObject(p,m)},viewportCenterObjectH:function(p){var m=this.getVpCenter();return this._centerObject(p,new t.Point(m.x,p.getCenterPoint().y)),this},viewportCenterObjectV:function(p){var m=this.getVpCenter();return this._centerObject(p,new t.Point(p.getCenterPoint().x,m.y))},getVpCenter:function(){var p=this.getCenterPoint(),m=l(this.viewportTransform);return o(p,m)},_centerObject:function(p,m){return p.setPositionByOrigin(m,"center","center"),p.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(p){return this.toDatalessObject(p)},toObject:function(p){return this._toObjectMethod("toObject",p)},toDatalessObject:function(p){return this._toObjectMethod("toDatalessObject",p)},_toObjectMethod:function(p,m){var _=this.clipPath,y={version:t.version,objects:this._toObjects(p,m)};return _&&!_.excludeFromExport&&(y.clipPath=this._toObject(this.clipPath,p,m)),c(y,this.__serializeBgOverlay(p,m)),t.util.populateWithProperties(this,y,m),y},_toObjects:function(p,m){return this._objects.filter(function(_){return!_.excludeFromExport}).map(function(_){return this._toObject(_,p,m)},this)},_toObject:function(p,m,_){var y;this.includeDefaultValues||(y=p.includeDefaultValues,p.includeDefaultValues=!1);var b=p[m](_);return this.includeDefaultValues||(p.includeDefaultValues=y),b},__serializeBgOverlay:function(p,m){var _={},y=this.backgroundImage,b=this.overlayImage,w=this.backgroundColor,C=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(_.background=w.toObject(m)):w&&(_.background=w),C&&C.toObject?C.excludeFromExport||(_.overlay=C.toObject(m)):C&&(_.overlay=C),y&&!y.excludeFromExport&&(_.backgroundImage=this._toObject(y,p,m)),b&&!b.excludeFromExport&&(_.overlayImage=this._toObject(b,p,m)),_},svgViewportTransformation:!0,toSVG:function(p,m){p||(p={}),p.reviver=m;var _=[];return this._setSVGPreamble(_,p),this._setSVGHeader(_,p),this.clipPath&&_.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(_,"background"),this._setSVGBgOverlayImage(_,"backgroundImage",m),this._setSVGObjects(_,m),this.clipPath&&_.push(`</g>
`),this._setSVGBgOverlayColor(_,"overlay"),this._setSVGBgOverlayImage(_,"overlayImage",m),_.push("</svg>"),_.join("")},_setSVGPreamble:function(p,m){m.suppressPreamble||p.push('<?xml version="1.0" encoding="',m.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(p,m){var _=m.width||this.width,y=m.height||this.height,b,w='viewBox="0 0 '+this.width+" "+this.height+'" ',C=t.Object.NUM_FRACTION_DIGITS;m.viewBox?w='viewBox="'+m.viewBox.x+" "+m.viewBox.y+" "+m.viewBox.width+" "+m.viewBox.height+'" ':this.svgViewportTransformation&&(b=this.viewportTransform,w='viewBox="'+h(-b[4]/b[0],C)+" "+h(-b[5]/b[3],C)+" "+h(this.width/b[0],C)+" "+h(this.height/b[3],C)+'" '),p.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',_,'" ','height="',y,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(m),`</defs>
`)},createSVGClipPathMarkup:function(p){var m=this.clipPath;return m?(m.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+m.clipPathId+`" >
`+this.clipPath.toClipPathSVG(p.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var p=this,m=["background","overlay"].map(function(_){var y=p[_+"Color"];if(y&&y.toLive){var b=p[_+"Vpt"],w=p.viewportTransform,C={width:p.width/(b?w[0]:1),height:p.height/(b?w[3]:1)};return y.toSVG(C,{additionalTransform:b?t.util.matrixToSVG(w):""})}});return m.join("")},createSVGFontFacesMarkup:function(){var p="",m={},_,y,b,w,C,x,O,B,Y,X=t.fontPaths,N=[];for(this._objects.forEach(function q(se){N.push(se),se._objects&&se._objects.forEach(q)}),B=0,Y=N.length;B<Y;B++)if(_=N[B],y=_.fontFamily,!(_.type.indexOf("text")===-1||m[y]||!X[y])&&(m[y]=!0,!!_.styles)){b=_.styles;for(C in b){w=b[C];for(O in w)x=w[O],y=x.fontFamily,!m[y]&&X[y]&&(m[y]=!0)}}for(var j in m)p+=[`		@font-face {
`,"			font-family: '",j,`';
`,"			src: url('",X[j],`');
`,`		}
`].join("");return p&&(p=['	<style type="text/css">',`<![CDATA[
`,p,"]]>",`</style>
`].join("")),p},_setSVGObjects:function(p,m){var _,y,b,w=this._objects;for(y=0,b=w.length;y<b;y++)_=w[y],!_.excludeFromExport&&this._setSVGObject(p,_,m)},_setSVGObject:function(p,m,_){p.push(m.toSVG(_))},_setSVGBgOverlayImage:function(p,m,_){this[m]&&!this[m].excludeFromExport&&this[m].toSVG&&p.push(this[m].toSVG(_))},_setSVGBgOverlayColor:function(p,m){var _=this[m+"Color"],y=this.viewportTransform,b=this.width,w=this.height;if(_)if(_.toLive){var C=_.repeat,x=t.util.invertTransform(y),O=this[m+"Vpt"],B=O?t.util.matrixToSVG(x):"";p.push('<rect transform="'+B+" translate(",b/2,",",w/2,')"',' x="',_.offsetX-b/2,'" y="',_.offsetY-w/2,'" ','width="',C==="repeat-y"||C==="no-repeat"?_.source.width:b,'" height="',C==="repeat-x"||C==="no-repeat"?_.source.height:w,'" fill="url(#SVGID_'+_.id+')"',`></rect>
`)}else p.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',_,'"',`></rect>
`)},sendToBack:function(p){if(!p)return this;var m=this._activeObject,_,y,b;if(p===m&&p.type==="activeSelection")for(b=m._objects,_=b.length;_--;)y=b[_],f(this._objects,y),this._objects.unshift(y);else f(this._objects,p),this._objects.unshift(p);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(p){if(!p)return this;var m=this._activeObject,_,y,b;if(p===m&&p.type==="activeSelection")for(b=m._objects,_=0;_<b.length;_++)y=b[_],f(this._objects,y),this._objects.push(y);else f(this._objects,p),this._objects.push(p);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(p,m){if(!p)return this;var _=this._activeObject,y,b,w,C,x,O=0;if(p===_&&p.type==="activeSelection")for(x=_._objects,y=0;y<x.length;y++)b=x[y],w=this._objects.indexOf(b),w>0+O&&(C=w-1,f(this._objects,b),this._objects.splice(C,0,b)),O++;else w=this._objects.indexOf(p),w!==0&&(C=this._findNewLowerIndex(p,w,m),f(this._objects,p),this._objects.splice(C,0,p));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(p,m,_){var y,b;if(_)for(y=m,b=m-1;b>=0;--b){var w=p.intersectsWithObject(this._objects[b])||p.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(p);if(w){y=b;break}}else y=m-1;return y},bringForward:function(p,m){if(!p)return this;var _=this._activeObject,y,b,w,C,x,O=0;if(p===_&&p.type==="activeSelection")for(x=_._objects,y=x.length;y--;)b=x[y],w=this._objects.indexOf(b),w<this._objects.length-1-O&&(C=w+1,f(this._objects,b),this._objects.splice(C,0,b)),O++;else w=this._objects.indexOf(p),w!==this._objects.length-1&&(C=this._findNewUpperIndex(p,w,m),f(this._objects,p),this._objects.splice(C,0,p));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(p,m,_){var y,b,w;if(_)for(y=m,b=m+1,w=this._objects.length;b<w;++b){var C=p.intersectsWithObject(this._objects[b])||p.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(p);if(C){y=b;break}}else y=m+1;return y},moveTo:function(p,m){return f(this._objects,p),this._objects.splice(m,0,p),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(p){p.dispose&&p.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),c(t.StaticCanvas.prototype,t.Observable),c(t.StaticCanvas.prototype,t.Collection),c(t.StaticCanvas.prototype,t.DataURLExporter),c(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(p){var m=u();if(!m||!m.getContext)return null;var _=m.getContext("2d");if(!_)return null;switch(p){case"setLineDash":return typeof _.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var p=a(this.lowerCanvasEl);return p&&p.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(p){var m=a(this.lowerCanvasEl);return m&&m.createJPEGStream(p)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(c){c.strokeStyle=this.color,c.lineWidth=this.width,c.lineCap=this.strokeLineCap,c.miterLimit=this.strokeMiterLimit,c.lineJoin=this.strokeLineJoin,c.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(c){var i=this.canvas.viewportTransform;c.save(),c.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var c=this.canvas,i=this.shadow,f=c.contextTop,h=c.getZoom();c&&c._isRetinaScaling()&&(h*=t.devicePixelRatio),f.shadowColor=i.color,f.shadowBlur=i.blur*h,f.shadowOffsetX=i.offsetX*h,f.shadowOffsetY=i.offsetY*h}},needsFullRender:function(){var c=new t.Color(this.color);return c.getAlpha()<1||!!this.shadow},_resetShadow:function(){var c=this.canvas.contextTop;c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0},_isOutSideCanvas:function(c){return c.x<0||c.x>this.canvas.getWidth()||c.y<0||c.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(c){this.canvas=c,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(c,i,f){var h=i.midPointFrom(f);return c.quadraticCurveTo(i.x,i.y,h.x,h.y),h},onMouseDown:function(c,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(c),this._captureDrawingPath(c),this._render())},onMouseMove:function(c,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c))&&this._captureDrawingPath(c)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var f=this._points,h=f.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,f[h-2],f[h-1],!0),o.stroke(),o.restore()}},onMouseUp:function(c){return this.canvas._isMainEvent(c.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(c){var i=new t.Point(c.x,c.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(c){return this._points.length>1&&c.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(c),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(c){var i=new t.Point(c.x,c.y);return this._addPoint(i)},_render:function(c){var i,f,h=this._points[0],o=this._points[1];if(c=c||this.canvas.contextTop,this._saveAndTransform(c),c.beginPath(),this._points.length===2&&h.x===o.x&&h.y===o.y){var l=this.width/1e3;h=new t.Point(h.x,h.y),o=new t.Point(o.x,o.y),h.x-=l,o.x+=l}for(c.moveTo(h.x,h.y),i=1,f=this._points.length;i<f;i++)this._drawSegment(c,h,o),h=this._points[i],o=this._points[i+1];c.lineTo(h.x,h.y),c.stroke(),c.restore()},convertPointsToSVGPath:function(c){var i=this.width/1e3;return t.util.getSmoothPathFromPoints(c,i)},_isEmptySVGPath:function(c){var i=t.util.joinPath(c);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(c){var i=new t.Path(c,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new t.Shadow(this.shadow)),i},decimatePoints:function(c,i){if(c.length<=2)return c;var f=this.canvas.getZoom(),h=Math.pow(i/f,2),o,l=c.length-1,a=c[0],u=[a],g;for(o=1;o<l-1;o++)g=Math.pow(a.x-c[o].x,2)+Math.pow(a.y-c[o].y,2),g>=h&&(a=c[o],u.push(a));return u.push(c[l]),u},_finalizeAndAddPath:function(){var c=this.canvas.contextTop;c.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var f=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:f}),this.canvas.add(f),this.canvas.requestRenderAll(),f.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:f})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(c){this.canvas=c,this.points=[]},drawDot:function(c){var i=this.addPoint(c),f=this.canvas.contextTop;this._saveAndTransform(f),this.dot(f,i),f.restore()},dot:function(c,i){c.fillStyle=i.fill,c.beginPath(),c.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),c.closePath(),c.fill()},onMouseDown:function(c){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(c)},_render:function(){var c=this.canvas.contextTop,i,f,h=this.points;for(this._saveAndTransform(c),i=0,f=h.length;i<f;i++)this.dot(c,h[i]);c.restore()},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(c),this._render()):this.drawDot(c))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove,i,f;this.canvas.renderOnAddRemove=!1;var h=[];for(i=0,f=this.points.length;i<f;i++){var o=this.points[i],l=new t.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(l.shadow=new t.Shadow(this.shadow)),h.push(l)}var a=new t.Group(h);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},addPoint:function(c){var i=new t.Point(c.x,c.y),f=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,h=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return i.radius=f,i.fill=h,this.points.push(i),i}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(c){this.canvas=c,this.sprayChunks=[]},onMouseDown:function(c){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(c),this.render(this.sprayChunkPoints)},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.addSprayChunk(c),this.render(this.sprayChunkPoints))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],f=0,h=this.sprayChunks.length;f<h;f++)for(var o=this.sprayChunks[f],l=0,a=o.length;l<a;l++){var u=new t.Rect({width:o[l].width,height:o[l].width,left:o[l].x+1,top:o[l].y+1,originX:"center",originY:"center",fill:this.color});i.push(u)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var g=new t.Group(i);this.shadow&&g.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},_getOptimizedRects:function(c){var i={},f,h,o;for(h=0,o=c.length;h<o;h++)f=c[h].left+""+c[h].top,i[f]||(i[f]=c[h]);var l=[];for(f in i)l.push(i[f]);return l},render:function(c){var i=this.canvas.contextTop,f,h;for(i.fillStyle=this.color,this._saveAndTransform(i),f=0,h=c.length;f<h;f++){var o=c[f];typeof o.opacity<"u"&&(i.globalAlpha=o.opacity),i.fillRect(o.x,o.y,o.width,o.width)}i.restore()},_render:function(){var c=this.canvas.contextTop,i,f;for(c.fillStyle=this.color,this._saveAndTransform(c),i=0,f=this.sprayChunks.length;i<f;i++)this.render(this.sprayChunks[i]);c.restore()},addSprayChunk:function(c){this.sprayChunkPoints=[];var i,f,h,o=this.width/2,l;for(l=0;l<this.density;l++){i=t.util.getRandomInt(c.x-o,c.x+o),f=t.util.getRandomInt(c.y-o,c.y+o),this.dotWidthVariance?h=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):h=this.dotWidth;var a=new t.Point(i,f);a.width=h,this.randomOpacity&&(a.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var c=20,i=5,f=t.util.createCanvasElement(),h=f.getContext("2d");return f.width=f.height=c+i,h.fillStyle=this.color,h.beginPath(),h.arc(c/2,c/2,c/2,0,Math.PI*2,!1),h.closePath(),h.fill(),f},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(c){return c.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(c){this.callSuper("_setBrushStyles",c),c.strokeStyle=this.getPattern(c)},createPath:function(c){var i=this.callSuper("createPath",c),f=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-f.x,offsetY:-f.y}),i}}),function(){var c=t.util.getPointer,i=t.util.degreesToRadians,f=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(o,l){l||(l={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,l),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var o=this.getActiveObjects(),l,a,u;if(o.length>0&&!this.preserveObjectStacking){a=[],u=[];for(var g=0,p=this._objects.length;g<p;g++)l=this._objects[g],o.indexOf(l)===-1?a.push(l):u.push(l);o.length>1&&(this._activeObject._objects=u),a.push.apply(a,u)}else a=this._objects;return a},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var o=this.contextContainer;return this.renderCanvas(o,this._chooseObjectsToRender()),this},renderTopLayer:function(o){o.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(o),this.contextTopDirty=!0),o.restore()},renderTop:function(){var o=this.contextTop;return this.clearContext(o),this.renderTopLayer(o),this.fire("after:render"),this},_normalizePointer:function(o,l){var a=o.calcTransformMatrix(),u=t.util.invertTransform(a),g=this.restorePointerVpt(l);return t.util.transformPoint(g,u)},isTargetTransparent:function(o,l,a){if(o.shouldCache()&&o._cacheCanvas&&o!==this._activeObject){var u=this._normalizePointer(o,{x:l,y:a}),g=Math.max(o.cacheTranslationX+u.x*o.zoomX,0),p=Math.max(o.cacheTranslationY+u.y*o.zoomY,0),b=t.util.isTransparent(o._cacheContext,Math.round(g),Math.round(p),this.targetFindTolerance);return b}var m=this.contextCache,_=o.selectionBackgroundColor,y=this.viewportTransform;o.selectionBackgroundColor="",this.clearContext(m),m.save(),m.transform(y[0],y[1],y[2],y[3],y[4],y[5]),o.render(m),m.restore(),o.selectionBackgroundColor=_;var b=t.util.isTransparent(m,l,a,this.targetFindTolerance);return b},_isSelectionKeyPressed:function(o){var l=!1;return Array.isArray(this.selectionKey)?l=!!this.selectionKey.find(function(a){return o[a]===!0}):l=o[this.selectionKey],l},_shouldClearSelection:function(o,l){var a=this.getActiveObjects(),u=this._activeObject;return!l||l&&u&&a.length>1&&a.indexOf(l)===-1&&u!==l&&!this._isSelectionKeyPressed(o)||l&&!l.evented||l&&!l.selectable&&u&&u!==l},_shouldCenterTransform:function(o,l,a){if(o){var u;return l==="scale"||l==="scaleX"||l==="scaleY"||l==="resizing"?u=this.centeredScaling||o.centeredScaling:l==="rotate"&&(u=this.centeredRotation||o.centeredRotation),u?!a:a}},_getOriginFromCorner:function(o,l){var a={x:o.originX,y:o.originY};return l==="ml"||l==="tl"||l==="bl"?a.x="right":(l==="mr"||l==="tr"||l==="br")&&(a.x="left"),l==="tl"||l==="mt"||l==="tr"?a.y="bottom":(l==="bl"||l==="mb"||l==="br")&&(a.y="top"),a},_getActionFromCorner:function(o,l,a,u){if(!l||!o)return"drag";var g=u.controls[l];return g.getActionName(a,g,u)},_setupCurrentTransform:function(o,l,a){if(l){var u=this.getPointer(o),g=l.__corner,p=l.controls[g],m=a&&g?p.getActionHandler(o,l,p):t.controlsUtils.dragHandler,_=this._getActionFromCorner(a,g,o,l),y=this._getOriginFromCorner(l,g),b=o[this.centeredKey],w={target:l,action:_,actionHandler:m,corner:g,scaleX:l.scaleX,scaleY:l.scaleY,skewX:l.skewX,skewY:l.skewY,offsetX:u.x-l.left,offsetY:u.y-l.top,originX:y.x,originY:y.y,ex:u.x,ey:u.y,lastX:u.x,lastY:u.y,theta:i(l.angle),width:l.width*l.scaleX,shiftKey:o.shiftKey,altKey:b,original:t.util.saveObjectTransform(l)};this._shouldCenterTransform(l,_,b)&&(w.originX="center",w.originY="center"),w.original.originX=y.x,w.original.originY=y.y,this._currentTransform=w,this._beforeTransform(o)}},setCursor:function(o){this.upperCanvasEl.style.cursor=o},_drawSelection:function(o){var l=this._groupSelector,a=new t.Point(l.ex,l.ey),u=t.util.transformPoint(a,this.viewportTransform),g=new t.Point(l.ex+l.left,l.ey+l.top),p=t.util.transformPoint(g,this.viewportTransform),m=Math.min(u.x,p.x),_=Math.min(u.y,p.y),y=Math.max(u.x,p.x),b=Math.max(u.y,p.y),w=this.selectionLineWidth/2;this.selectionColor&&(o.fillStyle=this.selectionColor,o.fillRect(m,_,y-m,b-_)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(o.lineWidth=this.selectionLineWidth,o.strokeStyle=this.selectionBorderColor,m+=w,_+=w,y-=w,b-=w,t.Object.prototype._setLineDash.call(this,o,this.selectionDashArray),o.strokeRect(m,_,y-m,b-_))},findTarget:function(o,l){if(!this.skipTargetFind){var a=!0,u=this.getPointer(o,a),g=this._activeObject,p=this.getActiveObjects(),m,_,y=f(o),b=p.length>1&&!l||p.length===1;if(this.targets=[],b&&g._findTargetCorner(u,y)||p.length>1&&!l&&g===this._searchPossibleTargets([g],u))return g;if(p.length===1&&g===this._searchPossibleTargets([g],u))if(this.preserveObjectStacking)m=g,_=this.targets,this.targets=[];else return g;var w=this._searchPossibleTargets(this._objects,u);return o[this.altSelectionKey]&&w&&m&&w!==m&&(w=m,this.targets=_),w}},_checkTarget:function(o,l,a){if(l&&l.visible&&l.evented&&l.containsPoint(o))if((this.perPixelTargetFind||l.perPixelTargetFind)&&!l.isEditing){var u=this.isTargetTransparent(l,a.x,a.y);if(!u)return!0}else return!0},_searchPossibleTargets:function(o,l){for(var a,u=o.length,g;u--;){var p=o[u],m=p.group?this._normalizePointer(p.group,l):l;if(this._checkTarget(m,p,l)){a=o[u],a.subTargetCheck&&a instanceof t.Group&&(g=this._searchPossibleTargets(a._objects,l),g&&this.targets.push(g));break}}return a},restorePointerVpt:function(o){return t.util.transformPoint(o,t.util.invertTransform(this.viewportTransform))},getPointer:function(o,l){if(this._absolutePointer&&!l)return this._absolutePointer;if(this._pointer&&l)return this._pointer;var a=c(o),u=this.upperCanvasEl,g=u.getBoundingClientRect(),p=g.width||0,m=g.height||0,_;(!p||!m)&&("top"in g&&"bottom"in g&&(m=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(p=Math.abs(g.right-g.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,l||(a=this.restorePointerVpt(a));var y=this.getRetinaScaling();return y!==1&&(a.x/=y,a.y/=y),p===0||m===0?_={width:1,height:1}:_={width:u.width/p,height:u.height/m},{x:a.x*_.width,y:a.y*_.height}},_createUpperCanvas:function(){var o=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),l=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),t.util.addClass(a,"upper-canvas "+o),this.wrapperEl.appendChild(a),this._copyCanvasStyle(l,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(o){var l=this.width||o.width,a=this.height||o.height;t.util.setStyle(o,{position:"absolute",width:l+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),o.width=l,o.height=a,t.util.makeElementUnselectable(o)},_copyCanvasStyle:function(o,l){l.style.cssText=o.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var o=this._activeObject;return o?o.type==="activeSelection"&&o._objects?o._objects.slice(0):[o]:[]},_onObjectRemoved:function(o){o===this._activeObject&&(this.fire("before:selection:cleared",{target:o}),this._discardActiveObject(),this.fire("selection:cleared",{target:o}),o.fire("deselected")),o===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",o)},_fireSelectionEvents:function(o,l){var a=!1,u=this.getActiveObjects(),g=[],p=[];o.forEach(function(m){u.indexOf(m)===-1&&(a=!0,m.fire("deselected",{e:l,target:m}),p.push(m))}),u.forEach(function(m){o.indexOf(m)===-1&&(a=!0,m.fire("selected",{e:l,target:m}),g.push(m))}),o.length>0&&u.length>0?a&&this.fire("selection:updated",{e:l,selected:g,deselected:p}):u.length>0?this.fire("selection:created",{e:l,selected:g}):o.length>0&&this.fire("selection:cleared",{e:l,deselected:p})},setActiveObject:function(o,l){var a=this.getActiveObjects();return this._setActiveObject(o,l),this._fireSelectionEvents(a,l),this},_setActiveObject:function(o,l){return this._activeObject===o||!this._discardActiveObject(l,o)||o.onSelect({e:l})?!1:(this._activeObject=o,!0)},_discardActiveObject:function(o,l){var a=this._activeObject;if(a){if(a.onDeselect({e:o,object:l}))return!1;this._activeObject=null}return!0},discardActiveObject:function(o){var l=this.getActiveObjects(),a=this.getActiveObject();return l.length&&this.fire("before:selection:cleared",{target:a,e:o}),this._discardActiveObject(o),this._fireSelectionEvents(l,o),this},dispose:function(){var o=this.wrapperEl;return this.removeListeners(),o.removeChild(this.upperCanvasEl),o.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(l){t.util.cleanUpJsdomNode(this[l]),this[l]=void 0}.bind(this)),o.parentNode&&o.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(o){var l=this._activeObject;l&&l._renderControls(o)},_toObject:function(o,l,a){var u=this._realizeGroupTransformOnObject(o),g=this.callSuper("_toObject",o,l,a);return this._unwindGroupTransformOnObject(o,u),g},_realizeGroupTransformOnObject:function(o){if(o.group&&o.group.type==="activeSelection"&&this._activeObject===o.group){var l=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],a={};return l.forEach(function(u){a[u]=o[u]}),t.util.addTransformToObject(o,this._activeObject.calcOwnMatrix()),a}else return null},_unwindGroupTransformOnObject:function(o,l){l&&o.set(l)},_setSVGObject:function(o,l,a){var u=this._realizeGroupTransformOnObject(l);this.callSuper("_setSVGObject",o,l,a),this._unwindGroupTransformOnObject(l,u)},setViewportTransform:function(o){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,o)}});for(var h in t.StaticCanvas)h!=="prototype"&&(t.Canvas[h]=t.StaticCanvas[h])}(),function(){var c=t.util.addListener,i=t.util.removeListener,f=3,h=2,o=1,l={passive:!1};function a(u,g){return u.button&&u.button===g-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(c,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(u,g){var p=this.upperCanvasEl,m=this._getEventPrefix();u(t.window,"resize",this._onResize),u(p,m+"down",this._onMouseDown),u(p,m+"move",this._onMouseMove,l),u(p,m+"out",this._onMouseOut),u(p,m+"enter",this._onMouseEnter),u(p,"wheel",this._onMouseWheel),u(p,"contextmenu",this._onContextMenu),u(p,"dblclick",this._onDoubleClick),u(p,"dragover",this._onDragOver),u(p,"dragenter",this._onDragEnter),u(p,"dragleave",this._onDragLeave),u(p,"drop",this._onDrop),this.enablePointerEvents||u(p,"touchstart",this._onTouchStart,l),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](p,"gesture",this._onGesture),eventjs[g](p,"drag",this._onDrag),eventjs[g](p,"orientation",this._onOrientationChange),eventjs[g](p,"shake",this._onShake),eventjs[g](p,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var u=this._getEventPrefix();i(t.document,u+"up",this._onMouseUp),i(t.document,"touchend",this._onTouchEnd,l),i(t.document,u+"move",this._onMouseMove,l),i(t.document,"touchmove",this._onMouseMove,l)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(u,g){this.__onTransformGesture&&this.__onTransformGesture(u,g)},_onDrag:function(u,g){this.__onDrag&&this.__onDrag(u,g)},_onMouseWheel:function(u){this.__onMouseWheel(u)},_onMouseOut:function(u){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:u}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:u});var p=this;this._hoveredTargets.forEach(function(m){p.fire("mouse:out",{target:g,e:u}),m&&g.fire("mouseout",{e:u})}),this._hoveredTargets=[]},_onMouseEnter:function(u){!this._currentTransform&&!this.findTarget(u)&&(this.fire("mouse:over",{target:null,e:u}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(u,g){this.__onOrientationChange&&this.__onOrientationChange(u,g)},_onShake:function(u,g){this.__onShake&&this.__onShake(u,g)},_onLongPress:function(u,g){this.__onLongPress&&this.__onLongPress(u,g)},_onDragOver:function(u){u.preventDefault();var g=this._simpleEventHandler("dragover",u);this._fireEnterLeaveEvents(g,u)},_onDrop:function(u){return this._simpleEventHandler("drop:before",u),this._simpleEventHandler("drop",u)},_onContextMenu:function(u){return this.stopContextMenu&&(u.stopPropagation(),u.preventDefault()),!1},_onDoubleClick:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"dblclick"),this._resetTransformEventData(u)},getPointerId:function(u){var g=u.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?u.pointerId:-1},_isMainEvent:function(u){return u.isPrimary===!0?!0:u.isPrimary===!1?!1:u.type==="touchend"&&u.touches.length===0?!0:u.changedTouches?u.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(u){u.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(u)),this.__onMouseDown(u),this._resetTransformEventData();var g=this.upperCanvasEl,p=this._getEventPrefix();c(t.document,"touchend",this._onTouchEnd,l),c(t.document,"touchmove",this._onMouseMove,l),i(g,p+"down",this._onMouseDown)},_onMouseDown:function(u){this.__onMouseDown(u),this._resetTransformEventData();var g=this.upperCanvasEl,p=this._getEventPrefix();i(g,p+"move",this._onMouseMove,l),c(t.document,p+"up",this._onMouseUp),c(t.document,p+"move",this._onMouseMove,l)},_onTouchEnd:function(u){if(!(u.touches.length>0)){this.__onMouseUp(u),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();i(t.document,"touchend",this._onTouchEnd,l),i(t.document,"touchmove",this._onMouseMove,l);var p=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){c(p.upperCanvasEl,g+"down",p._onMouseDown),p._willAddMouseDown=0},400)}},_onMouseUp:function(u){this.__onMouseUp(u),this._resetTransformEventData();var g=this.upperCanvasEl,p=this._getEventPrefix();this._isMainEvent(u)&&(i(t.document,p+"up",this._onMouseUp),i(t.document,p+"move",this._onMouseMove,l),c(g,p+"move",this._onMouseMove,l))},_onMouseMove:function(u){!this.allowTouchScrolling&&u.preventDefault&&u.preventDefault(),this.__onMouseMove(u)},_onResize:function(){this.calcOffset()},_shouldRender:function(u){var g=this._activeObject;return!!g!=!!u||g&&u&&g!==u?!0:(g&&g.isEditing,!1)},__onMouseUp:function(u){var g,p=this._currentTransform,m=this._groupSelector,_=!1,y=!m||m.left===0&&m.top===0;if(this._cacheTransformEventData(u),g=this._target,this._handleEvent(u,"up:before"),a(u,f)){this.fireRightClick&&this._handleEvent(u,"up",f,y);return}if(a(u,h)){this.fireMiddleClick&&this._handleEvent(u,"up",h,y),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(u);return}if(this._isMainEvent(u)){if(p&&(this._finalizeCurrentTransform(u),_=p.actionPerformed),!y){var b=g===this._activeObject;this._maybeGroupObjects(u),_||(_=this._shouldRender(g)||!b&&g===this._activeObject)}var w,C;if(g){if(w=g._findTargetCorner(this.getPointer(u,!0),t.util.isTouchEvent(u)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,u),_=!0;else{var x=g.controls[w],O=x&&x.getMouseUpHandler(u,g,x);O&&(C=this.getPointer(u),O(u,p,C.x,C.y))}g.isMoving=!1}if(p&&(p.target!==g||p.corner!==w)){var B=p.target&&p.target.controls[p.corner],Y=B&&B.getMouseUpHandler(u,g,x);C=C||this.getPointer(u),Y&&Y(u,p,C.x,C.y)}this._setCursorFromEvent(u,g),this._handleEvent(u,"up",o,y),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),_?this.requestRenderAll():y||this.renderTop()}},_simpleEventHandler:function(u,g){var p=this.findTarget(g),m=this.targets,_={e:g,target:p,subTargets:m};if(this.fire(u,_),p&&p.fire(u,_),!m)return p;for(var y=0;y<m.length;y++)m[y].fire(u,_);return p},_handleEvent:function(u,g,p,m){var _=this._target,y=this.targets||[],b={e:u,target:_,subTargets:y,button:p||o,isClick:m||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(b.currentTarget=this.findTarget(u),b.currentSubTargets=this.targets),this.fire("mouse:"+g,b),_&&_.fire("mouse"+g,b);for(var w=0;w<y.length;w++)y[w].fire("mouse"+g,b)},_finalizeCurrentTransform:function(u){var g=this._currentTransform,p=g.target,m={e:u,target:p,transform:g,action:g.action};p._scaling&&(p._scaling=!1),p.setCoords(),(g.actionPerformed||this.stateful&&p.hasStateChanged())&&this._fire("modified",m)},_onMouseDownInDrawingMode:function(u){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(u).requestRenderAll();var g=this.getPointer(u);this.freeDrawingBrush.onMouseDown(g,{e:u,pointer:g}),this._handleEvent(u,"down")},_onMouseMoveInDrawingMode:function(u){if(this._isCurrentlyDrawing){var g=this.getPointer(u);this.freeDrawingBrush.onMouseMove(g,{e:u,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(u,"move")},_onMouseUpInDrawingMode:function(u){var g=this.getPointer(u);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:u,pointer:g}),this._handleEvent(u,"up")},__onMouseDown:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"down:before");var g=this._target;if(a(u,f)){this.fireRightClick&&this._handleEvent(u,"down",f);return}if(a(u,h)){this.fireMiddleClick&&this._handleEvent(u,"down",h);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(u);return}if(this._isMainEvent(u)&&!this._currentTransform){var p=this._pointer;this._previousPointer=p;var m=this._shouldRender(g),_=this._shouldGroup(u,g);if(this._shouldClearSelection(u,g)?this.discardActiveObject(u):_&&(this._handleGrouping(u,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var y=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,u);var b=g._findTargetCorner(this.getPointer(u,!0),t.util.isTouchEvent(u));if(g.__corner=b,g===this._activeObject&&(b||!_)){this._setupCurrentTransform(u,g,y);var w=g.controls[b],p=this.getPointer(u),C=w&&w.getMouseDownHandler(u,g,w);C&&C(u,this._currentTransform,p.x,p.y)}}this._handleEvent(u,"down"),(m||_)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(u){this._resetTransformEventData(),this._pointer=this.getPointer(u,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(u)||null},_beforeTransform:function(u){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:u,transform:g})},__onMouseMove:function(u){this._handleEvent(u,"move:before"),this._cacheTransformEventData(u);var g,p;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(u);return}if(this._isMainEvent(u)){var m=this._groupSelector;m?(p=this._absolutePointer,m.left=p.x-m.ex,m.top=p.y-m.ey,this.renderTop()):this._currentTransform?this._transformObject(u):(g=this.findTarget(u)||null,this._setCursorFromEvent(u,g),this._fireOverOutEvents(g,u)),this._handleEvent(u,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(u,g){var p=this._hoveredTarget,m=this._hoveredTargets,_=this.targets,y=Math.max(m.length,_.length);this.fireSyntheticInOutEvents(u,g,{oldTarget:p,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var b=0;b<y;b++)this.fireSyntheticInOutEvents(_[b],g,{oldTarget:m[b],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=u,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(u,g){var p=this._draggedoverTarget,m=this._hoveredTargets,_=this.targets,y=Math.max(m.length,_.length);this.fireSyntheticInOutEvents(u,g,{oldTarget:p,evtOut:"dragleave",evtIn:"dragenter"});for(var b=0;b<y;b++)this.fireSyntheticInOutEvents(_[b],g,{oldTarget:m[b],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=u},fireSyntheticInOutEvents:function(u,g,p){var m,_,y=p.oldTarget,b,w,C=y!==u,x=p.canvasEvtIn,O=p.canvasEvtOut;C&&(m={e:g,target:u,previousTarget:y},_={e:g,target:y,nextTarget:u}),w=u&&C,b=y&&C,b&&(O&&this.fire(O,_),y.fire(p.evtOut,_)),w&&(x&&this.fire(x,m),u.fire(p.evtIn,m))},__onMouseWheel:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"wheel"),this._resetTransformEventData()},_transformObject:function(u){var g=this.getPointer(u),p=this._currentTransform;p.reset=!1,p.shiftKey=u.shiftKey,p.altKey=u[this.centeredKey],this._performTransformAction(u,p,g),p.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(u,g,p){var m=p.x,_=p.y,y=g.action,b=!1,w=g.actionHandler;w&&(b=w(u,g,m,_)),y==="drag"&&b&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||b},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(u,g){if(!g)return this.setCursor(this.defaultCursor),!1;var p=g.hoverCursor||this.hoverCursor,m=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,_=(!m||!m.contains(g))&&g._findTargetCorner(this.getPointer(u,!0));_?this.setCursor(this.getCornerCursor(_,g,u)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(y){p=y.hoverCursor||p}),this.setCursor(p))},getCornerCursor:function(u,g,p){var m=g.controls[u];return m.cursorStyleHandler(p,m,g)}})}(),function(){var c=Math.min,i=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(f,h){var o=this._activeObject;return o&&this._isSelectionKeyPressed(f)&&h&&h.selectable&&this.selection&&(o!==h||o.type==="activeSelection")&&!h.onSelect({e:f})},_handleGrouping:function(f,h){var o=this._activeObject;o.__corner||h===o&&(h=this.findTarget(f,!0),!h||!h.selectable)||(o&&o.type==="activeSelection"?this._updateActiveSelection(h,f):this._createActiveSelection(h,f))},_updateActiveSelection:function(f,h){var o=this._activeObject,l=o._objects.slice(0);o.contains(f)?(o.removeWithUpdate(f),this._hoveredTarget=f,this._hoveredTargets=this.targets.concat(),o.size()===1&&this._setActiveObject(o.item(0),h)):(o.addWithUpdate(f),this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(l,h)},_createActiveSelection:function(f,h){var o=this.getActiveObjects(),l=this._createGroup(f);this._hoveredTarget=l,this._setActiveObject(l,h),this._fireSelectionEvents(o,h)},_createGroup:function(f){var h=this._objects,o=h.indexOf(this._activeObject)<h.indexOf(f),l=o?[this._activeObject,f]:[f,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(l,{canvas:this})},_groupSelectedObjects:function(f){var h=this._collectObjects(f),o;h.length===1?this.setActiveObject(h[0],f):h.length>1&&(o=new t.ActiveSelection(h.reverse(),{canvas:this}),this.setActiveObject(o,f))},_collectObjects:function(f){for(var h=[],o,l=this._groupSelector.ex,a=this._groupSelector.ey,u=l+this._groupSelector.left,g=a+this._groupSelector.top,p=new t.Point(c(l,u),c(a,g)),m=new t.Point(i(l,u),i(a,g)),_=!this.selectionFullyContained,y=l===u&&a===g,b=this._objects.length;b--&&(o=this._objects[b],!(!(!o||!o.selectable||!o.visible)&&(_&&o.intersectsWithRect(p,m,!0)||o.isContainedWithinRect(p,m,!0)||_&&o.containsPoint(p,null,!0)||_&&o.containsPoint(m,null,!0))&&(h.push(o),y))););return h.length>1&&(h=h.filter(function(w){return!w.onSelect({e:f})})),h},_maybeGroupObjects:function(f){this.selection&&this._groupSelector&&this._groupSelectedObjects(f),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(c){c||(c={});var i=c.format||"png",f=c.quality||1,h=(c.multiplier||1)*(c.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(h,c);return t.util.toDataURL(o,i,f)},toCanvasElement:function(c,i){c=c||1,i=i||{};var f=(i.width||this.width)*c,h=(i.height||this.height)*c,o=this.getZoom(),l=this.width,a=this.height,u=o*c,g=this.viewportTransform,p=(g[4]-(i.left||0))*c,m=(g[5]-(i.top||0))*c,_=this.interactive,y=[u,0,0,u,p,m],b=this.enableRetinaScaling,w=t.util.createCanvasElement(),C=this.contextTop;return w.width=f,w.height=h,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=y,this.width=f,this.height=h,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=g,this.width=l,this.height=a,this.calcViewportBoundaries(),this.interactive=_,this.enableRetinaScaling=b,this.contextTop=C,w}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(c,i,f){if(c){var h=typeof c=="string"?JSON.parse(c):t.util.object.clone(c),o=this,l=h.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete h.clipPath,this._enlivenObjects(h.objects,function(u){o.clear(),o._setBgOverlay(h,function(){l?o._enlivenObjects([l],function(g){o.clipPath=g[0],o.__setupCanvas.call(o,h,u,a,i)}):o.__setupCanvas.call(o,h,u,a,i)})},f),this}},__setupCanvas:function(c,i,f,h){var o=this;i.forEach(function(l,a){o.insertAt(l,a)}),this.renderOnAddRemove=f,delete c.objects,delete c.backgroundImage,delete c.overlayImage,delete c.background,delete c.overlay,this._setOptions(c),this.renderAll(),h&&h()},_setBgOverlay:function(c,i){var f={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!c.backgroundImage&&!c.overlayImage&&!c.background&&!c.overlay){i&&i();return}var h=function(){f.backgroundImage&&f.overlayImage&&f.backgroundColor&&f.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",c.backgroundImage,f,h),this.__setBgOverlay("overlayImage",c.overlayImage,f,h),this.__setBgOverlay("backgroundColor",c.background,f,h),this.__setBgOverlay("overlayColor",c.overlay,f,h)},__setBgOverlay:function(c,i,f,h){var o=this;if(!i){f[c]=!0,h&&h();return}c==="backgroundImage"||c==="overlayImage"?t.util.enlivenObjects([i],function(l){o[c]=l[0],f[c]=!0,h&&h()}):this["set"+t.util.string.capitalize(c,!0)](i,function(){f[c]=!0,h&&h()})},_enlivenObjects:function(c,i,f){if(!c||c.length===0){i&&i([]);return}t.util.enlivenObjects(c,function(h){i&&i(h)},null,f)},_toDataURL:function(c,i){this.clone(function(f){i(f.toDataURL(c))})},_toDataURLWithMultiplier:function(c,i,f){this.clone(function(h){f(h.toDataURLWithMultiplier(c,i))})},clone:function(c,i){var f=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(h){h.loadFromJSON(f,function(){c&&c(h)})})},cloneWithoutData:function(c){var i=t.util.createCanvasElement();i.width=this.width,i.height=this.height;var f=new t.Canvas(i);this.backgroundImage?(f.setBackgroundImage(this.backgroundImage.src,function(){f.renderAll(),c&&c(f)}),f.backgroundImageOpacity=this.backgroundImageOpacity,f.backgroundImageStretch=this.backgroundImageStretch):c&&c(f)}}),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.util.object.clone,o=i.util.toFixed,l=i.util.string.capitalize,a=i.util.degreesToRadians,u=!i.isLikelyNode,g=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:u,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(p){p&&this.setOptions(p)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(p){var m=i.perfLimitSizeTotal,_=p.width,y=p.height,b=i.maxCacheSideLimit,w=i.minCacheSideLimit;if(_<=b&&y<=b&&_*y<=m)return _<w&&(p.width=w),y<w&&(p.height=w),p;var C=_/y,x=i.util.limitDimsByArea(C,m),O=i.util.capValue,B=O(w,x.x,b),Y=O(w,x.y,b);return _>B&&(p.zoomX/=_/B,p.width=B,p.capped=!0),y>Y&&(p.zoomY/=y/Y,p.height=Y,p.capped=!0),p},_getCacheCanvasDimensions:function(){var p=this.getTotalObjectScaling(),m=this._getTransformedDimensions(0,0),_=m.x*p.scaleX/this.scaleX,y=m.y*p.scaleY/this.scaleY;return{width:_+g,height:y+g,zoomX:p.scaleX,zoomY:p.scaleY,x:_,y}},_updateCacheCanvas:function(){var p=this.canvas;if(this.noScaleCache&&p&&p._currentTransform){var m=p._currentTransform.target,_=p._currentTransform.action;if(this===m&&_.slice&&_.slice(0,5)==="scale")return!1}var y=this._cacheCanvas,b=this._limitCacheSize(this._getCacheCanvasDimensions()),w=i.minCacheSideLimit,C=b.width,x=b.height,O,B,Y=b.zoomX,X=b.zoomY,N=C!==this.cacheWidth||x!==this.cacheHeight,j=this.zoomX!==Y||this.zoomY!==X,q=N||j,se=0,le=0,G=!1;if(N){var Q=this._cacheCanvas.width,T=this._cacheCanvas.height,R=C>Q||x>T,F=(C<Q*.9||x<T*.9)&&Q>w&&T>w;G=R||F,R&&!b.capped&&(C>w||x>w)&&(se=C*.1,le=x*.1)}return this instanceof i.Text&&this.path&&(q=!0,G=!0,se+=this.getHeightOfLine(0)*this.zoomX,le+=this.getHeightOfLine(0)*this.zoomY),q?(G?(y.width=Math.ceil(C+se),y.height=Math.ceil(x+le)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,y.width,y.height)),O=b.x/2,B=b.y/2,this.cacheTranslationX=Math.round(y.width/2-O)+O,this.cacheTranslationY=Math.round(y.height/2-B)+B,this.cacheWidth=C,this.cacheHeight=x,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Y,X),this.zoomX=Y,this.zoomY=X,!0):!1},setOptions:function(p){this._setOptions(p),this._initGradient(p.fill,"fill"),this._initGradient(p.stroke,"stroke"),this._initPattern(p.fill,"fill"),this._initPattern(p.stroke,"stroke")},transform:function(p){var m=this.group&&!this.group._transformDone||this.group&&this.canvas&&p===this.canvas.contextTop,_=this.calcTransformMatrix(!m);p.transform(_[0],_[1],_[2],_[3],_[4],_[5])},toObject:function(p){var m=i.Object.NUM_FRACTION_DIGITS,_={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:o(this.left,m),top:o(this.top,m),width:o(this.width,m),height:o(this.height,m),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,m),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,m),scaleX:o(this.scaleX,m),scaleY:o(this.scaleY,m),angle:o(this.angle,m),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,m),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,m),skewY:o(this.skewY,m)};return this.clipPath&&!this.clipPath.excludeFromExport&&(_.clipPath=this.clipPath.toObject(p),_.clipPath.inverted=this.clipPath.inverted,_.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,_,p),this.includeDefaultValues||(_=this._removeDefaultValues(_)),_},toDatalessObject:function(p){return this.toObject(p)},_removeDefaultValues:function(p){var m=i.util.getKlass(p.type).prototype,_=m.stateProperties;return _.forEach(function(y){y==="left"||y==="top"||(p[y]===m[y]&&delete p[y],Array.isArray(p[y])&&Array.isArray(m[y])&&p[y].length===0&&m[y].length===0&&delete p[y])}),p},toString:function(){return"#<fabric."+l(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var p=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(p.scaleX),scaleY:Math.abs(p.scaleY)}},getTotalObjectScaling:function(){var p=this.getObjectScaling(),m=p.scaleX,_=p.scaleY;if(this.canvas){var y=this.canvas.getZoom(),b=this.canvas.getRetinaScaling();m*=y*b,_*=y*b}return{scaleX:m,scaleY:_}},getObjectOpacity:function(){var p=this.opacity;return this.group&&(p*=this.group.getObjectOpacity()),p},_set:function(p,m){var _=p==="scaleX"||p==="scaleY",y=this[p]!==m,b=!1;return _&&(m=this._constrainScale(m)),p==="scaleX"&&m<0?(this.flipX=!this.flipX,m*=-1):p==="scaleY"&&m<0?(this.flipY=!this.flipY,m*=-1):p==="shadow"&&m&&!(m instanceof i.Shadow)?m=new i.Shadow(m):p==="dirty"&&this.group&&this.group.set("dirty",m),this[p]=m,y&&(b=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(p)>-1?(this.dirty=!0,b&&this.group.set("dirty",!0)):b&&this.stateProperties.indexOf(p)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(p){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(p.save(),this._setupCompositeOperation(p),this.drawSelectionBackground(p),this.transform(p),this._setOpacity(p),this._setShadow(p,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(p)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(p),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),p.restore())},renderCache:function(p){p=p||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,p.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(p,m){if(p.save(),m.inverted?p.globalCompositeOperation="destination-out":p.globalCompositeOperation="destination-in",m.absolutePositioned){var _=i.util.invertTransform(this.calcTransformMatrix());p.transform(_[0],_[1],_[2],_[3],_[4],_[5])}m.transform(p),p.scale(1/m.zoomX,1/m.zoomY),p.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),p.restore()},drawObject:function(p,m){var _=this.fill,y=this.stroke;m?(this.fill="black",this.stroke="",this._setClippingProperties(p)):this._renderBackground(p),this._render(p),this._drawClipPath(p,this.clipPath),this.fill=_,this.stroke=y},_drawClipPath:function(p,m){m&&(m.canvas=this.canvas,m.shouldCache(),m._transformDone=!0,m.renderCache({forClipping:!0}),this.drawClipPathOnCache(p,m))},drawCacheOnCanvas:function(p){p.scale(1/this.zoomX,1/this.zoomY),p.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(p){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!p&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!p){var m=this.cacheWidth/this.zoomX,_=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-m/2,-_/2,m,_)}return!0}return!1},_renderBackground:function(p){if(this.backgroundColor){var m=this._getNonTransformedDimensions();p.fillStyle=this.backgroundColor,p.fillRect(-m.x/2,-m.y/2,m.x,m.y),this._removeShadow(p)}},_setOpacity:function(p){this.group&&!this.group._transformDone?p.globalAlpha=this.getObjectOpacity():p.globalAlpha*=this.opacity},_setStrokeStyles:function(p,m){var _=m.stroke;_&&(p.lineWidth=m.strokeWidth,p.lineCap=m.strokeLineCap,p.lineDashOffset=m.strokeDashOffset,p.lineJoin=m.strokeLineJoin,p.miterLimit=m.strokeMiterLimit,_.toLive?_.gradientUnits==="percentage"||_.gradientTransform||_.patternTransform?this._applyPatternForTransformedGradient(p,_):(p.strokeStyle=_.toLive(p,this),this._applyPatternGradientTransform(p,_)):p.strokeStyle=m.stroke)},_setFillStyles:function(p,m){var _=m.fill;_&&(_.toLive?(p.fillStyle=_.toLive(p,this),this._applyPatternGradientTransform(p,m.fill)):p.fillStyle=_)},_setClippingProperties:function(p){p.globalAlpha=1,p.strokeStyle="transparent",p.fillStyle="#000000"},_setLineDash:function(p,m){!m||m.length===0||(1&m.length&&m.push.apply(m,m),p.setLineDash(m))},_renderControls:function(p,m){var _=this.getViewportTransform(),y=this.calcTransformMatrix(),b,w,C;m=m||{},w=typeof m.hasBorders<"u"?m.hasBorders:this.hasBorders,C=typeof m.hasControls<"u"?m.hasControls:this.hasControls,y=i.util.multiplyTransformMatrices(_,y),b=i.util.qrDecompose(y),p.save(),p.translate(b.translateX,b.translateY),p.lineWidth=1*this.borderScaleFactor,this.group||(p.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(b.angle-=180),p.rotate(a(this.group?b.angle:this.angle)),m.forActiveSelection||this.group?w&&this.drawBordersInGroup(p,b,m):w&&this.drawBorders(p,m),C&&this.drawControls(p,m),p.restore()},_setShadow:function(p){if(this.shadow){var m=this.shadow,_=this.canvas,y,b=_&&_.viewportTransform[0]||1,w=_&&_.viewportTransform[3]||1;m.nonScaling?y={scaleX:1,scaleY:1}:y=this.getObjectScaling(),_&&_._isRetinaScaling()&&(b*=i.devicePixelRatio,w*=i.devicePixelRatio),p.shadowColor=m.color,p.shadowBlur=m.blur*i.browserShadowBlurConstant*(b+w)*(y.scaleX+y.scaleY)/4,p.shadowOffsetX=m.offsetX*b*y.scaleX,p.shadowOffsetY=m.offsetY*w*y.scaleY}},_removeShadow:function(p){this.shadow&&(p.shadowColor="",p.shadowBlur=p.shadowOffsetX=p.shadowOffsetY=0)},_applyPatternGradientTransform:function(p,m){if(!m||!m.toLive)return{offsetX:0,offsetY:0};var _=m.gradientTransform||m.patternTransform,y=-this.width/2+m.offsetX||0,b=-this.height/2+m.offsetY||0;return m.gradientUnits==="percentage"?p.transform(this.width,0,0,this.height,y,b):p.transform(1,0,0,1,y,b),_&&p.transform(_[0],_[1],_[2],_[3],_[4],_[5]),{offsetX:y,offsetY:b}},_renderPaintInOrder:function(p){this.paintFirst==="stroke"?(this._renderStroke(p),this._renderFill(p)):(this._renderFill(p),this._renderStroke(p))},_render:function(){},_renderFill:function(p){this.fill&&(p.save(),this._setFillStyles(p,this),this.fillRule==="evenodd"?p.fill("evenodd"):p.fill(),p.restore())},_renderStroke:function(p){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(p),p.save(),this.strokeUniform&&this.group){var m=this.getObjectScaling();p.scale(1/m.scaleX,1/m.scaleY)}else this.strokeUniform&&p.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(p,this.strokeDashArray),this._setStrokeStyles(p,this),p.stroke(),p.restore()}},_applyPatternForTransformedGradient:function(p,m){var _=this._limitCacheSize(this._getCacheCanvasDimensions()),y=i.util.createCanvasElement(),b,w=this.canvas.getRetinaScaling(),C=_.x/this.scaleX/w,x=_.y/this.scaleY/w;y.width=C,y.height=x,b=y.getContext("2d"),b.beginPath(),b.moveTo(0,0),b.lineTo(C,0),b.lineTo(C,x),b.lineTo(0,x),b.closePath(),b.translate(C/2,x/2),b.scale(_.zoomX/this.scaleX/w,_.zoomY/this.scaleY/w),this._applyPatternGradientTransform(b,m),b.fillStyle=m.toLive(p),b.fill(),p.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),p.scale(w*this.scaleX/_.zoomX,w*this.scaleY/_.zoomY),p.strokeStyle=b.createPattern(y,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var p=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",p.scaleX),this.set("scaleY",p.scaleY),this.angle=p.angle,this.skewX=p.skewX,this.skewY=0}},_removeTransformMatrix:function(p){var m=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),m=i.util.transformPoint(m,this.transformMatrix)),this.transformMatrix=null,p&&(this.scaleX*=p.scaleX,this.scaleY*=p.scaleY,this.cropX=p.cropX,this.cropY=p.cropY,m.x+=p.offsetLeft,m.y+=p.offsetTop,this.width=p.width,this.height=p.height),this.setPositionByOrigin(m,"center","center")},clone:function(p,m){var _=this.toObject(m);this.constructor.fromObject?this.constructor.fromObject(_,p):i.Object._fromObject("Object",_,p)},cloneAsImage:function(p,m){var _=this.toCanvasElement(m);return p&&p(new i.Image(_)),this},toCanvasElement:function(p){p||(p={});var m=i.util,_=m.saveObjectTransform(this),y=this.group,b=this.shadow,w=Math.abs,C=(p.multiplier||1)*(p.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,p.withoutTransform&&m.resetObjectTransform(this),p.withoutShadow&&(this.shadow=null);var x=i.util.createCanvasElement(),O=this.getBoundingRect(!0,!0),B=this.shadow,Y,X={x:0,y:0},N,j,q;B&&(N=B.blur,B.nonScaling?Y={scaleX:1,scaleY:1}:Y=this.getObjectScaling(),X.x=2*Math.round(w(B.offsetX)+N)*w(Y.scaleX),X.y=2*Math.round(w(B.offsetY)+N)*w(Y.scaleY)),j=O.width+X.x,q=O.height+X.y,x.width=Math.ceil(j),x.height=Math.ceil(q);var se=new i.StaticCanvas(x,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});p.format==="jpeg"&&(se.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(se.width/2,se.height/2),"center","center");var le=this.canvas;se.add(this);var G=se.toCanvasElement(C||1,p);return this.shadow=b,this.set("canvas",le),y&&(this.group=y),this.set(_).setCoords(),se._objects=[],se.dispose(),se=null,G},toDataURL:function(p){return p||(p={}),i.util.toDataURL(this.toCanvasElement(p),p.format||"png",p.quality||1)},isType:function(p){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===p},complexity:function(){return 1},toJSON:function(p){return this.toObject(p)},rotate:function(p){var m=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return m&&this._setOriginToCenter(),this.set("angle",p),m&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(p,m){m=m||this.canvas.getPointer(p);var _=new i.Point(m.x,m.y),y=this._getLeftTopCoords();return this.angle&&(_=i.util.rotatePoint(_,y,a(-this.angle))),{x:_.x-y.x,y:_.y-y.y}},_setupCompositeOperation:function(p){this.globalCompositeOperation&&(p.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),f(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(p,m,_,y){var b=i[p];m=h(m,!0),i.util.enlivenPatterns([m.fill,m.stroke],function(w){typeof w[0]<"u"&&(m.fill=w[0]),typeof w[1]<"u"&&(m.stroke=w[1]),i.util.enlivenObjectEnlivables(m,m,function(){var C=y?new b(m[y],m):new b(m);_&&_(C)})})},i.Object.__uid=0)}(e),function(){var c=t.util.degreesToRadians,i={left:-.5,center:0,right:.5},f={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(h,o,l,a,u){var g=h.x,p=h.y,m,_,y;return typeof o=="string"?o=i[o]:o-=.5,typeof a=="string"?a=i[a]:a-=.5,m=a-o,typeof l=="string"?l=f[l]:l-=.5,typeof u=="string"?u=f[u]:u-=.5,_=u-l,(m||_)&&(y=this._getTransformedDimensions(),g=h.x+m*y.x,p=h.y+_*y.y),new t.Point(g,p)},translateToCenterPoint:function(h,o,l){var a=this.translateToGivenOrigin(h,o,l,"center","center");return this.angle?t.util.rotatePoint(a,h,c(this.angle)):a},translateToOriginPoint:function(h,o,l){var a=this.translateToGivenOrigin(h,"center","center",o,l);return this.angle?t.util.rotatePoint(a,h,c(this.angle)):a},getCenterPoint:function(){var h=new t.Point(this.left,this.top);return this.translateToCenterPoint(h,this.originX,this.originY)},getPointByOrigin:function(h,o){var l=this.getCenterPoint();return this.translateToOriginPoint(l,h,o)},toLocalPoint:function(h,o,l){var a=this.getCenterPoint(),u,g;return typeof o<"u"&&typeof l<"u"?u=this.translateToGivenOrigin(a,"center","center",o,l):u=new t.Point(this.left,this.top),g=new t.Point(h.x,h.y),this.angle&&(g=t.util.rotatePoint(g,a,-c(this.angle))),g.subtractEquals(u)},setPositionByOrigin:function(h,o,l){var a=this.translateToCenterPoint(h,o,l),u=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",u.x),this.set("top",u.y)},adjustPosition:function(h){var o=c(this.angle),l=this.getScaledWidth(),a=t.util.cos(o)*l,u=t.util.sin(o)*l,g,p;typeof this.originX=="string"?g=i[this.originX]:g=this.originX-.5,typeof h=="string"?p=i[h]:p=h-.5,this.left+=a*(p-g),this.top+=u*(p-g),this.setCoords(),this.originX=h},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var h=this.getCenterPoint();this.originX="center",this.originY="center",this.left=h.x,this.top=h.y},_resetOrigin:function(){var h=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=h.x,this.top=h.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function c(l){return[new t.Point(l.tl.x,l.tl.y),new t.Point(l.tr.x,l.tr.y),new t.Point(l.br.x,l.br.y),new t.Point(l.bl.x,l.bl.y)]}var i=t.util,f=i.degreesToRadians,h=i.multiplyTransformMatrices,o=i.transformPoint;i.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(l,a){return a?l?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),l?this.aCoords:this.lineCoords)},getCoords:function(l,a){return c(this._getCoords(l,a))},intersectsWithRect:function(l,a,u,g){var p=this.getCoords(u,g),m=t.Intersection.intersectPolygonRectangle(p,l,a);return m.status==="Intersection"},intersectsWithObject:function(l,a,u){var g=t.Intersection.intersectPolygonPolygon(this.getCoords(a,u),l.getCoords(a,u));return g.status==="Intersection"||l.isContainedWithinObject(this,a,u)||this.isContainedWithinObject(l,a,u)},isContainedWithinObject:function(l,a,u){for(var g=this.getCoords(a,u),p=a?l.aCoords:l.lineCoords,m=0,_=l._getImageLines(p);m<4;m++)if(!l.containsPoint(g[m],_))return!1;return!0},isContainedWithinRect:function(l,a,u,g){var p=this.getBoundingRect(u,g);return p.left>=l.x&&p.left+p.width<=a.x&&p.top>=l.y&&p.top+p.height<=a.y},containsPoint:function(l,m,u,g){var p=this._getCoords(u,g),m=m||this._getImageLines(p),_=this._findCrossPoints(l,m);return _!==0&&_%2===1},isOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br,g=this.getCoords(!0,l);return g.some(function(p){return p.x<=u.x&&p.x>=a.x&&p.y<=u.y&&p.y>=a.y})||this.intersectsWithRect(a,u,!0,l)?!0:this._containsCenterOfCanvas(a,u,l)},_containsCenterOfCanvas:function(l,a,u){var g={x:(l.x+a.x)/2,y:(l.y+a.y)/2};return!!this.containsPoint(g,null,!0,u)},isPartiallyOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br;if(this.intersectsWithRect(a,u,!0,l))return!0;var g=this.getCoords(!0,l).every(function(p){return(p.x>=u.x||p.x<=a.x)&&(p.y>=u.y||p.y<=a.y)});return g&&this._containsCenterOfCanvas(a,u,l)},_getImageLines:function(l){var a={topline:{o:l.tl,d:l.tr},rightline:{o:l.tr,d:l.br},bottomline:{o:l.br,d:l.bl},leftline:{o:l.bl,d:l.tl}};return a},_findCrossPoints:function(l,a){var u,g,p,m,_,y=0,b;for(var w in a)if(b=a[w],!(b.o.y<l.y&&b.d.y<l.y)&&!(b.o.y>=l.y&&b.d.y>=l.y)&&(b.o.x===b.d.x&&b.o.x>=l.x?_=b.o.x:(u=0,g=(b.d.y-b.o.y)/(b.d.x-b.o.x),p=l.y-u*l.x,m=b.o.y-g*b.o.x,_=-(p-m)/(u-g)),_>=l.x&&(y+=1),y===2))break;return y},getBoundingRect:function(l,a){var u=this.getCoords(l,a);return i.makeBoundingBoxFromPoints(u)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(l){return Math.abs(l)<this.minScaleLimit?l<0?-this.minScaleLimit:this.minScaleLimit:l===0?1e-4:l},scale:function(l){return this._set("scaleX",l),this._set("scaleY",l),this.setCoords()},scaleToWidth:function(l,a){var u=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(l/this.width/u)},scaleToHeight:function(l,a){var u=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(l/this.height/u)},calcLineCoords:function(){var l=this.getViewportTransform(),a=this.padding,u=f(this.angle),g=i.cos(u),p=i.sin(u),m=g*a,_=p*a,y=m+_,b=m-_,w=this.calcACoords(),C={tl:o(w.tl,l),tr:o(w.tr,l),bl:o(w.bl,l),br:o(w.br,l)};return a&&(C.tl.x-=b,C.tl.y-=y,C.tr.x+=y,C.tr.y-=b,C.bl.x-=y,C.bl.y+=b,C.br.x+=b,C.br.y+=y),C},calcOCoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),u=this.getViewportTransform(),g=h(u,a),p=h(g,l),p=h(p,[1/u[0],0,0,1/u[3],0,0]),m=this._calculateCurrentDimensions(),_={};return this.forEachControl(function(y,b,w){_[b]=y.positionHandler(m,p,w)}),_},calcACoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),u=h(a,l),g=this._getTransformedDimensions(),p=g.x/2,m=g.y/2;return{tl:o({x:-p,y:-m},u),tr:o({x:p,y:-m},u),bl:o({x:-p,y:m},u),br:o({x:p,y:m},u)}},setCoords:function(l){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),l?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var l=this.getCenterPoint();return[1,0,0,1,l.x,l.y]},transformMatrixKey:function(l){var a="_",u="";return!l&&this.group&&(u=this.group.transformMatrixKey(l)+a),u+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(l){var a=this.calcOwnMatrix();if(l||!this.group)return a;var u=this.transformMatrixKey(l),g=this.matrixCache||(this.matrixCache={});return g.key===u?g.value:(this.group&&(a=h(this.group.calcTransformMatrix(!1),a)),g.key=u,g.value=a,a)},calcOwnMatrix:function(){var l=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===l)return a.value;var u=this._calcTranslateMatrix(),g={angle:this.angle,translateX:u[4],translateY:u[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=l,a.value=i.composeMatrix(g),a.value},_getNonTransformedDimensions:function(){var l=this.strokeWidth,a=this.width+l,u=this.height+l;return{x:a,y:u}},_getTransformedDimensions:function(l,a){typeof l>"u"&&(l=this.skewX),typeof a>"u"&&(a=this.skewY);var u,g,p,m=l===0&&a===0;if(this.strokeUniform?(g=this.width,p=this.height):(u=this._getNonTransformedDimensions(),g=u.x,p=u.y),m)return this._finalizeDimensions(g*this.scaleX,p*this.scaleY);var _=i.sizeAfterTransform(g,p,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:l,skewY:a});return this._finalizeDimensions(_.x,_.y)},_finalizeDimensions:function(l,a){return this.strokeUniform?{x:l+this.strokeWidth,y:a+this.strokeWidth}:{x:l,y:a}},_calculateCurrentDimensions:function(){var l=this.getViewportTransform(),a=this._getTransformedDimensions(),u=o(a,l,!0);return u.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(c){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,c):this.canvas&&this.canvas.sendBackwards(this,c),this},bringForward:function(c){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,c):this.canvas&&this.canvas.bringForward(this,c),this},moveTo:function(c){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,c):this.canvas&&this.canvas.moveTo(this,c),this}}),function(){function c(f,h){if(h){if(h.toLive)return f+": url(#SVGID_"+h.id+"); ";var o=new t.Color(h),l=f+": "+o.toRgb()+"; ",a=o.getAlpha();return a!==1&&(l+=f+"-opacity: "+a.toString()+"; "),l}else return f+": none; "}var i=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(f){var h=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",l=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",u=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",p=this.strokeMiterLimit?this.strokeMiterLimit:"4",m=typeof this.opacity<"u"?this.opacity:"1",_=this.visible?"":" visibility: hidden;",y=f?"":this.getSvgFilter(),b=c("fill",this.fill),w=c("stroke",this.stroke);return[w,"stroke-width: ",o,"; ","stroke-dasharray: ",l,"; ","stroke-linecap: ",u,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",p,"; ",b,"fill-rule: ",h,"; ","opacity: ",m,";",y,_].join("")},getSvgSpanStyles:function(f,h){var o="; ",a=f.fontFamily?"font-family: "+(f.fontFamily.indexOf("'")===-1&&f.fontFamily.indexOf('"')===-1?"'"+f.fontFamily+"'":f.fontFamily)+o:"",l=f.strokeWidth?"stroke-width: "+f.strokeWidth+o:"",a=a,u=f.fontSize?"font-size: "+f.fontSize+"px"+o:"",g=f.fontStyle?"font-style: "+f.fontStyle+o:"",p=f.fontWeight?"font-weight: "+f.fontWeight+o:"",m=f.fill?c("fill",f.fill):"",_=f.stroke?c("stroke",f.stroke):"",y=this.getSvgTextDecoration(f),b=f.deltaY?"baseline-shift: "+-f.deltaY+"; ":"";return y&&(y="text-decoration: "+y+o),[_,l,a,u,g,p,y,m,b,h?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(f){return["overline","underline","line-through"].filter(function(h){return f[h.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(f,h){var o=f?this.calcTransformMatrix():this.calcOwnMatrix(),l='transform="'+t.util.matrixToSVG(o);return l+(h||"")+'" '},_setSVGBg:function(f){if(this.backgroundColor){var h=t.Object.NUM_FRACTION_DIGITS;f.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,h),'" y="',i(-this.height/2,h),'" width="',i(this.width,h),'" height="',i(this.height,h),`"></rect>
`)}},toSVG:function(f){return this._createBaseSVGMarkup(this._toSVG(f),{reviver:f})},toClipPathSVG:function(f){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(f),{reviver:f})},_createBaseClipPathSVGMarkup:function(f,h){h=h||{};var o=h.reviver,l=h.additionalTransform||"",a=[this.getSvgTransform(!0,l),this.getSvgCommons()].join(""),u=f.indexOf("COMMON_PARTS");return f[u]=a,o?o(f.join("")):f.join("")},_createBaseSVGMarkup:function(f,h){h=h||{};var o=h.noStyle,l=h.reviver,a=o?"":'style="'+this.getSvgStyles()+'" ',u=h.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,p=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",m=g&&g.absolutePositioned,_=this.stroke,y=this.fill,b=this.shadow,w,C=[],x,O=f.indexOf("COMMON_PARTS"),B=h.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+t.Object.__uid++,x='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(l)+`</clipPath>
`),m&&C.push("<g ",u,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),m?"":u+this.getSvgCommons(),` >
`),w=[a,p,o?"":this.addPaintOrder()," ",B?'transform="'+B+'" ':""].join(""),f[O]=w,y&&y.toLive&&C.push(y.toSVG(this)),_&&_.toLive&&C.push(_.toSVG(this)),b&&C.push(b.toSVG(this)),g&&C.push(x),C.push(f.join("")),C.push(`</g>
`),m&&C.push(`</g>
`),l?l(C.join("")):C.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var c=t.util.object.extend,i="stateProperties";function f(o,l,a){var u={},g=!0;a.forEach(function(p){u[p]=o[p]}),c(o[l],u,g)}function h(o,l,a){if(o===l)return!0;if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(var u=0,g=o.length;u<g;u++)if(!h(o[u],l[u]))return!1;return!0}else if(o&&typeof o=="object"){var p=Object.keys(o),m;if(!l||typeof l!="object"||!a&&p.length!==Object.keys(l).length)return!1;for(var u=0,g=p.length;u<g;u++)if(m=p[u],!(m==="canvas"||m==="group")&&!h(o[m],l[m]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(o){o=o||i;var l="_"+o;return Object.keys(this[l]).length<this[o].length?!0:!h(this[l],this,!0)},saveState:function(o){var l=o&&o.propertySet||i,a="_"+l;return this[a]?(f(this,a,this[l]),o&&o.stateProperties&&f(this,a,o.stateProperties),this):this.setupState(o)},setupState:function(o){o=o||{};var l=o.propertySet||i;return o.propertySet=l,this["_"+l]={},this.saveState(o),this}})}(),function(){var c=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(i,f){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var h=i.x,o=i.y,l,a,u=Object.keys(this.oCoords),g=u.length-1,p;for(this.__corner=0;g>=0;g--)if(p=u[g],!!this.isControlVisible(p)&&(a=this._getImageLines(f?this.oCoords[p].touchCorner:this.oCoords[p].corner),l=this._findCrossPoints({x:h,y:o},a),l!==0&&l%2===1))return this.__corner=p,p;return!1},forEachControl:function(i){for(var f in this.controls)i(this.controls[f],f,this)},_setCornerCoords:function(){var i=this.oCoords;for(var f in i){var h=this.controls[f];i[f].corner=h.calcCornerCoords(this.angle,this.cornerSize,i[f].x,i[f].y,!1),i[f].touchCorner=h.calcCornerCoords(this.angle,this.touchCornerSize,i[f].x,i[f].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var f=this.getCenterPoint(),h=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return i.translate(f.x,f.y),i.scale(1/o[0],1/o[3]),i.rotate(c(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-h.x/2,-h.y/2,h.x,h.y),i.restore(),this},drawBorders:function(i,f){f=f||{};var h=this._calculateCurrentDimensions(),o=this.borderScaleFactor,l=h.x+o,a=h.y+o,u=typeof f.hasControls<"u"?f.hasControls:this.hasControls,g=!1;return i.save(),i.strokeStyle=f.borderColor||this.borderColor,this._setLineDash(i,f.borderDashArray||this.borderDashArray),i.strokeRect(-l/2,-a/2,l,a),u&&(i.beginPath(),this.forEachControl(function(p,m,_){p.withConnection&&p.getVisibility(_,m)&&(g=!0,i.moveTo(p.x*l,p.y*a),i.lineTo(p.x*l+p.offsetX,p.y*a+p.offsetY))}),g&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,f,h){h=h||{};var o=t.util.sizeAfterTransform(this.width,this.height,f),l=this.strokeWidth,a=this.strokeUniform,u=this.borderScaleFactor,g=o.x+l*(a?this.canvas.getZoom():f.scaleX)+u,p=o.y+l*(a?this.canvas.getZoom():f.scaleY)+u;return i.save(),this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeStyle=h.borderColor||this.borderColor,i.strokeRect(-g/2,-p/2,g,p),i.restore(),this},drawControls:function(i,f){f=f||{},i.save();var h=this.canvas.getRetinaScaling(),o,l;return i.setTransform(h,0,0,h,0,0),i.strokeStyle=i.fillStyle=f.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=f.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,f.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(o=this.group.calcTransformMatrix()),this.forEachControl(function(a,u,g){l=g.oCoords[u],a.getVisibility(g,u)&&(o&&(l=t.util.transformPoint(l,o)),a.render(i,l.x,l.y,f,g))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,f){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=f,this},setControlsVisibility:function(i){i||(i={});for(var f in i)this.setControlVisible(f,i[f]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(c,i){i=i||{};var f=function(){},h=i.onComplete||f,o=i.onChange||f,l=this;return t.util.animate({target:this,startValue:c.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){c.set("left",a),l.requestRenderAll(),o()},onComplete:function(){c.setCoords(),h()}})},fxCenterObjectV:function(c,i){i=i||{};var f=function(){},h=i.onComplete||f,o=i.onChange||f,l=this;return t.util.animate({target:this,startValue:c.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){c.set("top",a),l.requestRenderAll(),o()},onComplete:function(){c.setCoords(),h()}})},fxRemove:function(c,i){i=i||{};var f=function(){},h=i.onComplete||f,o=i.onChange||f,l=this;return t.util.animate({target:this,startValue:c.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){c.set("opacity",a),l.requestRenderAll(),o()},onComplete:function(){l.remove(c),h()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var c=[],i,f,h=[];for(i in arguments[0])c.push(i);for(var o=0,l=c.length;o<l;o++)i=c[o],f=o!==l-1,h.push(this._animate(i,arguments[0][i],arguments[1],f));return h}else return this._animate.apply(this,arguments)},_animate:function(c,i,f,h){var o=this,l;i=i.toString(),f?f=t.util.object.clone(f):f={},~c.indexOf(".")&&(l=c.split("."));var a=o.colorProperties.indexOf(c)>-1||l&&o.colorProperties.indexOf(l[1])>-1,u=l?this.get(l[0])[l[1]]:this.get(c);"from"in f||(f.from=u),a||(~i.indexOf("=")?i=u+parseFloat(i.replace("=","")):i=parseFloat(i));var g={target:this,startValue:f.from,endValue:i,byValue:f.by,easing:f.easing,duration:f.duration,abort:f.abort&&function(p,m,_){return f.abort.call(o,p,m,_)},onChange:function(p,m,_){l?o[l[0]][l[1]]=p:o.set(c,p),!h&&f.onChange&&f.onChange(p,m,_)},onComplete:function(p,m,_){h||(o.setCoords(),f.onComplete&&f.onComplete(p,m,_))}};return a?t.util.animateColor(g.startValue,g.endValue,g.duration,g):t.util.animate(g)}}),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,u){a||(a=[0,0,0,0]),this.callSuper("initialize",u),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(u)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,u){return this.callSuper("_set",a,u),typeof o[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:l({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:l({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var u=this.calcLinePoints();a.moveTo(u.x1,u.y1),a.lineTo(u.x2,u.y2),a.lineWidth=this.strokeWidth;var g=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return f(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(a.y-=this.strokeWidth),this.height===0&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,u=this.y1<=this.y2?-1:1,g=a*this.width*.5,p=u*this.height*.5,m=a*this.width*-.5,_=u*this.height*-.5;return{x1:g,x2:m,y1:p,y2:_}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(a,u,g){g=g||{};var p=i.parseAttributes(a,i.Line.ATTRIBUTE_NAMES),m=[p.x1||0,p.y1||0,p.x2||0,p.y2||0];u(new i.Line(m,f(p,g)))},i.Line.fromObject=function(a,u){function g(m){delete m.points,u&&u(m)}var p=h(a,!0);p.points=[a.x1,a.y1,a.x2,a.y2],i.Object._fromObject("Line",p,g,"points")};function l(a,u){var g=a.origin,p=a.axis1,m=a.axis2,_=a.dimension,y=u.nearest,b=u.center,w=u.farthest;return function(){switch(this.get(g)){case y:return Math.min(this.get(p),this.get(m));case b:return Math.min(this.get(p),this.get(m))+.5*this.get(_);case w:return Math.max(this.get(p),this.get(m))}}}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(o,l){return this.callSuper("_set",o,l),o==="radius"&&this.setRadius(l),this},toObject:function(o){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(o))},_toSVG:function(){var o,l=0,a=0,u=(this.endAngle-this.startAngle)%360;if(u===0)o=["<circle ","COMMON_PARTS",'cx="'+l+'" cy="'+a+'" ','r="',this.radius,`" />
`];else{var g=f(this.startAngle),p=f(this.endAngle),m=this.radius,_=i.util.cos(g)*m,y=i.util.sin(g)*m,b=i.util.cos(p)*m,w=i.util.sin(p)*m,C=u>180?"1":"0";o=['<path d="M '+_+" "+y," A "+m+" "+m," 0 ",+C+" 1"," "+b+" "+w,'" ',"COMMON_PARTS",` />
`]}return o},_render:function(o){o.beginPath(),o.arc(0,0,this.radius,f(this.startAngle),f(this.endAngle),!1),this._renderPaintInOrder(o)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(o){return this.radius=o,this.set("width",o*2).set("height",o*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(o,l){var a=i.parseAttributes(o,i.Circle.ATTRIBUTE_NAMES);if(!h(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,l(new i.Circle(a))};function h(o){return"radius"in o&&o.radius>=0}i.Circle.fromObject=function(o,l){i.Object._fromObject("Circle",o,l)}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(f){var h=this.width/2,o=this.height/2;f.beginPath(),f.moveTo(-h,o),f.lineTo(0,-o),f.lineTo(h,o),f.closePath(),this._renderPaintInOrder(f)},_toSVG:function(){var f=this.width/2,h=this.height/2,o=[-f+" "+h,"0 "+-h,f+" "+h].join(",");return["<polygon ","COMMON_PARTS",'points="',o,'" />']}}),i.Triangle.fromObject=function(f,h){return i.Object._fromObject("Triangle",f,h)}}(e),function(c){var i=c.fabric||(c.fabric={}),f=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this.set("rx",h&&h.rx||0),this.set("ry",h&&h.ry||0)},_set:function(h,o){switch(this.callSuper("_set",h,o),h){case"rx":this.rx=o,this.set("width",o*2);break;case"ry":this.ry=o,this.set("height",o*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(h){h.beginPath(),h.save(),h.transform(1,0,0,this.ry/this.rx,0,0),h.arc(0,0,this.rx,0,f,!1),h.restore(),this._renderPaintInOrder(h)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(h,o){var l=i.parseAttributes(h,i.Ellipse.ATTRIBUTE_NAMES);l.left=(l.left||0)-l.rx,l.top=(l.top||0)-l.ry,o(new i.Ellipse(l))},i.Ellipse.fromObject=function(h,o){i.Object._fromObject("Ellipse",h,o)}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(h){var o=this.rx?Math.min(this.rx,this.width/2):0,l=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,u=this.height,g=-this.width/2,p=-this.height/2,m=o!==0||l!==0,_=1-.5522847498;h.beginPath(),h.moveTo(g+o,p),h.lineTo(g+a-o,p),m&&h.bezierCurveTo(g+a-_*o,p,g+a,p+_*l,g+a,p+l),h.lineTo(g+a,p+u-l),m&&h.bezierCurveTo(g+a,p+u-_*l,g+a-_*o,p+u,g+a-o,p+u),h.lineTo(g+o,p+u),m&&h.bezierCurveTo(g+_*o,p+u,g,p+u-_*l,g,p+u-l),h.lineTo(g,p+l),m&&h.bezierCurveTo(g,p+_*l,g+_*o,p,g+o,p),h.closePath(),this._renderPaintInOrder(h)},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){var h=-this.width/2,o=-this.height/2;return["<rect ","COMMON_PARTS",'x="',h,'" y="',o,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(h,o,l){if(!h)return o(null);l=l||{};var a=i.parseAttributes(h,i.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var u=new i.Rect(f(l?i.util.object.clone(l):{},a));u.visible=u.visible&&u.width>0&&u.height>0,o(u)},i.Rect.fromObject=function(h,o){return i.Object._fromObject("Rect",h,o)}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.util.array.min,o=i.util.array.max,l=i.util.toFixed,a=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(u,g){g=g||{},this.points=u||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(u){var g=this._calcDimensions(u),p,m=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-m,this.height=g.height-m,u.fromSVG||(p=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+m/2,y:g.top-this.strokeWidth/2+m/2},"left","top",this.originX,this.originY)),typeof u.left>"u"&&(this.left=u.fromSVG?g.left:p.x),typeof u.top>"u"&&(this.top=u.fromSVG?g.top:p.y),this.pathOffset={x:g.left+this.width/2+m/2,y:g.top+this.height/2+m/2}},_calcDimensions:function(){var u=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=h(u,"x")||0,p=h(u,"y")||0,m=o(u,"x")||0,_=o(u,"y")||0,y=m-g,b=_-p;return{left:g,top:p,width:y,height:b}},toObject:function(u){return f(this.callSuper("toObject",u),{points:this.points.concat()})},_toSVG:function(){for(var u=[],g=this.pathOffset.x,p=this.pathOffset.y,m=i.Object.NUM_FRACTION_DIGITS,_=0,y=this.points.length;_<y;_++)u.push(l(this.points[_].x-g,m),",",l(this.points[_].y-p,m)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',u.join(""),`" />
`]},commonRender:function(u){var g,p=this.points.length,m=this.pathOffset.x,_=this.pathOffset.y;if(!p||isNaN(this.points[p-1].y))return!1;u.beginPath(),u.moveTo(this.points[0].x-m,this.points[0].y-_);for(var y=0;y<p;y++)g=this.points[y],u.lineTo(g.x-m,g.y-_);return!0},_render:function(u){this.commonRender(u)&&this._renderPaintInOrder(u)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(u){return function(g,p,m){if(!g)return p(null);m||(m={});var _=i.parsePointsAttribute(g.getAttribute("points")),y=i.parseAttributes(g,i[u].ATTRIBUTE_NAMES);y.fromSVG=!0,p(new i[u](_,f(y,m)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(u,g){return i.Object._fromObject("Polyline",u,g,"points")}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return f(this.points,this)},_render:function(h){this.commonRender(h)&&(h.closePath(),this._renderPaintInOrder(h))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(h,o){i.Object._fromObject("Polygon",h,o,"points")}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.array.min,h=i.util.array.max,o=i.util.object.extend,l=i.util.object.clone,a=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(u,g){g=l(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(u||[],g)},_setPath:function(u,g){this.path=i.util.makePathSimpler(Array.isArray(u)?u:i.util.parsePath(u)),i.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(u){var g,p=0,m=0,_=0,y=0,b=0,w=0,C=-this.pathOffset.x,x=-this.pathOffset.y;u.beginPath();for(var O=0,B=this.path.length;O<B;++O)switch(g=this.path[O],g[0]){case"L":_=g[1],y=g[2],u.lineTo(_+C,y+x);break;case"M":_=g[1],y=g[2],p=_,m=y,u.moveTo(_+C,y+x);break;case"C":_=g[5],y=g[6],b=g[3],w=g[4],u.bezierCurveTo(g[1]+C,g[2]+x,b+C,w+x,_+C,y+x);break;case"Q":u.quadraticCurveTo(g[1]+C,g[2]+x,g[3]+C,g[4]+x),_=g[3],y=g[4],b=g[1],w=g[2];break;case"z":case"Z":_=p,y=m,u.closePath();break}},_render:function(u){this._renderPathCommands(u),this._renderPaintInOrder(u)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(u){return o(this.callSuper("toObject",u),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(u){var g=this.toObject(["sourcePath"].concat(u));return g.sourcePath&&delete g.path,g},_toSVG:function(){var u=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',u,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var u=i.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,u)+", "+a(-this.pathOffset.y,u)+")"},toClipPathSVG:function(u){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:g})},toSVG:function(u){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var u=[],g=[],p,m=0,_=0,y=0,b=0,w,C=0,x=this.path.length;C<x;++C){switch(p=this.path[C],p[0]){case"L":y=p[1],b=p[2],w=[];break;case"M":y=p[1],b=p[2],m=y,_=b,w=[];break;case"C":w=i.util.getBoundsOfCurve(y,b,p[1],p[2],p[3],p[4],p[5],p[6]),y=p[5],b=p[6];break;case"Q":w=i.util.getBoundsOfCurve(y,b,p[1],p[2],p[1],p[2],p[3],p[4]),y=p[3],b=p[4];break;case"z":case"Z":y=m,b=_;break}w.forEach(function(q){u.push(q.x),g.push(q.y)}),u.push(y),g.push(b)}var O=f(u)||0,B=f(g)||0,Y=h(u)||0,X=h(g)||0,N=Y-O,j=X-B;return{left:O,top:B,width:N,height:j}}}),i.Path.fromObject=function(u,g){if(typeof u.sourcePath=="string"){var p=u.sourcePath;i.loadSVGFromURL(p,function(m){var _=m[0];_.setOptions(u),u.clipPath?i.util.enlivenObjects([u.clipPath],function(y){_.clipPath=y[0],g&&g(_)}):g&&g(_)})}else i.Object._fromObject("Path",u,g,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(u,g,p){var m=i.parseAttributes(u,i.Path.ATTRIBUTE_NAMES);m.fromSVG=!0,g(new i.Path(m.d,o(m,p)))}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.array.min,h=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(o,l,a){l=l||{},this._objects=[],a&&this.callSuper("initialize",l),this._objects=o||[];for(var u=this._objects.length;u--;)this._objects[u].group=this;if(a)this._updateObjectsACoords();else{var g=l&&l.centerPoint;l.originX!==void 0&&(this.originX=l.originX),l.originY!==void 0&&(this.originY=l.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete l.centerPoint,this.callSuper("initialize",l)}this.setCoords()},_updateObjectsACoords:function(){for(var o=!0,l=this._objects.length;l--;)this._objects[l].setCoords(o)},_updateObjectsCoords:function(l){for(var l=l||this.getCenterPoint(),a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],l)},_updateObjectCoords:function(o,l){var a=o.left,u=o.top,g=!0;o.set({left:a-l.x,top:u-l.y}),o.group=this,o.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(o){var l=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),o&&(l&&i.util.removeTransformFromObject(o,this.group.calcTransformMatrix()),this._objects.push(o),o.group=this,o._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,l?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(o){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(o),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(o){this.dirty=!0,o.group=this,o._set("canvas",this.canvas)},_onObjectRemoved:function(o){this.dirty=!0,delete o.group},_set:function(o,l){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(o,l);if(o==="canvas")for(;a--;)this._objects[a]._set(o,l);i.Object.prototype._set.call(this,o,l)},toObject:function(o){var l=this.includeDefaultValues,a=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var p=g.includeDefaultValues;g.includeDefaultValues=l;var m=g.toObject(o);return g.includeDefaultValues=p,m}),u=i.Object.prototype.toObject.call(this,o);return u.objects=a,u},toDatalessObject:function(o){var l,a=this.sourcePath;if(a)l=a;else{var u=this.includeDefaultValues;l=this._objects.map(function(p){var m=p.includeDefaultValues;p.includeDefaultValues=u;var _=p.toDatalessObject(o);return p.includeDefaultValues=m,_})}var g=i.Object.prototype.toDatalessObject.call(this,o);return g.objects=l,g},render:function(o){this._transformDone=!0,this.callSuper("render",o),this._transformDone=!1},shouldCache:function(){var o=i.Object.prototype.shouldCache.call(this);if(o){for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].willDrawShadow())return this.ownCaching=!1,!1}return o},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var o=0,l=this._objects.length;o<l;o++)if(this._objects[o].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(o){for(var l=0,a=this._objects.length;l<a;l++)this._objects[l].render(o);this._drawClipPath(o,this.clipPath)},isCacheDirty:function(o){if(this.callSuper("isCacheDirty",o))return!0;if(!this.statefullCache)return!1;for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].isCacheDirty(!0)){if(this._cacheCanvas){var u=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-u/2,-g/2,u,g)}return!0}return!1},_restoreObjectsState:function(){var o=this.calcOwnMatrix();return this._objects.forEach(function(l){i.util.addTransformToObject(l,o),delete l.group,l.setCoords()}),this},destroy:function(){return this._objects.forEach(function(o){o.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var o=this._objects,l=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var u=new i.ActiveSelection([]);return u.set(a),u.type="activeSelection",l.remove(this),o.forEach(function(g){g.group=u,g.dirty=!0,l.add(g)}),u.canvas=l,u._objects=o,l._activeObject=u,u.setCoords(),u}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var o=!0;return this.forEachObject(function(l){l.setCoords(o)}),this},_calcBounds:function(o){for(var l=[],a=[],u,g,p,m=["tr","br","bl","tl"],_=0,y=this._objects.length,b,w=m.length;_<y;++_){for(u=this._objects[_],p=u.calcACoords(),b=0;b<w;b++)g=m[b],l.push(p[g].x),a.push(p[g].y);u.aCoords=p}this._getBounds(l,a,o)},_getBounds:function(o,l,a){var u=new i.Point(f(o),f(l)),g=new i.Point(h(o),h(l)),p=u.y||0,m=u.x||0,_=g.x-u.x||0,y=g.y-u.y||0;this.width=_,this.height=y,a||this.setPositionByOrigin({x:m,y:p},"left","top")},_toSVG:function(o){for(var l=["<g ","COMMON_PARTS",` >
`],a=0,u=this._objects.length;a<u;a++)l.push("		",this._objects[a].toSVG(o));return l.push(`</g>
`),l},getSvgStyles:function(){var o=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",l=this.visible?"":" visibility: hidden;";return[o,this.getSvgFilter(),l].join("")},toClipPathSVG:function(o){for(var l=[],a=0,u=this._objects.length;a<u;a++)l.push("	",this._objects[a].toClipPathSVG(o));return this._createBaseClipPathSVGMarkup(l,{reviver:o})}}),i.Group.fromObject=function(o,l){var a=o.objects,u=i.util.object.clone(o,!0);if(delete u.objects,typeof a=="string"){i.loadSVGFromURL(a,function(g){var p=i.util.groupSVGElements(g,o,a),m=u.clipPath;delete u.clipPath,p.set(u),m?i.util.enlivenObjects([m],function(_){p.clipPath=_[0],l&&l(p)}):l&&l(p)});return}i.util.enlivenObjects(a,function(g){i.util.enlivenObjectEnlivables(o,u,function(){l&&l(new i.Group(g,u,!0))})})})}(e),function(c){var i=c.fabric||(c.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(f,h){h=h||{},this._objects=f||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;h.originX&&(this.originX=h.originX),h.originY&&(this.originY=h.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,h),this.setCoords()},toGroup:function(){var f=this._objects.concat();this._objects=[];var h=i.Object.prototype.toObject.call(this),o=new i.Group([]);if(delete h.type,o.set(h),f.forEach(function(a){a.canvas.remove(a),a.group=o}),o._objects=f,!this.canvas)return o;var l=this.canvas;return l.add(o),l._activeObject=o,o.setCoords(),o},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(f,h,o){f.save(),f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",f,h),o=o||{},typeof o.hasControls>"u"&&(o.hasControls=!1),o.forActiveSelection=!0;for(var l=0,a=this._objects.length;l<a;l++)this._objects[l]._renderControls(f,o);f.restore()}}),i.ActiveSelection.fromObject=function(f,h){i.util.enlivenObjects(f.objects,function(o){delete f.objects,h&&h(new i.ActiveSelection(o,f,!0))})})}(e),function(c){var i=t.util.object.extend;if(c.fabric||(c.fabric={}),c.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(f,h){h||(h={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",h),this._initElement(f,h)},getElement:function(){return this._element||{}},setElement:function(f,h){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=f,this._originalElement=f,this._initConfig(h),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(f){var h=t.filterBackend;h&&h.evictCachesForKey&&h.evictCachesForKey(f)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(f){t.util.cleanUpJsdomNode(this[f]),this[f]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var f=this.getElement();return{width:f.naturalWidth||f.width,height:f.naturalHeight||f.height}},_stroke:function(f){if(!(!this.stroke||this.strokeWidth===0)){var h=this.width/2,o=this.height/2;f.beginPath(),f.moveTo(-h,-o),f.lineTo(h,-o),f.lineTo(h,o),f.lineTo(-h,o),f.lineTo(-h,-o),f.closePath()}},toObject:function(f){var h=[];this.filters.forEach(function(l){l&&h.push(l.toObject())});var o=i(this.callSuper("toObject",["cropX","cropY"].concat(f)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:h});return this.resizeFilter&&(o.resizeFilter=this.resizeFilter.toObject()),o},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var f=[],h=[],o,l=this._element,a=-this.width/2,u=-this.height/2,g="",p="";if(!l)return[];if(this.hasCrop()){var m=t.Object.__uid++;f.push('<clipPath id="imageCrop_'+m+`">
`,'	<rect x="'+a+'" y="'+u+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+m+')" '}if(this.imageSmoothing||(p='" image-rendering="optimizeSpeed'),h.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',u-this.cropY,'" width="',l.width||l.naturalWidth,'" height="',l.height||l.height,p,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var _=this.fill;this.fill=null,o=["	<rect ",'x="',a,'" y="',u,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=_}return this.paintFirst!=="fill"?f=f.concat(o,h):f=f.concat(h,o),f},getSrc:function(f){var h=f?this._element:this._originalElement;return h?h.toDataURL?h.toDataURL():this.srcFromAttribute?h.getAttribute("src"):h.src:this.src||""},setSrc:function(f,h,o){return t.util.loadImage(f,function(l,a){this.setElement(l,o),this._setWidthHeight(),h&&h(this,a)},this,o&&o.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var f=this.resizeFilter,h=this.minimumScaleTrigger,o=this.getTotalObjectScaling(),l=o.scaleX,a=o.scaleY,u=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!f||l>h&&a>h){this._element=u,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=l,this._lastScaleY=a;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var g=t.util.createCanvasElement(),p=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,m=u.width,_=u.height;g.width=m,g.height=_,this._element=g,this._lastScaleX=f.scaleX=l,this._lastScaleY=f.scaleY=a,t.filterBackend.applyFilters([f],u,m,_,this._element,p),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(f){if(f=f||this.filters||[],f=f.filter(function(u){return u&&!u.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),f.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var h=this._originalElement,o=h.naturalWidth||h.width,l=h.naturalHeight||h.height;if(this._element===this._originalElement){var a=t.util.createCanvasElement();a.width=o,a.height=l,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,o,l),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(f,this._originalElement,o,l,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(f){t.util.setImageSmoothing(f,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(f),this._renderPaintInOrder(f)},drawCacheOnCanvas:function(f){t.util.setImageSmoothing(f,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,f)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(f){var h=this._element;if(h){var o=this._filterScalingX,l=this._filterScalingY,a=this.width,u=this.height,g=Math.min,p=Math.max,m=p(this.cropX,0),_=p(this.cropY,0),y=h.naturalWidth||h.width,b=h.naturalHeight||h.height,w=m*o,C=_*l,x=g(a*o,y-w),O=g(u*l,b-C),B=-a/2,Y=-u/2,X=g(a,y/o-m),N=g(u,b/l-_);h&&f.drawImage(h,w,C,x,O,B,Y,X,N)}},_needsResize:function(){var f=this.getTotalObjectScaling();return f.scaleX!==this._lastScaleX||f.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(f,h){this.setElement(t.util.getById(f),h),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(f){f||(f={}),this.setOptions(f),this._setWidthHeight(f)},_initFilters:function(f,h){f&&f.length?t.util.enlivenObjects(f,function(o){h&&h(o)},"fabric.Image.filters"):h&&h()},_setWidthHeight:function(f){f||(f={});var h=this.getElement();this.width=f.width||h.naturalWidth||h.width||0,this.height=f.height||h.naturalHeight||h.height||0},parsePreserveAspectRatioAttribute:function(){var f=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),h=this._element.width,o=this._element.height,l=1,a=1,u=0,g=0,p=0,m=0,_,y=this.width,b=this.height,w={width:y,height:b};return f&&(f.alignX!=="none"||f.alignY!=="none")?(f.meetOrSlice==="meet"&&(l=a=t.util.findScaleToFit(this._element,w),_=(y-h*l)/2,f.alignX==="Min"&&(u=-_),f.alignX==="Max"&&(u=_),_=(b-o*a)/2,f.alignY==="Min"&&(g=-_),f.alignY==="Max"&&(g=_)),f.meetOrSlice==="slice"&&(l=a=t.util.findScaleToCover(this._element,w),_=h-y/l,f.alignX==="Mid"&&(p=_/2),f.alignX==="Max"&&(p=_),_=o-b/a,f.alignY==="Mid"&&(m=_/2),f.alignY==="Max"&&(m=_),h=y/l,o=b/a)):(l=y/h,a=b/o),{width:h,height:o,scaleX:l,scaleY:a,offsetLeft:u,offsetTop:g,cropX:p,cropY:m}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(f,h){var o=t.util.object.clone(f);t.util.loadImage(o.src,function(l,a){if(a){h&&h(null,!0);return}t.Image.prototype._initFilters.call(o,o.filters,function(u){o.filters=u||[],t.Image.prototype._initFilters.call(o,[o.resizeFilter],function(g){o.resizeFilter=g[0],t.util.enlivenObjectEnlivables(o,o,function(){var p=new t.Image(l,o);h(p,!1)})})})},null,o.crossOrigin)},t.Image.fromURL=function(f,h,o){t.util.loadImage(f,function(l,a){h&&h(new t.Image(l,o),a)},null,o&&o.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(f,h,o){var l=t.parseAttributes(f,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(l["xlink:href"],h,i(o?t.util.object.clone(o):{},l))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var c=this.angle%360;return c>0?Math.round((c-1)/90)*90:Math.round(c/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(c){c=c||{};var i=function(){},f=c.onComplete||i,h=c.onChange||i,o=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(l){o.rotate(l),h()},onComplete:function(){o.setCoords(),f()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(c){return c.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(c){return c.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function c(f,h){var o="precision "+h+` float;
void main(){}`,l=f.createShader(f.FRAGMENT_SHADER);return f.shaderSource(l,o),f.compileShader(l),!!f.getShaderParameter(l,f.COMPILE_STATUS)}t.isWebglSupported=function(f){if(t.isLikelyNode)return!1;f=f||t.WebglFilterBackend.prototype.tileSize;var h=document.createElement("canvas"),o=h.getContext("webgl")||h.getContext("experimental-webgl"),l=!1;if(o){t.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),l=t.maxTextureSize>=f;for(var a=["highp","mediump","lowp"],u=0;u<3;u++)if(c(o,a[u])){t.webGlPrecision=a[u];break}}return this.isSupported=l,l},t.WebglFilterBackend=i;function i(f){f&&f.tileSize&&(this.tileSize=f.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(f,h){this.dispose(),this.createWebGLCanvas(f,h),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(f,h)},chooseFastestCopyGLTo2DMethod:function(f,h){var o=typeof window.performance<"u",l;try{new ImageData(1,1),l=!0}catch{l=!1}var a=typeof ArrayBuffer<"u",u=typeof Uint8ClampedArray<"u";if(o&&l&&a&&u){var g=t.util.createCanvasElement(),p=new ArrayBuffer(f*h*4);if(t.forceGLPutImageData){this.imageBuffer=p,this.copyGLTo2D=v;return}var m={imageBuffer:p,destinationWidth:f,destinationHeight:h,targetCanvas:g},_,y,b;g.width=f,g.height=h,_=window.performance.now(),d.call(m,this.gl,m),y=window.performance.now()-_,_=window.performance.now(),v.call(m,this.gl,m),b=window.performance.now()-_,y>b?(this.imageBuffer=p,this.copyGLTo2D=v):this.copyGLTo2D=d}},createWebGLCanvas:function(f,h){var o=t.util.createCanvasElement();o.width=f,o.height=h;var l={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=o.getContext("webgl",l);a||(a=o.getContext("experimental-webgl",l)),a&&(a.clearColor(0,0,0,0),this.canvas=o,this.gl=a)},applyFilters:function(f,h,o,l,a,u){var g=this.gl,p;u&&(p=this.getCachedTexture(u,h));var m={originalWidth:h.width||h.originalWidth,originalHeight:h.height||h.originalHeight,sourceWidth:o,sourceHeight:l,destinationWidth:o,destinationHeight:l,context:g,sourceTexture:this.createTexture(g,o,l,!p&&h),targetTexture:this.createTexture(g,o,l),originalTexture:p||this.createTexture(g,o,l,!p&&h),passes:f.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},_=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,_),f.forEach(function(y){y&&y.applyTo(m)}),s(m),this.copyGLTo2D(g,m),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(m.sourceTexture),g.deleteTexture(m.targetTexture),g.deleteFramebuffer(_),a.getContext("2d").setTransform(1,0,0,1,0,0),m},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(f,h,o,l,a){var u=f.createTexture();return f.bindTexture(f.TEXTURE_2D,u),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,a||f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,a||f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),l?f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,l):f.texImage2D(f.TEXTURE_2D,0,f.RGBA,h,o,0,f.RGBA,f.UNSIGNED_BYTE,null),u},getCachedTexture:function(f,h){if(this.textureCache[f])return this.textureCache[f];var o=this.createTexture(this.gl,h.width,h.height,h);return this.textureCache[f]=o,o},evictCachesForKey:function(f){this.textureCache[f]&&(this.gl.deleteTexture(this.textureCache[f]),delete this.textureCache[f])},copyGLTo2D:d,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var f=this.gl,h={renderer:"",vendor:""};if(!f)return h;var o=f.getExtension("WEBGL_debug_renderer_info");if(o){var l=f.getParameter(o.UNMASKED_RENDERER_WEBGL),a=f.getParameter(o.UNMASKED_VENDOR_WEBGL);l&&(h.renderer=l.toLowerCase()),a&&(h.vendor=a.toLowerCase())}return this.gpuInfo=h,h}}}();function s(c){var i=c.targetCanvas,f=i.width,h=i.height,o=c.destinationWidth,l=c.destinationHeight;(f!==o||h!==l)&&(i.width=o,i.height=l)}function d(c,i){var f=c.canvas,h=i.targetCanvas,o=h.getContext("2d");o.translate(0,h.height),o.scale(1,-1);var l=f.height-h.height;o.drawImage(f,0,l,h.width,h.height,0,0,h.width,h.height)}function v(c,i){var f=i.targetCanvas,h=f.getContext("2d"),o=i.destinationWidth,l=i.destinationHeight,a=o*l*4,u=new Uint8Array(this.imageBuffer,0,a),g=new Uint8ClampedArray(this.imageBuffer,0,a);c.readPixels(0,0,o,l,c.RGBA,c.UNSIGNED_BYTE,u);var p=new ImageData(g,o,l);h.putImageData(p,0,0)}(function(){var c=function(){};t.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:c,dispose:c,clearWebGLCaches:c,resources:{},applyFilters:function(f,h,o,l,a){var u=a.getContext("2d");u.drawImage(h,0,0,o,l);var g=u.getImageData(0,0,o,l),p=u.getImageData(0,0,o,l),m={sourceWidth:o,sourceHeight:l,imageData:g,originalEl:h,originalImageData:p,canvasEl:a,ctx:u,filterBackend:this};return f.forEach(function(_){_.applyTo(m)}),(m.imageData.width!==o||m.imageData.height!==l)&&(a.width=m.imageData.width,a.height=m.imageData.height),u.putImageData(m.imageData,0,0),m}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(c){c&&this.setOptions(c)},setOptions:function(c){for(var i in c)this[i]=c[i]},createProgram:function(c,i,f){i=i||this.fragmentSource,f=f||this.vertexSource,t.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var h=c.createShader(c.VERTEX_SHADER);if(c.shaderSource(h,f),c.compileShader(h),!c.getShaderParameter(h,c.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+c.getShaderInfoLog(h));var o=c.createShader(c.FRAGMENT_SHADER);if(c.shaderSource(o,i),c.compileShader(o),!c.getShaderParameter(o,c.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+c.getShaderInfoLog(o));var l=c.createProgram();if(c.attachShader(l,h),c.attachShader(l,o),c.linkProgram(l),!c.getProgramParameter(l,c.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+c.getProgramInfoLog(l));var a=this.getAttributeLocations(c,l),u=this.getUniformLocations(c,l)||{};return u.uStepW=c.getUniformLocation(l,"uStepW"),u.uStepH=c.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:a,uniformLocations:u}},getAttributeLocations:function(c,i){return{aPosition:c.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(c,i,f){var h=i.aPosition,o=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,o),c.enableVertexAttribArray(h),c.vertexAttribPointer(h,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,f,c.STATIC_DRAW)},_setupFrameBuffer:function(c){var i=c.context,f,h;c.passes>1?(f=c.destinationWidth,h=c.destinationHeight,(c.sourceWidth!==f||c.sourceHeight!==h)&&(i.deleteTexture(c.targetTexture),c.targetTexture=c.filterBackend.createTexture(i,f,h)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,c.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(c){c.passes--,c.pass++;var i=c.targetTexture;c.targetTexture=c.sourceTexture,c.sourceTexture=i},isNeutralState:function(){var c=this.mainParameter,i=t.Image.filters[this.type].prototype;if(c)if(Array.isArray(i[c])){for(var f=i[c].length;f--;)if(this[c][f]!==i[c][f])return!1;return!0}else return i[c]===this[c];else return!1},applyTo:function(c){c.webgl?(this._setupFrameBuffer(c),this.applyToWebGL(c),this._swapTextures(c)):this.applyTo2d(c)},retrieveShader:function(c){return c.programCache.hasOwnProperty(this.type)||(c.programCache[this.type]=this.createProgram(c.context)),c.programCache[this.type]},applyToWebGL:function(c){var i=c.context,f=this.retrieveShader(c);c.pass===0&&c.originalTexture?i.bindTexture(i.TEXTURE_2D,c.originalTexture):i.bindTexture(i.TEXTURE_2D,c.sourceTexture),i.useProgram(f.program),this.sendAttributeData(i,f.attributeLocations,c.aPosition),i.uniform1f(f.uniformLocations.uStepW,1/c.sourceWidth),i.uniform1f(f.uniformLocations.uStepH,1/c.sourceHeight),this.sendUniformData(i,f.uniformLocations),i.viewport(0,0,c.destinationWidth,c.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(c,i,f){c.activeTexture(f),c.bindTexture(c.TEXTURE_2D,i),c.activeTexture(c.TEXTURE0)},unbindAdditionalTexture:function(c,i){c.activeTexture(i),c.bindTexture(c.TEXTURE_2D,null),c.activeTexture(c.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(c){this[this.mainParameter]=c},sendUniformData:function(){},createHelpLayer:function(c){if(!c.helpLayer){var i=document.createElement("canvas");i.width=c.sourceWidth,i.height=c.sourceHeight,c.helpLayer=i}},toObject:function(){var c={type:this.type},i=this.mainParameter;return i&&(c[i]=this[i]),c},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(c,i){var f=new t.Image.filters[c.type](c);return i&&i(f),f},function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.ColorMatrix=h(f.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(o){this.callSuper("initialize",o),this.matrix=this.matrix.slice(0)},applyTo2d:function(o){var l=o.imageData,a=l.data,u=a.length,g=this.matrix,p,m,_,y,b,w=this.colorsOnly;for(b=0;b<u;b+=4)p=a[b],m=a[b+1],_=a[b+2],w?(a[b]=p*g[0]+m*g[1]+_*g[2]+g[4]*255,a[b+1]=p*g[5]+m*g[6]+_*g[7]+g[9]*255,a[b+2]=p*g[10]+m*g[11]+_*g[12]+g[14]*255):(y=a[b+3],a[b]=p*g[0]+m*g[1]+_*g[2]+y*g[3]+g[4]*255,a[b+1]=p*g[5]+m*g[6]+_*g[7]+y*g[8]+g[9]*255,a[b+2]=p*g[10]+m*g[11]+_*g[12]+y*g[13]+g[14]*255,a[b+3]=p*g[15]+m*g[16]+_*g[17]+y*g[18]+g[19]*255)},getUniformLocations:function(o,l){return{uColorMatrix:o.getUniformLocation(l,"uColorMatrix"),uConstants:o.getUniformLocation(l,"uConstants")}},sendUniformData:function(o,l){var a=this.matrix,u=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],g=[a[4],a[9],a[14],a[19]];o.uniformMatrix4fv(l.uColorMatrix,!1,u),o.uniform4fv(l.uConstants,g)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Brightness=h(f.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(o){if(this.brightness!==0){var l=o.imageData,a=l.data,u,g=a.length,p=Math.round(this.brightness*255);for(u=0;u<g;u+=4)a[u]=a[u]+p,a[u+1]=a[u+1]+p,a[u+2]=a[u+2]+p}},getUniformLocations:function(o,l){return{uBrightness:o.getUniformLocation(l,"uBrightness")}},sendUniformData:function(o,l){o.uniform1f(l.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.Image.filters,o=i.util.createClass;h.Convolute=o(h.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(l){var a=Math.sqrt(this.matrix.length),u=this.type+"_"+a+"_"+(this.opaque?1:0),g=this.fragmentSource[u];return l.programCache.hasOwnProperty(u)||(l.programCache[u]=this.createProgram(l.context,g)),l.programCache[u]},applyTo2d:function(l){var a=l.imageData,u=a.data,g=this.matrix,p=Math.round(Math.sqrt(g.length)),m=Math.floor(p/2),_=a.width,y=a.height,b=l.ctx.createImageData(_,y),w=b.data,C=this.opaque?1:0,x,O,B,Y,X,N,j,q,se,le,G,Q,T;for(G=0;G<y;G++)for(le=0;le<_;le++){for(X=(G*_+le)*4,x=0,O=0,B=0,Y=0,T=0;T<p;T++)for(Q=0;Q<p;Q++)j=G+T-m,N=le+Q-m,!(j<0||j>=y||N<0||N>=_)&&(q=(j*_+N)*4,se=g[T*p+Q],x+=u[q]*se,O+=u[q+1]*se,B+=u[q+2]*se,C||(Y+=u[q+3]*se));w[X]=x,w[X+1]=O,w[X+2]=B,C?w[X+3]=u[X+3]:w[X+3]=Y}l.imageData=b},getUniformLocations:function(l,a){return{uMatrix:l.getUniformLocation(a,"uMatrix"),uOpaque:l.getUniformLocation(a,"uOpaque"),uHalfSize:l.getUniformLocation(a,"uHalfSize"),uSize:l.getUniformLocation(a,"uSize")}},sendUniformData:function(l,a){l.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return f(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Grayscale=h(f.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(o){var l=o.imageData,a=l.data,u,g=a.length,p,m=this.mode;for(u=0;u<g;u+=4)m==="average"?p=(a[u]+a[u+1]+a[u+2])/3:m==="lightness"?p=(Math.min(a[u],a[u+1],a[u+2])+Math.max(a[u],a[u+1],a[u+2]))/2:m==="luminosity"&&(p=.21*a[u]+.72*a[u+1]+.07*a[u+2]),a[u]=p,a[u+1]=p,a[u+2]=p},retrieveShader:function(o){var l=this.type+"_"+this.mode;if(!o.programCache.hasOwnProperty(l)){var a=this.fragmentSource[this.mode];o.programCache[l]=this.createProgram(o.context,a)}return o.programCache[l]},getUniformLocations:function(o,l){return{uMode:o.getUniformLocation(l,"uMode")}},sendUniformData:function(o,l){var a=1;o.uniform1i(l.uMode,a)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Invert=h(f.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(o){var l=o.imageData,a=l.data,u,g=a.length;for(u=0;u<g;u+=4)a[u]=255-a[u],a[u+1]=255-a[u+1],a[u+2]=255-a[u+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(o,l){return{uInvert:o.getUniformLocation(l,"uInvert")}},sendUniformData:function(o,l){o.uniform1i(l.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.Image.filters,o=i.util.createClass;h.Noise=o(h.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(l){if(this.noise!==0){var a=l.imageData,u=a.data,g,p=u.length,m=this.noise,_;for(g=0,p=u.length;g<p;g+=4)_=(.5-Math.random())*m,u[g]+=_,u[g+1]+=_,u[g+2]+=_}},getUniformLocations:function(l,a){return{uNoise:l.getUniformLocation(a,"uNoise"),uSeed:l.getUniformLocation(a,"uSeed")}},sendUniformData:function(l,a){l.uniform1f(a.uNoise,this.noise/255),l.uniform1f(a.uSeed,Math.random())},toObject:function(){return f(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Pixelate=h(f.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(o){var l=o.imageData,a=l.data,u=l.height,g=l.width,p,m,_,y,b,w,C,x,O,B,Y;for(m=0;m<u;m+=this.blocksize)for(_=0;_<g;_+=this.blocksize)for(p=m*4*g+_*4,y=a[p],b=a[p+1],w=a[p+2],C=a[p+3],B=Math.min(m+this.blocksize,u),Y=Math.min(_+this.blocksize,g),x=m;x<B;x++)for(O=_;O<Y;O++)p=x*4*g+O*4,a[p]=y,a[p+1]=b,a[p+2]=w,a[p+3]=C},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(o,l){return{uBlocksize:o.getUniformLocation(l,"uBlocksize"),uStepW:o.getUniformLocation(l,"uStepW"),uStepH:o.getUniformLocation(l,"uStepH")}},sendUniformData:function(o,l){o.uniform1f(l.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.Image.filters,o=i.util.createClass;h.RemoveColor=o(h.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(l){var a=l.imageData,u=a.data,g,p=this.distance*255,m,_,y,b=new i.Color(this.color).getSource(),w=[b[0]-p,b[1]-p,b[2]-p],C=[b[0]+p,b[1]+p,b[2]+p];for(g=0;g<u.length;g+=4)m=u[g],_=u[g+1],y=u[g+2],m>w[0]&&_>w[1]&&y>w[2]&&m<C[0]&&_<C[1]&&y<C[2]&&(u[g+3]=0)},getUniformLocations:function(l,a){return{uLow:l.getUniformLocation(a,"uLow"),uHigh:l.getUniformLocation(a,"uHigh")}},sendUniformData:function(l,a){var u=new i.Color(this.color).getSource(),g=parseFloat(this.distance),p=[0+u[0]/255-g,0+u[1]/255-g,0+u[2]/255-g,1],m=[u[0]/255+g,u[1]/255+g,u[2]/255+g,1];l.uniform4fv(a.uLow,p),l.uniform4fv(a.uHigh,m)},toObject:function(){return f(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var l in o)f[l]=h(f.ColorMatrix,{type:l,matrix:o[l],mainParameter:!1,colorsOnly:!0}),i.Image.filters[l].fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric,f=i.Image.filters,h=i.util.createClass;f.BlendColor=h(f.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(o){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[o]+`}
}`},retrieveShader:function(o){var l=this.type+"_"+this.mode,a;return o.programCache.hasOwnProperty(l)||(a=this.buildSource(this.mode),o.programCache[l]=this.createProgram(o.context,a)),o.programCache[l]},applyTo2d:function(o){var l=o.imageData,a=l.data,u=a.length,g,p,m,_,y,b,w,C=1-this.alpha;w=new i.Color(this.color).getSource(),g=w[0]*this.alpha,p=w[1]*this.alpha,m=w[2]*this.alpha;for(var x=0;x<u;x+=4)switch(_=a[x],y=a[x+1],b=a[x+2],this.mode){case"multiply":a[x]=_*g/255,a[x+1]=y*p/255,a[x+2]=b*m/255;break;case"screen":a[x]=255-(255-_)*(255-g)/255,a[x+1]=255-(255-y)*(255-p)/255,a[x+2]=255-(255-b)*(255-m)/255;break;case"add":a[x]=_+g,a[x+1]=y+p,a[x+2]=b+m;break;case"diff":case"difference":a[x]=Math.abs(_-g),a[x+1]=Math.abs(y-p),a[x+2]=Math.abs(b-m);break;case"subtract":a[x]=_-g,a[x+1]=y-p,a[x+2]=b-m;break;case"darken":a[x]=Math.min(_,g),a[x+1]=Math.min(y,p),a[x+2]=Math.min(b,m);break;case"lighten":a[x]=Math.max(_,g),a[x+1]=Math.max(y,p),a[x+2]=Math.max(b,m);break;case"overlay":a[x]=g<128?2*_*g/255:255-2*(255-_)*(255-g)/255,a[x+1]=p<128?2*y*p/255:255-2*(255-y)*(255-p)/255,a[x+2]=m<128?2*b*m/255:255-2*(255-b)*(255-m)/255;break;case"exclusion":a[x]=g+_-2*g*_/255,a[x+1]=p+y-2*p*y/255,a[x+2]=m+b-2*m*b/255;break;case"tint":a[x]=g+_*C,a[x+1]=p+y*C,a[x+2]=m+b*C}},getUniformLocations:function(o,l){return{uColor:o.getUniformLocation(l,"uColor")}},sendUniformData:function(o,l){var a=new i.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,o.uniform4fv(l.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric,f=i.Image.filters,h=i.util.createClass;f.BlendImage=h(f.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(o){var l=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return o.programCache.hasOwnProperty(l)||(o.programCache[l]=this.createProgram(o.context,a)),o.programCache[l]},applyToWebGL:function(o){var l=o.context,a=this.createTexture(o.filterBackend,this.image);this.bindAdditionalTexture(l,a,l.TEXTURE1),this.callSuper("applyToWebGL",o),this.unbindAdditionalTexture(l,l.TEXTURE1)},createTexture:function(o,l){return o.getCachedTexture(l.cacheKey,l._element)},calculateMatrix:function(){var o=this.image,l=o._element.width,a=o._element.height;return[1/o.scaleX,0,0,0,1/o.scaleY,0,-o.left/l,-o.top/a,1]},applyTo2d:function(o){var l=o.imageData,a=o.filterBackend.resources,u=l.data,g=u.length,p=l.width,m=l.height,_,y,b,w,C,x,O,B,Y,X,N=this.image,j;a.blendImage||(a.blendImage=i.util.createCanvasElement()),Y=a.blendImage,X=Y.getContext("2d"),Y.width!==p||Y.height!==m?(Y.width=p,Y.height=m):X.clearRect(0,0,p,m),X.setTransform(N.scaleX,0,0,N.scaleY,N.left,N.top),X.drawImage(N._element,0,0,p,m),j=X.getImageData(0,0,p,m).data;for(var q=0;q<g;q+=4)switch(C=u[q],x=u[q+1],O=u[q+2],B=u[q+3],_=j[q],y=j[q+1],b=j[q+2],w=j[q+3],this.mode){case"multiply":u[q]=C*_/255,u[q+1]=x*y/255,u[q+2]=O*b/255,u[q+3]=B*w/255;break;case"mask":u[q+3]=w;break}},getUniformLocations:function(o,l){return{uTransformMatrix:o.getUniformLocation(l,"uTransformMatrix"),uImage:o.getUniformLocation(l,"uImage")}},sendUniformData:function(o,l){var a=this.calculateMatrix();o.uniform1i(l.uImage,1),o.uniformMatrix3fv(l.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(o,l){i.Image.fromObject(o.image,function(a){var u=i.util.object.clone(o);u.image=a,l(new i.Image.filters.BlendImage(u))})}}(e),function(c){var i=c.fabric||(c.fabric={}),f=Math.pow,h=Math.floor,o=Math.sqrt,l=Math.abs,a=Math.round,u=Math.sin,g=Math.ceil,p=i.Image.filters,m=i.util.createClass;p.Resize=m(p.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(_,y){return{uDelta:_.getUniformLocation(y,"uDelta"),uTaps:_.getUniformLocation(y,"uTaps")}},sendUniformData:function(_,y){_.uniform2fv(y.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),_.uniform1fv(y.uTaps,this.taps)},retrieveShader:function(_){var y=this.getFilterWindow(),b=this.type+"_"+y;if(!_.programCache.hasOwnProperty(b)){var w=this.generateShader(y);_.programCache[b]=this.createProgram(_.context,w)}return _.programCache[b]},getFilterWindow:function(){var _=this.tempScale;return Math.ceil(this.lanczosLobes/_)},getTaps:function(){for(var _=this.lanczosCreate(this.lanczosLobes),y=this.tempScale,b=this.getFilterWindow(),w=new Array(b),C=1;C<=b;C++)w[C-1]=_(C*y);return w},generateShader:function(w){for(var y=new Array(w),b=this.fragmentSourceTOP,w,C=1;C<=w;C++)y[C-1]=C+".0 * uDelta";return b+="uniform float uTaps["+w+`];
`,b+=`void main() {
`,b+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,b+=`  float sum = 1.0;
`,y.forEach(function(x,O){b+="  color += texture2D(uTexture, vTexCoord + "+x+") * uTaps["+O+`];
`,b+="  color += texture2D(uTexture, vTexCoord - "+x+") * uTaps["+O+`];
`,b+="  sum += 2.0 * uTaps["+O+`];
`}),b+=`  gl_FragColor = color / sum;
`,b+="}",b},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(_){_.webgl?(_.passes++,this.width=_.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=_.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),_.destinationWidth=this.dW,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceWidth=_.destinationWidth,this.height=_.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),_.destinationHeight=this.dH,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceHeight=_.destinationHeight):this.applyTo2d(_)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(_){return function(y){if(y>=_||y<=-_)return 0;if(y<11920929e-14&&y>-11920929e-14)return 1;y*=Math.PI;var b=y/_;return u(y)/y*u(b)/b}},applyTo2d:function(_){var y=_.imageData,b=this.scaleX,w=this.scaleY;this.rcpScaleX=1/b,this.rcpScaleY=1/w;var C=y.width,x=y.height,O=a(C*b),B=a(x*w),Y;this.resizeType==="sliceHack"?Y=this.sliceByTwo(_,C,x,O,B):this.resizeType==="hermite"?Y=this.hermiteFastResize(_,C,x,O,B):this.resizeType==="bilinear"?Y=this.bilinearFiltering(_,C,x,O,B):this.resizeType==="lanczos"&&(Y=this.lanczosResize(_,C,x,O,B)),_.imageData=Y},sliceByTwo:function(_,y,b,w,C){var x=_.imageData,O=.5,B=!1,Y=!1,X=y*O,N=b*O,j=i.filterBackend.resources,q,se,le=0,G=0,Q=y,T=0;for(j.sliceByTwo||(j.sliceByTwo=document.createElement("canvas")),q=j.sliceByTwo,(q.width<y*1.5||q.height<b)&&(q.width=y*1.5,q.height=b),se=q.getContext("2d"),se.clearRect(0,0,y*1.5,b),se.putImageData(x,0,0),w=h(w),C=h(C);!B||!Y;)y=X,b=N,w<h(X*O)?X=h(X*O):(X=w,B=!0),C<h(N*O)?N=h(N*O):(N=C,Y=!0),se.drawImage(q,le,G,y,b,Q,T,X,N),le=Q,G=T,T+=N;return se.getImageData(le,G,w,C)},lanczosResize:function(_,y,b,w,C){function x(F){var I,ee,D,P,$,M,L,U,te,ce,A;for(T.x=(F+.5)*N,R.x=h(T.x),I=0;I<C;I++){for(T.y=(I+.5)*j,R.y=h(T.y),$=0,M=0,L=0,U=0,te=0,ee=R.x-le;ee<=R.x+le;ee++)if(!(ee<0||ee>=y)){ce=h(1e3*l(ee-T.x)),Q[ce]||(Q[ce]={});for(var E=R.y-G;E<=R.y+G;E++)E<0||E>=b||(A=h(1e3*l(E-T.y)),Q[ce][A]||(Q[ce][A]=X(o(f(ce*q,2)+f(A*se,2))/1e3)),D=Q[ce][A],D>0&&(P=(E*y+ee)*4,$+=D,M+=D*O[P],L+=D*O[P+1],U+=D*O[P+2],te+=D*O[P+3]))}P=(I*w+F)*4,Y[P]=M/$,Y[P+1]=L/$,Y[P+2]=U/$,Y[P+3]=te/$}return++F<w?x(F):B}var O=_.imageData.data,B=_.ctx.createImageData(w,C),Y=B.data,X=this.lanczosCreate(this.lanczosLobes),N=this.rcpScaleX,j=this.rcpScaleY,q=2/this.rcpScaleX,se=2/this.rcpScaleY,le=g(N*this.lanczosLobes/2),G=g(j*this.lanczosLobes/2),Q={},T={},R={};return x(0)},bilinearFiltering:function(_,y,b,w,C){var x,O,B,Y,X,N,j,q,se,le,G,Q,T=0,R,F=this.rcpScaleX,I=this.rcpScaleY,ee=4*(y-1),D=_.imageData,P=D.data,$=_.ctx.createImageData(w,C),M=$.data;for(j=0;j<C;j++)for(q=0;q<w;q++)for(X=h(F*q),N=h(I*j),se=F*q-X,le=I*j-N,R=4*(N*y+X),G=0;G<4;G++)x=P[R+G],O=P[R+4+G],B=P[R+ee+G],Y=P[R+ee+4+G],Q=x*(1-se)*(1-le)+O*se*(1-le)+B*le*(1-se)+Y*se*le,M[T++]=Q;return $},hermiteFastResize:function(_,y,b,w,C){for(var x=this.rcpScaleX,O=this.rcpScaleY,B=g(x/2),Y=g(O/2),X=_.imageData,N=X.data,j=_.ctx.createImageData(w,C),q=j.data,se=0;se<C;se++)for(var le=0;le<w;le++){for(var G=(le+se*w)*4,Q=0,T=0,R=0,F=0,I=0,ee=0,D=0,P=(se+.5)*O,$=h(se*O);$<(se+1)*O;$++)for(var M=l(P-($+.5))/Y,L=(le+.5)*x,U=M*M,te=h(le*x);te<(le+1)*x;te++){var ce=l(L-(te+.5))/B,A=o(U+ce*ce);A>1&&A<-1||(Q=2*A*A*A-3*A*A+1,Q>0&&(ce=4*(te+$*y),D+=Q*N[ce+3],R+=Q,N[ce+3]<255&&(Q=Q*N[ce+3]/250),F+=Q*N[ce],I+=Q*N[ce+1],ee+=Q*N[ce+2],T+=Q))}q[G]=F/T,q[G+1]=I/T,q[G+2]=ee/T,q[G+3]=D/R}return j},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Contrast=h(f.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(o){if(this.contrast!==0){var l=o.imageData,a,g,u=l.data,g=u.length,p=Math.floor(this.contrast*255),m=259*(p+255)/(255*(259-p));for(a=0;a<g;a+=4)u[a]=m*(u[a]-128)+128,u[a+1]=m*(u[a+1]-128)+128,u[a+2]=m*(u[a+2]-128)+128}},getUniformLocations:function(o,l){return{uContrast:o.getUniformLocation(l,"uContrast")}},sendUniformData:function(o,l){o.uniform1f(l.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Saturation=h(f.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(o){if(this.saturation!==0){var l=o.imageData,a=l.data,u=a.length,g=-this.saturation,p,m;for(p=0;p<u;p+=4)m=Math.max(a[p],a[p+1],a[p+2]),a[p]+=m!==a[p]?(m-a[p])*g:0,a[p+1]+=m!==a[p+1]?(m-a[p+1])*g:0,a[p+2]+=m!==a[p+2]?(m-a[p+2])*g:0}},getUniformLocations:function(o,l){return{uSaturation:o.getUniformLocation(l,"uSaturation")}},sendUniformData:function(o,l){o.uniform1f(l.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Vibrance=h(f.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(o){if(this.vibrance!==0){var l=o.imageData,a=l.data,u=a.length,g=-this.vibrance,p,m,_,y;for(p=0;p<u;p+=4)m=Math.max(a[p],a[p+1],a[p+2]),_=(a[p]+a[p+1]+a[p+2])/3,y=Math.abs(m-_)*2/255*g,a[p]+=m!==a[p]?(m-a[p])*y:0,a[p+1]+=m!==a[p+1]?(m-a[p+1])*y:0,a[p+2]+=m!==a[p+2]?(m-a[p+2])*y:0}},getUniformLocations:function(o,l){return{uVibrance:o.getUniformLocation(l,"uVibrance")}},sendUniformData:function(o,l){o.uniform1f(l.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Blur=h(f.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(o){o.webgl?(this.aspectRatio=o.sourceWidth/o.sourceHeight,o.passes++,this._setupFrameBuffer(o),this.horizontal=!0,this.applyToWebGL(o),this._swapTextures(o),this._setupFrameBuffer(o),this.horizontal=!1,this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},applyTo2d:function(o){o.imageData=this.simpleBlur(o)},simpleBlur:function(o){var l=o.filterBackend.resources,a,u,g=o.imageData.width,p=o.imageData.height;l.blurLayer1||(l.blurLayer1=i.util.createCanvasElement(),l.blurLayer2=i.util.createCanvasElement()),a=l.blurLayer1,u=l.blurLayer2,(a.width!==g||a.height!==p)&&(u.width=a.width=g,u.height=a.height=p);var m=a.getContext("2d"),_=u.getContext("2d"),y=15,b,w,C,x,O=this.blur*.06*.5;for(m.putImageData(o.imageData,0,0),_.clearRect(0,0,g,p),x=-y;x<=y;x++)b=(Math.random()-.5)/4,w=x/y,C=O*w*g+b,_.globalAlpha=1-Math.abs(w),_.drawImage(a,C,b),m.drawImage(u,0,0),_.globalAlpha=1,_.clearRect(0,0,u.width,u.height);for(x=-y;x<=y;x++)b=(Math.random()-.5)/4,w=x/y,C=O*w*p+b,_.globalAlpha=1-Math.abs(w),_.drawImage(a,b,C),m.drawImage(u,0,0),_.globalAlpha=1,_.clearRect(0,0,u.width,u.height);o.ctx.drawImage(a,0,0);var B=o.ctx.getImageData(0,0,a.width,a.height);return m.globalAlpha=1,m.clearRect(0,0,a.width,a.height),B},getUniformLocations:function(o,l){return{delta:o.getUniformLocation(l,"uDelta")}},sendUniformData:function(o,l){var a=this.chooseRightDelta();o.uniform2fv(l.delta,a)},chooseRightDelta:function(){var o=1,l=[0,0],a;return this.horizontal?this.aspectRatio>1&&(o=1/this.aspectRatio):this.aspectRatio<1&&(o=this.aspectRatio),a=o*this.blur*.12,this.horizontal?l[0]=a:l[1]=a,l}}),f.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Gamma=h(f.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(o){this.gamma=[1,1,1],f.BaseFilter.prototype.initialize.call(this,o)},applyTo2d:function(o){var l=o.imageData,a=l.data,u=this.gamma,g=a.length,p=1/u[0],m=1/u[1],_=1/u[2],y;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),y=0,g=256;y<g;y++)this.rVals[y]=Math.pow(y/255,p)*255,this.gVals[y]=Math.pow(y/255,m)*255,this.bVals[y]=Math.pow(y/255,_)*255;for(y=0,g=a.length;y<g;y+=4)a[y]=this.rVals[a[y]],a[y+1]=this.gVals[a[y+1]],a[y+2]=this.bVals[a[y+2]]},getUniformLocations:function(o,l){return{uGamma:o.getUniformLocation(l,"uGamma")}},sendUniformData:function(o,l){o.uniform3fv(l.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Composed=h(f.BaseFilter,{type:"Composed",subFilters:[],initialize:function(o){this.callSuper("initialize",o),this.subFilters=this.subFilters.slice(0)},applyTo:function(o){o.passes+=this.subFilters.length-1,this.subFilters.forEach(function(l){l.applyTo(o)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(o){return o.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(o){return!o.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(o,l){var a=o.subFilters||[],u=a.map(function(p){return new i.Image.filters[p.type](p)}),g=new i.Image.filters.Composed({subFilters:u});return l&&l(g),g}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.HueRotation=h(f.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var o=this.rotation*Math.PI,l=i.util.cos(o),a=i.util.sin(o),u=1/3,g=Math.sqrt(u)*a,p=1-l;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=l+p/3,this.matrix[1]=u*p-g,this.matrix[2]=u*p+g,this.matrix[5]=u*p+g,this.matrix[6]=l+u*p,this.matrix[7]=u*p-g,this.matrix[10]=u*p-g,this.matrix[11]=u*p+g,this.matrix[12]=l+u*p},isNeutralState:function(o){return this.calculateMatrix(),f.BaseFilter.prototype.isNeutralState.call(this,o)},applyTo:function(o){this.calculateMatrix(),f.BaseFilter.prototype.applyTo.call(this,o)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var h="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(h),cacheProperties:i.Object.prototype.cacheProperties.concat(h),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(o,l){this.styles=l?l.styles||{}:{},this.text=o,this.__skipDimension=!0,this.callSuper("initialize",l),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var o=this.path;o&&(o.segmentsInfo=i.util.getPathSegmentsInfo(o.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var o=this._splitTextIntoLines(this.text);return this.textLines=o.lines,this._textLines=o.graphemeLines,this._unwrappedTextLines=o._unwrappedLines,this._text=o.graphemeText,o},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var o,l,a,u,g,p,m,_=0,y=this._textLines.length;_<y;_++)if(!(this.textAlign!=="justify"&&(_===y-1||this.isEndOfWrapping(_)))&&(u=0,g=this._textLines[_],l=this.getLineWidth(_),l<this.width&&(m=this.textLines[_].match(this._reSpacesAndTabs)))){a=m.length,o=(this.width-l)/a;for(var b=0,w=g.length;b<=w;b++)p=this.__charBounds[_][b],this._reSpaceAndTab.test(g[b])?(p.width+=o,p.kernedWidth+=o,p.left+=u,u+=o):p.left+=u}},isEndOfWrapping:function(o){return o===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var o=this.callSuper("_getCacheCanvasDimensions"),l=this.fontSize;return o.width+=l*o.zoomX,o.height+=l*o.zoomY,o},_render:function(o){var l=this.path;l&&!l.isNotVisible()&&l._render(o),this._setTextStyles(o),this._renderTextLinesBackground(o),this._renderTextDecoration(o,"underline"),this._renderText(o),this._renderTextDecoration(o,"overline"),this._renderTextDecoration(o,"linethrough")},_renderText:function(o){this.paintFirst==="stroke"?(this._renderTextStroke(o),this._renderTextFill(o)):(this._renderTextFill(o),this._renderTextStroke(o))},_setTextStyles:function(o,l,a){if(o.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":o.textBaseline="middle";break;case"ascender":o.textBaseline="top";break;case"descender":o.textBaseline="bottom";break}o.font=this._getFontDeclaration(l,a)},calcTextWidth:function(){for(var o=this.getLineWidth(0),l=1,a=this._textLines.length;l<a;l++){var u=this.getLineWidth(l);u>o&&(o=u)}return o},_renderTextLine:function(o,l,a,u,g,p){this._renderChars(o,l,a,u,g,p)},_renderTextLinesBackground:function(o){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var l,a,u=o.fillStyle,g,p,m=this._getLeftOffset(),_=this._getTopOffset(),y=0,b=0,w,C,x=this.path,O,B=0,Y=this._textLines.length;B<Y;B++){if(l=this.getHeightOfLine(B),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",B)){_+=l;continue}g=this._textLines[B],a=this._getLineLeftOffset(B),b=0,y=0,p=this.getValueOfPropertyAt(B,0,"textBackgroundColor");for(var X=0,N=g.length;X<N;X++)w=this.__charBounds[B][X],C=this.getValueOfPropertyAt(B,X,"textBackgroundColor"),x?(o.save(),o.translate(w.renderLeft,w.renderTop),o.rotate(w.angle),o.fillStyle=C,C&&o.fillRect(-w.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),w.width,l/this.lineHeight),o.restore()):C!==p?(O=m+a+y,this.direction==="rtl"&&(O=this.width-O-b),o.fillStyle=p,p&&o.fillRect(O,_,b,l/this.lineHeight),y=w.left,b=w.width,p=C):b+=w.kernedWidth;C&&!x&&(O=m+a+y,this.direction==="rtl"&&(O=this.width-O-b),o.fillStyle=C,o.fillRect(O,_,b,l/this.lineHeight)),_+=l}o.fillStyle=u,this._removeShadow(o)}},getFontCache:function(o){var l=o.fontFamily.toLowerCase();i.charWidthsCache[l]||(i.charWidthsCache[l]={});var a=i.charWidthsCache[l],u=o.fontStyle.toLowerCase()+"_"+(o.fontWeight+"").toLowerCase();return a[u]||(a[u]={}),a[u]},_measureChar:function(o,l,a,u){var g=this.getFontCache(l),p=this._getFontDeclaration(l),m=this._getFontDeclaration(u),_=a+o,y=p===m,b,w,C,x=l.fontSize/this.CACHE_FONT_SIZE,O;if(a&&g[a]!==void 0&&(C=g[a]),g[o]!==void 0&&(O=b=g[o]),y&&g[_]!==void 0&&(w=g[_],O=w-C),b===void 0||C===void 0||w===void 0){var B=this.getMeasuringContext();this._setTextStyles(B,l,!0)}return b===void 0&&(O=b=B.measureText(o).width,g[o]=b),C===void 0&&y&&a&&(C=B.measureText(a).width,g[a]=C),y&&w===void 0&&(w=B.measureText(_).width,g[_]=w,O=w-C),{width:b*x,kernedWidth:O*x}},getHeightOfChar:function(o,l){return this.getValueOfPropertyAt(o,l,"fontSize")},measureLine:function(o){var l=this._measureLine(o);return this.charSpacing!==0&&(l.width-=this._getWidthOfCharSpacing()),l.width<0&&(l.width=0),l},_measureLine:function(o){var l=0,a,u,g=this._textLines[o],p,m,_=0,y=new Array(g.length),b=0,w,C,x=this.path,O=this.pathSide==="right";for(this.__charBounds[o]=y,a=0;a<g.length;a++)u=g[a],m=this._getGraphemeBox(u,o,a,p),y[a]=m,l+=m.kernedWidth,p=u;if(y[a]={left:m?m.left+m.width:0,width:0,kernedWidth:0,height:this.fontSize},x){switch(C=x.segmentsInfo[x.segmentsInfo.length-1].length,w=i.util.getPointOnPath(x.path,0,x.segmentsInfo),w.x+=x.pathOffset.x,w.y+=x.pathOffset.y,this.textAlign){case"left":b=O?C-l:0;break;case"center":b=(C-l)/2;break;case"right":b=O?0:C-l;break}for(b+=this.pathStartOffset*(O?-1:1),a=O?g.length-1:0;O?a>=0:a<g.length;O?a--:a++)m=y[a],b>C?b%=C:b<0&&(b+=C),this._setGraphemeOnPath(b,m,w),b+=m.kernedWidth}return{width:l,numOfSpaces:_}},_setGraphemeOnPath:function(o,l,a){var u=o+l.kernedWidth/2,g=this.path,p=i.util.getPointOnPath(g.path,u,g.segmentsInfo);l.renderLeft=p.x-a.x,l.renderTop=p.y-a.y,l.angle=p.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(o,l,a,u,g){var p=this.getCompleteStyleDeclaration(l,a),m=u?this.getCompleteStyleDeclaration(l,a-1):{},_=this._measureChar(o,p,u,m),y=_.kernedWidth,b=_.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),b+=w,y+=w);var C={width:b,left:0,height:p.fontSize,kernedWidth:y,deltaY:p.deltaY};if(a>0&&!g){var x=this.__charBounds[l][a-1];C.left=x.left+x.width+_.kernedWidth-_.width}return C},getHeightOfLine:function(o){if(this.__lineHeights[o])return this.__lineHeights[o];for(var l=this._textLines[o],a=this.getHeightOfChar(o,0),u=1,g=l.length;u<g;u++)a=Math.max(this.getHeightOfChar(o,u),a);return this.__lineHeights[o]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var o,l=0,a=0,u=this._textLines.length;a<u;a++)o=this.getHeightOfLine(a),l+=a===u-1?o/this.lineHeight:o;return l},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(o,l){o.save();for(var a=0,u=this._getLeftOffset(),g=this._getTopOffset(),p=0,m=this._textLines.length;p<m;p++){var _=this.getHeightOfLine(p),y=_/this.lineHeight,b=this._getLineLeftOffset(p);this._renderTextLine(l,o,this._textLines[p],u+b,g+a+y,p),a+=_}o.restore()},_renderTextFill:function(o){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(o,"fillText")},_renderTextStroke:function(o){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this._setLineDash(o,this.strokeDashArray),o.beginPath(),this._renderTextCommon(o,"strokeText"),o.closePath(),o.restore())},_renderChars:function(o,l,a,u,g,p){var m=this.getHeightOfLine(p),_=this.textAlign.indexOf("justify")!==-1,y,b,w="",C,x=0,O,B=this.path,Y=!_&&this.charSpacing===0&&this.isEmptyStyles(p)&&!B,X=this.direction==="ltr",N=this.direction==="ltr"?1:-1,j,q=l.canvas.getAttribute("dir");if(l.save(),q!==this.direction&&(l.canvas.setAttribute("dir",X?"ltr":"rtl"),l.direction=X?"ltr":"rtl",l.textAlign=X?"left":"right"),g-=m*this._fontSizeFraction/this.lineHeight,Y){this._renderChar(o,l,p,0,a.join(""),u,g,m),l.restore();return}for(var se=0,le=a.length-1;se<=le;se++)O=se===le||this.charSpacing||B,w+=a[se],C=this.__charBounds[p][se],x===0?(u+=N*(C.kernedWidth-C.width),x+=C.width):x+=C.kernedWidth,_&&!O&&this._reSpaceAndTab.test(a[se])&&(O=!0),O||(y=y||this.getCompleteStyleDeclaration(p,se),b=this.getCompleteStyleDeclaration(p,se+1),O=i.util.hasStyleChanged(y,b,!1)),O&&(B?(l.save(),l.translate(C.renderLeft,C.renderTop),l.rotate(C.angle),this._renderChar(o,l,p,se,w,-x/2,0,m),l.restore()):(j=u,this._renderChar(o,l,p,se,w,j,g,m)),w="",y=b,u+=N*x,x=0);l.restore()},_applyPatternGradientTransformText:function(o){var l=i.util.createCanvasElement(),a,u=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return l.width=u,l.height=g,a=l.getContext("2d"),a.beginPath(),a.moveTo(0,0),a.lineTo(u,0),a.lineTo(u,g),a.lineTo(0,g),a.closePath(),a.translate(u/2,g/2),a.fillStyle=o.toLive(a),this._applyPatternGradientTransform(a,o),a.fill(),a.createPattern(l,"no-repeat")},handleFiller:function(o,l,a){var u,g;return a.toLive?a.gradientUnits==="percentage"||a.gradientTransform||a.patternTransform?(u=-this.width/2,g=-this.height/2,o.translate(u,g),o[l]=this._applyPatternGradientTransformText(a),{offsetX:u,offsetY:g}):(o[l]=a.toLive(o,this),this._applyPatternGradientTransform(o,a)):(o[l]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(o,l){return o.lineWidth=l.strokeWidth,o.lineCap=this.strokeLineCap,o.lineDashOffset=this.strokeDashOffset,o.lineJoin=this.strokeLineJoin,o.miterLimit=this.strokeMiterLimit,this.handleFiller(o,"strokeStyle",l.stroke)},_setFillStyles:function(o,l){return this.handleFiller(o,"fillStyle",l.fill)},_renderChar:function(o,l,a,u,g,p,m){var _=this._getStyleDeclaration(a,u),y=this.getCompleteStyleDeclaration(a,u),b=o==="fillText"&&y.fill,w=o==="strokeText"&&y.stroke&&y.strokeWidth,C,x;!w&&!b||(l.save(),b&&(C=this._setFillStyles(l,y)),w&&(x=this._setStrokeStyles(l,y)),l.font=this._getFontDeclaration(y),_&&_.textBackgroundColor&&this._removeShadow(l),_&&_.deltaY&&(m+=_.deltaY),b&&l.fillText(g,p-C.offsetX,m-C.offsetY),w&&l.strokeText(g,p-x.offsetX,m-x.offsetY),l.restore())},setSuperscript:function(o,l){return this._setScript(o,l,this.superscript)},setSubscript:function(o,l){return this._setScript(o,l,this.subscript)},_setScript:function(o,l,a){var u=this.get2DCursorLocation(o,!0),g=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"fontSize"),p=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"deltaY"),m={fontSize:g*a.size,deltaY:p+g*a.baseline};return this.setSelectionStyles(m,o,l),this},_getLineLeftOffset:function(o){var l=this.getLineWidth(o),a=this.width-l,u=this.textAlign,g=this.direction,m,p=0,m=this.isEndOfWrapping(o);return u==="justify"||u==="justify-center"&&!m||u==="justify-right"&&!m||u==="justify-left"&&!m?0:(u==="center"&&(p=a/2),u==="right"&&(p=a),u==="justify-center"&&(p=a/2),u==="justify-right"&&(p=a),g==="rtl"&&(p-=a),p)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var o=this._forceClearCache;return o||(o=this.hasStateChanged("_dimensionAffectingProps")),o&&(this.dirty=!0,this._forceClearCache=!1),o},getLineWidth:function(o){if(this.__lineWidths[o]!==void 0)return this.__lineWidths[o];var l=this.measureLine(o),a=l.width;return this.__lineWidths[o]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(o,l,a){var u=this._getStyleDeclaration(o,l);return u&&typeof u[a]<"u"?u[a]:this[a]},_renderTextDecoration:function(o,l){if(!(!this[l]&&!this.styleHas(l))){for(var a,u,g,p,m,_,y,b,w=this._getLeftOffset(),C=this._getTopOffset(),x,O,B,Y,X,N,j,q,se=this.path,le=this._getWidthOfCharSpacing(),G=this.offsets[l],Q=0,T=this._textLines.length;Q<T;Q++){if(a=this.getHeightOfLine(Q),!this[l]&&!this.styleHas(l,Q)){C+=a;continue}y=this._textLines[Q],N=a/this.lineHeight,p=this._getLineLeftOffset(Q),O=0,B=0,b=this.getValueOfPropertyAt(Q,0,l),q=this.getValueOfPropertyAt(Q,0,"fill"),x=C+N*(1-this._fontSizeFraction),u=this.getHeightOfChar(Q,0),m=this.getValueOfPropertyAt(Q,0,"deltaY");for(var R=0,F=y.length;R<F;R++)if(Y=this.__charBounds[Q][R],X=this.getValueOfPropertyAt(Q,R,l),j=this.getValueOfPropertyAt(Q,R,"fill"),g=this.getHeightOfChar(Q,R),_=this.getValueOfPropertyAt(Q,R,"deltaY"),se&&X&&j)o.save(),o.fillStyle=q,o.translate(Y.renderLeft,Y.renderTop),o.rotate(Y.angle),o.fillRect(-Y.kernedWidth/2,G*g+_,Y.kernedWidth,this.fontSize/15),o.restore();else if((X!==b||j!==q||g!==u||_!==m)&&B>0){var I=w+p+O;this.direction==="rtl"&&(I=this.width-I-B),b&&q&&(o.fillStyle=q,o.fillRect(I,x+G*u+m,B,this.fontSize/15)),O=Y.left,B=Y.width,b=X,q=j,u=g,m=_}else B+=Y.kernedWidth;var I=w+p+O;this.direction==="rtl"&&(I=this.width-I-B),o.fillStyle=j,X&&j&&o.fillRect(I,x+G*u+m,B-le,this.fontSize/15),C+=a}this._removeShadow(o)}},_getFontDeclaration:function(o,l){var a=o||this,u=this.fontFamily,g=i.Text.genericFonts.indexOf(u.toLowerCase())>-1,p=u===void 0||u.indexOf("'")>-1||u.indexOf(",")>-1||u.indexOf('"')>-1||g?a.fontFamily:'"'+a.fontFamily+'"';return[i.isLikelyNode?a.fontWeight:a.fontStyle,i.isLikelyNode?a.fontStyle:a.fontWeight,l?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",p].join(" ")},render:function(o){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",o)))},_splitTextIntoLines:function(o){for(var l=o.split(this._reNewline),a=new Array(l.length),u=[`
`],g=[],p=0;p<l.length;p++)a[p]=i.util.string.graphemeSplit(l[p]),g=g.concat(a[p],u);return g.pop(),{_unwrappedLines:a,lines:l,graphemeText:g,graphemeLines:a}},toObject:function(o){var l=h.concat(o),a=this.callSuper("toObject",l);return a.styles=i.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(o,l){this.callSuper("set",o,l);var a=!1,u=!1;if(typeof o=="object")for(var g in o)g==="path"&&this.setPathInfo(),a=a||this._dimensionAffectingProps.indexOf(g)!==-1,u=u||g==="path";else a=this._dimensionAffectingProps.indexOf(o)!==-1,u=o==="path";return u&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(o,l,a){if(!o)return l(null);var u=i.parseAttributes(o,i.Text.ATTRIBUTE_NAMES),g=u.textAnchor||"left";if(a=i.util.object.extend(a?f(a):{},u),a.top=a.top||0,a.left=a.left||0,u.textDecoration){var p=u.textDecoration;p.indexOf("underline")!==-1&&(a.underline=!0),p.indexOf("overline")!==-1&&(a.overline=!0),p.indexOf("line-through")!==-1&&(a.linethrough=!0),delete a.textDecoration}"dx"in u&&(a.left+=u.dx),"dy"in u&&(a.top+=u.dy),"fontSize"in a||(a.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var m="";"textContent"in o?m=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(m=o.firstChild.data),m=m.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var _=a.strokeWidth;a.strokeWidth=0;var y=new i.Text(m,a),b=y.getScaledHeight()/y.height,w=(y.height+y.strokeWidth)*y.lineHeight-y.height,C=w*b,x=y.getScaledHeight()+C,O=0;g==="center"&&(O=y.getScaledWidth()/2),g==="right"&&(O=y.getScaledWidth()),y.set({left:y.left-O,top:y.top-(x-y.fontSize*(.07+y._fontSizeFraction))/y.lineHeight,strokeWidth:typeof _<"u"?_:1}),l(y)},i.Text.fromObject=function(o,l){var a=f(o),u=o.path;return delete a.path,i.Object._fromObject("Text",a,function(g){g.styles=i.util.stylesFromArray(o.styles,o.text),u?i.Object._fromObject("Path",u,function(p){g.set("path",p),l(g)},"path"):l(g)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(c){if(!this.styles||typeof c<"u"&&!this.styles[c])return!0;var i=typeof c>"u"?this.styles:{line:this.styles[c]};for(var f in i)for(var h in i[f])for(var o in i[f][h])return!1;return!0},styleHas:function(c,i){if(!this.styles||!c||c===""||typeof i<"u"&&!this.styles[i])return!1;var f=typeof i>"u"?this.styles:{0:this.styles[i]};for(var h in f)for(var o in f[h])if(typeof f[h][o][c]<"u")return!0;return!1},cleanStyle:function(c){if(!this.styles||!c||c==="")return!1;var i=this.styles,f=0,h,o,l=!0,a=0,u;for(var g in i){h=0;for(var p in i[g]){var u=i[g][p],m=u.hasOwnProperty(c);f++,m?(o?u[c]!==o&&(l=!1):o=u[c],u[c]===this[c]&&delete u[c]):l=!1,Object.keys(u).length!==0?h++:delete i[g][p]}h===0&&delete i[g]}for(var _=0;_<this._textLines.length;_++)a+=this._textLines[_].length;l&&f===a&&(this[c]=o,this.removeStyle(c))},removeStyle:function(c){if(!(!this.styles||!c||c==="")){var i=this.styles,f,h,o;for(h in i){f=i[h];for(o in f)delete f[o][c],Object.keys(f[o]).length===0&&delete f[o];Object.keys(f).length===0&&delete i[h]}}},_extendStyles:function(c,i){var f=this.get2DCursorLocation(c);this._getLineStyle(f.lineIndex)||this._setLineStyle(f.lineIndex),this._getStyleDeclaration(f.lineIndex,f.charIndex)||this._setStyleDeclaration(f.lineIndex,f.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(f.lineIndex,f.charIndex),i)},get2DCursorLocation:function(c,i){typeof c>"u"&&(c=this.selectionStart);for(var f=i?this._unwrappedTextLines:this._textLines,h=f.length,o=0;o<h;o++){if(c<=f[o].length)return{lineIndex:o,charIndex:c};c-=f[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:f[o-1].length<c?f[o-1].length:c}},getSelectionStyles:function(c,i,f){typeof c>"u"&&(c=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||c);for(var h=[],o=c;o<i;o++)h.push(this.getStyleAtPosition(o,f));return h},getStyleAtPosition:function(c,i){var f=this.get2DCursorLocation(c),h=i?this.getCompleteStyleDeclaration(f.lineIndex,f.charIndex):this._getStyleDeclaration(f.lineIndex,f.charIndex);return h||{}},setSelectionStyles:function(c,i,f){typeof i>"u"&&(i=this.selectionStart||0),typeof f>"u"&&(f=this.selectionEnd||i);for(var h=i;h<f;h++)this._extendStyles(h,c);return this._forceClearCache=!0,this},_getStyleDeclaration:function(c,i){var f=this.styles&&this.styles[c];return f?f[i]:null},getCompleteStyleDeclaration:function(c,i){for(var f=this._getStyleDeclaration(c,i)||{},h={},o,l=0;l<this._styleProperties.length;l++)o=this._styleProperties[l],h[o]=typeof f[o]>"u"?this[o]:f[o];return h},_setStyleDeclaration:function(c,i,f){this.styles[c][i]=f},_deleteStyleDeclaration:function(c,i){delete this.styles[c][i]},_getLineStyle:function(c){return!!this.styles[c]},_setLineStyle:function(c){this.styles[c]={}},_deleteLineStyle:function(c){delete this.styles[c]}})}(),function(){function c(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,f){this.callSuper("initialize",i,f),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,f){this[i]!==f&&(this._fireSelectionChanged(),this[i]=f),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var f=this.canvas.contextTop,h=this.canvas.viewportTransform;f.save(),f.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this.transform(f),this._clearTextArea(f),i||f.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),f=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,f):this.renderSelection(i,f),f.restore()}},_clearTextArea:function(i){var f=this.width+4,h=this.height+4;i.clearRect(-f/2,-h/2,f,h)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var f=this._getLeftOffset(),h=this._getTopOffset(),o=this._getCursorBoundariesOffsets(i);return{left:f,top:h,leftOffset:o.left,topOffset:o.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var f,h,o,l=0,a=0,u,g=this.get2DCursorLocation(i);o=g.charIndex,h=g.lineIndex;for(var p=0;p<h;p++)l+=this.getHeightOfLine(p);f=this._getLineLeftOffset(h);var m=this.__charBounds[h][o];return m&&(a=m.left),this.charSpacing!==0&&o===this._textLines[h].length&&(a-=this._getWidthOfCharSpacing()),u={top:l,left:f+(a>0?a:0)},this.direction==="rtl"&&(u.left*=-1),this.cursorOffsetCache=u,this.cursorOffsetCache},renderCursor:function(i,f){var h=this.get2DCursorLocation(),o=h.lineIndex,l=h.charIndex>0?h.charIndex-1:0,a=this.getValueOfPropertyAt(o,l,"fontSize"),u=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/u,p=i.topOffset,m=this.getValueOfPropertyAt(o,l,"deltaY");p+=(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,f),f.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,l,"fill"),f.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,f.fillRect(i.left+i.leftOffset-g/2,p+i.top+m,g,a)},renderSelection:function(i,f){for(var h=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,o=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,l=this.textAlign.indexOf("justify")!==-1,a=this.get2DCursorLocation(h),u=this.get2DCursorLocation(o),g=a.lineIndex,p=u.lineIndex,m=a.charIndex<0?0:a.charIndex,_=u.charIndex<0?0:u.charIndex,y=g;y<=p;y++){var b=this._getLineLeftOffset(y)||0,w=this.getHeightOfLine(y),C=0,x=0,O=0;if(y===g&&(x=this.__charBounds[g][m].left),y>=g&&y<p)O=l&&!this.isEndOfWrapping(y)?this.width:this.getLineWidth(y)||5;else if(y===p)if(_===0)O=this.__charBounds[p][_].left;else{var B=this._getWidthOfCharSpacing();O=this.__charBounds[p][_-1].left+this.__charBounds[p][_-1].width-B}C=w,(this.lineHeight<1||y===p&&this.lineHeight>1)&&(w/=this.lineHeight);var Y=i.left+b+x,X=O-x,N=w,j=0;this.inCompositionMode?(f.fillStyle=this.compositionColor||"black",N=1,j=w):f.fillStyle=this.selectionColor,this.direction==="rtl"&&(Y=this.width-Y-X),f.fillRect(Y,i.top+i.topOffset+j,X,N),i.topOffset+=C}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),f=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:f}}}),t.IText.fromObject=function(i,f){var h=t.util.stylesFromArray(i.styles,i.text),o=Object.assign({},i,{styles:h});if(c(o),o.styles)for(var l in o.styles)for(var a in o.styles[l])c(o.styles[l][a]);t.Object._fromObject("IText",o,f,"text")}}(),function(){var c=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var f=i.canvas;f&&(f._hasITextHandlers||(f._hasITextHandlers=!0,i._initCanvasHandlers(f)),f._iTextInstances=f._iTextInstances||[],f._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var f=i.canvas;f&&(f._iTextInstances=f._iTextInstances||[],t.util.removeFromArray(f._iTextInstances,i),f._iTextInstances.length===0&&(f._hasITextHandlers=!1,i._removeCanvasHandlers(f)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(f){f.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,f,h,o){var l;return l={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",f,{duration:h,onComplete:function(){l.isAborted||i[o]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return l.isAborted}}),l},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var f=this,h=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){f._tick()},h)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,f=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&f&&f.clearContext(f.contextTop||f.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var f=0,h=i-1;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)f++,h--;for(;/\S/.test(this._text[h])&&h>-1;)f++,h--;return i-f},findWordBoundaryRight:function(i){var f=0,h=i;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)f++,h++;for(;/\S/.test(this._text[h])&&h<this._text.length;)f++,h++;return i+f},findLineBoundaryLeft:function(i){for(var f=0,h=i-1;!/\n/.test(this._text[h])&&h>-1;)f++,h--;return i-f},findLineBoundaryRight:function(i){for(var f=0,h=i;!/\n/.test(this._text[h])&&h<this._text.length;)f++,h++;return i+f},searchWordBoundary:function(i,f){for(var h=this._text,o=this._reSpace.test(h[i])?i-1:i,l=h[o],a=t.reNonWord;!a.test(l)&&o>0&&o<h.length;)o+=f,l=h[o];return a.test(l)&&(o+=f===1?0:1),o},selectWord:function(i){i=i||this.selectionStart;var f=this.searchWordBoundary(i,-1),h=this.searchWordBoundary(i,1);this.selectionStart=f,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var f=this.findLineBoundaryLeft(i),h=this.findLineBoundaryRight(i);return this.selectionStart=f,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(f){f.selected=!1,f.isEditing&&f.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var f=this.getSelectionStartFromPointer(i.e),h=this.selectionStart,o=this.selectionEnd;(f!==this.__selectionStartOnMouseDown||h===o)&&(h===f||o===f)||(f>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=f):(this.selectionStart=f,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==h||this.selectionEnd!==o)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,f,h){var o=h.slice(0,i),l=t.util.string.graphemeSplit(o).length;if(i===f)return{selectionStart:l,selectionEnd:l};var a=h.slice(i,f),u=t.util.string.graphemeSplit(a).length;return{selectionStart:l,selectionEnd:l+u}},fromGraphemeToStringSelection:function(i,f,h){var o=h.slice(0,i),l=o.join("").length;if(i===f)return{selectionStart:l,selectionEnd:l};var a=h.slice(i,f),u=a.join("").length;return{selectionStart:l,selectionEnd:l+u}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,f=this._getCursorBoundaries(i),h=this.get2DCursorLocation(i),o=h.lineIndex,l=h.charIndex,a=this.getValueOfPropertyAt(o,l,"fontSize")*this.lineHeight,u=f.leftOffset,g=this.calcTransformMatrix(),p={x:f.left+u,y:f.top+f.topOffset+a},m=this.canvas.getRetinaScaling(),_=this.canvas.upperCanvasEl,y=_.width/m,b=_.height/m,w=y-a,C=b-a,x=_.clientWidth/y,O=_.clientHeight/b;return p=t.util.transformPoint(p,g),p=t.util.transformPoint(p,this.canvas.viewportTransform),p.x*=x,p.y*=O,p.x<0&&(p.x=0),p.x>w&&(p.x=w),p.y<0&&(p.y=0),p.y>C&&(p.y=C),p.x+=this.canvas._offset.left,p.y+=this.canvas._offset.top,{left:p.x+"px",top:p.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,f=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,f&&(f.blur&&f.blur(),f.parentNode&&f.parentNode.removeChild(f)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,f){var h=this.get2DCursorLocation(i,!0),o=this.get2DCursorLocation(f,!0),l=h.lineIndex,a=h.charIndex,u=o.lineIndex,g=o.charIndex,p,m;if(l!==u){if(this.styles[l])for(p=a;p<this._unwrappedTextLines[l].length;p++)delete this.styles[l][p];if(this.styles[u])for(p=g;p<this._unwrappedTextLines[u].length;p++)m=this.styles[u][p],m&&(this.styles[l]||(this.styles[l]={}),this.styles[l][a+p-g]=m);for(p=l+1;p<=u;p++)delete this.styles[p];this.shiftLineStyles(u,l-u)}else if(this.styles[l]){m=this.styles[l];var _=g-a,y,b;for(p=a;p<g;p++)delete m[p];for(b in this.styles[l])y=parseInt(b,10),y>=g&&(m[y-_]=m[b],delete m[b])}},shiftLineStyles:function(i,f){var h=c(this.styles);for(var o in this.styles){var l=parseInt(o,10);l>i&&(this.styles[l+f]=h[l],h[l-f]||delete this.styles[l])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,f,h,o){var l,a={},u=!1,g=this._unwrappedTextLines[i].length===f;h||(h=1),this.shiftLineStyles(i,h),this.styles[i]&&(l=this.styles[i][f===0?f:f-1]);for(var p in this.styles[i]){var m=parseInt(p,10);m>=f&&(u=!0,a[m-f]=this.styles[i][p],g&&f===0||delete this.styles[i][p])}var _=!1;for(u&&!g&&(this.styles[i+h]=a,_=!0),_&&h--;h>0;)o&&o[h-1]?this.styles[i+h]={0:c(o[h-1])}:l?this.styles[i+h]={0:c(l)}:delete this.styles[i+h],h--;this._forceClearCache=!0},insertCharStyleObject:function(i,f,h,o){this.styles||(this.styles={});var l=this.styles[i],a=l?c(l):{};h||(h=1);for(var u in a){var g=parseInt(u,10);g>=f&&(l[g+h]=a[g],a[g-h]||delete l[g])}if(this._forceClearCache=!0,o){for(;h--;)Object.keys(o[h]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][f+h]=c(o[h]));return}if(l)for(var p=l[f?f-1:1];p&&h--;)this.styles[i][f+h]=c(p)},insertNewStyleBlock:function(i,f,h){for(var o=this.get2DCursorLocation(f,!0),l=[0],a=0,u=0;u<i.length;u++)i[u]===`
`?(a++,l[a]=0):l[a]++;l[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,l[0],h),h=h&&h.slice(l[0]+1)),a&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+l[0],a);for(var u=1;u<a;u++)l[u]>0?this.insertCharStyleObject(o.lineIndex+u,0,l[u],h):h&&this.styles[o.lineIndex+u]&&h[0]&&(this.styles[o.lineIndex+u][0]=h[0]),h=h&&h.slice(l[u]+1);l[u]>0&&this.insertCharStyleObject(o.lineIndex+u,0,l[u],h)},setSelectionStartEndWithShift:function(i,f,h){h<=i?(f===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=h):h>i&&h<f?this._selectionDirection==="right"?this.selectionEnd=h:this.selectionStart=h:(f===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=f),this.selectionEnd=h)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(c){if(this.canvas){this.__newClickTime=+new Date;var i=c.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",c),this._stopEvent(c.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(c){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===c.x&&this.__lastPointer.y===c.y},_stopEvent:function(c){c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(c){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(c.e))},tripleClickHandler:function(c){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(c.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(c.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(c){if(this.__isMousedown=!1,!(!this.editable||this.group||c.transform&&c.transform.actionPerformed||c.e.button&&c.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(c.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(c){var i=this.getSelectionStartFromPointer(c),f=this.selectionStart,h=this.selectionEnd;c.shiftKey?this.setSelectionStartEndWithShift(f,h,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(c){for(var i=this.getLocalPointer(c),f=0,h=0,o=0,l=0,a=0,u,g,p=0,m=this._textLines.length;p<m&&o<=i.y;p++)o+=this.getHeightOfLine(p)*this.scaleY,a=p,p>0&&(l+=this._textLines[p-1].length+this.missingNewlineOffset(p-1));u=this._getLineLeftOffset(a),h=u*this.scaleX,g=this._textLines[a],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+h);for(var _=0,y=g.length;_<y&&(f=h,h+=this.__charBounds[a][_].kernedWidth*this.scaleX,h<=i.x);_++)l++;return this._getNewSelectionStartFromOffset(i,f,h,l,y)},_getNewSelectionStartFromOffset:function(c,i,f,h,o){var l=c.x-i,a=f-c.x,u=a>l||a<0?0:1,g=h+u;return this.flipX&&(g=o-g),g>this._text.length&&(g=this._text.length),g}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var c=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+c.top+"; left: "+c.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+c.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(c){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(c.keyCode in i)this[i[c.keyCode]](c);else if(c.keyCode in this.ctrlKeysMapDown&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapDown[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),c.keyCode>=33&&c.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(c){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(c.keyCode in this.ctrlKeysMapUp&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapUp[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(c){var i=this.fromPaste;if(this.fromPaste=!1,c&&c.stopPropagation(),!!this.isEditing){var f=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,h=this._text.length,o=f.length,l,a,u=o-h,g=this.selectionStart,p=this.selectionEnd,m=g!==p,_,y,b;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),C=g>w.selectionStart;m?(l=this._text.slice(g,p),u+=p-g):o<h&&(C?l=this._text.slice(p+u,p):l=this._text.slice(g,g-u)),a=f.slice(w.selectionEnd-u,w.selectionEnd),l&&l.length&&(a.length&&(_=this.getSelectionStyles(g,g+1,!1),_=a.map(function(){return _[0]})),m?(y=g,b=p):C?(y=p-l.length,b=p):(y=p,b=p+l.length),this.removeStyleFromTo(y,b)),a.length&&(i&&a.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(_=t.copiedTextStyle),this.insertNewStyleBlock(a,g,_)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(c){this.compositionStart=c.target.selectionStart,this.compositionEnd=c.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(c){return c&&c.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(c,i){var f=this._getLineLeftOffset(c),h;return i>0&&(h=this.__charBounds[c][i-1],f+=h.left+h.width),f},getDownCursorOffset:function(c,i){var f=this._getSelectionForOffset(c,i),h=this.get2DCursorLocation(f),o=h.lineIndex;if(o===this._textLines.length-1||c.metaKey||c.keyCode===34)return this._text.length-f;var l=h.charIndex,a=this._getWidthBeforeCursor(o,l),u=this._getIndexOnLine(o+1,a),g=this._textLines[o].slice(l);return g.length+u+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(c,i){return c.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(c,i){var f=this._getSelectionForOffset(c,i),h=this.get2DCursorLocation(f),o=h.lineIndex;if(o===0||c.metaKey||c.keyCode===33)return-f;var l=h.charIndex,a=this._getWidthBeforeCursor(o,l),u=this._getIndexOnLine(o-1,a),g=this._textLines[o].slice(0,l),p=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+u-g.length+(1-p)},_getIndexOnLine:function(c,i){for(var f=this._textLines[c],h=this._getLineLeftOffset(c),o=h,l=0,a,u,g=0,p=f.length;g<p;g++)if(a=this.__charBounds[c][g].width,o+=a,o>i){u=!0;var m=o-a,_=o,y=Math.abs(m-i),b=Math.abs(_-i);l=b<y?g:g-1;break}return u||(l=f.length-1),l},moveCursorDown:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",c)},moveCursorUp:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",c)},_moveCursorUpOrDown:function(c,i){var f="get"+c+"CursorOffset",h=this[f](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(h):this.moveCursorWithoutShift(h),h!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(c){var i=this._selectionDirection==="left"?this.selectionStart+c:this.selectionEnd+c;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),c!==0},moveCursorWithoutShift:function(c){return c<0?(this.selectionStart+=c,this.selectionEnd=this.selectionStart):(this.selectionEnd+=c,this.selectionStart=this.selectionEnd),c!==0},moveCursorLeft:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",c)},_move:function(c,i,f){var h;if(c.altKey)h=this["findWordBoundary"+f](this[i]);else if(c.metaKey||c.keyCode===35||c.keyCode===36)h=this["findLineBoundary"+f](this[i]);else return this[i]+=f==="Left"?-1:1,!0;if(typeof h<"u"&&this[i]!==h)return this[i]=h,!0},_moveLeft:function(c,i){return this._move(c,i,"Left")},_moveRight:function(c,i){return this._move(c,i,"Right")},moveCursorLeftWithoutShift:function(c){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(c,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(c){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(c,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(c,"selectionStart")},moveCursorRight:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",c)},_moveCursorLeftOrRight:function(c,i){var f="moveCursor"+c+"With";this._currentCursorOpacity=1,i.shiftKey?f+="Shift":f+="outShift",this[f](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(c){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(c,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(c,"selectionEnd")},moveCursorRightWithoutShift:function(c){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(c,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(c,i){typeof i>"u"&&(i=c+1),this.removeStyleFromTo(c,i),this._text.splice(c,i-c),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(c,i,f,h){typeof h>"u"&&(h=f),h>f&&this.removeStyleFromTo(f,h);var o=t.util.string.graphemeSplit(c);this.insertNewStyleBlock(o,f,i),this._text=[].concat(this._text.slice(0,f),o,this._text.slice(h)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var c=t.util.toFixed,i=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var f=this._getSVGLeftTopOffsets(),h=this._getSVGTextAndBg(f.textTop,f.textLeft);return this._wrapSVGTextAndBg(h)},toSVG:function(f){return this._createBaseSVGMarkup(this._toSVG(),{reviver:f,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(f){var h=!0,o=this.getSvgTextDecoration(this);return[f.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(h),'"',this.addPaintOrder()," >",f.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(f,h){var o=[],l=[],a=f,u;this._setSVGBg(l);for(var g=0,p=this._textLines.length;g<p;g++)u=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(l,g,h+u,a),this._setSVGTextLineText(o,g,h+u,a),a+=this.getHeightOfLine(g);return{textSpans:o,textBgRects:l}},_createTextCharSpan:function(f,h,o,l){var a=f!==f.trim()||f.match(i),u=this.getSvgSpanStyles(h,a),g=u?'style="'+u+'"':"",p=h.deltaY,m="",_=t.Object.NUM_FRACTION_DIGITS;return p&&(m=' dy="'+c(p,_)+'" '),['<tspan x="',c(o,_),'" y="',c(l,_),'" ',m,g,">",t.util.string.escapeXml(f),"</tspan>"].join("")},_setSVGTextLineText:function(f,h,o,l){var a=this.getHeightOfLine(h),u=this.textAlign.indexOf("justify")!==-1,g,p,m="",_,y,b=0,w=this._textLines[h],C;l+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var x=0,O=w.length-1;x<=O;x++)C=x===O||this.charSpacing,m+=w[x],_=this.__charBounds[h][x],b===0?(o+=_.kernedWidth-_.width,b+=_.width):b+=_.kernedWidth,u&&!C&&this._reSpaceAndTab.test(w[x])&&(C=!0),C||(g=g||this.getCompleteStyleDeclaration(h,x),p=this.getCompleteStyleDeclaration(h,x+1),C=t.util.hasStyleChanged(g,p,!0)),C&&(y=this._getStyleDeclaration(h,x)||{},f.push(this._createTextCharSpan(m,y,o,l)),m="",g=p,o+=b,b=0)},_pushTextBgRect:function(f,h,o,l,a,u){var g=t.Object.NUM_FRACTION_DIGITS;f.push("		<rect ",this._getFillAttributes(h),' x="',c(o,g),'" y="',c(l,g),'" width="',c(a,g),'" height="',c(u,g),`"></rect>
`)},_setSVGTextLineBg:function(f,h,o,l){for(var a=this._textLines[h],u=this.getHeightOfLine(h)/this.lineHeight,g=0,p=0,m,_,y=this.getValueOfPropertyAt(h,0,"textBackgroundColor"),b=0,w=a.length;b<w;b++)m=this.__charBounds[h][b],_=this.getValueOfPropertyAt(h,b,"textBackgroundColor"),_!==y?(y&&this._pushTextBgRect(f,y,o+p,l,g,u),p=m.left,g=m.width,y=_):g+=m.kernedWidth;_&&this._pushTextBgRect(f,_,o+p,l,g,u)},_getFillAttributes:function(f){var h=f&&typeof f=="string"?new t.Color(f):"";return!h||!h.getSource()||h.getAlpha()===1?'fill="'+f+'"':'opacity="'+h.getAlpha()+'" fill="'+h.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(f){for(var h=0,o=0,l=0;l<f;l++)h+=this.getHeightOfLine(l);return o=this.getHeightOfLine(l),{lineTop:h,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(f){var h=t.Object.prototype.getSvgStyles.call(this,f);return h+" white-space: pre;"}})}(),function(c){var i=c.fabric||(c.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(f){for(var h=0,o=0,l=0,a={},u=0;u<f.graphemeLines.length;u++)f.graphemeText[l]===`
`&&u>0?(o=0,l++,h++):!this.splitByGrapheme&&this._reSpaceAndTab.test(f.graphemeText[l])&&u>0&&(o++,l++),a[u]={line:h,offset:o},l+=f.graphemeLines[u].length,o+=f.graphemeLines[u].length;return a},styleHas:function(f,h){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[h];o&&(h=o.line)}return i.Text.prototype.styleHas.call(this,f,h)},isEmptyStyles:function(f){if(!this.styles)return!0;var h=0,o=f+1,l,a,u=!1,g=this._styleMap[f],p=this._styleMap[f+1];g&&(f=g.line,h=g.offset),p&&(o=p.line,u=o===f,l=p.offset),a=typeof f>"u"?this.styles:{line:this.styles[f]};for(var m in a)for(var _ in a[m])if(_>=h&&(!u||_<l))for(var y in a[m][_])return!1;return!0},_getStyleDeclaration:function(f,h){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[f];if(!o)return null;f=o.line,h=o.offset+h}return this.callSuper("_getStyleDeclaration",f,h)},_setStyleDeclaration:function(f,h,o){var l=this._styleMap[f];f=l.line,h=l.offset+h,this.styles[f][h]=o},_deleteStyleDeclaration:function(f,h){var o=this._styleMap[f];f=o.line,h=o.offset+h,delete this.styles[f][h]},_getLineStyle:function(f){var h=this._styleMap[f];return!!this.styles[h.line]},_setLineStyle:function(f){var h=this._styleMap[f];this.styles[h.line]={}},_wrapText:function(f,h){var o=[],l;for(this.isWrapping=!0,l=0;l<f.length;l++)o=o.concat(this._wrapLine(f[l],l,h));return this.isWrapping=!1,o},_measureWord:function(f,h,o){var l=0,a,u=!0;o=o||0;for(var g=0,p=f.length;g<p;g++){var m=this._getGraphemeBox(f[g],h,g+o,a,u);l+=m.kernedWidth,a=f[g]}return l},_wrapLine:function(f,h,o,Y){var a=0,u=this.splitByGrapheme,g=[],p=[],m=u?i.util.string.graphemeSplit(f):f.split(this._wordJoiners),_="",y=0,b=u?"":" ",w=0,C=0,x=0,O=!0,B=this._getWidthOfCharSpacing(),Y=Y||0;m.length===0&&m.push([]),o-=Y;for(var X=0;X<m.length;X++)_=u?m[X]:i.util.string.graphemeSplit(m[X]),w=this._measureWord(_,h,y),y+=_.length,a+=C+w-B,a>o&&!O?(g.push(p),p=[],a=w,O=!0):a+=B,!O&&!u&&p.push(b),p=p.concat(_),C=u?0:this._measureWord([b],h,y),y++,O=!1,w>x&&(x=w);return X&&g.push(p),x+Y>this.dynamicMinWidth&&(this.dynamicMinWidth=x-B+Y),g},isEndOfWrapping:function(f){return!this._styleMap[f+1]||this._styleMap[f+1].line!==this._styleMap[f].line},missingNewlineOffset:function(f){return this.splitByGrapheme?this.isEndOfWrapping(f)?1:0:1},_splitTextIntoLines:function(f){for(var h=i.Text.prototype._splitTextIntoLines.call(this,f),o=this._wrapText(h.lines,this.width),l=new Array(o.length),a=0;a<o.length;a++)l[a]=o[a].join("");return h.lines=l,h.graphemeLines=o,h},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var f={};for(var h in this._styleMap)this._textLines[h]&&(f[this._styleMap[h].line]=1);for(var h in this.styles)f[h]||delete this.styles[h]},toObject:function(f){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(f))}}),i.Textbox.fromObject=function(f,h){var o=i.util.stylesFromArray(f.styles,f.text),l=Object.assign({},f,{styles:o});return i.Object._fromObject("Textbox",l,h,"text")}}(e),function(){var c=t.controlsUtils,i=c.scaleSkewCursorStyleHandler,f=c.scaleCursorStyleHandler,h=c.scalingEqually,o=c.scalingYOrSkewingX,l=c.scalingXOrSkewingY,a=c.scaleOrSkewActionName,u=t.Object.prototype.controls;if(u.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),u.mr=new t.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),u.mb=new t.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),u.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),u.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:f,actionHandler:h}),u.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:f,actionHandler:h}),u.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:f,actionHandler:h}),u.br=new t.Control({x:.5,y:.5,cursorStyleHandler:f,actionHandler:h}),u.mtr=new t.Control({x:0,y:-.5,actionHandler:c.rotationWithSnapping,cursorStyleHandler:c.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var g=t.Textbox.prototype.controls={};g.mtr=u.mtr,g.tr=u.tr,g.br=u.br,g.tl=u.tl,g.bl=u.bl,g.mt=u.mt,g.mb=u.mb,g.mr=new t.Control({x:.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),g.ml=new t.Control({x:-.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(Ee);class iB{canvas;workspaceEl;workspace;bgObject;option;handler;unitEnum;constructor(t){this.handler=t,this.canvas=t.canvas;const n=t.container;if(!n)throw new Error("element #workspace is missing, plz check!");this.workspaceEl=n,this.workspace=null,this.bgObject=null,this.option=t.workareaOption,this.initialize(),this.unitEnum={cm:37.9,mm:3.78,px:1}}initialize(){this._initBackground(),this._initWorkspace(),this._initResizeObserve()}_initBackground(){this.canvas.backgroundImage="",this.canvas.setWidth(this.workspaceEl.offsetWidth).setHeight(this.workspaceEl.offsetHeight)}_initWorkspace(){const t=new Ee.fabric.Rect(this.option);this.canvas.add(t),this.canvas.renderAll(),this.workspace=t,this.auto()}setCenterFromObject(t){const{canvas:n}=this,r=t.getCenterPoint(),s=n.viewportTransform;if(n.width===void 0||n.height===void 0||!s)return;const d=10;s[4]=n.width/2-r.x*s[0]+d,s[5]=n.height/2-r.y*s[3],n.setViewportTransform(s),n.renderAll()}_initResizeObserve(){new ResizeObserver(()=>{this.auto()}).observe(this.workspaceEl)}setSize(t,n){this._initBackground();const r=this.workspace?.unit||"px";this.option.width=t*this.unitEnum[r],this.option.height=n*this.unitEnum[r],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("width",this.option.width),this.workspace.set("height",this.option.height),this.auto()}getBili(){return this.option.width/this.option.height}setWidth(t){this._initBackground();const n=this.workspace?.unit||"px";this.option.width=t*this.unitEnum[n],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("width",t),this.auto()}setHeight(t){this._initBackground();const n=this.workspace?.unit||"px";this.option.height=t*this.unitEnum[n],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("height",t),this.auto()}setZoomAuto(t,n){const{workspaceEl:r}=this,s=r.offsetWidth,d=r.offsetHeight;this.canvas.setWidth(s),this.canvas.setHeight(d);const v=this.canvas.getCenter();if(this.canvas.setViewportTransform(Ee.fabric.iMatrix.concat()),this.canvas.zoomToPoint(new Ee.fabric.Point(v.left,v.top),t),!!this.workspace){if(this.setCenterFromObject(this.workspace),this.workspace.clone(c=>{this.canvas.clipPath=c,this.canvas.requestRenderAll()}),this.bgObject){const c=this._getBgPosition(this.bgObject);this.bgObject.set(c)}n&&n(this.workspace.left,this.workspace.top)}}unpdateUnit(t){this.workspace?.set("unit",t)}async setBgImage(t){const{src:n}=t||{},r=!1,s={editable:r,hasControls:r,hasBorders:r,selectable:r,lockMovementX:!r,lockMovementY:!r,lockScalingX:!r,lockScalingY:!r,hoverCursor:"default",name:"背景图片",type:"background",src:n},d=this.handler.canvas.getObjects().find(i=>{if(i.type=="background")return i});d&&d.src!==n&&this.handler.canvas.remove(d);const v=this._getBgPosition(t),c=Object.assign({},s,v);return this.bgObject=await this.handler.add(c,!1),this.bgObject&&(this.canvas.add(this.bgObject),this.handler.sendToBack(this.bgObject)),this.canvas.requestRenderAll(),this.bgObject}_getScale(){const t=this.workspaceEl.offsetWidth,n=this.workspaceEl.offsetHeight;return t/n<this.option.width/this.option.height?t/this.option.width:n/this.option.height}_getBgPosition(t){const{width:n,height:r}=this.workspace;let s=1;(n>t.width||r>t.height)&&(n/t.width>r/t.height?s=n/t.width:s=r/t.height);const d=t.height*s,v=t.width*s,c=n/2-v/2,i=r/2-d/2;return{left:c,top:i,scaleX:s,scaleY:s}}big(){let t=this.canvas.getZoom();t+=.05,this.setZoomAuto(t>5?5:t)}small(){let t=this.canvas.getZoom();t-=.05,this.setZoomAuto(t<0?.01:t)}auto(){const t=this._getScale();this.setZoomAuto(t-.08<.01?.01:t-.08)}one(){this.setZoomAuto(.8-.08),this.canvas.requestRenderAll()}getAutoScale(){return this._getScale()}}class sB{handler;constructor(t){this.handler=t}textbox({text:t,...n}){return n.fontSize=parseInt(n.fontSize),delete n.type,new Ee.fabric.Textbox(t,n)}FontCustom(t){return this.textbox(t)}async Image(t){const n=this.handler.utils.getFileType(t.src)||this.handler.utils.getBase64ImageType(t.src);if(n=="svg")return t.type="svg",this.addSvg(t);if(n&&["jpg","png","jpeg"].includes(n))return this.addImage(t)}addSvg(t){return new Promise(n=>{const{src:r,path:s,...d}=t,{width:v}=this.handler.workareaHandler.option;if(r)r&&Ee.fabric.loadSVGFromURL(r,(c,i)=>{const f=Ee.fabric.util.groupSVGElements(c,i);if(f.width>v){const h=v/f.width;f.set({scaleX:h,scaleY:h})}f.set({crossOrigin:"Anonymous",src:r,...d}),n(f)});else{const c=new Ee.fabric.Path(s);n(c)}})}async addImage(t){const{src:n,...r}=t,{objectOption:s}=this.handler,d=new Image;d.crossOrigin="Anonymous";const{width:v}=this.handler.workareaHandler.workspace;if(r.width&&this.handler.workareaHandler&&this.handler.workareaHandler.workspace&&r.width>v){const i=v/r.width;r.scaleX=i,r.scaleY=i}const c=new Ee.fabric.Image(d,{clipPath:null,...JSON.parse(JSON.stringify(s)),...r});return c.crossOrigin="Anonymous",await this.handler.setImage(c,n),c}async background(t){return this.addImage(t)}}class oB{handler;constructor(t){this.handler=t}getFileType(t){if(!(!t||t.indexOf("base64")!=-1)){if(t=t.split("?")[0],t){const n=t.lastIndexOf(".");return t.substring(n+1)}return""}}getBase64ImageType(t){if(!t)return;const n=/data:image\/([a-zA-Z]*);/,r=t.match(n);return r&&r[1]?r[1]:"png"}uuid(){return Au()}find=t=>this.findById(t.id);findById=t=>{let n=null;return this.handler.canvas.getObjects().some(s=>s.id===t?(n=s,!0):!1)?n:null};fileToBase64=async t=>new Promise(n=>{const r=new FileReader;r.readAsDataURL(t),r.onload=function(s){n(s.target.result)}});fileUpload=async(t,n,r)=>{const s=await this.handler.utils.fileToBase64(t);if(s){const d=new Image;d.src=s;const v={name:n,type:r,src:s};await new Promise(i=>{d.onload=()=>{v.width=d.width,v.height=d.height,i(!0)}});let c;return r=="background"?c=this.handler.workareaHandler.setBgImage(v):c=this.handler.add(v),c}}}class aB{handler;constructor(t){this.handler=t}}const lB="/vue-design-editor/assets/middlecontrol-a163c615.svg",cB="/vue-design-editor/assets/middlecontrolhoz-9b7cc4b3.svg",uB="/vue-design-editor/assets/edgecontrol-dbe38ac6.svg",fB="/vue-design-editor/assets/rotateicon-ec6729f2.svg";Ee.fabric.Object.NUM_FRACTION_DIGITS=4;function jo(e,t,n,r,s,d,v){v!==void 0&&(e.save(),e.translate(t,n),e.rotate(Ee.fabric.util.degreesToRadians(v)),e.drawImage(r,-s/2,-d/2,s,d),e.restore())}function hB(){const e=document.createElement("img");e.src=lB;const t=document.createElement("img");t.src=cB;function n(s,d,v,c,i){jo(s,d,v,e,20,25,i.angle)}function r(s,d,v,c,i){jo(s,d,v,t,25,20,i.angle)}Ee.fabric.Object.prototype.controls.ml=new Ee.fabric.Control({x:-.5,y:0,offsetX:-1,cursorStyleHandler:Ee.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingXOrSkewingY,getActionName:Ee.fabric.controlsUtils.scaleOrSkewActionName,render:n}),Ee.fabric.Object.prototype.controls.mr=new Ee.fabric.Control({x:.5,y:0,offsetX:1,cursorStyleHandler:Ee.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingXOrSkewingY,getActionName:Ee.fabric.controlsUtils.scaleOrSkewActionName,render:n}),Ee.fabric.Object.prototype.controls.mb=new Ee.fabric.Control({x:0,y:.5,offsetY:1,cursorStyleHandler:Ee.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingYOrSkewingX,getActionName:Ee.fabric.controlsUtils.scaleOrSkewActionName,render:r}),Ee.fabric.Object.prototype.controls.mt=new Ee.fabric.Control({x:0,y:-.5,offsetY:-1,cursorStyleHandler:Ee.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingYOrSkewingX,getActionName:Ee.fabric.controlsUtils.scaleOrSkewActionName,render:r})}function dB(){const e=document.createElement("img");e.src=uB;function t(n,r,s,d,v){jo(n,r,s,e,25,25,v.angle)}Ee.fabric.Object.prototype.controls.tl=new Ee.fabric.Control({x:-.5,y:-.5,cursorStyleHandler:Ee.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingEqually,render:t}),Ee.fabric.Object.prototype.controls.bl=new Ee.fabric.Control({x:-.5,y:.5,cursorStyleHandler:Ee.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingEqually,render:t}),Ee.fabric.Object.prototype.controls.tr=new Ee.fabric.Control({x:.5,y:-.5,cursorStyleHandler:Ee.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingEqually,render:t}),Ee.fabric.Object.prototype.controls.br=new Ee.fabric.Control({x:.5,y:.5,cursorStyleHandler:Ee.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingEqually,render:t})}function pB(){const e=document.createElement("img");e.src=fB;function t(n,r,s,d,v){jo(n,r,s,e,40,40,v.angle)}Ee.fabric.Object.prototype.controls.mtr=new Ee.fabric.Control({x:0,y:.5,cursorStyleHandler:Ee.fabric.controlsUtils.rotationStyleHandler,actionHandler:Ee.fabric.controlsUtils.rotationWithSnapping,offsetY:30,actionName:"rotate",render:t})}class gB{constructor(){this.init()}init(){dB(),hB(),pB(),Ee.fabric.Object.prototype.set({transparentCorners:!1,borderColor:"#51B9F9",cornerColor:"#FFF",borderScaleFactor:2.5,cornerStyle:"circle",cornerStrokeColor:"#0E98FC",borderOpacityWhenMoving:1}),Ee.fabric.Textbox.prototype.controls=Ee.fabric.Object.prototype.controls}destroy(){console.log("pluginDestroy")}}const vB={trigger:"color",width:260,height:641,lockScalingX:!0,lockScalingY:!0,scaleX:1,scaleY:1,fill:"#fff",hasBorders:!1,hasControls:!1,selectable:!1,lockMovementX:!0,lockMovementY:!0,hoverCursor:"default",name:"",id:"workarea",unit:"px",isElement:!1},mB={rotation:0,centeredRotation:!0,strokeUniform:!0,hoverCursor:"pointer",visible:!0},_B={debounce(e,t){let n=null;return function(){n!==null&&clearTimeout(n),n=setTimeout(e,t)}},deepClone(e){let t;if(typeof e=="object")if(Array.isArray(e)){t=[];for(let n=0;n<e.length;n++)Object.prototype.hasOwnProperty.call(e,n)&&t.push(this.deepClone(e[n]))}else if(e===null)t=null;else if(e.constructor===RegExp)t=e;else{t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=this.deepClone(e[n]))}else t=e;return t},isPromise(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}};class yB{workareaOption;workareaHandler;fabricObjects;utils;imageHandler;objectOption=mB;control;canvas;onAdd;init;editable;container;constructor(t){this.workareaOption=t.workareaOption,this.canvas=t.canvas,this.container=t.container,this.editable=t.editable,this.onAdd=t.onAdd,this.init=t.init,this.workareaHandler=new iB(this),this.fabricObjects=new sB(this),this.utils=new oB(this),this.imageHandler=new aB(this),this.control=new gB,this.initialize(t)}async initialize(t){const{init:n}=this;this.initOption(t),n&&n()}initOption=t=>{this.setObjectOption(t.objectOption)};setObjectOption=t=>{this.objectOption=Object.assign({},this.objectOption,t)};select=(t,n=!1)=>{let r=t;n&&(r=this.utils.find(t)),r&&(this.canvas.discardActiveObject(),this.canvas.setActiveObject(r),this.canvas.requestRenderAll())};setImage=(t,n)=>new Promise(r=>{if(this.canvas.contextTop)if(n instanceof File){const s=new FileReader;s.onload=()=>{t.set("file",n),t.set("src",null),t.setSrc(s.result,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0})},s.readAsDataURL(n)}else t.set("file",null),t.set("src",n),t.setSrc(n,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0,crossOrigin:"Anonymous"})});bringToFront(t){const n=t||this.canvas.getActiveObject();n&&this.canvas.bringToFront(n)}bringForward(t){const n=t||this.canvas.getActiveObject();n&&this.canvas.bringForward(n)}sendToBack(t){const n=t||this.canvas.getActiveObject();if(n){let r=!1;this.canvas.getObjects().find(s=>{if(s.type=="background")return r=!0,s}),this.canvas.sendToBack(n),this.canvas.sendToBack(this.canvas.getObjects()[1]),console.log(this.canvas.getObjects()),r&&n.type!="background"&&this.bringForward(n)}}sendBackwards(t){const n=t||this.canvas.getActiveObject();if(n){if(this.canvas.getObjects()[1].id===n.id)return;this.canvas.sendBackwards(n)}}set=async(t,n)=>{const r=t||this.canvas.getActiveObject(),s=Object.keys(n)[0],d=n[s];r.set(s,d),r.setCoords(),this.canvas.renderAll(),this.onAdd(r)};add=async(t,n=!0)=>{const{editable:r}=this,d=Object.assign({},{editable:r,hasControls:r,hasBorders:r,selectable:r,lockMovementX:!r,lockMovementY:!r},JSON.parse(JSON.stringify(this.objectOption)),t,{container:this.container});let v;t.type=="material"&&(t.type="Image");try{v=this.fabricObjects[t.type](d)}catch(c){console.error(c);return}if(_B.isPromise(v)){const c=await v;v=this.addContent(c,n)}else v&&(v=this.addContent(v,n));return v};addContent(t,n){const{onAdd:r}=this;return t&&(t.id||(t.id=this.utils.uuid()),n&&this.canvas.add(t),r&&r(t)),this.canvas.renderAll(),t}}const Md=12,bB={props:{workareaOption:{type:Object,default:()=>({})},editable:{type:Boolean,default:!0},objectOption:{type:Object,default:()=>({})},onAdd:{type:Function},init:{type:Function}},setup(e){const t=fe(Au());let n;const r=fe(),s=fe();return Qe(()=>{const{offsetWidth:d,offsetHeight:v}=r.value.parentElement.parentElement,c=Object.assign({height:v-Md,width:d-Md,fireRightClick:!0,stopContextMenu:!0,enableRetinaScaling:!0,controlsAboveOverlay:!0});n=new Ee.fabric.Canvas(`canvas_${t.value}`,c),n.renderAll(),s.value=new yB({id:t.value,canvas:n,container:r.value,...e}),n.selectionColor="rgba(196,235,255,0.3)",n.selectionBorderColor="#6ccfff",n.selectionLineWidth=1}),{id:t,parentCanvas:r,handler:s}}},wB=["id"],CB=["id"];function SB(e,t,n,r,s,d){return W(),ae("div",{style:{width:"100%",height:"100%"},ref:"parentCanvas",class:"parentCanvas",id:r.id},[J("canvas",{id:`canvas_${r.id}`},null,8,CB)],8,wB)}const xB=pt(bB,[["render",SB]]);var TB=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const OB={name:"AtomSpinner",props:{animationDuration:{type:Number,default:1e3},size:{type:Number,default:60},color:{type:String,default:"#fff"}},computed:{spinnerStyle(){return{height:`${this.size}px`,width:`${this.size}px`}},circleStyle(){return{color:this.color,fontSize:`${this.size*.24}px`}},lineStyle(){return{animationDuration:`${this.animationDuration}ms`,borderLeftWidth:`${this.size/25}px`,borderTopWidth:`${this.size/25}px`,borderLeftColor:this.color}}}},EB={class:"spinner-inner"};function PB(e,t,n,r,s,d){return W(),ae("div",{class:"atom-spinner",style:Re(d.spinnerStyle)},[J("div",EB,[J("div",{class:"spinner-line",style:Re(d.lineStyle)},null,4),J("div",{class:"spinner-line",style:Re(d.lineStyle)},null,4),J("div",{class:"spinner-line",style:Re(d.lineStyle)},null,4),J("div",{class:"spinner-circle",style:Re(d.circleStyle)},"●",4)])],4)}var kB=TB(OB,[["render",PB]]);const AB={__name:"editor",setup(e){const{dispatch:t,state:n,commit:r}=Br(),s=fe(),d=fe(),v=fe(),c=fe({filters:[]}),i=fe();rt("handler",d),rt("canvas",i);const f=K(()=>n.loadOk);let h;const o=new Promise(m=>{h=m});ke(f,async m=>{m&&(await nt(),v.value.$el.addEventListener("drop",l,!1),d.value=s.value?.handler,i.value=d.value.canvas,h())}),Qe(async()=>{t("getMaterial")});function l(m){if(m.dataTransfer.getData("item")){let _=JSON.parse(m.dataTransfer.getData("item"));const{layerX:y,layerY:b}=m,w=d.value.canvas.restorePointerVpt({x:y,y:b}),C={option:{name:_.templateName,type:_.type,data:_,src:_.url||_.src,left:w.x,top:w.y}};_.width&&_.height&&(C.option.width=_.width,C.option.height=_.height);let x=Object.assign({},C);a(x)}}function a(m){const _=Au(),y=Object.assign({},m.option,{id:_});d.value.add(y)}function u(m){r("setActivateItem",m),d.value.select(m)}async function g(){await o,r("setWorkarea",d.value?.workareaHandler.workspace),await nt(),v.value.initRuleRange()}function p(m,_){d.value.set(m,_)}return(m,_)=>(W(),Se(Tw,null,{header:ve(()=>[he(J5)]),module:ve(()=>[et(he(Iw,{onModule:m.selectedModule,onAddItem:a},null,8,["onModule"]),[[ht,f.value]])]),left:ve(()=>[he(ND)]),workspace:ve(()=>[f.value?(W(),Se(iL,{key:0,ref_key:"workspace",ref:v},{canvas:ve(()=>[he(xB,{workareaOption:S(vB),ref_key:"canvasRef",ref:s,objectOption:c.value,onAdd:u,init:g},null,8,["workareaOption","objectOption"])]),_:1},512)):(W(),Se(S(kB),{key:1,"animation-duration":1e3,size:60,color:"#2254f4",class:"spinner"}))]),propsPanel:ve(()=>[he(Y5,{onChange:p})]),_:1}))}},IB=pt(AB,[["__scopeId","data-v-91ea06cb"]]),MB=[{path:"/",name:"home",component:IB}],RB=Zb({history:pb(),routes:MB});function Im(e,t){return function(){return e.apply(t,arguments)}}const{toString:DB}=Object.prototype,{getPrototypeOf:Iu}=Object,ba=(e=>t=>{const n=DB.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),An=e=>(e=e.toLowerCase(),t=>ba(t)===e),wa=e=>t=>typeof t===e,{isArray:Ei}=Array,ws=wa("undefined");function FB(e){return e!==null&&!ws(e)&&e.constructor!==null&&!ws(e.constructor)&&en(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Mm=An("ArrayBuffer");function LB(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Mm(e.buffer),t}const BB=wa("string"),en=wa("function"),Rm=wa("number"),Ca=e=>e!==null&&typeof e=="object",$B=e=>e===!0||e===!1,po=e=>{if(ba(e)!=="object")return!1;const t=Iu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},jB=An("Date"),NB=An("File"),zB=An("Blob"),HB=An("FileList"),UB=e=>Ca(e)&&en(e.pipe),VB=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||en(e.append)&&((t=ba(e))==="formdata"||t==="object"&&en(e.toString)&&e.toString()==="[object FormData]"))},WB=An("URLSearchParams"),YB=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Ei(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const d=n?Object.getOwnPropertyNames(e):Object.keys(e),v=d.length;let c;for(r=0;r<v;r++)c=d[r],t.call(null,e[c],c,e)}}function Dm(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Fm=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Lm=e=>!ws(e)&&e!==Fm;function rc(){const{caseless:e}=Lm(this)&&this||{},t={},n=(r,s)=>{const d=e&&Dm(t,s)||s;po(t[d])&&po(r)?t[d]=rc(t[d],r):po(r)?t[d]=rc({},r):Ei(r)?t[d]=r.slice():t[d]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Fs(arguments[r],n);return t}const XB=(e,t,n,{allOwnKeys:r}={})=>(Fs(t,(s,d)=>{n&&en(s)?e[d]=Im(s,n):e[d]=s},{allOwnKeys:r}),e),GB=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),KB=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},qB=(e,t,n,r)=>{let s,d,v;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),d=s.length;d-- >0;)v=s[d],(!r||r(v,e,t))&&!c[v]&&(t[v]=e[v],c[v]=!0);e=n!==!1&&Iu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},JB=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},ZB=e=>{if(!e)return null;if(Ei(e))return e;let t=e.length;if(!Rm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},QB=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Iu(Uint8Array)),e$=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const d=s.value;t.call(e,d[0],d[1])}},t$=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},n$=An("HTMLFormElement"),r$=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Rd=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),i$=An("RegExp"),Bm=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Fs(n,(s,d)=>{let v;(v=t(s,d,e))!==!1&&(r[d]=v||s)}),Object.defineProperties(e,r)},s$=e=>{Bm(e,(t,n)=>{if(en(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(en(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},o$=(e,t)=>{const n={},r=s=>{s.forEach(d=>{n[d]=!0})};return Ei(e)?r(e):r(String(e).split(t)),n},a$=()=>{},l$=(e,t)=>(e=+e,Number.isFinite(e)?e:t),cl="abcdefghijklmnopqrstuvwxyz",Dd="0123456789",$m={DIGIT:Dd,ALPHA:cl,ALPHA_DIGIT:cl+cl.toUpperCase()+Dd},c$=(e=16,t=$m.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function u$(e){return!!(e&&en(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const f$=e=>{const t=new Array(10),n=(r,s)=>{if(Ca(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const d=Ei(r)?[]:{};return Fs(r,(v,c)=>{const i=n(v,s+1);!ws(i)&&(d[c]=i)}),t[s]=void 0,d}}return r};return n(e,0)},h$=An("AsyncFunction"),d$=e=>e&&(Ca(e)||en(e))&&en(e.then)&&en(e.catch),ge={isArray:Ei,isArrayBuffer:Mm,isBuffer:FB,isFormData:VB,isArrayBufferView:LB,isString:BB,isNumber:Rm,isBoolean:$B,isObject:Ca,isPlainObject:po,isUndefined:ws,isDate:jB,isFile:NB,isBlob:zB,isRegExp:i$,isFunction:en,isStream:UB,isURLSearchParams:WB,isTypedArray:QB,isFileList:HB,forEach:Fs,merge:rc,extend:XB,trim:YB,stripBOM:GB,inherits:KB,toFlatObject:qB,kindOf:ba,kindOfTest:An,endsWith:JB,toArray:ZB,forEachEntry:e$,matchAll:t$,isHTMLForm:n$,hasOwnProperty:Rd,hasOwnProp:Rd,reduceDescriptors:Bm,freezeMethods:s$,toObjectSet:o$,toCamelCase:r$,noop:a$,toFiniteNumber:l$,findKey:Dm,global:Fm,isContextDefined:Lm,ALPHABET:$m,generateString:c$,isSpecCompliantForm:u$,toJSONObject:f$,isAsyncFn:h$,isThenable:d$};function Ne(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}ge.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ge.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jm=Ne.prototype,Nm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Nm[e]={value:e}});Object.defineProperties(Ne,Nm);Object.defineProperty(jm,"isAxiosError",{value:!0});Ne.from=(e,t,n,r,s,d)=>{const v=Object.create(jm);return ge.toFlatObject(e,v,function(i){return i!==Error.prototype},c=>c!=="isAxiosError"),Ne.call(v,e.message,t,n,r,s),v.cause=e,v.name=e.name,d&&Object.assign(v,d),v};const p$=null;function ic(e){return ge.isPlainObject(e)||ge.isArray(e)}function zm(e){return ge.endsWith(e,"[]")?e.slice(0,-2):e}function Fd(e,t,n){return e?e.concat(t).map(function(s,d){return s=zm(s),!n&&d?"["+s+"]":s}).join(n?".":""):t}function g$(e){return ge.isArray(e)&&!e.some(ic)}const v$=ge.toFlatObject(ge,{},null,function(t){return/^is[A-Z]/.test(t)});function Sa(e,t,n){if(!ge.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ge.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,p){return!ge.isUndefined(p[g])});const r=n.metaTokens,s=n.visitor||h,d=n.dots,v=n.indexes,i=(n.Blob||typeof Blob<"u"&&Blob)&&ge.isSpecCompliantForm(t);if(!ge.isFunction(s))throw new TypeError("visitor must be a function");function f(u){if(u===null)return"";if(ge.isDate(u))return u.toISOString();if(!i&&ge.isBlob(u))throw new Ne("Blob is not supported. Use a Buffer instead.");return ge.isArrayBuffer(u)||ge.isTypedArray(u)?i&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function h(u,g,p){let m=u;if(u&&!p&&typeof u=="object"){if(ge.endsWith(g,"{}"))g=r?g:g.slice(0,-2),u=JSON.stringify(u);else if(ge.isArray(u)&&g$(u)||(ge.isFileList(u)||ge.endsWith(g,"[]"))&&(m=ge.toArray(u)))return g=zm(g),m.forEach(function(y,b){!(ge.isUndefined(y)||y===null)&&t.append(v===!0?Fd([g],b,d):v===null?g:g+"[]",f(y))}),!1}return ic(u)?!0:(t.append(Fd(p,g,d),f(u)),!1)}const o=[],l=Object.assign(v$,{defaultVisitor:h,convertValue:f,isVisitable:ic});function a(u,g){if(!ge.isUndefined(u)){if(o.indexOf(u)!==-1)throw Error("Circular reference detected in "+g.join("."));o.push(u),ge.forEach(u,function(m,_){(!(ge.isUndefined(m)||m===null)&&s.call(t,m,ge.isString(_)?_.trim():_,g,l))===!0&&a(m,g?g.concat(_):[_])}),o.pop()}}if(!ge.isObject(e))throw new TypeError("data must be an object");return a(e),t}function Ld(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Mu(e,t){this._pairs=[],e&&Sa(e,this,t)}const Hm=Mu.prototype;Hm.append=function(t,n){this._pairs.push([t,n])};Hm.toString=function(t){const n=t?function(r){return t.call(this,r,Ld)}:Ld;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function m$(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Um(e,t,n){if(!t)return e;const r=n&&n.encode||m$,s=n&&n.serialize;let d;if(s?d=s(t,n):d=ge.isURLSearchParams(t)?t.toString():new Mu(t,n).toString(r),d){const v=e.indexOf("#");v!==-1&&(e=e.slice(0,v)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class _${constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ge.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Bd=_$,Vm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},y$=typeof URLSearchParams<"u"?URLSearchParams:Mu,b$=typeof FormData<"u"?FormData:null,w$=typeof Blob<"u"?Blob:null,C$={isBrowser:!0,classes:{URLSearchParams:y$,FormData:b$,Blob:w$},protocols:["http","https","file","blob","url","data"]},Wm=typeof window<"u"&&typeof document<"u",S$=(e=>Wm&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),x$=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),T$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wm,hasStandardBrowserEnv:S$,hasStandardBrowserWebWorkerEnv:x$},Symbol.toStringTag,{value:"Module"})),Sn={...T$,...C$};function O$(e,t){return Sa(e,new Sn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,d){return Sn.isNode&&ge.isBuffer(n)?(this.append(r,n.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},t))}function E$(e){return ge.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function P$(e){const t={},n=Object.keys(e);let r;const s=n.length;let d;for(r=0;r<s;r++)d=n[r],t[d]=e[d];return t}function Ym(e){function t(n,r,s,d){let v=n[d++];const c=Number.isFinite(+v),i=d>=n.length;return v=!v&&ge.isArray(s)?s.length:v,i?(ge.hasOwnProp(s,v)?s[v]=[s[v],r]:s[v]=r,!c):((!s[v]||!ge.isObject(s[v]))&&(s[v]=[]),t(n,r,s[v],d)&&ge.isArray(s[v])&&(s[v]=P$(s[v])),!c)}if(ge.isFormData(e)&&ge.isFunction(e.entries)){const n={};return ge.forEachEntry(e,(r,s)=>{t(E$(r),s,n,0)}),n}return null}function k$(e,t,n){if(ge.isString(e))try{return(t||JSON.parse)(e),ge.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ru={transitional:Vm,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,d=ge.isObject(t);if(d&&ge.isHTMLForm(t)&&(t=new FormData(t)),ge.isFormData(t))return s&&s?JSON.stringify(Ym(t)):t;if(ge.isArrayBuffer(t)||ge.isBuffer(t)||ge.isStream(t)||ge.isFile(t)||ge.isBlob(t))return t;if(ge.isArrayBufferView(t))return t.buffer;if(ge.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(d){if(r.indexOf("application/x-www-form-urlencoded")>-1)return O$(t,this.formSerializer).toString();if((c=ge.isFileList(t))||r.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return Sa(c?{"files[]":t}:t,i&&new i,this.formSerializer)}}return d||s?(n.setContentType("application/json",!1),k$(t)):t}],transformResponse:[function(t){const n=this.transitional||Ru.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(t&&ge.isString(t)&&(r&&!this.responseType||s)){const v=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(v)throw c.name==="SyntaxError"?Ne.from(c,Ne.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Sn.classes.FormData,Blob:Sn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ge.forEach(["delete","get","head","post","put","patch"],e=>{Ru.headers[e]={}});const Du=Ru,A$=ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),I$=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(v){s=v.indexOf(":"),n=v.substring(0,s).trim().toLowerCase(),r=v.substring(s+1).trim(),!(!n||t[n]&&A$[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},$d=Symbol("internals");function Bi(e){return e&&String(e).trim().toLowerCase()}function go(e){return e===!1||e==null?e:ge.isArray(e)?e.map(go):String(e)}function M$(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const R$=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ul(e,t,n,r,s){if(ge.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!ge.isString(t)){if(ge.isString(r))return t.indexOf(r)!==-1;if(ge.isRegExp(r))return r.test(t)}}function D$(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function F$(e,t){const n=ge.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,d,v){return this[r].call(this,t,s,d,v)},configurable:!0})})}class xa{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function d(c,i,f){const h=Bi(i);if(!h)throw new Error("header name must be a non-empty string");const o=ge.findKey(s,h);(!o||s[o]===void 0||f===!0||f===void 0&&s[o]!==!1)&&(s[o||i]=go(c))}const v=(c,i)=>ge.forEach(c,(f,h)=>d(f,h,i));return ge.isPlainObject(t)||t instanceof this.constructor?v(t,n):ge.isString(t)&&(t=t.trim())&&!R$(t)?v(I$(t),n):t!=null&&d(n,t,r),this}get(t,n){if(t=Bi(t),t){const r=ge.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return M$(s);if(ge.isFunction(n))return n.call(this,s,r);if(ge.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Bi(t),t){const r=ge.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ul(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function d(v){if(v=Bi(v),v){const c=ge.findKey(r,v);c&&(!n||ul(r,r[c],c,n))&&(delete r[c],s=!0)}}return ge.isArray(t)?t.forEach(d):d(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const d=n[r];(!t||ul(this,this[d],d,t,!0))&&(delete this[d],s=!0)}return s}normalize(t){const n=this,r={};return ge.forEach(this,(s,d)=>{const v=ge.findKey(r,d);if(v){n[v]=go(s),delete n[d];return}const c=t?D$(d):String(d).trim();c!==d&&delete n[d],n[c]=go(s),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ge.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&ge.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[$d]=this[$d]={accessors:{}}).accessors,s=this.prototype;function d(v){const c=Bi(v);r[c]||(F$(s,v),r[c]=!0)}return ge.isArray(t)?t.forEach(d):d(t),this}}xa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ge.reduceDescriptors(xa.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ge.freezeMethods(xa);const zn=xa;function fl(e,t){const n=this||Du,r=t||n,s=zn.from(r.headers);let d=r.data;return ge.forEach(e,function(c){d=c.call(n,d,s.normalize(),t?t.status:void 0)}),s.normalize(),d}function Xm(e){return!!(e&&e.__CANCEL__)}function Ls(e,t,n){Ne.call(this,e??"canceled",Ne.ERR_CANCELED,t,n),this.name="CanceledError"}ge.inherits(Ls,Ne,{__CANCEL__:!0});function L$(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ne("Request failed with status code "+n.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const B$=Sn.hasStandardBrowserEnv?function(){return{write:function(n,r,s,d,v,c){const i=[];i.push(n+"="+encodeURIComponent(r)),ge.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),ge.isString(d)&&i.push("path="+d),ge.isString(v)&&i.push("domain="+v),c===!0&&i.push("secure"),document.cookie=i.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function $$(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function j$(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Gm(e,t){return e&&!$$(t)?j$(e,t):t}const N$=Sn.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(d){let v=d;return t&&(n.setAttribute("href",v),v=n.href),n.setAttribute("href",v),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(v){const c=ge.isString(v)?s(v):v;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}();function z$(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function H$(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,d=0,v;return t=t!==void 0?t:1e3,function(i){const f=Date.now(),h=r[d];v||(v=f),n[s]=i,r[s]=f;let o=d,l=0;for(;o!==s;)l+=n[o++],o=o%e;if(s=(s+1)%e,s===d&&(d=(d+1)%e),f-v<t)return;const a=h&&f-h;return a?Math.round(l*1e3/a):void 0}}function jd(e,t){let n=0;const r=H$(50,250);return s=>{const d=s.loaded,v=s.lengthComputable?s.total:void 0,c=d-n,i=r(c),f=d<=v;n=d;const h={loaded:d,total:v,progress:v?d/v:void 0,bytes:c,rate:i||void 0,estimated:i&&v&&f?(v-d)/i:void 0,event:s};h[t?"download":"upload"]=!0,e(h)}}const U$=typeof XMLHttpRequest<"u",V$=U$&&function(e){return new Promise(function(n,r){let s=e.data;const d=zn.from(e.headers).normalize(),v=e.responseType;let c;function i(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let f;if(ge.isFormData(s)){if(Sn.hasStandardBrowserEnv||Sn.hasStandardBrowserWebWorkerEnv)d.setContentType(!1);else if((f=d.getContentType())!==!1){const[u,...g]=f?f.split(";").map(p=>p.trim()).filter(Boolean):[];d.setContentType([u||"multipart/form-data",...g].join("; "))}}let h=new XMLHttpRequest;if(e.auth){const u=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.set("Authorization","Basic "+btoa(u+":"+g))}const o=Gm(e.baseURL,e.url);h.open(e.method.toUpperCase(),Um(o,e.params,e.paramsSerializer),!0),h.timeout=e.timeout;function l(){if(!h)return;const u=zn.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),p={data:!v||v==="text"||v==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:u,config:e,request:h};L$(function(_){n(_),i()},function(_){r(_),i()},p),h=null}if("onloadend"in h?h.onloadend=l:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(l)},h.onabort=function(){h&&(r(new Ne("Request aborted",Ne.ECONNABORTED,e,h)),h=null)},h.onerror=function(){r(new Ne("Network Error",Ne.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let g=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const p=e.transitional||Vm;e.timeoutErrorMessage&&(g=e.timeoutErrorMessage),r(new Ne(g,p.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,e,h)),h=null},Sn.hasStandardBrowserEnv){const u=N$(o)&&e.xsrfCookieName&&B$.read(e.xsrfCookieName);u&&d.set(e.xsrfHeaderName,u)}s===void 0&&d.setContentType(null),"setRequestHeader"in h&&ge.forEach(d.toJSON(),function(g,p){h.setRequestHeader(p,g)}),ge.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),v&&v!=="json"&&(h.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&h.addEventListener("progress",jd(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",jd(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=u=>{h&&(r(!u||u.type?new Ls(null,e,h):u),h.abort(),h=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const a=z$(o);if(a&&Sn.protocols.indexOf(a)===-1){r(new Ne("Unsupported protocol "+a+":",Ne.ERR_BAD_REQUEST,e));return}h.send(s||null)})},sc={http:p$,xhr:V$};ge.forEach(sc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Nd=e=>`- ${e}`,W$=e=>ge.isFunction(e)||e===null||e===!1,Km={getAdapter:e=>{e=ge.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let d=0;d<t;d++){n=e[d];let v;if(r=n,!W$(n)&&(r=sc[(v=String(n)).toLowerCase()],r===void 0))throw new Ne(`Unknown adapter '${v}'`);if(r)break;s[v||"#"+d]=r}if(!r){const d=Object.entries(s).map(([c,i])=>`adapter ${c} `+(i===!1?"is not supported by the environment":"is not available in the build"));let v=t?d.length>1?`since :
`+d.map(Nd).join(`
`):" "+Nd(d[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+v,"ERR_NOT_SUPPORT")}return r},adapters:sc};function hl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ls(null,e)}function zd(e){return hl(e),e.headers=zn.from(e.headers),e.data=fl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Km.getAdapter(e.adapter||Du.adapter)(e).then(function(r){return hl(e),r.data=fl.call(e,e.transformResponse,r),r.headers=zn.from(r.headers),r},function(r){return Xm(r)||(hl(e),r&&r.response&&(r.response.data=fl.call(e,e.transformResponse,r.response),r.response.headers=zn.from(r.response.headers))),Promise.reject(r)})}const Hd=e=>e instanceof zn?e.toJSON():e;function _i(e,t){t=t||{};const n={};function r(f,h,o){return ge.isPlainObject(f)&&ge.isPlainObject(h)?ge.merge.call({caseless:o},f,h):ge.isPlainObject(h)?ge.merge({},h):ge.isArray(h)?h.slice():h}function s(f,h,o){if(ge.isUndefined(h)){if(!ge.isUndefined(f))return r(void 0,f,o)}else return r(f,h,o)}function d(f,h){if(!ge.isUndefined(h))return r(void 0,h)}function v(f,h){if(ge.isUndefined(h)){if(!ge.isUndefined(f))return r(void 0,f)}else return r(void 0,h)}function c(f,h,o){if(o in t)return r(f,h);if(o in e)return r(void 0,f)}const i={url:d,method:d,data:d,baseURL:v,transformRequest:v,transformResponse:v,paramsSerializer:v,timeout:v,timeoutMessage:v,withCredentials:v,adapter:v,responseType:v,xsrfCookieName:v,xsrfHeaderName:v,onUploadProgress:v,onDownloadProgress:v,decompress:v,maxContentLength:v,maxBodyLength:v,beforeRedirect:v,transport:v,httpAgent:v,httpsAgent:v,cancelToken:v,socketPath:v,responseEncoding:v,validateStatus:c,headers:(f,h)=>s(Hd(f),Hd(h),!0)};return ge.forEach(Object.keys(Object.assign({},e,t)),function(h){const o=i[h]||s,l=o(e[h],t[h],h);ge.isUndefined(l)&&o!==c||(n[h]=l)}),n}const qm="1.6.1",Fu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Fu[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Ud={};Fu.transitional=function(t,n,r){function s(d,v){return"[Axios v"+qm+"] Transitional option '"+d+"'"+v+(r?". "+r:"")}return(d,v,c)=>{if(t===!1)throw new Ne(s(v," has been removed"+(n?" in "+n:"")),Ne.ERR_DEPRECATED);return n&&!Ud[v]&&(Ud[v]=!0,console.warn(s(v," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(d,v,c):!0}};function Y$(e,t,n){if(typeof e!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const d=r[s],v=t[d];if(v){const c=e[d],i=c===void 0||v(c,d,e);if(i!==!0)throw new Ne("option "+d+" must be "+i,Ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ne("Unknown option "+d,Ne.ERR_BAD_OPTION)}}const oc={assertOptions:Y$,validators:Fu},tr=oc.validators;class No{constructor(t){this.defaults=t,this.interceptors={request:new Bd,response:new Bd}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=_i(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:d}=n;r!==void 0&&oc.assertOptions(r,{silentJSONParsing:tr.transitional(tr.boolean),forcedJSONParsing:tr.transitional(tr.boolean),clarifyTimeoutError:tr.transitional(tr.boolean)},!1),s!=null&&(ge.isFunction(s)?n.paramsSerializer={serialize:s}:oc.assertOptions(s,{encode:tr.function,serialize:tr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let v=d&&ge.merge(d.common,d[n.method]);d&&ge.forEach(["delete","get","head","post","put","patch","common"],u=>{delete d[u]}),n.headers=zn.concat(v,d);const c=[];let i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(i=i&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});const f=[];this.interceptors.response.forEach(function(g){f.push(g.fulfilled,g.rejected)});let h,o=0,l;if(!i){const u=[zd.bind(this),void 0];for(u.unshift.apply(u,c),u.push.apply(u,f),l=u.length,h=Promise.resolve(n);o<l;)h=h.then(u[o++],u[o++]);return h}l=c.length;let a=n;for(o=0;o<l;){const u=c[o++],g=c[o++];try{a=u(a)}catch(p){g.call(this,p);break}}try{h=zd.call(this,a)}catch(u){return Promise.reject(u)}for(o=0,l=f.length;o<l;)h=h.then(f[o++],f[o++]);return h}getUri(t){t=_i(this.defaults,t);const n=Gm(t.baseURL,t.url);return Um(n,t.params,t.paramsSerializer)}}ge.forEach(["delete","get","head","options"],function(t){No.prototype[t]=function(n,r){return this.request(_i(r||{},{method:t,url:n,data:(r||{}).data}))}});ge.forEach(["post","put","patch"],function(t){function n(r){return function(d,v,c){return this.request(_i(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:d,data:v}))}}No.prototype[t]=n(),No.prototype[t+"Form"]=n(!0)});const vo=No;class Lu{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(d){n=d});const r=this;this.promise.then(s=>{if(!r._listeners)return;let d=r._listeners.length;for(;d-- >0;)r._listeners[d](s);r._listeners=null}),this.promise.then=s=>{let d;const v=new Promise(c=>{r.subscribe(c),d=c}).then(s);return v.cancel=function(){r.unsubscribe(d)},v},t(function(d,v,c){r.reason||(r.reason=new Ls(d,v,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Lu(function(s){t=s}),cancel:t}}}const X$=Lu;function G$(e){return function(n){return e.apply(null,n)}}function K$(e){return ge.isObject(e)&&e.isAxiosError===!0}const ac={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ac).forEach(([e,t])=>{ac[t]=e});const q$=ac;function Jm(e){const t=new vo(e),n=Im(vo.prototype.request,t);return ge.extend(n,vo.prototype,t,{allOwnKeys:!0}),ge.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Jm(_i(e,s))},n}const ut=Jm(Du);ut.Axios=vo;ut.CanceledError=Ls;ut.CancelToken=X$;ut.isCancel=Xm;ut.VERSION=qm;ut.toFormData=Sa;ut.AxiosError=Ne;ut.Cancel=ut.CanceledError;ut.all=function(t){return Promise.all(t)};ut.spread=G$;ut.isAxiosError=K$;ut.mergeConfig=_i;ut.AxiosHeaders=zn;ut.formToJSON=e=>Ym(ge.isHTMLForm(e)?new FormData(e):e);ut.getAdapter=Km.getAdapter;ut.HttpStatusCode=q$;ut.default=ut;const Zm=ut,Bu=Zm.create({timeout:5e3});Zm.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)});Bu.interceptors.request.use(e=>e,e=>(console.log(e),Promise.reject(e)));Bu.interceptors.response.use(e=>{if(e)return e.data;throw console.log("无数据返回"),new Error("无数据返回")},e=>(console.log("err"+e),pD({message:e.message,type:"error",duration:3*1e3,showClose:!0}),Promise.reject(e)));function Qm(e,t,n,r){Bu(e).then(s=>{e.retry&&(s.retry=t-e.retry),n(s)}).catch(s=>{e.retry--,e.retry>=0?setTimeout(()=>{Qm(e,t,n,r)},10):(s.retry=t,r(s))})}function Vd(e){return new Promise((t,n)=>{(!e||!e.url)&&n({errorMsg:"请求对象不完整"}),e.type||(e.type="get"),e.timeout||(e.timeout=5e3),typeof e.retry!="number"&&(e.retry=3),Qm(e,e.retry,t,n)}).then(t=>t)}const J$=vw({state:{isClose:!0,activeModule:null,imageList:[],loadOk:!1,icons:[],selectedItem:null,workspace:null},getters:{},mutations:{setClose(e,t){e.isClose=t},setActiveModule(e,t){e.activeModule=t},Ok(e,t){e.loadOk=!0,e.imageList=t},COMMIT_ICONS(e,t){e.icons=t},setActivateItem(e,t){e.selectedItem=null,e.selectedItem=t},setWorkarea(e,t){e.workspace=t}},actions:{getMaterial({commit:e}){const t=[];t.push(Vd({url:"https://haixin-fang.github.io/vue-design-editor-static/imglist.json",timeout:1e4,methods:"get"})),t.push(Vd({url:"https://haixin-fang.github.io/icons/bootstrap-icons.json",timeout:1e4,methods:"get"})),Promise.all(t).then(n=>{if(Array.isArray(n)&&(n[0]&&e("Ok",n[0]),n[1])){const r=Object.keys(n[1]),s=[];r.forEach(d=>{const v=`https://haixin-fang.github.io/icons/icons/${d}.svg`;s.push({url:v})}),e("COMMIT_ICONS",s)}})}},modules:{}}),Z$={class:"gda-popover-content"},Q$={key:0,class:"gda-popover-arrow"},ej={class:"gda-popover-inner"},tj={__name:"popover",props:{to:{type:String,default:"body"},arrow:{type:Boolean,default:!1},dom:{type:HTMLElement,default:null},show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e;let r=null,s=null;const d=fe();ke(()=>n.show,f=>{f&&nt(()=>{c()})}),Qe(()=>{window.addEventListener("click",f=>{n.show&&(Array.from(f.path||f.composedPath()).find(o=>{if(o.className&&typeof o.className=="string"&&o.className.indexOf("popover")!=-1)return o})||t("close"))})}),Ci(()=>{window.removeEventListener("resize",c)});const v=()=>{window.addEventListener("resize",c),s=new ResizeObserver(co(()=>{c()},50)),s.observe(r)};function c(){if(!r)return;s||v();const{width:f,height:h,left:o,top:l,bottom:a,right:u}=n.dom?.getBoundingClientRect(),{offsetWidth:g,offsetHeight:p}=r;let m=0,_=0,y=0,b=0;l>p+10?(m=l-p-10,b=p+10,g<u?(_=o+f-g,y=g):(_=o,y=0)):a>p+10&&(m=l+h+10,b=10,g<u?(_=o+f-g,y=g):(_=o,y=0)),d.value.style.left=_+"px",d.value.style.top=m+"px",d.value.style.transformOrigin=`${y}px ${b}px`}const i=f=>{r=f};return(f,h)=>(W(),Se(kc,{to:e.to},[he(kn,{name:"fade"},{default:ve(()=>[et(J("div",{class:"gda-popover",ref_key:"popover",ref:d},[J("div",Z$,[e.arrow?(W(),ae("div",Q$)):ye("",!0),J("div",ej,[Ce(f.$slots,"default",{setSlotRef:i},void 0,!0)])])],512),[[ht,e.show]])]),_:3})],8,["to"]))}},nj=pt(tj,[["__scopeId","data-v-029ac79f"]]),rj=By(zy);rj.use(J$).use(RB).component("popover",nj).mount("#app")});export default ij();
