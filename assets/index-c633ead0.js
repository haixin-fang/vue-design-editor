var Ug=Object.defineProperty;var Wg=(e,t,n)=>t in e?Ug(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ne=(e,t,n)=>(Wg(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const p of s)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(s){const p={};return s.integrity&&(p.integrity=s.integrity),s.referrerPolicy&&(p.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?p.credentials="include":s.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function r(s){if(s.ep)return;s.ep=!0;const p=n(s);fetch(s.href,p)}})();function ll(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const We={},kr=[],wt=()=>{},Yg=()=>!1,Xg=/^on[^a-z]/,Gs=e=>Xg.test(e),cl=e=>e.startsWith("onUpdate:"),rt=Object.assign,ul=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Vg=Object.prototype.hasOwnProperty,De=(e,t)=>Vg.call(e,t),Ce=Array.isArray,Ar=e=>Wi(e)==="[object Map]",Ks=e=>Wi(e)==="[object Set]",Ic=e=>Wi(e)==="[object Date]",xe=e=>typeof e=="function",je=e=>typeof e=="string",Pi=e=>typeof e=="symbol",Fe=e=>e!==null&&typeof e=="object",oh=e=>Fe(e)&&xe(e.then)&&xe(e.catch),ah=Object.prototype.toString,Wi=e=>ah.call(e),Gg=e=>Wi(e).slice(8,-1),lh=e=>Wi(e)==="[object Object]",fl=e=>je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_s=ll(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qs=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Kg=/-(\w)/g,nn=qs(e=>e.replace(Kg,(t,n)=>n?n.toUpperCase():"")),qg=/\B([A-Z])/g,Kr=qs(e=>e.replace(qg,"-$1").toLowerCase()),Js=qs(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bo=qs(e=>e?`on${Js(e)}`:""),ki=(e,t)=>!Object.is(e,t),ys=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ks=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Jg=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Zg=e=>{const t=je(e)?Number(e):NaN;return isNaN(t)?e:t};let Fc;const ba=()=>Fc||(Fc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ge(e){if(Ce(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=je(r)?nv(r):Ge(r);if(s)for(const p in s)t[p]=s[p]}return t}else{if(je(e))return e;if(Fe(e))return e}}const Qg=/;(?![^(]*\))/g,ev=/:([^]+)/,tv=/\/\*[^]*?\*\//g;function nv(e){const t={};return e.replace(tv,"").split(Qg).forEach(n=>{if(n){const r=n.split(ev);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ye(e){let t="";if(je(e))t=e;else if(Ce(e))for(let n=0;n<e.length;n++){const r=ye(e[n]);r&&(t+=r+" ")}else if(Fe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function rv(e){if(!e)return null;let{class:t,style:n}=e;return t&&!je(t)&&(e.class=ye(t)),n&&(e.style=Ge(n)),e}const iv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sv=ll(iv);function ch(e){return!!e||e===""}function ov(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Zs(e[r],t[r]);return n}function Zs(e,t){if(e===t)return!0;let n=Ic(e),r=Ic(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Pi(e),r=Pi(t),n||r)return e===t;if(n=Ce(e),r=Ce(t),n||r)return n&&r?ov(e,t):!1;if(n=Fe(e),r=Fe(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,p=Object.keys(t).length;if(s!==p)return!1;for(const m in e){const u=e.hasOwnProperty(m),i=t.hasOwnProperty(m);if(u&&!i||!u&&i||!Zs(e[m],t[m]))return!1}}return String(e)===String(t)}function uh(e,t){return e.findIndex(n=>Zs(n,t))}const $e=e=>je(e)?e:e==null?"":Ce(e)||Fe(e)&&(e.toString===ah||!xe(e.toString))?JSON.stringify(e,fh,2):String(e),fh=(e,t)=>t&&t.__v_isRef?fh(e,t.value):Ar(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Ks(t)?{[`Set(${t.size})`]:[...t.values()]}:Fe(t)&&!Ce(t)&&!lh(t)?String(t):t;let Bt;class hh{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Bt,!t&&Bt&&(this.index=(Bt.scopes||(Bt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Bt;try{return Bt=this,t()}finally{Bt=n}}}on(){Bt=this}off(){Bt=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function dh(e){return new hh(e)}function av(e,t=Bt){t&&t.active&&t.effects.push(e)}function ph(){return Bt}function lv(e){Bt&&Bt.cleanups.push(e)}const hl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},gh=e=>(e.w&Kn)>0,vh=e=>(e.n&Kn)>0,cv=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Kn},uv=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];gh(s)&&!vh(s)?s.delete(e):t[n++]=s,s.w&=~Kn,s.n&=~Kn}t.length=n}},As=new WeakMap;let di=0,Kn=1;const wa=30;let Zt;const ur=Symbol(""),Ca=Symbol("");class dl{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,av(this,r)}run(){if(!this.active)return this.fn();let t=Zt,n=Vn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Zt,Zt=this,Vn=!0,Kn=1<<++di,di<=wa?cv(this):Lc(this),this.fn()}finally{di<=wa&&uv(this),Kn=1<<--di,Zt=this.parent,Vn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Zt===this?this.deferStop=!0:this.active&&(Lc(this),this.onStop&&this.onStop(),this.active=!1)}}function Lc(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Vn=!0;const mh=[];function qr(){mh.push(Vn),Vn=!1}function Jr(){const e=mh.pop();Vn=e===void 0?!0:e}function Rt(e,t,n){if(Vn&&Zt){let r=As.get(e);r||As.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=hl()),_h(s)}}function _h(e,t){let n=!1;di<=wa?vh(e)||(e.n|=Kn,n=!gh(e)):n=!e.has(Zt),n&&(e.add(Zt),Zt.deps.push(e))}function An(e,t,n,r,s,p){const m=As.get(e);if(!m)return;let u=[];if(t==="clear")u=[...m.values()];else if(n==="length"&&Ce(e)){const i=Number(r);m.forEach((h,f)=>{(f==="length"||f>=i)&&u.push(h)})}else switch(n!==void 0&&u.push(m.get(n)),t){case"add":Ce(e)?fl(n)&&u.push(m.get("length")):(u.push(m.get(ur)),Ar(e)&&u.push(m.get(Ca)));break;case"delete":Ce(e)||(u.push(m.get(ur)),Ar(e)&&u.push(m.get(Ca)));break;case"set":Ar(e)&&u.push(m.get(ur));break}if(u.length===1)u[0]&&Sa(u[0]);else{const i=[];for(const h of u)h&&i.push(...h);Sa(hl(i))}}function Sa(e,t){const n=Ce(e)?e:[...e];for(const r of n)r.computed&&Bc(r);for(const r of n)r.computed||Bc(r)}function Bc(e,t){(e!==Zt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function fv(e,t){var n;return(n=As.get(e))==null?void 0:n.get(t)}const hv=ll("__proto__,__v_isRef,__isVue"),yh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pi)),dv=pl(),pv=pl(!1,!0),gv=pl(!0),jc=vv();function vv(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Le(this);for(let p=0,m=this.length;p<m;p++)Rt(r,"get",p+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(Le)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){qr();const r=Le(this)[t].apply(this,n);return Jr(),r}}),e}function mv(e){const t=Le(this);return Rt(t,"has",e),t.hasOwnProperty(e)}function pl(e=!1,t=!1){return function(r,s,p){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&p===(e?t?Dv:xh:t?Sh:Ch).get(r))return r;const m=Ce(r);if(!e){if(m&&De(jc,s))return Reflect.get(jc,s,p);if(s==="hasOwnProperty")return mv}const u=Reflect.get(r,s,p);return(Pi(s)?yh.has(s):hv(s))||(e||Rt(r,"get",s),t)?u:ot(u)?m&&fl(s)?u:u.value:Fe(u)?e?Yi(u):gr(u):u}}const _v=bh(),yv=bh(!0);function bh(e=!1){return function(n,r,s,p){let m=n[r];if(Dr(m)&&ot(m)&&!ot(s))return!1;if(!e&&(!Ms(s)&&!Dr(s)&&(m=Le(m),s=Le(s)),!Ce(n)&&ot(m)&&!ot(s)))return m.value=s,!0;const u=Ce(n)&&fl(r)?Number(r)<n.length:De(n,r),i=Reflect.set(n,r,s,p);return n===Le(p)&&(u?ki(s,m)&&An(n,"set",r,s):An(n,"add",r,s)),i}}function bv(e,t){const n=De(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&An(e,"delete",t,void 0),r}function wv(e,t){const n=Reflect.has(e,t);return(!Pi(t)||!yh.has(t))&&Rt(e,"has",t),n}function Cv(e){return Rt(e,"iterate",Ce(e)?"length":ur),Reflect.ownKeys(e)}const wh={get:dv,set:_v,deleteProperty:bv,has:wv,ownKeys:Cv},Sv={get:gv,set(e,t){return!0},deleteProperty(e,t){return!0}},xv=rt({},wh,{get:pv,set:yv}),gl=e=>e,Qs=e=>Reflect.getPrototypeOf(e);function ts(e,t,n=!1,r=!1){e=e.__v_raw;const s=Le(e),p=Le(t);n||(t!==p&&Rt(s,"get",t),Rt(s,"get",p));const{has:m}=Qs(s),u=r?gl:n?yl:Ai;if(m.call(s,t))return u(e.get(t));if(m.call(s,p))return u(e.get(p));e!==s&&e.get(t)}function ns(e,t=!1){const n=this.__v_raw,r=Le(n),s=Le(e);return t||(e!==s&&Rt(r,"has",e),Rt(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function rs(e,t=!1){return e=e.__v_raw,!t&&Rt(Le(e),"iterate",ur),Reflect.get(e,"size",e)}function Nc(e){e=Le(e);const t=Le(this);return Qs(t).has.call(t,e)||(t.add(e),An(t,"add",e,e)),this}function zc(e,t){t=Le(t);const n=Le(this),{has:r,get:s}=Qs(n);let p=r.call(n,e);p||(e=Le(e),p=r.call(n,e));const m=s.call(n,e);return n.set(e,t),p?ki(t,m)&&An(n,"set",e,t):An(n,"add",e,t),this}function $c(e){const t=Le(this),{has:n,get:r}=Qs(t);let s=n.call(t,e);s||(e=Le(e),s=n.call(t,e)),r&&r.call(t,e);const p=t.delete(e);return s&&An(t,"delete",e,void 0),p}function Hc(){const e=Le(this),t=e.size!==0,n=e.clear();return t&&An(e,"clear",void 0,void 0),n}function is(e,t){return function(r,s){const p=this,m=p.__v_raw,u=Le(m),i=t?gl:e?yl:Ai;return!e&&Rt(u,"iterate",ur),m.forEach((h,f)=>r.call(s,i(h),i(f),p))}}function ss(e,t,n){return function(...r){const s=this.__v_raw,p=Le(s),m=Ar(p),u=e==="entries"||e===Symbol.iterator&&m,i=e==="keys"&&m,h=s[e](...r),f=n?gl:t?yl:Ai;return!t&&Rt(p,"iterate",i?Ca:ur),{next(){const{value:o,done:l}=h.next();return l?{value:o,done:l}:{value:u?[f(o[0]),f(o[1])]:f(o),done:l}},[Symbol.iterator](){return this}}}}function Fn(e){return function(...t){return e==="delete"?!1:this}}function Tv(){const e={get(p){return ts(this,p)},get size(){return rs(this)},has:ns,add:Nc,set:zc,delete:$c,clear:Hc,forEach:is(!1,!1)},t={get(p){return ts(this,p,!1,!0)},get size(){return rs(this)},has:ns,add:Nc,set:zc,delete:$c,clear:Hc,forEach:is(!1,!0)},n={get(p){return ts(this,p,!0)},get size(){return rs(this,!0)},has(p){return ns.call(this,p,!0)},add:Fn("add"),set:Fn("set"),delete:Fn("delete"),clear:Fn("clear"),forEach:is(!0,!1)},r={get(p){return ts(this,p,!0,!0)},get size(){return rs(this,!0)},has(p){return ns.call(this,p,!0)},add:Fn("add"),set:Fn("set"),delete:Fn("delete"),clear:Fn("clear"),forEach:is(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(p=>{e[p]=ss(p,!1,!1),n[p]=ss(p,!0,!1),t[p]=ss(p,!1,!0),r[p]=ss(p,!0,!0)}),[e,n,t,r]}const[Ov,Ev,Pv,kv]=Tv();function vl(e,t){const n=t?e?kv:Pv:e?Ev:Ov;return(r,s,p)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(De(n,s)&&s in r?n:r,s,p)}const Av={get:vl(!1,!1)},Mv={get:vl(!1,!0)},Rv={get:vl(!0,!1)},Ch=new WeakMap,Sh=new WeakMap,xh=new WeakMap,Dv=new WeakMap;function Iv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fv(e){return e.__v_skip||!Object.isExtensible(e)?0:Iv(Gg(e))}function gr(e){return Dr(e)?e:_l(e,!1,wh,Av,Ch)}function ml(e){return _l(e,!1,xv,Mv,Sh)}function Yi(e){return _l(e,!0,Sv,Rv,xh)}function _l(e,t,n,r,s){if(!Fe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const p=s.get(e);if(p)return p;const m=Fv(e);if(m===0)return e;const u=new Proxy(e,m===2?r:n);return s.set(e,u),u}function Mr(e){return Dr(e)?Mr(e.__v_raw):!!(e&&e.__v_isReactive)}function Dr(e){return!!(e&&e.__v_isReadonly)}function Ms(e){return!!(e&&e.__v_isShallow)}function Th(e){return Mr(e)||Dr(e)}function Le(e){const t=e&&e.__v_raw;return t?Le(t):e}function Rs(e){return ks(e,"__v_skip",!0),e}const Ai=e=>Fe(e)?gr(e):e,yl=e=>Fe(e)?Yi(e):e;function Oh(e){Vn&&Zt&&(e=Le(e),_h(e.dep||(e.dep=hl())))}function Eh(e,t){e=Le(e);const n=e.dep;n&&Sa(n)}function ot(e){return!!(e&&e.__v_isRef===!0)}function fe(e){return Ph(e,!1)}function Pn(e){return Ph(e,!0)}function Ph(e,t){return ot(e)?e:new Lv(e,t)}class Lv{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Le(t),this._value=n?t:Ai(t)}get value(){return Oh(this),this._value}set value(t){const n=this.__v_isShallow||Ms(t)||Dr(t);t=n?t:Le(t),ki(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ai(t),Eh(this))}}function A(e){return ot(e)?e.value:e}const Bv={get:(e,t,n)=>A(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return ot(s)&&!ot(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function kh(e){return Mr(e)?e:new Proxy(e,Bv)}class jv{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return fv(Le(this._object),this._key)}}class Nv{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function bt(e,t,n){return ot(e)?e:xe(e)?new Nv(e):Fe(e)&&arguments.length>1?zv(e,t,n):fe(e)}function zv(e,t,n){const r=e[t];return ot(r)?r:new jv(e,t,n)}class $v{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new dl(t,()=>{this._dirty||(this._dirty=!0,Eh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=Le(this);return Oh(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Hv(e,t,n=!1){let r,s;const p=xe(e);return p?(r=e,s=wt):(r=e.get,s=e.set),new $v(r,s,p||!s,n)}function Uv(e,...t){}function Gn(e,t,n,r){let s;try{s=r?e(...r):e()}catch(p){eo(p,t,n)}return s}function Wt(e,t,n,r){if(xe(e)){const p=Gn(e,t,n,r);return p&&oh(p)&&p.catch(m=>{eo(m,t,n)}),p}const s=[];for(let p=0;p<e.length;p++)s.push(Wt(e[p],t,n,r));return s}function eo(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let p=t.parent;const m=t.proxy,u=n;for(;p;){const h=p.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](e,m,u)===!1)return}p=p.parent}const i=t.appContext.config.errorHandler;if(i){Gn(i,null,10,[e,m,u]);return}}Wv(e,n,s,r)}function Wv(e,t,n,r=!0){console.error(e)}let Mi=!1,xa=!1;const yt=[];let dn=0;const Rr=[];let On=null,sr=0;const Ah=Promise.resolve();let bl=null;function lt(e){const t=bl||Ah;return e?t.then(this?e.bind(this):e):t}function Yv(e){let t=dn+1,n=yt.length;for(;t<n;){const r=t+n>>>1;Ri(yt[r])<e?t=r+1:n=r}return t}function wl(e){(!yt.length||!yt.includes(e,Mi&&e.allowRecurse?dn+1:dn))&&(e.id==null?yt.push(e):yt.splice(Yv(e.id),0,e),Mh())}function Mh(){!Mi&&!xa&&(xa=!0,bl=Ah.then(Dh))}function Xv(e){const t=yt.indexOf(e);t>dn&&yt.splice(t,1)}function Vv(e){Ce(e)?Rr.push(...e):(!On||!On.includes(e,e.allowRecurse?sr+1:sr))&&Rr.push(e),Mh()}function Uc(e,t=Mi?dn+1:0){for(;t<yt.length;t++){const n=yt[t];n&&n.pre&&(yt.splice(t,1),t--,n())}}function Rh(e){if(Rr.length){const t=[...new Set(Rr)];if(Rr.length=0,On){On.push(...t);return}for(On=t,On.sort((n,r)=>Ri(n)-Ri(r)),sr=0;sr<On.length;sr++)On[sr]();On=null,sr=0}}const Ri=e=>e.id==null?1/0:e.id,Gv=(e,t)=>{const n=Ri(e)-Ri(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Dh(e){xa=!1,Mi=!0,yt.sort(Gv);const t=wt;try{for(dn=0;dn<yt.length;dn++){const n=yt[dn];n&&n.active!==!1&&Gn(n,null,14)}}finally{dn=0,yt.length=0,Rh(),Mi=!1,bl=null,(yt.length||Rr.length)&&Dh()}}function Kv(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||We;let s=n;const p=t.startsWith("update:"),m=p&&t.slice(7);if(m&&m in r){const f=`${m==="modelValue"?"model":m}Modifiers`,{number:o,trim:l}=r[f]||We;l&&(s=n.map(a=>je(a)?a.trim():a)),o&&(s=n.map(Jg))}let u,i=r[u=Bo(t)]||r[u=Bo(nn(t))];!i&&p&&(i=r[u=Bo(Kr(t))]),i&&Wt(i,e,6,s);const h=r[u+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Wt(h,e,6,s)}}function Ih(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const p=e.emits;let m={},u=!1;if(!xe(e)){const i=h=>{const f=Ih(h,t,!0);f&&(u=!0,rt(m,f))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return!p&&!u?(Fe(e)&&r.set(e,null),null):(Ce(p)?p.forEach(i=>m[i]=null):rt(m,p),Fe(e)&&r.set(e,m),m)}function to(e,t){return!e||!Gs(t)?!1:(t=t.slice(2).replace(/Once$/,""),De(e,t[0].toLowerCase()+t.slice(1))||De(e,Kr(t))||De(e,t))}let gt=null,no=null;function Ds(e){const t=gt;return gt=e,no=e&&e.type.__scopeId||null,t}function ro(e){no=e}function io(){no=null}function _e(e,t=gt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&nu(-1);const p=Ds(t);let m;try{m=e(...s)}finally{Ds(p),r._d&&nu(1)}return m};return r._n=!0,r._c=!0,r._d=!0,r}function jo(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:p,propsOptions:[m],slots:u,attrs:i,emit:h,render:f,renderCache:o,data:l,setupState:a,ctx:c,inheritAttrs:g}=e;let d,v;const _=Ds(e);try{if(n.shapeFlag&4){const y=s||r;d=hn(f.call(y,y,o,p,a,l,c)),v=i}else{const y=t;d=hn(y.length>1?y(p,{attrs:i,slots:u,emit:h}):y(p,null)),v=t.props?i:qv(i)}}catch(y){yi.length=0,eo(y,e,1),d=ve(jt)}let b=d;if(v&&g!==!1){const y=Object.keys(v),{shapeFlag:w}=b;y.length&&w&7&&(m&&y.some(cl)&&(v=Jv(v,m)),b=Mn(b,v))}return n.dirs&&(b=Mn(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),d=b,Ds(_),d}const qv=e=>{let t;for(const n in e)(n==="class"||n==="style"||Gs(n))&&((t||(t={}))[n]=e[n]);return t},Jv=(e,t)=>{const n={};for(const r in e)(!cl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Zv(e,t,n){const{props:r,children:s,component:p}=e,{props:m,children:u,patchFlag:i}=t,h=p.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&i>=0){if(i&1024)return!0;if(i&16)return r?Wc(r,m,h):!!m;if(i&8){const f=t.dynamicProps;for(let o=0;o<f.length;o++){const l=f[o];if(m[l]!==r[l]&&!to(h,l))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:r===m?!1:r?m?Wc(r,m,h):!0:!!m;return!1}function Wc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const p=r[s];if(t[p]!==e[p]&&!to(n,p))return!0}return!1}function Qv({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const em=e=>e.__isSuspense;function tm(e,t){t&&t.pendingBranch?Ce(e)?t.effects.push(...e):t.effects.push(e):Vv(e)}const os={};function Ae(e,t,n){return Fh(e,t,n)}function Fh(e,t,{immediate:n,deep:r,flush:s,onTrack:p,onTrigger:m}=We){var u;const i=ph()===((u=ct)==null?void 0:u.scope)?ct:null;let h,f=!1,o=!1;if(ot(e)?(h=()=>e.value,f=Ms(e)):Mr(e)?(h=()=>e,r=!0):Ce(e)?(o=!0,f=e.some(y=>Mr(y)||Ms(y)),h=()=>e.map(y=>{if(ot(y))return y.value;if(Mr(y))return lr(y);if(xe(y))return Gn(y,i,2)})):xe(e)?t?h=()=>Gn(e,i,2):h=()=>{if(!(i&&i.isUnmounted))return l&&l(),Wt(e,i,3,[a])}:h=wt,t&&r){const y=h;h=()=>lr(y())}let l,a=y=>{l=_.onStop=()=>{Gn(y,i,4)}},c;if(Ii)if(a=wt,t?n&&Wt(t,i,3,[h(),o?[]:void 0,a]):h(),s==="sync"){const y=Ym();c=y.__watcherHandles||(y.__watcherHandles=[])}else return wt;let g=o?new Array(e.length).fill(os):os;const d=()=>{if(_.active)if(t){const y=_.run();(r||f||(o?y.some((w,C)=>ki(w,g[C])):ki(y,g)))&&(l&&l(),Wt(t,i,3,[y,g===os?void 0:o&&g[0]===os?[]:g,a]),g=y)}else _.run()};d.allowRecurse=!!t;let v;s==="sync"?v=d:s==="post"?v=()=>kt(d,i&&i.suspense):(d.pre=!0,i&&(d.id=i.uid),v=()=>wl(d));const _=new dl(h,v);t?n?d():g=_.run():s==="post"?kt(_.run.bind(_),i&&i.suspense):_.run();const b=()=>{_.stop(),i&&i.scope&&ul(i.scope.effects,_)};return c&&c.push(b),b}function nm(e,t,n){const r=this.proxy,s=je(e)?e.includes(".")?Lh(r,e):()=>r[e]:e.bind(r,r);let p;xe(t)?p=t:(p=t.handler,n=t);const m=ct;Fr(this);const u=Fh(s,p.bind(r),n);return m?Fr(m):fr(),u}function Lh(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function lr(e,t){if(!Fe(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ot(e))lr(e.value,t);else if(Ce(e))for(let n=0;n<e.length;n++)lr(e[n],t);else if(Ks(e)||Ar(e))e.forEach(n=>{lr(n,t)});else if(lh(e))for(const n in e)lr(e[n],t);return e}function pt(e,t){const n=gt;if(n===null)return e;const r=lo(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let p=0;p<t.length;p++){let[m,u,i,h=We]=t[p];m&&(xe(m)&&(m={mounted:m,updated:m}),m.deep&&lr(u),s.push({dir:m,instance:r,value:u,oldValue:void 0,arg:i,modifiers:h}))}return e}function er(e,t,n,r){const s=e.dirs,p=t&&t.dirs;for(let m=0;m<s.length;m++){const u=s[m];p&&(u.oldValue=p[m].value);let i=u.dir[r];i&&(qr(),Wt(i,n,8,[e.el,u,e,t]),Jr())}}function rm(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ke(()=>{e.isMounted=!0}),Nt(()=>{e.isUnmounting=!0}),e}const $t=[Function,Array],Bh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:$t,onEnter:$t,onAfterEnter:$t,onEnterCancelled:$t,onBeforeLeave:$t,onLeave:$t,onAfterLeave:$t,onLeaveCancelled:$t,onBeforeAppear:$t,onAppear:$t,onAfterAppear:$t,onAppearCancelled:$t},im={name:"BaseTransition",props:Bh,setup(e,{slots:t}){const n=Dt(),r=rm();let s;return()=>{const p=t.default&&Nh(t.default(),!0);if(!p||!p.length)return;let m=p[0];if(p.length>1){for(const g of p)if(g.type!==jt){m=g;break}}const u=Le(e),{mode:i}=u;if(r.isLeaving)return No(m);const h=Yc(m);if(!h)return No(m);const f=Ta(h,u,r,n);Oa(h,f);const o=n.subTree,l=o&&Yc(o);let a=!1;const{getTransitionKey:c}=h.type;if(c){const g=c();s===void 0?s=g:g!==s&&(s=g,a=!0)}if(l&&l.type!==jt&&(!or(h,l)||a)){const g=Ta(l,u,r,n);if(Oa(l,g),i==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},No(m);i==="in-out"&&h.type!==jt&&(g.delayLeave=(d,v,_)=>{const b=jh(r,l);b[String(l.key)]=l,d._leaveCb=()=>{v(),d._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=_})}return m}}},sm=im;function jh(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Ta(e,t,n,r){const{appear:s,mode:p,persisted:m=!1,onBeforeEnter:u,onEnter:i,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:o,onLeave:l,onAfterLeave:a,onLeaveCancelled:c,onBeforeAppear:g,onAppear:d,onAfterAppear:v,onAppearCancelled:_}=t,b=String(e.key),y=jh(n,e),w=(T,j)=>{T&&Wt(T,r,9,j)},C=(T,j)=>{const W=j[1];w(T,j),Ce(T)?T.every(V=>V.length<=1)&&W():T.length<=1&&W()},S={mode:p,persisted:m,beforeEnter(T){let j=u;if(!n.isMounted)if(s)j=g||u;else return;T._leaveCb&&T._leaveCb(!0);const W=y[b];W&&or(e,W)&&W.el._leaveCb&&W.el._leaveCb(),w(j,[T])},enter(T){let j=i,W=h,V=f;if(!n.isMounted)if(s)j=d||i,W=v||h,V=_||f;else return;let H=!1;const Q=T._enterCb=se=>{H||(H=!0,se?w(V,[T]):w(W,[T]),S.delayedLeave&&S.delayedLeave(),T._enterCb=void 0)};j?C(j,[T,Q]):Q()},leave(T,j){const W=String(e.key);if(T._enterCb&&T._enterCb(!0),n.isUnmounting)return j();w(o,[T]);let V=!1;const H=T._leaveCb=Q=>{V||(V=!0,j(),Q?w(c,[T]):w(a,[T]),T._leaveCb=void 0,y[W]===e&&delete y[W])};y[W]=e,l?C(l,[T,H]):H()},clone(T){return Ta(T,t,n,r)}};return S}function No(e){if(so(e))return e=Mn(e),e.children=null,e}function Yc(e){return so(e)?e.children?e.children[0]:void 0:e}function Oa(e,t){e.shapeFlag&6&&e.component?Oa(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Nh(e,t=!1,n){let r=[],s=0;for(let p=0;p<e.length;p++){let m=e[p];const u=n==null?m.key:String(n)+String(m.key!=null?m.key:p);m.type===Re?(m.patchFlag&128&&s++,r=r.concat(Nh(m.children,t,u))):(t||m.type!==jt)&&r.push(u!=null?Mn(m,{key:u}):m)}if(s>1)for(let p=0;p<r.length;p++)r[p].patchFlag=-2;return r}function Oe(e,t){return xe(e)?(()=>rt({name:e.name},t,{setup:e}))():e}const vi=e=>!!e.type.__asyncLoader,so=e=>e.type.__isKeepAlive;function om(e,t){$h(e,"a",t)}function zh(e,t){$h(e,"da",t)}function $h(e,t,n=ct){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(oo(t,r,n),n){let s=n.parent;for(;s&&s.parent;)so(s.parent.vnode)&&am(r,t,n,s),s=s.parent}}function am(e,t,n,r){const s=oo(t,e,r,!0);Zr(()=>{ul(r[t],s)},n)}function oo(e,t,n=ct,r=!1){if(n){const s=n[e]||(n[e]=[]),p=t.__weh||(t.__weh=(...m)=>{if(n.isUnmounted)return;qr(),Fr(n);const u=Wt(t,n,e,m);return fr(),Jr(),u});return r?s.unshift(p):s.push(p),p}}const Dn=e=>(t,n=ct)=>(!Ii||e==="sp")&&oo(e,(...r)=>t(...r),n),Hh=Dn("bm"),Ke=Dn("m"),lm=Dn("bu"),Uh=Dn("u"),Nt=Dn("bum"),Zr=Dn("um"),cm=Dn("sp"),um=Dn("rtg"),fm=Dn("rtc");function hm(e,t=ct){oo("ec",e,t)}const Cl="components";function Ue(e,t){return Yh(Cl,e,!0,t)||e}const Wh=Symbol.for("v-ndc");function Qt(e){return je(e)?Yh(Cl,e,!1)||e:e||Wh}function Yh(e,t,n=!0,r=!1){const s=gt||ct;if(s){const p=s.type;if(e===Cl){const u=Hm(p,!1);if(u&&(u===t||u===nn(t)||u===Js(nn(t))))return p}const m=Xc(s[e]||p[e],t)||Xc(s.appContext[e],t);return!m&&r?p:m}}function Xc(e,t){return e&&(e[t]||e[nn(t)]||e[Js(nn(t))])}function dt(e,t,n,r){let s;const p=n&&n[r];if(Ce(e)||je(e)){s=new Array(e.length);for(let m=0,u=e.length;m<u;m++)s[m]=t(e[m],m,void 0,p&&p[m])}else if(typeof e=="number"){s=new Array(e);for(let m=0;m<e;m++)s[m]=t(m+1,m,void 0,p&&p[m])}else if(Fe(e))if(e[Symbol.iterator])s=Array.from(e,(m,u)=>t(m,u,void 0,p&&p[u]));else{const m=Object.keys(e);s=new Array(m.length);for(let u=0,i=m.length;u<i;u++){const h=m[u];s[u]=t(e[h],h,u,p&&p[u])}}else s=[];return n&&(n[r]=s),s}function dm(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Ce(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const p=r.fn(...s);return p&&(p.key=r.key),p}:r.fn)}return e}function Ee(e,t,n={},r,s){if(gt.isCE||gt.parent&&vi(gt.parent)&&gt.parent.isCE)return t!=="default"&&(n.name=t),ve("slot",n,r&&r());let p=e[t];p&&p._c&&(p._d=!1),te();const m=p&&Xh(p(n)),u=Te(Re,{key:n.key||m&&m.key||`_${t}`},m||(r?r():[]),m&&e._===1?64:-2);return!s&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),p&&p._c&&(p._d=!0),u}function Xh(e){return e.some(t=>Ir(t)?!(t.type===jt||t.type===Re&&!Xh(t.children)):!0)?e:null}const Ea=e=>e?od(e)?lo(e)||e.proxy:Ea(e.parent):null,mi=rt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ea(e.parent),$root:e=>Ea(e.root),$emit:e=>e.emit,$options:e=>xl(e),$forceUpdate:e=>e.f||(e.f=()=>wl(e.update)),$nextTick:e=>e.n||(e.n=lt.bind(e.proxy)),$watch:e=>nm.bind(e)}),zo=(e,t)=>e!==We&&!e.__isScriptSetup&&De(e,t),pm={get({_:e},t){const{ctx:n,setupState:r,data:s,props:p,accessCache:m,type:u,appContext:i}=e;let h;if(t[0]!=="$"){const a=m[t];if(a!==void 0)switch(a){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return p[t]}else{if(zo(r,t))return m[t]=1,r[t];if(s!==We&&De(s,t))return m[t]=2,s[t];if((h=e.propsOptions[0])&&De(h,t))return m[t]=3,p[t];if(n!==We&&De(n,t))return m[t]=4,n[t];Pa&&(m[t]=0)}}const f=mi[t];let o,l;if(f)return t==="$attrs"&&Rt(e,"get",t),f(e);if((o=u.__cssModules)&&(o=o[t]))return o;if(n!==We&&De(n,t))return m[t]=4,n[t];if(l=i.config.globalProperties,De(l,t))return l[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:p}=e;return zo(s,t)?(s[t]=n,!0):r!==We&&De(r,t)?(r[t]=n,!0):De(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(p[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:p}},m){let u;return!!n[m]||e!==We&&De(e,m)||zo(t,m)||(u=p[0])&&De(u,m)||De(r,m)||De(mi,m)||De(s.config.globalProperties,m)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:De(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Vh(){return Gh().slots}function Sl(){return Gh().attrs}function Gh(){const e=Dt();return e.setupContext||(e.setupContext=ld(e))}function Vc(e){return Ce(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Pa=!0;function gm(e){const t=xl(e),n=e.proxy,r=e.ctx;Pa=!1,t.beforeCreate&&Gc(t.beforeCreate,e,"bc");const{data:s,computed:p,methods:m,watch:u,provide:i,inject:h,created:f,beforeMount:o,mounted:l,beforeUpdate:a,updated:c,activated:g,deactivated:d,beforeDestroy:v,beforeUnmount:_,destroyed:b,unmounted:y,render:w,renderTracked:C,renderTriggered:S,errorCaptured:T,serverPrefetch:j,expose:W,inheritAttrs:V,components:H,directives:Q,filters:se}=t;if(h&&vm(h,r,null),m)for(const X in m){const K=m[X];xe(K)&&(r[X]=K.bind(n))}if(s){const X=s.call(n,n);Fe(X)&&(e.data=gr(X))}if(Pa=!0,p)for(const X in p){const K=p[X],x=xe(K)?K.bind(n,n):xe(K.get)?K.get.bind(n,n):wt,D=!xe(K)&&xe(K.set)?K.set.bind(n):wt,F=re({get:x,set:D});Object.defineProperty(r,X,{enumerable:!0,configurable:!0,get:()=>F.value,set:I=>F.value=I})}if(u)for(const X in u)Kh(u[X],r,n,X);if(i){const X=xe(i)?i.call(n):i;Reflect.ownKeys(X).forEach(K=>{Ze(K,X[K])})}f&&Gc(f,e,"c");function ue(X,K){Ce(K)?K.forEach(x=>X(x.bind(n))):K&&X(K.bind(n))}if(ue(Hh,o),ue(Ke,l),ue(lm,a),ue(Uh,c),ue(om,g),ue(zh,d),ue(hm,T),ue(fm,C),ue(um,S),ue(Nt,_),ue(Zr,y),ue(cm,j),Ce(W))if(W.length){const X=e.exposed||(e.exposed={});W.forEach(K=>{Object.defineProperty(X,K,{get:()=>n[K],set:x=>n[K]=x})})}else e.exposed||(e.exposed={});w&&e.render===wt&&(e.render=w),V!=null&&(e.inheritAttrs=V),H&&(e.components=H),Q&&(e.directives=Q)}function vm(e,t,n=wt){Ce(e)&&(e=ka(e));for(const r in e){const s=e[r];let p;Fe(s)?"default"in s?p=Pe(s.from||r,s.default,!0):p=Pe(s.from||r):p=Pe(s),ot(p)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>p.value,set:m=>p.value=m}):t[r]=p}}function Gc(e,t,n){Wt(Ce(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Kh(e,t,n,r){const s=r.includes(".")?Lh(n,r):()=>n[r];if(je(e)){const p=t[e];xe(p)&&Ae(s,p)}else if(xe(e))Ae(s,e.bind(n));else if(Fe(e))if(Ce(e))e.forEach(p=>Kh(p,t,n,r));else{const p=xe(e.handler)?e.handler.bind(n):t[e.handler];xe(p)&&Ae(s,p,e)}}function xl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:p,config:{optionMergeStrategies:m}}=e.appContext,u=p.get(t);let i;return u?i=u:!s.length&&!n&&!r?i=t:(i={},s.length&&s.forEach(h=>Is(i,h,m,!0)),Is(i,t,m)),Fe(t)&&p.set(t,i),i}function Is(e,t,n,r=!1){const{mixins:s,extends:p}=t;p&&Is(e,p,n,!0),s&&s.forEach(m=>Is(e,m,n,!0));for(const m in t)if(!(r&&m==="expose")){const u=mm[m]||n&&n[m];e[m]=u?u(e[m],t[m]):t[m]}return e}const mm={data:Kc,props:qc,emits:qc,methods:pi,computed:pi,beforeCreate:xt,created:xt,beforeMount:xt,mounted:xt,beforeUpdate:xt,updated:xt,beforeDestroy:xt,beforeUnmount:xt,destroyed:xt,unmounted:xt,activated:xt,deactivated:xt,errorCaptured:xt,serverPrefetch:xt,components:pi,directives:pi,watch:ym,provide:Kc,inject:_m};function Kc(e,t){return t?e?function(){return rt(xe(e)?e.call(this,this):e,xe(t)?t.call(this,this):t)}:t:e}function _m(e,t){return pi(ka(e),ka(t))}function ka(e){if(Ce(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function xt(e,t){return e?[...new Set([].concat(e,t))]:t}function pi(e,t){return e?rt(Object.create(null),e,t):t}function qc(e,t){return e?Ce(e)&&Ce(t)?[...new Set([...e,...t])]:rt(Object.create(null),Vc(e),Vc(t??{})):t}function ym(e,t){if(!e)return t;if(!t)return e;const n=rt(Object.create(null),e);for(const r in t)n[r]=xt(e[r],t[r]);return n}function qh(){return{app:null,config:{isNativeTag:Yg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bm=0;function wm(e,t){return function(r,s=null){xe(r)||(r=rt({},r)),s!=null&&!Fe(s)&&(s=null);const p=qh(),m=new Set;let u=!1;const i=p.app={_uid:bm++,_component:r,_props:s,_container:null,_context:p,_instance:null,version:Xm,get config(){return p.config},set config(h){},use(h,...f){return m.has(h)||(h&&xe(h.install)?(m.add(h),h.install(i,...f)):xe(h)&&(m.add(h),h(i,...f))),i},mixin(h){return p.mixins.includes(h)||p.mixins.push(h),i},component(h,f){return f?(p.components[h]=f,i):p.components[h]},directive(h,f){return f?(p.directives[h]=f,i):p.directives[h]},mount(h,f,o){if(!u){const l=ve(r,s);return l.appContext=p,f&&t?t(l,h):e(l,h,o),u=!0,i._container=h,h.__vue_app__=i,lo(l.component)||l.component.proxy}},unmount(){u&&(e(null,i._container),delete i._container.__vue_app__)},provide(h,f){return p.provides[h]=f,i},runWithContext(h){Fs=i;try{return h()}finally{Fs=null}}};return i}}let Fs=null;function Ze(e,t){if(ct){let n=ct.provides;const r=ct.parent&&ct.parent.provides;r===n&&(n=ct.provides=Object.create(r)),n[e]=t}}function Pe(e,t,n=!1){const r=ct||gt;if(r||Fs){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Fs._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&xe(t)?t.call(r&&r.proxy):t}}function Cm(e,t,n,r=!1){const s={},p={};ks(p,ao,1),e.propsDefaults=Object.create(null),Jh(e,t,s,p);for(const m in e.propsOptions[0])m in s||(s[m]=void 0);n?e.props=r?s:ml(s):e.type.props?e.props=s:e.props=p,e.attrs=p}function Sm(e,t,n,r){const{props:s,attrs:p,vnode:{patchFlag:m}}=e,u=Le(s),[i]=e.propsOptions;let h=!1;if((r||m>0)&&!(m&16)){if(m&8){const f=e.vnode.dynamicProps;for(let o=0;o<f.length;o++){let l=f[o];if(to(e.emitsOptions,l))continue;const a=t[l];if(i)if(De(p,l))a!==p[l]&&(p[l]=a,h=!0);else{const c=nn(l);s[c]=Aa(i,u,c,a,e,!1)}else a!==p[l]&&(p[l]=a,h=!0)}}}else{Jh(e,t,s,p)&&(h=!0);let f;for(const o in u)(!t||!De(t,o)&&((f=Kr(o))===o||!De(t,f)))&&(i?n&&(n[o]!==void 0||n[f]!==void 0)&&(s[o]=Aa(i,u,o,void 0,e,!0)):delete s[o]);if(p!==u)for(const o in p)(!t||!De(t,o))&&(delete p[o],h=!0)}h&&An(e,"set","$attrs")}function Jh(e,t,n,r){const[s,p]=e.propsOptions;let m=!1,u;if(t)for(let i in t){if(_s(i))continue;const h=t[i];let f;s&&De(s,f=nn(i))?!p||!p.includes(f)?n[f]=h:(u||(u={}))[f]=h:to(e.emitsOptions,i)||(!(i in r)||h!==r[i])&&(r[i]=h,m=!0)}if(p){const i=Le(n),h=u||We;for(let f=0;f<p.length;f++){const o=p[f];n[o]=Aa(s,i,o,h[o],e,!De(h,o))}}return m}function Aa(e,t,n,r,s,p){const m=e[n];if(m!=null){const u=De(m,"default");if(u&&r===void 0){const i=m.default;if(m.type!==Function&&!m.skipFactory&&xe(i)){const{propsDefaults:h}=s;n in h?r=h[n]:(Fr(s),r=h[n]=i.call(null,t),fr())}else r=i}m[0]&&(p&&!u?r=!1:m[1]&&(r===""||r===Kr(n))&&(r=!0))}return r}function Zh(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const p=e.props,m={},u=[];let i=!1;if(!xe(e)){const f=o=>{i=!0;const[l,a]=Zh(o,t,!0);rt(m,l),a&&u.push(...a)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!p&&!i)return Fe(e)&&r.set(e,kr),kr;if(Ce(p))for(let f=0;f<p.length;f++){const o=nn(p[f]);Jc(o)&&(m[o]=We)}else if(p)for(const f in p){const o=nn(f);if(Jc(o)){const l=p[f],a=m[o]=Ce(l)||xe(l)?{type:l}:rt({},l);if(a){const c=eu(Boolean,a.type),g=eu(String,a.type);a[0]=c>-1,a[1]=g<0||c<g,(c>-1||De(a,"default"))&&u.push(o)}}}const h=[m,u];return Fe(e)&&r.set(e,h),h}function Jc(e){return e[0]!=="$"}function Zc(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Qc(e,t){return Zc(e)===Zc(t)}function eu(e,t){return Ce(t)?t.findIndex(n=>Qc(n,e)):xe(t)&&Qc(t,e)?0:-1}const Qh=e=>e[0]==="_"||e==="$stable",Tl=e=>Ce(e)?e.map(hn):[hn(e)],xm=(e,t,n)=>{if(t._n)return t;const r=_e((...s)=>Tl(t(...s)),n);return r._c=!1,r},ed=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Qh(s))continue;const p=e[s];if(xe(p))t[s]=xm(s,p,r);else if(p!=null){const m=Tl(p);t[s]=()=>m}}},td=(e,t)=>{const n=Tl(t);e.slots.default=()=>n},Tm=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Le(t),ks(t,"_",n)):ed(t,e.slots={})}else e.slots={},t&&td(e,t);ks(e.slots,ao,1)},Om=(e,t,n)=>{const{vnode:r,slots:s}=e;let p=!0,m=We;if(r.shapeFlag&32){const u=t._;u?n&&u===1?p=!1:(rt(s,t),!n&&u===1&&delete s._):(p=!t.$stable,ed(t,s)),m=t}else t&&(td(e,t),m={default:1});if(p)for(const u in s)!Qh(u)&&!(u in m)&&delete s[u]};function Ma(e,t,n,r,s=!1){if(Ce(e)){e.forEach((l,a)=>Ma(l,t&&(Ce(t)?t[a]:t),n,r,s));return}if(vi(r)&&!s)return;const p=r.shapeFlag&4?lo(r.component)||r.component.proxy:r.el,m=s?null:p,{i:u,r:i}=e,h=t&&t.r,f=u.refs===We?u.refs={}:u.refs,o=u.setupState;if(h!=null&&h!==i&&(je(h)?(f[h]=null,De(o,h)&&(o[h]=null)):ot(h)&&(h.value=null)),xe(i))Gn(i,u,12,[m,f]);else{const l=je(i),a=ot(i);if(l||a){const c=()=>{if(e.f){const g=l?De(o,i)?o[i]:f[i]:i.value;s?Ce(g)&&ul(g,p):Ce(g)?g.includes(p)||g.push(p):l?(f[i]=[p],De(o,i)&&(o[i]=f[i])):(i.value=[p],e.k&&(f[e.k]=i.value))}else l?(f[i]=m,De(o,i)&&(o[i]=m)):a&&(i.value=m,e.k&&(f[e.k]=m))};m?(c.id=-1,kt(c,n)):c()}}}const kt=tm;function Em(e){return Pm(e)}function Pm(e,t){const n=ba();n.__VUE__=!0;const{insert:r,remove:s,patchProp:p,createElement:m,createText:u,createComment:i,setText:h,setElementText:f,parentNode:o,nextSibling:l,setScopeId:a=wt,insertStaticContent:c}=e,g=(k,O,P,B=null,$=null,N=null,Y=!1,J=null,ae=!!O.dynamicChildren)=>{if(k===O)return;k&&!or(k,O)&&(B=M(k),I(k,$,N,!0),k=null),O.patchFlag===-2&&(ae=!1,O.dynamicChildren=null);const{type:ne,ref:G,shapeFlag:ce}=O;switch(ne){case Qr:d(k,O,P,B);break;case jt:v(k,O,P,B);break;case bs:k==null&&_(O,P,B,Y);break;case Re:H(k,O,P,B,$,N,Y,J,ae);break;default:ce&1?w(k,O,P,B,$,N,Y,J,ae):ce&6?Q(k,O,P,B,$,N,Y,J,ae):(ce&64||ce&128)&&ne.process(k,O,P,B,$,N,Y,J,ae,z)}G!=null&&$&&Ma(G,k&&k.ref,N,O||k,!O)},d=(k,O,P,B)=>{if(k==null)r(O.el=u(O.children),P,B);else{const $=O.el=k.el;O.children!==k.children&&h($,O.children)}},v=(k,O,P,B)=>{k==null?r(O.el=i(O.children||""),P,B):O.el=k.el},_=(k,O,P,B)=>{[k.el,k.anchor]=c(k.children,O,P,B,k.el,k.anchor)},b=({el:k,anchor:O},P,B)=>{let $;for(;k&&k!==O;)$=l(k),r(k,P,B),k=$;r(O,P,B)},y=({el:k,anchor:O})=>{let P;for(;k&&k!==O;)P=l(k),s(k),k=P;s(O)},w=(k,O,P,B,$,N,Y,J,ae)=>{Y=Y||O.type==="svg",k==null?C(O,P,B,$,N,Y,J,ae):j(k,O,$,N,Y,J,ae)},C=(k,O,P,B,$,N,Y,J)=>{let ae,ne;const{type:G,props:ce,shapeFlag:pe,transition:Z,dirs:ge}=k;if(ae=k.el=m(k.type,N,ce&&ce.is,ce),pe&8?f(ae,k.children):pe&16&&T(k.children,ae,null,B,$,N&&G!=="foreignObject",Y,J),ge&&er(k,null,B,"created"),S(ae,k,k.scopeId,Y,B),ce){for(const be in ce)be!=="value"&&!_s(be)&&p(ae,be,null,ce[be],N,k.children,B,$,U);"value"in ce&&p(ae,"value",null,ce.value),(ne=ce.onVnodeBeforeMount)&&fn(ne,B,k)}ge&&er(k,null,B,"beforeMount");const me=(!$||$&&!$.pendingBranch)&&Z&&!Z.persisted;me&&Z.beforeEnter(ae),r(ae,O,P),((ne=ce&&ce.onVnodeMounted)||me||ge)&&kt(()=>{ne&&fn(ne,B,k),me&&Z.enter(ae),ge&&er(k,null,B,"mounted")},$)},S=(k,O,P,B,$)=>{if(P&&a(k,P),B)for(let N=0;N<B.length;N++)a(k,B[N]);if($){let N=$.subTree;if(O===N){const Y=$.vnode;S(k,Y,Y.scopeId,Y.slotScopeIds,$.parent)}}},T=(k,O,P,B,$,N,Y,J,ae=0)=>{for(let ne=ae;ne<k.length;ne++){const G=k[ne]=J?Hn(k[ne]):hn(k[ne]);g(null,G,O,P,B,$,N,Y,J)}},j=(k,O,P,B,$,N,Y)=>{const J=O.el=k.el;let{patchFlag:ae,dynamicChildren:ne,dirs:G}=O;ae|=k.patchFlag&16;const ce=k.props||We,pe=O.props||We;let Z;P&&tr(P,!1),(Z=pe.onVnodeBeforeUpdate)&&fn(Z,P,O,k),G&&er(O,k,P,"beforeUpdate"),P&&tr(P,!0);const ge=$&&O.type!=="foreignObject";if(ne?W(k.dynamicChildren,ne,J,P,B,ge,N):Y||K(k,O,J,null,P,B,ge,N,!1),ae>0){if(ae&16)V(J,O,ce,pe,P,B,$);else if(ae&2&&ce.class!==pe.class&&p(J,"class",null,pe.class,$),ae&4&&p(J,"style",ce.style,pe.style,$),ae&8){const me=O.dynamicProps;for(let be=0;be<me.length;be++){const ke=me[be],Je=ce[ke],St=pe[ke];(St!==Je||ke==="value")&&p(J,ke,Je,St,$,k.children,P,B,U)}}ae&1&&k.children!==O.children&&f(J,O.children)}else!Y&&ne==null&&V(J,O,ce,pe,P,B,$);((Z=pe.onVnodeUpdated)||G)&&kt(()=>{Z&&fn(Z,P,O,k),G&&er(O,k,P,"updated")},B)},W=(k,O,P,B,$,N,Y)=>{for(let J=0;J<O.length;J++){const ae=k[J],ne=O[J],G=ae.el&&(ae.type===Re||!or(ae,ne)||ae.shapeFlag&70)?o(ae.el):P;g(ae,ne,G,null,B,$,N,Y,!0)}},V=(k,O,P,B,$,N,Y)=>{if(P!==B){if(P!==We)for(const J in P)!_s(J)&&!(J in B)&&p(k,J,P[J],null,Y,O.children,$,N,U);for(const J in B){if(_s(J))continue;const ae=B[J],ne=P[J];ae!==ne&&J!=="value"&&p(k,J,ne,ae,Y,O.children,$,N,U)}"value"in B&&p(k,"value",P.value,B.value)}},H=(k,O,P,B,$,N,Y,J,ae)=>{const ne=O.el=k?k.el:u(""),G=O.anchor=k?k.anchor:u("");let{patchFlag:ce,dynamicChildren:pe,slotScopeIds:Z}=O;Z&&(J=J?J.concat(Z):Z),k==null?(r(ne,P,B),r(G,P,B),T(O.children,P,G,$,N,Y,J,ae)):ce>0&&ce&64&&pe&&k.dynamicChildren?(W(k.dynamicChildren,pe,P,$,N,Y,J),(O.key!=null||$&&O===$.subTree)&&Ol(k,O,!0)):K(k,O,P,G,$,N,Y,J,ae)},Q=(k,O,P,B,$,N,Y,J,ae)=>{O.slotScopeIds=J,k==null?O.shapeFlag&512?$.ctx.activate(O,P,B,Y,ae):se(O,P,B,$,N,Y,ae):le(k,O,ae)},se=(k,O,P,B,$,N,Y)=>{const J=k.component=jm(k,B,$);if(so(k)&&(J.ctx.renderer=z),Nm(J),J.asyncDep){if($&&$.registerDep(J,ue),!k.el){const ae=J.subTree=ve(jt);v(null,ae,O,P)}return}ue(J,k,O,P,$,N,Y)},le=(k,O,P)=>{const B=O.component=k.component;if(Zv(k,O,P))if(B.asyncDep&&!B.asyncResolved){X(B,O,P);return}else B.next=O,Xv(B.update),B.update();else O.el=k.el,B.vnode=O},ue=(k,O,P,B,$,N,Y)=>{const J=()=>{if(k.isMounted){let{next:G,bu:ce,u:pe,parent:Z,vnode:ge}=k,me=G,be;tr(k,!1),G?(G.el=ge.el,X(k,G,Y)):G=ge,ce&&ys(ce),(be=G.props&&G.props.onVnodeBeforeUpdate)&&fn(be,Z,G,ge),tr(k,!0);const ke=jo(k),Je=k.subTree;k.subTree=ke,g(Je,ke,o(Je.el),M(Je),k,$,N),G.el=ke.el,me===null&&Qv(k,ke.el),pe&&kt(pe,$),(be=G.props&&G.props.onVnodeUpdated)&&kt(()=>fn(be,Z,G,ge),$)}else{let G;const{el:ce,props:pe}=O,{bm:Z,m:ge,parent:me}=k,be=vi(O);if(tr(k,!1),Z&&ys(Z),!be&&(G=pe&&pe.onVnodeBeforeMount)&&fn(G,me,O),tr(k,!0),ce&&oe){const ke=()=>{k.subTree=jo(k),oe(ce,k.subTree,k,$,null)};be?O.type.__asyncLoader().then(()=>!k.isUnmounted&&ke()):ke()}else{const ke=k.subTree=jo(k);g(null,ke,P,B,k,$,N),O.el=ke.el}if(ge&&kt(ge,$),!be&&(G=pe&&pe.onVnodeMounted)){const ke=O;kt(()=>fn(G,me,ke),$)}(O.shapeFlag&256||me&&vi(me.vnode)&&me.vnode.shapeFlag&256)&&k.a&&kt(k.a,$),k.isMounted=!0,O=P=B=null}},ae=k.effect=new dl(J,()=>wl(ne),k.scope),ne=k.update=()=>ae.run();ne.id=k.uid,tr(k,!0),ne()},X=(k,O,P)=>{O.component=k;const B=k.vnode.props;k.vnode=O,k.next=null,Sm(k,O.props,B,P),Om(k,O.children,P),qr(),Uc(),Jr()},K=(k,O,P,B,$,N,Y,J,ae=!1)=>{const ne=k&&k.children,G=k?k.shapeFlag:0,ce=O.children,{patchFlag:pe,shapeFlag:Z}=O;if(pe>0){if(pe&128){D(ne,ce,P,B,$,N,Y,J,ae);return}else if(pe&256){x(ne,ce,P,B,$,N,Y,J,ae);return}}Z&8?(G&16&&U(ne,$,N),ce!==ne&&f(P,ce)):G&16?Z&16?D(ne,ce,P,B,$,N,Y,J,ae):U(ne,$,N,!0):(G&8&&f(P,""),Z&16&&T(ce,P,B,$,N,Y,J,ae))},x=(k,O,P,B,$,N,Y,J,ae)=>{k=k||kr,O=O||kr;const ne=k.length,G=O.length,ce=Math.min(ne,G);let pe;for(pe=0;pe<ce;pe++){const Z=O[pe]=ae?Hn(O[pe]):hn(O[pe]);g(k[pe],Z,P,null,$,N,Y,J,ae)}ne>G?U(k,$,N,!0,!1,ce):T(O,P,B,$,N,Y,J,ae,ce)},D=(k,O,P,B,$,N,Y,J,ae)=>{let ne=0;const G=O.length;let ce=k.length-1,pe=G-1;for(;ne<=ce&&ne<=pe;){const Z=k[ne],ge=O[ne]=ae?Hn(O[ne]):hn(O[ne]);if(or(Z,ge))g(Z,ge,P,null,$,N,Y,J,ae);else break;ne++}for(;ne<=ce&&ne<=pe;){const Z=k[ce],ge=O[pe]=ae?Hn(O[pe]):hn(O[pe]);if(or(Z,ge))g(Z,ge,P,null,$,N,Y,J,ae);else break;ce--,pe--}if(ne>ce){if(ne<=pe){const Z=pe+1,ge=Z<G?O[Z].el:B;for(;ne<=pe;)g(null,O[ne]=ae?Hn(O[ne]):hn(O[ne]),P,ge,$,N,Y,J,ae),ne++}}else if(ne>pe)for(;ne<=ce;)I(k[ne],$,N,!0),ne++;else{const Z=ne,ge=ne,me=new Map;for(ne=ge;ne<=pe;ne++){const qe=O[ne]=ae?Hn(O[ne]):hn(O[ne]);qe.key!=null&&me.set(qe.key,ne)}let be,ke=0;const Je=pe-ge+1;let St=!1,_t=0;const ln=new Array(Je);for(ne=0;ne<Je;ne++)ln[ne]=0;for(ne=Z;ne<=ce;ne++){const qe=k[ne];if(ke>=Je){I(qe,$,N,!0);continue}let ut;if(qe.key!=null)ut=me.get(qe.key);else for(be=ge;be<=pe;be++)if(ln[be-ge]===0&&or(qe,O[be])){ut=be;break}ut===void 0?I(qe,$,N,!0):(ln[ut-ge]=ne+1,ut>=_t?_t=ut:St=!0,g(qe,O[ut],P,null,$,N,Y,J,ae),ke++)}const Zn=St?km(ln):kr;for(be=Zn.length-1,ne=Je-1;ne>=0;ne--){const qe=ge+ne,ut=O[qe],ri=qe+1<G?O[qe+1].el:B;ln[ne]===0?g(null,ut,P,ri,$,N,Y,J,ae):St&&(be<0||ne!==Zn[be]?F(ut,P,ri,2):be--)}}},F=(k,O,P,B,$=null)=>{const{el:N,type:Y,transition:J,children:ae,shapeFlag:ne}=k;if(ne&6){F(k.component.subTree,O,P,B);return}if(ne&128){k.suspense.move(O,P,B);return}if(ne&64){Y.move(k,O,P,z);return}if(Y===Re){r(N,O,P);for(let ce=0;ce<ae.length;ce++)F(ae[ce],O,P,B);r(k.anchor,O,P);return}if(Y===bs){b(k,O,P);return}if(B!==2&&ne&1&&J)if(B===0)J.beforeEnter(N),r(N,O,P),kt(()=>J.enter(N),$);else{const{leave:ce,delayLeave:pe,afterLeave:Z}=J,ge=()=>r(N,O,P),me=()=>{ce(N,()=>{ge(),Z&&Z()})};pe?pe(N,ge,me):me()}else r(N,O,P)},I=(k,O,P,B=!1,$=!1)=>{const{type:N,props:Y,ref:J,children:ae,dynamicChildren:ne,shapeFlag:G,patchFlag:ce,dirs:pe}=k;if(J!=null&&Ma(J,null,P,k,!0),G&256){O.ctx.deactivate(k);return}const Z=G&1&&pe,ge=!vi(k);let me;if(ge&&(me=Y&&Y.onVnodeBeforeUnmount)&&fn(me,O,k),G&6)E(k.component,P,B);else{if(G&128){k.suspense.unmount(P,B);return}Z&&er(k,null,O,"beforeUnmount"),G&64?k.type.remove(k,O,P,$,z,B):ne&&(N!==Re||ce>0&&ce&64)?U(ne,O,P,!1,!0):(N===Re&&ce&384||!$&&G&16)&&U(ae,O,P),B&&ee(k)}(ge&&(me=Y&&Y.onVnodeUnmounted)||Z)&&kt(()=>{me&&fn(me,O,k),Z&&er(k,null,O,"unmounted")},P)},ee=k=>{const{type:O,el:P,anchor:B,transition:$}=k;if(O===Re){R(P,B);return}if(O===bs){y(k);return}const N=()=>{s(P),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(k.shapeFlag&1&&$&&!$.persisted){const{leave:Y,delayLeave:J}=$,ae=()=>Y(P,N);J?J(k.el,N,ae):ae()}else N()},R=(k,O)=>{let P;for(;k!==O;)P=l(k),s(k),k=P;s(O)},E=(k,O,P)=>{const{bum:B,scope:$,update:N,subTree:Y,um:J}=k;B&&ys(B),$.stop(),N&&(N.active=!1,I(Y,k,O,P)),J&&kt(J,O),kt(()=>{k.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},U=(k,O,P,B=!1,$=!1,N=0)=>{for(let Y=N;Y<k.length;Y++)I(k[Y],O,P,B,$)},M=k=>k.shapeFlag&6?M(k.component.subTree):k.shapeFlag&128?k.suspense.next():l(k.anchor||k.el),L=(k,O,P)=>{k==null?O._vnode&&I(O._vnode,null,null,!0):g(O._vnode||null,k,O,null,null,null,P),Uc(),Rh(),O._vnode=k},z={p:g,um:I,m:F,r:ee,mt:se,mc:T,pc:K,pbc:W,n:M,o:e};let q,oe;return t&&([q,oe]=t(z)),{render:L,hydrate:q,createApp:wm(L,q)}}function tr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Ol(e,t,n=!1){const r=e.children,s=t.children;if(Ce(r)&&Ce(s))for(let p=0;p<r.length;p++){const m=r[p];let u=s[p];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[p]=Hn(s[p]),u.el=m.el),n||Ol(m,u)),u.type===Qr&&(u.el=m.el)}}function km(e){const t=e.slice(),n=[0];let r,s,p,m,u;const i=e.length;for(r=0;r<i;r++){const h=e[r];if(h!==0){if(s=n[n.length-1],e[s]<h){t[r]=s,n.push(r);continue}for(p=0,m=n.length-1;p<m;)u=p+m>>1,e[n[u]]<h?p=u+1:m=u;h<e[n[p]]&&(p>0&&(t[r]=n[p-1]),n[p]=r)}}for(p=n.length,m=n[p-1];p-- >0;)n[p]=m,m=t[m];return n}const Am=e=>e.__isTeleport,_i=e=>e&&(e.disabled||e.disabled===""),tu=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Ra=(e,t)=>{const n=e&&e.to;return je(n)?t?t(n):null:n},Mm={__isTeleport:!0,process(e,t,n,r,s,p,m,u,i,h){const{mc:f,pc:o,pbc:l,o:{insert:a,querySelector:c,createText:g,createComment:d}}=h,v=_i(t.props);let{shapeFlag:_,children:b,dynamicChildren:y}=t;if(e==null){const w=t.el=g(""),C=t.anchor=g("");a(w,n,r),a(C,n,r);const S=t.target=Ra(t.props,c),T=t.targetAnchor=g("");S&&(a(T,S),m=m||tu(S));const j=(W,V)=>{_&16&&f(b,W,V,s,p,m,u,i)};v?j(n,C):S&&j(S,T)}else{t.el=e.el;const w=t.anchor=e.anchor,C=t.target=e.target,S=t.targetAnchor=e.targetAnchor,T=_i(e.props),j=T?n:C,W=T?w:S;if(m=m||tu(C),y?(l(e.dynamicChildren,y,j,s,p,m,u),Ol(e,t,!0)):i||o(e,t,j,W,s,p,m,u,!1),v)T||as(t,n,w,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const V=t.target=Ra(t.props,c);V&&as(t,V,null,h,0)}else T&&as(t,C,S,h,1)}nd(t)},remove(e,t,n,r,{um:s,o:{remove:p}},m){const{shapeFlag:u,children:i,anchor:h,targetAnchor:f,target:o,props:l}=e;if(o&&p(f),(m||!_i(l))&&(p(h),u&16))for(let a=0;a<i.length;a++){const c=i[a];s(c,t,n,!0,!!c.dynamicChildren)}},move:as,hydrate:Rm};function as(e,t,n,{o:{insert:r},m:s},p=2){p===0&&r(e.targetAnchor,t,n);const{el:m,anchor:u,shapeFlag:i,children:h,props:f}=e,o=p===2;if(o&&r(m,t,n),(!o||_i(f))&&i&16)for(let l=0;l<h.length;l++)s(h[l],t,n,2);o&&r(u,t,n)}function Rm(e,t,n,r,s,p,{o:{nextSibling:m,parentNode:u,querySelector:i}},h){const f=t.target=Ra(t.props,i);if(f){const o=f._lpa||f.firstChild;if(t.shapeFlag&16)if(_i(t.props))t.anchor=h(m(e),t,u(e),n,r,s,p),t.targetAnchor=o;else{t.anchor=m(e);let l=o;for(;l;)if(l=m(l),l&&l.nodeType===8&&l.data==="teleport anchor"){t.targetAnchor=l,f._lpa=t.targetAnchor&&m(t.targetAnchor);break}h(o,t,f,n,r,s,p)}nd(t)}return t.anchor&&m(t.anchor)}const El=Mm;function nd(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Re=Symbol.for("v-fgt"),Qr=Symbol.for("v-txt"),jt=Symbol.for("v-cmt"),bs=Symbol.for("v-stc"),yi=[];let en=null;function te(e=!1){yi.push(en=e?null:[])}function Dm(){yi.pop(),en=yi[yi.length-1]||null}let Di=1;function nu(e){Di+=e}function rd(e){return e.dynamicChildren=Di>0?en||kr:null,Dm(),Di>0&&en&&en.push(e),e}function he(e,t,n,r,s,p){return rd(ie(e,t,n,r,s,p,!0))}function Te(e,t,n,r,s){return rd(ve(e,t,n,r,s,!0))}function Ir(e){return e?e.__v_isVNode===!0:!1}function or(e,t){return e.type===t.type&&e.key===t.key}const ao="__vInternal",id=({key:e})=>e??null,ws=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?je(e)||ot(e)||xe(e)?{i:gt,r:e,k:t,f:!!n}:e:null);function ie(e,t=null,n=null,r=0,s=null,p=e===Re?0:1,m=!1,u=!1){const i={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&id(t),ref:t&&ws(t),scopeId:no,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:gt};return u?(Pl(i,n),p&128&&e.normalize(i)):n&&(i.shapeFlag|=je(n)?8:16),Di>0&&!m&&en&&(i.patchFlag>0||p&6)&&i.patchFlag!==32&&en.push(i),i}const ve=Im;function Im(e,t=null,n=null,r=0,s=null,p=!1){if((!e||e===Wh)&&(e=jt),Ir(e)){const u=Mn(e,t,!0);return n&&Pl(u,n),Di>0&&!p&&en&&(u.shapeFlag&6?en[en.indexOf(e)]=u:en.push(u)),u.patchFlag|=-2,u}if(Um(e)&&(e=e.__vccOpts),t){t=sd(t);let{class:u,style:i}=t;u&&!je(u)&&(t.class=ye(u)),Fe(i)&&(Th(i)&&!Ce(i)&&(i=rt({},i)),t.style=Ge(i))}const m=je(e)?1:em(e)?128:Am(e)?64:Fe(e)?4:xe(e)?2:0;return ie(e,t,n,r,s,m,p,!0)}function sd(e){return e?Th(e)||ao in e?rt({},e):e:null}function Mn(e,t,n=!1){const{props:r,ref:s,patchFlag:p,children:m}=e,u=t?Ct(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&id(u),ref:t&&t.ref?n&&s?Ce(s)?s.concat(ws(t)):[s,ws(t)]:ws(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:m,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Re?p===-1?16:p|16:p,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mn(e.ssContent),ssFallback:e.ssFallback&&Mn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Xi(e=" ",t=0){return ve(Qr,null,e,t)}function Fm(e,t){const n=ve(bs,null,e);return n.staticCount=t,n}function we(e="",t=!1){return t?(te(),Te(jt,null,e)):ve(jt,null,e)}function hn(e){return e==null||typeof e=="boolean"?ve(jt):Ce(e)?ve(Re,null,e.slice()):typeof e=="object"?Hn(e):ve(Qr,null,String(e))}function Hn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Mn(e)}function Pl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ce(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Pl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(ao in t)?t._ctx=gt:s===3&&gt&&(gt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xe(t)?(t={default:t,_ctx:gt},n=32):(t=String(t),r&64?(n=16,t=[Xi(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ct(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=ye([t.class,r.class]));else if(s==="style")t.style=Ge([t.style,r.style]);else if(Gs(s)){const p=t[s],m=r[s];m&&p!==m&&!(Ce(p)&&p.includes(m))&&(t[s]=p?[].concat(p,m):m)}else s!==""&&(t[s]=r[s])}return t}function fn(e,t,n,r=null){Wt(e,t,7,[n,r])}const Lm=qh();let Bm=0;function jm(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Lm,p={uid:Bm++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new hh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zh(r,s),emitsOptions:Ih(r,s),emit:null,emitted:null,propsDefaults:We,inheritAttrs:r.inheritAttrs,ctx:We,data:We,props:We,attrs:We,slots:We,refs:We,setupState:We,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=t?t.root:p,p.emit=Kv.bind(null,p),e.ce&&e.ce(p),p}let ct=null;const Dt=()=>ct||gt;let kl,wr,ru="__VUE_INSTANCE_SETTERS__";(wr=ba()[ru])||(wr=ba()[ru]=[]),wr.push(e=>ct=e),kl=e=>{wr.length>1?wr.forEach(t=>t(e)):wr[0](e)};const Fr=e=>{kl(e),e.scope.on()},fr=()=>{ct&&ct.scope.off(),kl(null)};function od(e){return e.vnode.shapeFlag&4}let Ii=!1;function Nm(e,t=!1){Ii=t;const{props:n,children:r}=e.vnode,s=od(e);Cm(e,n,s,t),Tm(e,r);const p=s?zm(e,t):void 0;return Ii=!1,p}function zm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Rs(new Proxy(e.ctx,pm));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?ld(e):null;Fr(e),qr();const p=Gn(r,e,0,[e.props,s]);if(Jr(),fr(),oh(p)){if(p.then(fr,fr),t)return p.then(m=>{iu(e,m,t)}).catch(m=>{eo(m,e,0)});e.asyncDep=p}else iu(e,p,t)}else ad(e,t)}function iu(e,t,n){xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Fe(t)&&(e.setupState=kh(t)),ad(e,n)}let su;function ad(e,t,n){const r=e.type;if(!e.render){if(!t&&su&&!r.render){const s=r.template||xl(e).template;if(s){const{isCustomElement:p,compilerOptions:m}=e.appContext.config,{delimiters:u,compilerOptions:i}=r,h=rt(rt({isCustomElement:p,delimiters:u},m),i);r.render=su(s,h)}}e.render=r.render||wt}Fr(e),qr(),gm(e),Jr(),fr()}function $m(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Rt(e,"get","$attrs"),t[n]}}))}function ld(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return $m(e)},slots:e.slots,emit:e.emit,expose:t}}function lo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(kh(Rs(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in mi)return mi[n](e)},has(t,n){return n in t||n in mi}}))}function Hm(e,t=!0){return xe(e)?e.displayName||e.name:e.name||t&&e.__name}function Um(e){return xe(e)&&"__vccOpts"in e}const re=(e,t)=>Hv(e,t,Ii);function Al(e,t,n){const r=arguments.length;return r===2?Fe(t)&&!Ce(t)?Ir(t)?ve(e,null,[t]):ve(e,t):ve(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ir(n)&&(n=[n]),ve(e,t,n))}const Wm=Symbol.for("v-scx"),Ym=()=>Pe(Wm),Xm="3.3.4",Vm="http://www.w3.org/2000/svg",ar=typeof document<"u"?document:null,ou=ar&&ar.createElement("template"),Gm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?ar.createElementNS(Vm,e):ar.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>ar.createTextNode(e),createComment:e=>ar.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ar.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,p){const m=n?n.previousSibling:t.lastChild;if(s&&(s===p||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===p||!(s=s.nextSibling)););else{ou.innerHTML=r?`<svg>${e}</svg>`:e;const u=ou.content;if(r){const i=u.firstChild;for(;i.firstChild;)u.appendChild(i.firstChild);u.removeChild(i)}t.insertBefore(u,n)}return[m?m.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Km(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function qm(e,t,n){const r=e.style,s=je(n);if(n&&!s){if(t&&!je(t))for(const p in t)n[p]==null&&Da(r,p,"");for(const p in n)Da(r,p,n[p])}else{const p=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=p)}}const au=/\s*!important$/;function Da(e,t,n){if(Ce(n))n.forEach(r=>Da(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Jm(e,t);au.test(n)?e.setProperty(Kr(r),n.replace(au,""),"important"):e[r]=n}}const lu=["Webkit","Moz","ms"],$o={};function Jm(e,t){const n=$o[t];if(n)return n;let r=nn(t);if(r!=="filter"&&r in e)return $o[t]=r;r=Js(r);for(let s=0;s<lu.length;s++){const p=lu[s]+r;if(p in e)return $o[t]=p}return t}const cu="http://www.w3.org/1999/xlink";function Zm(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(cu,t.slice(6,t.length)):e.setAttributeNS(cu,t,n);else{const p=sv(t);n==null||p&&!ch(n)?e.removeAttribute(t):e.setAttribute(t,p?"":n)}}function Qm(e,t,n,r,s,p,m){if(t==="innerHTML"||t==="textContent"){r&&m(r,s,p),e[t]=n??"";return}const u=e.tagName;if(t==="value"&&u!=="PROGRESS"&&!u.includes("-")){e._value=n;const h=u==="OPTION"?e.getAttribute("value"):e.value,f=n??"";h!==f&&(e.value=f),n==null&&e.removeAttribute(t);return}let i=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=ch(n):n==null&&h==="string"?(n="",i=!0):h==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(t)}function cd(e,t,n,r){e.addEventListener(t,n,r)}function e0(e,t,n,r){e.removeEventListener(t,n,r)}function t0(e,t,n,r,s=null){const p=e._vei||(e._vei={}),m=p[t];if(r&&m)m.value=r;else{const[u,i]=n0(t);if(r){const h=p[t]=s0(r,s);cd(e,u,h,i)}else m&&(e0(e,u,m,i),p[t]=void 0)}}const uu=/(?:Once|Passive|Capture)$/;function n0(e){let t;if(uu.test(e)){t={};let r;for(;r=e.match(uu);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Kr(e.slice(2)),t]}let Ho=0;const r0=Promise.resolve(),i0=()=>Ho||(r0.then(()=>Ho=0),Ho=Date.now());function s0(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Wt(o0(r,n.value),t,5,[r])};return n.value=e,n.attached=i0(),n}function o0(e,t){if(Ce(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const fu=/^on[a-z]/,a0=(e,t,n,r,s=!1,p,m,u,i)=>{t==="class"?Km(e,r,s):t==="style"?qm(e,n,r):Gs(t)?cl(t)||t0(e,t,n,r,m):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):l0(e,t,r,s))?Qm(e,t,r,p,m,u,i):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Zm(e,t,r,s))};function l0(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&fu.test(t)&&xe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||fu.test(t)&&je(n)?!1:t in e}const Ln="transition",oi="animation",yn=(e,{slots:t})=>Al(sm,c0(e),t);yn.displayName="Transition";const ud={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};yn.props=rt({},Bh,ud);const nr=(e,t=[])=>{Ce(e)?e.forEach(n=>n(...t)):e&&e(...t)},hu=e=>e?Ce(e)?e.some(t=>t.length>1):e.length>1:!1;function c0(e){const t={};for(const H in e)H in ud||(t[H]=e[H]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:p=`${n}-enter-from`,enterActiveClass:m=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:i=p,appearActiveClass:h=m,appearToClass:f=u,leaveFromClass:o=`${n}-leave-from`,leaveActiveClass:l=`${n}-leave-active`,leaveToClass:a=`${n}-leave-to`}=e,c=u0(s),g=c&&c[0],d=c&&c[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:b,onLeave:y,onLeaveCancelled:w,onBeforeAppear:C=v,onAppear:S=_,onAppearCancelled:T=b}=t,j=(H,Q,se)=>{rr(H,Q?f:u),rr(H,Q?h:m),se&&se()},W=(H,Q)=>{H._isLeaving=!1,rr(H,o),rr(H,a),rr(H,l),Q&&Q()},V=H=>(Q,se)=>{const le=H?S:_,ue=()=>j(Q,H,se);nr(le,[Q,ue]),du(()=>{rr(Q,H?i:p),Bn(Q,H?f:u),hu(le)||pu(Q,r,g,ue)})};return rt(t,{onBeforeEnter(H){nr(v,[H]),Bn(H,p),Bn(H,m)},onBeforeAppear(H){nr(C,[H]),Bn(H,i),Bn(H,h)},onEnter:V(!1),onAppear:V(!0),onLeave(H,Q){H._isLeaving=!0;const se=()=>W(H,Q);Bn(H,o),d0(),Bn(H,l),du(()=>{H._isLeaving&&(rr(H,o),Bn(H,a),hu(y)||pu(H,r,d,se))}),nr(y,[H,se])},onEnterCancelled(H){j(H,!1),nr(b,[H])},onAppearCancelled(H){j(H,!0),nr(T,[H])},onLeaveCancelled(H){W(H),nr(w,[H])}})}function u0(e){if(e==null)return null;if(Fe(e))return[Uo(e.enter),Uo(e.leave)];{const t=Uo(e);return[t,t]}}function Uo(e){return Zg(e)}function Bn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function rr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function du(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let f0=0;function pu(e,t,n,r){const s=e._endId=++f0,p=()=>{s===e._endId&&r()};if(n)return setTimeout(p,n);const{type:m,timeout:u,propCount:i}=h0(e,t);if(!m)return r();const h=m+"end";let f=0;const o=()=>{e.removeEventListener(h,l),p()},l=a=>{a.target===e&&++f>=i&&o()};setTimeout(()=>{f<i&&o()},u+1),e.addEventListener(h,l)}function h0(e,t){const n=window.getComputedStyle(e),r=c=>(n[c]||"").split(", "),s=r(`${Ln}Delay`),p=r(`${Ln}Duration`),m=gu(s,p),u=r(`${oi}Delay`),i=r(`${oi}Duration`),h=gu(u,i);let f=null,o=0,l=0;t===Ln?m>0&&(f=Ln,o=m,l=p.length):t===oi?h>0&&(f=oi,o=h,l=i.length):(o=Math.max(m,h),f=o>0?m>h?Ln:oi:null,l=f?f===Ln?p.length:i.length:0);const a=f===Ln&&/\b(transform|all)(,|$)/.test(r(`${Ln}Property`).toString());return{type:f,timeout:o,propCount:l,hasTransform:a}}function gu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>vu(n)+vu(e[r])))}function vu(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function d0(){return document.body.offsetHeight}const mu=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ce(t)?n=>ys(t,n):t},p0={deep:!0,created(e,t,n){e._assign=mu(n),cd(e,"change",()=>{const r=e._modelValue,s=g0(e),p=e.checked,m=e._assign;if(Ce(r)){const u=uh(r,s),i=u!==-1;if(p&&!i)m(r.concat(s));else if(!p&&i){const h=[...r];h.splice(u,1),m(h)}}else if(Ks(r)){const u=new Set(r);p?u.add(s):u.delete(s),m(u)}else m(fd(e,p))})},mounted:_u,beforeUpdate(e,t,n){e._assign=mu(n),_u(e,t,n)}};function _u(e,{value:t,oldValue:n},r){e._modelValue=t,Ce(t)?e.checked=uh(t,r.props.value)>-1:Ks(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Zs(t,fd(e,!0)))}function g0(e){return"_value"in e?e._value:e.value}function fd(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const v0=["ctrl","shift","alt","meta"],m0={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>v0.some(n=>e[`${n}Key`]&&!t.includes(n))},qn=(e,t)=>(n,...r)=>{for(let s=0;s<t.length;s++){const p=m0[t[s]];if(p&&p(n,t))return}return e(n,...r)},Tt={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ai(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ai(e,!0),r.enter(e)):r.leave(e,()=>{ai(e,!1)}):ai(e,t))},beforeUnmount(e,{value:t}){ai(e,t)}};function ai(e,t){e.style.display=t?e._vod:"none"}const _0=rt({patchProp:a0},Gm);let yu;function hd(){return yu||(yu=Em(_0))}const bu=(...e)=>{hd().render(...e)},y0=(...e)=>{const t=hd().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=b0(r);if(!s)return;const p=t._component;!xe(p)&&!p.render&&!p.template&&(p.template=s.innerHTML),s.innerHTML="";const m=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),m},t};function b0(e){return je(e)?document.querySelector(e):e}const mt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},w0={};function C0(e,t,n,r,s,p){const m=Ue("router-view");return te(),Te(m)}const S0=mt(w0,[["render",C0]]);function x0(){return dd().__VUE_DEVTOOLS_GLOBAL_HOOK__}function dd(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const T0=typeof Proxy=="function",O0="devtools-plugin:setup",E0="plugin:settings:set";let Cr,Ia;function P0(){var e;return Cr!==void 0||(typeof window<"u"&&window.performance?(Cr=!0,Ia=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(Cr=!0,Ia=global.perf_hooks.performance):Cr=!1),Cr}function k0(){return P0()?Ia.now():Date.now()}class A0{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const m in t.settings){const u=t.settings[m];r[m]=u.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let p=Object.assign({},r);try{const m=localStorage.getItem(s),u=JSON.parse(m);Object.assign(p,u)}catch{}this.fallbacks={getSettings(){return p},setSettings(m){try{localStorage.setItem(s,JSON.stringify(m))}catch{}p=m},now(){return k0()}},n&&n.on(E0,(m,u)=>{m===this.plugin.id&&this.fallbacks.setSettings(u)}),this.proxiedOn=new Proxy({},{get:(m,u)=>this.target?this.target.on[u]:(...i)=>{this.onQueue.push({method:u,args:i})}}),this.proxiedTarget=new Proxy({},{get:(m,u)=>this.target?this.target[u]:u==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(u)?(...i)=>(this.targetQueue.push({method:u,args:i,resolve:()=>{}}),this.fallbacks[u](...i)):(...i)=>new Promise(h=>{this.targetQueue.push({method:u,args:i,resolve:h})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function M0(e,t){const n=e,r=dd(),s=x0(),p=T0&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!p))s.emit(O0,e,t);else{const m=p?new A0(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:m}),m&&t(m.proxiedTarget)}}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Tr=typeof window<"u";function R0(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ze=Object.assign;function Wo(e,t){const n={};for(const r in t){const s=t[r];n[r]=rn(s)?s.map(e):e(s)}return n}const bi=()=>{},rn=Array.isArray,D0=/\/$/,I0=e=>e.replace(D0,"");function Yo(e,t,n="/"){let r,s={},p="",m="";const u=t.indexOf("#");let i=t.indexOf("?");return u<i&&u>=0&&(i=-1),i>-1&&(r=t.slice(0,i),p=t.slice(i+1,u>-1?u:t.length),s=e(p)),u>-1&&(r=r||t.slice(0,u),m=t.slice(u,t.length)),r=j0(r??t,n),{fullPath:r+(p&&"?")+p+m,path:r,query:s,hash:m}}function F0(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function wu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function L0(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Lr(t.matched[r],n.matched[s])&&pd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Lr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function pd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!B0(e[n],t[n]))return!1;return!0}function B0(e,t){return rn(e)?Cu(e,t):rn(t)?Cu(t,e):e===t}function Cu(e,t){return rn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function j0(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let p=n.length-1,m,u;for(m=0;m<r.length;m++)if(u=r[m],u!==".")if(u==="..")p>1&&p--;else break;return n.slice(0,p).join("/")+"/"+r.slice(m-(m===r.length?1:0)).join("/")}var Fi;(function(e){e.pop="pop",e.push="push"})(Fi||(Fi={}));var wi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(wi||(wi={}));function N0(e){if(!e)if(Tr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),I0(e)}const z0=/^[^#]+#/;function $0(e,t){return e.replace(z0,"#")+t}function H0(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const co=()=>({left:window.pageXOffset,top:window.pageYOffset});function U0(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=H0(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Su(e,t){return(history.state?history.state.position-t:-1)+e}const Fa=new Map;function W0(e,t){Fa.set(e,t)}function Y0(e){const t=Fa.get(e);return Fa.delete(e),t}let X0=()=>location.protocol+"//"+location.host;function gd(e,t){const{pathname:n,search:r,hash:s}=t,p=e.indexOf("#");if(p>-1){let u=s.includes(e.slice(p))?e.slice(p).length:1,i=s.slice(u);return i[0]!=="/"&&(i="/"+i),wu(i,"")}return wu(n,e)+r+s}function V0(e,t,n,r){let s=[],p=[],m=null;const u=({state:l})=>{const a=gd(e,location),c=n.value,g=t.value;let d=0;if(l){if(n.value=a,t.value=l,m&&m===c){m=null;return}d=g?l.position-g.position:0}else r(a);s.forEach(v=>{v(n.value,c,{delta:d,type:Fi.pop,direction:d?d>0?wi.forward:wi.back:wi.unknown})})};function i(){m=n.value}function h(l){s.push(l);const a=()=>{const c=s.indexOf(l);c>-1&&s.splice(c,1)};return p.push(a),a}function f(){const{history:l}=window;l.state&&l.replaceState(ze({},l.state,{scroll:co()}),"")}function o(){for(const l of p)l();p=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:i,listen:h,destroy:o}}function xu(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?co():null}}function G0(e){const{history:t,location:n}=window,r={value:gd(e,n)},s={value:t.state};s.value||p(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function p(i,h,f){const o=e.indexOf("#"),l=o>-1?(n.host&&document.querySelector("base")?e:e.slice(o))+i:X0()+e+i;try{t[f?"replaceState":"pushState"](h,"",l),s.value=h}catch(a){console.error(a),n[f?"replace":"assign"](l)}}function m(i,h){const f=ze({},t.state,xu(s.value.back,i,s.value.forward,!0),h,{position:s.value.position});p(i,f,!0),r.value=i}function u(i,h){const f=ze({},s.value,t.state,{forward:i,scroll:co()});p(f.current,f,!0);const o=ze({},xu(r.value,i,null),{position:f.position+1},h);p(i,o,!1),r.value=i}return{location:r,state:s,push:u,replace:m}}function K0(e){e=N0(e);const t=G0(e),n=V0(e,t.state,t.location,t.replace);function r(p,m=!0){m||n.pauseListeners(),history.go(p)}const s=ze({location:"",base:e,go:r,createHref:$0.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function q0(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),K0(e)}function J0(e){return typeof e=="string"||e&&typeof e=="object"}function vd(e){return typeof e=="string"||typeof e=="symbol"}const jn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},md=Symbol("");var Tu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Tu||(Tu={}));function Br(e,t){return ze(new Error,{type:e,[md]:!0},t)}function xn(e,t){return e instanceof Error&&md in e&&(t==null||!!(e.type&t))}const Ou="[^/]+?",Z0={sensitive:!1,strict:!1,start:!0,end:!0},Q0=/[.+*?^${}()[\]/\\]/g;function e_(e,t){const n=ze({},Z0,t),r=[];let s=n.start?"^":"";const p=[];for(const h of e){const f=h.length?[]:[90];n.strict&&!h.length&&(s+="/");for(let o=0;o<h.length;o++){const l=h[o];let a=40+(n.sensitive?.25:0);if(l.type===0)o||(s+="/"),s+=l.value.replace(Q0,"\\$&"),a+=40;else if(l.type===1){const{value:c,repeatable:g,optional:d,regexp:v}=l;p.push({name:c,repeatable:g,optional:d});const _=v||Ou;if(_!==Ou){a+=10;try{new RegExp(`(${_})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${c}" (${_}): `+y.message)}}let b=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;o||(b=d&&h.length<2?`(?:/${b})`:"/"+b),d&&(b+="?"),s+=b,a+=20,d&&(a+=-8),g&&(a+=-20),_===".*"&&(a+=-50)}f.push(a)}r.push(f)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const m=new RegExp(s,n.sensitive?"":"i");function u(h){const f=h.match(m),o={};if(!f)return null;for(let l=1;l<f.length;l++){const a=f[l]||"",c=p[l-1];o[c.name]=a&&c.repeatable?a.split("/"):a}return o}function i(h){let f="",o=!1;for(const l of e){(!o||!f.endsWith("/"))&&(f+="/"),o=!1;for(const a of l)if(a.type===0)f+=a.value;else if(a.type===1){const{value:c,repeatable:g,optional:d}=a,v=c in h?h[c]:"";if(rn(v)&&!g)throw new Error(`Provided param "${c}" is an array but it is not repeatable (* or + modifiers)`);const _=rn(v)?v.join("/"):v;if(!_)if(d)l.length<2&&(f.endsWith("/")?f=f.slice(0,-1):o=!0);else throw new Error(`Missing required param "${c}"`);f+=_}}return f||"/"}return{re:m,score:r,keys:p,parse:u,stringify:i}}function t_(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function n_(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const p=t_(r[n],s[n]);if(p)return p;n++}if(Math.abs(s.length-r.length)===1){if(Eu(r))return 1;if(Eu(s))return-1}return s.length-r.length}function Eu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const r_={type:0,value:""},i_=/[a-zA-Z0-9_]/;function s_(e){if(!e)return[[]];if(e==="/")return[[r_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(a){throw new Error(`ERR (${n})/"${h}": ${a}`)}let n=0,r=n;const s=[];let p;function m(){p&&s.push(p),p=[]}let u=0,i,h="",f="";function o(){h&&(n===0?p.push({type:0,value:h}):n===1||n===2||n===3?(p.length>1&&(i==="*"||i==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),p.push({type:1,value:h,regexp:f,repeatable:i==="*"||i==="+",optional:i==="*"||i==="?"})):t("Invalid state to consume buffer"),h="")}function l(){h+=i}for(;u<e.length;){if(i=e[u++],i==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:i==="/"?(h&&o(),m()):i===":"?(o(),n=1):l();break;case 4:l(),n=r;break;case 1:i==="("?n=2:i_.test(i)?l():(o(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&u--);break;case 2:i===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+i:n=3:f+=i;break;case 3:o(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&u--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),o(),m(),s}function o_(e,t,n){const r=e_(s_(e.path),n),s=ze(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function a_(e,t){const n=[],r=new Map;t=Au({strict:!1,end:!0,sensitive:!1},t);function s(f){return r.get(f)}function p(f,o,l){const a=!l,c=l_(f);c.aliasOf=l&&l.record;const g=Au(t,f),d=[c];if("alias"in f){const b=typeof f.alias=="string"?[f.alias]:f.alias;for(const y of b)d.push(ze({},c,{components:l?l.record.components:c.components,path:y,aliasOf:l?l.record:c}))}let v,_;for(const b of d){const{path:y}=b;if(o&&y[0]!=="/"){const w=o.record.path,C=w[w.length-1]==="/"?"":"/";b.path=o.record.path+(y&&C+y)}if(v=o_(b,o,g),l?l.alias.push(v):(_=_||v,_!==v&&_.alias.push(v),a&&f.name&&!ku(v)&&m(f.name)),c.children){const w=c.children;for(let C=0;C<w.length;C++)p(w[C],v,l&&l.children[C])}l=l||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&i(v)}return _?()=>{m(_)}:bi}function m(f){if(vd(f)){const o=r.get(f);o&&(r.delete(f),n.splice(n.indexOf(o),1),o.children.forEach(m),o.alias.forEach(m))}else{const o=n.indexOf(f);o>-1&&(n.splice(o,1),f.record.name&&r.delete(f.record.name),f.children.forEach(m),f.alias.forEach(m))}}function u(){return n}function i(f){let o=0;for(;o<n.length&&n_(f,n[o])>=0&&(f.record.path!==n[o].record.path||!_d(f,n[o]));)o++;n.splice(o,0,f),f.record.name&&!ku(f)&&r.set(f.record.name,f)}function h(f,o){let l,a={},c,g;if("name"in f&&f.name){if(l=r.get(f.name),!l)throw Br(1,{location:f});g=l.record.name,a=ze(Pu(o.params,l.keys.filter(_=>!_.optional).map(_=>_.name)),f.params&&Pu(f.params,l.keys.map(_=>_.name))),c=l.stringify(a)}else if("path"in f)c=f.path,l=n.find(_=>_.re.test(c)),l&&(a=l.parse(c),g=l.record.name);else{if(l=o.name?r.get(o.name):n.find(_=>_.re.test(o.path)),!l)throw Br(1,{location:f,currentLocation:o});g=l.record.name,a=ze({},o.params,f.params),c=l.stringify(a)}const d=[];let v=l;for(;v;)d.unshift(v.record),v=v.parent;return{name:g,path:c,params:a,matched:d,meta:u_(d)}}return e.forEach(f=>p(f)),{addRoute:p,resolve:h,removeRoute:m,getRoutes:u,getRecordMatcher:s}}function Pu(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function l_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:c_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function c_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function ku(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function u_(e){return e.reduce((t,n)=>ze(t,n.meta),{})}function Au(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function _d(e,t){return t.children.some(n=>n===e||_d(e,n))}const yd=/#/g,f_=/&/g,h_=/\//g,d_=/=/g,p_=/\?/g,bd=/\+/g,g_=/%5B/g,v_=/%5D/g,wd=/%5E/g,m_=/%60/g,Cd=/%7B/g,__=/%7C/g,Sd=/%7D/g,y_=/%20/g;function Ml(e){return encodeURI(""+e).replace(__,"|").replace(g_,"[").replace(v_,"]")}function b_(e){return Ml(e).replace(Cd,"{").replace(Sd,"}").replace(wd,"^")}function La(e){return Ml(e).replace(bd,"%2B").replace(y_,"+").replace(yd,"%23").replace(f_,"%26").replace(m_,"`").replace(Cd,"{").replace(Sd,"}").replace(wd,"^")}function w_(e){return La(e).replace(d_,"%3D")}function C_(e){return Ml(e).replace(yd,"%23").replace(p_,"%3F")}function S_(e){return e==null?"":C_(e).replace(h_,"%2F")}function Ls(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function x_(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const p=r[s].replace(bd," "),m=p.indexOf("="),u=Ls(m<0?p:p.slice(0,m)),i=m<0?null:Ls(p.slice(m+1));if(u in t){let h=t[u];rn(h)||(h=t[u]=[h]),h.push(i)}else t[u]=i}return t}function Mu(e){let t="";for(let n in e){const r=e[n];if(n=w_(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(rn(r)?r.map(p=>p&&La(p)):[r&&La(r)]).forEach(p=>{p!==void 0&&(t+=(t.length?"&":"")+n,p!=null&&(t+="="+p))})}return t}function T_(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=rn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const O_=Symbol(""),Ru=Symbol(""),Rl=Symbol(""),xd=Symbol(""),Ba=Symbol("");function li(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Un(e,t,n,r,s){const p=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((m,u)=>{const i=o=>{o===!1?u(Br(4,{from:n,to:t})):o instanceof Error?u(o):J0(o)?u(Br(2,{from:t,to:o})):(p&&r.enterCallbacks[s]===p&&typeof o=="function"&&p.push(o),m())},h=e.call(r&&r.instances[s],t,n,i);let f=Promise.resolve(h);e.length<3&&(f=f.then(i)),f.catch(o=>u(o))})}function Xo(e,t,n,r){const s=[];for(const p of e)for(const m in p.components){let u=p.components[m];if(!(t!=="beforeRouteEnter"&&!p.instances[m]))if(E_(u)){const h=(u.__vccOpts||u)[t];h&&s.push(Un(h,n,r,p,m))}else{let i=u();s.push(()=>i.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${m}" at "${p.path}"`));const f=R0(h)?h.default:h;p.components[m]=f;const l=(f.__vccOpts||f)[t];return l&&Un(l,n,r,p,m)()}))}}return s}function E_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Du(e){const t=Pe(Rl),n=Pe(xd),r=re(()=>t.resolve(A(e.to))),s=re(()=>{const{matched:i}=r.value,{length:h}=i,f=i[h-1],o=n.matched;if(!f||!o.length)return-1;const l=o.findIndex(Lr.bind(null,f));if(l>-1)return l;const a=Iu(i[h-2]);return h>1&&Iu(f)===a&&o[o.length-1].path!==a?o.findIndex(Lr.bind(null,i[h-2])):l}),p=re(()=>s.value>-1&&M_(n.params,r.value.params)),m=re(()=>s.value>-1&&s.value===n.matched.length-1&&pd(n.params,r.value.params));function u(i={}){return A_(i)?t[A(e.replace)?"replace":"push"](A(e.to)).catch(bi):Promise.resolve()}return{route:r,href:re(()=>r.value.href),isActive:p,isExactActive:m,navigate:u}}const P_=Oe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Du,setup(e,{slots:t}){const n=gr(Du(e)),{options:r}=Pe(Rl),s=re(()=>({[Fu(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Fu(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const p=t.default&&t.default(n);return e.custom?p:Al("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},p)}}}),k_=P_;function A_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function M_(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!rn(s)||s.length!==r.length||r.some((p,m)=>p!==s[m]))return!1}return!0}function Iu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Fu=(e,t,n)=>e??t??n,R_=Oe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Pe(Ba),s=re(()=>e.route||r.value),p=Pe(Ru,0),m=re(()=>{let h=A(p);const{matched:f}=s.value;let o;for(;(o=f[h])&&!o.components;)h++;return h}),u=re(()=>s.value.matched[m.value]);Ze(Ru,re(()=>m.value+1)),Ze(O_,u),Ze(Ba,s);const i=fe();return Ae(()=>[i.value,u.value,e.name],([h,f,o],[l,a,c])=>{f&&(f.instances[o]=h,a&&a!==f&&h&&h===l&&(f.leaveGuards.size||(f.leaveGuards=a.leaveGuards),f.updateGuards.size||(f.updateGuards=a.updateGuards))),h&&f&&(!a||!Lr(f,a)||!l)&&(f.enterCallbacks[o]||[]).forEach(g=>g(h))},{flush:"post"}),()=>{const h=s.value,f=e.name,o=u.value,l=o&&o.components[f];if(!l)return Lu(n.default,{Component:l,route:h});const a=o.props[f],c=a?a===!0?h.params:typeof a=="function"?a(h):a:null,d=Al(l,ze({},c,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(o.instances[f]=null)},ref:i}));return Lu(n.default,{Component:d,route:h})||d}}});function Lu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const D_=R_;function I_(e){const t=a_(e.routes,e),n=e.parseQuery||x_,r=e.stringifyQuery||Mu,s=e.history,p=li(),m=li(),u=li(),i=Pn(jn);let h=jn;Tr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Wo.bind(null,M=>""+M),o=Wo.bind(null,S_),l=Wo.bind(null,Ls);function a(M,L){let z,q;return vd(M)?(z=t.getRecordMatcher(M),q=L):q=M,t.addRoute(q,z)}function c(M){const L=t.getRecordMatcher(M);L&&t.removeRoute(L)}function g(){return t.getRoutes().map(M=>M.record)}function d(M){return!!t.getRecordMatcher(M)}function v(M,L){if(L=ze({},L||i.value),typeof M=="string"){const P=Yo(n,M,L.path),B=t.resolve({path:P.path},L),$=s.createHref(P.fullPath);return ze(P,B,{params:l(B.params),hash:Ls(P.hash),redirectedFrom:void 0,href:$})}let z;if("path"in M)z=ze({},M,{path:Yo(n,M.path,L.path).path});else{const P=ze({},M.params);for(const B in P)P[B]==null&&delete P[B];z=ze({},M,{params:o(P)}),L.params=o(L.params)}const q=t.resolve(z,L),oe=M.hash||"";q.params=f(l(q.params));const k=F0(r,ze({},M,{hash:b_(oe),path:q.path})),O=s.createHref(k);return ze({fullPath:k,hash:oe,query:r===Mu?T_(M.query):M.query||{}},q,{redirectedFrom:void 0,href:O})}function _(M){return typeof M=="string"?Yo(n,M,i.value.path):ze({},M)}function b(M,L){if(h!==M)return Br(8,{from:L,to:M})}function y(M){return S(M)}function w(M){return y(ze(_(M),{replace:!0}))}function C(M){const L=M.matched[M.matched.length-1];if(L&&L.redirect){const{redirect:z}=L;let q=typeof z=="function"?z(M):z;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=_(q):{path:q},q.params={}),ze({query:M.query,hash:M.hash,params:"path"in q?{}:M.params},q)}}function S(M,L){const z=h=v(M),q=i.value,oe=M.state,k=M.force,O=M.replace===!0,P=C(z);if(P)return S(ze(_(P),{state:typeof P=="object"?ze({},oe,P.state):oe,force:k,replace:O}),L||z);const B=z;B.redirectedFrom=L;let $;return!k&&L0(r,q,z)&&($=Br(16,{to:B,from:q}),F(q,q,!0,!1)),($?Promise.resolve($):W(B,q)).catch(N=>xn(N)?xn(N,2)?N:D(N):K(N,B,q)).then(N=>{if(N){if(xn(N,2))return S(ze({replace:O},_(N.to),{state:typeof N.to=="object"?ze({},oe,N.to.state):oe,force:k}),L||B)}else N=H(B,q,!0,O,oe);return V(B,q,N),N})}function T(M,L){const z=b(M,L);return z?Promise.reject(z):Promise.resolve()}function j(M){const L=R.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(M):M()}function W(M,L){let z;const[q,oe,k]=F_(M,L);z=Xo(q.reverse(),"beforeRouteLeave",M,L);for(const P of q)P.leaveGuards.forEach(B=>{z.push(Un(B,M,L))});const O=T.bind(null,M,L);return z.push(O),U(z).then(()=>{z=[];for(const P of p.list())z.push(Un(P,M,L));return z.push(O),U(z)}).then(()=>{z=Xo(oe,"beforeRouteUpdate",M,L);for(const P of oe)P.updateGuards.forEach(B=>{z.push(Un(B,M,L))});return z.push(O),U(z)}).then(()=>{z=[];for(const P of k)if(P.beforeEnter)if(rn(P.beforeEnter))for(const B of P.beforeEnter)z.push(Un(B,M,L));else z.push(Un(P.beforeEnter,M,L));return z.push(O),U(z)}).then(()=>(M.matched.forEach(P=>P.enterCallbacks={}),z=Xo(k,"beforeRouteEnter",M,L),z.push(O),U(z))).then(()=>{z=[];for(const P of m.list())z.push(Un(P,M,L));return z.push(O),U(z)}).catch(P=>xn(P,8)?P:Promise.reject(P))}function V(M,L,z){u.list().forEach(q=>j(()=>q(M,L,z)))}function H(M,L,z,q,oe){const k=b(M,L);if(k)return k;const O=L===jn,P=Tr?history.state:{};z&&(q||O?s.replace(M.fullPath,ze({scroll:O&&P&&P.scroll},oe)):s.push(M.fullPath,oe)),i.value=M,F(M,L,z,O),D()}let Q;function se(){Q||(Q=s.listen((M,L,z)=>{if(!E.listening)return;const q=v(M),oe=C(q);if(oe){S(ze(oe,{replace:!0}),q).catch(bi);return}h=q;const k=i.value;Tr&&W0(Su(k.fullPath,z.delta),co()),W(q,k).catch(O=>xn(O,12)?O:xn(O,2)?(S(O.to,q).then(P=>{xn(P,20)&&!z.delta&&z.type===Fi.pop&&s.go(-1,!1)}).catch(bi),Promise.reject()):(z.delta&&s.go(-z.delta,!1),K(O,q,k))).then(O=>{O=O||H(q,k,!1),O&&(z.delta&&!xn(O,8)?s.go(-z.delta,!1):z.type===Fi.pop&&xn(O,20)&&s.go(-1,!1)),V(q,k,O)}).catch(bi)}))}let le=li(),ue=li(),X;function K(M,L,z){D(M);const q=ue.list();return q.length?q.forEach(oe=>oe(M,L,z)):console.error(M),Promise.reject(M)}function x(){return X&&i.value!==jn?Promise.resolve():new Promise((M,L)=>{le.add([M,L])})}function D(M){return X||(X=!M,se(),le.list().forEach(([L,z])=>M?z(M):L()),le.reset()),M}function F(M,L,z,q){const{scrollBehavior:oe}=e;if(!Tr||!oe)return Promise.resolve();const k=!z&&Y0(Su(M.fullPath,0))||(q||!z)&&history.state&&history.state.scroll||null;return lt().then(()=>oe(M,L,k)).then(O=>O&&U0(O)).catch(O=>K(O,M,L))}const I=M=>s.go(M);let ee;const R=new Set,E={currentRoute:i,listening:!0,addRoute:a,removeRoute:c,hasRoute:d,getRoutes:g,resolve:v,options:e,push:y,replace:w,go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:p.add,beforeResolve:m.add,afterEach:u.add,onError:ue.add,isReady:x,install(M){const L=this;M.component("RouterLink",k_),M.component("RouterView",D_),M.config.globalProperties.$router=L,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>A(i)}),Tr&&!ee&&i.value===jn&&(ee=!0,y(s.location).catch(oe=>{}));const z={};for(const oe in jn)Object.defineProperty(z,oe,{get:()=>i.value[oe],enumerable:!0});M.provide(Rl,L),M.provide(xd,ml(z)),M.provide(Ba,i);const q=M.unmount;R.add(M),M.unmount=function(){R.delete(M),R.size<1&&(h=jn,Q&&Q(),Q=null,i.value=jn,ee=!1,X=!1),q()}}};function U(M){return M.reduce((L,z)=>L.then(()=>j(z)),Promise.resolve())}return E}function F_(e,t){const n=[],r=[],s=[],p=Math.max(t.matched.length,e.matched.length);for(let m=0;m<p;m++){const u=t.matched[m];u&&(e.matched.find(h=>Lr(h,u))?r.push(u):n.push(u));const i=e.matched[m];i&&(t.matched.find(h=>Lr(h,i))||s.push(i))}return[n,r,s]}const L_="/vue-design-editor/assets/module-close-b3f3c06c.svg";/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Td="store";function vr(e){return e===void 0&&(e=null),Pe(e!==null?e:Td)}function ei(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function B_(e){return e!==null&&typeof e=="object"}function j_(e){return e&&typeof e.then=="function"}function N_(e,t){return function(){return e(t)}}function Od(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function Ed(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;uo(e,n,[],e._modules.root,!0),Dl(e,n,t)}function Dl(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var p=e._wrappedGetters,m={},u={},i=dh(!0);i.run(function(){ei(p,function(h,f){m[f]=N_(h,e),u[f]=re(function(){return m[f]()}),Object.defineProperty(e.getters,f,{get:function(){return u[f].value},enumerable:!0})})}),e._state=gr({data:t}),e._scope=i,e.strict&&W_(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function uo(e,t,n,r,s){var p=!n.length,m=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[m],e._modulesNamespaceMap[m]=r),!p&&!s){var u=Il(t,n.slice(0,-1)),i=n[n.length-1];e._withCommit(function(){u[i]=r.state})}var h=r.context=z_(e,m,n);r.forEachMutation(function(f,o){var l=m+o;$_(e,l,f,h)}),r.forEachAction(function(f,o){var l=f.root?o:m+o,a=f.handler||f;H_(e,l,a,h)}),r.forEachGetter(function(f,o){var l=m+o;U_(e,l,f,h)}),r.forEachChild(function(f,o){uo(e,t,n.concat(o),f,s)})}function z_(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(p,m,u){var i=Bs(p,m,u),h=i.payload,f=i.options,o=i.type;return(!f||!f.root)&&(o=t+o),e.dispatch(o,h)},commit:r?e.commit:function(p,m,u){var i=Bs(p,m,u),h=i.payload,f=i.options,o=i.type;(!f||!f.root)&&(o=t+o),e.commit(o,h,f)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return Pd(e,t)}},state:{get:function(){return Il(e.state,n)}}}),s}function Pd(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var p=s.slice(r);Object.defineProperty(n,p,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function $_(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(m){n.call(e,r.state,m)})}function H_(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(m){var u=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},m);return j_(u)||(u=Promise.resolve(u)),e._devtoolHook?u.catch(function(i){throw e._devtoolHook.emit("vuex:error",i),i}):u})}function U_(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(p){return n(r.state,r.getters,p.state,p.getters)})}function W_(e){Ae(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Il(e,t){return t.reduce(function(n,r){return n[r]},e)}function Bs(e,t,n){return B_(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var Y_="vuex bindings",Bu="vuex:mutations",Vo="vuex:actions",Sr="vuex",X_=0;function V_(e,t){M0({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Y_]},function(n){n.addTimelineLayer({id:Bu,label:"Vuex Mutations",color:ju}),n.addTimelineLayer({id:Vo,label:"Vuex Actions",color:ju}),n.addInspector({id:Sr,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===Sr)if(r.filter){var s=[];Rd(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[Md(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===Sr){var s=r.nodeId;Pd(t,s),r.state=q_(Z_(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===Sr){var s=r.nodeId,p=r.path;s!=="root"&&(p=s.split("/").filter(Boolean).concat(p)),t._withCommit(function(){r.set(t._state.data,p,r.state.value)})}}),t.subscribe(function(r,s){var p={};r.payload&&(p.payload=r.payload),p.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Sr),n.sendInspectorState(Sr),n.addTimelineEvent({layerId:Bu,event:{time:Date.now(),title:r.type,data:p}})}),t.subscribeAction({before:function(r,s){var p={};r.payload&&(p.payload=r.payload),r._id=X_++,r._time=Date.now(),p.state=s,n.addTimelineEvent({layerId:Vo,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:p}})},after:function(r,s){var p={},m=Date.now()-r._time;p.duration={_custom:{type:"duration",display:m+"ms",tooltip:"Action duration",value:m}},r.payload&&(p.payload=r.payload),p.state=s,n.addTimelineEvent({layerId:Vo,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:p}})}})})}var ju=8702998,G_=6710886,K_=16777215,kd={label:"namespaced",textColor:K_,backgroundColor:G_};function Ad(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function Md(e,t){return{id:t||"root",label:Ad(t),tags:e.namespaced?[kd]:[],children:Object.keys(e._children).map(function(n){return Md(e._children[n],t+n+"/")})}}function Rd(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[kd]:[]}),Object.keys(t._children).forEach(function(s){Rd(e,t._children[s],n,r+s+"/")})}function q_(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(m){return{key:m,editable:!0,value:e.state[m]}})};if(r.length){var p=J_(t);s.getters=Object.keys(p).map(function(m){return{key:m.endsWith("/")?Ad(m):m,editable:!1,value:ja(function(){return p[m]})}})}return s}function J_(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,p=r.pop();r.forEach(function(m){s[m]||(s[m]={_custom:{value:{},display:m,tooltip:"Module",abstract:!0}}),s=s[m]._custom.value}),s[p]=ja(function(){return e[n]})}else t[n]=ja(function(){return e[n]})}),t}function Z_(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,p){var m=r[s];if(!m)throw new Error('Missing module "'+s+'" for path "'+t+'".');return p===n.length-1?m:m._children},t==="root"?e:e.root._children)}function ja(e){try{return e()}catch(t){return t}}var sn=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},Dd={namespaced:{configurable:!0}};Dd.namespaced.get=function(){return!!this._rawModule.namespaced};sn.prototype.addChild=function(t,n){this._children[t]=n};sn.prototype.removeChild=function(t){delete this._children[t]};sn.prototype.getChild=function(t){return this._children[t]};sn.prototype.hasChild=function(t){return t in this._children};sn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};sn.prototype.forEachChild=function(t){ei(this._children,t)};sn.prototype.forEachGetter=function(t){this._rawModule.getters&&ei(this._rawModule.getters,t)};sn.prototype.forEachAction=function(t){this._rawModule.actions&&ei(this._rawModule.actions,t)};sn.prototype.forEachMutation=function(t){this._rawModule.mutations&&ei(this._rawModule.mutations,t)};Object.defineProperties(sn.prototype,Dd);var mr=function(t){this.register([],t,!1)};mr.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};mr.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};mr.prototype.update=function(t){Id([],this.root,t)};mr.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var p=new sn(n,r);if(t.length===0)this.root=p;else{var m=this.get(t.slice(0,-1));m.addChild(t[t.length-1],p)}n.modules&&ei(n.modules,function(u,i){s.register(t.concat(i),u,r)})};mr.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};mr.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function Id(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;Id(e.concat(r),t.getChild(r),n.modules[r])}}function Q_(e){return new It(e)}var It=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var p=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new mr(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=p;var m=this,u=this,i=u.dispatch,h=u.commit;this.dispatch=function(l,a){return i.call(m,l,a)},this.commit=function(l,a,c){return h.call(m,l,a,c)},this.strict=s;var f=this._modules.root.state;uo(this,f,[],this._modules.root),Dl(this,f),r.forEach(function(o){return o(n)})},Fl={state:{configurable:!0}};It.prototype.install=function(t,n){t.provide(n||Td,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&V_(t,this)};Fl.state.get=function(){return this._state.data};Fl.state.set=function(e){};It.prototype.commit=function(t,n,r){var s=this,p=Bs(t,n,r),m=p.type,u=p.payload,i={type:m,payload:u},h=this._mutations[m];h&&(this._withCommit(function(){h.forEach(function(o){o(u)})}),this._subscribers.slice().forEach(function(f){return f(i,s.state)}))};It.prototype.dispatch=function(t,n){var r=this,s=Bs(t,n),p=s.type,m=s.payload,u={type:p,payload:m},i=this._actions[p];if(i){try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(u,r.state)})}catch{}var h=i.length>1?Promise.all(i.map(function(f){return f(m)})):i[0](m);return new Promise(function(f,o){h.then(function(l){try{r._actionSubscribers.filter(function(a){return a.after}).forEach(function(a){return a.after(u,r.state)})}catch{}f(l)},function(l){try{r._actionSubscribers.filter(function(a){return a.error}).forEach(function(a){return a.error(u,r.state,l)})}catch{}o(l)})})}};It.prototype.subscribe=function(t,n){return Od(t,this._subscribers,n)};It.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return Od(r,this._actionSubscribers,n)};It.prototype.watch=function(t,n,r){var s=this;return Ae(function(){return t(s.state,s.getters)},n,Object.assign({},r))};It.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};It.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),uo(this,this.state,t,this._modules.get(t),r.preserveState),Dl(this,this.state)};It.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=Il(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),Ed(this)};It.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};It.prototype.hotUpdate=function(t){this._modules.update(t),Ed(this,!0)};It.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(It.prototype,Fl);const ey={class:"material-editor-header"},ty={class:"material-editor-content"},ny={class:"material-editor-framework-left"},Go=313,Ko=265,qo=72,ry=Oe({__name:"Framework",setup(e){const{state:t,commit:n}=vr(),r=fe(),s=fe({module:qo,left:Go,center:window.document.body.clientWidth-Go-Ko-qo,right:Ko}),p=re(()=>t.activeModule),m=re(()=>t.isClose),u=re(()=>p.value&&!p.value.drag&&JSON.stringify(p.value)!="{}");Ke(()=>{s.value.center=r.value.offsetWidth-Go-Ko-qo});function i(f){n("setClose",f)}async function h(){i(!0),n("setActiveModule",null)}return(f,o)=>{const l=Ue("el-tooltip");return te(),he("div",{class:"material-editor",ref_key:"editor",ref:r},[ie("div",ey,[Ee(f.$slots,"header",{},void 0,!0)]),ie("div",ty,[ie("div",{class:"material-editor-framework-module",style:Ge(`width:${s.value.module}px`)},[Ee(f.$slots,"module",{},void 0,!0)],4),ie("div",{class:ye(["material-editor-framework--collapsed",[!u.value||m.value?"material-editor-framework-transition":""]]),style:Ge({width:`${s.value.left}px`,"--width":-s.value.left+"px"})},[ie("div",ny,[Ee(f.$slots,"left",{},void 0,!0)]),ve(l,{class:"item",effect:"dark",content:"",placement:"right"},{default:_e(()=>[pt(ie("img",{src:L_,class:"material-editor-framework-close",onClick:h,alt:""},null,512),[[Tt,s.value.left!=0&&!m.value]])]),_:1})],6),ie("div",{class:"material-editor-framework-center",style:Ge(`width:${s.value.center}px`)},[Ee(f.$slots,"navlist",{},void 0,!0),Ee(f.$slots,"workspace",{},void 0,!0)],4),ie("div",{class:"material-editor-framework-right",style:Ge(`width:${s.value.right}px`)},[Ee(f.$slots,"color",{},void 0,!0),Ee(f.$slots,"propsPanel",{},void 0,!0)],4)])],512)}}});const iy=mt(ry,[["__scopeId","data-v-755bb6ef"]]),sy=[{type:"add",text:"",drag:!1,icon:"icon-tianjia"},{type:"template",text:"",drag:!1,icon:"icon-templet-"},{type:"material",text:"",drag:!1,show:!0,icon:"icon-xingzhuang",fileType:["jpg","png","gif","svg"]},{type:"text",text:"",drag:!1,icon:"icon-text",options:{type:"FontCustom",text:"",width:60,height:30,fontSize:32,name:"New text"}},{type:"Image",text:"",drag:!1,icon:"icon-editor-background",fileType:["jpg","png","gif","svg"]},{type:"Video",text:"",drag:!1,icon:"icon-shipinbofang",fileType:["mp4"]},{type:"qrcode",text:"",drag:!1,icon:"icon-erweima1"}];const oy={setup(){const e=fe(sy),{state:t,commit:n}=vr(),r=re(()=>t.activeModule),s=re(()=>t.isClose);function p(u){n("setClose",u)}function m(u){n("setActiveModule",u)}return e.value.find(u=>{u.show&&(m(u),p(!1))}),{modulelist:e,activeModule:r,isClose:s,setActiveModule:m,selectModule(u){r.value&&u.type==r.value.type&&!u.drag?(p(!s.value),m(null)):(["text","qrcode"].includes(u.type)?p(!0):p(!1),m(u))}}}},ay={class:"module-aside-body"},ly=["onClick"];function cy(e,t,n,r,s,p){return te(),he("div",ay,[(te(!0),he(Re,null,dt(r.modulelist,(m,u)=>(te(),he("button",{class:ye(["module-aside-button",r.activeModule&&r.activeModule.type==m.type?"actived":""]),key:u,onClick:i=>r.selectModule(m)},[ie("i",{class:ye([m.icon,"iconfont"])},null,2),ie("span",null,$e(m.text),1)],10,ly))),128))])}const uy=mt(oy,[["render",cy],["__scopeId","data-v-5f6581ef"]]),fy=[{type:"image",title:"//psd",list:[{type:"upload",icon:"/src/assets/upload.svg",title:""}]},{type:"text",title:"",list:[{type:"h1",icon:"/src/assets/h1.svg",title:""},{type:"h2",icon:"/src/assets/h2.svg",title:""},{type:"Aa",icon:"/src/assets/Aa.svg",title:""},{type:"Aa",icon:"/src/assets/3d.svg",title:"3D"}]},{type:"shape",title:"",list:[{type:"square",icon:"/src/assets/square.svg"},{type:"triangle",icon:"/src/assets/triangle.svg"},{type:"circle",icon:"/src/assets/circle.svg"},{type:"line",icon:"/src/assets/line.svg"}]},{type:"component",title:"",list:[{type:"qrcode",icon:"/src/assets/qrcode.svg",title:""}]}],hy=[{title:"",interval:[460,489]},{title:"",interval:[386,409]},{title:"",interval:[410,459]},{title:"",interval:[40,49]},{title:"icons"},{title:"",interval:[50,75]},{title:"",interval:[76,89]},{title:"",interval:[89,136]},{title:"",interval:[137,151]},{title:"",interval:[152,181]},{title:"",interval:[182,201]},{title:"",interval:[202,222]},{title:"",interval:[223,252]},{title:"",interval:[253,261]},{title:"",interval:[262,270]},{title:"",interval:[271,300]},{title:"",interval:[301,350]},{title:"",interval:[351,385]},{title:"",interval:[490,519]}];/*! Element Plus Icons Vue v2.1.0 */var et=(e,t)=>{let n=e.__vccOpts||e;for(let[r,s]of t)n[r]=s;return n},dy={name:"ArrowDown"},py={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gy=ie("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),vy=[gy];function my(e,t,n,r,s,p){return te(),he("svg",py,vy)}var Ll=et(dy,[["render",my],["__file","arrow-down.vue"]]),_y={name:"ArrowLeft"},yy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},by=ie("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),wy=[by];function Cy(e,t,n,r,s,p){return te(),he("svg",yy,wy)}var Fd=et(_y,[["render",Cy],["__file","arrow-left.vue"]]),Sy={name:"ArrowRight"},xy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ty=ie("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),Oy=[Ty];function Ey(e,t,n,r,s,p){return te(),he("svg",xy,Oy)}var Py=et(Sy,[["render",Ey],["__file","arrow-right.vue"]]),ky={name:"ArrowUp"},Ay={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},My=ie("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),Ry=[My];function Dy(e,t,n,r,s,p){return te(),he("svg",Ay,Ry)}var Iy=et(ky,[["render",Dy],["__file","arrow-up.vue"]]),Fy={name:"CircleCheck"},Ly={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},By=ie("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),jy=ie("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),Ny=[By,jy];function zy(e,t,n,r,s,p){return te(),he("svg",Ly,Ny)}var $y=et(Fy,[["render",zy],["__file","circle-check.vue"]]),Hy={name:"CircleCloseFilled"},Uy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Wy=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),Yy=[Wy];function Xy(e,t,n,r,s,p){return te(),he("svg",Uy,Yy)}var Ld=et(Hy,[["render",Xy],["__file","circle-close-filled.vue"]]),Vy={name:"CircleClose"},Gy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ky=ie("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),qy=ie("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Jy=[Ky,qy];function Zy(e,t,n,r,s,p){return te(),he("svg",Gy,Jy)}var Bd=et(Vy,[["render",Zy],["__file","circle-close.vue"]]),Qy={name:"Close"},eb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tb=ie("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),nb=[tb];function rb(e,t,n,r,s,p){return te(),he("svg",eb,nb)}var jd=et(Qy,[["render",rb],["__file","close.vue"]]),ib={name:"FullScreen"},sb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ob=ie("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),ab=[ob];function lb(e,t,n,r,s,p){return te(),he("svg",sb,ab)}var cb=et(ib,[["render",lb],["__file","full-screen.vue"]]),ub={name:"Hide"},fb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hb=ie("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),db=ie("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),pb=[hb,db];function gb(e,t,n,r,s,p){return te(),he("svg",fb,pb)}var vb=et(ub,[["render",gb],["__file","hide.vue"]]),mb={name:"InfoFilled"},_b={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yb=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),bb=[yb];function wb(e,t,n,r,s,p){return te(),he("svg",_b,bb)}var Nd=et(mb,[["render",wb],["__file","info-filled.vue"]]),Cb={name:"Loading"},Sb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xb=ie("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),Tb=[xb];function Ob(e,t,n,r,s,p){return te(),he("svg",Sb,Tb)}var zd=et(Cb,[["render",Ob],["__file","loading.vue"]]),Eb={name:"RefreshLeft"},Pb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},kb=ie("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),Ab=[kb];function Mb(e,t,n,r,s,p){return te(),he("svg",Pb,Ab)}var Rb=et(Eb,[["render",Mb],["__file","refresh-left.vue"]]),Db={name:"RefreshRight"},Ib={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Fb=ie("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),Lb=[Fb];function Bb(e,t,n,r,s,p){return te(),he("svg",Ib,Lb)}var jb=et(Db,[["render",Bb],["__file","refresh-right.vue"]]),Nb={name:"ScaleToOriginal"},zb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$b=ie("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),Hb=[$b];function Ub(e,t,n,r,s,p){return te(),he("svg",zb,Hb)}var Wb=et(Nb,[["render",Ub],["__file","scale-to-original.vue"]]),Yb={name:"Select"},Xb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Vb=ie("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"},null,-1),Gb=[Vb];function Kb(e,t,n,r,s,p){return te(),he("svg",Xb,Gb)}var Jo=et(Yb,[["render",Kb],["__file","select.vue"]]),qb={name:"SuccessFilled"},Jb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Zb=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),Qb=[Zb];function ew(e,t,n,r,s,p){return te(),he("svg",Jb,Qb)}var $d=et(qb,[["render",ew],["__file","success-filled.vue"]]),tw={name:"View"},nw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},rw=ie("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),iw=[rw];function sw(e,t,n,r,s,p){return te(),he("svg",nw,iw)}var ow=et(tw,[["render",sw],["__file","view.vue"]]),aw={name:"WarningFilled"},lw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cw=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),uw=[cw];function fw(e,t,n,r,s,p){return te(),he("svg",lw,uw)}var Hd=et(aw,[["render",fw],["__file","warning-filled.vue"]]),hw={name:"ZoomIn"},dw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},pw=ie("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),gw=[pw];function vw(e,t,n,r,s,p){return te(),he("svg",dw,gw)}var mw=et(hw,[["render",vw],["__file","zoom-in.vue"]]),_w={name:"ZoomOut"},yw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bw=ie("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),ww=[bw];function Cw(e,t,n,r,s,p){return te(),he("svg",yw,ww)}var Sw=et(_w,[["render",Cw],["__file","zoom-out.vue"]]);const xw={class:"panel-block__header"},Tw={class:"panel-block__header-title"},Ow={class:"panel-block__header-action"},Ew={__name:"panel-block",props:{title:String,subTitle:String},emits:["change"],setup(e,{emit:t}){function n(){t("change")}return(r,s)=>(te(),he("div",xw,[ie("div",Tw,$e(e.title),1),ie("div",Ow,[ie("span",{onClick:n},[Ee(r.$slots,"default",{},()=>[Xi($e(e.subTitle),1)],!0)])])]))}},Pw=mt(Ew,[["__scopeId","data-v-2e948f55"]]);const kw={props:{list:{type:Array,required:!0},column:{type:Number,default:4},height:{type:Number,default:225}},data(){return{itemWidth:0,columnData:[]}},watch:{list(){this.renderList()}},mounted(){this.renderList(),window.addEventListener("resize",this.renderList)},methods:{renderList(){this.row||(this.columnData=[],this.itemWidth=`${100/this.column}%`,this.$refs.container&&this.$nextTick(()=>{const e=this.$refs.container.getElementsByClassName("column-item");for(let t=0;t<e.length;t++)this.setElementStyle(e[t],this.list[t],t)}))},setElementStyle(e,t,n){const s=(this.$refs.container.offsetWidth/this.column-6)/t.width*t.height+6;if(n<this.column)e.style.left=`${n*(100/this.column)}%`,this.columnData[n]=this.columnData[n]?this.columnData[n]+s:s;else{let p={};for(let m=0;m<this.columnData.length;m++)Object.prototype.hasOwnProperty.call(p,"index")?this.columnData[m]<p.value&&(p={index:m,value:this.columnData[m]}):p={index:m,value:this.columnData[m]};e.style.left=`${p.index*(100/this.column)}%`,e.style.top=`${p.value}px`,this.columnData[p.index]+=s}e.style.width=this.itemWidth}}},Aw={class:ye({"waterfall-wrap":!0}),ref:"container"};function Mw(e,t,n,r,s,p){return te(),he("div",Aw,[(te(!0),he(Re,null,dt(n.list,(m,u)=>(te(),he("div",{key:u,class:"column-item"},[Ee(e.$slots,"default",{item:m},void 0,!0)]))),128))],512)}const Rw=mt(kw,[["render",Mw],["__scopeId","data-v-61d1b56b"]]),nt=(e,t,{checkForDefaultPrevented:n=!0}={})=>s=>{const p=e==null?void 0:e(s);if(n===!1||!p)return t==null?void 0:t(s)},Nu=e=>t=>t.pointerType==="mouse"?e(t):void 0;var zu;const Xe=typeof window<"u",Dw=e=>typeof e=="string",js=()=>{},Iw=Xe&&((zu=window==null?void 0:window.navigator)==null?void 0:zu.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function fo(e){return typeof e=="function"?e():A(e)}function Fw(e,t){function n(...r){return new Promise((s,p)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(p)})}return n}function Lw(e,t=!0,n=!0,r=!1){let s=0,p,m=!0,u=js,i;const h=()=>{p&&(clearTimeout(p),p=void 0,u(),u=js)};return o=>{const l=fo(e),a=Date.now()-s,c=()=>i=o();return h(),l<=0?(s=Date.now(),c()):(a>l&&(n||!m)?(s=Date.now(),c()):t&&(i=new Promise((g,d)=>{u=r?d:g,p=setTimeout(()=>{s=Date.now(),m=!0,g(c()),h()},Math.max(0,l-a))})),!n&&!p&&(p=setTimeout(()=>m=!0,l)),m=!1,i)}}function Bw(e){return e}function ho(e){return ph()?(lv(e),!0):!1}function jw(e,t=200,n=!1,r=!0,s=!1){return Fw(Lw(t,n,r,s),e)}function Nw(e,t=!0){Dt()?Ke(e):t?e():lt(e)}function zw(e,t,n={}){const{immediate:r=!0}=n,s=fe(!1);let p=null;function m(){p&&(clearTimeout(p),p=null)}function u(){s.value=!1,m()}function i(...h){m(),s.value=!0,p=setTimeout(()=>{s.value=!1,p=null,e(...h)},fo(t))}return r&&(s.value=!0,Xe&&i()),ho(u),{isPending:Yi(s),start:i,stop:u}}function Yn(e){var t;const n=fo(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Bl=Xe?window:void 0;function Ot(...e){let t,n,r,s;if(Dw(e[0])||Array.isArray(e[0])?([n,r,s]=e,t=Bl):[t,n,r,s]=e,!t)return js;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const p=[],m=()=>{p.forEach(f=>f()),p.length=0},u=(f,o,l,a)=>(f.addEventListener(o,l,a),()=>f.removeEventListener(o,l,a)),i=Ae(()=>[Yn(t),fo(s)],([f,o])=>{m(),f&&p.push(...n.flatMap(l=>r.map(a=>u(f,l,a,o))))},{immediate:!0,flush:"post"}),h=()=>{i(),m()};return ho(h),h}let $u=!1;function $w(e,t,n={}){const{window:r=Bl,ignore:s=[],capture:p=!0,detectIframe:m=!1}=n;if(!r)return;Iw&&!$u&&($u=!0,Array.from(r.document.body.children).forEach(l=>l.addEventListener("click",js)));let u=!0;const i=l=>s.some(a=>{if(typeof a=="string")return Array.from(r.document.querySelectorAll(a)).some(c=>c===l.target||l.composedPath().includes(c));{const c=Yn(a);return c&&(l.target===c||l.composedPath().includes(c))}}),f=[Ot(r,"click",l=>{const a=Yn(e);if(!(!a||a===l.target||l.composedPath().includes(a))){if(l.detail===0&&(u=!i(l)),!u){u=!0;return}t(l)}},{passive:!0,capture:p}),Ot(r,"pointerdown",l=>{const a=Yn(e);a&&(u=!l.composedPath().includes(a)&&!i(l))},{passive:!0}),m&&Ot(r,"blur",l=>{var a;const c=Yn(e);((a=r.document.activeElement)==null?void 0:a.tagName)==="IFRAME"&&!(c!=null&&c.contains(r.document.activeElement))&&t(l)})].filter(Boolean);return()=>f.forEach(l=>l())}function Hw(e,t=!1){const n=fe(),r=()=>n.value=!!e();return r(),Nw(r,t),n}const Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Uu="__vueuse_ssr_handlers__";Hu[Uu]=Hu[Uu]||{};var Wu=Object.getOwnPropertySymbols,Uw=Object.prototype.hasOwnProperty,Ww=Object.prototype.propertyIsEnumerable,Yw=(e,t)=>{var n={};for(var r in e)Uw.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Wu)for(var r of Wu(e))t.indexOf(r)<0&&Ww.call(e,r)&&(n[r]=e[r]);return n};function jl(e,t,n={}){const r=n,{window:s=Bl}=r,p=Yw(r,["window"]);let m;const u=Hw(()=>s&&"ResizeObserver"in s),i=()=>{m&&(m.disconnect(),m=void 0)},h=Ae(()=>Yn(e),o=>{i(),u.value&&s&&o&&(m=new ResizeObserver(t),m.observe(o,p))},{immediate:!0,flush:"post"}),f=()=>{i(),h()};return ho(f),{isSupported:u,stop:f}}var Yu;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Yu||(Yu={}));var Xw=Object.defineProperty,Xu=Object.getOwnPropertySymbols,Vw=Object.prototype.hasOwnProperty,Gw=Object.prototype.propertyIsEnumerable,Vu=(e,t,n)=>t in e?Xw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kw=(e,t)=>{for(var n in t||(t={}))Vw.call(t,n)&&Vu(e,n,t[n]);if(Xu)for(var n of Xu(t))Gw.call(t,n)&&Vu(e,n,t[n]);return e};const qw={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Kw({linear:Bw},qw);const Jw=()=>Xe&&/firefox/i.test(window.navigator.userAgent),Zw=(e,t)=>{if(!Xe||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right};var Qw=typeof global=="object"&&global&&global.Object===Object&&global;const e1=Qw;var t1=typeof self=="object"&&self&&self.Object===Object&&self,n1=e1||t1||Function("return this")();const po=n1;var r1=po.Symbol;const jr=r1;var Ud=Object.prototype,i1=Ud.hasOwnProperty,s1=Ud.toString,ci=jr?jr.toStringTag:void 0;function o1(e){var t=i1.call(e,ci),n=e[ci];try{e[ci]=void 0;var r=!0}catch{}var s=s1.call(e);return r&&(t?e[ci]=n:delete e[ci]),s}var a1=Object.prototype,l1=a1.toString;function c1(e){return l1.call(e)}var u1="[object Null]",f1="[object Undefined]",Gu=jr?jr.toStringTag:void 0;function Wd(e){return e==null?e===void 0?f1:u1:Gu&&Gu in Object(e)?o1(e):c1(e)}function h1(e){return e!=null&&typeof e=="object"}var d1="[object Symbol]";function go(e){return typeof e=="symbol"||h1(e)&&Wd(e)==d1}function p1(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var g1=Array.isArray;const vo=g1;var v1=1/0,Ku=jr?jr.prototype:void 0,qu=Ku?Ku.toString:void 0;function Yd(e){if(typeof e=="string")return e;if(vo(e))return p1(e,Yd)+"";if(go(e))return qu?qu.call(e):"";var t=e+"";return t=="0"&&1/e==-v1?"-0":t}var m1=/\s/;function _1(e){for(var t=e.length;t--&&m1.test(e.charAt(t)););return t}var y1=/^\s+/;function b1(e){return e&&e.slice(0,_1(e)+1).replace(y1,"")}function Nr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ju=0/0,w1=/^[-+]0x[0-9a-f]+$/i,C1=/^0b[01]+$/i,S1=/^0o[0-7]+$/i,x1=parseInt;function Zu(e){if(typeof e=="number")return e;if(go(e))return Ju;if(Nr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Nr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=b1(e);var n=C1.test(e);return n||S1.test(e)?x1(e.slice(2),n?2:8):w1.test(e)?Ju:+e}var T1="[object AsyncFunction]",O1="[object Function]",E1="[object GeneratorFunction]",P1="[object Proxy]";function k1(e){if(!Nr(e))return!1;var t=Wd(e);return t==O1||t==E1||t==T1||t==P1}var A1=po["__core-js_shared__"];const Zo=A1;var Qu=function(){var e=/[^.]+$/.exec(Zo&&Zo.keys&&Zo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function M1(e){return!!Qu&&Qu in e}var R1=Function.prototype,D1=R1.toString;function I1(e){if(e!=null){try{return D1.call(e)}catch{}try{return e+""}catch{}}return""}var F1=/[\\^$.*+?()[\]{}|]/g,L1=/^\[object .+?Constructor\]$/,B1=Function.prototype,j1=Object.prototype,N1=B1.toString,z1=j1.hasOwnProperty,$1=RegExp("^"+N1.call(z1).replace(F1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function H1(e){if(!Nr(e)||M1(e))return!1;var t=k1(e)?$1:L1;return t.test(I1(e))}function U1(e,t){return e==null?void 0:e[t]}function Xd(e,t){var n=U1(e,t);return H1(n)?n:void 0}function W1(e,t){return e===t||e!==e&&t!==t}var Y1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X1=/^\w*$/;function V1(e,t){if(vo(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||go(e)?!0:X1.test(e)||!Y1.test(e)||t!=null&&e in Object(t)}var G1=Xd(Object,"create");const Li=G1;function K1(){this.__data__=Li?Li(null):{},this.size=0}function q1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var J1="__lodash_hash_undefined__",Z1=Object.prototype,Q1=Z1.hasOwnProperty;function eC(e){var t=this.__data__;if(Li){var n=t[e];return n===J1?void 0:n}return Q1.call(t,e)?t[e]:void 0}var tC=Object.prototype,nC=tC.hasOwnProperty;function rC(e){var t=this.__data__;return Li?t[e]!==void 0:nC.call(t,e)}var iC="__lodash_hash_undefined__";function sC(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Li&&t===void 0?iC:t,this}function dr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}dr.prototype.clear=K1;dr.prototype.delete=q1;dr.prototype.get=eC;dr.prototype.has=rC;dr.prototype.set=sC;function oC(){this.__data__=[],this.size=0}function mo(e,t){for(var n=e.length;n--;)if(W1(e[n][0],t))return n;return-1}var aC=Array.prototype,lC=aC.splice;function cC(e){var t=this.__data__,n=mo(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():lC.call(t,n,1),--this.size,!0}function uC(e){var t=this.__data__,n=mo(t,e);return n<0?void 0:t[n][1]}function fC(e){return mo(this.__data__,e)>-1}function hC(e,t){var n=this.__data__,r=mo(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ti(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ti.prototype.clear=oC;ti.prototype.delete=cC;ti.prototype.get=uC;ti.prototype.has=fC;ti.prototype.set=hC;var dC=Xd(po,"Map");const pC=dC;function gC(){this.size=0,this.__data__={hash:new dr,map:new(pC||ti),string:new dr}}function vC(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function _o(e,t){var n=e.__data__;return vC(t)?n[typeof t=="string"?"string":"hash"]:n.map}function mC(e){var t=_o(this,e).delete(e);return this.size-=t?1:0,t}function _C(e){return _o(this,e).get(e)}function yC(e){return _o(this,e).has(e)}function bC(e,t){var n=_o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function _r(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_r.prototype.clear=gC;_r.prototype.delete=mC;_r.prototype.get=_C;_r.prototype.has=yC;_r.prototype.set=bC;var wC="Expected a function";function Nl(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(wC);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],p=n.cache;if(p.has(s))return p.get(s);var m=e.apply(this,r);return n.cache=p.set(s,m)||p,m};return n.cache=new(Nl.Cache||_r),n}Nl.Cache=_r;var CC=500;function SC(e){var t=Nl(e,function(r){return n.size===CC&&n.clear(),r}),n=t.cache;return t}var xC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,TC=/\\(\\)?/g,OC=SC(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xC,function(n,r,s,p){t.push(s?p.replace(TC,"$1"):r||n)}),t});const EC=OC;function PC(e){return e==null?"":Yd(e)}function kC(e,t){return vo(e)?e:V1(e,t)?[e]:EC(PC(e))}var AC=1/0;function MC(e){if(typeof e=="string"||go(e))return e;var t=e+"";return t=="0"&&1/e==-AC?"-0":t}function RC(e,t){t=kC(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[MC(t[n++])];return n&&n==r?e:void 0}function DC(e,t,n){var r=e==null?void 0:RC(e,t);return r===void 0?n:r}function IC(){if(!arguments.length)return[];var e=arguments[0];return vo(e)?e:[e]}var FC=function(){return po.Date.now()};const Qo=FC;var LC="Expected a function",BC=Math.max,jC=Math.min;function NC(e,t,n){var r,s,p,m,u,i,h=0,f=!1,o=!1,l=!0;if(typeof e!="function")throw new TypeError(LC);t=Zu(t)||0,Nr(n)&&(f=!!n.leading,o="maxWait"in n,p=o?BC(Zu(n.maxWait)||0,t):p,l="trailing"in n?!!n.trailing:l);function a(C){var S=r,T=s;return r=s=void 0,h=C,m=e.apply(T,S),m}function c(C){return h=C,u=setTimeout(v,t),f?a(C):m}function g(C){var S=C-i,T=C-h,j=t-S;return o?jC(j,p-T):j}function d(C){var S=C-i,T=C-h;return i===void 0||S>=t||S<0||o&&T>=p}function v(){var C=Qo();if(d(C))return _(C);u=setTimeout(v,g(C))}function _(C){return u=void 0,l&&r?a(C):(r=s=void 0,m)}function b(){u!==void 0&&clearTimeout(u),h=0,r=i=s=u=void 0}function y(){return u===void 0?m:_(Qo())}function w(){var C=Qo(),S=d(C);if(r=arguments,s=this,i=C,S){if(u===void 0)return c(i);if(o)return clearTimeout(u),u=setTimeout(v,t),a(i)}return u===void 0&&(u=setTimeout(v,t)),m}return w.cancel=b,w.flush=y,w}function Ns(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function yo(e){return e==null}function zC(e){return e===void 0}var $C="Expected a function";function Cs(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError($C);return Nr(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),NC(e,t,{leading:r,maxWait:t,trailing:s})}const HC=e=>e===void 0,zl=e=>typeof e=="boolean",at=e=>typeof e=="number",zr=e=>typeof Element>"u"?!1:e instanceof Element,UC=e=>je(e)?!Number.isNaN(Number(e)):!1,Na=e=>Object.keys(e);class WC extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function YC(e,t){throw new WC(`[${e}] ${t}`)}const XC=(e,t)=>{var n;if(!Xe||!e||!t)return"";let r=nn(t);r==="float"&&(r="cssFloat");try{const s=e.style[r];if(s)return s;const p=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return p?p[r]:""}catch{return e.style[r]}};function Bi(e,t="px"){if(!e)return"";if(at(e)||UC(e))return`${e}${t}`;if(je(e))return e}const VC=(e,t)=>{if(!Xe)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=XC(e,n);return["scroll","auto","overlay"].some(s=>r.includes(s))},GC=(e,t)=>{if(!Xe)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(VC(n,t))return n;n=n.parentNode}return n},Vd="__epPropKey",Me=e=>e,KC=e=>Fe(e)&&!!e[Vd],bo=(e,t)=>{if(!Fe(e)||KC(e))return e;const{values:n,required:r,default:s,type:p,validator:m}=e,i={type:p,required:!!r,validator:n||m?h=>{let f=!1,o=[];if(n&&(o=Array.from(n),De(e,"default")&&o.push(s),f||(f=o.includes(h))),m&&(f||(f=m(h))),!f&&o.length>0){const l=[...new Set(o)].map(a=>JSON.stringify(a)).join(", ");Uv(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${l}], got value ${JSON.stringify(h)}.`)}return f}:void 0,[Vd]:!0};return De(e,"default")&&(i.default=s),i},Ve=e=>Ns(Object.entries(e).map(([t,n])=>[t,bo(n,t)])),$r=Me([String,Object,Function]),qC={Close:jd,SuccessFilled:$d,InfoFilled:Nd,WarningFilled:Hd,CircleCloseFilled:Ld},ef={success:$d,warning:Hd,error:Ld,info:Nd},JC={validating:zd,success:$y,error:Bd},on=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},ZC=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),QC=(e,t)=>(e.install=n=>{n.directive(t,e)},e),$l=e=>(e.install=wt,e),Gd=(...e)=>t=>{e.forEach(n=>{xe(n)?n(t):n.value=t})},Be={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},za="update:modelValue",eS=["","default","small","large"],tS=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),wo=e=>e,nS=["class","style"],rS=/^on[A-Z]/,Kd=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=re(()=>((n==null?void 0:n.value)||[]).concat(nS)),s=Dt();return re(s?()=>{var p;return Ns(Object.entries((p=s.proxy)==null?void 0:p.$attrs).filter(([m])=>!r.value.includes(m)&&!(t&&rS.test(m))))}:()=>({}))},iS=({from:e,replacement:t,scope:n,version:r,ref:s,type:p="API"},m)=>{Ae(()=>A(m),u=>{},{immediate:!0})};var sS={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const oS=e=>(t,n)=>aS(t,n,A(e)),aS=(e,t,n)=>DC(n,e,e).replace(/\{(\w+)\}/g,(r,s)=>{var p;return`${(p=t==null?void 0:t[s])!=null?p:`{${s}}`}`}),lS=e=>{const t=re(()=>A(e).name),n=ot(e)?e:fe(e);return{lang:t,locale:n,t:oS(e)}},qd=Symbol("localeContextKey"),Co=e=>{const t=e||Pe(qd,fe());return lS(re(()=>t.value||sS))},Ss="el",cS="is-",ir=(e,t,n,r,s)=>{let p=`${e}-${t}`;return n&&(p+=`-${n}`),r&&(p+=`__${r}`),s&&(p+=`--${s}`),p},Jd=Symbol("namespaceContextKey"),Hl=e=>{const t=e||(Dt()?Pe(Jd,fe(Ss)):fe(Ss));return re(()=>A(t)||Ss)},Qe=(e,t)=>{const n=Hl(t);return{namespace:n,b:(g="")=>ir(n.value,e,g,"",""),e:g=>g?ir(n.value,e,"",g,""):"",m:g=>g?ir(n.value,e,"","",g):"",be:(g,d)=>g&&d?ir(n.value,e,g,d,""):"",em:(g,d)=>g&&d?ir(n.value,e,"",g,d):"",bm:(g,d)=>g&&d?ir(n.value,e,g,"",d):"",bem:(g,d,v)=>g&&d&&v?ir(n.value,e,g,d,v):"",is:(g,...d)=>{const v=d.length>=1?d[0]:!0;return g&&v?`${cS}${g}`:""},cssVar:g=>{const d={};for(const v in g)g[v]&&(d[`--${n.value}-${v}`]=g[v]);return d},cssVarName:g=>`--${n.value}-${g}`,cssVarBlock:g=>{const d={};for(const v in g)g[v]&&(d[`--${n.value}-${e}-${v}`]=g[v]);return d},cssVarBlockName:g=>`--${n.value}-${e}-${g}`}},uS=bo({type:Me(Boolean),default:null}),fS=bo({type:Me(Function)}),Zd=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],s={[e]:uS,[n]:fS};return{useModelToggle:({indicator:m,toggleReason:u,shouldHideWhenRouteChanges:i,shouldProceed:h,onShow:f,onHide:o})=>{const l=Dt(),{emit:a}=l,c=l.props,g=re(()=>xe(c[n])),d=re(()=>c[e]===null),v=S=>{m.value!==!0&&(m.value=!0,u&&(u.value=S),xe(f)&&f(S))},_=S=>{m.value!==!1&&(m.value=!1,u&&(u.value=S),xe(o)&&o(S))},b=S=>{if(c.disabled===!0||xe(h)&&!h())return;const T=g.value&&Xe;T&&a(t,!0),(d.value||!T)&&v(S)},y=S=>{if(c.disabled===!0||!Xe)return;const T=g.value&&Xe;T&&a(t,!1),(d.value||!T)&&_(S)},w=S=>{zl(S)&&(c.disabled&&S?g.value&&a(t,!1):m.value!==S&&(S?v():_()))},C=()=>{m.value?y():b()};return Ae(()=>c[e],w),i&&l.appContext.config.globalProperties.$route!==void 0&&Ae(()=>({...l.proxy.$route}),()=>{i.value&&m.value&&y()}),Ke(()=>{w(c[e])}),{hide:y,show:b,toggle:C,hasUpdateHandler:g}},useModelToggleProps:s,useModelToggleEmits:r}};Zd("modelValue");const Qd=e=>{const t=Dt();return re(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})};var At="top",Vt="bottom",Gt="right",Mt="left",Ul="auto",Vi=[At,Vt,Gt,Mt],Hr="start",ji="end",hS="clippingParents",ep="viewport",ui="popper",dS="reference",tf=Vi.reduce(function(e,t){return e.concat([t+"-"+Hr,t+"-"+ji])},[]),Wl=[].concat(Vi,[Ul]).reduce(function(e,t){return e.concat([t,t+"-"+Hr,t+"-"+ji])},[]),pS="beforeRead",gS="read",vS="afterRead",mS="beforeMain",_S="main",yS="afterMain",bS="beforeWrite",wS="write",CS="afterWrite",SS=[pS,gS,vS,mS,_S,yS,bS,wS,CS];function mn(e){return e?(e.nodeName||"").toLowerCase():null}function an(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ur(e){var t=an(e).Element;return e instanceof t||e instanceof Element}function Yt(e){var t=an(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Yl(e){if(typeof ShadowRoot>"u")return!1;var t=an(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function xS(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},p=t.elements[n];!Yt(p)||!mn(p)||(Object.assign(p.style,r),Object.keys(s).forEach(function(m){var u=s[m];u===!1?p.removeAttribute(m):p.setAttribute(m,u===!0?"":u)}))})}function TS(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],p=t.attributes[r]||{},m=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),u=m.reduce(function(i,h){return i[h]="",i},{});!Yt(s)||!mn(s)||(Object.assign(s.style,u),Object.keys(p).forEach(function(i){s.removeAttribute(i)}))})}}var tp={name:"applyStyles",enabled:!0,phase:"write",fn:xS,effect:TS,requires:["computeStyles"]};function vn(e){return e.split("-")[0]}var hr=Math.max,zs=Math.min,Wr=Math.round;function Yr(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,s=1;if(Yt(e)&&t){var p=e.offsetHeight,m=e.offsetWidth;m>0&&(r=Wr(n.width)/m||1),p>0&&(s=Wr(n.height)/p||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function Xl(e){var t=Yr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function np(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Yl(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Rn(e){return an(e).getComputedStyle(e)}function OS(e){return["table","td","th"].indexOf(mn(e))>=0}function Jn(e){return((Ur(e)?e.ownerDocument:e.document)||window.document).documentElement}function So(e){return mn(e)==="html"?e:e.assignedSlot||e.parentNode||(Yl(e)?e.host:null)||Jn(e)}function nf(e){return!Yt(e)||Rn(e).position==="fixed"?null:e.offsetParent}function ES(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Yt(e)){var r=Rn(e);if(r.position==="fixed")return null}var s=So(e);for(Yl(s)&&(s=s.host);Yt(s)&&["html","body"].indexOf(mn(s))<0;){var p=Rn(s);if(p.transform!=="none"||p.perspective!=="none"||p.contain==="paint"||["transform","perspective"].indexOf(p.willChange)!==-1||t&&p.willChange==="filter"||t&&p.filter&&p.filter!=="none")return s;s=s.parentNode}return null}function Gi(e){for(var t=an(e),n=nf(e);n&&OS(n)&&Rn(n).position==="static";)n=nf(n);return n&&(mn(n)==="html"||mn(n)==="body"&&Rn(n).position==="static")?t:n||ES(e)||t}function Vl(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ci(e,t,n){return hr(e,zs(t,n))}function PS(e,t,n){var r=Ci(e,t,n);return r>n?n:r}function rp(){return{top:0,right:0,bottom:0,left:0}}function ip(e){return Object.assign({},rp(),e)}function sp(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var kS=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,ip(typeof e!="number"?e:sp(e,Vi))};function AS(e){var t,n=e.state,r=e.name,s=e.options,p=n.elements.arrow,m=n.modifiersData.popperOffsets,u=vn(n.placement),i=Vl(u),h=[Mt,Gt].indexOf(u)>=0,f=h?"height":"width";if(!(!p||!m)){var o=kS(s.padding,n),l=Xl(p),a=i==="y"?At:Mt,c=i==="y"?Vt:Gt,g=n.rects.reference[f]+n.rects.reference[i]-m[i]-n.rects.popper[f],d=m[i]-n.rects.reference[i],v=Gi(p),_=v?i==="y"?v.clientHeight||0:v.clientWidth||0:0,b=g/2-d/2,y=o[a],w=_-l[f]-o[c],C=_/2-l[f]/2+b,S=Ci(y,C,w),T=i;n.modifiersData[r]=(t={},t[T]=S,t.centerOffset=S-C,t)}}function MS(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!np(t.elements.popper,s)||(t.elements.arrow=s))}var RS={name:"arrow",enabled:!0,phase:"main",fn:AS,effect:MS,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xr(e){return e.split("-")[1]}var DS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function IS(e){var t=e.x,n=e.y,r=window,s=r.devicePixelRatio||1;return{x:Wr(t*s)/s||0,y:Wr(n*s)/s||0}}function rf(e){var t,n=e.popper,r=e.popperRect,s=e.placement,p=e.variation,m=e.offsets,u=e.position,i=e.gpuAcceleration,h=e.adaptive,f=e.roundOffsets,o=e.isFixed,l=m.x,a=l===void 0?0:l,c=m.y,g=c===void 0?0:c,d=typeof f=="function"?f({x:a,y:g}):{x:a,y:g};a=d.x,g=d.y;var v=m.hasOwnProperty("x"),_=m.hasOwnProperty("y"),b=Mt,y=At,w=window;if(h){var C=Gi(n),S="clientHeight",T="clientWidth";if(C===an(n)&&(C=Jn(n),Rn(C).position!=="static"&&u==="absolute"&&(S="scrollHeight",T="scrollWidth")),C=C,s===At||(s===Mt||s===Gt)&&p===ji){y=Vt;var j=o&&C===w&&w.visualViewport?w.visualViewport.height:C[S];g-=j-r.height,g*=i?1:-1}if(s===Mt||(s===At||s===Vt)&&p===ji){b=Gt;var W=o&&C===w&&w.visualViewport?w.visualViewport.width:C[T];a-=W-r.width,a*=i?1:-1}}var V=Object.assign({position:u},h&&DS),H=f===!0?IS({x:a,y:g}):{x:a,y:g};if(a=H.x,g=H.y,i){var Q;return Object.assign({},V,(Q={},Q[y]=_?"0":"",Q[b]=v?"0":"",Q.transform=(w.devicePixelRatio||1)<=1?"translate("+a+"px, "+g+"px)":"translate3d("+a+"px, "+g+"px, 0)",Q))}return Object.assign({},V,(t={},t[y]=_?g+"px":"",t[b]=v?a+"px":"",t.transform="",t))}function FS(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,p=n.adaptive,m=p===void 0?!0:p,u=n.roundOffsets,i=u===void 0?!0:u,h={placement:vn(t.placement),variation:Xr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,rf(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:m,roundOffsets:i})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,rf(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var op={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:FS,data:{}},ls={passive:!0};function LS(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,p=s===void 0?!0:s,m=r.resize,u=m===void 0?!0:m,i=an(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return p&&h.forEach(function(f){f.addEventListener("scroll",n.update,ls)}),u&&i.addEventListener("resize",n.update,ls),function(){p&&h.forEach(function(f){f.removeEventListener("scroll",n.update,ls)}),u&&i.removeEventListener("resize",n.update,ls)}}var ap={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:LS,data:{}},BS={left:"right",right:"left",bottom:"top",top:"bottom"};function xs(e){return e.replace(/left|right|bottom|top/g,function(t){return BS[t]})}var jS={start:"end",end:"start"};function sf(e){return e.replace(/start|end/g,function(t){return jS[t]})}function Gl(e){var t=an(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Kl(e){return Yr(Jn(e)).left+Gl(e).scrollLeft}function NS(e){var t=an(e),n=Jn(e),r=t.visualViewport,s=n.clientWidth,p=n.clientHeight,m=0,u=0;return r&&(s=r.width,p=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(m=r.offsetLeft,u=r.offsetTop)),{width:s,height:p,x:m+Kl(e),y:u}}function zS(e){var t,n=Jn(e),r=Gl(e),s=(t=e.ownerDocument)==null?void 0:t.body,p=hr(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),m=hr(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),u=-r.scrollLeft+Kl(e),i=-r.scrollTop;return Rn(s||n).direction==="rtl"&&(u+=hr(n.clientWidth,s?s.clientWidth:0)-p),{width:p,height:m,x:u,y:i}}function ql(e){var t=Rn(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function lp(e){return["html","body","#document"].indexOf(mn(e))>=0?e.ownerDocument.body:Yt(e)&&ql(e)?e:lp(So(e))}function Si(e,t){var n;t===void 0&&(t=[]);var r=lp(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),p=an(r),m=s?[p].concat(p.visualViewport||[],ql(r)?r:[]):r,u=t.concat(m);return s?u:u.concat(Si(So(m)))}function $a(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function $S(e){var t=Yr(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function of(e,t){return t===ep?$a(NS(e)):Ur(t)?$S(t):$a(zS(Jn(e)))}function HS(e){var t=Si(So(e)),n=["absolute","fixed"].indexOf(Rn(e).position)>=0,r=n&&Yt(e)?Gi(e):e;return Ur(r)?t.filter(function(s){return Ur(s)&&np(s,r)&&mn(s)!=="body"}):[]}function US(e,t,n){var r=t==="clippingParents"?HS(e):[].concat(t),s=[].concat(r,[n]),p=s[0],m=s.reduce(function(u,i){var h=of(e,i);return u.top=hr(h.top,u.top),u.right=zs(h.right,u.right),u.bottom=zs(h.bottom,u.bottom),u.left=hr(h.left,u.left),u},of(e,p));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function cp(e){var t=e.reference,n=e.element,r=e.placement,s=r?vn(r):null,p=r?Xr(r):null,m=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,i;switch(s){case At:i={x:m,y:t.y-n.height};break;case Vt:i={x:m,y:t.y+t.height};break;case Gt:i={x:t.x+t.width,y:u};break;case Mt:i={x:t.x-n.width,y:u};break;default:i={x:t.x,y:t.y}}var h=s?Vl(s):null;if(h!=null){var f=h==="y"?"height":"width";switch(p){case Hr:i[h]=i[h]-(t[f]/2-n[f]/2);break;case ji:i[h]=i[h]+(t[f]/2-n[f]/2);break}}return i}function Ni(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,p=n.boundary,m=p===void 0?hS:p,u=n.rootBoundary,i=u===void 0?ep:u,h=n.elementContext,f=h===void 0?ui:h,o=n.altBoundary,l=o===void 0?!1:o,a=n.padding,c=a===void 0?0:a,g=ip(typeof c!="number"?c:sp(c,Vi)),d=f===ui?dS:ui,v=e.rects.popper,_=e.elements[l?d:f],b=US(Ur(_)?_:_.contextElement||Jn(e.elements.popper),m,i),y=Yr(e.elements.reference),w=cp({reference:y,element:v,strategy:"absolute",placement:s}),C=$a(Object.assign({},v,w)),S=f===ui?C:y,T={top:b.top-S.top+g.top,bottom:S.bottom-b.bottom+g.bottom,left:b.left-S.left+g.left,right:S.right-b.right+g.right},j=e.modifiersData.offset;if(f===ui&&j){var W=j[s];Object.keys(T).forEach(function(V){var H=[Gt,Vt].indexOf(V)>=0?1:-1,Q=[At,Vt].indexOf(V)>=0?"y":"x";T[V]+=W[Q]*H})}return T}function WS(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,p=n.rootBoundary,m=n.padding,u=n.flipVariations,i=n.allowedAutoPlacements,h=i===void 0?Wl:i,f=Xr(r),o=f?u?tf:tf.filter(function(c){return Xr(c)===f}):Vi,l=o.filter(function(c){return h.indexOf(c)>=0});l.length===0&&(l=o);var a=l.reduce(function(c,g){return c[g]=Ni(e,{placement:g,boundary:s,rootBoundary:p,padding:m})[vn(g)],c},{});return Object.keys(a).sort(function(c,g){return a[c]-a[g]})}function YS(e){if(vn(e)===Ul)return[];var t=xs(e);return[sf(e),t,sf(t)]}function XS(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,p=s===void 0?!0:s,m=n.altAxis,u=m===void 0?!0:m,i=n.fallbackPlacements,h=n.padding,f=n.boundary,o=n.rootBoundary,l=n.altBoundary,a=n.flipVariations,c=a===void 0?!0:a,g=n.allowedAutoPlacements,d=t.options.placement,v=vn(d),_=v===d,b=i||(_||!c?[xs(d)]:YS(d)),y=[d].concat(b).reduce(function(R,E){return R.concat(vn(E)===Ul?WS(t,{placement:E,boundary:f,rootBoundary:o,padding:h,flipVariations:c,allowedAutoPlacements:g}):E)},[]),w=t.rects.reference,C=t.rects.popper,S=new Map,T=!0,j=y[0],W=0;W<y.length;W++){var V=y[W],H=vn(V),Q=Xr(V)===Hr,se=[At,Vt].indexOf(H)>=0,le=se?"width":"height",ue=Ni(t,{placement:V,boundary:f,rootBoundary:o,altBoundary:l,padding:h}),X=se?Q?Gt:Mt:Q?Vt:At;w[le]>C[le]&&(X=xs(X));var K=xs(X),x=[];if(p&&x.push(ue[H]<=0),u&&x.push(ue[X]<=0,ue[K]<=0),x.every(function(R){return R})){j=V,T=!1;break}S.set(V,x)}if(T)for(var D=c?3:1,F=function(R){var E=y.find(function(U){var M=S.get(U);if(M)return M.slice(0,R).every(function(L){return L})});if(E)return j=E,"break"},I=D;I>0;I--){var ee=F(I);if(ee==="break")break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}}var VS={name:"flip",enabled:!0,phase:"main",fn:XS,requiresIfExists:["offset"],data:{_skip:!1}};function af(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function lf(e){return[At,Gt,Vt,Mt].some(function(t){return e[t]>=0})}function GS(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,p=t.modifiersData.preventOverflow,m=Ni(t,{elementContext:"reference"}),u=Ni(t,{altBoundary:!0}),i=af(m,r),h=af(u,s,p),f=lf(i),o=lf(h);t.modifiersData[n]={referenceClippingOffsets:i,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:o},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":o})}var KS={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:GS};function qS(e,t,n){var r=vn(e),s=[Mt,At].indexOf(r)>=0?-1:1,p=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,m=p[0],u=p[1];return m=m||0,u=(u||0)*s,[Mt,Gt].indexOf(r)>=0?{x:u,y:m}:{x:m,y:u}}function JS(e){var t=e.state,n=e.options,r=e.name,s=n.offset,p=s===void 0?[0,0]:s,m=Wl.reduce(function(f,o){return f[o]=qS(o,t.rects,p),f},{}),u=m[t.placement],i=u.x,h=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=m}var ZS={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:JS};function QS(e){var t=e.state,n=e.name;t.modifiersData[n]=cp({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var up={name:"popperOffsets",enabled:!0,phase:"read",fn:QS,data:{}};function ex(e){return e==="x"?"y":"x"}function tx(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,p=s===void 0?!0:s,m=n.altAxis,u=m===void 0?!1:m,i=n.boundary,h=n.rootBoundary,f=n.altBoundary,o=n.padding,l=n.tether,a=l===void 0?!0:l,c=n.tetherOffset,g=c===void 0?0:c,d=Ni(t,{boundary:i,rootBoundary:h,padding:o,altBoundary:f}),v=vn(t.placement),_=Xr(t.placement),b=!_,y=Vl(v),w=ex(y),C=t.modifiersData.popperOffsets,S=t.rects.reference,T=t.rects.popper,j=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,W=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,H={x:0,y:0};if(C){if(p){var Q,se=y==="y"?At:Mt,le=y==="y"?Vt:Gt,ue=y==="y"?"height":"width",X=C[y],K=X+d[se],x=X-d[le],D=a?-T[ue]/2:0,F=_===Hr?S[ue]:T[ue],I=_===Hr?-T[ue]:-S[ue],ee=t.elements.arrow,R=a&&ee?Xl(ee):{width:0,height:0},E=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:rp(),U=E[se],M=E[le],L=Ci(0,S[ue],R[ue]),z=b?S[ue]/2-D-L-U-W.mainAxis:F-L-U-W.mainAxis,q=b?-S[ue]/2+D+L+M+W.mainAxis:I+L+M+W.mainAxis,oe=t.elements.arrow&&Gi(t.elements.arrow),k=oe?y==="y"?oe.clientTop||0:oe.clientLeft||0:0,O=(Q=V==null?void 0:V[y])!=null?Q:0,P=X+z-O-k,B=X+q-O,$=Ci(a?zs(K,P):K,X,a?hr(x,B):x);C[y]=$,H[y]=$-X}if(u){var N,Y=y==="x"?At:Mt,J=y==="x"?Vt:Gt,ae=C[w],ne=w==="y"?"height":"width",G=ae+d[Y],ce=ae-d[J],pe=[At,Mt].indexOf(v)!==-1,Z=(N=V==null?void 0:V[w])!=null?N:0,ge=pe?G:ae-S[ne]-T[ne]-Z+W.altAxis,me=pe?ae+S[ne]+T[ne]-Z-W.altAxis:ce,be=a&&pe?PS(ge,ae,me):Ci(a?ge:G,ae,a?me:ce);C[w]=be,H[w]=be-ae}t.modifiersData[r]=H}}var nx={name:"preventOverflow",enabled:!0,phase:"main",fn:tx,requiresIfExists:["offset"]};function rx(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ix(e){return e===an(e)||!Yt(e)?Gl(e):rx(e)}function sx(e){var t=e.getBoundingClientRect(),n=Wr(t.width)/e.offsetWidth||1,r=Wr(t.height)/e.offsetHeight||1;return n!==1||r!==1}function ox(e,t,n){n===void 0&&(n=!1);var r=Yt(t),s=Yt(t)&&sx(t),p=Jn(t),m=Yr(e,s),u={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(r||!r&&!n)&&((mn(t)!=="body"||ql(p))&&(u=ix(t)),Yt(t)?(i=Yr(t,!0),i.x+=t.clientLeft,i.y+=t.clientTop):p&&(i.x=Kl(p))),{x:m.left+u.scrollLeft-i.x,y:m.top+u.scrollTop-i.y,width:m.width,height:m.height}}function ax(e){var t=new Map,n=new Set,r=[];e.forEach(function(p){t.set(p.name,p)});function s(p){n.add(p.name);var m=[].concat(p.requires||[],p.requiresIfExists||[]);m.forEach(function(u){if(!n.has(u)){var i=t.get(u);i&&s(i)}}),r.push(p)}return e.forEach(function(p){n.has(p.name)||s(p)}),r}function lx(e){var t=ax(e);return SS.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function cx(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function ux(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var cf={placement:"bottom",modifiers:[],strategy:"absolute"};function uf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Jl(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,p=s===void 0?cf:s;return function(m,u,i){i===void 0&&(i=p);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},cf,p),modifiersData:{},elements:{reference:m,popper:u},attributes:{},styles:{}},f=[],o=!1,l={state:h,setOptions:function(g){var d=typeof g=="function"?g(h.options):g;c(),h.options=Object.assign({},p,h.options,d),h.scrollParents={reference:Ur(m)?Si(m):m.contextElement?Si(m.contextElement):[],popper:Si(u)};var v=lx(ux([].concat(r,h.options.modifiers)));return h.orderedModifiers=v.filter(function(_){return _.enabled}),a(),l.update()},forceUpdate:function(){if(!o){var g=h.elements,d=g.reference,v=g.popper;if(uf(d,v)){h.rects={reference:ox(d,Gi(v),h.options.strategy==="fixed"),popper:Xl(v)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(T){return h.modifiersData[T.name]=Object.assign({},T.data)});for(var _=0;_<h.orderedModifiers.length;_++){if(h.reset===!0){h.reset=!1,_=-1;continue}var b=h.orderedModifiers[_],y=b.fn,w=b.options,C=w===void 0?{}:w,S=b.name;typeof y=="function"&&(h=y({state:h,options:C,name:S,instance:l})||h)}}}},update:cx(function(){return new Promise(function(g){l.forceUpdate(),g(h)})}),destroy:function(){c(),o=!0}};if(!uf(m,u))return l;l.setOptions(i).then(function(g){!o&&i.onFirstUpdate&&i.onFirstUpdate(g)});function a(){h.orderedModifiers.forEach(function(g){var d=g.name,v=g.options,_=v===void 0?{}:v,b=g.effect;if(typeof b=="function"){var y=b({state:h,name:d,instance:l,options:_}),w=function(){};f.push(y||w)}})}function c(){f.forEach(function(g){return g()}),f=[]}return l}}Jl();var fx=[ap,up,op,tp];Jl({defaultModifiers:fx});var hx=[ap,up,op,tp,ZS,VS,nx,RS,KS],dx=Jl({defaultModifiers:hx});const px=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:i})=>{const h=gx(i);Object.assign(m.value,h)},requires:["computeStyles"]},s=re(()=>{const{onFirstUpdate:i,placement:h,strategy:f,modifiers:o}=A(n);return{onFirstUpdate:i,placement:h||"bottom",strategy:f||"absolute",modifiers:[...o||[],r,{name:"applyStyles",enabled:!1}]}}),p=Pn(),m=fe({styles:{popper:{position:A(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=()=>{p.value&&(p.value.destroy(),p.value=void 0)};return Ae(s,i=>{const h=A(p);h&&h.setOptions(i)},{deep:!0}),Ae([e,t],([i,h])=>{u(),!(!i||!h)&&(p.value=dx(i,h,A(s)))}),Nt(()=>{u()}),{state:re(()=>{var i;return{...((i=A(p))==null?void 0:i.state)||{}}}),styles:re(()=>A(m).styles),attributes:re(()=>A(m).attributes),update:()=>{var i;return(i=A(p))==null?void 0:i.update()},forceUpdate:()=>{var i;return(i=A(p))==null?void 0:i.forceUpdate()},instanceRef:re(()=>A(p))}};function gx(e){const t=Object.keys(e.elements),n=Ns(t.map(s=>[s,e.styles[s]||{}])),r=Ns(t.map(s=>[s,e.attributes[s]]));return{styles:n,attributes:r}}function ff(){let e;const t=(r,s)=>{n(),e=window.setTimeout(r,s)},n=()=>window.clearTimeout(e);return ho(()=>n()),{registerTimeout:t,cancelTimeout:n}}const hf={prefix:Math.floor(Math.random()*1e4),current:0},vx=Symbol("elIdInjection"),fp=()=>Dt()?Pe(vx,hf):hf,xo=e=>{const t=fp(),n=Hl();return re(()=>A(e)||`${n.value}-id-${t.prefix}-${t.current++}`)};let Or=[];const df=e=>{const t=e;t.key===Be.esc&&Or.forEach(n=>n(t))},mx=e=>{Ke(()=>{Or.length===0&&document.addEventListener("keydown",df),Xe&&Or.push(e)}),Nt(()=>{Or=Or.filter(t=>t!==e),Or.length===0&&Xe&&document.removeEventListener("keydown",df)})};let pf;const hp=()=>{const e=Hl(),t=fp(),n=re(()=>`${e.value}-popper-container-${t.prefix}`),r=re(()=>`#${n.value}`);return{id:n,selector:r}},_x=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},yx=()=>{const{id:e,selector:t}=hp();return Hh(()=>{Xe&&!pf&&!document.body.querySelector(t.value)&&(pf=_x(e.value))}),{id:e,selector:t}},bx=Ve({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),wx=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:s})=>{const{registerTimeout:p}=ff(),{registerTimeout:m,cancelTimeout:u}=ff();return{onOpen:f=>{p(()=>{r(f);const o=A(n);at(o)&&o>0&&m(()=>{s(f)},o)},A(e))},onClose:f=>{u(),p(()=>{s(f)},A(t))}}},dp=Symbol("elForwardRef"),Cx=e=>{Ze(dp,{setForwardRef:n=>{e.value=n}})},Sx=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),gf=fe(0),pp=2e3,gp=Symbol("zIndexContextKey"),Zl=e=>{const t=e||(Dt()?Pe(gp,void 0):void 0),n=re(()=>{const p=A(t);return at(p)?p:pp}),r=re(()=>n.value+gf.value);return{initialZIndex:n,currentZIndex:r,nextZIndex:()=>(gf.value++,r.value)}};function xx(e){const t=fe();function n(){if(e.value==null)return;const{selectionStart:s,selectionEnd:p,value:m}=e.value;if(s==null||p==null)return;const u=m.slice(0,Math.max(0,s)),i=m.slice(Math.max(0,p));t.value={selectionStart:s,selectionEnd:p,value:m,beforeTxt:u,afterTxt:i}}function r(){if(e.value==null||t.value==null)return;const{value:s}=e.value,{beforeTxt:p,afterTxt:m,selectionStart:u}=t.value;if(p==null||m==null||u==null)return;let i=s.length;if(s.endsWith(m))i=s.length-m.length;else if(s.startsWith(p))i=p.length;else{const h=p[u-1],f=s.indexOf(h,u-1);f!==-1&&(i=f+1)}e.value.setSelectionRange(i,i)}return[n,r]}const vp=bo({type:String,values:eS,required:!1}),mp=Symbol("size"),Tx=()=>{const e=Pe(mp,{});return re(()=>A(e.size)||"")};function Ox(e,{afterFocus:t,beforeBlur:n,afterBlur:r}={}){const s=Dt(),{emit:p}=s,m=Pn(),u=fe(!1),i=o=>{u.value||(u.value=!0,p("focus",o),t==null||t())},h=o=>{var l;xe(n)&&n(o)||o.relatedTarget&&((l=m.value)!=null&&l.contains(o.relatedTarget))||(u.value=!1,p("blur",o),r==null||r())},f=()=>{var o;(o=e.value)==null||o.focus()};return Ae(m,o=>{o&&o.setAttribute("tabindex","-1")}),Ot(m,"click",f),{wrapperRef:m,isFocused:u,handleFocus:i,handleBlur:h}}const _p=Symbol(),$s=fe();function Ql(e,t=void 0){const n=Dt()?Pe(_p,$s):$s;return e?re(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[e])!=null?s:t}):n}function Ex(e,t){const n=Ql(),r=Qe(e,re(()=>{var u;return((u=n.value)==null?void 0:u.namespace)||Ss})),s=Co(re(()=>{var u;return(u=n.value)==null?void 0:u.locale})),p=Zl(re(()=>{var u;return((u=n.value)==null?void 0:u.zIndex)||pp})),m=re(()=>{var u;return A(t)||((u=n.value)==null?void 0:u.size)||""});return Px(re(()=>A(n)||{})),{ns:r,locale:s,zIndex:p,size:m}}const Px=(e,t,n=!1)=>{var r;const s=!!Dt(),p=s?Ql():void 0,m=(r=t==null?void 0:t.provide)!=null?r:s?Ze:void 0;if(!m)return;const u=re(()=>{const i=A(e);return p!=null&&p.value?kx(p.value,i):i});return m(_p,u),m(qd,re(()=>u.value.locale)),m(Jd,re(()=>u.value.namespace)),m(gp,re(()=>u.value.zIndex)),m(mp,{size:re(()=>u.value.size||"")}),(n||!$s.value)&&($s.value=u.value),u},kx=(e,t)=>{var n;const r=[...new Set([...Na(e),...Na(t)])],s={};for(const p of r)s[p]=(n=t[p])!=null?n:e[p];return s},vf={};var He=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const Ax=Ve({size:{type:Me([Number,String])},color:{type:String}}),Mx=Oe({name:"ElIcon",inheritAttrs:!1}),Rx=Oe({...Mx,props:Ax,setup(e){const t=e,n=Qe("icon"),r=re(()=>{const{size:s,color:p}=t;return!s&&!p?{}:{fontSize:HC(s)?void 0:Bi(s),"--color":p}});return(s,p)=>(te(),he("i",Ct({class:A(n).b(),style:A(r)},s.$attrs),[Ee(s.$slots,"default")],16))}});var Dx=He(Rx,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const Ye=on(Dx),ec=Symbol("formContextKey"),Hs=Symbol("formItemContextKey"),tc=(e,t={})=>{const n=fe(void 0),r=t.prop?n:Qd("size"),s=t.global?n:Tx(),p=t.form?{size:void 0}:Pe(ec,void 0),m=t.formItem?{size:void 0}:Pe(Hs,void 0);return re(()=>r.value||A(e)||(m==null?void 0:m.size)||(p==null?void 0:p.size)||s.value||"")},nc=e=>{const t=Qd("disabled"),n=Pe(ec,void 0);return re(()=>t.value||A(e)||(n==null?void 0:n.disabled)||!1)},yp=()=>{const e=Pe(ec,void 0),t=Pe(Hs,void 0);return{form:e,formItem:t}},Ix=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=fe(!1)),r||(r=fe(!1));const s=fe();let p;const m=re(()=>{var u;return!!(!e.label&&t&&t.inputIds&&((u=t.inputIds)==null?void 0:u.length)<=1)});return Ke(()=>{p=Ae([bt(e,"id"),n],([u,i])=>{const h=u??(i?void 0:xo().value);h!==s.value&&(t!=null&&t.removeInputId&&(s.value&&t.removeInputId(s.value),!(r!=null&&r.value)&&!i&&h&&t.addInputId(h)),s.value=h)},{immediate:!0})}),Zr(()=>{p&&p(),t!=null&&t.removeInputId&&s.value&&t.removeInputId(s.value)}),{isLabeledByFormItem:m,inputId:s}};let qt;const Fx=`
  height:0 !important;
  visibility:hidden !important;
  ${Jw()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Lx=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Bx(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),s=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Lx.map(m=>`${m}:${t.getPropertyValue(m)}`).join(";"),paddingSize:r,borderSize:s,boxSizing:n}}function mf(e,t=1,n){var r;qt||(qt=document.createElement("textarea"),document.body.appendChild(qt));const{paddingSize:s,borderSize:p,boxSizing:m,contextStyle:u}=Bx(e);qt.setAttribute("style",`${u};${Fx}`),qt.value=e.value||e.placeholder||"";let i=qt.scrollHeight;const h={};m==="border-box"?i=i+p:m==="content-box"&&(i=i-s),qt.value="";const f=qt.scrollHeight-s;if(at(t)){let o=f*t;m==="border-box"&&(o=o+s+p),i=Math.max(o,i),h.minHeight=`${o}px`}if(at(n)){let o=f*n;m==="border-box"&&(o=o+s+p),i=Math.min(o,i)}return h.height=`${i}px`,(r=qt.parentNode)==null||r.removeChild(qt),qt=void 0,h}const jx=Ve({id:{type:String,default:void 0},size:vp,disabled:Boolean,modelValue:{type:Me([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Me([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:$r},prefixIcon:{type:$r},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Me([Object,Array,String]),default:()=>wo({})},autofocus:{type:Boolean,default:!1}}),Nx={[za]:e=>je(e),input:e=>je(e),change:e=>je(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},zx=["role"],$x=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Hx=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Ux=Oe({name:"ElInput",inheritAttrs:!1}),Wx=Oe({...Ux,props:jx,emits:Nx,setup(e,{expose:t,emit:n}){const r=e,s=Sl(),p=Vh(),m=re(()=>{const Z={};return r.containerRole==="combobox"&&(Z["aria-haspopup"]=s["aria-haspopup"],Z["aria-owns"]=s["aria-owns"],Z["aria-expanded"]=s["aria-expanded"]),Z}),u=re(()=>[r.type==="textarea"?d.b():g.b(),g.m(a.value),g.is("disabled",c.value),g.is("exceed",R.value),{[g.b("group")]:p.prepend||p.append,[g.bm("group","append")]:p.append,[g.bm("group","prepend")]:p.prepend,[g.m("prefix")]:p.prefix||r.prefixIcon,[g.m("suffix")]:p.suffix||r.suffixIcon||r.clearable||r.showPassword,[g.bm("suffix","password-clear")]:D.value&&F.value},s.class]),i=re(()=>[g.e("wrapper"),g.is("focus",W.value)]),h=Kd({excludeKeys:re(()=>Object.keys(m.value))}),{form:f,formItem:o}=yp(),{inputId:l}=Ix(r,{formItemContext:o}),a=tc(),c=nc(),g=Qe("input"),d=Qe("textarea"),v=Pn(),_=Pn(),b=fe(!1),y=fe(!1),w=fe(!1),C=fe(),S=Pn(r.inputStyle),T=re(()=>v.value||_.value),{wrapperRef:j,isFocused:W,handleFocus:V,handleBlur:H}=Ox(T,{afterBlur(){var Z;r.validateEvent&&((Z=o==null?void 0:o.validate)==null||Z.call(o,"blur").catch(ge=>void 0))}}),Q=re(()=>{var Z;return(Z=f==null?void 0:f.statusIcon)!=null?Z:!1}),se=re(()=>(o==null?void 0:o.validateState)||""),le=re(()=>se.value&&JC[se.value]),ue=re(()=>w.value?ow:vb),X=re(()=>[s.style,r.inputStyle]),K=re(()=>[r.inputStyle,S.value,{resize:r.resize}]),x=re(()=>yo(r.modelValue)?"":String(r.modelValue)),D=re(()=>r.clearable&&!c.value&&!r.readonly&&!!x.value&&(W.value||b.value)),F=re(()=>r.showPassword&&!c.value&&!r.readonly&&!!x.value&&(!!x.value||W.value)),I=re(()=>r.showWordLimit&&!!h.value.maxlength&&(r.type==="text"||r.type==="textarea")&&!c.value&&!r.readonly&&!r.showPassword),ee=re(()=>x.value.length),R=re(()=>!!I.value&&ee.value>Number(h.value.maxlength)),E=re(()=>!!p.suffix||!!r.suffixIcon||D.value||r.showPassword||I.value||!!se.value&&Q.value),[U,M]=xx(v);jl(_,Z=>{if(q(),!I.value||r.resize!=="both")return;const ge=Z[0],{width:me}=ge.contentRect;C.value={right:`calc(100% - ${me+15+6}px)`}});const L=()=>{const{type:Z,autosize:ge}=r;if(!(!Xe||Z!=="textarea"||!_.value))if(ge){const me=Fe(ge)?ge.minRows:void 0,be=Fe(ge)?ge.maxRows:void 0,ke=mf(_.value,me,be);S.value={overflowY:"hidden",...ke},lt(()=>{_.value.offsetHeight,S.value=ke})}else S.value={minHeight:mf(_.value).minHeight}},q=(Z=>{let ge=!1;return()=>{var me;if(ge||!r.autosize)return;((me=_.value)==null?void 0:me.offsetParent)===null||(Z(),ge=!0)}})(L),oe=()=>{const Z=T.value,ge=r.formatter?r.formatter(x.value):x.value;!Z||Z.value===ge||(Z.value=ge)},k=async Z=>{U();let{value:ge}=Z.target;if(r.formatter&&(ge=r.parser?r.parser(ge):ge),!y.value){if(ge===x.value){oe();return}n(za,ge),n("input",ge),await lt(),oe(),M()}},O=Z=>{n("change",Z.target.value)},P=Z=>{n("compositionstart",Z),y.value=!0},B=Z=>{var ge;n("compositionupdate",Z);const me=(ge=Z.target)==null?void 0:ge.value,be=me[me.length-1]||"";y.value=!tS(be)},$=Z=>{n("compositionend",Z),y.value&&(y.value=!1,k(Z))},N=()=>{w.value=!w.value,Y()},Y=async()=>{var Z;await lt(),(Z=T.value)==null||Z.focus()},J=()=>{var Z;return(Z=T.value)==null?void 0:Z.blur()},ae=Z=>{b.value=!1,n("mouseleave",Z)},ne=Z=>{b.value=!0,n("mouseenter",Z)},G=Z=>{n("keydown",Z)},ce=()=>{var Z;(Z=T.value)==null||Z.select()},pe=()=>{n(za,""),n("change",""),n("clear"),n("input","")};return Ae(()=>r.modelValue,()=>{var Z;lt(()=>L()),r.validateEvent&&((Z=o==null?void 0:o.validate)==null||Z.call(o,"change").catch(ge=>void 0))}),Ae(x,()=>oe()),Ae(()=>r.type,async()=>{await lt(),oe(),L()}),Ke(()=>{!r.formatter&&r.parser,oe(),lt(L)}),t({input:v,textarea:_,ref:T,textareaStyle:K,autosize:bt(r,"autosize"),focus:Y,blur:J,select:ce,clear:pe,resizeTextarea:L}),(Z,ge)=>pt((te(),he("div",Ct(A(m),{class:A(u),style:A(X),role:Z.containerRole,onMouseenter:ne,onMouseleave:ae}),[we(" input "),Z.type!=="textarea"?(te(),he(Re,{key:0},[we(" prepend slot "),Z.$slots.prepend?(te(),he("div",{key:0,class:ye(A(g).be("group","prepend"))},[Ee(Z.$slots,"prepend")],2)):we("v-if",!0),ie("div",{ref_key:"wrapperRef",ref:j,class:ye(A(i))},[we(" prefix slot "),Z.$slots.prefix||Z.prefixIcon?(te(),he("span",{key:0,class:ye(A(g).e("prefix"))},[ie("span",{class:ye(A(g).e("prefix-inner"))},[Ee(Z.$slots,"prefix"),Z.prefixIcon?(te(),Te(A(Ye),{key:0,class:ye(A(g).e("icon"))},{default:_e(()=>[(te(),Te(Qt(Z.prefixIcon)))]),_:1},8,["class"])):we("v-if",!0)],2)],2)):we("v-if",!0),ie("input",Ct({id:A(l),ref_key:"input",ref:v,class:A(g).e("inner")},A(h),{type:Z.showPassword?w.value?"text":"password":Z.type,disabled:A(c),formatter:Z.formatter,parser:Z.parser,readonly:Z.readonly,autocomplete:Z.autocomplete,tabindex:Z.tabindex,"aria-label":Z.label,placeholder:Z.placeholder,style:Z.inputStyle,form:r.form,autofocus:r.autofocus,onCompositionstart:P,onCompositionupdate:B,onCompositionend:$,onInput:k,onFocus:ge[0]||(ge[0]=(...me)=>A(V)&&A(V)(...me)),onBlur:ge[1]||(ge[1]=(...me)=>A(H)&&A(H)(...me)),onChange:O,onKeydown:G}),null,16,$x),we(" suffix slot "),A(E)?(te(),he("span",{key:1,class:ye(A(g).e("suffix"))},[ie("span",{class:ye(A(g).e("suffix-inner"))},[!A(D)||!A(F)||!A(I)?(te(),he(Re,{key:0},[Ee(Z.$slots,"suffix"),Z.suffixIcon?(te(),Te(A(Ye),{key:0,class:ye(A(g).e("icon"))},{default:_e(()=>[(te(),Te(Qt(Z.suffixIcon)))]),_:1},8,["class"])):we("v-if",!0)],64)):we("v-if",!0),A(D)?(te(),Te(A(Ye),{key:1,class:ye([A(g).e("icon"),A(g).e("clear")]),onMousedown:qn(A(wt),["prevent"]),onClick:pe},{default:_e(()=>[ve(A(Bd))]),_:1},8,["class","onMousedown"])):we("v-if",!0),A(F)?(te(),Te(A(Ye),{key:2,class:ye([A(g).e("icon"),A(g).e("password")]),onClick:N},{default:_e(()=>[(te(),Te(Qt(A(ue))))]),_:1},8,["class"])):we("v-if",!0),A(I)?(te(),he("span",{key:3,class:ye(A(g).e("count"))},[ie("span",{class:ye(A(g).e("count-inner"))},$e(A(ee))+" / "+$e(A(h).maxlength),3)],2)):we("v-if",!0),A(se)&&A(le)&&A(Q)?(te(),Te(A(Ye),{key:4,class:ye([A(g).e("icon"),A(g).e("validateIcon"),A(g).is("loading",A(se)==="validating")])},{default:_e(()=>[(te(),Te(Qt(A(le))))]),_:1},8,["class"])):we("v-if",!0)],2)],2)):we("v-if",!0)],2),we(" append slot "),Z.$slots.append?(te(),he("div",{key:1,class:ye(A(g).be("group","append"))},[Ee(Z.$slots,"append")],2)):we("v-if",!0)],64)):(te(),he(Re,{key:1},[we(" textarea "),ie("textarea",Ct({id:A(l),ref_key:"textarea",ref:_,class:A(d).e("inner")},A(h),{tabindex:Z.tabindex,disabled:A(c),readonly:Z.readonly,autocomplete:Z.autocomplete,style:A(K),"aria-label":Z.label,placeholder:Z.placeholder,form:r.form,autofocus:r.autofocus,onCompositionstart:P,onCompositionupdate:B,onCompositionend:$,onInput:k,onFocus:ge[2]||(ge[2]=(...me)=>A(V)&&A(V)(...me)),onBlur:ge[3]||(ge[3]=(...me)=>A(H)&&A(H)(...me)),onChange:O,onKeydown:G}),null,16,Hx),A(I)?(te(),he("span",{key:0,style:Ge(C.value),class:ye(A(g).e("count"))},$e(A(ee))+" / "+$e(A(h).maxlength),7)):we("v-if",!0)],64))],16,zx)),[[Tt,Z.type!=="hidden"]])}});var Yx=He(Wx,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const _f=on(Yx),Er=4,Xx={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Vx=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),bp=Symbol("scrollbarContextKey"),Gx=Ve({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Kx="Thumb",qx=Oe({__name:"thumb",props:Gx,setup(e){const t=e,n=Pe(bp),r=Qe("scrollbar");n||YC(Kx,"can not inject scrollbar context");const s=fe(),p=fe(),m=fe({}),u=fe(!1);let i=!1,h=!1,f=Xe?document.onselectstart:null;const o=re(()=>Xx[t.vertical?"vertical":"horizontal"]),l=re(()=>Vx({size:t.size,move:t.move,bar:o.value})),a=re(()=>s.value[o.value.offset]**2/n.wrapElement[o.value.scrollSize]/t.ratio/p.value[o.value.offset]),c=C=>{var S;if(C.stopPropagation(),C.ctrlKey||[1,2].includes(C.button))return;(S=window.getSelection())==null||S.removeAllRanges(),d(C);const T=C.currentTarget;T&&(m.value[o.value.axis]=T[o.value.offset]-(C[o.value.client]-T.getBoundingClientRect()[o.value.direction]))},g=C=>{if(!p.value||!s.value||!n.wrapElement)return;const S=Math.abs(C.target.getBoundingClientRect()[o.value.direction]-C[o.value.client]),T=p.value[o.value.offset]/2,j=(S-T)*100*a.value/s.value[o.value.offset];n.wrapElement[o.value.scroll]=j*n.wrapElement[o.value.scrollSize]/100},d=C=>{C.stopImmediatePropagation(),i=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",_),f=document.onselectstart,document.onselectstart=()=>!1},v=C=>{if(!s.value||!p.value||i===!1)return;const S=m.value[o.value.axis];if(!S)return;const T=(s.value.getBoundingClientRect()[o.value.direction]-C[o.value.client])*-1,j=p.value[o.value.offset]-S,W=(T-j)*100*a.value/s.value[o.value.offset];n.wrapElement[o.value.scroll]=W*n.wrapElement[o.value.scrollSize]/100},_=()=>{i=!1,m.value[o.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",_),w(),h&&(u.value=!1)},b=()=>{h=!1,u.value=!!t.size},y=()=>{h=!0,u.value=i};Nt(()=>{w(),document.removeEventListener("mouseup",_)});const w=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return Ot(bt(n,"scrollbarElement"),"mousemove",b),Ot(bt(n,"scrollbarElement"),"mouseleave",y),(C,S)=>(te(),Te(yn,{name:A(r).b("fade"),persisted:""},{default:_e(()=>[pt(ie("div",{ref_key:"instance",ref:s,class:ye([A(r).e("bar"),A(r).is(A(o).key)]),onMousedown:g},[ie("div",{ref_key:"thumb",ref:p,class:ye(A(r).e("thumb")),style:Ge(A(l)),onMousedown:c},null,38)],34),[[Tt,C.always||u.value]])]),_:1},8,["name"]))}});var yf=He(qx,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Jx=Ve({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Zx=Oe({__name:"bar",props:Jx,setup(e,{expose:t}){const n=e,r=fe(0),s=fe(0);return t({handleScroll:m=>{if(m){const u=m.offsetHeight-Er,i=m.offsetWidth-Er;s.value=m.scrollTop*100/u*n.ratioY,r.value=m.scrollLeft*100/i*n.ratioX}}}),(m,u)=>(te(),he(Re,null,[ve(yf,{move:r.value,ratio:m.ratioX,size:m.width,always:m.always},null,8,["move","ratio","size","always"]),ve(yf,{move:s.value,ratio:m.ratioY,size:m.height,vertical:"",always:m.always},null,8,["move","ratio","size","always"])],64))}});var Qx=He(Zx,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const e2=Ve({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Me([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),t2={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(at)},n2="ElScrollbar",r2=Oe({name:n2}),i2=Oe({...r2,props:e2,emits:t2,setup(e,{expose:t,emit:n}){const r=e,s=Qe("scrollbar");let p,m;const u=fe(),i=fe(),h=fe(),f=fe("0"),o=fe("0"),l=fe(),a=fe(1),c=fe(1),g=re(()=>{const S={};return r.height&&(S.height=Bi(r.height)),r.maxHeight&&(S.maxHeight=Bi(r.maxHeight)),[r.wrapStyle,S]}),d=re(()=>[r.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!r.native}]),v=re(()=>[s.e("view"),r.viewClass]),_=()=>{var S;i.value&&((S=l.value)==null||S.handleScroll(i.value),n("scroll",{scrollTop:i.value.scrollTop,scrollLeft:i.value.scrollLeft}))};function b(S,T){Fe(S)?i.value.scrollTo(S):at(S)&&at(T)&&i.value.scrollTo(S,T)}const y=S=>{at(S)&&(i.value.scrollTop=S)},w=S=>{at(S)&&(i.value.scrollLeft=S)},C=()=>{if(!i.value)return;const S=i.value.offsetHeight-Er,T=i.value.offsetWidth-Er,j=S**2/i.value.scrollHeight,W=T**2/i.value.scrollWidth,V=Math.max(j,r.minSize),H=Math.max(W,r.minSize);a.value=j/(S-j)/(V/(S-V)),c.value=W/(T-W)/(H/(T-H)),o.value=V+Er<S?`${V}px`:"",f.value=H+Er<T?`${H}px`:""};return Ae(()=>r.noresize,S=>{S?(p==null||p(),m==null||m()):({stop:p}=jl(h,C),m=Ot("resize",C))},{immediate:!0}),Ae(()=>[r.maxHeight,r.height],()=>{r.native||lt(()=>{var S;C(),i.value&&((S=l.value)==null||S.handleScroll(i.value))})}),Ze(bp,gr({scrollbarElement:u,wrapElement:i})),Ke(()=>{r.native||lt(()=>{C()})}),Uh(()=>C()),t({wrapRef:i,update:C,scrollTo:b,setScrollTop:y,setScrollLeft:w,handleScroll:_}),(S,T)=>(te(),he("div",{ref_key:"scrollbarRef",ref:u,class:ye(A(s).b())},[ie("div",{ref_key:"wrapRef",ref:i,class:ye(A(d)),style:Ge(A(g)),onScroll:_},[(te(),Te(Qt(S.tag),{id:S.id,ref_key:"resizeRef",ref:h,class:ye(A(v)),style:Ge(S.viewStyle),role:S.role,"aria-label":S.ariaLabel,"aria-orientation":S.ariaOrientation},{default:_e(()=>[Ee(S.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),S.native?we("v-if",!0):(te(),Te(Qx,{key:0,ref_key:"barRef",ref:l,height:o.value,width:f.value,always:S.always,"ratio-x":c.value,"ratio-y":a.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var s2=He(i2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const o2=on(s2),rc=Symbol("popper"),wp=Symbol("popperContent"),a2=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],Cp=Ve({role:{type:String,values:a2,default:"tooltip"}}),l2=Oe({name:"ElPopper",inheritAttrs:!1}),c2=Oe({...l2,props:Cp,setup(e,{expose:t}){const n=e,r=fe(),s=fe(),p=fe(),m=fe(),u=re(()=>n.role),i={triggerRef:r,popperInstanceRef:s,contentRef:p,referenceRef:m,role:u};return t(i),Ze(rc,i),(h,f)=>Ee(h.$slots,"default")}});var u2=He(c2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const Sp=Ve({arrowOffset:{type:Number,default:5}}),f2=Oe({name:"ElPopperArrow",inheritAttrs:!1}),h2=Oe({...f2,props:Sp,setup(e,{expose:t}){const n=e,r=Qe("popper"),{arrowOffset:s,arrowRef:p,arrowStyle:m}=Pe(wp,void 0);return Ae(()=>n.arrowOffset,u=>{s.value=u}),Nt(()=>{p.value=void 0}),t({arrowRef:p}),(u,i)=>(te(),he("span",{ref_key:"arrowRef",ref:p,class:ye(A(r).e("arrow")),style:Ge(A(m)),"data-popper-arrow":""},null,6))}});var d2=He(h2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const p2="ElOnlyChild",xp=Oe({name:p2,setup(e,{slots:t,attrs:n}){var r;const s=Pe(dp),p=Sx((r=s==null?void 0:s.setForwardRef)!=null?r:wt);return()=>{var m;const u=(m=t.default)==null?void 0:m.call(t,n);if(!u||u.length>1)return null;const i=Tp(u);return i?pt(Mn(i,n),[[p]]):null}}});function Tp(e){if(!e)return null;const t=e;for(const n of t){if(Fe(n))switch(n.type){case jt:continue;case Qr:case"svg":return bf(n);case Re:return Tp(n.children);default:return n}return bf(n)}return null}function bf(e){const t=Qe("only-child");return ve("span",{class:t.e("content")},[e])}const Op=Ve({virtualRef:{type:Me(Object)},virtualTriggering:Boolean,onMouseenter:{type:Me(Function)},onMouseleave:{type:Me(Function)},onClick:{type:Me(Function)},onKeydown:{type:Me(Function)},onFocus:{type:Me(Function)},onBlur:{type:Me(Function)},onContextmenu:{type:Me(Function)},id:String,open:Boolean}),g2=Oe({name:"ElPopperTrigger",inheritAttrs:!1}),v2=Oe({...g2,props:Op,setup(e,{expose:t}){const n=e,{role:r,triggerRef:s}=Pe(rc,void 0);Cx(s);const p=re(()=>u.value?n.id:void 0),m=re(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),u=re(()=>{if(r&&r.value!=="tooltip")return r.value}),i=re(()=>u.value?`${n.open}`:void 0);let h;return Ke(()=>{Ae(()=>n.virtualRef,f=>{f&&(s.value=Yn(f))},{immediate:!0}),Ae(s,(f,o)=>{h==null||h(),h=void 0,zr(f)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(l=>{var a;const c=n[l];c&&(f.addEventListener(l.slice(2).toLowerCase(),c),(a=o==null?void 0:o.removeEventListener)==null||a.call(o,l.slice(2).toLowerCase(),c))}),h=Ae([p,m,u,i],l=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((a,c)=>{yo(l[c])?f.removeAttribute(a):f.setAttribute(a,l[c])})},{immediate:!0})),zr(o)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(l=>o.removeAttribute(l))},{immediate:!0})}),Nt(()=>{h==null||h(),h=void 0}),t({triggerRef:s}),(f,o)=>f.virtualTriggering?we("v-if",!0):(te(),Te(A(xp),Ct({key:0},f.$attrs,{"aria-controls":A(p),"aria-describedby":A(m),"aria-expanded":A(i),"aria-haspopup":A(u)}),{default:_e(()=>[Ee(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var m2=He(v2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const ea="focus-trap.focus-after-trapped",ta="focus-trap.focus-after-released",_2="focus-trap.focusout-prevented",wf={cancelable:!0,bubbles:!1},y2={cancelable:!0,bubbles:!1},Cf="focusAfterTrapped",Sf="focusAfterReleased",Ep=Symbol("elFocusTrap"),ic=fe(),To=fe(0),sc=fe(0);let cs=0;const Pp=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},xf=(e,t)=>{for(const n of e)if(!b2(n,t))return n},b2=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},w2=e=>{const t=Pp(e),n=xf(t,e),r=xf(t.reverse(),e);return[n,r]},C2=e=>e instanceof HTMLInputElement&&"select"in e,$n=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),sc.value=window.performance.now(),e!==n&&C2(e)&&t&&e.select()}};function Tf(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const S2=()=>{let e=[];return{push:r=>{const s=e[0];s&&r!==s&&s.pause(),e=Tf(e,r),e.unshift(r)},remove:r=>{var s,p;e=Tf(e,r),(p=(s=e[0])==null?void 0:s.resume)==null||p.call(s)}}},x2=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if($n(r,t),document.activeElement!==n)return},Of=S2(),T2=()=>To.value>sc.value,us=()=>{ic.value="pointer",To.value=window.performance.now()},Ef=()=>{ic.value="keyboard",To.value=window.performance.now()},O2=()=>(Ke(()=>{cs===0&&(document.addEventListener("mousedown",us),document.addEventListener("touchstart",us),document.addEventListener("keydown",Ef)),cs++}),Nt(()=>{cs--,cs<=0&&(document.removeEventListener("mousedown",us),document.removeEventListener("touchstart",us),document.removeEventListener("keydown",Ef))}),{focusReason:ic,lastUserFocusTimestamp:To,lastAutomatedFocusTimestamp:sc}),fs=e=>new CustomEvent(_2,{...y2,detail:e}),E2=Oe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Cf,Sf,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=fe();let r,s;const{focusReason:p}=O2();mx(c=>{e.trapped&&!m.paused&&t("release-requested",c)});const m={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},u=c=>{if(!e.loop&&!e.trapped||m.paused)return;const{key:g,altKey:d,ctrlKey:v,metaKey:_,currentTarget:b,shiftKey:y}=c,{loop:w}=e,C=g===Be.tab&&!d&&!v&&!_,S=document.activeElement;if(C&&S){const T=b,[j,W]=w2(T);if(j&&W){if(!y&&S===W){const H=fs({focusReason:p.value});t("focusout-prevented",H),H.defaultPrevented||(c.preventDefault(),w&&$n(j,!0))}else if(y&&[j,T].includes(S)){const H=fs({focusReason:p.value});t("focusout-prevented",H),H.defaultPrevented||(c.preventDefault(),w&&$n(W,!0))}}else if(S===T){const H=fs({focusReason:p.value});t("focusout-prevented",H),H.defaultPrevented||c.preventDefault()}}};Ze(Ep,{focusTrapRef:n,onKeydown:u}),Ae(()=>e.focusTrapEl,c=>{c&&(n.value=c)},{immediate:!0}),Ae([n],([c],[g])=>{c&&(c.addEventListener("keydown",u),c.addEventListener("focusin",f),c.addEventListener("focusout",o)),g&&(g.removeEventListener("keydown",u),g.removeEventListener("focusin",f),g.removeEventListener("focusout",o))});const i=c=>{t(Cf,c)},h=c=>t(Sf,c),f=c=>{const g=A(n);if(!g)return;const d=c.target,v=c.relatedTarget,_=d&&g.contains(d);e.trapped||v&&g.contains(v)||(r=v),_&&t("focusin",c),!m.paused&&e.trapped&&(_?s=d:$n(s,!0))},o=c=>{const g=A(n);if(!(m.paused||!g))if(e.trapped){const d=c.relatedTarget;!yo(d)&&!g.contains(d)&&setTimeout(()=>{if(!m.paused&&e.trapped){const v=fs({focusReason:p.value});t("focusout-prevented",v),v.defaultPrevented||$n(s,!0)}},0)}else{const d=c.target;d&&g.contains(d)||t("focusout",c)}};async function l(){await lt();const c=A(n);if(c){Of.push(m);const g=c.contains(document.activeElement)?r:document.activeElement;if(r=g,!c.contains(g)){const v=new Event(ea,wf);c.addEventListener(ea,i),c.dispatchEvent(v),v.defaultPrevented||lt(()=>{let _=e.focusStartEl;je(_)||($n(_),document.activeElement!==_&&(_="first")),_==="first"&&x2(Pp(c),!0),(document.activeElement===g||_==="container")&&$n(c)})}}}function a(){const c=A(n);if(c){c.removeEventListener(ea,i);const g=new CustomEvent(ta,{...wf,detail:{focusReason:p.value}});c.addEventListener(ta,h),c.dispatchEvent(g),!g.defaultPrevented&&(p.value=="keyboard"||!T2()||c.contains(document.activeElement))&&$n(r??document.body),c.removeEventListener(ta,h),Of.remove(m)}}return Ke(()=>{e.trapped&&l(),Ae(()=>e.trapped,c=>{c?l():a()})}),Nt(()=>{e.trapped&&a()}),{onKeydown:u}}});function P2(e,t,n,r,s,p){return Ee(e.$slots,"default",{handleKeydown:e.onKeydown})}var k2=He(E2,[["render",P2],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const A2=["fixed","absolute"],M2=Ve({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Me(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Wl,default:"bottom"},popperOptions:{type:Me(Object),default:()=>({})},strategy:{type:String,values:A2,default:"absolute"}}),kp=Ve({...M2,id:String,style:{type:Me([String,Array,Object])},className:{type:Me([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Me([String,Array,Object])},popperStyle:{type:Me([String,Array,Object])},referenceEl:{type:Me(Object)},triggerTargetEl:{type:Me(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),R2={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},D2=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:s}=e,p={placement:n,strategy:r,...s,modifiers:[...F2(e),...t]};return L2(p,s==null?void 0:s.modifiers),p},I2=e=>{if(Xe)return Yn(e)};function F2(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function L2(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const B2=0,j2=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:s}=Pe(rc,void 0),p=fe(),m=fe(),u=re(()=>({name:"eventListeners",enabled:!!e.visible})),i=re(()=>{var v;const _=A(p),b=(v=A(m))!=null?v:B2;return{name:"arrow",enabled:!zC(_),options:{element:_,padding:b}}}),h=re(()=>({onFirstUpdate:()=>{c()},...D2(e,[A(i),A(u)])})),f=re(()=>I2(e.referenceEl)||A(r)),{attributes:o,state:l,styles:a,update:c,forceUpdate:g,instanceRef:d}=px(f,n,h);return Ae(d,v=>t.value=v),Ke(()=>{Ae(()=>{var v;return(v=A(f))==null?void 0:v.getBoundingClientRect()},()=>{c()})}),{attributes:o,arrowRef:p,contentRef:n,instanceRef:d,state:l,styles:a,role:s,forceUpdate:g,update:c}},N2=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:s}=Zl(),p=Qe("popper"),m=re(()=>A(t).popper),u=fe(at(e.zIndex)?e.zIndex:s()),i=re(()=>[p.b(),p.is("pure",e.pure),p.is(e.effect),e.popperClass]),h=re(()=>[{zIndex:A(u)},A(n).popper,e.popperStyle||{}]),f=re(()=>r.value==="dialog"?"false":void 0),o=re(()=>A(n).arrow||{});return{ariaModal:f,arrowStyle:o,contentAttrs:m,contentClass:i,contentStyle:h,contentZIndex:u,updateZIndex:()=>{u.value=at(e.zIndex)?e.zIndex:s()}}},z2=(e,t)=>{const n=fe(!1),r=fe();return{focusStartRef:r,trapped:n,onFocusAfterReleased:h=>{var f;((f=h.detail)==null?void 0:f.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:h=>{e.visible&&!n.value&&(h.target&&(r.value=h.target),n.value=!0)},onFocusoutPrevented:h=>{e.trapping||(h.detail.focusReason==="pointer"&&h.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},$2=Oe({name:"ElPopperContent"}),H2=Oe({...$2,props:kp,emits:R2,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:s,trapped:p,onFocusAfterReleased:m,onFocusAfterTrapped:u,onFocusInTrap:i,onFocusoutPrevented:h,onReleaseRequested:f}=z2(r,n),{attributes:o,arrowRef:l,contentRef:a,styles:c,instanceRef:g,role:d,update:v}=j2(r),{ariaModal:_,arrowStyle:b,contentAttrs:y,contentClass:w,contentStyle:C,updateZIndex:S}=N2(r,{styles:c,attributes:o,role:d}),T=Pe(Hs,void 0),j=fe();Ze(wp,{arrowStyle:b,arrowRef:l,arrowOffset:j}),T&&(T.addInputId||T.removeInputId)&&Ze(Hs,{...T,addInputId:wt,removeInputId:wt});let W;const V=(Q=!0)=>{v(),Q&&S()},H=()=>{V(!1),r.visible&&r.focusOnShow?p.value=!0:r.visible===!1&&(p.value=!1)};return Ke(()=>{Ae(()=>r.triggerTargetEl,(Q,se)=>{W==null||W(),W=void 0;const le=A(Q||a.value),ue=A(se||a.value);zr(le)&&(W=Ae([d,()=>r.ariaLabel,_,()=>r.id],X=>{["role","aria-label","aria-modal","id"].forEach((K,x)=>{yo(X[x])?le.removeAttribute(K):le.setAttribute(K,X[x])})},{immediate:!0})),ue!==le&&zr(ue)&&["role","aria-label","aria-modal","id"].forEach(X=>{ue.removeAttribute(X)})},{immediate:!0}),Ae(()=>r.visible,H,{immediate:!0})}),Nt(()=>{W==null||W(),W=void 0}),t({popperContentRef:a,popperInstanceRef:g,updatePopper:V,contentStyle:C}),(Q,se)=>(te(),he("div",Ct({ref_key:"contentRef",ref:a},A(y),{style:A(C),class:A(w),tabindex:"-1",onMouseenter:se[0]||(se[0]=le=>Q.$emit("mouseenter",le)),onMouseleave:se[1]||(se[1]=le=>Q.$emit("mouseleave",le))}),[ve(A(k2),{trapped:A(p),"trap-on-focus-in":!0,"focus-trap-el":A(a),"focus-start-el":A(s),onFocusAfterTrapped:A(u),onFocusAfterReleased:A(m),onFocusin:A(i),onFocusoutPrevented:A(h),onReleaseRequested:A(f)},{default:_e(()=>[Ee(Q.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var U2=He(H2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const W2=on(u2),oc=Symbol("elTooltip"),Ht=Ve({...bx,...kp,appendTo:{type:Me([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Me(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),zi=Ve({...Op,disabled:Boolean,trigger:{type:Me([String,Array]),default:"hover"},triggerKeys:{type:Me(Array),default:()=>[Be.enter,Be.space]}}),{useModelToggleProps:Y2,useModelToggleEmits:X2,useModelToggle:V2}=Zd("visible"),G2=Ve({...Cp,...Y2,...Ht,...zi,...Sp,showArrow:{type:Boolean,default:!0}}),K2=[...X2,"before-show","before-hide","show","hide","open","close"],q2=(e,t)=>Ce(e)?e.includes(t):e===t,xr=(e,t,n)=>r=>{q2(A(e),t)&&n(r)},J2=Oe({name:"ElTooltipTrigger"}),Z2=Oe({...J2,props:zi,setup(e,{expose:t}){const n=e,r=Qe("tooltip"),{controlled:s,id:p,open:m,onOpen:u,onClose:i,onToggle:h}=Pe(oc,void 0),f=fe(null),o=()=>{if(A(s)||n.disabled)return!0},l=bt(n,"trigger"),a=nt(o,xr(l,"hover",u)),c=nt(o,xr(l,"hover",i)),g=nt(o,xr(l,"click",y=>{y.button===0&&h(y)})),d=nt(o,xr(l,"focus",u)),v=nt(o,xr(l,"focus",i)),_=nt(o,xr(l,"contextmenu",y=>{y.preventDefault(),h(y)})),b=nt(o,y=>{const{code:w}=y;n.triggerKeys.includes(w)&&(y.preventDefault(),h(y))});return t({triggerRef:f}),(y,w)=>(te(),Te(A(m2),{id:A(p),"virtual-ref":y.virtualRef,open:A(m),"virtual-triggering":y.virtualTriggering,class:ye(A(r).e("trigger")),onBlur:A(v),onClick:A(g),onContextmenu:A(_),onFocus:A(d),onMouseenter:A(a),onMouseleave:A(c),onKeydown:A(b)},{default:_e(()=>[Ee(y.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Q2=He(Z2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const eT=Oe({name:"ElTooltipContent",inheritAttrs:!1}),tT=Oe({...eT,props:Ht,setup(e,{expose:t}){const n=e,{selector:r}=hp(),s=Qe("tooltip"),p=fe(null),m=fe(!1),{controlled:u,id:i,open:h,trigger:f,onClose:o,onOpen:l,onShow:a,onHide:c,onBeforeShow:g,onBeforeHide:d}=Pe(oc,void 0),v=re(()=>n.transition||`${s.namespace.value}-fade-in-linear`),_=re(()=>n.persistent);Nt(()=>{m.value=!0});const b=re(()=>A(_)?!0:A(h)),y=re(()=>n.disabled?!1:A(h)),w=re(()=>n.appendTo||r.value),C=re(()=>{var X;return(X=n.style)!=null?X:{}}),S=re(()=>!A(h)),T=()=>{c()},j=()=>{if(A(u))return!0},W=nt(j,()=>{n.enterable&&A(f)==="hover"&&l()}),V=nt(j,()=>{A(f)==="hover"&&o()}),H=()=>{var X,K;(K=(X=p.value)==null?void 0:X.updatePopper)==null||K.call(X),g==null||g()},Q=()=>{d==null||d()},se=()=>{a(),ue=$w(re(()=>{var X;return(X=p.value)==null?void 0:X.popperContentRef}),()=>{if(A(u))return;A(f)!=="hover"&&o()})},le=()=>{n.virtualTriggering||o()};let ue;return Ae(()=>A(h),X=>{X||ue==null||ue()},{flush:"post"}),Ae(()=>n.content,()=>{var X,K;(K=(X=p.value)==null?void 0:X.updatePopper)==null||K.call(X)}),t({contentRef:p}),(X,K)=>(te(),Te(El,{disabled:!X.teleported,to:A(w)},[ve(yn,{name:A(v),onAfterLeave:T,onBeforeEnter:H,onAfterEnter:se,onBeforeLeave:Q},{default:_e(()=>[A(b)?pt((te(),Te(A(U2),Ct({key:0,id:A(i),ref_key:"contentRef",ref:p},X.$attrs,{"aria-label":X.ariaLabel,"aria-hidden":A(S),"boundaries-padding":X.boundariesPadding,"fallback-placements":X.fallbackPlacements,"gpu-acceleration":X.gpuAcceleration,offset:X.offset,placement:X.placement,"popper-options":X.popperOptions,strategy:X.strategy,effect:X.effect,enterable:X.enterable,pure:X.pure,"popper-class":X.popperClass,"popper-style":[X.popperStyle,A(C)],"reference-el":X.referenceEl,"trigger-target-el":X.triggerTargetEl,visible:A(y),"z-index":X.zIndex,onMouseenter:A(W),onMouseleave:A(V),onBlur:le,onClose:A(o)}),{default:_e(()=>[m.value?we("v-if",!0):Ee(X.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Tt,A(y)]]):we("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var nT=He(tT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const rT=["innerHTML"],iT={key:1},sT=Oe({name:"ElTooltip"}),oT=Oe({...sT,props:G2,emits:K2,setup(e,{expose:t,emit:n}){const r=e;yx();const s=xo(),p=fe(),m=fe(),u=()=>{var v;const _=A(p);_&&((v=_.popperInstanceRef)==null||v.update())},i=fe(!1),h=fe(),{show:f,hide:o,hasUpdateHandler:l}=V2({indicator:i,toggleReason:h}),{onOpen:a,onClose:c}=wx({showAfter:bt(r,"showAfter"),hideAfter:bt(r,"hideAfter"),autoClose:bt(r,"autoClose"),open:f,close:o}),g=re(()=>zl(r.visible)&&!l.value);Ze(oc,{controlled:g,id:s,open:Yi(i),trigger:bt(r,"trigger"),onOpen:v=>{a(v)},onClose:v=>{c(v)},onToggle:v=>{A(i)?c(v):a(v)},onShow:()=>{n("show",h.value)},onHide:()=>{n("hide",h.value)},onBeforeShow:()=>{n("before-show",h.value)},onBeforeHide:()=>{n("before-hide",h.value)},updatePopper:u}),Ae(()=>r.disabled,v=>{v&&i.value&&(i.value=!1)});const d=v=>{var _,b;const y=(b=(_=m.value)==null?void 0:_.contentRef)==null?void 0:b.popperContentRef,w=(v==null?void 0:v.relatedTarget)||document.activeElement;return y&&y.contains(w)};return zh(()=>i.value&&o()),t({popperRef:p,contentRef:m,isFocusInsideContent:d,updatePopper:u,onOpen:a,onClose:c,hide:o}),(v,_)=>(te(),Te(A(W2),{ref_key:"popperRef",ref:p,role:v.role},{default:_e(()=>[ve(Q2,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:_e(()=>[v.$slots.default?Ee(v.$slots,"default",{key:0}):we("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ve(nT,{ref_key:"contentRef",ref:m,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:_e(()=>[Ee(v.$slots,"content",{},()=>[v.rawContent?(te(),he("span",{key:0,innerHTML:v.content},null,8,rT)):(te(),he("span",iT,$e(v.content),1))]),v.showArrow?(te(),Te(A(d2),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):we("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var aT=He(oT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Ap=on(aT),lT=Ve({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),cT=["textContent"],uT=Oe({name:"ElBadge"}),fT=Oe({...uT,props:lT,setup(e,{expose:t}){const n=e,r=Qe("badge"),s=re(()=>n.isDot?"":at(n.value)&&at(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`);return t({content:s}),(p,m)=>(te(),he("div",{class:ye(A(r).b())},[Ee(p.$slots,"default"),ve(yn,{name:`${A(r).namespace.value}-zoom-in-center`,persisted:""},{default:_e(()=>[pt(ie("sup",{class:ye([A(r).e("content"),A(r).em("content",p.type),A(r).is("fixed",!!p.$slots.default),A(r).is("dot",p.isDot)]),textContent:$e(A(s))},null,10,cT),[[Tt,!p.hidden&&(A(s)||p.isDot)]])]),_:1},8,["name"])],2))}});var hT=He(fT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const dT=on(hT),Mp=Symbol("buttonGroupContextKey"),pT=(e,t)=>{iS({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},re(()=>e.type==="text"));const n=Pe(Mp,void 0),r=Ql("button"),{form:s}=yp(),p=tc(re(()=>n==null?void 0:n.size)),m=nc(),u=fe(),i=Vh(),h=re(()=>e.type||(n==null?void 0:n.type)||""),f=re(()=>{var c,g,d;return(d=(g=e.autoInsertSpace)!=null?g:(c=r.value)==null?void 0:c.autoInsertSpace)!=null?d:!1}),o=re(()=>e.tag==="button"?{ariaDisabled:m.value||e.loading,disabled:m.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),l=re(()=>{var c;const g=(c=i.default)==null?void 0:c.call(i);if(f.value&&(g==null?void 0:g.length)===1){const d=g[0];if((d==null?void 0:d.type)===Qr){const v=d.children;return/^\p{Unified_Ideograph}{2}$/u.test(v.trim())}}return!1});return{_disabled:m,_size:p,_type:h,_ref:u,_props:o,shouldAddSpace:l,handleClick:c=>{e.nativeType==="reset"&&(s==null||s.resetFields()),t("click",c)}}},gT=["default","primary","success","warning","info","danger","text",""],vT=["button","submit","reset"],Ha=Ve({size:vp,disabled:Boolean,type:{type:String,values:gT,default:""},icon:{type:$r},nativeType:{type:String,values:vT,default:"button"},loading:Boolean,loadingIcon:{type:$r,default:()=>zd},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Me([String,Object]),default:"button"}}),mT={click:e=>e instanceof MouseEvent};function vt(e,t){_T(e)&&(e="100%");var n=yT(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function hs(e){return Math.min(1,Math.max(0,e))}function _T(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function yT(e){return typeof e=="string"&&e.indexOf("%")!==-1}function Rp(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ds(e){return e<=1?"".concat(Number(e)*100,"%"):e}function cr(e){return e.length===1?"0"+e:String(e)}function bT(e,t,n){return{r:vt(e,255)*255,g:vt(t,255)*255,b:vt(n,255)*255}}function Pf(e,t,n){e=vt(e,255),t=vt(t,255),n=vt(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),p=0,m=0,u=(r+s)/2;if(r===s)m=0,p=0;else{var i=r-s;switch(m=u>.5?i/(2-r-s):i/(r+s),r){case e:p=(t-n)/i+(t<n?6:0);break;case t:p=(n-e)/i+2;break;case n:p=(e-t)/i+4;break}p/=6}return{h:p,s:m,l:u}}function na(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wT(e,t,n){var r,s,p;if(e=vt(e,360),t=vt(t,100),n=vt(n,100),t===0)s=n,p=n,r=n;else{var m=n<.5?n*(1+t):n+t-n*t,u=2*n-m;r=na(u,m,e+1/3),s=na(u,m,e),p=na(u,m,e-1/3)}return{r:r*255,g:s*255,b:p*255}}function kf(e,t,n){e=vt(e,255),t=vt(t,255),n=vt(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),p=0,m=r,u=r-s,i=r===0?0:u/r;if(r===s)p=0;else{switch(r){case e:p=(t-n)/u+(t<n?6:0);break;case t:p=(n-e)/u+2;break;case n:p=(e-t)/u+4;break}p/=6}return{h:p,s:i,v:m}}function CT(e,t,n){e=vt(e,360)*6,t=vt(t,100),n=vt(n,100);var r=Math.floor(e),s=e-r,p=n*(1-t),m=n*(1-s*t),u=n*(1-(1-s)*t),i=r%6,h=[n,m,p,p,u,n][i],f=[u,n,n,m,p,p][i],o=[p,p,u,n,n,m][i];return{r:h*255,g:f*255,b:o*255}}function Af(e,t,n,r){var s=[cr(Math.round(e).toString(16)),cr(Math.round(t).toString(16)),cr(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function ST(e,t,n,r,s){var p=[cr(Math.round(e).toString(16)),cr(Math.round(t).toString(16)),cr(Math.round(n).toString(16)),cr(xT(r))];return s&&p[0].startsWith(p[0].charAt(1))&&p[1].startsWith(p[1].charAt(1))&&p[2].startsWith(p[2].charAt(1))&&p[3].startsWith(p[3].charAt(1))?p[0].charAt(0)+p[1].charAt(0)+p[2].charAt(0)+p[3].charAt(0):p.join("")}function xT(e){return Math.round(parseFloat(e)*255).toString(16)}function Mf(e){return Ft(e)/255}function Ft(e){return parseInt(e,16)}function TT(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Ua={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function OT(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,p=null,m=!1,u=!1;return typeof e=="string"&&(e=kT(e)),typeof e=="object"&&(Tn(e.r)&&Tn(e.g)&&Tn(e.b)?(t=bT(e.r,e.g,e.b),m=!0,u=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Tn(e.h)&&Tn(e.s)&&Tn(e.v)?(r=ds(e.s),s=ds(e.v),t=CT(e.h,r,s),m=!0,u="hsv"):Tn(e.h)&&Tn(e.s)&&Tn(e.l)&&(r=ds(e.s),p=ds(e.l),t=wT(e.h,r,p),m=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Rp(n),{ok:m,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var ET="[-\\+]?\\d+%?",PT="[-\\+]?\\d*\\.\\d+%?",Xn="(?:".concat(PT,")|(?:").concat(ET,")"),ra="[\\s|\\(]+(".concat(Xn,")[,|\\s]+(").concat(Xn,")[,|\\s]+(").concat(Xn,")\\s*\\)?"),ia="[\\s|\\(]+(".concat(Xn,")[,|\\s]+(").concat(Xn,")[,|\\s]+(").concat(Xn,")[,|\\s]+(").concat(Xn,")\\s*\\)?"),Jt={CSS_UNIT:new RegExp(Xn),rgb:new RegExp("rgb"+ra),rgba:new RegExp("rgba"+ia),hsl:new RegExp("hsl"+ra),hsla:new RegExp("hsla"+ia),hsv:new RegExp("hsv"+ra),hsva:new RegExp("hsva"+ia),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function kT(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(Ua[e])e=Ua[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Jt.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Jt.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Jt.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Jt.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Jt.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Jt.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Jt.hex8.exec(e),n?{r:Ft(n[1]),g:Ft(n[2]),b:Ft(n[3]),a:Mf(n[4]),format:t?"name":"hex8"}:(n=Jt.hex6.exec(e),n?{r:Ft(n[1]),g:Ft(n[2]),b:Ft(n[3]),format:t?"name":"hex"}:(n=Jt.hex4.exec(e),n?{r:Ft(n[1]+n[1]),g:Ft(n[2]+n[2]),b:Ft(n[3]+n[3]),a:Mf(n[4]+n[4]),format:t?"name":"hex8"}:(n=Jt.hex3.exec(e),n?{r:Ft(n[1]+n[1]),g:Ft(n[2]+n[2]),b:Ft(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Tn(e){return!!Jt.CSS_UNIT.exec(String(e))}var AT=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=TT(t)),this.originalInput=t;var s=OT(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,s,p=t.r/255,m=t.g/255,u=t.b/255;return p<=.03928?n=p/12.92:n=Math.pow((p+.055)/1.055,2.4),m<=.03928?r=m/12.92:r=Math.pow((m+.055)/1.055,2.4),u<=.03928?s=u/12.92:s=Math.pow((u+.055)/1.055,2.4),.2126*n+.7152*r+.0722*s},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=Rp(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=kf(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=kf(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=Pf(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=Pf(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),Af(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),ST(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(vt(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(vt(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+Af(this.r,this.g,this.b,!1),n=0,r=Object.entries(Ua);n<r.length;n++){var s=r[n],p=s[0],m=s[1];if(t===m)return p}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,s=this.a<1&&this.a>=0,p=!n&&s&&(t.startsWith("hex")||t==="name");return p?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=hs(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=hs(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=hs(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=hs(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),s=new e(t).toRgb(),p=n/100,m={r:(s.r-r.r)*p+r.r,g:(s.g-r.g)*p+r.g,b:(s.b-r.b)*p+r.b,a:(s.a-r.a)*p+r.a};return new e(m)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),s=360/n,p=[this];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,p.push(new e(r));return p},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,s=n.s,p=n.v,m=[],u=1/t;t--;)m.push(new e({h:r,s,v:p})),p=(p+u)%1;return m},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),s=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,s=[this],p=360/t,m=1;m<t;m++)s.push(new e({h:(r+m*p)%360,s:n.s,l:n.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Nn(e,t=20){return e.mix("#141414",t).toString()}function MT(e){const t=nc(),n=Qe("button");return re(()=>{let r={};const s=e.color;if(s){const p=new AT(s),m=e.dark?p.tint(20).toString():Nn(p,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?Nn(p,90):p.tint(90).toString(),"text-color":s,"border-color":e.dark?Nn(p,50):p.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":m,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":m}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?Nn(p,90):p.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?Nn(p,50):p.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?Nn(p,80):p.tint(80).toString());else{const u=e.dark?Nn(p,30):p.tint(30).toString(),i=p.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":s,"text-color":i,"border-color":s,"hover-bg-color":u,"hover-text-color":i,"hover-border-color":u,"active-bg-color":m,"active-border-color":m}),t.value){const h=e.dark?Nn(p,50):p.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=h,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=h}}}return r})}const RT=Oe({name:"ElButton"}),DT=Oe({...RT,props:Ha,emits:mT,setup(e,{expose:t,emit:n}){const r=e,s=MT(r),p=Qe("button"),{_ref:m,_size:u,_type:i,_disabled:h,_props:f,shouldAddSpace:o,handleClick:l}=pT(r,n);return t({ref:m,size:u,type:i,disabled:h,shouldAddSpace:o}),(a,c)=>(te(),Te(Qt(a.tag),Ct({ref_key:"_ref",ref:m},A(f),{class:[A(p).b(),A(p).m(A(i)),A(p).m(A(u)),A(p).is("disabled",A(h)),A(p).is("loading",a.loading),A(p).is("plain",a.plain),A(p).is("round",a.round),A(p).is("circle",a.circle),A(p).is("text",a.text),A(p).is("link",a.link),A(p).is("has-bg",a.bg)],style:A(s),onClick:A(l)}),{default:_e(()=>[a.loading?(te(),he(Re,{key:0},[a.$slots.loading?Ee(a.$slots,"loading",{key:0}):(te(),Te(A(Ye),{key:1,class:ye(A(p).is("loading"))},{default:_e(()=>[(te(),Te(Qt(a.loadingIcon)))]),_:1},8,["class"]))],64)):a.icon||a.$slots.icon?(te(),Te(A(Ye),{key:1},{default:_e(()=>[a.icon?(te(),Te(Qt(a.icon),{key:0})):Ee(a.$slots,"icon",{key:1})]),_:3})):we("v-if",!0),a.$slots.default?(te(),he("span",{key:2,class:ye({[A(p).em("text","expand")]:A(o)})},[Ee(a.$slots,"default")],2)):we("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var IT=He(DT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const FT={size:Ha.size,type:Ha.type},LT=Oe({name:"ElButtonGroup"}),BT=Oe({...LT,props:FT,setup(e){const t=e;Ze(Mp,gr({size:bt(t,"size"),type:bt(t,"type")}));const n=Qe("button");return(r,s)=>(te(),he("div",{class:ye(`${A(n).b("group")}`)},[Ee(r.$slots,"default")],2))}});var Dp=He(BT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const Ip=on(IT,{ButtonGroup:Dp});$l(Dp);function jT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}const NT=Oe({inheritAttrs:!1});function zT(e,t,n,r,s,p){return Ee(e.$slots,"default")}var $T=He(NT,[["render",zT],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const HT=Oe({name:"ElCollectionItem",inheritAttrs:!1});function UT(e,t,n,r,s,p){return Ee(e.$slots,"default")}var WT=He(HT,[["render",UT],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Fp="data-el-collection-item",Lp=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),s=Symbol(n),p={...$T,name:t,setup(){const u=fe(null),i=new Map;Ze(r,{itemMap:i,getItems:()=>{const f=A(u);if(!f)return[];const o=Array.from(f.querySelectorAll(`[${Fp}]`));return[...i.values()].sort((a,c)=>o.indexOf(a.ref)-o.indexOf(c.ref))},collectionRef:u})}},m={...WT,name:n,setup(u,{attrs:i}){const h=fe(null),f=Pe(r,void 0);Ze(s,{collectionItemRef:h}),Ke(()=>{const o=A(h);o&&f.itemMap.set(o,{ref:o,...i})}),Nt(()=>{const o=A(h);f.itemMap.delete(o)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:p,ElCollectionItem:m}},YT=Ve({style:{type:Me([String,Array,Object])},currentTabId:{type:Me(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Me(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:XT,ElCollectionItem:VT,COLLECTION_INJECTION_KEY:ac,COLLECTION_ITEM_INJECTION_KEY:GT}=Lp("RovingFocusGroup"),lc=Symbol("elRovingFocusGroup"),Bp=Symbol("elRovingFocusGroupItem"),KT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},qT=(e,t)=>{if(t!=="rtl")return e;switch(e){case Be.right:return Be.left;case Be.left:return Be.right;default:return e}},JT=(e,t,n)=>{const r=qT(e.key,n);if(!(t==="vertical"&&[Be.left,Be.right].includes(r))&&!(t==="horizontal"&&[Be.up,Be.down].includes(r)))return KT[r]},ZT=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),cc=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},Rf="currentTabIdChange",Df="rovingFocusGroup.entryFocus",QT={bubbles:!1,cancelable:!0},eO=Oe({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:YT,emits:[Rf,"entryFocus"],setup(e,{emit:t}){var n;const r=fe((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),s=fe(!1),p=fe(!1),m=fe(null),{getItems:u}=Pe(ac,void 0),i=re(()=>[{outline:"none"},e.style]),h=g=>{t(Rf,g)},f=()=>{s.value=!0},o=nt(g=>{var d;(d=e.onMousedown)==null||d.call(e,g)},()=>{p.value=!0}),l=nt(g=>{var d;(d=e.onFocus)==null||d.call(e,g)},g=>{const d=!A(p),{target:v,currentTarget:_}=g;if(v===_&&d&&!A(s)){const b=new Event(Df,QT);if(_==null||_.dispatchEvent(b),!b.defaultPrevented){const y=u().filter(j=>j.focusable),w=y.find(j=>j.active),C=y.find(j=>j.id===A(r)),T=[w,C,...y].filter(Boolean).map(j=>j.ref);cc(T)}}p.value=!1}),a=nt(g=>{var d;(d=e.onBlur)==null||d.call(e,g)},()=>{s.value=!1}),c=(...g)=>{t("entryFocus",...g)};Ze(lc,{currentTabbedId:Yi(r),loop:bt(e,"loop"),tabIndex:re(()=>A(s)?-1:0),rovingFocusGroupRef:m,rovingFocusGroupRootStyle:i,orientation:bt(e,"orientation"),dir:bt(e,"dir"),onItemFocus:h,onItemShiftTab:f,onBlur:a,onFocus:l,onMousedown:o}),Ae(()=>e.currentTabId,g=>{r.value=g??null}),Ot(m,Df,c)}});function tO(e,t,n,r,s,p){return Ee(e.$slots,"default")}var nO=He(eO,[["render",tO],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const rO=Oe({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:XT,ElRovingFocusGroupImpl:nO}});function iO(e,t,n,r,s,p){const m=Ue("el-roving-focus-group-impl"),u=Ue("el-focus-group-collection");return te(),Te(u,null,{default:_e(()=>[ve(m,rv(sd(e.$attrs)),{default:_e(()=>[Ee(e.$slots,"default")]),_:3},16)]),_:3})}var sO=He(rO,[["render",iO],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const oO=Oe({components:{ElRovingFocusCollectionItem:VT},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:s,onItemShiftTab:p}=Pe(lc,void 0),{getItems:m}=Pe(ac,void 0),u=xo(),i=fe(null),h=nt(a=>{t("mousedown",a)},a=>{e.focusable?s(A(u)):a.preventDefault()}),f=nt(a=>{t("focus",a)},()=>{s(A(u))}),o=nt(a=>{t("keydown",a)},a=>{const{key:c,shiftKey:g,target:d,currentTarget:v}=a;if(c===Be.tab&&g){p();return}if(d!==v)return;const _=JT(a);if(_){a.preventDefault();let y=m().filter(w=>w.focusable).map(w=>w.ref);switch(_){case"last":{y.reverse();break}case"prev":case"next":{_==="prev"&&y.reverse();const w=y.indexOf(v);y=r.value?ZT(y,w+1):y.slice(w+1);break}}lt(()=>{cc(y)})}}),l=re(()=>n.value===A(u));return Ze(Bp,{rovingFocusGroupItemRef:i,tabIndex:re(()=>A(l)?0:-1),handleMousedown:h,handleFocus:f,handleKeydown:o}),{id:u,handleKeydown:o,handleFocus:f,handleMousedown:h}}});function aO(e,t,n,r,s,p){const m=Ue("el-roving-focus-collection-item");return te(),Te(m,{id:e.id,focusable:e.focusable,active:e.active},{default:_e(()=>[Ee(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var lO=He(oO,[["render",aO],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const Ts=Ve({trigger:zi.trigger,effect:{...Ht.effect,default:"light"},type:{type:Me(String)},placement:{type:Me(String),default:"bottom"},popperOptions:{type:Me(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Me([Number,String]),default:0},maxHeight:{type:Me([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:Me(Object)},teleported:Ht.teleported}),jp=Ve({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:$r}}),cO=Ve({onKeydown:{type:Me(Function)}}),uO=[Be.down,Be.pageDown,Be.home],Np=[Be.up,Be.pageUp,Be.end],fO=[...uO,...Np],{ElCollection:hO,ElCollectionItem:dO,COLLECTION_INJECTION_KEY:pO,COLLECTION_ITEM_INJECTION_KEY:gO}=Lp("Dropdown"),Oo=Symbol("elDropdown"),{ButtonGroup:vO}=Ip,mO=Oe({name:"ElDropdown",components:{ElButton:Ip,ElButtonGroup:vO,ElScrollbar:o2,ElDropdownCollection:hO,ElTooltip:Ap,ElRovingFocusGroup:sO,ElOnlyChild:xp,ElIcon:Ye,ArrowDown:Ll},props:Ts,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=Dt(),r=Qe("dropdown"),{t:s}=Co(),p=fe(),m=fe(),u=fe(null),i=fe(null),h=fe(null),f=fe(null),o=fe(!1),l=[Be.enter,Be.space,Be.down],a=re(()=>({maxHeight:Bi(e.maxHeight)})),c=re(()=>[r.m(w.value)]),g=re(()=>IC(e.trigger)),d=xo().value,v=re(()=>e.id||d);Ae([p,g],([X,K],[x])=>{var D,F,I;(D=x==null?void 0:x.$el)!=null&&D.removeEventListener&&x.$el.removeEventListener("pointerenter",S),(F=X==null?void 0:X.$el)!=null&&F.removeEventListener&&X.$el.removeEventListener("pointerenter",S),(I=X==null?void 0:X.$el)!=null&&I.addEventListener&&K.includes("hover")&&X.$el.addEventListener("pointerenter",S)},{immediate:!0}),Nt(()=>{var X,K;(K=(X=p.value)==null?void 0:X.$el)!=null&&K.removeEventListener&&p.value.$el.removeEventListener("pointerenter",S)});function _(){b()}function b(){var X;(X=u.value)==null||X.onClose()}function y(){var X;(X=u.value)==null||X.onOpen()}const w=tc();function C(...X){t("command",...X)}function S(){var X,K;(K=(X=p.value)==null?void 0:X.$el)==null||K.focus()}function T(){}function j(){const X=A(i);g.value.includes("hover")&&(X==null||X.focus()),f.value=null}function W(X){f.value=X}function V(X){o.value||(X.preventDefault(),X.stopImmediatePropagation())}function H(){t("visible-change",!0)}function Q(X){(X==null?void 0:X.type)==="keydown"&&i.value.focus()}function se(){t("visible-change",!1)}return Ze(Oo,{contentRef:i,role:re(()=>e.role),triggerId:v,isUsingKeyboard:o,onItemEnter:T,onItemLeave:j}),Ze("elDropdown",{instance:n,dropdownSize:w,handleClick:_,commandHandler:C,trigger:bt(e,"trigger"),hideOnClick:bt(e,"hideOnClick")}),{t:s,ns:r,scrollbar:h,wrapStyle:a,dropdownTriggerKls:c,dropdownSize:w,triggerId:v,triggerKeys:l,currentTabId:f,handleCurrentTabIdChange:W,handlerMainButtonClick:X=>{t("click",X)},handleEntryFocus:V,handleClose:b,handleOpen:y,handleBeforeShowTooltip:H,handleShowTooltip:Q,handleBeforeHideTooltip:se,onFocusAfterTrapped:X=>{var K,x;X.preventDefault(),(x=(K=i.value)==null?void 0:K.focus)==null||x.call(K,{preventScroll:!0})},popperRef:u,contentRef:i,triggeringElementRef:p,referenceElementRef:m}}});function _O(e,t,n,r,s,p){var m;const u=Ue("el-dropdown-collection"),i=Ue("el-roving-focus-group"),h=Ue("el-scrollbar"),f=Ue("el-only-child"),o=Ue("el-tooltip"),l=Ue("el-button"),a=Ue("arrow-down"),c=Ue("el-icon"),g=Ue("el-button-group");return te(),he("div",{class:ye([e.ns.b(),e.ns.is("disabled",e.disabled)])},[ve(o,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(m=e.referenceElementRef)==null?void 0:m.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},dm({content:_e(()=>[ve(h,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:_e(()=>[ve(i,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:_e(()=>[ve(u,null,{default:_e(()=>[Ee(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:_e(()=>[ve(f,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:_e(()=>[Ee(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(te(),Te(g,{key:0},{default:_e(()=>[ve(l,Ct({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:_e(()=>[Ee(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ve(l,Ct({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:_e(()=>[ve(c,{class:ye(e.ns.e("icon"))},{default:_e(()=>[ve(a)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):we("v-if",!0)],2)}var yO=He(mO,[["render",_O],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const bO=Oe({name:"DropdownItemImpl",components:{ElIcon:Ye},props:jp,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=Qe("dropdown"),{role:r}=Pe(Oo,void 0),{collectionItemRef:s}=Pe(gO,void 0),{collectionItemRef:p}=Pe(GT,void 0),{rovingFocusGroupItemRef:m,tabIndex:u,handleFocus:i,handleKeydown:h,handleMousedown:f}=Pe(Bp,void 0),o=Gd(s,p,m),l=re(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),a=nt(c=>{const{code:g}=c;if(g===Be.enter||g===Be.space)return c.preventDefault(),c.stopImmediatePropagation(),t("clickimpl",c),!0},h);return{ns:n,itemRef:o,dataset:{[Fp]:""},role:l,tabIndex:u,handleFocus:i,handleKeydown:a,handleMousedown:f}}}),wO=["aria-disabled","tabindex","role"];function CO(e,t,n,r,s,p){const m=Ue("el-icon");return te(),he(Re,null,[e.divided?(te(),he("li",Ct({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):we("v-if",!0),ie("li",Ct({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=u=>e.$emit("clickimpl",u)),onFocus:t[1]||(t[1]=(...u)=>e.handleFocus&&e.handleFocus(...u)),onKeydown:t[2]||(t[2]=qn((...u)=>e.handleKeydown&&e.handleKeydown(...u),["self"])),onMousedown:t[3]||(t[3]=(...u)=>e.handleMousedown&&e.handleMousedown(...u)),onPointermove:t[4]||(t[4]=u=>e.$emit("pointermove",u)),onPointerleave:t[5]||(t[5]=u=>e.$emit("pointerleave",u))}),[e.icon?(te(),Te(m,{key:0},{default:_e(()=>[(te(),Te(Qt(e.icon)))]),_:1})):we("v-if",!0),Ee(e.$slots,"default")],16,wO)],64)}var SO=He(bO,[["render",CO],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const zp=()=>{const e=Pe("elDropdown",{}),t=re(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},xO=Oe({name:"ElDropdownItem",components:{ElDropdownCollectionItem:dO,ElRovingFocusItem:lO,ElDropdownItemImpl:SO},inheritAttrs:!1,props:jp,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=zp(),s=Dt(),p=fe(null),m=re(()=>{var a,c;return(c=(a=A(p))==null?void 0:a.textContent)!=null?c:""}),{onItemEnter:u,onItemLeave:i}=Pe(Oo,void 0),h=nt(a=>(t("pointermove",a),a.defaultPrevented),Nu(a=>{if(e.disabled){i(a);return}const c=a.currentTarget;c===document.activeElement||c.contains(document.activeElement)||(u(a),a.defaultPrevented||c==null||c.focus())})),f=nt(a=>(t("pointerleave",a),a.defaultPrevented),Nu(a=>{i(a)})),o=nt(a=>{if(!e.disabled)return t("click",a),a.type!=="keydown"&&a.defaultPrevented},a=>{var c,g,d;if(e.disabled){a.stopImmediatePropagation();return}(c=r==null?void 0:r.hideOnClick)!=null&&c.value&&((g=r.handleClick)==null||g.call(r)),(d=r.commandHandler)==null||d.call(r,e.command,s,a)}),l=re(()=>({...e,...n}));return{handleClick:o,handlePointerMove:h,handlePointerLeave:f,textContent:m,propsAndAttrs:l}}});function TO(e,t,n,r,s,p){var m;const u=Ue("el-dropdown-item-impl"),i=Ue("el-roving-focus-item"),h=Ue("el-dropdown-collection-item");return te(),Te(h,{disabled:e.disabled,"text-value":(m=e.textValue)!=null?m:e.textContent},{default:_e(()=>[ve(i,{focusable:!e.disabled},{default:_e(()=>[ve(u,Ct(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:_e(()=>[Ee(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var $p=He(xO,[["render",TO],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const OO=Oe({name:"ElDropdownMenu",props:cO,setup(e){const t=Qe("dropdown"),{_elDropdownSize:n}=zp(),r=n.value,{focusTrapRef:s,onKeydown:p}=Pe(Ep,void 0),{contentRef:m,role:u,triggerId:i}=Pe(Oo,void 0),{collectionRef:h,getItems:f}=Pe(pO,void 0),{rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,tabIndex:a,onBlur:c,onFocus:g,onMousedown:d}=Pe(lc,void 0),{collectionRef:v}=Pe(ac,void 0),_=re(()=>[t.b("menu"),t.bm("menu",r==null?void 0:r.value)]),b=Gd(m,h,s,o,v),y=nt(C=>{var S;(S=e.onKeydown)==null||S.call(e,C)},C=>{const{currentTarget:S,code:T,target:j}=C;if(S.contains(j),Be.tab===T&&C.stopImmediatePropagation(),C.preventDefault(),j!==A(m)||!fO.includes(T))return;const V=f().filter(H=>!H.disabled).map(H=>H.ref);Np.includes(T)&&V.reverse(),cc(V)});return{size:r,rovingFocusGroupRootStyle:l,tabIndex:a,dropdownKls:_,role:u,triggerId:i,dropdownListWrapperRef:b,handleKeydown:C=>{y(C),p(C)},onBlur:c,onFocus:g,onMousedown:d}}}),EO=["role","aria-labelledby"];function PO(e,t,n,r,s,p){return te(),he("ul",{ref:e.dropdownListWrapperRef,class:ye(e.dropdownKls),style:Ge(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...m)=>e.onBlur&&e.onBlur(...m)),onFocus:t[1]||(t[1]=(...m)=>e.onFocus&&e.onFocus(...m)),onKeydown:t[2]||(t[2]=qn((...m)=>e.handleKeydown&&e.handleKeydown(...m),["self"])),onMousedown:t[3]||(t[3]=qn((...m)=>e.onMousedown&&e.onMousedown(...m),["self"]))},[Ee(e.$slots,"default")],46,EO)}var Hp=He(OO,[["render",PO],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const kO=on(yO,{DropdownItem:$p,DropdownMenu:Hp}),AO=$l($p),MO=$l(Hp),RO=Ve({urlList:{type:Me(Array),default:()=>wo([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),DO={close:()=>!0,switch:e=>at(e),rotate:e=>at(e)},IO=["src"],FO=Oe({name:"ElImageViewer"}),LO=Oe({...FO,props:RO,emits:DO,setup(e,{expose:t,emit:n}){const r=e,s={CONTAIN:{name:"contain",icon:Rs(cb)},ORIGINAL:{name:"original",icon:Rs(Wb)}},{t:p}=Co(),m=Qe("image-viewer"),{nextZIndex:u}=Zl(),i=fe(),h=fe([]),f=dh(),o=fe(!0),l=fe(r.initialIndex),a=Pn(s.CONTAIN),c=fe({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=re(()=>{const{urlList:x}=r;return x.length<=1}),d=re(()=>l.value===0),v=re(()=>l.value===r.urlList.length-1),_=re(()=>r.urlList[l.value]),b=re(()=>[m.e("btn"),m.e("prev"),m.is("disabled",!r.infinite&&d.value)]),y=re(()=>[m.e("btn"),m.e("next"),m.is("disabled",!r.infinite&&v.value)]),w=re(()=>{const{scale:x,deg:D,offsetX:F,offsetY:I,enableTransition:ee}=c.value;let R=F/x,E=I/x;switch(D%360){case 90:case-270:[R,E]=[E,-R];break;case 180:case-180:[R,E]=[-R,-E];break;case 270:case-90:[R,E]=[-E,R];break}const U={transform:`scale(${x}) rotate(${D}deg) translate(${R}px, ${E}px)`,transition:ee?"transform .3s":""};return a.value.name===s.CONTAIN.name&&(U.maxWidth=U.maxHeight="100%"),U}),C=re(()=>at(r.zIndex)?r.zIndex:u());function S(){j(),n("close")}function T(){const x=Cs(F=>{switch(F.code){case Be.esc:r.closeOnPressEscape&&S();break;case Be.space:se();break;case Be.left:ue();break;case Be.up:K("zoomIn");break;case Be.right:X();break;case Be.down:K("zoomOut");break}}),D=Cs(F=>{const I=F.deltaY||F.deltaX;K(I<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});f.run(()=>{Ot(document,"keydown",x),Ot(document,"wheel",D)})}function j(){f.stop()}function W(){o.value=!1}function V(x){o.value=!1,x.target.alt=p("el.image.error")}function H(x){if(o.value||x.button!==0||!i.value)return;c.value.enableTransition=!1;const{offsetX:D,offsetY:F}=c.value,I=x.pageX,ee=x.pageY,R=Cs(U=>{c.value={...c.value,offsetX:D+U.pageX-I,offsetY:F+U.pageY-ee}}),E=Ot(document,"mousemove",R);Ot(document,"mouseup",()=>{E()}),x.preventDefault()}function Q(){c.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function se(){if(o.value)return;const x=Na(s),D=Object.values(s),F=a.value.name,ee=(D.findIndex(R=>R.name===F)+1)%x.length;a.value=s[x[ee]],Q()}function le(x){const D=r.urlList.length;l.value=(x+D)%D}function ue(){d.value&&!r.infinite||le(l.value-1)}function X(){v.value&&!r.infinite||le(l.value+1)}function K(x,D={}){if(o.value)return;const{minScale:F,maxScale:I}=r,{zoomRate:ee,rotateDeg:R,enableTransition:E}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...D};switch(x){case"zoomOut":c.value.scale>F&&(c.value.scale=Number.parseFloat((c.value.scale/ee).toFixed(3)));break;case"zoomIn":c.value.scale<I&&(c.value.scale=Number.parseFloat((c.value.scale*ee).toFixed(3)));break;case"clockwise":c.value.deg+=R,n("rotate",c.value.deg);break;case"anticlockwise":c.value.deg-=R,n("rotate",c.value.deg);break}c.value.enableTransition=E}return Ae(_,()=>{lt(()=>{const x=h.value[0];x!=null&&x.complete||(o.value=!0)})}),Ae(l,x=>{Q(),n("switch",x)}),Ke(()=>{var x,D;T(),(D=(x=i.value)==null?void 0:x.focus)==null||D.call(x)}),t({setActiveItem:le}),(x,D)=>(te(),Te(El,{to:"body",disabled:!x.teleported},[ve(yn,{name:"viewer-fade",appear:""},{default:_e(()=>[ie("div",{ref_key:"wrapper",ref:i,tabindex:-1,class:ye(A(m).e("wrapper")),style:Ge({zIndex:A(C)})},[ie("div",{class:ye(A(m).e("mask")),onClick:D[0]||(D[0]=qn(F=>x.hideOnClickModal&&S(),["self"]))},null,2),we(" CLOSE "),ie("span",{class:ye([A(m).e("btn"),A(m).e("close")]),onClick:S},[ve(A(Ye),null,{default:_e(()=>[ve(A(jd))]),_:1})],2),we(" ARROW "),A(g)?we("v-if",!0):(te(),he(Re,{key:0},[ie("span",{class:ye(A(b)),onClick:ue},[ve(A(Ye),null,{default:_e(()=>[ve(A(Fd))]),_:1})],2),ie("span",{class:ye(A(y)),onClick:X},[ve(A(Ye),null,{default:_e(()=>[ve(A(Py))]),_:1})],2)],64)),we(" ACTIONS "),ie("div",{class:ye([A(m).e("btn"),A(m).e("actions")])},[ie("div",{class:ye(A(m).e("actions__inner"))},[ve(A(Ye),{onClick:D[1]||(D[1]=F=>K("zoomOut"))},{default:_e(()=>[ve(A(Sw))]),_:1}),ve(A(Ye),{onClick:D[2]||(D[2]=F=>K("zoomIn"))},{default:_e(()=>[ve(A(mw))]),_:1}),ie("i",{class:ye(A(m).e("actions__divider"))},null,2),ve(A(Ye),{onClick:se},{default:_e(()=>[(te(),Te(Qt(A(a).icon)))]),_:1}),ie("i",{class:ye(A(m).e("actions__divider"))},null,2),ve(A(Ye),{onClick:D[3]||(D[3]=F=>K("anticlockwise"))},{default:_e(()=>[ve(A(Rb))]),_:1}),ve(A(Ye),{onClick:D[4]||(D[4]=F=>K("clockwise"))},{default:_e(()=>[ve(A(jb))]),_:1})],2)],2),we(" CANVAS "),ie("div",{class:ye(A(m).e("canvas"))},[(te(!0),he(Re,null,dt(x.urlList,(F,I)=>pt((te(),he("img",{ref_for:!0,ref:ee=>h.value[I]=ee,key:F,src:F,style:Ge(A(w)),class:ye(A(m).e("img")),onLoad:W,onError:V,onMousedown:H},null,46,IO)),[[Tt,I===l.value]])),128))],2),Ee(x.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var BO=He(LO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const jO=on(BO),NO=Ve({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Me([String,Object])},previewSrcList:{type:Me(Array),default:()=>wo([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),zO={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>at(e),close:()=>!0,show:()=>!0},$O=["src","loading"],HO={key:0},UO=Oe({name:"ElImage",inheritAttrs:!1}),WO=Oe({...UO,props:NO,emits:zO,setup(e,{emit:t}){const n=e;let r="";const{t:s}=Co(),p=Qe("image"),m=Sl(),u=Kd(),i=fe(),h=fe(!1),f=fe(!0),o=fe(!1),l=fe(),a=fe(),c=Xe&&"loading"in HTMLImageElement.prototype;let g,d;const v=re(()=>[p.e("inner"),y.value&&p.e("preview"),f.value&&p.is("loading")]),_=re(()=>m.style),b=re(()=>{const{fit:K}=n;return Xe&&K?{objectFit:K}:{}}),y=re(()=>{const{previewSrcList:K}=n;return Array.isArray(K)&&K.length>0}),w=re(()=>{const{previewSrcList:K,initialIndex:x}=n;let D=x;return x>K.length-1&&(D=0),D}),C=re(()=>n.loading==="eager"?!1:!c&&n.loading==="lazy"||n.lazy),S=()=>{Xe&&(f.value=!0,h.value=!1,i.value=n.src)};function T(K){f.value=!1,h.value=!1,t("load",K)}function j(K){f.value=!1,h.value=!0,t("error",K)}function W(){Zw(l.value,a.value)&&(S(),Q())}const V=jw(W,200,!0);async function H(){var K;if(!Xe)return;await lt();const{scrollContainer:x}=n;zr(x)?a.value=x:je(x)&&x!==""?a.value=(K=document.querySelector(x))!=null?K:void 0:l.value&&(a.value=GC(l.value)),a.value&&(g=Ot(a,"scroll",V),setTimeout(()=>W(),100))}function Q(){!Xe||!a.value||!V||(g==null||g(),a.value=void 0)}function se(K){if(K.ctrlKey){if(K.deltaY<0)return K.preventDefault(),!1;if(K.deltaY>0)return K.preventDefault(),!1}}function le(){y.value&&(d=Ot("wheel",se,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",o.value=!0,t("show"))}function ue(){d==null||d(),document.body.style.overflow=r,o.value=!1,t("close")}function X(K){t("switch",K)}return Ae(()=>n.src,()=>{C.value?(f.value=!0,h.value=!1,Q(),H()):S()}),Ke(()=>{C.value?H():S()}),(K,x)=>(te(),he("div",{ref_key:"container",ref:l,class:ye([A(p).b(),K.$attrs.class]),style:Ge(A(_))},[h.value?Ee(K.$slots,"error",{key:0},()=>[ie("div",{class:ye(A(p).e("error"))},$e(A(s)("el.image.error")),3)]):(te(),he(Re,{key:1},[i.value!==void 0?(te(),he("img",Ct({key:0},A(u),{src:i.value,loading:K.loading,style:A(b),class:A(v),onClick:le,onLoad:T,onError:j}),null,16,$O)):we("v-if",!0),f.value?(te(),he("div",{key:1,class:ye(A(p).e("wrapper"))},[Ee(K.$slots,"placeholder",{},()=>[ie("div",{class:ye(A(p).e("placeholder"))},null,2)])],2)):we("v-if",!0)],64)),A(y)?(te(),he(Re,{key:2},[o.value?(te(),Te(A(jO),{key:0,"z-index":K.zIndex,"initial-index":A(w),infinite:K.infinite,"zoom-rate":K.zoomRate,"min-scale":K.minScale,"max-scale":K.maxScale,"url-list":K.previewSrcList,"hide-on-click-modal":K.hideOnClickModal,teleported:K.previewTeleported,"close-on-press-escape":K.closeOnPressEscape,onClose:ue,onSwitch:X},{default:_e(()=>[K.$slots.viewer?(te(),he("div",HO,[Ee(K.$slots,"viewer")])):we("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):we("v-if",!0)],64)):we("v-if",!0)],6))}});var YO=He(WO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const fi=on(YO),XO=Ve({trigger:zi.trigger,placement:Ts.placement,disabled:zi.disabled,visible:Ht.visible,transition:Ht.transition,popperOptions:Ts.popperOptions,tabindex:Ts.tabindex,content:Ht.content,popperStyle:Ht.popperStyle,popperClass:Ht.popperClass,enterable:{...Ht.enterable,default:!0},effect:{...Ht.effect,default:"light"},teleported:Ht.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),VO={"update:visible":e=>zl(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},GO="onUpdate:visible",KO=Oe({name:"ElPopover"}),qO=Oe({...KO,props:XO,emits:VO,setup(e,{expose:t,emit:n}){const r=e,s=re(()=>r[GO]),p=Qe("popover"),m=fe(),u=re(()=>{var d;return(d=A(m))==null?void 0:d.popperRef}),i=re(()=>[{width:Bi(r.width)},r.popperStyle]),h=re(()=>[p.b(),r.popperClass,{[p.m("plain")]:!!r.content}]),f=re(()=>r.transition===`${p.namespace.value}-fade-in-linear`),o=()=>{var d;(d=m.value)==null||d.hide()},l=()=>{n("before-enter")},a=()=>{n("before-leave")},c=()=>{n("after-enter")},g=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:u,hide:o}),(d,v)=>(te(),Te(A(Ap),Ct({ref_key:"tooltipRef",ref:m},d.$attrs,{trigger:d.trigger,placement:d.placement,disabled:d.disabled,visible:d.visible,transition:d.transition,"popper-options":d.popperOptions,tabindex:d.tabindex,content:d.content,offset:d.offset,"show-after":d.showAfter,"hide-after":d.hideAfter,"auto-close":d.autoClose,"show-arrow":d.showArrow,"aria-label":d.title,effect:d.effect,enterable:d.enterable,"popper-class":A(h),"popper-style":A(i),teleported:d.teleported,persistent:d.persistent,"gpu-acceleration":A(f),"onUpdate:visible":A(s),onBeforeShow:l,onBeforeHide:a,onShow:c,onHide:g}),{content:_e(()=>[d.title?(te(),he("div",{key:0,class:ye(A(p).e("title")),role:"title"},$e(d.title),3)):we("v-if",!0),Ee(d.$slots,"default",{},()=>[Xi($e(d.content),1)])]),default:_e(()=>[d.$slots.reference?Ee(d.$slots,"reference",{key:0}):we("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var JO=He(qO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const If=(e,t)=>{const n=t.arg||t.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=e)};var ZO={mounted(e,t){If(e,t)},updated(e,t){If(e,t)}};const QO="popover",eE=QC(ZO,QO),tE=on(JO,{directive:eE}),Up=["success","info","warning","error"],Pt=wo({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Xe?document.body:void 0}),nE=Ve({customClass:{type:String,default:Pt.customClass},center:{type:Boolean,default:Pt.center},dangerouslyUseHTMLString:{type:Boolean,default:Pt.dangerouslyUseHTMLString},duration:{type:Number,default:Pt.duration},icon:{type:$r,default:Pt.icon},id:{type:String,default:Pt.id},message:{type:Me([String,Object,Function]),default:Pt.message},onClose:{type:Me(Function),required:!1},showClose:{type:Boolean,default:Pt.showClose},type:{type:String,values:Up,default:Pt.type},offset:{type:Number,default:Pt.offset},zIndex:{type:Number,default:Pt.zIndex},grouping:{type:Boolean,default:Pt.grouping},repeatNum:{type:Number,default:Pt.repeatNum}}),rE={destroy:()=>!0},tn=ml([]),iE=e=>{const t=tn.findIndex(s=>s.id===e),n=tn[t];let r;return t>0&&(r=tn[t-1]),{current:n,prev:r}},sE=e=>{const{prev:t}=iE(e);return t?t.vm.exposed.bottom.value:0},oE=(e,t)=>tn.findIndex(r=>r.id===e)>0?20:t,aE=["id"],lE=["innerHTML"],cE=Oe({name:"ElMessage"}),uE=Oe({...cE,props:nE,emits:rE,setup(e,{expose:t}){const n=e,{Close:r}=qC,{ns:s,zIndex:p}=Ex("message"),{currentZIndex:m,nextZIndex:u}=p,i=fe(),h=fe(!1),f=fe(0);let o;const l=re(()=>n.type?n.type==="error"?"danger":n.type:"info"),a=re(()=>{const S=n.type;return{[s.bm("icon",S)]:S&&ef[S]}}),c=re(()=>n.icon||ef[n.type]||""),g=re(()=>sE(n.id)),d=re(()=>oE(n.id,n.offset)+g.value),v=re(()=>f.value+d.value),_=re(()=>({top:`${d.value}px`,zIndex:m.value}));function b(){n.duration!==0&&({stop:o}=zw(()=>{w()},n.duration))}function y(){o==null||o()}function w(){h.value=!1}function C({code:S}){S===Be.esc&&w()}return Ke(()=>{b(),u(),h.value=!0}),Ae(()=>n.repeatNum,()=>{y(),b()}),Ot(document,"keydown",C),jl(i,()=>{f.value=i.value.getBoundingClientRect().height}),t({visible:h,bottom:v,close:w}),(S,T)=>(te(),Te(yn,{name:A(s).b("fade"),onBeforeLeave:S.onClose,onAfterLeave:T[0]||(T[0]=j=>S.$emit("destroy")),persisted:""},{default:_e(()=>[pt(ie("div",{id:S.id,ref_key:"messageRef",ref:i,class:ye([A(s).b(),{[A(s).m(S.type)]:S.type&&!S.icon},A(s).is("center",S.center),A(s).is("closable",S.showClose),S.customClass]),style:Ge(A(_)),role:"alert",onMouseenter:y,onMouseleave:b},[S.repeatNum>1?(te(),Te(A(dT),{key:0,value:S.repeatNum,type:A(l),class:ye(A(s).e("badge"))},null,8,["value","type","class"])):we("v-if",!0),A(c)?(te(),Te(A(Ye),{key:1,class:ye([A(s).e("icon"),A(a)])},{default:_e(()=>[(te(),Te(Qt(A(c))))]),_:1},8,["class"])):we("v-if",!0),Ee(S.$slots,"default",{},()=>[S.dangerouslyUseHTMLString?(te(),he(Re,{key:1},[we(" Caution here, message could've been compromised, never use user's input as message "),ie("p",{class:ye(A(s).e("content")),innerHTML:S.message},null,10,lE)],2112)):(te(),he("p",{key:0,class:ye(A(s).e("content"))},$e(S.message),3))]),S.showClose?(te(),Te(A(Ye),{key:2,class:ye(A(s).e("closeBtn")),onClick:qn(w,["stop"])},{default:_e(()=>[ve(A(r))]),_:1},8,["class","onClick"])):we("v-if",!0)],46,aE),[[Tt,h.value]])]),_:3},8,["name","onBeforeLeave"]))}});var fE=He(uE,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let hE=1;const Wp=e=>{const t=!e||je(e)||Ir(e)||xe(e)?{message:e}:e,n={...Pt,...t};if(!n.appendTo)n.appendTo=document.body;else if(je(n.appendTo)){let r=document.querySelector(n.appendTo);zr(r)||(r=document.body),n.appendTo=r}return n},dE=e=>{const t=tn.indexOf(e);if(t===-1)return;tn.splice(t,1);const{handler:n}=e;n.close()},pE=({appendTo:e,...t},n)=>{const r=`message_${hE++}`,s=t.onClose,p=document.createElement("div"),m={...t,id:r,onClose:()=>{s==null||s(),dE(f)},onDestroy:()=>{bu(null,p)}},u=ve(fE,m,xe(m.message)||Ir(m.message)?{default:xe(m.message)?m.message:()=>m.message}:null);u.appContext=n||Vr._context,bu(u,p),e.appendChild(p.firstElementChild);const i=u.component,f={id:r,vnode:u,vm:i,handler:{close:()=>{i.exposed.visible.value=!1}},props:u.component.props};return f},Vr=(e={},t)=>{if(!Xe)return{close:()=>{}};if(at(vf.max)&&tn.length>=vf.max)return{close:()=>{}};const n=Wp(e);if(n.grouping&&tn.length){const s=tn.find(({vnode:p})=>{var m;return((m=p.props)==null?void 0:m.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}const r=pE(n,t);return tn.push(r),r.handler};Up.forEach(e=>{Vr[e]=(t={},n)=>{const r=Wp(t);return Vr({...r,type:e},n)}});function gE(e){for(const t of tn)(!e||e===t.props.type)&&t.handler.close()}Vr.closeAll=gE;Vr._context=null;const vE=ZC(Vr,"$message");const mE=e=>(ro("data-v-6c0c05ed"),e=e(),io(),e),_E={key:0,class:"resource-station__panel page-scrollbar_container"},yE={key:0,class:"add"},bE={class:"header"},wE={class:"title"},CE={class:"container"},SE={class:"list"},xE={class:"content"},TE=["src"],OE={key:0,class:"name"},EE={key:1,class:"material"},PE={class:"nav-container"},kE={class:"navlist"},AE=["onClick"],ME={class:"el-dropdown-link"},RE={class:"material-container"},DE={class:"container page-scrollbar_container"},IE={class:"panel-content"},FE={key:0,class:"panel-batch"},LE={key:1,class:"panel-batch"},BE={key:0,class:"detail-list page-scrollbar_container"},jE={key:2,class:"Image"},NE=mE(()=>ie("div",{class:"image-slot"},null,-1)),zE={__name:"resource",setup(e){const{state:t}=vr(),n=fe("https://haixin-fang.github.io/vue-design-editor-static/"),r=fe(),s=re(()=>t.activeModule),p=re(()=>t.imageList?(t.imageList.forEach(l=>{l.url=n.value+"image/"+l.url}),t.imageList):[]),m=re(()=>t.icons),u=Pn(fy),i=Pn(hy.map((l,a)=>({...l,id:a})));function h(l){r.value=l}const f=([l,a])=>Array(a-(l-1)).fill("").map((g,d)=>d+l);function o(l,a,c){a.type=s.value.type,a.interval&&(a.url=`${n.value}svg/${c}.svg`),l.dataTransfer.setData("item",JSON.stringify(a))}return(l,a)=>s.value?(te(),he("div",_E,[s.value.type=="add"?(te(),he("div",yE,[(te(!0),he(Re,null,dt(u.value,(c,g)=>(te(),he("div",{class:"addList",key:g},[ie("div",bE,[ie("div",wE,$e(c.title),1)]),ie("div",CE,[ie("div",SE,[ie("div",xE,[(te(!0),he(Re,null,dt(c.list,(d,v)=>(te(),he("div",{class:"addItem",key:v},[ie("img",{src:d.icon,alt:""},null,8,TE),d.title?(te(),he("div",OE,$e(d.title),1)):we("",!0)]))),128))])])])]))),128))])):we("",!0),s.value.type=="material"?(te(),he("div",EE,[ie("div",PE,[ie("div",kE,[ie("div",{class:ye(["navItem",r.value?"":"navItemActive"]),onClick:a[0]||(a[0]=c=>r.value=null)},"  ",2),(te(!0),he(Re,null,dt(i.value.slice(0,4),c=>(te(),he("div",{class:ye(["navItem",r.value&&r.value.title==c.title?"navItemActive":""]),key:c.id,onClick:g=>h(c)},$e(c.title),11,AE))),128)),i.value.length>4?(te(),Te(A(kO),{key:0,onCommand:h,class:"navItem","popper-class":"navItem",trigger:"click",teleported:!1},{dropdown:_e(()=>[ve(A(MO),null,{default:_e(()=>[(te(!0),he(Re,null,dt(i.value.slice(4),c=>(te(),Te(A(AO),{command:c,key:c.id},{default:_e(()=>[ie("span",{class:ye(r.value&&r.value.title==c.title?"navItemActive":"")},$e(c.title),3)]),_:2},1032,["command"]))),128))]),_:1})]),default:_e(()=>[ie("span",ME,[Xi("  "),ve(A(Ye),{class:"el-icon--right"},{default:_e(()=>[ve(A(Ll))]),_:1})])]),_:1})):we("",!0)])]),ie("div",RE,[ie("div",DE,[(te(!0),he(Re,null,dt(i.value,c=>(te(),he("div",{class:"panel-block",key:c.id},[ve(Pw,{title:c.title,subTitle:"",onChange:g=>h(c)},null,8,["title","onChange"]),ie("div",IE,[c.interval?(te(),he("div",FE,[(te(!0),he(Re,null,dt(f(c.interval).slice(0,8),g=>(te(),he("div",{class:"material-detail",key:g},[ve(A(fi),{src:`${n.value}svg/${g}.svg`,lazy:"",draggable:!0,onDragstart:d=>o(d,c,g)},null,8,["src","onDragstart"])]))),128))])):(te(),he("div",LE,[(te(!0),he(Re,null,dt(m.value.slice(0,8),(g,d)=>(te(),he("div",{class:"material-detail",style:{width:"60px",height:"60px"},key:d},[ve(A(fi),{src:g.url,lazy:"",draggable:!0,onDragstart:v=>o(v,g)},null,8,["src","onDragstart"])]))),128))]))])]))),128))]),ve(yn,{name:"anime"},{default:_e(()=>[r.value?(te(),he("div",BE,[r.value.interval?(te(!0),he(Re,{key:0},dt(f(r.value.interval),c=>(te(),he("div",{class:"detail-item",key:c},[ve(A(fi),{style:{width:"88px",height:"88px"},src:`${n.value}svg/${c}.svg`,draggable:!0,onDragstart:g=>o(g,c),lazy:""},null,8,["src","onDragstart"])]))),128)):(te(!0),he(Re,{key:1},dt(m.value,(c,g)=>(te(),he("div",{class:"detail-item",key:g},[ve(A(fi),{style:{width:"88px",height:"88px"},src:c.url,draggable:!0,onDragstart:d=>o(d,c),lazy:""},null,8,["src","onDragstart"])]))),128))])):we("",!0)]),_:1})])])):we("",!0),s.value.type=="Image"?(te(),he("div",jE,[ve(Rw,{list:p.value,column:2},{default:_e(({item:c})=>[ve(A(fi),{src:c.url,loading:"lazy",lazy:"",onDragstart:g=>o(g,c)},{placeholder:_e(()=>[NE]),_:2},1032,["src","onDragstart"])]),_:1},8,["list"])])):we("",!0)])):we("",!0)}},$E=mt(zE,[["__scopeId","data-v-6c0c05ed"]]);function HE(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(r){return r.split(" ").map(function(s){return s?""+e+s:""}).join(" ")}).join(" ")}function UE(e,t){return t.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function Wn(e,t){return function(n){n&&(e[t]=n)}}function WE(e,t,n){return function(r){r&&(e[t][n]=r)}}function Ff(e,t){return function(n){var r=n.prototype;e.forEach(function(s){t(r,s)})}}var YE="function",XE="object",VE="string",GE="number",Yp="undefined",KE=typeof document!==Yp&&document,qE=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],sa=1e-7,ps={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,t){return e*t/100},vw:function(e,t){return t===void 0&&(t=window.innerWidth),e/100*t},vh:function(e,t){return t===void 0&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function JE(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,u=p.length;m<u;m++,s++)r[s]=p[m];return r}function Xp(e){return typeof e===Yp}function _n(e){return e&&typeof e===XE}function Vp(e){return Array.isArray(e)}function pr(e){return typeof e===VE}function ZE(e){return typeof e===GE}function Gp(e){return typeof e===YE}function QE(e,t){var n=e===""||e==" ",r=t===""||t==" ";return r&&n||e===t}function Kp(e,t,n,r,s){var p=uc(e,t,n);return p?n:eP(e,t,n+1,r,s)}function uc(e,t,n){if(!e.ignore)return null;var r=t.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(r)}function eP(e,t,n,r,s){for(var p=function(h){var f=t[h].trim();if(f===e.close&&!uc(e,t,h))return{value:h};var o=h,l=Us(s,function(a){var c=a.open;return c===f});if(l&&(o=Kp(l,t,h,r,s)),o===-1)return m=h,"break";h=o,m=h},m,u=n;u<r;++u){var i=p(u);if(u=m,typeof i=="object")return i.value;if(i==="break")break}return-1}function fc(e,t){var n=pr(t)?{separator:t}:t,r=n.separator,s=r===void 0?",":r,p=n.isSeparateFirst,m=n.isSeparateOnlyOpenClose,u=n.isSeparateOpenClose,i=u===void 0?m:u,h=n.openCloseCharacters,f=h===void 0?qE:h,o=f.map(function(S){var T=S.open,j=S.close;return T===j?T:T+"|"+j}).join("|"),l="(\\s*"+s+"\\s*|"+o+"|\\s+)",a=new RegExp(l,"g"),c=e.split(a).filter(function(S){return S&&S!=="undefined"}),g=c.length,d=[],v=[];function _(){return v.length?(d.push(v.join("")),v=[],!0):!1}for(var b=function(S){var T=c[S].trim(),j=S,W=Us(f,function(Q){var se=Q.open;return se===T}),V=Us(f,function(Q){var se=Q.close;return se===T});if(W){if(j=Kp(W,c,S,g,f),j!==-1&&i)return _()&&p||(d.push(c.slice(S,j+1).join("")),S=j,p)?(y=S,"break"):(y=S,"continue")}else if(V&&!uc(V,c,S)){var H=JE(f);return H.splice(f.indexOf(V),1),{value:fc(e,{separator:s,isSeparateFirst:p,isSeparateOnlyOpenClose:m,isSeparateOpenClose:i,openCloseCharacters:H})}}else if(QE(T,s)&&!m)return _(),p?(y=S,"break"):(y=S,"continue");j===-1&&(j=g-1),v.push(c.slice(S,j+1).join("")),S=j,y=S},y,w=0;w<g;++w){var C=b(w);if(w=y,typeof C=="object")return C.value;if(C==="break")break}return v.length&&d.push(v.join("")),d}function tP(e){return fc(e,"")}function gi(e){return fc(e,",")}function nP(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function qp(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2],s=t[3];return{prefix:n,unit:s,value:parseFloat(r)}}function rP(e){return e.replace(/[\s-_]+([^\s-_])/g,function(t,n){return n.toUpperCase()})}function oa(e,t){return t===void 0&&(t="-"),e.replace(/([a-z])([A-Z])/g,function(n,r,s){return""+r+t+s.toLowerCase()})}function Wa(){return Date.now?Date.now():new Date().getTime()}function Eo(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=0;s<r;++s)if(t(e[s],s,e))return s;return n}function iP(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=r-1;s>=0;--s)if(t(e[s],s,e))return s;return n}function sP(e,t,n){var r=iP(e,t);return r>-1?e[r]:n}function Us(e,t,n){var r=Eo(e,t);return r>-1?e[r]:n}function Ya(e){return Object.keys(e)}function oP(e){var t=Ya(e);return t.map(function(n){return e[n]})}function xi(e,t){var n=qp(e),r=n.value,s=n.unit;if(_n(t)){var p=t[s];if(p){if(Gp(p))return p(r);if(ps[s])return ps[s](r,p)}}else if(s==="%")return r*t/100;return ps[s]?ps[s](r):r}function aa(e,t){if(!t)return e;var n=1/t;return Math.round(e/t)/n}function aP(e){return e.reduce(function(t,n){return t.concat(n)},[])}function lP(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function cP(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function uP(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function ft(e,t,n,r){e.addEventListener(t,n,r)}function st(e,t,n,r){e.removeEventListener(t,n,r)}function hc(e){return(e==null?void 0:e.ownerDocument)||KE}function la(e){var t;return((t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function fP(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function dc(e){return _n(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}var hP=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(n){return this.values[this.keys.indexOf(n)]},t.set=function(n,r){var s=this.keys,p=this.values,m=s.indexOf(n),u=m===-1?s.length:m;s[u]=n,p[u]=r},e}(),dP=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(n){return this.object[n]},t.set=function(n,r){this.object[n]=r},e}(),pP=typeof Map=="function",gP=function(){function e(){}var t=e.prototype;return t.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},t.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},t.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},e}();function vP(e,t){var n=[],r=[];return e.forEach(function(s){var p=s[0],m=s[1],u=new gP;n[p]=u,r[m]=u}),n.forEach(function(s,p){s.connect(n[p-1])}),e.filter(function(s,p){return!t[p]}).map(function(s,p){var m=s[0],u=s[1];if(m===u)return[0,0];var i=n[m],h=r[u-1],f=i.getIndex();i.disconnect(),h?i.connect(h,h.next):i.connect(void 0,n[0]);var o=i.getIndex();return[f,o]})}var mP=function(){function e(n,r,s,p,m,u,i,h){this.prevList=n,this.list=r,this.added=s,this.removed=p,this.changed=m,this.maintained=u,this.changedBeforeAdded=i,this.fixed=h}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var n=vP(this.changedBeforeAdded,this.fixed),r=this.changed,s=[];this.cacheOrdered=n.filter(function(p,m){var u=p[0],i=p[1],h=r[m],f=h[0],o=h[1];if(u!==i)return s.push([f,o]),!0}),this.cachePureChanged=s},e}();function Jp(e,t,n){var r=pP?Map:n?dP:hP,s=n||function(_){return _},p=[],m=[],u=[],i=e.map(s),h=t.map(s),f=new r,o=new r,l=[],a=[],c={},g=[],d=0,v=0;return i.forEach(function(_,b){f.set(_,b)}),h.forEach(function(_,b){o.set(_,b)}),i.forEach(function(_,b){var y=o.get(_);typeof y>"u"?(++v,m.push(b)):c[y]=v}),h.forEach(function(_,b){var y=f.get(_);typeof y>"u"?(p.push(b),++d):(u.push([y,b]),v=c[b]||0,l.push([y-v,b-d]),a.push(b===y),y!==b&&g.push([y,b]))}),m.reverse(),new mP(e,t,p,m,g,u,l,a)}var Xa=function(e,t){return Xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Xa(e,t)};function Ki(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xa(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var pn=function(){return pn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},pn.apply(this,arguments)};function Zp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Lf(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,p;r<s;r++)(p||!(r in t))&&(p||(p=Array.prototype.slice.call(t,0,r)),p[r]=t[r]);return e.concat(p||Array.prototype.slice.call(t))}function Bf(e){var t=0;return e.map(function(n){return n==null?"$compat".concat(++t):"".concat(n)})}function Qp(e){var t=[];return e.forEach(function(n){t=t.concat(Vp(n)?Qp(n):n)}),t}function ca(e,t){if(!t)return e;for(var n in t)Xp(e[n])&&(e[n]=t[n]);return e}function Ws(e,t){if(e===t)return!1;for(var n in e)if(!(n in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function jf(e){var t=e.className,n=Zp(e,["className"]);return t!=null&&(n.class=t),delete n.style,delete n.children,n}function Nf(e){var t={},n={};for(var r in e)r.indexOf("on")===0?n[r]=e[r]:t[r]=e[r];return[t,n]}function Po(e){if(!e)return null;var t=e.b;return dc(t)?t:Po(e.c)}function eg(e){var t=e.parentNode;t&&t.removeChild(e)}function tg(e){e.forEach(function(t){t()})}function _P(){return this.constructor(this.props,this.context)}var pc=0,ko=function(){function e(n,r,s,p,m,u,i){i===void 0&&(i={}),this.t=n,this.d=r,this.k=s,this.i=p,this.c=m,this.ref=u,this.ps=i,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var t=e.prototype;return t.s=function(){return!0},t.u=function(n,r,s,p,m){var u=this,i=u.d,h=oP(r).filter(function(c){return c.$_req}),f=Qp(h.map(function(c){return c.$_subs})),o=Us(f,function(c){return c.d===i});if(u.b&&!pr(s)&&!m&&!u.s(s.props,p)&&!o){var l=f.reduce(function(c,g){var d=g.d;return c[0]?c[0].d===d&&c.push(g):d>i&&c.push(g),c},[]);return l.forEach(function(c){qi(c,c._ps,[c.o],n,r,!0)}),!1}u.o=s,u.ss(p);var a=u.ps;return pr(s)||(u.ps=s.props,u.ref=s.ref),gc(this),u.r(n,r,u.b?a:{},p),!0},t.md=function(){this.rr()},t.ss=function(){},t.ud=function(){this.rr()},t.rr=function(){var n=this,r=n.ref,s=n.fr;r&&r(s?s.current:n.b)},e}();function ng(){return Object.__CROACT_CURRENT_INSTNACE__}function yP(){return pc}function bP(e){pc=e}function gc(e){return Object.__CROACT_CURRENT_INSTNACE__=e,pc=0,e}var vc=function(){function e(n,r){n===void 0&&(n={}),this.props=n,this.context=r,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var t=e.prototype;return t.render=function(){return null},t.shouldComponentUpdate=function(n,r){return this.props!==n||this.state!==r},t.setState=function(n,r,s){var p=this;p.$_timer||(p.$_state={}),clearTimeout(p.$_timer),p.$_timer=0,p.$_state=pn(pn({},p.$_state),n),s?p.$_setState(r,s):p.$_timer=window.setTimeout(function(){p.$_timer=0,p.$_setState(r,s)})},t.forceUpdate=function(n){this.setState({},n,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(n,r){},t.componentWillUnmount=function(){},t.$_setState=function(n,r){var s=[],p=this.$_p,m=qi(p.c,[p],[p.o],s,p._cs,pn(pn({},this.state),this.$_state),r);m&&(n&&s.push(n),tg(s),gc(null))},e}(),rg=function(e){Ki(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,s){return Ws(this.props,r)||Ws(this.state,s)},t}(vc);function mc(e){var t=function(n){t.current=n};return t.current=e,t}function wP(e){return e._fr=!0,e}function CP(e,t,n,r){var s,p;return!((s=e==null?void 0:e.prototype)===null||s===void 0)&&s.render?p=new e(t,n):(p=new vc(t,n),p.constructor=e,e._fr?(r.fr=mc(),p.render=function(){return this.constructor(this.props,r.fr)}):p.render=_P),p.$_p=r,p}var SP=function(e){Ki(t,e);function t(r,s,p,m,u,i,h){h===void 0&&(h={});var f=e.call(this,r,s,p,m,u,i,ca(h,r.defaultProps))||this;return f.typ="comp",f._usefs=[],f._uefs=[],f._defs=[],f}var n=t.prototype;return n.s=function(r,s){var p=this.b;return p.shouldComponentUpdate(ca(r,this.t.defaultProps),s||p.state)!==!1},n.r=function(r,s,p){var m,u,i=this,h=i.t;i.ps=ca(i.ps,i.t.defaultProps);var f=i.ps,o=!i.b,l=h.contextType,a=i.b,c=l==null?void 0:l.get(i);i._cs=s,o?(a=CP(h,f,c,i),i.b=a):(a.props=f,a.context=c);var g=a.state;i._usefs=[],i._uefs=[];var d=a.render();((u=(m=d==null?void 0:d.props)===null||m===void 0?void 0:m.children)===null||u===void 0?void 0:u.length)===0&&(d.props.children=i.ps.children);var v=pn(pn({},s),a.$_cs);qi(i,i._ps,d?[d]:[],r,v),o?i._uefs.push(function(){l==null||l.register(i),a.componentDidMount()}):i._uefs.push(function(){a.componentDidUpdate(p,g)}),r.push(function(){i._usefs.forEach(function(_){_()}),o?i.md():i.ud(),i._defs=i._uefs.map(function(_){return _()})})},n.ss=function(r){var s=this.b;!s||!r||(s.state=r)},n.un=function(){var r,s=this;s._ps.forEach(function(m){m.un()});var p=s.t;(r=p.contextType)===null||r===void 0||r.unregister(s),clearTimeout(s.b.$_timer),s._defs.forEach(function(m){m&&m()}),s.b.componentWillUnmount()},t}(ko);function xP(e,t,n){var r=_c(jf(e),jf(t)),s=r.added,p=r.removed,m=r.changed;for(var u in s)n.setAttribute(u,s[u]);for(var i in m)n.setAttribute(i,m[i][1]);for(var h in p)n.removeAttribute(h)}function TP(e,t,n){var r=_c(e,t),s=r.added,p=r.removed;for(var m in p)n.e(m,!0);for(var u in s)n.e(u)}function _c(e,t){var n=Ya(e),r=Ya(t),s=Jp(n,r,function(i){return i}),p={},m={},u={};return s.added.forEach(function(i){var h=r[i];p[h]=t[h]}),s.removed.forEach(function(i){var h=n[i];m[h]=e[h]}),s.maintained.forEach(function(i){var h=i[0],f=n[h],o=[e[f],t[f]];e[f]!==t[f]&&(u[f]=o)}),{added:p,removed:m,changed:u}}function OP(e,t,n){var r=n.style,s=_c(e,t),p=s.added,m=s.removed,u=s.changed;for(var i in p){var h=oa(i,"-");r.setProperty(h,p[i])}for(var i in u){var f=oa(i,"-");r.setProperty(f,u[i][1])}for(var i in m){var o=oa(i,"-");r.removeProperty(o)}}function EP(e){return e.replace(/^on/g,"").toLowerCase()}var PP=function(e){Ki(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="elem",r._es={},r._svg=!1,r}var n=t.prototype;return n.e=function(r,s){var p=this,m=p._es,u=p.b,i=EP(r);s?(st(u,i,m[r]),delete m[r]):(m[r]=function(h){var f,o;(o=(f=p.ps)[r])===null||o===void 0||o.call(f,h)},ft(u,i,m[r]))},n.s=function(r){return Ws(this.ps,r)},n.r=function(r,s,p){var m,u=this,i=!u.b,h=u.ps;if(i){var f=Po(u.c),o=!1;u._svg||u.t==="svg"?o=!0:o=f&&f.ownerSVGElement,u._svg=o;var l=(m=u._hyd)===null||m===void 0?void 0:m.splice(0,1)[0],a=u.t;if(l)u._hyd=[].slice.call(l.children||[]);else{var c=hc(f);o?l=c.createElementNS("http://www.w3.org/2000/svg",a):l=c.createElement(a)}u.b=l}qi(u,u._ps,h.children,r,s);var g=u.b,d=Nf(p),v=d[0],_=d[1],b=Nf(h),y=b[0],w=b[1];return xP(v,y,g),TP(_,w,u),OP(p.style||{},h.style||{},g),r.push(function(){i?u.md():u.ud()}),!0},n.un=function(){var r=this,s=r._es,p=r.b;for(var m in s)st(p,m,s[m]);r._ps.forEach(function(u){u.un()}),r._es={},r._sel||eg(p)},t}(ko);function $i(e){if(!e||dc(e))return e;var t=e.$_p._ps;return t.length?$i(t[0].b):null}function ig(e){if(e){if(e.b&&dc(e.b))return e;var t=e._ps;return t.length?ig(t[0]):null}}function Ut(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=t||{},p=s.key,m=s.ref,u=Zp(s,["key","ref"]);return{type:e,key:p,ref:m,props:pn(pn({},u),{children:aP(n).filter(function(i){return i!=null&&i!==!1})})}}var sg=function(e){Ki(t,e);function t(r,s){s===void 0&&(s=0);var p=e.call(this,"container",s,"container",0,null)||this;return p.typ="container",p.b=r,p}var n=t.prototype;return n.r=function(){return!0},n.un=function(){},t}(ko),kP=function(e){Ki(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="text",r}var n=t.prototype;return n.r=function(r){var s,p=this,m=!p.b;if(m){var u=Po(p.c),i=(s=p._hyd)===null||s===void 0?void 0:s.splice(0,1)[0];p.b=i||hc(u).createTextNode(p.t.replace("text_",""))}return r.push(function(){m?p.md():p.ud()}),!0},n.un=function(){eg(this.b)},t}(ko);function AP(e,t,n){var r=n.map(function(i){return pr(i)?null:i.key}),s=Bf(t.map(function(i){return i.k})),p=Bf(r),m=Jp(s,p,function(i){return i});m.removed.forEach(function(i){t.splice(i,1)[0].un()}),m.ordered.forEach(function(i){var h=i[0],f=i[1],o=t.splice(h,1)[0];t.splice(f,0,o);var l=$i(o.b),a=$i(t[f+1]&&t[f+1].b);l&&l.parentNode.insertBefore(l,a)}),m.added.forEach(function(i){t.splice(i,0,zf(n[i],r[i],i,e))});var u=m.maintained.filter(function(i){i[0];var h=i[1],f=n[h],o=t[h],l=pr(f)?"text_".concat(f):f.type;return l!==o.t?(o.un(),t.splice(h,1,zf(f,r[h],h,e)),!0):(o.i=h,!1)});return Lf(Lf([],m.added,!0),u.map(function(i){i[0];var h=i[1];return h}),!0)}function MP(e,t){for(var n=e._ps,r=n.length,s=t.i+1;s<r;++s){var p=$i(n[s].b);if(p)return p}return null}function zf(e,t,n,r){var s=r.d+1;if(pr(e)||ZE(e))return new kP("text_".concat(e),s,t,n,r,null,{});var p=e.type,m=typeof p=="string"?PP:SP;return new m(p,s,t,n,r,e.ref,e.props)}function qi(e,t,n,r,s,p,m){var u=AP(e,t,n),i=e._hyd,h=t.filter(function(o,l){return o._hyd=i,o.u(r,s,n[l],p,m)});e.typ==="container"&&e._sel&&t.forEach(function(o){var l=ig(o);l&&(l._sel=!0)}),e._hyd=null;var f=Po(e);return f&&u.reverse().forEach(function(o){var l=t[o],a=$i(l.b);if(a&&f!==a&&!a.parentNode){var c=MP(e,l);f.insertBefore(a,c)}}),h.length>0}function RP(e,t,n,r){n===void 0&&(n=t.__CROACT__),r===void 0&&(r={});var s=!!n;n||(n=new sg(t));var p=[];return qi(n,n._ps,e?[e]:[],p,r,void 0,void 0),tg(p),gc(null),s||(t.__CROACT__=n),n}function $f(e,t,n){return!n&&e&&(n=new sg(t.parentElement),n._hyd=[t],n._sel=!0),RP(e,t,n),n}function og(e){var t=ng(),n=t._hs||(t._hs=[]),r=yP(),s=n[r];if(bP(r+1),s){if(!Ws(s.deps,e.deps))return s.updated=!1,s;n[r]=e}else n.push(e);return e.value=e.func(),e.updated=!0,e}function DP(e,t){var n=og({func:e,deps:t});return n.value}function IP(e){return DP(function(){return mc(e)},[])}function ag(e,t,n){var r=ng(),s=og({func:function(){return e},deps:t}),p=n?r._usefs:r._uefs;s.updated?p.push(function(){return s.effect&&s.effect(),s.effect=e(),s.effect}):p.push(function(){return s.effect})}function FP(e,t,n){ag(function(){e==null||e(t())},n,!0)}var Va=function(e,t){return Va=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Va(e,t)};function LP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Va(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var BP=function(e){LP(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={scrollPos:0},r.width=0,r.height=0,r._zoom=0,r._rulerScale=0,r._observer=null,r._checkResize=function(){r.resize()},r}var n=t.prototype;return n.render=function(){var r=this.props;return this._zoom=r.zoom,Ut("canvas",{ref:Wn(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var r=this.props;this.state.scrollPos=r.defaultScrollPos||0;var s=this.canvasElement,p=s.getContext("2d",{alpha:!0});this.canvasContext=p,r.useResizeObserver?(this._observer=new ResizeObserver(this._checkResize),this._observer.observe(s,{box:"border-box"})):this.resize()},n.componentDidUpdate=function(){this.resize()},n.componentWillUnmount=function(){var r;this.state.scrollPos=0,(r=this._observer)===null||r===void 0||r.disconnect()},n.getScrollPos=function(){return this.state.scrollPos},n.scroll=function(r,s){this.draw({scrollPos:r,zoom:s})},n.resize=function(r){var s=this.canvasElement,p=this.props,m=p.width,u=p.height,i=p.scrollPos,h=this._getRulerScale();this.width=m||s.offsetWidth,this.height=u||s.offsetHeight,s.width=this.width*h,s.height=this.height*h,this.draw({scrollPos:i,zoom:r})},n.draw=function(r){r===void 0&&(r={});var s=this.props,p=r.zoom,m=p===void 0?this._zoom:p,u=r.scrollPos,i=u===void 0?this.state.scrollPos:u,h=r.marks,f=h===void 0?s.marks:h,o=r.selectedRanges,l=o===void 0?s.selectedRanges:o,a=r.segment,c=a===void 0?s.segment||10:a,g=r.unit,d=g===void 0?s.unit:g;this._zoom=m;var v=s,_=v.type,b=v.backgroundColor,y=v.lineColor,w=v.textColor,C=v.textBackgroundColor,S=v.direction,T=v.negativeRuler,j=T===void 0?!0:T,W=v.textFormat,V=v.range,H=V===void 0?[-1/0,1/0]:V,Q=v.rangeBackgroundColor,se=v.selectedBackgroundColor,le=v.lineWidth,ue=le===void 0?1:le,X=v.selectedRangesText,K=v.selectedRangesTextColor,x=K===void 0?"#44aaff":K,D=v.selectedRangesTextOffset,F=D===void 0?[0,0]:D,I=v.markColor,ee=I===void 0?"#ff5":I,R=this._getRulerScale(),E=this.width,U=this.height,M=this.state;M.scrollPos=i;var L=this.canvasContext,z=_==="horizontal",q=j!==!1,oe=s.font||"10px sans-serif",k=s.textAlign||"left",O=s.textOffset||[0,0],P=z?U:E,B=xi("".concat(s.mainLineSize||"100%"),P),$=xi("".concat(s.longLineSize||10),P),N=xi("".concat(s.shortLineSize||7),P),Y=s.lineOffset||[0,0];switch(b==="transparent"?L.clearRect(0,0,E*R,U*R):(L.rect(0,0,E*R,U*R),L.fillStyle=b,L.fill()),L.save(),L.scale(R,R),L.strokeStyle=y,L.lineWidth=ue,L.font=oe,L.fillStyle=w,L.textAlign=k,S){case"start":L.textBaseline="top";break;case"center":L.textBaseline="middle";break;case"end":L.textBaseline="bottom";break}L.translate(.5,0),L.beginPath();for(var J=z?E:U,ae=m*d,ne=Math.floor(i*m/ae),G=Math.ceil((i*m+J)/ae),ce=G-ne,pe=Math.max(["left","center","right"].indexOf(k)-1,-1),Z=z?U:E,ge=[],me=0;me<=ce;++me){var be=(me+ne)*d,ke="".concat(be);W&&(ke=W(be));var Je=L.measureText(ke).width;ge.push({color:w,offset:O,backgroundColor:C,value:be,text:ke,textSize:Je})}if(se!=="transparent"&&(l!=null&&l.length)&&l.forEach(function(Et){var zt=Math.max(Et[0],H[0],j?-1/0:0),Kt=Math.min(Et[1],H[1]),wn=(zt-i)*m,Cn=(Kt-zt)*m;X&&Et.forEach(function(cn){var un="".concat(cn);W&&(un=W(cn));var Sn=L.measureText(un).width,In=cn*m,es=In+Sn;sP(ge,function(br,si){var Qn=br.value,$g=br.textSize,Dc=Qn*m,Hg=Dc+$g;Dc<=es&&In<=Hg&&ge.splice(si,1)}),ge.push({value:cn,color:x,offset:F,text:un,textSize:Sn})}),!(Cn<=0)&&(L.save(),L.fillStyle=se,z?L.fillRect(wn,0,Cn,Z):L.fillRect(0,wn,Z,Cn),L.restore())}),Q!=="transparent"&&H[0]!==-1/0&&H[1]!==1/0){var St=(H[0]-i)*m,_t=(H[1]-H[0])*m;L.save(),L.fillStyle=Q,z?L.fillRect(St,0,_t,Z):L.fillRect(0,St,Z,_t),L.restore()}for(var me=0;me<=ce;++me){var be=me+ne;if(!(!q&&be<0))for(var ln=be*d,Zn=(ln-i)*m,qe=0;qe<c;++qe){var ut=Zn+qe/c*ae,ri=ln+qe/c*d;if(!(ut<0||ut>=J||ri<H[0]||ri>H[1])){var Qi=qe===0?B:qe%2===0?$:N,ii=0;switch(S){case"start":ii=0;break;case"center":ii=Z/2-Qi/2;break;case"end":ii=Z-Qi;break}var Mc=z?[ut+Y[0],ii+Y[1]]:[ii+Y[0],ut+Y[1]],Fo=Mc[0],Lo=Mc[1],Rc=z?[Fo,Lo+Qi]:[Fo+Qi,Lo],Ng=Rc[0],zg=Rc[1];L.moveTo(Fo+Y[0],Lo+Y[1]),L.lineTo(Ng+Y[0],zg+Y[1])}}}L.stroke(),L.beginPath(),L.strokeStyle=ee,L.lineWidth=1,(f||[]).forEach(function(Et){var zt=(-i+Et)*m;if(!(zt<0||zt>=J||Et<H[0]||Et>H[1])){var Kt=z?[zt+Y[0],Y[1]]:[Y[0],zt+Y[1]],wn=Kt[0],Cn=Kt[1],cn=z?[wn,Cn+P]:[wn+P,Cn],un=cn[0],Sn=cn[1];L.moveTo(wn+Y[0],Cn+Y[1]),L.lineTo(un+Y[0],Sn+Y[1])}}),L.stroke(),ge.forEach(function(Et){var zt=Et.value,Kt=Et.offset,wn=Et.backgroundColor,Cn=Et.color,cn=Et.text,un=Et.textSize;if(!(!q&&zt<0)){var Sn=(zt-i)*m;if(!(Sn<-ae||Sn>=J+d*m||zt<H[0]||zt>H[1])){var In=0;switch(S){case"start":In=17;break;case"center":In=Z/2;break;case"end":In=Z-17;break}var es=z?[Sn+pe*-3,In]:[In,Sn+pe*3],br=es[0],si=es[1];if(wn){var Qn=0;switch(k){case"left":Qn=0;break;case"center":Qn=-un/2;break;case"right":Qn=-un;break}L.save(),L.fillStyle=wn,z?L.fillRect(br+Kt[0]+Qn,0,un,B):(L.translate(0,si+Kt[1]),L.rotate(-Math.PI/2),L.fillRect(Qn,0,un,B)),L.restore()}L.save(),L.fillStyle=Cn,z?L.fillText(cn,br+Kt[0],si+Kt[1]):(L.translate(br+Kt[0],si+Kt[1]),L.rotate(-Math.PI/2),L.fillText(cn,0,0)),L.restore()}}}),L.restore()},n._getRulerScale=function(){var r=this.props.defaultPixelScale||2;if(!this._rulerScale){var s=window.devicePixelRatio>1;if(!s&&window.matchMedia){var p=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");s=p&&p.matches}this._rulerScale=s?3:r}return this._rulerScale},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555",defaultScrollPos:0,markColor:"#f55",marks:[]},t}(rg),lg=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","defaultScrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat","warpSelf","selectedBackgroundColor","selectedRanges","defaultPixelScale","useResizeObserver","selectedRangesText","selectedRangesTextColor","selectedRangesTextOffset","marks","markColor"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ga=function(){return Ga=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Ga.apply(this,arguments)};function jP(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,u=p.length;m<u;m++,s++)r[s]=p[m];return r}var NP=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(_n(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(_n(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=Eo(p,function(u){return u.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,jP(p).forEach(function(u){u.listener(r),u.once&&s.off(n,u.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(Ga({listener:r},s))},e}();const zP=NP;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ka=function(e,t){return Ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Ka(e,t)};function $P(e,t){Ka(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var tt=function(){return tt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},tt.apply(this,arguments)};function HP(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=Math.atan2(r,n);return s>=0?s:s+Math.PI*2}function ua(e){return HP([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function UP(e){return e.touches&&e.touches.length>=2}function gs(e){return e?e.touches?YP(e.touches):[cg(e)]:[]}function WP(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function Hf(e,t,n){var r=n.length,s=Ti(e,r),p=s.clientX,m=s.clientY,u=s.originalClientX,i=s.originalClientY,h=Ti(t,r),f=h.clientX,o=h.clientY,l=Ti(n,r),a=l.clientX,c=l.clientY,g=p-f,d=m-o,v=p-a,_=m-c;return{clientX:u,clientY:i,deltaX:g,deltaY:d,distX:v,distY:_}}function fa(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function YP(e){for(var t=Math.min(e.length,2),n=[],r=0;r<t;++r)n.push(cg(e[r]));return n}function cg(e){return{clientX:e.clientX,clientY:e.clientY}}function Ti(e,t){t===void 0&&(t=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(e.length,t),s=0;s<r;++s){var p=e[s];n.originalClientX+="originalClientX"in p?p.originalClientX:p.clientX,n.originalClientY+="originalClientY"in p?p.originalClientY:p.clientY,n.clientX+=p.clientX,n.clientY+=p.clientY}return t?{clientX:n.clientX/t,clientY:n.clientY/t,originalClientX:n.originalClientX/t,originalClientY:n.originalClientY/t}:n}var ha=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return e.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),ua(t)},e.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),ua(t)-ua(this.startClients)},e.prototype.getPosition=function(t,n){t===void 0&&(t=this.prevClients);var r=Hf(t||this.prevClients,this.prevClients,this.startClients),s=r.deltaX,p=r.deltaY;return this.movement+=Math.sqrt(s*s+p*p),this.prevClients=t,r},e.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var n=this.prevClients,r=this.startClients,s=Math.min(this.length,n.length),p=[],m=0;m<s;++m)p[m]=Hf([t[m]],[n[m]],[r[m]]);return p},e.prototype.getMovement=function(t){var n=this.movement;if(!t)return n;var r=Ti(t,this.length),s=Ti(this.prevClients,this.length),p=r.clientX-s.clientX,m=r.clientY-s.clientY;return Math.sqrt(p*p+m*m)+n},e.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),fa(t)},e.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),fa(t)/fa(this.startClients)},e.prototype.move=function(t,n){this.startClients.forEach(function(r){r.clientX-=t,r.clientY-=n}),this.prevClients.forEach(function(r){r.clientX-=t,r.clientY-=n})},e}(),Uf=["textarea","input"],XP=function(e){$P(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this)||this;s.options={},s.flag=!1,s.pinchFlag=!1,s.data={},s.isDrag=!1,s.isPinch=!1,s.clientStores=[],s.targets=[],s.prevTime=0,s.doubleFlag=!1,s._useMouse=!1,s._useTouch=!1,s._useDrag=!1,s._dragFlag=!1,s._isTrusted=!1,s._isMouseEvent=!1,s._isSecondaryButton=!1,s._preventMouseEvent=!1,s._prevInputEvent=null,s._isDragAPI=!1,s._isIdle=!0,s._window=window,s.onDragStart=function(l,a){if(a===void 0&&(a=!0),!(!s.flag&&l.cancelable===!1)){var c=l.type.indexOf("drag")>=-1;if(!(s.flag&&c)){s._isDragAPI=!0;var g=s.options,d=g.container,v=g.pinchOutside,_=g.preventWheelClick,b=g.preventRightClick,y=g.preventDefault,w=g.checkInput,C=g.dragFocusedInput,S=g.preventClickEventOnDragStart,T=g.preventClickEventOnDrag,j=g.preventClickEventByCondition,W=s._useTouch,V=!s.flag;if(s._isSecondaryButton=l.which===3||l.button===2,_&&(l.which===2||l.button===1)||b&&(l.which===3||l.button===2))return s.stop(),!1;if(V){var H=s._window.document.activeElement,Q=l.target;if(Q){var se=Q.tagName.toLowerCase(),le=Uf.indexOf(se)>-1,ue=Q.isContentEditable;if(le||ue){if(w||!C&&H===Q)return!1;if(H&&(H===Q||ue&&H.isContentEditable&&H.contains(Q)))if(C)Q.blur();else return!1}else if((y||l.type==="touchstart")&&H){var X=H.tagName.toLowerCase();(H.isContentEditable||Uf.indexOf(X)>-1)&&H.blur()}(S||T||j)&&ft(s._window,"click",s._onClick,!0)}s.clientStores=[new ha(gs(l))],s._isIdle=!1,s.flag=!0,s.isDrag=!1,s._isTrusted=a,s._dragFlag=!0,s._prevInputEvent=l,s.data={},s.doubleFlag=Wa()-s.prevTime<200,s._isMouseEvent=WP(l),!s._isMouseEvent&&s._preventMouseEvent&&(s._preventMouseEvent=!1);var K=s._preventMouseEvent||s.emit("dragStart",tt(tt({data:s.data,datas:s.data,inputEvent:l,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,isTrusted:a,isDouble:s.doubleFlag},s.getCurrentStore().getPosition()),{preventDefault:function(){l.preventDefault()},preventDrag:function(){s._dragFlag=!1}}));K===!1&&s.stop(),s._isMouseEvent&&s.flag&&y&&l.preventDefault()}if(!s.flag)return!1;var x=0;if(V?(s._attchDragEvent(),W&&v&&(x=setTimeout(function(){ft(d,"touchstart",s.onDragStart,{passive:!1})}))):W&&v&&st(d,"touchstart",s.onDragStart),s.flag&&UP(l)){if(clearTimeout(x),V&&l.touches.length!==l.changedTouches.length)return;s.pinchFlag||s.onPinchStart(l)}}}},s.onDrag=function(l,a){if(s.flag){var c=s.options.preventDefault;!s._isMouseEvent&&c&&l.preventDefault(),s._prevInputEvent=l;var g=gs(l),d=s.moveClients(g,l,!1);if(s._dragFlag){if(s.pinchFlag||d.deltaX||d.deltaY){var v=s._preventMouseEvent||s.emit("drag",tt(tt({},d),{isScroll:!!a,inputEvent:l}));if(v===!1){s.stop();return}}s.pinchFlag&&s.onPinch(l,g)}s.getCurrentStore().getPosition(g,!0)}},s.onDragEnd=function(l){if(s.flag){var a=s.options,c=a.pinchOutside,g=a.container,d=a.preventClickEventOnDrag,v=a.preventClickEventOnDragStart,_=a.preventClickEventByCondition,b=s.isDrag;(d||v||_)&&requestAnimationFrame(function(){s._allowClickEvent()}),!_&&!v&&d&&!b&&s._allowClickEvent(),s._useTouch&&c&&st(g,"touchstart",s.onDragStart),s.pinchFlag&&s.onPinchEnd(l);var y=l!=null&&l.touches?gs(l):[],w=y.length;w===0||!s.options.keepDragging?s.flag=!1:s._addStore(new ha(y));var C=s._getPosition(),S=Wa(),T=!b&&s.doubleFlag;s._prevInputEvent=null,s.prevTime=b||T?0:S,s.flag||(s._dettachDragEvent(),s._preventMouseEvent||s.emit("dragEnd",tt({data:s.data,datas:s.data,isDouble:T,isDrag:b,isClick:!b,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,inputEvent:l,isTrusted:s._isTrusted},C)),s.clientStores=[],s._isMouseEvent||(s._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){s._preventMouseEvent=!1})})),s._isIdle=!0)}},s.onBlur=function(){s.onDragEnd()},s._allowClickEvent=function(){st(s._window,"click",s._onClick,!0)},s._onClick=function(l){s._allowClickEvent(),s._preventMouseEvent=!1;var a=s.options.preventClickEventByCondition;a!=null&&a(l)||(l.stopPropagation(),l.preventDefault())},s._onContextMenu=function(l){var a=s.options;a.preventRightClick?s.onDragEnd(l):l.preventDefault()},s._passCallback=function(){};var p=[].concat(n),m=p[0];s._window=fP(m)?m:la(m),s.options=tt({checkInput:!1,container:m&&!("document"in m)?la(m):m,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},r);var u=s.options,i=u.container,h=u.events,f=u.checkWindowBlur;if(s._useDrag=h.indexOf("drag")>-1,s._useTouch=h.indexOf("touch")>-1,s._useMouse=h.indexOf("mouse")>-1,s.targets=p,s._useDrag&&p.forEach(function(l){ft(l,"dragstart",s.onDragStart)}),s._useMouse&&(p.forEach(function(l){ft(l,"mousedown",s.onDragStart),ft(l,"mousemove",s._passCallback)}),ft(i,"contextmenu",s._onContextMenu)),f&&ft(la(),"blur",s.onBlur),s._useTouch){var o={passive:!1};p.forEach(function(l){ft(l,"touchstart",s.onDragStart,o),ft(l,"touchmove",s._passCallback,o)})}return s}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(r,s){return r+s.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(n,r,s,p){p===void 0&&(p=!0),this.flag&&(this.clientStores[0].move(n,r),p&&this.onDrag(s,!0))},t.prototype.move=function(n,r){var s=n[0],p=n[1],m=this.getCurrentStore(),u=m.prevClients;return this.moveClients(u.map(function(i){var h=i.clientX,f=i.clientY;return{clientX:h+s,clientY:f+p,originalClientX:h,originalClientY:f}}),r,!0)},t.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},t.prototype.setEventData=function(n){var r=this.data;for(var s in n)r[s]=n[s];return this},t.prototype.setEventDatas=function(n){return this.setEventData(n)},t.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),tt(tt({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var n=this,r=this.targets,s=this.options.container;this.off(),st(this._window,"blur",this.onBlur),this._useDrag&&r.forEach(function(p){st(p,"dragstart",n.onDragStart)}),this._useMouse&&(r.forEach(function(p){st(p,"mousedown",n.onDragStart)}),st(s,"contextmenu",this._onContextMenu)),this._useTouch&&(r.forEach(function(p){st(p,"touchstart",n.onDragStart)}),st(s,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(n){var r=this,s=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>s)){var p=new ha(gs(n));this.pinchFlag=!0,this._addStore(p);var m=this.emit("pinchStart",tt(tt({data:this.data,datas:this.data,angle:p.getAngle(),touches:this.getCurrentStore().getPositions()},p.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){r._dragFlag=!1}}));m===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(n,r){if(!(!this.flag||!this.pinchFlag||r.length<2)){var s=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",tt(tt({data:this.data,datas:this.data,movement:this.getMovement(r),angle:s.getAngle(r),rotation:s.getRotation(r),touches:s.getPositions(r),scale:s.getScale(r),distance:s.getDistance(r)},s.getPosition(r)),{inputEvent:n,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(n){if(this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var s=this.getCurrentStore();this.emit("pinchEnd",tt(tt({data:this.data,datas:this.data,isPinch:r,touches:s.getPositions()},s.getPosition()),{inputEvent:n}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(n,r,s){var p=this._getPosition(n,s),m=this.isDrag;(p.deltaX||p.deltaY)&&(this.isDrag=!0);var u=!1;return!m&&this.isDrag&&(u=!0),tt(tt({data:this.data,datas:this.data},p),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:r,isTrusted:this._isTrusted,isFirstDrag:u})},t.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},t.prototype._getPosition=function(n,r){var s=this.getCurrentStore(),p=s.getPosition(n,r),m=this.clientStores.slice(1).reduce(function(h,f){var o=f.getPosition();return h.distX+=o.distX,h.distY+=o.distY,h},p),u=m.distX,i=m.distY;return tt(tt({},p),{distX:u,distY:i})},t.prototype._attchDragEvent=function(){var n=this._window,r=this.options.container,s={passive:!1};this._isDragAPI&&(ft(r,"dragover",this.onDrag,s),ft(n,"dragend",this.onDragEnd)),this._useMouse&&(ft(r,"mousemove",this.onDrag),ft(n,"mouseup",this.onDragEnd)),this._useTouch&&(ft(r,"touchmove",this.onDrag,s),ft(n,"touchend",this.onDragEnd,s),ft(n,"touchcancel",this.onDragEnd,s))},t.prototype._dettachDragEvent=function(){var n=this._window,r=this.options.container;this._isDragAPI&&(st(r,"dragover",this.onDrag),st(n,"dragend",this.onDragEnd)),this._useMouse&&(st(r,"mousemove",this.onDrag),st(n,"mouseup",this.onDragEnd)),this._useTouch&&(st(r,"touchstart",this.onDragStart),st(r,"touchmove",this.onDrag),st(n,"touchend",this.onDragEnd),st(n,"touchcancel",this.onDragEnd))},t}(zP);function VP(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var GP=VP;function KP(e){return GP(e).toString(36)}function qP(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function JP(e,t,n){return n.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,s){var p=s.trim();return(p?gi(p):[""]).map(function(m){var u=m.trim();return u.indexOf("@")===0?u:u.indexOf(":global")>-1?u.replace(/\:global/g,""):u.indexOf(":host")>-1?"".concat(u.replace(/\:host/g,".".concat(e))):u?".".concat(e," ").concat(u):".".concat(e)}).join(", ")+" {"})}function ZP(e,t,n,r,s){var p=hc(r),m=p.createElement("style");return m.setAttribute("type","text/css"),m.setAttribute("data-styled-id",e),m.setAttribute("data-styled-count","1"),n.nonce&&m.setAttribute("nonce",n.nonce),m.innerHTML=JP(e,t,n),(s||p.head||p.body).appendChild(m),m}function QP(e){var t="rCS"+KP(e);return{className:t,inject:function(n,r){r===void 0&&(r={});var s=qP(n),p=(s||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!p)p=ZP(t,e,r,n,s);else{var m=parseFloat(p.getAttribute("data-styled-count"))||0;p.setAttribute("data-styled-count","".concat(m+1))}return{destroy:function(){var u,i=parseFloat(p.getAttribute("data-styled-count"))||0;i<=1?(p.remove?p.remove():(u=p.parentNode)===null||u===void 0||u.removeChild(p),p=null):p.setAttribute("data-styled-count","".concat(i-1))}}}}}var qa=function(){return qa=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},qa.apply(this,arguments)};function ek(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function tk(e,t){var n=QP(t),r=n.className;return wP(function(s,p){var m=s.className,u=m===void 0?"":m;s.cspNonce;var i=ek(s,["className","cspNonce"]),h=IP();return FP(p,function(){return h.current},[]),ag(function(){var f=n.inject(h.current,{nonce:s.cspNonce});return function(){f.destroy()}},[]),Ut(e,qa({ref:h,"data-styled-id":r,className:"".concat(u," ").concat(r)},i))})}function nk(e,t,n,r,s,p){for(var m=0;m<s;++m){var u=n+m*s,i=r+m*s;e[u]+=e[i]*p,t[u]+=t[i]*p}}function rk(e,t,n,r,s){for(var p=0;p<s;++p){var m=n+p*s,u=r+p*s,i=e[m],h=t[m];e[m]=e[u],e[u]=i,t[m]=t[u],t[u]=h}}function ik(e,t,n,r,s){for(var p=0;p<r;++p){var m=n+p*r;e[m]/=s,t[m]/=s}}function sk(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var n=e.slice(),r=ug(t),s=0;s<t;++s){var p=t*s+s;if(!aa(n[p],sa)){for(var m=s+1;m<t;++m)if(n[t*s+m]){rk(n,r,s,m,t);break}}if(!aa(n[p],sa))return[];ik(n,r,s,t,n[p]);for(var m=0;m<t;++m){var u=m,i=m+s*t,h=n[i];!aa(h,sa)||s===m||nk(n,r,u,s,t,-h)}}return r}function yr(e,t,n){n===void 0&&(n=Math.sqrt(e.length));var r=[],s=e.length/n,p=t.length/s;if(s){if(!p)return e}else return t;for(var m=0;m<n;++m)for(var u=0;u<p;++u){r[u*n+m]=0;for(var i=0;i<s;++i)r[u*n+m]+=e[i*n+m]*t[u*s+i]}return r}function ok(e,t,n){n===void 0&&(n=t.length);var r=yr(e,t,n),s=r[n-1];return r.map(function(p){return p/s})}function ak(e,t){return yr(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function lk(e,t){return yr(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function ck(e,t){return yr(e,uk(t,4))}function vs(e,t){var n=t[0],r=n===void 0?1:n,s=t[1],p=s===void 0?1:s,m=t[2],u=m===void 0?1:m;return yr(e,[r,0,0,0,0,p,0,0,0,0,u,0,0,0,0,1],4)}function da(e,t){var n=t[0],r=n===void 0?0:n,s=t[1],p=s===void 0?0:s,m=t[2],u=m===void 0?0:m;return yr(e,[1,0,0,0,0,1,0,0,0,0,1,0,r,p,u,1],4)}function Ja(e,t){return yr(e,t,4)}function uk(e,t){var n=Math.cos(e),r=Math.sin(e),s=ug(t);return s[0]=n,s[1]=r,s[t]=-r,s[t+1]=n,s}function ug(e){for(var t=e*e,n=[],r=0;r<t;++r)n[r]=r%(e+1)?0:1;return n}var Oi=function(){return Oi=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Oi.apply(this,arguments)};function fg(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function fk(e,t){return t===void 0&&(t=0),dk(pk(e,t))}function Wf(e,t){var n=ok(e,[t[0],t[1]||0,t[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function hk(e,t){t===void 0&&(t=document.body);for(var n=e,r=fg();n;){var s=getComputedStyle(n).transform;if(r=Ja(fk(s),r),n===t)break;n=n.parentElement}return r=sk(r,4),r[12]=0,r[13]=0,r[14]=0,r}function dk(e){var t=fg();return e.forEach(function(n){var r=n.matrixFunction,s=n.functionValue;r&&(t=r(t,s))}),t}function pk(e,t){t===void 0&&(t=0);var n=Vp(e)?e:tP(e);return n.map(function(r){var s=nP(r),p=s.prefix,m=s.value,u=null,i=p,h="";if(p==="translate"||p==="translateX"||p==="translate3d"){var f=_n(t)?Oi(Oi({},t),{"o%":t["%"]}):{"%":t,"o%":t},o=gi(m).map(function(Q,se){return se===0&&"x%"in f?f["%"]=t["x%"]:se===1&&"y%"in f?f["%"]=t["y%"]:f["%"]=t["o%"],xi(Q,f)}),l=o[0],a=o[1],c=a===void 0?0:a,g=o[2],d=g===void 0?0:g;u=da,h=[l,c,d]}else if(p==="translateY"){var v=_n(t)?Oi({"%":t["y%"]},t):{"%":t},c=xi(m,v);u=da,h=[0,c,0]}else if(p==="translateZ"){var d=parseFloat(m);u=da,h=[0,0,d]}else if(p==="scale"||p==="scale3d"){var _=gi(m).map(function(Q){return parseFloat(Q)}),b=_[0],y=_[1],w=y===void 0?b:y,C=_[2],S=C===void 0?1:C;u=vs,h=[b,w,S]}else if(p==="scaleX"){var b=parseFloat(m);u=vs,h=[b,1,1]}else if(p==="scaleY"){var w=parseFloat(m);u=vs,h=[1,w,1]}else if(p==="scaleZ"){var S=parseFloat(m);u=vs,h=[1,1,S]}else if(p==="rotate"||p==="rotateZ"||p==="rotateX"||p==="rotateY"){var T=qp(m),j=T.unit,W=T.value,V=j==="rad"?W:W*Math.PI/180;p==="rotate"||p==="rotateZ"?(i="rotateZ",u=ck):p==="rotateX"?u=ak:p==="rotateY"&&(u=lk),h=V}else if(p==="matrix3d")u=Ja,h=gi(m).map(function(Q){return parseFloat(Q)});else if(p==="matrix"){var H=gi(m).map(function(Q){return parseFloat(Q)});u=Ja,h=[H[0],H[1],0,0,H[2],H[3],0,0,0,0,1,0,H[4],H[5],0,1]}else i="";return{name:p,functionName:i,value:m,matrixFunction:u,functionValue:h}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Za=function(){return Za=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Za.apply(this,arguments)};function gk(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,u=p.length;m<u;m++,s++)r[s]=p[m];return r}var vk=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(_n(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(_n(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=Eo(p,function(u){return u.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,gk(p).forEach(function(u){u.listener(r),u.once&&s.off(n,u.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(Za({listener:r},s))},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Qa=function(e,t){return Qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Qa(e,t)};function mk(e,t){Qa(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Pr=function(){return Pr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Pr.apply(this,arguments)};function _k(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function pa(e){if(e){if(pr(e))return document.querySelector(e)}else return null;if(Gp(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var yk=function(e){mk(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r}var n=t.prototype;return n.dragStart=function(r,s){var p=pa(s.container);if(!p){this._flag=!1;return}var m=0,u=0,i=0,h=0;if(p===document.body)i=window.innerWidth,h=window.innerHeight;else{var f=p.getBoundingClientRect();m=f.top,u=f.left,i=f.width,h=f.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:m,left:u,width:i,height:h},this._prevScrollPos=this._getScrollPosition([0,0],s)},n.drag=function(r,s){if(clearTimeout(this._timer),!!this._flag){var p=r.clientX,m=r.clientY,u=s.threshold,i=u===void 0?0:u,h=this,f=h._startRect,o=h._startPos,l=[0,0];return f.top>m-i?(o[1]>f.top||m<o[1])&&(l[1]=-1):f.top+f.height<m+i&&(o[1]<f.top+f.height||m>o[1])&&(l[1]=1),f.left>p-i?(o[0]>f.left||p<o[0])&&(l[0]=-1):f.left+f.width<p+i&&(o[0]<f.left+f.width||p>o[0])&&(l[0]=1),!l[0]&&!l[1]?!1:this._continueDrag(Pr(Pr({},s),{direction:l,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var s=this;if(this._isWait)return!1;var p=r.prevScrollPos,m=p===void 0?this._prevScrollPos:p,u=r.direction,i=r.throttleTime,h=i===void 0?0:i,f=r.inputEvent,o=r.isDrag,l=this._getScrollPosition(u||[0,0],r),a=l[0]-m[0],c=l[1]-m[1],g=u||[a?Math.abs(a)/a:0,c?Math.abs(c)/c:0];return this._prevScrollPos=l,!a&&!c?!1:(this.trigger("move",{offsetX:g[0]?a:0,offsetY:g[1]?c:0,inputEvent:f}),h&&o&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},h)),!0)},n.dragEnd=function(){this._flag=!1,clearTimeout(this._timer)},n._getScrollPosition=function(r,s){var p=s.container,m=s.getScrollPosition,u=m===void 0?_k:m;return u({container:pa(p),direction:r})},n._continueDrag=function(r){var s=this,p,m,u=r.container,i=r.direction,h=r.throttleTime,f=r.useScroll,o=r.isDrag,l=r.inputEvent;if(!(!this._flag||o&&this._isWait)){var a=Wa(),c=Math.max(h+this._prevTime-a,0);if(c>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},c),!1;this._prevTime=a;var g=this._getScrollPosition(i,r);this._prevScrollPos=g,o&&(this._isWait=!0);var d={container:pa(u),direction:i,inputEvent:l};return(m=(p=r).requestScroll)===null||m===void 0||m.call(p,d),this.trigger("scroll",d),this._isWait=!1,f||this.checkScroll(Pr(Pr({},r),{prevScrollPos:g,direction:i,inputEvent:l}))}},t}(vk),el=function(e,t){return el=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},el(e,t)};function bk(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");el(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Lt=function(){return Lt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Lt.apply(this,arguments)};function Ei(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,p;r<s;r++)(p||!(r in t))&&(p||(p=Array.prototype.slice.call(t,0,r)),p[r]=t[r]);return e.concat(p||Array.prototype.slice.call(t))}function En(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return HE.apply(void 0,Ei(["scena-guides-"],e,!1))}var wk=En("guide","adder"),Ck=En("guides"),Sk=En("guide"),Yf=En("dragging"),xk=En("display-drag"),Tk=UE("scena-guides-",`
{
    position: relative;
    width: 100%;
    height: 100%;
}
canvas {
    position: relative;
}
.guide-origin {
    position: absolute;
    width: 1px;
    height: 1px;
    top: 0;
    left: 0;
    opacity: 0;
}
.guides {
    position: absolute;
    bottom: 0;
    right: 0;
    will-change: transform;
    z-index: 2000;
}
.guide-pos {
    position: absolute;
    font-weight: bold;
    font-size: 12px;
    color: #f33;
}
.horizontal .guide-pos {
    bottom: 100%;
    left: 50%;
    transform: translate(-50%);
}
.vertical .guide-pos {
    left: calc(100% + 2px);
    top: 50%;
    transform: translateY(-50%);
}
.display-drag {
    position: absolute;
    will-change: transform;
    z-index: 2000;
    font-weight: bold;
    font-size: 12px;
    display: none;
    left: 20px;
    top: -20px;
    color: #f33;
}
:host.horizontal .guides {
    width: 100%;
    height: 0;
}
:host.vertical .guides {
    height: 100%;
    width: 0;
}
:host.horizontal canvas {
    cursor: ns-resize;
}
:host.vertical canvas {
    cursor: ew-resize;
}
.guide {
    position: absolute;
    background: #f33;
    z-index: 2;
}
.guide.dragging:before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
:host.horizontal .guide {
    width: 100%;
    height: 1px;
    cursor: row-resize;
}
:host.vertical .guide {
    width: 1px;
    height: 100%;
    cursor: col-resize;
}
.mobile :host.horizontal .guide {
    transform: scale(1, 2);
}
.mobile :host.vertical .guide {
    transform: scale(2, 1);
}
:host.horizontal .guide:before {
    height: 20px;
}
:host.vertical .guide:before {
    width: 20px;
}
.adder {
    display: none;
}
.adder.dragging {
    display: block;
}
`),Ok=Ei(["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides","scrollOptions","guideStyle","guidesOffset","digit","defaultGuidesPos","dragGuideStyle","displayGuidePos","guidePosFormat","guidePosStyle","lockGuides"],lg,!0),Ek=["getGuides","loadGuides","scroll","scrollGuides","resize","getElement","getRulerElement","forceUpdate","getRulerScrollPos","getGuideScrollPos","zoomTo","drawRuler"],Pk=["changeGuides","requestScroll","dragStart","drag","dragEnd","clickRuler"],kk=tk("div",Tk),Ak=function(e){bk(t,e);function t(r){var s=e.call(this,r)||this;return s.state={guides:[]},s.scrollPos=0,s.managerRef=mc(),s.guideElements=[],s._isFirstMove=!1,s._zoom=1,s._observer=null,s.onDragStart=function(p){var m=p.datas,u=p.inputEvent;s._isFirstMove=!0,s.movePos(p),s.props.onDragStart(Lt(Lt({},p),{dragElement:m.target})),s.gesto.isFlag()&&(u.stopPropagation(),u.preventDefault(),s._startDragScroll(p))},s._onDrag=function(p){s._isFirstMove&&(s._isFirstMove=!1,cP(p.datas.target,Yf));var m=s.movePos(p);if(s.props.onDrag(Lt(Lt({},p),{dragElement:p.datas.target})),!s.gesto.isFlag()){s._endDragScroll(p);return}return s._dragScroll(p),m},s.onDragEnd=function(p){var m=p.datas,u=p.isDouble,i=p.distX,h=p.distY,f=s.movePos(p),o=s.state.guides,l=s.props,a=l.onChangeGuides,c=l.displayDragPos,g=l.digit,d=l.lockGuides,v=l.guidesOffset,_=s._zoom,b=parseFloat((f/_).toFixed(g||0)),y=s.scrollPos-(v||0);if(c&&(s.displayElement.style.cssText+="display: none;"),uP(m.target,Yf),s.props.onDragEnd(Lt(Lt({},p),{dragElement:m.target})),s._endDragScroll(p),m.fromRuler)s._isFirstMove&&s.props.onClickRuler(Lt(Lt({},p),{pos:0})),b>=y&&o.indexOf(b)<0&&s.setState({guides:Ei(Ei([],o,!0),[b],!1)},function(){a({guides:s.state.guides,distX:i,distY:h,index:o.length,isAdd:!0,isRemove:!1,isChange:!1})});else{var w=parseFloat(m.target.getAttribute("data-index")),C=!1,S=!1;o=Ei([],o,!0);var T=o.indexOf(b);if(u||b<y||T>-1&&T!==w){if(d&&(d===!0||d.indexOf("remove")>-1))return;o.splice(w,1),C=!0}else{if(T>-1)return;if(d&&(d===!0||d.indexOf("change")>-1))return;o[w]=b,S=!0}s.setState({guides:o},function(){var j=s.state.guides;a({distX:i,distY:h,guides:j,isAdd:!1,index:w,isChange:S,isRemove:C})})}},s._onCheck=function(){s.resize()},s.state.guides=r.defaultGuides||[],s.scrollPos=r.defaultGuidesPos||0,s}var n=t.prototype;return n.render=function(){var r=this.props,s=r.className,p=r.type,m=r.zoom,u=r.style,i=r.rulerStyle,h=r.displayDragPos,f=r.cspNonce,o=r.dragGuideStyle,l=r.guidePosStyle,a=l===void 0?{}:l,c=this.props,g=this.getTranslateName(),d={};return lg.forEach(function(v){v==="style"||v==="warpSelf"||v==="useResizeObserver"||(d[v]=c[v])}),this._zoom=m,Ut(kk,{ref:this.managerRef,cspNonce:f,className:"".concat(En("manager",p)," ").concat(s),style:u},Ut("div",{className:En("guide-origin"),ref:Wn(this,"originElement")}),Ut(BP,Lt({ref:Wn(this,"ruler"),style:i},d)),Ut("div",{className:Ck,ref:Wn(this,"guidesElement"),style:{transform:"".concat(g,"(").concat(-this.scrollPos*m,"px)")}},h&&Ut("div",{className:xk,ref:Wn(this,"displayElement"),style:a||{}}),Ut("div",{className:wk,ref:Wn(this,"adderElement"),style:o}),this.renderGuides()))},n.drawRuler=function(r){this.ruler.draw(r)},n.renderGuides=function(){var r=this,s=this.props,p=s,m=p.type,u=p.showGuides,i=p.guideStyle,h=p.displayGuidePos,f=p.guidePosStyle,o=f===void 0?{}:f,l=p.guidesOffset,a=this._zoom,c=this.getTranslateName(),g=this.state.guides,d=s.guidePosFormat||s.dragPosFormat||function(v){return v};if(this.guideElements=[],u)return g.map(function(v,_){var b=v+(l||0);return Ut("div",{className:En("guide",m),ref:WE(r,"guideElements",_),key:_,"data-index":_,"data-pos":v,style:Lt(Lt({},i),{transform:"".concat(c,"(").concat(b*a,"px) translateZ(0px)")})},h&&Ut("div",{className:En("guide-pos"),style:o||{}},d(v)))})},n.componentDidMount=function(){var r=this;this.gesto=new XP(this.managerRef.current,{container:document.body}).on("dragStart",function(s){var p=r.props,m=p.type,u=p.lockGuides,i=r._zoom;if(u===!0){s.stop();return}var h=s.inputEvent,f=h.target,o=s.datas,l=r.ruler.canvasElement,a=r.guidesElement,c=m==="horizontal",g=r.originElement.getBoundingClientRect(),d=hk(r.managerRef.current),v=Wf(d,[s.clientX-g.left,s.clientY-g.top]);v[0]-=a.offsetLeft,v[1]-=a.offsetTop,v[c?1:0]+=r.scrollPos*i,o.offsetPos=v,o.matrix=d;var _=u&&u.indexOf("add")>-1,b=u&&u.indexOf("remove")>-1,y=u&&u.indexOf("change")>-1;if(f===l){if(_){s.stop();return}o.fromRuler=!0,o.target=r.adderElement}else if(lP(f,Sk)){if(b&&y){s.stop();return}o.target=f}else return s.stop(),!1;r.onDragStart(s)}).on("drag",this._onDrag).on("dragEnd",this.onDragEnd),this.props.useResizeObserver?(this._observer=new ResizeObserver(this._onCheck),this._observer.observe(this.guidesElement,{box:"border-box"}),this._observer.observe(this.getRulerElement(),{box:"border-box"})):this._onCheck()},n.componentWillUnmount=function(){var r;this.gesto.unset(),(r=this._observer)===null||r===void 0||r.disconnect()},n.componentDidUpdate=function(r){var s=this.props.defaultGuides;r.defaultGuides!==s&&this.setState({guides:s||[]})},n.loadGuides=function(r){this.setState({guides:r})},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(r,s){s===void 0&&(s=this._zoom),this._zoom=s;var p=this.getTranslateName(),m=this.guidesElement;this.scrollPos=r,m.style.transform="".concat(p,"(").concat(-r*s,"px)");var u=this.state.guides,i=this.props.guidesOffset||0;this.guideElements.forEach(function(h,f){if(h){var o=u[f]+(i||0);h.style.transform="".concat(p,"(").concat(o*s,"px) translateZ(0px)"),h.style.display=-r+o<0?"none":"block"}})},n.zoomTo=function(r){this.scroll(this.getRulerScrollPos(),r),this.scrollGuides(this.getGuideScrollPos(),r)},n.getElement=function(){return this.managerRef.current},n.getRulerElement=function(){return this.ruler.canvasElement},n.getGuideScrollPos=function(){return this.scrollPos},n.getRulerScrollPos=function(){return this.ruler.getScrollPos()},n.scroll=function(r,s){s===void 0&&(s=this._zoom),this._zoom=s,this.ruler.scroll(r,s)},n.resize=function(r){r===void 0&&(r=this._zoom),this.ruler.resize(r)},n.movePos=function(r){var s=r.datas,p=r.distX,m=r.distY,u=this.props,i=u.type,h=u.snaps,f=u.snapThreshold,o=u.displayDragPos,l=u.digit,a=u.guidesOffset||0,c=this._zoom,g=u.dragPosFormat||function(V){return V},d=i==="horizontal",v=Wf(s.matrix,[p,m]),_=s.offsetPos,b=v[0]+_[0],y=v[1]+_[1],w=a*c,C=Math.round(d?y:b)-a,S=parseFloat((C/c).toFixed(l||0)),T=h.slice().sort(function(V,H){return Math.abs(S-V)-Math.abs(S-H)});if(T.length&&Math.abs(T[0]*c-C)<f&&(S=T[0],C=S*c),!s.fromRuler||!this._isFirstMove){if(o){var j=i==="horizontal"?[b,C+w]:[C+w,y];this.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) "+"translate(".concat(j.map(function(V){return"".concat(V,"px")}).join(", "),")"),this.displayElement.innerHTML="".concat(g(S))}var W=s.target;W.setAttribute("data-pos",S),W.style.transform="".concat(this.getTranslateName(),"(").concat(C+a*c,"px)")}return C},n.getTranslateName=function(){return this.props.type==="horizontal"?"translateY":"translateX"},n._startDragScroll=function(r){var s=this,p=this.props.scrollOptions;if(p){var m=r.datas,u=new yk;m.dragScroll=u,u.on("scroll",function(i){var h,f,o=i.container,l=i.direction;(f=(h=s.props).onRequestScroll)===null||f===void 0||f.call(h,{container:o,direction:l})}).on("move",function(i){var h=i.offsetX,f=i.offsetY,o=i.inputEvent;s.gesto.scrollBy(h,f,o.inputEvent,!0)}),u.dragStart(r,{container:p.container})}},n._dragScroll=function(r){var s=this.props.scrollOptions;if(s){var p=r.datas.dragScroll;p.drag(r,s)}},n._endDragScroll=function(r){var s;(s=r.datas.dragScroll)===null||s===void 0||s.dragEnd(),r.datas.dragScroll=null},t.defaultProps={className:"",type:"horizontal",zoom:1,style:{},snapThreshold:5,snaps:[],digit:0,onClickRuler:function(){},onChangeGuides:function(){},onRequestScroll:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(r){return r},defaultGuides:[],lockGuides:!1,showGuides:!0,guideStyle:{},dragGuideStyle:{},guidePosStyle:{},defaultGuidesPos:0},t}(rg),tl=function(e,t){return tl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},tl(e,t)};function yc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ys=function(){return Ys=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Ys.apply(this,arguments)};function Mk(e,t,n,r){var s=arguments.length,p=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(m=e[u])&&(p=(s<3?m(p):s>3?m(t,n,p):m(t,n))||p);return s>3&&p&&Object.defineProperty(t,n,p),p}var hg=Ok,dg=Ek,pg=Pk,Rk=function(e){yc(t,e);function t(r){var s=e.call(this,r)||this;return s.state={},s.state=s.props,s}var n=t.prototype;return n.render=function(){return Ut(Ak,Ys({ref:Wn(this,"guides")},this.state))},t}(vc);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nl=function(){return nl=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},nl.apply(this,arguments)};function Dk(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,u=p.length;m<u;m++,s++)r[s]=p[m];return r}var Ik=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(_n(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(_n(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=Eo(p,function(u){return u.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,Dk(p).forEach(function(u){u.listener(r),u.once&&s.off(n,u.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(nl({listener:r},s))},e}(),Fk=function(e){yc(t,e);function t(r,s){s===void 0&&(s={});var p=e.call(this)||this;p.containerProvider=null,p.selfElement=null,p._warp=!1;var m={};pg.forEach(function(i){m[rP("on ".concat(i))]=function(h){return p.trigger(i,h)}});var u;return s.warpSelf?(delete s.warpSelf,p._warp=!0,u=r):(u=document.createElement("div"),r.appendChild(u)),p.containerProvider=$f(Ut(Rk,Ys({ref:Wn(p,"innerGuides")},m,s)),u),p}var n=t.prototype;return n.setState=function(r,s){this.innerGuides.setState(r,s)},n.forceUpdate=function(r){this.innerGuides.forceUpdate(r)},n.destroy=function(){var r,s=this.selfElement;$f(null,s,this.containerProvider),this._warp||(r=s==null?void 0:s.parentElement)===null||r===void 0||r.removeChild(s),this.selfElement=null,this.innerGuides=null},n.getInnerGuides=function(){return this.innerGuides.guides},t=Mk([Ff(dg,function(r,s){r[s]||(r[s]=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var u=this.getInnerGuides();if(!(!u||!u[s]))return u[s].apply(u,p)})}),Ff(hg,function(r,s){Object.defineProperty(r,s,{get:function(){return this.getInnerGuides().props[s]},set:function(p){var m;this.innerGuides.setState((m={},m[s]=p,m))},enumerable:!0,configurable:!0})})],t),t}(Ik),Lk=function(e){yc(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Fk);const Hi=[...hg];Hi.splice(Hi.indexOf("style"),1);const gg={},bc={};Hi.forEach(e=>{bc[e]=function(t){this.$_guides[e]=t}});bc.vueStyle=function(e){this.$_guides.style=e};dg.forEach(e=>{gg[e]=function(...t){return this.$_guides[e](...t)}});const Bk={name:"guides",methods:gg,watch:bc,props:[...Hi,"vueStyle"],mounted(){const e={},t=this.$props;Hi.forEach(p=>{const m=t[p];Xp(m)||(e[p]=t[p])});const r=this.$refs.container;e.style=t.vueStyle,e.warpSelf=!0,this.$_guides=new Lk(r,e);const s=this.$_guides;pg.forEach(p=>{s.on(p,m=>{this.$emit(p,{...m})})})},beforeUnmount(){this.$_guides.destroy()}},jk={ref:"container"};function Nk(e,t,n,r,s,p){return te(),he("div",jk,null,512)}const zk=mt(Bk,[["render",Nk]]);const wc=e=>(ro("data-v-9db25f33"),e=e(),io(),e),$k=wc(()=>ie("path",{d:"M12.75 12.75H21V11.25H12.75H11.25H3V12.75H11.25H12.75Z",fill:"currentColor"},null,-1)),Hk=[$k],Uk=wc(()=>ie("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.25 12.75V21H12.75V12.75H21V11.25H12.75V3H11.25V11.25H3V12.75H11.25Z",fill:"currentColor"},null,-1)),Wk=[Uk],Yk=["random"],Xk=["onClick"],Vk={class:"dc-layout-scale-bar-item__menu__item--main"},Gk=wc(()=>ie("hr",null,null,-1)),Kk={__name:"scale-bar",props:{clearRule:{type:Function},lockRule:{type:Function}},setup(e){const t=e,n=fe(!1),r=fe(),s=Pe("canvas"),p=Pe("handler"),m=fe(),u=fe([[{type:"showRule",title:"",status:!0}],[{type:"lock",title:"",status:()=>{t.lockRule()}},{type:"clearRule",title:"",status:()=>{t.clearRule()}}],[{type:"size",title:"400%",value:4,status:()=>{var c;(c=p.value)==null||c.workareaHandler.setZoomAuto(4)}},{type:"size",title:"200%",value:2,status:()=>{var c;(c=p.value)==null||c.workareaHandler.setZoomAuto(2)}},{type:"size",title:"100%",value:1,status:()=>{var c;(c=p.value)==null||c.workareaHandler.setZoomAuto(1)}},{type:"size",title:"50%",value:.5,status:()=>{var c;(c=p.value)==null||c.workareaHandler.setZoomAuto(.5)}}],[{type:"fullscreen",title:"",status:()=>{var c;(c=p.value)==null||c.workareaHandler.one()}},{type:"fullscreen",title:"",status:()=>{var c;(c=p.value)==null||c.workareaHandler.one()}}]]);function i(c){c.status()}function h(){n.value=!n.value}function f(){return s.value?parseInt(s.value.getZoom()*100)+"%":"0%"}function o(){m.value=Math.random()*1e3}function l(){var c;(c=p.value)==null||c.workareaHandler.small()}function a(){var c;(c=p.value)==null||c.workareaHandler.big()}return Ke(()=>{window.addEventListener("resize",o)}),Zr(()=>{window.removeEventListener("resize",o)}),(c,g)=>{const d=Ue("popover");return te(),he("div",{class:"dc-layout-scale-bar popover",ref_key:"scaleDom",ref:r},[(te(),he("svg",{role:"img","aria-label":"minus",focusable:"false","data-icon":"minus","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-minus",onClick:l},Hk)),(te(),he("svg",{role:"img","aria-label":"add",focusable:"false","data-icon":"add","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-add",onClick:a},Wk)),ie("span",{class:"dc-layout-scale-bar__percent gda-popover-open",onClick:h,random:m.value},$e(f()),9,Yk),ve(d,{dom:r.value,show:n.value,onClose:g[0]||(g[0]=v=>n.value=!1)},{default:_e(({setSlotRef:v})=>[ie("div",{class:"content",ref:_=>v(_)},[(te(!0),he(Re,null,dt(u.value,(_,b)=>(te(),he(Re,{key:b},[(te(!0),he(Re,null,dt(_,y=>(te(),he("div",{key:y.type,class:"dc-layout-scale-bar-item__menu__item",onClick:w=>i(y)},[ie("span",Vk,$e(y.title),1)],8,Xk))),128)),Gk],64))),128))],512)]),_:1},8,["dom","show"])],512)}}},qk=mt(Kk,[["__scopeId","data-v-9db25f33"]]);const Jk={components:{Guides:zk,ScaleBar:qk},setup(){const e=fe(),t=fe(),n=fe(),r=fe(null),s=fe(),p=Pe("handler"),m=fe(!0),u=fe(),{state:i}=vr(),h=re(()=>{var C,S;const y=(S=(C=p.value)==null?void 0:C.canvas)==null?void 0:S.viewportTransform,w=i.workspace;return a(),y&&w?{left:parseInt(y[4]),top:parseInt(y[5]),zoom:y[0],width:w.width,height:w.height}:{left:0,x:1,y:1,top:0}}),f=re(()=>{var y;return(y=i.workspace)==null?void 0:y.unit});Ae(()=>{var y;return(y=h.value)==null?void 0:y.zoom},()=>{d(),a()},{deep:!0}),Ae(()=>f.value,()=>{a()}),Ke(()=>{d(),window.addEventListener("resize",c),s.value.addEventListener("scroll",g)}),Zr(()=>{window.removeEventListener("resize",c)});const o=re(()=>r.value?[[r.value.left,r.value.left+r.value.width]]:[]),l=re(()=>r.value?[[r.value.top,r.value.top+r.value.height]]:[]);re(()=>r.value?r.value.width-r.value.width*(1-r.value.zoom)/2:0);function a(){var y,w,C;if(s.value&&p.value){const{offsetWidth:S,offsetHeight:T}=s.value,{width:j,height:W}=p.value.workareaHandler.option;let V=(y=p.value.workareaHandler)==null?void 0:y.unitEnum[f.value];const H={px:1e3,cm:100,mm:100};let Q=(w=h.value)!=null&&w.zoom?h.value.zoom>1?1:h.value.zoom:1;const se=(C=p.value)==null?void 0:C.workareaHandler.getAutoScale();Q<se&&(Q=Q/se);const le=j>1e3||W>1e3?100:50,ue=50,X=50;f.value=="mm"&&(V/=3),console.log("zoom",Q),console.log("unitValue",V),S/j<T/W?u.value=parseInt((Math.floor(parseInt(X/(S/j)/Q)/ue)||1)*le||10):u.value=parseInt((Math.floor(parseInt(X/(T/W)/Q)/ue)||1)*le||10),u.value<V?u.value=V/Q*2:u.value>H[f.value]&&(u.value=H[f.value])}}function c(){e.value.resize(),t.value.resize(),h.value&&d()}function g(){const y=s.value.scrollTop,w=s.value.scrollLeft;e.value.scroll(w),t.value.scrollGuides(w),t.value.scroll(y),e.value.scrollGuides(y)}function d(){h.value&&(r.value={left:h.value.left,top:h.value.top,width:h.value.width,height:h.value.height,zoom:h.value.zoom})}function v(){e.value.loadGuides([]),t.value.loadGuides([])}function _(){m.value=!m.value}function b(y){y.isChange=!1}return{guides1:e,guides2:t,horRange:o,verRange:l,shell:n,shellPoi:r,container:s,clearRule:v,lockRule:_,unit:u,OnChangeGuides:b,textFormat(y){var w;return parseInt(y/((w=p.value)==null?void 0:w.workareaHandler.unitEnum[f.value]))},verTextFormat(y){var w;return parseInt(y/((w=p.value)==null?void 0:w.workareaHandler.unitEnum[f.value]))},DragPosFormat(y){return console.log("value",y),y}}}},Zk={class:"main"},Qk={class:"ruler horizontal"},eA={class:"ruler vertical"},tA={class:"editor-container",ref:"container"},nA={class:"editor-shell-wrap",ref:"shell"},rA={class:"edit-bottom"};function iA(e,t,n,r,s,p){const m=Ue("Guides"),u=Ue("ScaleBar");return te(),he("div",Zk,[ie("div",{class:"box",onClick:t[0]||(t[0]=(...i)=>e.onRestore&&e.onRestore(...i)),ref:"box"},null,512),ie("div",Qk,[ve(m,{ref:"guides1",type:"horizontal",direction:"start",textAlign:"right",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[0,-8],selectedRangesTextOffset:[0,-8],longLineSize:5,textFormat:r.textFormat,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",defaultPixelScale:1,scrollPos:20,selectedRangesText:!0,textColor:"#7f8792",selectedRangesTextColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,markColor:"red",segment:2,displayDragPos:!1,rulerStyle:{left:"10px",width:"calc(100% - 20px)",height:"20px"},unit:r.unit,useResizeObserver:!0,onChangeGuides:r.OnChangeGuides},null,8,["textFormat","zoom","rulerStyle","unit","onChangeGuides"])]),ie("div",eA,[ve(m,{ref:"guides2",type:"vertical",direction:"start",textAlign:"right",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[-8,0],selectedRangesTextOffset:[-8,0],longLineSize:5,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",selectedRangesText:!0,textFormat:r.verTextFormat,textColor:"#7f8792",selectedRangesTextColor:"red",markColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,segment:1,useResizeObserver:!0,unit:r.unit,displayDragPos:!0,rulerStyle:{top:"20px",height:"calc(100% - 20px)",width:"20px"}},null,8,["textFormat","zoom","unit","rulerStyle"])]),ie("div",tA,[ie("div",nA,[Ee(e.$slots,"canvas",{},void 0,!0)],512)],512),ie("div",rA,[ve(u,{clearRule:r.clearRule,lockRule:r.lockRule},null,8,["clearRule","lockRule"])])])}const sA=mt(Jk,[["render",iA],["__scopeId","data-v-336354fc"]]),oA=[{text:"",type:"design"}];const aA={class:"common-checkbox"},lA=["id"],cA=["for"],uA={__name:"checkbox",props:{className:{type:String,default:""},initValue:{type:Object,default:()=>({})},typeKey:{type:String,default:""},content:{type:String,default:""},disabled:{type:Boolean,default:!1},activeName:{type:String,default:""},effect:{type:String,default:"dark"},placement:{type:String,default:"bottom"}},setup(e){const t=e,{emit:n}=Sl(),r=re({get(){return t.initValue[t.typeKey]},set(s){n("change",s)}});return(s,p)=>{const m=Ue("el-tooltip");return te(),Te(m,{class:"item",effect:e.effect,content:e.content,placement:e.placement},{default:_e(()=>[ie("div",aA,[pt(ie("input",{type:"checkbox",id:"toggle_"+e.typeKey,"onUpdate:modelValue":p[0]||(p[0]=u=>r.value=u)},null,8,lA),[[p0,r.value]]),ie("label",{for:"toggle_"+e.typeKey,class:ye(["switch",[e.className,r.value?"switch-active":"",r.value?e.activeName:"",e.disabled?"switch-disabeld":""]])},[Ee(s.$slots,"default",{},void 0,!0)],10,cA)])]),_:3},8,["effect","content","placement"])}}},fA=mt(uA,[["__scopeId","data-v-037d29d3"]]);const hA={components:{Checkbox:fA},props:{onChange:{type:Function,default:()=>{}},canvasRef:{type:Object,default:{}},barShow:{type:Array,default:()=>["locked","layer","flip","copy","delete"]},poi:{type:String,default:"bottom"}},computed:{islocked(){return!1}},methods:{myCheck(){},getBarShow(e){return this.barShow.includes(e)},copy(){},handleDelete(){}}},dA={class:"bar"},pA={class:"func-content"},gA={class:"func-content"},vA={class:"func-content"},mA={class:"func-content"},_A={class:"func-content"};function yA(e,t,n,r,s,p){const m=Ue("el-tooltip"),u=Ue("Checkbox");return te(),he("div",dA,[pt(ie("div",pA,[ve(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:_e(()=>[ie("i",{class:"iconfont icon-cengji",onClick:t[0]||(t[0]=qn((...i)=>e.onLayerShow&&e.onLayerShow(...i),["stop"]))})]),_:1},8,["disabled"])],512),[[Tt,p.getBarShow("layer")]]),pt(ie("div",gA,[ve(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:_e(()=>[ie("i",{class:"iconfont icon-zuoyoufanzhuan",onClick:t[1]||(t[1]=qn((...i)=>e.handleFlip&&e.handleFlip(...i),["stop"]))})]),_:1},8,["disabled"])],512),[[Tt,p.getBarShow("flip")]]),pt(ie("div",vA,[ve(u,{className:"iconfont icon-unlock",activeName:"icon-suoding_huaban",content:"",initValue:{locked:!1},typeKey:"locked",effect:"dark",placement:"top",onChange:p.myCheck},null,8,["onChange"])],512),[[Tt,p.getBarShow("locked")]]),pt(ie("div",mA,[ve(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:_e(()=>[ie("i",{class:"iconfont icon-fuzhi",onClick:t[2]||(t[2]=(...i)=>p.copy&&p.copy(...i))})]),_:1},8,["disabled"])],512),[[Tt,p.getBarShow("copy")]]),pt(ie("div",_A,[ve(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:_e(()=>[ie("i",{class:ye(["iconfont icon-delete",p.islocked?"icon_noactive":""]),onClick:t[3]||(t[3]=(...i)=>p.handleDelete&&p.handleDelete(...i))},null,2)]),_:1},8,["disabled"])],512),[[Tt,p.getBarShow("delete")]])])}const bA=mt(hA,[["render",yA],["__scopeId","data-v-688426f9"]]),wA=[{material_type:"canvas_size",id:2931,title:"",material:{unit:"px",name:"",width:"1242",height:"2208"}},{material_type:"canvas_size",id:2932,title:" ",material:{unit:"px",name:" ",width:"900",height:"383"}},{material_type:"canvas_size",id:2933,title:"",material:{unit:"px",name:"",width:"500",height:"500"}},{material_type:"canvas_size",id:12425,title:"",material:{unit:"px",name:"",width:"1242",height:"1660"}},{material_type:"canvas_size",id:2934,title:"",material:{unit:"px",name:"",width:"800",height:"800"}},{material_type:"canvas_size",id:2935,title:"",material:{unit:"px",name:"",width:"520",height:"416"}},{material_type:"canvas_size",id:2936,title:"",material:{unit:"px",name:"",width:"1200",height:"675"}},{material_type:"canvas_size",id:2937,title:"",material:{unit:"px",name:"",width:"1200",height:"1920"}},{material_type:"canvas_size",id:2938,title:"",material:{unit:"px",name:"",width:"1920",height:"700"}},{material_type:"canvas_size",id:2939,title:"",material:{unit:"px",name:"",width:"1920",height:"150"}},{material_type:"canvas_size",id:2940,title:" ",material:{unit:"px",name:" ",width:"750",height:"1000"}},{material_type:"canvas_size",id:12427,title:"",material:{unit:"px",name:"",width:"1920",height:"1080"}},{material_type:"canvas_size",id:12428,title:"",material:{unit:"px",name:"",width:"1080",height:"1260"}},{material_type:"canvas_size",id:12426,title:"",material:{unit:"px",name:"",width:"1242",height:"2690"}},{material_type:"canvas_size",id:2941,title:"PPT16:9",material:{unit:"px",name:"PPT16:9",width:"1920",height:"1080"}},{material_type:"canvas_size",id:2942,title:"",material:{unit:"mm",name:"",width:"96",dpi:"300",height:"60"}},{material_type:"canvas_size",id:2949,title:"",material:{unit:"mm",name:"",width:"426",dpi:"300",height:"576"}},{material_type:"canvas_size",id:2948,title:"2m",material:{unit:"cm",name:"2m",width:"80",dpi:"150",height:"200"}},{material_type:"canvas_size",id:2947,title:"1.8m",material:{unit:"cm",name:"1.8m",width:"80",dpi:"150",height:"180"}},{material_type:"canvas_size",id:2946,title:"",material:{unit:"mm",name:"",width:"168",dpi:"300",height:"66"}},{material_type:"canvas_size",id:2945,title:"",material:{unit:"mm",name:"",width:"206",dpi:"300",height:"86"}},{material_type:"canvas_size",id:2944,title:"",material:{unit:"mm",name:"",width:"291",dpi:"300",height:"216"}},{material_type:"canvas_size",id:2943,title:"",material:{unit:"mm",name:"",width:"426",dpi:"300",height:"291"}},{material_type:"canvas_size",id:2950,title:"A3",material:{unit:"mm",name:"A3",width:"291",dpi:"300",height:"420"}},{material_type:"canvas_size",id:2951,title:"A4",material:{unit:"mm",name:"A4",width:"210",dpi:"300",height:"297"}},{material_type:"canvas_size",id:2952,title:"A5",material:{unit:"mm",name:"A5",width:"148",dpi:"300",height:"210"}}];const Cc=e=>(ro("data-v-2fc9d916"),e=e(),io(),e),CA={class:"workspace-size"},SA={class:"size-header"},xA=Cc(()=>ie("span",null,"",-1)),TA={class:"header_toolbar"},OA={class:"custom-size popover"},EA={class:"input-number-group"},PA={class:"input-number",type:"number"},kA={class:"input-number",type:"number"},AA={class:"input-number-group__suffix"},MA={key:0,class:"iconfont icon-link-outline"},RA={key:1,class:"iconfont icon-unlink-outline"},DA={type:"button",class:"btn-px"},IA={class:"dbu-resize-panel__unit-select__text"},FA={class:"unit-menu-list"},LA=["onClick"],BA={class:"size-body"},jA={class:"size-list"},NA=Cc(()=>ie("div",{class:"size-name"},"",-1)),zA=["onClick"],$A={class:"size-name"},HA={class:"size-info"},UA=Cc(()=>ie("span",{class:"m03"},"",-1)),WA={class:"m03"},YA={__name:"workspace-size",setup(e){const{state:t}=vr(),n=fe(wA),r=Pe("handler"),s=fe(!1);fe(!1);const p=fe([{unit:"px",title:""},{unit:"cm",title:""},{unit:"mm",title:""}]),m=re({get(){var d,v;const c=(d=r.value)==null?void 0:d.workareaHandler.unitEnum[h.value];let g=0;return c&&(g=((v=t.workspace)==null?void 0:v.width)/c),parseInt(g||0)},set(c){var g,d,v;if(s.value){const _=(g=r.value)==null?void 0:g.workareaHandler.getBili(),b=c/_;(d=r.value)==null||d.workareaHandler.setSize(parseInt(c),parseInt(b));return}(v=r.value)==null||v.workareaHandler.setWidth(parseInt(c))}}),u=re({get(){var d,v;const c=(d=r.value)==null?void 0:d.workareaHandler.unitEnum[h.value];let g=0;return c&&(g=((v=t.workspace)==null?void 0:v.height)/c),parseInt(g||0)},set(c){var g,d,v;if(s.value){const _=(g=r.value)==null?void 0:g.workareaHandler.getBili(),b=c*_;(d=r.value)==null||d.workareaHandler.setSize(parseInt(b),parseInt(c));return}(v=r.value)==null||v.workareaHandler.setHeight(parseInt(c))}}),i=re(()=>t.workspace),h=re(()=>{var c;return(c=i.value)==null?void 0:c.unit});function f(c){var g;i.value.sizeId=c.id,i.value.unit=c==null?void 0:c.material.unit,(g=r.value)==null||g.workareaHandler.setSize(parseInt(c==null?void 0:c.material.width),parseInt(c==null?void 0:c.material.height))}function o(){i.value.sizeId=""}function l(){s.value=!s.value}function a(c){var g;(g=r.value)==null||g.workareaHandler.unpdateUnit(c.unit)}return(c,g)=>{const d=Ue("el-tooltip");return te(),he("div",CA,[ie("div",SA,[ie("div",{class:"header_back",onClick:g[0]||(g[0]=v=>c.$emit("back"))},[ve(A(Fd),{style:{width:"16px",height:"16px"}}),xA]),ie("div",TA,[ie("div",OA,[ie("div",EA,[ie("div",PA,[ve(A(_f),{modelValue:m.value,"onUpdate:modelValue":g[1]||(g[1]=v=>m.value=v),min:1,max:2e3},null,8,["modelValue"])]),ie("div",kA,[ve(A(_f),{modelValue:u.value,"onUpdate:modelValue":g[2]||(g[2]=v=>u.value=v),min:1,max:2e3},null,8,["modelValue"])]),ie("div",AA,[ve(d,{class:"item",effect:"dark",content:"",placement:"top"},{default:_e(()=>[ie("button",{type:"button",onClick:l},[s.value?(te(),he("i",MA)):(te(),he("i",RA))])]),_:1})])]),ve(A(tE),{placement:"bottom-start","popper-class":"unit-menu",width:200,offset:2,trigger:"hover","show-arrow":!1},{reference:_e(()=>[ie("button",DA,[ie("span",IA,$e(i.value&&i.value.unit),1),ve(A(Ye),{size:12,class:"up"},{default:_e(()=>[ve(A(Iy))]),_:1}),ve(A(Ye),{size:12,class:"down"},{default:_e(()=>[ve(A(Ll))]),_:1})])]),default:_e(()=>[ie("div",FA,[(te(!0),he(Re,null,dt(p.value,(v,_)=>{var b,y;return te(),he("div",{class:"unit-menu-item",key:_,onClick:w=>a(v)},[ie("div",{class:ye(v.unit==((b=i.value)==null?void 0:b.unit)?"unit-menu-item-select":"")},[Xi($e(v.unit)+"("+$e(v.title)+") ",1),v.unit==((y=i.value)==null?void 0:y.unit)?(te(),Te(A(Ye),{key:0,style:{width:"1em",height:"1em"}},{default:_e(()=>[ve(A(Jo))]),_:1})):we("",!0)],2)],8,LA)}),128))])]),_:1})])])]),ie("div",BA,[ie("div",jA,[ie("div",{class:ye(["size-item",!i.value||!i.value.sizeId?"size-item-select":""]),onClick:o},[ve(A(Ye),{style:{width:"1em",height:"1em"}},{default:_e(()=>[ve(A(Jo))]),_:1}),NA],2),(te(!0),he(Re,null,dt(n.value,(v,_)=>(te(),he("div",{class:ye(["size-item",i.value&&v.id==i.value.sizeId?"size-item-select":""]),key:_,onClick:b=>f(v)},[ve(A(Ye),{style:{width:"1em",height:"1em"}},{default:_e(()=>[ve(A(Jo))]),_:1}),ie("div",$A,$e(v.title),1),ie("div",HA,[ie("span",null,$e(v.material.width),1),UA,ie("span",null,$e(v.material.height),1),ie("span",WA,$e(v.material.unit),1)])],10,zA))),128))])])])}}},XA=mt(YA,[["__scopeId","data-v-2fc9d916"]]);const VA={components:{Bar:bA,WorkspaceSize:XA},setup(){const e=fe(oA),t=fe("design"),n=fe(!1),{state:r}=vr(),s=re(()=>r.workspace);return{headtool:e,sizeShow:n,workspace:s,getActiveClass(p){return Array.isArray(p.type)?p.type.includes(t.value)?"tabActive":"":p.type==t.value?"tabActive":""},selectTabs(p){t.value=p.type},getActiveTab(p){return p.type==t.value}}}},vg=e=>(ro("data-v-ba191d32"),e=e(),io(),e),GA={class:"editor-props-panel"},KA={class:"tab-panel-header"},qA={class:"tab-panel-block__header"},JA=["onClick"],ZA={class:"tab-button"},QA={class:"tab-panel-bloack_content"},eM={class:"tab-panel"},tM={class:"tab-scrollbar__container"},nM={class:"panel-block"},rM=vg(()=>ie("div",{class:"panel-block__header"},[ie("div",{class:"panel-block__header-title"},"")],-1)),iM={class:"panel-block__content"},sM={class:"gda-space-item"},oM={class:"panel-row"},aM=vg(()=>ie("div",{class:"panel-row__label"},"",-1)),lM={key:0,class:"panel-row__content"},cM={class:"gda-space-item"},uM={class:"panel-row"},fM={class:"panel-row__content"},hM=Fm('<div class="panel-block" data-v-ba191d32><div class="panel-block__header" data-v-ba191d32><div class="panel-block__header-title" data-v-ba191d32></div></div><div class="panel-block__content" data-v-ba191d32><div class="gda-space-item" data-v-ba191d32><div class="gda-space-item" data-v-ba191d32><div class="panel-row" data-v-ba191d32><div class="panel-row__content" data-v-ba191d32><button class="right-canvas-resize-btn" data-v-ba191d32></button></div></div></div></div></div></div><div class="panel-block" data-v-ba191d32><div class="panel-block__header" data-v-ba191d32><div class="panel-block__header-title" data-v-ba191d32></div><div class="panel-block__header-action" data-v-ba191d32><div class="popup" data-v-ba191d32><div class="swatch--shape-round" data-v-ba191d32></div></div></div></div></div>',2);function dM(e,t,n,r,s,p){const m=Ue("Bar"),u=Ue("workspace-size");return te(),he("div",GA,[ie("div",KA,[ie("div",qA,[(te(!0),he(Re,null,dt(r.headtool,i=>pt((te(),he("div",{key:i.text,onClick:h=>r.selectTabs(i)},[ie("button",ZA,[ie("div",{class:ye(["tab-content",r.getActiveClass(i)])},$e(i.text),3)])],8,JA)),[[Tt,r.getActiveTab(i)]])),128))]),ie("div",QA,[ve(m)])]),ie("div",eM,[ie("div",tM,[ie("div",nM,[rM,ie("div",iM,[ie("div",sM,[ie("div",oM,[aM,r.workspace?(te(),he("div",lM,$e(r.workspace.width)+"  "+$e(r.workspace.height)+" px ",1)):we("",!0)]),ie("div",cM,[ie("div",uM,[ie("div",fM,[ie("button",{class:"right-canvas-resize-btn",onClick:t[0]||(t[0]=i=>r.sizeShow=!0)},"  ")])])])])])]),hM])]),ve(yn,{name:"anime"},{default:_e(()=>[r.sizeShow?(te(),Te(u,{key:0,onBack:t[1]||(t[1]=i=>r.sizeShow=!1)})):we("",!0)]),_:1})])}const pM=mt(VA,[["render",dM],["__scopeId","data-v-ba191d32"]]);const gM={},vM={class:"header_nav"},mM=ie("div",{class:"logo"},null,-1),_M=ie("div",{class:"starfish-link"},[ie("a",{href:"https://github.com/haixin-fang/vue-design-editor",target:"_black"},[ie("i",{class:"iconfont icon-GitHub"})])],-1),yM=[mM,_M];function bM(e,t){return te(),he("div",vM,yM)}const wM=mt(gM,[["render",bM]]);let ms;const CM=new Uint8Array(16);function SM(){if(!ms&&(ms=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ms))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ms(CM)}const ht=[];for(let e=0;e<256;++e)ht.push((e+256).toString(16).slice(1));function xM(e,t=0){return ht[e[t+0]]+ht[e[t+1]]+ht[e[t+2]]+ht[e[t+3]]+"-"+ht[e[t+4]]+ht[e[t+5]]+"-"+ht[e[t+6]]+ht[e[t+7]]+"-"+ht[e[t+8]]+ht[e[t+9]]+"-"+ht[e[t+10]]+ht[e[t+11]]+ht[e[t+12]]+ht[e[t+13]]+ht[e[t+14]]+ht[e[t+15]]}const TM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xf={randomUUID:TM};function Sc(e,t,n){if(Xf.randomUUID&&!t&&!e)return Xf.randomUUID();e=e||{};const r=e.random||(e.rng||SM)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return xM(r)}var Se={};const OM={},EM=Object.freeze(Object.defineProperty({__proto__:null,default:OM},Symbol.toStringTag,{value:"Module"})),ga=jT(EM);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=ga,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=ga.implForWrapper,t.nodeCanvas=ga.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function u(a,c){if(this.__eventListeners[a]){var g=this.__eventListeners[a];c?g[g.indexOf(c)]=!1:t.util.array.fill(g,!1)}}function i(a,c){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in a)this.on(g,a[g]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(c);return this}function h(a,c){var g=(function(){c.apply(this,arguments),this.off(a,g)}).bind(this);this.on(a,g)}function f(a,c){if(arguments.length===1)for(var g in a)h.call(this,g,a[g]);else h.call(this,a,c);return this}function o(a,c){if(!this.__eventListeners)return this;if(arguments.length===0)for(a in this.__eventListeners)u.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in a)u.call(this,g,a[g]);else u.call(this,a,c);return this}function l(a,c){if(!this.__eventListeners)return this;var g=this.__eventListeners[a];if(!g)return this;for(var d=0,v=g.length;d<v;d++)g[d]&&g[d].call(this,c||{});return this.__eventListeners[a]=g.filter(function(_){return _!==!1}),this}t.Observable={fire:l,on:i,once:f,off:o}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var u=0,i=arguments.length;u<i;u++)this._onObjectAdded(arguments[u]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(u,i,h){var f=this._objects;return h?f[i]=u:f.splice(i,0,u),this._onObjectAdded&&this._onObjectAdded(u),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var u=this._objects,i,h=!1,f=0,o=arguments.length;f<o;f++)i=u.indexOf(arguments[f]),i!==-1&&(h=!0,u.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(u,i){for(var h=this.getObjects(),f=0,o=h.length;f<o;f++)u.call(i,h[f],f,h);return this},getObjects:function(u){return typeof u>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===u})},item:function(u){return this._objects[u]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(u,i){return this._objects.indexOf(u)>-1?!0:i?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(u,!0)}):!1},complexity:function(){return this._objects.reduce(function(u,i){return u+=i.complexity?i.complexity():0,u},0)}},t.CommonMethods={_setOptions:function(u){for(var i in u)this.set(i,u[i])},_initGradient:function(u,i){u&&u.colorStops&&!(u instanceof t.Gradient)&&this.set(i,new t.Gradient(u))},_initPattern:function(u,i,h){u&&u.source&&!(u instanceof t.Pattern)?this.set(i,new t.Pattern(u,h)):h&&h()},_setObject:function(u){for(var i in u)this._set(i,u[i])},set:function(u,i){return typeof u=="object"?this._setObject(u):this._set(u,i),this},_set:function(u,i){this[u]=i},toggle:function(u){var i=this.get(u);return typeof i=="boolean"&&this.set(u,!i),this},get:function(u){return this[u]}},function(u){var i=Math.sqrt,h=Math.atan2,f=Math.pow,o=Math.PI/180,l=Math.PI/2;t.util={cos:function(a){if(a===0)return 1;a<0&&(a=-a);var c=a/l;switch(c){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(a===0)return 0;var c=a/l,g=1;switch(a<0&&(g=-1),c){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(a)},removeFromArray:function(a,c){var g=a.indexOf(c);return g!==-1&&a.splice(g,1),a},getRandomInt:function(a,c){return Math.floor(Math.random()*(c-a+1))+a},degreesToRadians:function(a){return a*o},radiansToDegrees:function(a){return a/o},rotatePoint:function(a,c,g){var d=new t.Point(a.x-c.x,a.y-c.y),v=t.util.rotateVector(d,g);return new t.Point(v.x,v.y).addEquals(c)},rotateVector:function(a,c){var g=t.util.sin(c),d=t.util.cos(c),v=a.x*d-a.y*g,_=a.x*g+a.y*d;return{x:v,y:_}},createVector:function(a,c){return new t.Point(c.x-a.x,c.y-a.y)},calcAngleBetweenVectors:function(a,c){return Math.acos((a.x*c.x+a.y*c.y)/(Math.hypot(a.x,a.y)*Math.hypot(c.x,c.y)))},getHatVector:function(a){return new t.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,c,g){var d=t.util.createVector(a,c),v=t.util.createVector(a,g),_=t.util.calcAngleBetweenVectors(d,v),b=t.util.calcAngleBetweenVectors(t.util.rotateVector(d,_),v),y=_*(b===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(d,y)),angle:_}},projectStrokeOnPoints:function(a,c,g){var d=[],v=c.strokeWidth/2,_=c.strokeUniform?new t.Point(1/c.scaleX,1/c.scaleY):new t.Point(1,1),b=function(y){var w=v/Math.hypot(y.x,y.y);return new t.Point(y.x*w*_.x,y.y*w*_.y)};return a.length<=1||a.forEach(function(y,w){var C=new t.Point(y.x,y.y),S,T;w===0?(T=a[w+1],S=g?b(t.util.createVector(T,C)).addEquals(C):a[a.length-1]):w===a.length-1?(S=a[w-1],T=g?b(t.util.createVector(S,C)).addEquals(C):a[0]):(S=a[w-1],T=a[w+1]);var j=t.util.getBisector(C,S,T),W=j.vector,V=j.angle,H,Q;if(c.strokeLineJoin==="miter"&&(H=-v/Math.sin(V/2),Q=new t.Point(W.x*H*_.x,W.y*H*_.y),Math.hypot(Q.x,Q.y)/v<=c.strokeMiterLimit)){d.push(C.add(Q)),d.push(C.subtract(Q));return}H=-v*Math.SQRT2,Q=new t.Point(W.x*H*_.x,W.y*H*_.y),d.push(C.add(Q)),d.push(C.subtract(Q))}),d},transformPoint:function(a,c,g){return g?new t.Point(c[0]*a.x+c[2]*a.y,c[1]*a.x+c[3]*a.y):new t.Point(c[0]*a.x+c[2]*a.y+c[4],c[1]*a.x+c[3]*a.y+c[5])},makeBoundingBoxFromPoints:function(a,c){if(c)for(var g=0;g<a.length;g++)a[g]=t.util.transformPoint(a[g],c);var d=[a[0].x,a[1].x,a[2].x,a[3].x],v=t.util.array.min(d),_=t.util.array.max(d),b=_-v,y=[a[0].y,a[1].y,a[2].y,a[3].y],w=t.util.array.min(y),C=t.util.array.max(y),S=C-w;return{left:v,top:w,width:b,height:S}},invertTransform:function(a){var c=1/(a[0]*a[3]-a[1]*a[2]),g=[c*a[3],-c*a[1],-c*a[2],c*a[0]],d=t.util.transformPoint({x:a[4],y:a[5]},g,!0);return g[4]=-d.x,g[5]=-d.y,g},toFixed:function(a,c){return parseFloat(Number(a).toFixed(c))},parseUnit:function(a,c){var g=/\D{0,2}$/.exec(a),d=parseFloat(a);switch(c||(c=t.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return d*t.DPI/25.4;case"cm":return d*t.DPI/2.54;case"in":return d*t.DPI;case"pt":return d*t.DPI/72;case"pc":return d*t.DPI/72*12;case"em":return d*c;default:return d}},falseFunction:function(){return!1},getKlass:function(a,c){return a=t.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),t.util.resolveNamespace(c)[a]},getSvgAttributes:function(a){var c=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":c=c.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":c=c.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":c=c.concat(["offset","stop-color","stop-opacity"]);break}return c},resolveNamespace:function(a){if(!a)return t;var c=a.split("."),g=c.length,d,v=u||t.window;for(d=0;d<g;++d)v=v[c[d]];return v},loadImage:function(a,c,g,d){if(!a){c&&c.call(g,a);return}var v=t.util.createImage(),_=function(){c&&c.call(g,v,!1),v=v.onload=v.onerror=null};v.onload=_,v.onerror=function(){t.log("Error loading "+v.src),c&&c.call(g,null,!0),v=v.onload=v.onerror=null},a.indexOf("data")!==0&&d!==void 0&&d!==null&&(v.crossOrigin=d),a.substring(0,14)==="data:image/svg"&&(v.onload=null,t.util.loadImageInDom(v,_)),v.src=a},loadImageInDom:function(a,c){var g=t.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(a),t.document.querySelector("body").appendChild(g),a.onload=function(){c(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(a,c,g,d){a=a||[];var v=[],_=0,b=a.length;function y(){++_===b&&c&&c(v.filter(function(w){return w}))}if(!b){c&&c(v);return}a.forEach(function(w,C){if(!w||!w.type){y();return}var S=t.util.getKlass(w.type,g);S.fromObject(w,function(T,j){j||(v[C]=T),d&&d(w,T,j),y()})})},enlivenObjectEnlivables:function(a,c,g){var d=t.Object.ENLIVEN_PROPS.filter(function(v){return!!a[v]});t.util.enlivenObjects(d.map(function(v){return a[v]}),function(v){var _={};d.forEach(function(b,y){_[b]=v[y],c&&(c[b]=v[y])}),g&&g(_)})},enlivenPatterns:function(a,c){a=a||[];function g(){++v===_&&c&&c(d)}var d=[],v=0,_=a.length;if(!_){c&&c(d);return}a.forEach(function(b,y){b&&b.source?new t.Pattern(b,function(w){d[y]=w,g()}):(d[y]=b,g())})},groupSVGElements:function(a,c,g){var d;return a&&a.length===1?(typeof g<"u"&&(a[0].sourcePath=g),a[0]):(c&&(c.width&&c.height?c.centerPoint={x:c.width/2,y:c.height/2}:(delete c.width,delete c.height)),d=new t.Group(a,c),typeof g<"u"&&(d.sourcePath=g),d)},populateWithProperties:function(a,c,g){if(g&&Array.isArray(g))for(var d=0,v=g.length;d<v;d++)g[d]in a&&(c[g[d]]=a[g[d]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(a){var c=t.util.createCanvasElement();return c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0),c},toDataURL:function(a,c,g){return a.toDataURL("image/"+c,g)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(a,c,g){return[a[0]*c[0]+a[2]*c[1],a[1]*c[0]+a[3]*c[1],a[0]*c[2]+a[2]*c[3],a[1]*c[2]+a[3]*c[3],g?0:a[0]*c[4]+a[2]*c[5]+a[4],g?0:a[1]*c[4]+a[3]*c[5]+a[5]]},qrDecompose:function(a){var c=h(a[1],a[0]),g=f(a[0],2)+f(a[1],2),d=i(g),v=(a[0]*a[3]-a[2]*a[1])/d,_=h(a[0]*a[2]+a[1]*a[3],g);return{angle:c/o,scaleX:d,scaleY:v,skewX:_/o,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return t.iMatrix.concat();var c=t.util.degreesToRadians(a.angle),g=t.util.cos(c),d=t.util.sin(c);return[g,d,-d,g,0,0]},calcDimensionsMatrix:function(a){var c=typeof a.scaleX>"u"?1:a.scaleX,g=typeof a.scaleY>"u"?1:a.scaleY,d=[a.flipX?-c:c,0,0,a.flipY?-g:g,0,0],v=t.util.multiplyTransformMatrices,_=t.util.degreesToRadians;return a.skewX&&(d=v(d,[1,0,Math.tan(_(a.skewX)),1],!0)),a.skewY&&(d=v(d,[1,Math.tan(_(a.skewY)),0,1],!0)),d},composeMatrix:function(a){var c=[1,0,0,1,a.translateX||0,a.translateY||0],g=t.util.multiplyTransformMatrices;return a.angle&&(c=g(c,t.util.calcRotateMatrix(a))),(a.scaleX!==1||a.scaleY!==1||a.skewX||a.skewY||a.flipX||a.flipY)&&(c=g(c,t.util.calcDimensionsMatrix(a))),c},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,c,g,d){d>0&&(c>d?c-=d:c=0,g>d?g-=d:g=0);var v=!0,_,b,y=a.getImageData(c,g,d*2||1,d*2||1),w=y.data.length;for(_=3;_<w&&(b=y.data[_],v=b<=0,v!==!1);_+=4);return y=null,v},parsePreserveAspectRatioAttribute:function(a){var c="meet",g="Mid",d="Mid",v=a.split(" "),_;return v&&v.length&&(c=v.pop(),c!=="meet"&&c!=="slice"?(_=c,c="meet"):v.length&&(_=v.pop())),g=_!=="none"?_.slice(1,4):"none",d=_!=="none"?_.slice(5,8):"none",{meetOrSlice:c,alignX:g,alignY:d}},clearFabricFontCache:function(a){a=(a||"").toLowerCase(),a?t.charWidthsCache[a]&&delete t.charWidthsCache[a]:t.charWidthsCache={}},limitDimsByArea:function(a,c){var g=Math.sqrt(c*a),d=Math.floor(c/g);return{x:Math.floor(g),y:d}},capValue:function(a,c,g){return Math.max(a,Math.min(c,g))},findScaleToFit:function(a,c){return Math.min(c.width/a.width,c.height/a.height)},findScaleToCover:function(a,c){return Math.max(c.width/a.width,c.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(c){return t.util.toFixed(c,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,c){var g=t.util.invertTransform(c),d=t.util.multiplyTransformMatrices(g,a.calcOwnMatrix());t.util.applyTransformToObject(a,d)},addTransformToObject:function(a,c){t.util.applyTransformToObject(a,t.util.multiplyTransformMatrices(c,a.calcOwnMatrix()))},applyTransformToObject:function(a,c){var g=t.util.qrDecompose(c),d=new t.Point(g.translateX,g.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",g.scaleX),a.set("scaleY",g.scaleY),a.skewX=g.skewX,a.skewY=g.skewY,a.angle=g.angle,a.setPositionByOrigin(d,"center","center")},sizeAfterTransform:function(a,c,g){var d=a/2,v=c/2,_=[{x:-d,y:-v},{x:d,y:-v},{x:-d,y:v},{x:d,y:v}],b=t.util.calcDimensionsMatrix(g),y=t.util.makeBoundingBoxFromPoints(_,b);return{x:y.width,y:y.height}},mergeClipPaths:function(a,c){var g=a,d=c;g.inverted&&!d.inverted&&(g=c,d=a),t.util.applyTransformToObject(d,t.util.multiplyTransformMatrices(t.util.invertTransform(g.calcTransformMatrix()),d.calcTransformMatrix()));var v=g.inverted&&d.inverted;return v&&(g.inverted=d.inverted=!1),new t.Group([g],{clipPath:d,inverted:v})},hasStyleChanged:function(a,c,g){return g=g||!1,a.fill!==c.fill||a.stroke!==c.stroke||a.strokeWidth!==c.strokeWidth||a.fontSize!==c.fontSize||a.fontFamily!==c.fontFamily||a.fontWeight!==c.fontWeight||a.fontStyle!==c.fontStyle||a.textBackgroundColor!==c.textBackgroundColor||a.deltaY!==c.deltaY||g&&(a.overline!==c.overline||a.underline!==c.underline||a.linethrough!==c.linethrough)},stylesToArray:function(g,c){for(var g=t.util.object.clone(g,!0),d=c.split(`
`),v=-1,_={},b=[],y=0;y<d.length;y++){if(!g[y]){v+=d[y].length;continue}for(var w=0;w<d[y].length;w++){v++;var C=g[y][w];if(C&&Object.keys(C).length>0){var S=t.util.hasStyleChanged(_,C,!0);S?b.push({start:v,end:v+1,style:C}):b[b.length-1].end++}_=C||{}}}return b},stylesFromArray:function(a,c){if(!Array.isArray(a))return a;for(var g=c.split(`
`),d=-1,v=0,_={},b=0;b<g.length;b++)for(var y=0;y<g[b].length;y++)d++,a[v]&&a[v].start<=d&&d<a[v].end&&(_[b]=_[b]||{},_[b][y]=Object.assign({},a[v].style),d===a[v].end-1&&v++);return _}}}(e),function(){var u=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function f(x,D,F,I,ee,R,E,U,M,L,z){var q=t.util.cos(x),oe=t.util.sin(x),k=t.util.cos(D),O=t.util.sin(D),P=F*ee*k-I*R*O+E,B=I*ee*k+F*R*O+U,$=L+M*(-F*ee*oe-I*R*q),N=z+M*(-I*ee*oe+F*R*q),Y=P+M*(F*ee*O+I*R*k),J=B+M*(I*ee*O-F*R*k);return["C",$,N,Y,J,P,B]}function o(x,D,F,I,ee,R,E){var U=Math.PI,M=E*U/180,L=t.util.sin(M),z=t.util.cos(M),q=0,oe=0;F=Math.abs(F),I=Math.abs(I);var k=-z*x*.5-L*D*.5,O=-z*D*.5+L*x*.5,P=F*F,B=I*I,$=O*O,N=k*k,Y=P*B-P*$-B*N,J=0;if(Y<0){var ae=Math.sqrt(1-Y/(P*B));F*=ae,I*=ae}else J=(ee===R?-1:1)*Math.sqrt(Y/(P*$+B*N));var ne=J*F*O/I,G=-J*I*k/F,ce=z*ne-L*G+x*.5,pe=L*ne+z*G+D*.5,Z=l(1,0,(k-ne)/F,(O-G)/I),ge=l((k-ne)/F,(O-G)/I,(-k-ne)/F,(-O-G)/I);R===0&&ge>0?ge-=2*U:R===1&&ge<0&&(ge+=2*U);for(var me=Math.ceil(Math.abs(ge/U*2)),be=[],ke=ge/me,Je=8/3*Math.sin(ke/4)*Math.sin(ke/4)/Math.sin(ke/2),St=Z+ke,_t=0;_t<me;_t++)be[_t]=f(Z,St,z,L,F,I,ce,pe,Je,q,oe),q=be[_t][5],oe=be[_t][6],Z=St,St+=ke;return be}function l(x,D,F,I){var ee=Math.atan2(D,x),R=Math.atan2(I,F);return R>=ee?R-ee:2*Math.PI-(ee-R)}function a(x,D,F,I,ee,R,E,U){var M;if(t.cachesBoundsOfCurve&&(M=u.call(arguments),t.boundsOfCurveCache[M]))return t.boundsOfCurveCache[M];var L=Math.sqrt,z=Math.min,q=Math.max,oe=Math.abs,k=[],O=[[],[]],P,B,$,N,Y,J,ae,ne;B=6*x-12*F+6*ee,P=-3*x+9*F-9*ee+3*E,$=3*F-3*x;for(var G=0;G<2;++G){if(G>0&&(B=6*D-12*I+6*R,P=-3*D+9*I-9*R+3*U,$=3*I-3*D),oe(P)<1e-12){if(oe(B)<1e-12)continue;N=-$/B,0<N&&N<1&&k.push(N);continue}ae=B*B-4*$*P,!(ae<0)&&(ne=L(ae),Y=(-B+ne)/(2*P),0<Y&&Y<1&&k.push(Y),J=(-B-ne)/(2*P),0<J&&J<1&&k.push(J))}for(var ce,pe,Z=k.length,ge=Z,me;Z--;)N=k[Z],me=1-N,ce=me*me*me*x+3*me*me*N*F+3*me*N*N*ee+N*N*N*E,O[0][Z]=ce,pe=me*me*me*D+3*me*me*N*I+3*me*N*N*R+N*N*N*U,O[1][Z]=pe;O[0][ge]=x,O[1][ge]=D,O[0][ge+1]=E,O[1][ge+1]=U;var be=[{x:z.apply(null,O[0]),y:z.apply(null,O[1])},{x:q.apply(null,O[0]),y:q.apply(null,O[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[M]=be),be}function c(x,D,F){for(var I=F[1],ee=F[2],R=F[3],E=F[4],U=F[5],M=F[6],L=F[7],z=o(M-x,L-D,I,ee,E,U,R),q=0,oe=z.length;q<oe;q++)z[q][1]+=x,z[q][2]+=D,z[q][3]+=x,z[q][4]+=D,z[q][5]+=x,z[q][6]+=D;return z}function g(x){var D=0,F=0,I=x.length,ee=0,R=0,E,U,M,L=[],z,q,oe;for(U=0;U<I;++U){switch(M=!1,E=x[U].slice(0),E[0]){case"l":E[0]="L",E[1]+=D,E[2]+=F;case"L":D=E[1],F=E[2];break;case"h":E[1]+=D;case"H":E[0]="L",E[2]=F,D=E[1];break;case"v":E[1]+=F;case"V":E[0]="L",F=E[1],E[1]=D,E[2]=F;break;case"m":E[0]="M",E[1]+=D,E[2]+=F;case"M":D=E[1],F=E[2],ee=E[1],R=E[2];break;case"c":E[0]="C",E[1]+=D,E[2]+=F,E[3]+=D,E[4]+=F,E[5]+=D,E[6]+=F;case"C":q=E[3],oe=E[4],D=E[5],F=E[6];break;case"s":E[0]="S",E[1]+=D,E[2]+=F,E[3]+=D,E[4]+=F;case"S":z==="C"?(q=2*D-q,oe=2*F-oe):(q=D,oe=F),D=E[3],F=E[4],E[0]="C",E[5]=E[3],E[6]=E[4],E[3]=E[1],E[4]=E[2],E[1]=q,E[2]=oe,q=E[3],oe=E[4];break;case"q":E[0]="Q",E[1]+=D,E[2]+=F,E[3]+=D,E[4]+=F;case"Q":q=E[1],oe=E[2],D=E[3],F=E[4];break;case"t":E[0]="T",E[1]+=D,E[2]+=F;case"T":z==="Q"?(q=2*D-q,oe=2*F-oe):(q=D,oe=F),E[0]="Q",D=E[1],F=E[2],E[1]=q,E[2]=oe,E[3]=D,E[4]=F;break;case"a":E[0]="A",E[6]+=D,E[7]+=F;case"A":M=!0,L=L.concat(c(D,F,E)),D=E[6],F=E[7];break;case"z":case"Z":D=ee,F=R;break}M||L.push(E),z=E[0]}return L}function d(x,D,F,I){return Math.sqrt((F-x)*(F-x)+(I-D)*(I-D))}function v(x){return x*x*x}function _(x){return 3*x*x*(1-x)}function b(x){return 3*x*(1-x)*(1-x)}function y(x){return(1-x)*(1-x)*(1-x)}function w(x,D,F,I,ee,R,E,U){return function(M){var L=v(M),z=_(M),q=b(M),oe=y(M);return{x:E*L+ee*z+F*q+x*oe,y:U*L+R*z+I*q+D*oe}}}function C(x,D,F,I,ee,R,E,U){return function(M){var L=1-M,z=3*L*L*(F-x)+6*L*M*(ee-F)+3*M*M*(E-ee),q=3*L*L*(I-D)+6*L*M*(R-I)+3*M*M*(U-R);return Math.atan2(q,z)}}function S(x){return x*x}function T(x){return 2*x*(1-x)}function j(x){return(1-x)*(1-x)}function W(x,D,F,I,ee,R){return function(E){var U=S(E),M=T(E),L=j(E);return{x:ee*U+F*M+x*L,y:R*U+I*M+D*L}}}function V(x,D,F,I,ee,R){return function(E){var U=1-E,M=2*U*(F-x)+2*E*(ee-F),L=2*U*(I-D)+2*E*(R-I);return Math.atan2(L,M)}}function H(x,D,F){var I={x:D,y:F},ee,R=0,E;for(E=1;E<=100;E+=1)ee=x(E/100),R+=d(I.x,I.y,ee.x,ee.y),I=ee;return R}function Q(x,D){for(var F=0,I=0,ee=x.iterator,R={x:x.x,y:x.y},E,U,M=.01,L=x.angleFinder,z;I<D&&M>1e-4;)E=ee(F),z=F,U=d(R.x,R.y,E.x,E.y),U+I>D?(F-=M,M/=2):(R=E,F+=M,I+=U);return E.angle=L(z),E}function se(x){for(var D=0,F=x.length,I,ee=0,R=0,E=0,U=0,M=[],L,z,q,oe=0;oe<F;oe++){switch(I=x[oe],z={x:ee,y:R,command:I[0]},I[0]){case"M":z.length=0,E=ee=I[1],U=R=I[2];break;case"L":z.length=d(ee,R,I[1],I[2]),ee=I[1],R=I[2];break;case"C":L=w(ee,R,I[1],I[2],I[3],I[4],I[5],I[6]),q=C(ee,R,I[1],I[2],I[3],I[4],I[5],I[6]),z.iterator=L,z.angleFinder=q,z.length=H(L,ee,R),ee=I[5],R=I[6];break;case"Q":L=W(ee,R,I[1],I[2],I[3],I[4]),q=V(ee,R,I[1],I[2],I[3],I[4]),z.iterator=L,z.angleFinder=q,z.length=H(L,ee,R),ee=I[3],R=I[4];break;case"Z":case"z":z.destX=E,z.destY=U,z.length=d(ee,R,E,U),ee=E,R=U;break}D+=z.length,M.push(z)}return M.push({length:D,x:ee,y:R}),M}function le(x,D,F){F||(F=se(x));for(var I=0;D-F[I].length>0&&I<F.length-2;)D-=F[I].length,I++;var ee=F[I],R=D/ee.length,E=ee.command,U=x[I],M;switch(E){case"M":return{x:ee.x,y:ee.y,angle:0};case"Z":case"z":return M=new t.Point(ee.x,ee.y).lerp(new t.Point(ee.destX,ee.destY),R),M.angle=Math.atan2(ee.destY-ee.y,ee.destX-ee.x),M;case"L":return M=new t.Point(ee.x,ee.y).lerp(new t.Point(U[1],U[2]),R),M.angle=Math.atan2(U[2]-ee.y,U[1]-ee.x),M;case"C":return Q(ee,D);case"Q":return Q(ee,D)}}function ue(x){var D=[],F=[],I,ee,R=t.rePathCommand,E="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",U="("+E+")"+t.commaWsp,M="([01])"+t.commaWsp+"?",L=U+"?"+U+"?"+U+M+M+U+"?("+E+")",z=new RegExp(L,"g"),q,oe,k;if(!x||!x.match)return D;k=x.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var O=0,P,B=k.length;O<B;O++){I=k[O],oe=I.slice(1).trim(),F.length=0;var $=I.charAt(0);if(P=[$],$.toLowerCase()==="a")for(var N;N=z.exec(oe);)for(var Y=1;Y<N.length;Y++)F.push(N[Y]);else for(;q=R.exec(oe);)F.push(q[0]);for(var Y=0,J=F.length;Y<J;Y++)ee=parseFloat(F[Y]),isNaN(ee)||P.push(ee);var ae=i[$.toLowerCase()],ne=h[$]||$;if(P.length-1>ae)for(var G=1,ce=P.length;G<ce;G+=ae)D.push([$].concat(P.slice(G,G+ae))),$=ne;else D.push(P)}return D}function X(x,D){var F=[],I,ee=new t.Point(x[0].x,x[0].y),R=new t.Point(x[1].x,x[1].y),E=x.length,U=1,M=0,L=E>2;for(D=D||0,L&&(U=x[2].x<R.x?-1:x[2].x===R.x?0:1,M=x[2].y<R.y?-1:x[2].y===R.y?0:1),F.push(["M",ee.x-U*D,ee.y-M*D]),I=1;I<E;I++){if(!ee.eq(R)){var z=ee.midPointFrom(R);F.push(["Q",ee.x,ee.y,z.x,z.y])}ee=x[I],I+1<x.length&&(R=x[I+1])}return L&&(U=ee.x>x[I-2].x?1:ee.x===x[I-2].x?0:-1,M=ee.y>x[I-2].y?1:ee.y===x[I-2].y?0:-1),F.push(["L",ee.x+U*D,ee.y+M*D]),F}function K(x,D,F){return F&&(D=t.util.multiplyTransformMatrices(D,[1,0,0,1,-F.x,-F.y])),x.map(function(I){for(var ee=I.slice(0),R={},E=1;E<I.length-1;E+=2)R.x=I[E],R.y=I[E+1],R=t.util.transformPoint(R,D),ee[E]=R.x,ee[E+1]=R.y;return ee})}t.util.joinPath=function(x){return x.map(function(D){return D.join(" ")}).join(" ")},t.util.parsePath=ue,t.util.makePathSimpler=g,t.util.getSmoothPathFromPoints=X,t.util.getPathSegmentsInfo=se,t.util.getBoundsOfCurve=a,t.util.getPointOnPath=le,t.util.transformPath=K}(),function(){var u=Array.prototype.slice;function i(a,c){for(var g=u.call(arguments,2),d=[],v=0,_=a.length;v<_;v++)d[v]=g.length?a[v][c].apply(a[v],g):a[v][c].call(a[v]);return d}function h(a,c){return l(a,c,function(g,d){return g>=d})}function f(a,c){return l(a,c,function(g,d){return g<d})}function o(a,c){for(var g=a.length;g--;)a[g]=c;return a}function l(a,c,g){if(!(!a||a.length===0)){var d=a.length-1,v=c?a[d][c]:a[d];if(c)for(;d--;)g(a[d][c],v)&&(v=a[d][c]);else for(;d--;)g(a[d],v)&&(v=a[d]);return v}}t.util.array={fill:o,invoke:i,min:f,max:h}}(),function(){function u(h,f,o){if(o)if(!t.isLikelyNode&&f instanceof Element)h=f;else if(f instanceof Array){h=[];for(var l=0,a=f.length;l<a;l++)h[l]=u({},f[l],o)}else if(f&&typeof f=="object")for(var c in f)c==="canvas"||c==="group"?h[c]=null:f.hasOwnProperty(c)&&(h[c]=u({},f[c],o));else h=f;else for(var c in f)h[c]=f[c];return h}function i(h,f){return u({},h,f)}t.util.object={extend:u,clone:i},t.util.object.extend(t.util,t.Observable)}(),function(){function u(l){return l.replace(/-+(.)?/g,function(a,c){return c?c.toUpperCase():""})}function i(l,a){return l.charAt(0).toUpperCase()+(a?l.slice(1):l.slice(1).toLowerCase())}function h(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(l){var a=0,c,g=[];for(a=0,c;a<l.length;a++)(c=o(l,a))!==!1&&g.push(c);return g}function o(l,a){var c=l.charCodeAt(a);if(isNaN(c))return"";if(c<55296||c>57343)return l.charAt(a);if(55296<=c&&c<=56319){if(l.length<=a+1)throw"High surrogate without following low surrogate";var g=l.charCodeAt(a+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return l.charAt(a)+l.charAt(a+1)}if(a===0)throw"Low surrogate without preceding high surrogate";var d=l.charCodeAt(a-1);if(55296>d||d>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:u,capitalize:i,escapeXml:h,graphemeSplit:f}}(),function(){var u=Array.prototype.slice,i=function(){},h=function(){for(var c in{toString:1})if(c==="toString")return!1;return!0}(),f=function(c,g,d){for(var v in g)v in c.prototype&&typeof c.prototype[v]=="function"&&(g[v]+"").indexOf("callSuper")>-1?c.prototype[v]=function(_){return function(){var b=this.constructor.superclass;this.constructor.superclass=d;var y=g[_].apply(this,arguments);if(this.constructor.superclass=b,_!=="initialize")return y}}(v):c.prototype[v]=g[v],h&&(g.toString!==Object.prototype.toString&&(c.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(c.prototype.valueOf=g.valueOf))};function o(){}function l(c){for(var g=null,d=this;d.constructor.superclass;){var v=d.constructor.superclass.prototype[c];if(d[c]!==v){g=v;break}d=d.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,u.call(arguments,1)):g.call(this):console.log("tried to callSuper "+c+", method not found in prototype chain",this)}function a(){var c=null,g=u.call(arguments,0);typeof g[0]=="function"&&(c=g.shift());function d(){this.initialize.apply(this,arguments)}d.superclass=c,d.subclasses=[],c&&(o.prototype=c.prototype,d.prototype=new o,c.subclasses.push(d));for(var v=0,_=g.length;v<_;v++)f(d,g[v],c);return d.prototype.initialize||(d.prototype.initialize=i),d.prototype.constructor=d,d.prototype.callSuper=l,d}t.util.createClass=a}(),function(){var u=!!t.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];t.util.addListener=function(f,o,l,a){f&&f.addEventListener(o,l,u?!1:a)},t.util.removeListener=function(f,o,l,a){f&&f.removeEventListener(o,l,u?!1:a)};function h(f){var o=f.changedTouches;return o&&o[0]?o[0]:f}t.util.getPointer=function(f){var o=f.target,l=t.util.getScrollLeftTop(o),a=h(f);return{x:a.clientX+l.left,y:a.clientY+l.top}},t.util.isTouchEvent=function(f){return i.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function u(a,c){var g=a.style;if(!g)return a;if(typeof c=="string")return a.style.cssText+=";"+c,c.indexOf("opacity")>-1?l(a,c.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var d in c)if(d==="opacity")l(a,c[d]);else{var v=d==="float"||d==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":d;g.setProperty(v,c[d])}return a}var i=t.document.createElement("div"),h=typeof i.style.opacity=="string",f=typeof i.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,l=function(a){return a};h?l=function(a,c){return a.style.opacity=c,a}:f&&(l=function(a,c){var g=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(g.zoom=1),o.test(g.filter)?(c=c>=.9999?"":"alpha(opacity="+c*100+")",g.filter=g.filter.replace(o,c)):g.filter+=" alpha(opacity="+c*100+")",a}),t.util.setStyle=u}(),function(){var u=Array.prototype.slice;function i(y){return typeof y=="string"?t.document.getElementById(y):y}var h,f=function(y){return u.call(y,0)};try{h=f(t.document.childNodes)instanceof Array}catch{}h||(f=function(y){for(var w=new Array(y.length),C=y.length;C--;)w[C]=y[C];return w});function o(y,w){var C=t.document.createElement(y);for(var S in w)S==="class"?C.className=w[S]:S==="for"?C.htmlFor=w[S]:C.setAttribute(S,w[S]);return C}function l(y,w){y&&(" "+y.className+" ").indexOf(" "+w+" ")===-1&&(y.className+=(y.className?" ":"")+w)}function a(y,w,C){return typeof w=="string"&&(w=o(w,C)),y.parentNode&&y.parentNode.replaceChild(w,y),w.appendChild(y),w}function c(y){for(var w=0,C=0,S=t.document.documentElement,T=t.document.body||{scrollLeft:0,scrollTop:0};y&&(y.parentNode||y.host)&&(y=y.parentNode||y.host,y===t.document?(w=T.scrollLeft||S.scrollLeft||0,C=T.scrollTop||S.scrollTop||0):(w+=y.scrollLeft||0,C+=y.scrollTop||0),!(y.nodeType===1&&y.style.position==="fixed")););return{left:w,top:C}}function g(y){var w,C=y&&y.ownerDocument,S={left:0,top:0},T={left:0,top:0},j,W={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!C)return T;for(var V in W)T[W[V]]+=parseInt(d(y,V),10)||0;return w=C.documentElement,typeof y.getBoundingClientRect<"u"&&(S=y.getBoundingClientRect()),j=c(y),{left:S.left+j.left-(w.clientLeft||0)+T.left,top:S.top+j.top-(w.clientTop||0)+T.top}}var d;t.document.defaultView&&t.document.defaultView.getComputedStyle?d=function(y,w){var C=t.document.defaultView.getComputedStyle(y,null);return C?C[w]:void 0}:d=function(y,w){var C=y.style[w];return!C&&y.currentStyle&&(C=y.currentStyle[w]),C},function(){var y=t.document.documentElement.style,w="userSelect"in y?"userSelect":"MozUserSelect"in y?"MozUserSelect":"WebkitUserSelect"in y?"WebkitUserSelect":"KhtmlUserSelect"in y?"KhtmlUserSelect":"";function C(T){return typeof T.onselectstart<"u"&&(T.onselectstart=t.util.falseFunction),w?T.style[w]="none":typeof T.unselectable=="string"&&(T.unselectable="on"),T}function S(T){return typeof T.onselectstart<"u"&&(T.onselectstart=null),w?T.style[w]="":typeof T.unselectable=="string"&&(T.unselectable=""),T}t.util.makeElementUnselectable=C,t.util.makeElementSelectable=S}();function v(y){var w=t.jsdomImplForWrapper(y);return w._canvas||w._image}function _(y){if(t.isLikelyNode){var w=t.jsdomImplForWrapper(y);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function b(y,w){y.imageSmoothingEnabled=y.imageSmoothingEnabled||y.webkitImageSmoothingEnabled||y.mozImageSmoothingEnabled||y.msImageSmoothingEnabled||y.oImageSmoothingEnabled,y.imageSmoothingEnabled=w}t.util.setImageSmoothing=b,t.util.getById=i,t.util.toArray=f,t.util.addClass=l,t.util.makeElement=o,t.util.wrapElement=a,t.util.getScrollLeftTop=c,t.util.getElementOffset=g,t.util.getNodeCanvas=v,t.util.cleanUpJsdomNode=_}(),function(){function u(f,o){return f+(/\?/.test(f)?"&":"?")+o}function i(){}function h(f,o){o||(o={});var l=o.method?o.method.toUpperCase():"GET",a=o.onComplete||function(){},c=new t.window.XMLHttpRequest,g=o.body||o.parameters;return c.onreadystatechange=function(){c.readyState===4&&(a(c),c.onreadystatechange=i)},l==="GET"&&(g=null,typeof o.parameters=="string"&&(f=u(f,o.parameters))),c.open(l,f,!0),(l==="POST"||l==="PUT")&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(g),c}t.util.request=h}(),t.log=console.log,t.warn=console.warn,function(){var u=t.util.object.extend,i=t.util.object.clone,h=[];t.util.object.extend(h,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(_){_.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var _=this.filter(function(b){return typeof b.target=="object"&&b.target.canvas===v});return _.forEach(function(b){b.cancel()}),_},cancelByTarget:function(v){var _=this.findAnimationsByTarget(v);return _.forEach(function(b){b.cancel()}),_},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(_){return _.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(_){return _.target===v}):[]}});function f(){return!1}function o(v,_,b,y){return-b*Math.cos(v/y*(Math.PI/2))+b+_}function l(v){v||(v={});var _=!1,b,y=function(){var w=t.runningAnimations.indexOf(b);return w>-1&&t.runningAnimations.splice(w,1)[0]};return b=u(i(v),{cancel:function(){return _=!0,y()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(b),g(function(w){var C=w||+new Date,S=v.duration||500,T=C+S,j,W=v.onChange||f,V=v.abort||f,H=v.onComplete||f,Q=v.easing||o,se="startValue"in v?v.startValue.length>0:!1,le="startValue"in v?v.startValue:0,ue="endValue"in v?v.endValue:100,X=v.byValue||(se?le.map(function(K,x){return ue[x]-le[x]}):ue-le);v.onStart&&v.onStart(),function K(x){j=x||+new Date;var D=j>T?S:j-C,F=D/S,I=se?le.map(function(R,E){return Q(D,le[E],X[E],S)}):Q(D,le,X,S),ee=Math.abs(se?(I[0]-le[0])/X[0]:(I-le)/X);if(b.currentValue=se?I.slice():I,b.completionRate=ee,b.durationRate=F,!_){if(V(I,ee,F)){y();return}if(j>T){b.currentValue=se?ue.slice():ue,b.completionRate=1,b.durationRate=1,W(se?ue.slice():ue,1,1),H(ue,1,1),y();return}else W(I,ee,F),g(K)}}(C)}),b.cancel}var a=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(v){return t.window.setTimeout(v,1e3/60)},c=t.window.cancelAnimationFrame||t.window.clearTimeout;function g(){return a.apply(t.window,arguments)}function d(){return c.apply(t.window,arguments)}t.util.animate=l,t.util.requestAnimFrame=g,t.util.cancelAnimFrame=d,t.runningAnimations=h}(),function(){function u(h,f,o){var l="rgba("+parseInt(h[0]+o*(f[0]-h[0]),10)+","+parseInt(h[1]+o*(f[1]-h[1]),10)+","+parseInt(h[2]+o*(f[2]-h[2]),10);return l+=","+(h&&f?parseFloat(h[3]+o*(f[3]-h[3])):1),l+=")",l}function i(h,f,o,l){var a=new t.Color(h).getSource(),c=new t.Color(f).getSource(),g=l.onComplete,d=l.onChange;return l=l||{},t.util.animate(t.util.object.extend(l,{duration:o||500,startValue:a,endValue:c,byValue:c,easing:function(v,_,b,y){var w=l.colorEasing?l.colorEasing(v,y):1-Math.cos(v/y*(Math.PI/2));return u(_,b,w)},onComplete:function(v,_,b){if(g)return g(u(c,c,0),_,b)},onChange:function(v,_,b){if(d){if(Array.isArray(v))return d(u(v,v,0),_,b);d(v,_,b)}}}))}t.util.animateColor=i}(),function(){function u(x,D,F,I){return x<Math.abs(D)?(x=D,I=F/4):D===0&&x===0?I=F/(2*Math.PI)*Math.asin(1):I=F/(2*Math.PI)*Math.asin(D/x),{a:x,c:D,p:F,s:I}}function i(x,D,F){return x.a*Math.pow(2,10*(D-=1))*Math.sin((D*F-x.s)*(2*Math.PI)/x.p)}function h(x,D,F,I){return F*((x=x/I-1)*x*x+1)+D}function f(x,D,F,I){return x/=I/2,x<1?F/2*x*x*x+D:F/2*((x-=2)*x*x+2)+D}function o(x,D,F,I){return F*(x/=I)*x*x*x+D}function l(x,D,F,I){return-F*((x=x/I-1)*x*x*x-1)+D}function a(x,D,F,I){return x/=I/2,x<1?F/2*x*x*x*x+D:-F/2*((x-=2)*x*x*x-2)+D}function c(x,D,F,I){return F*(x/=I)*x*x*x*x+D}function g(x,D,F,I){return F*((x=x/I-1)*x*x*x*x+1)+D}function d(x,D,F,I){return x/=I/2,x<1?F/2*x*x*x*x*x+D:F/2*((x-=2)*x*x*x*x+2)+D}function v(x,D,F,I){return-F*Math.cos(x/I*(Math.PI/2))+F+D}function _(x,D,F,I){return F*Math.sin(x/I*(Math.PI/2))+D}function b(x,D,F,I){return-F/2*(Math.cos(Math.PI*x/I)-1)+D}function y(x,D,F,I){return x===0?D:F*Math.pow(2,10*(x/I-1))+D}function w(x,D,F,I){return x===I?D+F:F*(-Math.pow(2,-10*x/I)+1)+D}function C(x,D,F,I){return x===0?D:x===I?D+F:(x/=I/2,x<1?F/2*Math.pow(2,10*(x-1))+D:F/2*(-Math.pow(2,-10*--x)+2)+D)}function S(x,D,F,I){return-F*(Math.sqrt(1-(x/=I)*x)-1)+D}function T(x,D,F,I){return F*Math.sqrt(1-(x=x/I-1)*x)+D}function j(x,D,F,I){return x/=I/2,x<1?-F/2*(Math.sqrt(1-x*x)-1)+D:F/2*(Math.sqrt(1-(x-=2)*x)+1)+D}function W(x,D,F,I){var ee=1.70158,R=0,E=F;if(x===0)return D;if(x/=I,x===1)return D+F;R||(R=I*.3);var U=u(E,F,R,ee);return-i(U,x,I)+D}function V(x,D,F,I){var ee=1.70158,R=0,E=F;if(x===0)return D;if(x/=I,x===1)return D+F;R||(R=I*.3);var U=u(E,F,R,ee);return U.a*Math.pow(2,-10*x)*Math.sin((x*I-U.s)*(2*Math.PI)/U.p)+U.c+D}function H(x,D,F,I){var ee=1.70158,R=0,E=F;if(x===0)return D;if(x/=I/2,x===2)return D+F;R||(R=I*(.3*1.5));var U=u(E,F,R,ee);return x<1?-.5*i(U,x,I)+D:U.a*Math.pow(2,-10*(x-=1))*Math.sin((x*I-U.s)*(2*Math.PI)/U.p)*.5+U.c+D}function Q(x,D,F,I,ee){return ee===void 0&&(ee=1.70158),F*(x/=I)*x*((ee+1)*x-ee)+D}function se(x,D,F,I,ee){return ee===void 0&&(ee=1.70158),F*((x=x/I-1)*x*((ee+1)*x+ee)+1)+D}function le(x,D,F,I,ee){return ee===void 0&&(ee=1.70158),x/=I/2,x<1?F/2*(x*x*(((ee*=1.525)+1)*x-ee))+D:F/2*((x-=2)*x*(((ee*=1.525)+1)*x+ee)+2)+D}function ue(x,D,F,I){return F-X(I-x,0,F,I)+D}function X(x,D,F,I){return(x/=I)<1/2.75?F*(7.5625*x*x)+D:x<2/2.75?F*(7.5625*(x-=1.5/2.75)*x+.75)+D:x<2.5/2.75?F*(7.5625*(x-=2.25/2.75)*x+.9375)+D:F*(7.5625*(x-=2.625/2.75)*x+.984375)+D}function K(x,D,F,I){return x<I/2?ue(x*2,0,F,I)*.5+D:X(x*2-I,0,F,I)*.5+F*.5+D}t.util.ease={easeInQuad:function(x,D,F,I){return F*(x/=I)*x+D},easeOutQuad:function(x,D,F,I){return-F*(x/=I)*(x-2)+D},easeInOutQuad:function(x,D,F,I){return x/=I/2,x<1?F/2*x*x+D:-F/2*(--x*(x-2)-1)+D},easeInCubic:function(x,D,F,I){return F*(x/=I)*x*x+D},easeOutCubic:h,easeInOutCubic:f,easeInQuart:o,easeOutQuart:l,easeInOutQuart:a,easeInQuint:c,easeOutQuint:g,easeInOutQuint:d,easeInSine:v,easeOutSine:_,easeInOutSine:b,easeInExpo:y,easeOutExpo:w,easeInOutExpo:C,easeInCirc:S,easeOutCirc:T,easeInOutCirc:j,easeInElastic:W,easeOutElastic:V,easeInOutElastic:H,easeInBack:Q,easeOutBack:se,easeInOutBack:le,easeInBounce:ue,easeOutBounce:X,easeInOutBounce:K}}(),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,f=i.util.object.clone,o=i.util.toFixed,l=i.util.parseUnit,a=i.util.multiplyTransformMatrices,c=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],d=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],_={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},y="font-size",w="clip-path";i.svgValidTagNamesRegEx=T(c),i.svgViewBoxElementsRegEx=T(g),i.svgInvalidAncestorsRegEx=T(d),i.svgValidParentsRegEx=T(v),i.cssRules={},i.gradientDefs={},i.clipPaths={};function C(R){return R in _?_[R]:R}function S(R,E,U,M){var L=Array.isArray(E),z;if((R==="fill"||R==="stroke")&&E==="none")E="";else{if(R==="strokeUniform")return E==="non-scaling-stroke";if(R==="strokeDashArray")E==="none"?E=null:E=E.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(R==="transformMatrix")U&&U.transformMatrix?E=a(U.transformMatrix,i.parseTransformAttribute(E)):E=i.parseTransformAttribute(E);else if(R==="visible")E=E!=="none"&&E!=="hidden",U&&U.visible===!1&&(E=!1);else if(R==="opacity")E=parseFloat(E),U&&typeof U.opacity<"u"&&(E*=U.opacity);else if(R==="textAnchor")E=E==="start"?"left":E==="end"?"right":"center";else if(R==="charSpacing")z=l(E,M)/M*1e3;else if(R==="paintFirst"){var q=E.indexOf("fill"),oe=E.indexOf("stroke"),E="fill";(q>-1&&oe>-1&&oe<q||q===-1&&oe>-1)&&(E="stroke")}else{if(R==="href"||R==="xlink:href"||R==="font")return E;if(R==="imageSmoothing")return E==="optimizeQuality";z=L?E.map(l):l(E,M)}}return!L&&isNaN(z)?E:z}function T(R){return new RegExp("^("+R.join("|")+")\\b","i")}function j(R){for(var E in b)if(!(typeof R[b[E]]>"u"||R[E]==="")){if(typeof R[E]>"u"){if(!i.Object.prototype[E])continue;R[E]=i.Object.prototype[E]}if(R[E].indexOf("url(")!==0){var U=new i.Color(R[E]);R[E]=U.setAlpha(o(U.getAlpha()*R[b[E]],2)).toRgba()}}return R}function W(R,E){var U,M=[],L,z,q;for(z=0,q=E.length;z<q;z++)U=E[z],L=R.getElementsByTagName(U),M=M.concat(Array.prototype.slice.call(L));return M}i.parseTransformAttribute=function(){function R(G,ce){var pe=i.util.cos(ce[0]),Z=i.util.sin(ce[0]),ge=0,me=0;ce.length===3&&(ge=ce[1],me=ce[2]),G[0]=pe,G[1]=Z,G[2]=-Z,G[3]=pe,G[4]=ge-(pe*ge-Z*me),G[5]=me-(Z*ge+pe*me)}function E(G,ce){var pe=ce[0],Z=ce.length===2?ce[1]:ce[0];G[0]=pe,G[3]=Z}function U(G,ce,pe){G[pe]=Math.tan(i.util.degreesToRadians(ce[0]))}function M(G,ce){G[4]=ce[0],ce.length===2&&(G[5]=ce[1])}var L=i.iMatrix,z=i.reNum,q=i.commaWsp,oe="(?:(skewX)\\s*\\(\\s*("+z+")\\s*\\))",k="(?:(skewY)\\s*\\(\\s*("+z+")\\s*\\))",O="(?:(rotate)\\s*\\(\\s*("+z+")(?:"+q+"("+z+")"+q+"("+z+"))?\\s*\\))",P="(?:(scale)\\s*\\(\\s*("+z+")(?:"+q+"("+z+"))?\\s*\\))",B="(?:(translate)\\s*\\(\\s*("+z+")(?:"+q+"("+z+"))?\\s*\\))",$="(?:(matrix)\\s*\\(\\s*("+z+")"+q+"("+z+")"+q+"("+z+")"+q+"("+z+")"+q+"("+z+")"+q+"("+z+")\\s*\\))",N="(?:"+$+"|"+B+"|"+P+"|"+O+"|"+oe+"|"+k+")",Y="(?:"+N+"(?:"+q+"*"+N+")*)",J="^\\s*(?:"+Y+"?)\\s*$",ae=new RegExp(J),ne=new RegExp(N,"g");return function(G){var ce=L.concat(),pe=[];if(!G||G&&!ae.test(G))return ce;G.replace(ne,function(ge){var me=new RegExp(N).exec(ge).filter(function(Je){return!!Je}),be=me[1],ke=me.slice(2).map(parseFloat);switch(be){case"translate":M(ce,ke);break;case"rotate":ke[0]=i.util.degreesToRadians(ke[0]),R(ce,ke);break;case"scale":E(ce,ke);break;case"skewX":U(ce,ke,2);break;case"skewY":U(ce,ke,1);break;case"matrix":ce=ke;break}pe.push(ce.concat()),ce=L.concat()});for(var Z=pe[0];pe.length>1;)pe.shift(),Z=i.util.multiplyTransformMatrices(Z,pe[0]);return Z}}();function V(R,E){var U,M;R.replace(/;\s*$/,"").split(";").forEach(function(L){var z=L.split(":");U=z[0].trim().toLowerCase(),M=z[1].trim(),E[U]=M})}function H(R,E){var U,M;for(var L in R)typeof R[L]>"u"||(U=L.toLowerCase(),M=R[L],E[U]=M)}function Q(R,E){var U={};for(var M in i.cssRules[E])if(se(R,M.split(" ")))for(var L in i.cssRules[E][M])U[L]=i.cssRules[E][M][L];return U}function se(R,E){var U,M=!0;return U=ue(R,E.pop()),U&&E.length&&(M=le(R,E)),U&&M&&E.length===0}function le(R,E){for(var U,M=!0;R.parentNode&&R.parentNode.nodeType===1&&E.length;)M&&(U=E.pop()),R=R.parentNode,M=ue(R,U);return E.length===0}function ue(R,E){var U=R.nodeName,M=R.getAttribute("class"),L=R.getAttribute("id"),z,q;if(z=new RegExp("^"+U,"i"),E=E.replace(z,""),L&&E.length&&(z=new RegExp("#"+L+"(?![a-zA-Z\\-]+)","i"),E=E.replace(z,"")),M&&E.length)for(M=M.split(" "),q=M.length;q--;)z=new RegExp("\\."+M[q]+"(?![a-zA-Z\\-]+)","i"),E=E.replace(z,"");return E.length===0}function X(R,E){var U;if(R.getElementById&&(U=R.getElementById(E)),U)return U;var M,L,z,q=R.getElementsByTagName("*");for(L=0,z=q.length;L<z;L++)if(M=q[L],E===M.getAttribute("id"))return M}function K(R){for(var E=W(R,["use","svg:use"]),U=0;E.length&&U<E.length;){var M=E[U],L=M.getAttribute("xlink:href")||M.getAttribute("href");if(L===null)return;var z=L.slice(1),q=M.getAttribute("x")||0,oe=M.getAttribute("y")||0,k=X(R,z).cloneNode(!0),O=(k.getAttribute("transform")||"")+" translate("+q+", "+oe+")",P,B=E.length,$,N,Y,J,ae=i.svgNS;if(D(k),/^svg$/i.test(k.nodeName)){var ne=k.ownerDocument.createElementNS(ae,"g");for(N=0,Y=k.attributes,J=Y.length;N<J;N++)$=Y.item(N),ne.setAttributeNS(ae,$.nodeName,$.nodeValue);for(;k.firstChild;)ne.appendChild(k.firstChild);k=ne}for(N=0,Y=M.attributes,J=Y.length;N<J;N++)$=Y.item(N),!($.nodeName==="x"||$.nodeName==="y"||$.nodeName==="xlink:href"||$.nodeName==="href")&&($.nodeName==="transform"?O=$.nodeValue+" "+O:k.setAttribute($.nodeName,$.nodeValue));k.setAttribute("transform",O),k.setAttribute("instantiated_by_use","1"),k.removeAttribute("id"),P=M.parentNode,P.replaceChild(k,M),E.length===B&&U++}}var x=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function D(R){if(!i.svgViewBoxElementsRegEx.test(R.nodeName))return{};var E=R.getAttribute("viewBox"),U=1,M=1,L=0,z=0,q,oe,k,O,P=R.getAttribute("width"),B=R.getAttribute("height"),$=R.getAttribute("x")||0,N=R.getAttribute("y")||0,Y=R.getAttribute("preserveAspectRatio")||"",J=!E||!(E=E.match(x)),ae=!P||!B||P==="100%"||B==="100%",ne=J&&ae,G={},ce="",pe=0,Z=0;if(G.width=0,G.height=0,G.toBeParsed=ne,J&&($||N)&&R.parentNode&&R.parentNode.nodeName!=="#document"&&(ce=" translate("+l($)+" "+l(N)+") ",k=(R.getAttribute("transform")||"")+ce,R.setAttribute("transform",k),R.removeAttribute("x"),R.removeAttribute("y")),ne)return G;if(J)return G.width=l(P),G.height=l(B),G;if(L=-parseFloat(E[1]),z=-parseFloat(E[2]),q=parseFloat(E[3]),oe=parseFloat(E[4]),G.minX=L,G.minY=z,G.viewBoxWidth=q,G.viewBoxHeight=oe,ae?(G.width=q,G.height=oe):(G.width=l(P),G.height=l(B),U=G.width/q,M=G.height/oe),Y=i.util.parsePreserveAspectRatioAttribute(Y),Y.alignX!=="none"&&(Y.meetOrSlice==="meet"&&(M=U=U>M?M:U),Y.meetOrSlice==="slice"&&(M=U=U>M?U:M),pe=G.width-q*U,Z=G.height-oe*U,Y.alignX==="Mid"&&(pe/=2),Y.alignY==="Mid"&&(Z/=2),Y.alignX==="Min"&&(pe=0),Y.alignY==="Min"&&(Z=0)),U===1&&M===1&&L===0&&z===0&&$===0&&N===0)return G;if(($||N)&&R.parentNode.nodeName!=="#document"&&(ce=" translate("+l($)+" "+l(N)+") "),k=ce+" matrix("+U+" 0 0 "+M+" "+(L*U+pe)+" "+(z*M+Z)+") ",R.nodeName==="svg"){for(O=R.ownerDocument.createElementNS(i.svgNS,"g");R.firstChild;)O.appendChild(R.firstChild);R.appendChild(O)}else O=R,O.removeAttribute("x"),O.removeAttribute("y"),k=O.getAttribute("transform")+k;return O.setAttribute("transform",k),G}function F(R,E){for(;R&&(R=R.parentNode);)if(R.nodeName&&E.test(R.nodeName.replace("svg:",""))&&!R.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(R,E,U,M){if(R){K(R);var L=i.Object.__uid++,z,q,oe=D(R),k=i.util.toArray(R.getElementsByTagName("*"));if(oe.crossOrigin=M&&M.crossOrigin,oe.svgUid=L,k.length===0&&i.isLikelyNode){k=R.selectNodes('//*[name(.)!="svg"]');var O=[];for(z=0,q=k.length;z<q;z++)O[z]=k[z];k=O}var P=k.filter(function($){return D($),i.svgValidTagNamesRegEx.test($.nodeName.replace("svg:",""))&&!F($,i.svgInvalidAncestorsRegEx)});if(!P||P&&!P.length){E&&E([],{});return}var B={};k.filter(function($){return $.nodeName.replace("svg:","")==="clipPath"}).forEach(function($){var N=$.getAttribute("id");B[N]=i.util.toArray($.getElementsByTagName("*")).filter(function(Y){return i.svgValidTagNamesRegEx.test(Y.nodeName.replace("svg:",""))})}),i.gradientDefs[L]=i.getGradientDefs(R),i.cssRules[L]=i.getCSSRules(R),i.clipPaths[L]=B,i.parseElements(P,function($,N){E&&(E($,oe,N,k),delete i.gradientDefs[L],delete i.cssRules[L],delete i.clipPaths[L])},f(oe),U,M)}};function I(R,E){var U=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],M="xlink:href",L=E.getAttribute(M).slice(1),z=X(R,L);if(z&&z.getAttribute(M)&&I(R,z),U.forEach(function(oe){z&&!E.hasAttribute(oe)&&z.hasAttribute(oe)&&E.setAttribute(oe,z.getAttribute(oe))}),!E.children.length)for(var q=z.cloneNode(!0);q.firstChild;)E.appendChild(q.firstChild);E.removeAttribute(M)}var ee=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");h(i,{parseFontDeclaration:function(R,E){var U=R.match(ee);if(U){var M=U[1],L=U[3],z=U[4],q=U[5],oe=U[6];M&&(E.fontStyle=M),L&&(E.fontWeight=isNaN(parseFloat(L))?L:parseFloat(L)),z&&(E.fontSize=l(z)),oe&&(E.fontFamily=oe),q&&(E.lineHeight=q==="normal"?1:q)}},getGradientDefs:function(R){var E=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],U=W(R,E),M,L=0,z={};for(L=U.length;L--;)M=U[L],M.getAttribute("xlink:href")&&I(R,M),z[M.getAttribute("id")]=M;return z},parseAttributes:function(R,E,U){if(R){var M,L={},z,q;typeof U>"u"&&(U=R.getAttribute("svgUid")),R.parentNode&&i.svgValidParentsRegEx.test(R.parentNode.nodeName)&&(L=i.parseAttributes(R.parentNode,E,U));var oe=E.reduce(function(Y,J){return M=R.getAttribute(J),M&&(Y[J]=M),Y},{}),k=h(Q(R,U),i.parseStyleAttribute(R));oe=h(oe,k),k[w]&&R.setAttribute(w,k[w]),z=q=L.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,oe[y]&&(oe[y]=z=l(oe[y],q));var O,P,B={};for(var $ in oe)O=C($),P=S(O,oe[$],L,z),B[O]=P;B&&B.font&&i.parseFontDeclaration(B.font,B);var N=h(L,B);return i.svgValidParentsRegEx.test(R.nodeName)?N:j(N)}},parseElements:function(R,E,U,M,L){new i.ElementsParser(R,E,U,M,L).parse()},parseStyleAttribute:function(R){var E={},U=R.getAttribute("style");return U&&(typeof U=="string"?V(U,E):H(U,E)),E},parsePointsAttribute:function(R){if(!R)return null;R=R.replace(/,/g," ").trim(),R=R.split(/\s+/);var E=[],U,M;for(U=0,M=R.length;U<M;U+=2)E.push({x:parseFloat(R[U]),y:parseFloat(R[U+1])});return E},getCSSRules:function(R){var E=R.getElementsByTagName("style"),U,M,L={},z;for(U=0,M=E.length;U<M;U++){var q=E[U].textContent;q=q.replace(/\/\*[\s\S]*?\*\//g,""),q.trim()!==""&&(z=q.split("}"),z=z.filter(function(oe){return oe.trim()}),z.forEach(function(oe){var k=oe.split("{"),O={},P=k[1].trim(),B=P.split(";").filter(function(J){return J.trim()});for(U=0,M=B.length;U<M;U++){var $=B[U].split(":"),N=$[0].trim(),Y=$[1].trim();O[N]=Y}oe=k[0].trim(),oe.split(",").forEach(function(J){J=J.replace(/^svg/i,"").trim(),J!==""&&(L[J]?i.util.object.extend(L[J],O):L[J]=i.util.object.clone(O))})}))}return L},loadSVGFromURL:function(R,E,U,M){R=R.replace(/^\n\s*/,"").trim(),new i.util.request(R,{method:"get",onComplete:L});function L(z){var q=z.responseXML;if(!q||!q.documentElement)return E&&E(null),!1;i.parseSVGDocument(q.documentElement,function(oe,k,O,P){E&&E(oe,k,O,P)},U,M)}},loadSVGFromString:function(R,E,U,M){var L=new i.window.DOMParser,z=L.parseFromString(R.trim(),"text/xml");i.parseSVGDocument(z.documentElement,function(q,oe,k,O){E(q,oe,k,O)},U,M)}})}(e),t.ElementsParser=function(u,i,h,f,o,l){this.elements=u,this.callback=i,this.options=h,this.reviver=f,this.svgUid=h&&h.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=l},function(u){u.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},u.createObjects=function(){var i=this;this.elements.forEach(function(h,f){h.setAttribute("svgUid",i.svgUid),i.createObject(h,f)})},u.findTag=function(i){return t[t.util.string.capitalize(i.tagName.replace("svg:",""))]},u.createObject=function(i,h){var f=this.findTag(i);if(f&&f.fromElement)try{f.fromElement(i,this.createCallback(h,i),this.options)}catch(o){t.log(o)}else this.checkIfDone()},u.createCallback=function(i,h){var f=this;return function(o){var l;f.resolveGradient(o,h,"fill"),f.resolveGradient(o,h,"stroke"),o instanceof t.Image&&o._originalElement&&(l=o.parsePreserveAspectRatioAttribute(h)),o._removeTransformMatrix(l),f.resolveClipPath(o,h),f.reviver&&f.reviver(h,o),f.instances[i]=o,f.checkIfDone()}},u.extractPropertyDefinition=function(i,h,f){var o=i[h],l=this.regexUrl;if(l.test(o)){l.lastIndex=0;var a=l.exec(o)[1];return l.lastIndex=0,t[f][this.svgUid][a]}},u.resolveGradient=function(i,h,f){var o=this.extractPropertyDefinition(i,f,"gradientDefs");if(o){var l=h.getAttribute(f+"-opacity"),a=t.Gradient.fromElement(o,i,l,this.options);i.set(f,a)}},u.createClipPathCallback=function(i,h){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,h.push(f)}},u.resolveClipPath=function(i,h){var f=this.extractPropertyDefinition(i,"clipPath","clipPaths"),o,l,a,c,g,d;if(f){c=[],a=t.util.invertTransform(i.calcTransformMatrix());for(var v=f[0].parentNode,_=h;_.parentNode&&_.getAttribute("clip-path")!==i.clipPath;)_=_.parentNode;_.parentNode.appendChild(v);for(var b=0;b<f.length;b++)o=f[b],l=this.findTag(o),l.fromElement(o,this.createClipPathCallback(i,c),this.options);c.length===1?f=c[0]:f=new t.Group(c),g=t.util.multiplyTransformMatrices(a,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,_);var d=t.util.qrDecompose(g);f.flipX=!1,f.flipY=!1,f.set("scaleX",d.scaleX),f.set("scaleY",d.scaleY),f.angle=d.angle,f.skewX=d.skewX,f.skewY=0,f.setPositionByOrigin({x:d.translateX,y:d.translateY},"center","center"),i.clipPath=f}else delete i.clipPath},u.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(u){var i=u.fabric||(u.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=h;function h(f,o){this.x=f,this.y=o}h.prototype={type:"point",constructor:h,add:function(f){return new h(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new h(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new h(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new h(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new h(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new h(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,o){return typeof o>"u"&&(o=.5),o=Math.max(Math.min(1,o),0),new h(this.x+(f.x-this.x)*o,this.y+(f.y-this.y)*o)},distanceFrom:function(f){var o=this.x-f.x,l=this.y-f.y;return Math.sqrt(o*o+l*l)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new h(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new h(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,o){return this.x=f,this.y=o,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var o=this.x,l=this.y;this.x=f.x,this.y=f.y,f.x=o,f.y=l},clone:function(){return new h(this.x,this.y)}}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function h(f){this.status=f,this.points=[]}i.Intersection=h,i.Intersection.prototype={constructor:h,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},i.Intersection.intersectLineLine=function(f,o,l,a){var c,g=(a.x-l.x)*(f.y-l.y)-(a.y-l.y)*(f.x-l.x),d=(o.x-f.x)*(f.y-l.y)-(o.y-f.y)*(f.x-l.x),v=(a.y-l.y)*(o.x-f.x)-(a.x-l.x)*(o.y-f.y);if(v!==0){var _=g/v,b=d/v;0<=_&&_<=1&&0<=b&&b<=1?(c=new h("Intersection"),c.appendPoint(new i.Point(f.x+_*(o.x-f.x),f.y+_*(o.y-f.y)))):c=new h}else g===0||d===0?c=new h("Coincident"):c=new h("Parallel");return c},i.Intersection.intersectLinePolygon=function(f,o,l){var a=new h,c=l.length,g,d,v,_;for(_=0;_<c;_++)g=l[_],d=l[(_+1)%c],v=h.intersectLineLine(f,o,g,d),a.appendPoints(v.points);return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonPolygon=function(f,o){var l=new h,a=f.length,c;for(c=0;c<a;c++){var g=f[c],d=f[(c+1)%a],v=h.intersectLinePolygon(g,d,o);l.appendPoints(v.points)}return l.points.length>0&&(l.status="Intersection"),l},i.Intersection.intersectPolygonRectangle=function(f,o,l){var a=o.min(l),c=o.max(l),g=new i.Point(c.x,a.y),d=new i.Point(a.x,c.y),v=h.intersectLinePolygon(a,g,f),_=h.intersectLinePolygon(g,c,f),b=h.intersectLinePolygon(c,d,f),y=h.intersectLinePolygon(d,a,f),w=new h;return w.appendPoints(v.points),w.appendPoints(_.points),w.appendPoints(b.points),w.appendPoints(y.points),w.points.length>0&&(w.status="Intersection"),w}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function h(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}i.Color=h,i.Color.prototype={_tryParsingColor:function(o){var l;o in h.colorNameMap&&(o=h.colorNameMap[o]),o==="transparent"&&(l=[255,255,255,0]),l||(l=h.sourceFromHex(o)),l||(l=h.sourceFromRgb(o)),l||(l=h.sourceFromHsl(o)),l||(l=[0,0,0,1]),l&&this.setSource(l)},_rgbToHsl:function(o,l,a){o/=255,l/=255,a/=255;var c,g,d,v=i.util.array.max([o,l,a]),_=i.util.array.min([o,l,a]);if(d=(v+_)/2,v===_)c=g=0;else{var b=v-_;switch(g=d>.5?b/(2-v-_):b/(v+_),v){case o:c=(l-a)/b+(l<a?6:0);break;case l:c=(a-o)/b+2;break;case a:c=(o-l)/b+4;break}c/=6}return[Math.round(c*360),Math.round(g*100),Math.round(d*100)]},getSource:function(){return this._source},setSource:function(o){this._source=o},toRgb:function(){var o=this.getSource();return"rgb("+o[0]+","+o[1]+","+o[2]+")"},toRgba:function(){var o=this.getSource();return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},toHsl:function(){var o=this.getSource(),l=this._rgbToHsl(o[0],o[1],o[2]);return"hsl("+l[0]+","+l[1]+"%,"+l[2]+"%)"},toHsla:function(){var o=this.getSource(),l=this._rgbToHsl(o[0],o[1],o[2]);return"hsla("+l[0]+","+l[1]+"%,"+l[2]+"%,"+o[3]+")"},toHex:function(){var o=this.getSource(),l,a,c;return l=o[0].toString(16),l=l.length===1?"0"+l:l,a=o[1].toString(16),a=a.length===1?"0"+a:a,c=o[2].toString(16),c=c.length===1?"0"+c:c,l.toUpperCase()+a.toUpperCase()+c.toUpperCase()},toHexa:function(){var o=this.getSource(),l;return l=Math.round(o[3]*255),l=l.toString(16),l=l.length===1?"0"+l:l,this.toHex()+l.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(o){var l=this.getSource();return l[3]=o,this.setSource(l),this},toGrayscale:function(){var o=this.getSource(),l=parseInt((o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),10),a=o[3];return this.setSource([l,l,l,a]),this},toBlackWhite:function(o){var l=this.getSource(),a=(l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),c=l[3];return o=o||127,a=Number(a)<Number(o)?0:255,this.setSource([a,a,a,c]),this},overlayWith:function(o){o instanceof h||(o=new h(o));var l=[],a=this.getAlpha(),c=.5,g=this.getSource(),d=o.getSource(),v;for(v=0;v<3;v++)l.push(Math.round(g[v]*(1-c)+d[v]*c));return l[3]=a,this.setSource(l),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(o,l,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?o+(l-o)*6*a:a<1/2?l:a<2/3?o+(l-o)*(2/3-a)*6:o}i.Color.fromRgb=function(o){return h.fromSource(h.sourceFromRgb(o))},i.Color.sourceFromRgb=function(o){var l=o.match(h.reRGBa);if(l){var a=parseInt(l[1],10)/(/%$/.test(l[1])?100:1)*(/%$/.test(l[1])?255:1),c=parseInt(l[2],10)/(/%$/.test(l[2])?100:1)*(/%$/.test(l[2])?255:1),g=parseInt(l[3],10)/(/%$/.test(l[3])?100:1)*(/%$/.test(l[3])?255:1);return[parseInt(a,10),parseInt(c,10),parseInt(g,10),l[4]?parseFloat(l[4]):1]}},i.Color.fromRgba=h.fromRgb,i.Color.fromHsl=function(o){return h.fromSource(h.sourceFromHsl(o))},i.Color.sourceFromHsl=function(o){var l=o.match(h.reHSLa);if(l){var a=(parseFloat(l[1])%360+360)%360/360,c=parseFloat(l[2])/(/%$/.test(l[2])?100:1),g=parseFloat(l[3])/(/%$/.test(l[3])?100:1),d,v,_;if(c===0)d=v=_=g;else{var b=g<=.5?g*(c+1):g+c-g*c,y=g*2-b;d=f(y,b,a+1/3),v=f(y,b,a),_=f(y,b,a-1/3)}return[Math.round(d*255),Math.round(v*255),Math.round(_*255),l[4]?parseFloat(l[4]):1]}},i.Color.fromHsla=h.fromHsl,i.Color.fromHex=function(o){return h.fromSource(h.sourceFromHex(o))},i.Color.sourceFromHex=function(o){if(o.match(h.reHex)){var l=o.slice(o.indexOf("#")+1),a=l.length===3||l.length===4,c=l.length===8||l.length===4,g=a?l.charAt(0)+l.charAt(0):l.substring(0,2),d=a?l.charAt(1)+l.charAt(1):l.substring(2,4),v=a?l.charAt(2)+l.charAt(2):l.substring(4,6),_=c?a?l.charAt(3)+l.charAt(3):l.substring(6,8):"FF";return[parseInt(g,16),parseInt(d,16),parseInt(v,16),parseFloat((parseInt(_,16)/255).toFixed(2))]}},i.Color.fromSource=function(o){var l=new h;return l.setSource(o),l}}(e),function(u){var i=u.fabric||(u.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],o={},l="left",a="top",c="right",g="bottom",d="center",v={top:g,bottom:a,left:c,right:l,center:d},_=i.util.radiansToDegrees,b=Math.sign||function(O){return(O>0)-(O<0)||+O};function y(O,P){var B=O.angle+_(Math.atan2(P.y,P.x))+360;return Math.round(B%360/45)}function w(O,P){var B=P.transform.target,$=B.canvas,N=i.util.object.clone(P);N.target=B,$&&$.fire("object:"+O,N),B.fire(O,P)}function C(O,P){var B=P.canvas,$=B.uniScaleKey,N=O[$];return B.uniformScaling&&!N||!B.uniformScaling&&N}function S(O){return O.originX===d&&O.originY===d}function T(O,P,B){var $=O.lockScalingX,N=O.lockScalingY;return!!($&&N||!P&&($||N)&&B||$&&P==="x"||N&&P==="y")}function j(O,P,B){var $="not-allowed",N=C(O,B),Y="";if(P.x!==0&&P.y===0?Y="x":P.x===0&&P.y!==0&&(Y="y"),T(B,Y,N))return $;var J=y(B,P);return h[J]+"-resize"}function W(O,P,B){var $="not-allowed";if(P.x!==0&&B.lockSkewingY||P.y!==0&&B.lockSkewingX)return $;var N=y(B,P)%4;return f[N]+"-resize"}function V(O,P,B){return O[B.canvas.altActionKey]?o.skewCursorStyleHandler(O,P,B):o.scaleCursorStyleHandler(O,P,B)}function H(O,P,B){var $=O[B.canvas.altActionKey];if(P.x===0)return $?"skewX":"scaleY";if(P.y===0)return $?"skewY":"scaleX"}function Q(O,P,B){return B.lockRotation?"not-allowed":P.cursorStyle}function se(O,P,B,$){return{e:O,transform:P,pointer:{x:B,y:$}}}function le(O){return function(P,B,$,N){var Y=B.target,J=Y.getCenterPoint(),ae=Y.translateToOriginPoint(J,B.originX,B.originY),ne=O(P,B,$,N);return Y.setPositionByOrigin(ae,B.originX,B.originY),ne}}function ue(O,P){return function(B,$,N,Y){var J=P(B,$,N,Y);return J&&w(O,se(B,$,N,Y)),J}}function X(O,P,B,$,N){var Y=O.target,J=Y.controls[O.corner],ae=Y.canvas.getZoom(),ne=Y.padding/ae,G=Y.toLocalPoint(new i.Point($,N),P,B);return G.x>=ne&&(G.x-=ne),G.x<=-ne&&(G.x+=ne),G.y>=ne&&(G.y-=ne),G.y<=ne&&(G.y+=ne),G.x-=J.offsetX,G.y-=J.offsetY,G}function K(O){return O.flipX!==O.flipY}function x(O,P,B,$,N){if(O[P]!==0){var Y=O._getTransformedDimensions()[$],J=N/Y*O[B];O.set(B,J)}}function D(O,P,B,$){var N=P.target,Y=N._getTransformedDimensions(0,N.skewY),J=X(P,P.originX,P.originY,B,$),ae=Math.abs(J.x*2)-Y.x,ne=N.skewX,G;ae<2?G=0:(G=_(Math.atan2(ae/N.scaleX,Y.y/N.scaleY)),P.originX===l&&P.originY===g&&(G=-G),P.originX===c&&P.originY===a&&(G=-G),K(N)&&(G=-G));var ce=ne!==G;if(ce){var pe=N._getTransformedDimensions().y;N.set("skewX",G),x(N,"skewY","scaleY","y",pe)}return ce}function F(O,P,B,$){var N=P.target,Y=N._getTransformedDimensions(N.skewX,0),J=X(P,P.originX,P.originY,B,$),ae=Math.abs(J.y*2)-Y.y,ne=N.skewY,G;ae<2?G=0:(G=_(Math.atan2(ae/N.scaleY,Y.x/N.scaleX)),P.originX===l&&P.originY===g&&(G=-G),P.originX===c&&P.originY===a&&(G=-G),K(N)&&(G=-G));var ce=ne!==G;if(ce){var pe=N._getTransformedDimensions().x;N.set("skewY",G),x(N,"skewX","scaleX","x",pe)}return ce}function I(O,P,B,$){var N=P.target,Y=N.skewX,J,ae=P.originY;if(N.lockSkewingX)return!1;if(Y===0){var ne=X(P,d,d,B,$);ne.x>0?J=l:J=c}else Y>0&&(J=ae===a?l:c),Y<0&&(J=ae===a?c:l),K(N)&&(J=J===l?c:l);P.originX=J;var G=ue("skewing",le(D));return G(O,P,B,$)}function ee(O,P,B,$){var N=P.target,Y=N.skewY,J,ae=P.originX;if(N.lockSkewingY)return!1;if(Y===0){var ne=X(P,d,d,B,$);ne.y>0?J=a:J=g}else Y>0&&(J=ae===l?a:g),Y<0&&(J=ae===l?g:a),K(N)&&(J=J===a?g:a);P.originY=J;var G=ue("skewing",le(F));return G(O,P,B,$)}function R(O,P,B,$){var N=P,Y=N.target,J=Y.translateToOriginPoint(Y.getCenterPoint(),N.originX,N.originY);if(Y.lockRotation)return!1;var ae=Math.atan2(N.ey-J.y,N.ex-J.x),ne=Math.atan2($-J.y,B-J.x),G=_(ne-ae+N.theta),ce=!0;if(Y.snapAngle>0){var pe=Y.snapAngle,Z=Y.snapThreshold||pe,ge=Math.ceil(G/pe)*pe,me=Math.floor(G/pe)*pe;Math.abs(G-me)<Z?G=me:Math.abs(G-ge)<Z&&(G=ge)}return G<0&&(G=360+G),G%=360,ce=Y.angle!==G,Y.angle=G,ce}function E(O,P,B,$,N){N=N||{};var Y=P.target,J=Y.lockScalingX,ae=Y.lockScalingY,ne=N.by,G,ce,pe,Z,ge=C(O,Y),me=T(Y,ne,ge),be,ke,Je=P.gestureScale;if(me)return!1;if(Je)ce=P.scaleX*Je,pe=P.scaleY*Je;else{if(G=X(P,P.originX,P.originY,B,$),be=ne!=="y"?b(G.x):1,ke=ne!=="x"?b(G.y):1,P.signX||(P.signX=be),P.signY||(P.signY=ke),Y.lockScalingFlip&&(P.signX!==be||P.signY!==ke))return!1;if(Z=Y._getTransformedDimensions(),ge&&!ne){var St=Math.abs(G.x)+Math.abs(G.y),_t=P.original,ln=Math.abs(Z.x*_t.scaleX/Y.scaleX)+Math.abs(Z.y*_t.scaleY/Y.scaleY),Zn=St/ln;ce=_t.scaleX*Zn,pe=_t.scaleY*Zn}else ce=Math.abs(G.x*Y.scaleX/Z.x),pe=Math.abs(G.y*Y.scaleY/Z.y);S(P)&&(ce*=2,pe*=2),P.signX!==be&&ne!=="y"&&(P.originX=v[P.originX],ce*=-1,P.signX=be),P.signY!==ke&&ne!=="x"&&(P.originY=v[P.originY],pe*=-1,P.signY=ke)}var qe=Y.scaleX,ut=Y.scaleY;return ne?(ne==="x"&&Y.set("scaleX",ce),ne==="y"&&Y.set("scaleY",pe)):(!J&&Y.set("scaleX",ce),!ae&&Y.set("scaleY",pe)),qe!==Y.scaleX||ut!==Y.scaleY}function U(O,P,B,$){return E(O,P,B,$)}function M(O,P,B,$){return E(O,P,B,$,{by:"x"})}function L(O,P,B,$){return E(O,P,B,$,{by:"y"})}function z(O,P,B,$){return O[P.target.canvas.altActionKey]?o.skewHandlerX(O,P,B,$):o.scalingY(O,P,B,$)}function q(O,P,B,$){return O[P.target.canvas.altActionKey]?o.skewHandlerY(O,P,B,$):o.scalingX(O,P,B,$)}function oe(O,P,B,$){var N=P.target,Y=X(P,P.originX,P.originY,B,$),J=N.strokeWidth/(N.strokeUniform?N.scaleX:1),ae=S(P)?2:1,ne=N.width,G=Math.abs(Y.x*ae/N.scaleX)-J;return N.set("width",Math.max(G,0)),ne!==G}function k(O,P,B,$){var N=P.target,Y=B-P.offsetX,J=$-P.offsetY,ae=!N.get("lockMovementX")&&N.left!==Y,ne=!N.get("lockMovementY")&&N.top!==J;return ae&&N.set("left",Y),ne&&N.set("top",J),(ae||ne)&&w("moving",se(O,P,B,$)),ae||ne}o.scaleCursorStyleHandler=j,o.skewCursorStyleHandler=W,o.scaleSkewCursorStyleHandler=V,o.rotationWithSnapping=ue("rotating",le(R)),o.scalingEqually=ue("scaling",le(U)),o.scalingX=ue("scaling",le(M)),o.scalingY=ue("scaling",le(L)),o.scalingYOrSkewingX=z,o.scalingXOrSkewingY=q,o.changeWidth=ue("resizing",le(oe)),o.skewHandlerX=I,o.skewHandlerY=ee,o.dragHandler=k,o.scaleOrSkewActionName=H,o.rotationStyleHandler=Q,o.fireEvent=w,o.wrapWithFixedAnchor=le,o.wrapWithFireEvent=ue,o.getLocalPoint=X,i.controlsUtils=o}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.degreesToRadians,f=i.controlsUtils;function o(a,c,g,d,v){d=d||{};var _=this.sizeX||d.cornerSize||v.cornerSize,b=this.sizeY||d.cornerSize||v.cornerSize,y=typeof d.transparentCorners<"u"?d.transparentCorners:v.transparentCorners,w=y?"stroke":"fill",C=!y&&(d.cornerStrokeColor||v.cornerStrokeColor),S=c,T=g,j;a.save(),a.fillStyle=d.cornerColor||v.cornerColor,a.strokeStyle=d.cornerStrokeColor||v.cornerStrokeColor,_>b?(j=_,a.scale(1,b/_),T=g*_/b):b>_?(j=b,a.scale(_/b,1),S=c*b/_):j=_,a.lineWidth=1,a.beginPath(),a.arc(S,T,j/2,0,2*Math.PI,!1),a[w](),C&&a.stroke(),a.restore()}function l(a,c,g,d,v){d=d||{};var _=this.sizeX||d.cornerSize||v.cornerSize,b=this.sizeY||d.cornerSize||v.cornerSize,y=typeof d.transparentCorners<"u"?d.transparentCorners:v.transparentCorners,w=y?"stroke":"fill",C=!y&&(d.cornerStrokeColor||v.cornerStrokeColor),S=_/2,T=b/2;a.save(),a.fillStyle=d.cornerColor||v.cornerColor,a.strokeStyle=d.cornerStrokeColor||v.cornerStrokeColor,a.lineWidth=1,a.translate(c,g),a.rotate(h(v.angle)),a[w+"Rect"](-S,-T,_,b),C&&a.strokeRect(-S,-T,_,b),a.restore()}f.renderCircleControl=o,f.renderSquareControl=l}(e),function(u){var i=u.fabric||(u.fabric={});function h(f){for(var o in f)this[o]=f[o]}i.Control=h,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,o){return o.cursorStyle},getActionName:function(f,o){return o.actionName},getVisibility:function(f,o){var l=f._controlsVisibility;return l&&typeof l[o]<"u"?l[o]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,o){var l=i.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},o);return l},calcCornerCoords:function(f,o,l,a,c){var g,d,v,_,b=c?this.touchSizeX:this.sizeX,y=c?this.touchSizeY:this.sizeY;if(b&&y&&b!==y){var w=Math.atan2(y,b),C=Math.sqrt(b*b+y*y)/2,S=w-i.util.degreesToRadians(f),T=Math.PI/2-w-i.util.degreesToRadians(f);g=C*i.util.cos(S),d=C*i.util.sin(S),v=C*i.util.cos(T),_=C*i.util.sin(T)}else{var j=b&&y?b:o;C=j*.7071067812;var S=i.util.degreesToRadians(45-f);g=v=C*i.util.cos(S),d=_=C*i.util.sin(S)}return{tl:{x:l-_,y:a-v},tr:{x:l+g,y:a-d},bl:{x:l-g,y:a+d},br:{x:l+_,y:a+v}}},render:function(f,o,l,a,c){switch(a=a||{},a.cornerStyle||c.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,f,o,l,a,c);break;default:i.controlsUtils.renderSquareControl.call(this,f,o,l,a,c)}}}}(e),function(){function u(l,a){var c=l.getAttribute("style"),g=l.getAttribute("offset")||0,d,v,_,b;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,c){var y=c.split(/\s*;\s*/);for(y[y.length-1]===""&&y.pop(),b=y.length;b--;){var w=y[b].split(/\s*:\s*/),C=w[0].trim(),S=w[1].trim();C==="stop-color"?d=S:C==="stop-opacity"&&(_=S)}}return d||(d=l.getAttribute("stop-color")||"rgb(0,0,0)"),_||(_=l.getAttribute("stop-opacity")),d=new t.Color(d),v=d.getAlpha(),_=isNaN(parseFloat(_))?1:parseFloat(_),_*=v*a,{offset:g,color:d.toRgb(),opacity:_}}function i(l){return{x1:l.getAttribute("x1")||0,y1:l.getAttribute("y1")||0,x2:l.getAttribute("x2")||"100%",y2:l.getAttribute("y2")||0}}function h(l){return{x1:l.getAttribute("fx")||l.getAttribute("cx")||"50%",y1:l.getAttribute("fy")||l.getAttribute("cy")||"50%",r1:0,x2:l.getAttribute("cx")||"50%",y2:l.getAttribute("cy")||"50%",r2:l.getAttribute("r")||"50%"}}var f=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(l){l||(l={}),l.coords||(l.coords={});var a,c=this;Object.keys(l).forEach(function(g){c[g]=l[g]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,a={x1:l.coords.x1||0,y1:l.coords.y1||0,x2:l.coords.x2||0,y2:l.coords.y2||0},this.type==="radial"&&(a.r1=l.coords.r1||0,a.r2=l.coords.r2||0),this.coords=a,this.colorStops=l.colorStops.slice()},addColorStop:function(l){for(var a in l){var c=new t.Color(l[a]);this.colorStops.push({offset:parseFloat(a),color:c.toRgb(),opacity:c.getAlpha()})}return this},toObject:function(l){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,a,l),a},toSVG:function(l,v){var c=f(this.coords,!0),g,d,v=v||{},_,b,y=f(this.colorStops,!0),w=c.r1>c.r2,C=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),S=-this.offsetX,T=-this.offsetY,j=!!v.additionalTransform,W=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(y.sort(function(le,ue){return le.offset-ue.offset}),W==="objectBoundingBox"?(S/=l.width,T/=l.height):(S+=l.width/2,T+=l.height/2),l.type==="path"&&this.gradientUnits!=="percentage"&&(S-=l.pathOffset.x,T-=l.pathOffset.y),C[4]-=S,C[5]-=T,b='id="SVGID_'+this.id+'" gradientUnits="'+W+'"',b+=' gradientTransform="'+(j?v.additionalTransform+" ":"")+t.util.matrixToSVG(C)+'" ',this.type==="linear"?_=["<linearGradient ",b,' x1="',c.x1,'" y1="',c.y1,'" x2="',c.x2,'" y2="',c.y2,`">
`]:this.type==="radial"&&(_=["<radialGradient ",b,' cx="',w?c.x1:c.x2,'" cy="',w?c.y1:c.y2,'" r="',w?c.r1:c.r2,'" fx="',w?c.x2:c.x1,'" fy="',w?c.y2:c.y1,`">
`]),this.type==="radial"){if(w)for(y=y.concat(),y.reverse(),g=0,d=y.length;g<d;g++)y[g].offset=1-y[g].offset;var V=Math.min(c.r1,c.r2);if(V>0){var H=Math.max(c.r1,c.r2),Q=V/H;for(g=0,d=y.length;g<d;g++)y[g].offset+=Q*(1-y[g].offset)}}for(g=0,d=y.length;g<d;g++){var se=y[g];_.push("<stop ",'offset="',se.offset*100+"%",'" style="stop-color:',se.color,typeof se.opacity<"u"?";stop-opacity: "+se.opacity:";",`"/>
`)}return _.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),_.join("")},toLive:function(l){var a,c=t.util.object.clone(this.coords),g,d;if(this.type){for(this.type==="linear"?a=l.createLinearGradient(c.x1,c.y1,c.x2,c.y2):this.type==="radial"&&(a=l.createRadialGradient(c.x1,c.y1,c.r1,c.x2,c.y2,c.r2)),g=0,d=this.colorStops.length;g<d;g++){var v=this.colorStops[g].color,_=this.colorStops[g].opacity,b=this.colorStops[g].offset;typeof _<"u"&&(v=new t.Color(v).setAlpha(_).toRgba()),a.addColorStop(b,v)}return a}}}),t.util.object.extend(t.Gradient,{fromElement:function(l,a,c,g){var d=parseFloat(c)/(/%$/.test(c)?100:1);d=d<0?0:d>1?1:d,isNaN(d)&&(d=1);var v=l.getElementsByTagName("stop"),_,b=l.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",y=l.getAttribute("gradientTransform")||"",w=[],C,S,T=0,j=0,W;for(l.nodeName==="linearGradient"||l.nodeName==="LINEARGRADIENT"?(_="linear",C=i(l)):(_="radial",C=h(l)),S=v.length;S--;)w.push(u(v[S],d));W=t.parseTransformAttribute(y),o(a,C,g,b),b==="pixels"&&(T=-a.left,j=-a.top);var V=new t.Gradient({id:l.getAttribute("id"),type:_,coords:C,colorStops:w,gradientUnits:b,gradientTransform:W,offsetX:T,offsetY:j});return V}});function o(l,a,c,g){var d,v;Object.keys(a).forEach(function(_){d=a[_],d==="Infinity"?v=1:d==="-Infinity"?v=0:(v=parseFloat(a[_],10),typeof d=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(d)&&(v*=.01,g==="pixels"&&((_==="x1"||_==="x2"||_==="r2")&&(v*=c.viewBoxWidth||c.width),(_==="y1"||_==="y2")&&(v*=c.viewBoxHeight||c.height)))),a[_]=v})}}(),function(){var u=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,h){if(i||(i={}),this.id=t.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){h&&h(this);return}else{var f=this;this.source=t.util.createImage(),t.util.loadImage(i.source,function(o,l){f.source=o,h&&h(f,l)},null,this.crossOrigin)}},toObject:function(i){var h=t.Object.NUM_FRACTION_DIGITS,f,o;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),o={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:u(this.offsetX,h),offsetY:u(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,o,i),o},toSVG:function(i){var h=typeof this.source=="function"?this.source():this.source,f=h.width/i.width,o=h.height/i.height,l=this.offsetX/i.width,a=this.offsetY/i.height,c="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(o=1,a&&(o+=Math.abs(a))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,l&&(f+=Math.abs(l))),h.src?c=h.src:h.toDataURL&&(c=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+l+'" y="'+a+'" width="'+f+'" height="'+o+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+c+`"></image>
</pattern>
`},setOptions:function(i){for(var h in i)this[h]=i[h]},toLive:function(i){var h=this.source;return!h||typeof h.src<"u"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":i.createPattern(h,this.repeat)}})}(),function(u){var i=u.fabric||(u.fabric={}),h=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var o in f)this[o]=f[o];this.id=i.Object.__uid++},_parseShadow:function(f){var o=f.trim(),l=i.Shadow.reOffsetsAndBlur.exec(o)||[],a=o.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:a.trim(),offsetX:parseFloat(l[1],10)||0,offsetY:parseFloat(l[2],10)||0,blur:parseFloat(l[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var o=40,l=40,a=i.Object.NUM_FRACTION_DIGITS,c=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-f.angle)),g=20,d=new i.Color(this.color);return f.width&&f.height&&(o=h((Math.abs(c.x)+this.blur)/f.width,a)*100+g,l=h((Math.abs(c.y)+this.blur)/f.height,a)*100+g),f.flipX&&(c.x*=-1),f.flipY&&(c.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+l+'%" height="'+(100+2*l)+'%" x="-'+o+'%" width="'+(100+2*o)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,a)+`"></feGaussianBlur>
	<feOffset dx="`+h(c.x,a)+'" dy="'+h(c.y,a)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+d.toRgb()+'" flood-opacity="'+d.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},o=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(l){this[l]!==o[l]&&(f[l]=this[l])},this),f}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var u=t.util.object.extend,i=t.util.getElementOffset,h=t.util.removeFromArray,f=t.util.toFixed,o=t.util.transformPoint,l=t.util.invertTransform,a=t.util.getNodeCanvas,c=t.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(d,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(d,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(d,v){var _=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(d),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,_),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,_),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,_),v.overlayColor&&this.setOverlayColor(v.overlayColor,_),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var d=t.devicePixelRatio;this.__initRetinaScaling(d,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(d,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(d,v,_){v.setAttribute("width",this.width*d),v.setAttribute("height",this.height*d),_.scale(d,d)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(d,v,_){return this.__setBgOverlayImage("overlayImage",d,v,_)},setBackgroundImage:function(d,v,_){return this.__setBgOverlayImage("backgroundImage",d,v,_)},setOverlayColor:function(d,v){return this.__setBgOverlayColor("overlayColor",d,v)},setBackgroundColor:function(d,v){return this.__setBgOverlayColor("backgroundColor",d,v)},__setBgOverlayImage:function(d,v,_,b){return typeof v=="string"?t.util.loadImage(v,function(y,w){if(y){var C=new t.Image(y,b);this[d]=C,C.canvas=this}_&&_(y,w)},this,b&&b.crossOrigin):(b&&v.setOptions(b),this[d]=v,v&&(v.canvas=this),_&&_(v,!1)),this},__setBgOverlayColor:function(d,v,_){return this[d]=v,this._initGradient(v,d),this._initPattern(v,d,_),this},_createCanvasElement:function(){var d=c();if(!d||(d.style||(d.style={}),typeof d.getContext>"u"))throw g;return d},_initOptions:function(d){var v=this.lowerCanvasEl;this._setOptions(d),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(d){d&&d.getContext?this.lowerCanvasEl=d:this.lowerCanvasEl=t.util.getById(d)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(d,v){return this.setDimensions({width:d},v)},setHeight:function(d,v){return this.setDimensions({height:d},v)},setDimensions:function(d,v){var _;v=v||{};for(var b in d)_=d[b],v.cssOnly||(this._setBackstoreDimension(b,d[b]),_+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(b,_);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(d,v){return this.lowerCanvasEl[d]=v,this.upperCanvasEl&&(this.upperCanvasEl[d]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[d]=v),this[d]=v,this},_setCssDimension:function(d,v){return this.lowerCanvasEl.style[d]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[d]=v),this.wrapperEl&&(this.wrapperEl.style[d]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(d){var v=this._activeObject,_=this.backgroundImage,b=this.overlayImage,y,w,C;for(this.viewportTransform=d,w=0,C=this._objects.length;w<C;w++)y=this._objects[w],y.group||y.setCoords(!0);return v&&v.setCoords(),_&&_.setCoords(!0),b&&b.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(d,v){var _=d,b=this.viewportTransform.slice(0);d=o(d,l(this.viewportTransform)),b[0]=v,b[3]=v;var y=o(d,b);return b[4]+=_.x-y.x,b[5]+=_.y-y.y,this.setViewportTransform(b)},setZoom:function(d){return this.zoomToPoint(new t.Point(0,0),d),this},absolutePan:function(d){var v=this.viewportTransform.slice(0);return v[4]=-d.x,v[5]=-d.y,this.setViewportTransform(v)},relativePan:function(d){return this.absolutePan(new t.Point(-d.x-this.viewportTransform[4],-d.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(d){this.stateful&&d.setupState(),d._set("canvas",this),d.setCoords(),this.fire("object:added",{target:d}),d.fire("added")},_onObjectRemoved:function(d){this.fire("object:removed",{target:d}),d.fire("removed"),delete d.canvas},clearContext:function(d){return d.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var d=this.contextContainer;return this.renderCanvas(d,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var d={},v=this.width,_=this.height,b=l(this.viewportTransform);return d.tl=o({x:0,y:0},b),d.br=o({x:v,y:_},b),d.tr=new t.Point(d.br.x,d.tl.y),d.bl=new t.Point(d.tl.x,d.br.y),this.vptCoords=d,d},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(d,v){var _=this.viewportTransform,b=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(d),t.util.setImageSmoothing(d,this.imageSmoothingEnabled),this.fire("before:render",{ctx:d}),this._renderBackground(d),d.save(),d.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._renderObjects(d,v),d.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(d),b&&(b.canvas=this,b.shouldCache(),b._transformDone=!0,b.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(d)),this._renderOverlay(d),this.controlsAboveOverlay&&this.interactive&&this.drawControls(d),this.fire("after:render",{ctx:d})},drawClipPathOnCanvas:function(d){var v=this.viewportTransform,_=this.clipPath;d.save(),d.transform(v[0],v[1],v[2],v[3],v[4],v[5]),d.globalCompositeOperation="destination-in",_.transform(d),d.scale(1/_.zoomX,1/_.zoomY),d.drawImage(_._cacheCanvas,-_.cacheTranslationX,-_.cacheTranslationY),d.restore()},_renderObjects:function(d,v){var _,b;for(_=0,b=v.length;_<b;++_)v[_]&&v[_].render(d)},_renderBackgroundOrOverlay:function(d,v){var _=this[v+"Color"],b=this[v+"Image"],y=this.viewportTransform,w=this[v+"Vpt"];if(!(!_&&!b)){if(_){d.save(),d.beginPath(),d.moveTo(0,0),d.lineTo(this.width,0),d.lineTo(this.width,this.height),d.lineTo(0,this.height),d.closePath(),d.fillStyle=_.toLive?_.toLive(d,this):_,w&&d.transform(y[0],y[1],y[2],y[3],y[4],y[5]),d.transform(1,0,0,1,_.offsetX||0,_.offsetY||0);var C=_.gradientTransform||_.patternTransform;C&&d.transform(C[0],C[1],C[2],C[3],C[4],C[5]),d.fill(),d.restore()}b&&(d.save(),w&&d.transform(y[0],y[1],y[2],y[3],y[4],y[5]),b.render(d),d.restore())}},_renderBackground:function(d){this._renderBackgroundOrOverlay(d,"background")},_renderOverlay:function(d){this._renderBackgroundOrOverlay(d,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(d){return this._centerObject(d,new t.Point(this.getCenterPoint().x,d.getCenterPoint().y))},centerObjectV:function(d){return this._centerObject(d,new t.Point(d.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(d){var v=this.getCenterPoint();return this._centerObject(d,v)},viewportCenterObject:function(d){var v=this.getVpCenter();return this._centerObject(d,v)},viewportCenterObjectH:function(d){var v=this.getVpCenter();return this._centerObject(d,new t.Point(v.x,d.getCenterPoint().y)),this},viewportCenterObjectV:function(d){var v=this.getVpCenter();return this._centerObject(d,new t.Point(d.getCenterPoint().x,v.y))},getVpCenter:function(){var d=this.getCenterPoint(),v=l(this.viewportTransform);return o(d,v)},_centerObject:function(d,v){return d.setPositionByOrigin(v,"center","center"),d.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(d){return this.toDatalessObject(d)},toObject:function(d){return this._toObjectMethod("toObject",d)},toDatalessObject:function(d){return this._toObjectMethod("toDatalessObject",d)},_toObjectMethod:function(d,v){var _=this.clipPath,b={version:t.version,objects:this._toObjects(d,v)};return _&&!_.excludeFromExport&&(b.clipPath=this._toObject(this.clipPath,d,v)),u(b,this.__serializeBgOverlay(d,v)),t.util.populateWithProperties(this,b,v),b},_toObjects:function(d,v){return this._objects.filter(function(_){return!_.excludeFromExport}).map(function(_){return this._toObject(_,d,v)},this)},_toObject:function(d,v,_){var b;this.includeDefaultValues||(b=d.includeDefaultValues,d.includeDefaultValues=!1);var y=d[v](_);return this.includeDefaultValues||(d.includeDefaultValues=b),y},__serializeBgOverlay:function(d,v){var _={},b=this.backgroundImage,y=this.overlayImage,w=this.backgroundColor,C=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(_.background=w.toObject(v)):w&&(_.background=w),C&&C.toObject?C.excludeFromExport||(_.overlay=C.toObject(v)):C&&(_.overlay=C),b&&!b.excludeFromExport&&(_.backgroundImage=this._toObject(b,d,v)),y&&!y.excludeFromExport&&(_.overlayImage=this._toObject(y,d,v)),_},svgViewportTransformation:!0,toSVG:function(d,v){d||(d={}),d.reviver=v;var _=[];return this._setSVGPreamble(_,d),this._setSVGHeader(_,d),this.clipPath&&_.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(_,"background"),this._setSVGBgOverlayImage(_,"backgroundImage",v),this._setSVGObjects(_,v),this.clipPath&&_.push(`</g>
`),this._setSVGBgOverlayColor(_,"overlay"),this._setSVGBgOverlayImage(_,"overlayImage",v),_.push("</svg>"),_.join("")},_setSVGPreamble:function(d,v){v.suppressPreamble||d.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(d,v){var _=v.width||this.width,b=v.height||this.height,y,w='viewBox="0 0 '+this.width+" "+this.height+'" ',C=t.Object.NUM_FRACTION_DIGITS;v.viewBox?w='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(y=this.viewportTransform,w='viewBox="'+f(-y[4]/y[0],C)+" "+f(-y[5]/y[3],C)+" "+f(this.width/y[0],C)+" "+f(this.height/y[3],C)+'" '),d.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',_,'" ','height="',b,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(d){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(d.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var d=this,v=["background","overlay"].map(function(_){var b=d[_+"Color"];if(b&&b.toLive){var y=d[_+"Vpt"],w=d.viewportTransform,C={width:d.width/(y?w[0]:1),height:d.height/(y?w[3]:1)};return b.toSVG(C,{additionalTransform:y?t.util.matrixToSVG(w):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var d="",v={},_,b,y,w,C,S,T,j,W,V=t.fontPaths,H=[];for(this._objects.forEach(function se(le){H.push(le),le._objects&&le._objects.forEach(se)}),j=0,W=H.length;j<W;j++)if(_=H[j],b=_.fontFamily,!(_.type.indexOf("text")===-1||v[b]||!V[b])&&(v[b]=!0,!!_.styles)){y=_.styles;for(C in y){w=y[C];for(T in w)S=w[T],b=S.fontFamily,!v[b]&&V[b]&&(v[b]=!0)}}for(var Q in v)d+=[`		@font-face {
`,"			font-family: '",Q,`';
`,"			src: url('",V[Q],`');
`,`		}
`].join("");return d&&(d=['	<style type="text/css">',`<![CDATA[
`,d,"]]>",`</style>
`].join("")),d},_setSVGObjects:function(d,v){var _,b,y,w=this._objects;for(b=0,y=w.length;b<y;b++)_=w[b],!_.excludeFromExport&&this._setSVGObject(d,_,v)},_setSVGObject:function(d,v,_){d.push(v.toSVG(_))},_setSVGBgOverlayImage:function(d,v,_){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&d.push(this[v].toSVG(_))},_setSVGBgOverlayColor:function(d,v){var _=this[v+"Color"],b=this.viewportTransform,y=this.width,w=this.height;if(_)if(_.toLive){var C=_.repeat,S=t.util.invertTransform(b),T=this[v+"Vpt"],j=T?t.util.matrixToSVG(S):"";d.push('<rect transform="'+j+" translate(",y/2,",",w/2,')"',' x="',_.offsetX-y/2,'" y="',_.offsetY-w/2,'" ','width="',C==="repeat-y"||C==="no-repeat"?_.source.width:y,'" height="',C==="repeat-x"||C==="no-repeat"?_.source.height:w,'" fill="url(#SVGID_'+_.id+')"',`></rect>
`)}else d.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',_,'"',`></rect>
`)},sendToBack:function(d){if(!d)return this;var v=this._activeObject,_,b,y;if(d===v&&d.type==="activeSelection")for(y=v._objects,_=y.length;_--;)b=y[_],h(this._objects,b),this._objects.unshift(b);else h(this._objects,d),this._objects.unshift(d);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(d){if(!d)return this;var v=this._activeObject,_,b,y;if(d===v&&d.type==="activeSelection")for(y=v._objects,_=0;_<y.length;_++)b=y[_],h(this._objects,b),this._objects.push(b);else h(this._objects,d),this._objects.push(d);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(d,v){if(!d)return this;var _=this._activeObject,b,y,w,C,S,T=0;if(d===_&&d.type==="activeSelection")for(S=_._objects,b=0;b<S.length;b++)y=S[b],w=this._objects.indexOf(y),w>0+T&&(C=w-1,h(this._objects,y),this._objects.splice(C,0,y)),T++;else w=this._objects.indexOf(d),w!==0&&(C=this._findNewLowerIndex(d,w,v),h(this._objects,d),this._objects.splice(C,0,d));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(d,v,_){var b,y;if(_)for(b=v,y=v-1;y>=0;--y){var w=d.intersectsWithObject(this._objects[y])||d.isContainedWithinObject(this._objects[y])||this._objects[y].isContainedWithinObject(d);if(w){b=y;break}}else b=v-1;return b},bringForward:function(d,v){if(!d)return this;var _=this._activeObject,b,y,w,C,S,T=0;if(d===_&&d.type==="activeSelection")for(S=_._objects,b=S.length;b--;)y=S[b],w=this._objects.indexOf(y),w<this._objects.length-1-T&&(C=w+1,h(this._objects,y),this._objects.splice(C,0,y)),T++;else w=this._objects.indexOf(d),w!==this._objects.length-1&&(C=this._findNewUpperIndex(d,w,v),h(this._objects,d),this._objects.splice(C,0,d));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(d,v,_){var b,y,w;if(_)for(b=v,y=v+1,w=this._objects.length;y<w;++y){var C=d.intersectsWithObject(this._objects[y])||d.isContainedWithinObject(this._objects[y])||this._objects[y].isContainedWithinObject(d);if(C){b=y;break}}else b=v+1;return b},moveTo:function(d,v){return h(this._objects,d),this._objects.splice(v,0,d),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(d){d.dispose&&d.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),u(t.StaticCanvas.prototype,t.Observable),u(t.StaticCanvas.prototype,t.Collection),u(t.StaticCanvas.prototype,t.DataURLExporter),u(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(d){var v=c();if(!v||!v.getContext)return null;var _=v.getContext("2d");if(!_)return null;switch(d){case"setLineDash":return typeof _.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var d=a(this.lowerCanvasEl);return d&&d.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(d){var v=a(this.lowerCanvasEl);return v&&v.createJPEGStream(d)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(u){u.strokeStyle=this.color,u.lineWidth=this.width,u.lineCap=this.strokeLineCap,u.miterLimit=this.strokeMiterLimit,u.lineJoin=this.strokeLineJoin,u.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(u){var i=this.canvas.viewportTransform;u.save(),u.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var u=this.canvas,i=this.shadow,h=u.contextTop,f=u.getZoom();u&&u._isRetinaScaling()&&(f*=t.devicePixelRatio),h.shadowColor=i.color,h.shadowBlur=i.blur*f,h.shadowOffsetX=i.offsetX*f,h.shadowOffsetY=i.offsetY*f}},needsFullRender:function(){var u=new t.Color(this.color);return u.getAlpha()<1||!!this.shadow},_resetShadow:function(){var u=this.canvas.contextTop;u.shadowColor="",u.shadowBlur=u.shadowOffsetX=u.shadowOffsetY=0},_isOutSideCanvas:function(u){return u.x<0||u.x>this.canvas.getWidth()||u.y<0||u.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(u){this.canvas=u,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(u,i,h){var f=i.midPointFrom(h);return u.quadraticCurveTo(i.x,i.y,f.x,f.y),f},onMouseDown:function(u,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(u),this._captureDrawingPath(u),this._render())},onMouseMove:function(u,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u))&&this._captureDrawingPath(u)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,f=h.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,h[f-2],h[f-1],!0),o.stroke(),o.restore()}},onMouseUp:function(u){return this.canvas._isMainEvent(u.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(u){var i=new t.Point(u.x,u.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(u){return this._points.length>1&&u.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(u),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(u){var i=new t.Point(u.x,u.y);return this._addPoint(i)},_render:function(u){var i,h,f=this._points[0],o=this._points[1];if(u=u||this.canvas.contextTop,this._saveAndTransform(u),u.beginPath(),this._points.length===2&&f.x===o.x&&f.y===o.y){var l=this.width/1e3;f=new t.Point(f.x,f.y),o=new t.Point(o.x,o.y),f.x-=l,o.x+=l}for(u.moveTo(f.x,f.y),i=1,h=this._points.length;i<h;i++)this._drawSegment(u,f,o),f=this._points[i],o=this._points[i+1];u.lineTo(f.x,f.y),u.stroke(),u.restore()},convertPointsToSVGPath:function(u){var i=this.width/1e3;return t.util.getSmoothPathFromPoints(u,i)},_isEmptySVGPath:function(u){var i=t.util.joinPath(u);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(u){var i=new t.Path(u,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new t.Shadow(this.shadow)),i},decimatePoints:function(u,i){if(u.length<=2)return u;var h=this.canvas.getZoom(),f=Math.pow(i/h,2),o,l=u.length-1,a=u[0],c=[a],g;for(o=1;o<l-1;o++)g=Math.pow(a.x-u[o].x,2)+Math.pow(a.y-u[o].y,2),g>=f&&(a=u[o],c.push(a));return c.push(u[l]),c},_finalizeAndAddPath:function(){var u=this.canvas.contextTop;u.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var h=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(u){this.canvas=u,this.points=[]},drawDot:function(u){var i=this.addPoint(u),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,i),h.restore()},dot:function(u,i){u.fillStyle=i.fill,u.beginPath(),u.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),u.closePath(),u.fill()},onMouseDown:function(u){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(u)},_render:function(){var u=this.canvas.contextTop,i,h,f=this.points;for(this._saveAndTransform(u),i=0,h=f.length;i<h;i++)this.dot(u,f[i]);u.restore()},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(u),this._render()):this.drawDot(u))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove,i,h;this.canvas.renderOnAddRemove=!1;var f=[];for(i=0,h=this.points.length;i<h;i++){var o=this.points[i],l=new t.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(l.shadow=new t.Shadow(this.shadow)),f.push(l)}var a=new t.Group(f);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},addPoint:function(u){var i=new t.Point(u.x,u.y),h=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return i.radius=h,i.fill=f,this.points.push(i),i}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(u){this.canvas=u,this.sprayChunks=[]},onMouseDown:function(u){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(u),this.render(this.sprayChunkPoints)},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.addSprayChunk(u),this.render(this.sprayChunkPoints))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],h=0,f=this.sprayChunks.length;h<f;h++)for(var o=this.sprayChunks[h],l=0,a=o.length;l<a;l++){var c=new t.Rect({width:o[l].width,height:o[l].width,left:o[l].x+1,top:o[l].y+1,originX:"center",originY:"center",fill:this.color});i.push(c)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var g=new t.Group(i);this.shadow&&g.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},_getOptimizedRects:function(u){var i={},h,f,o;for(f=0,o=u.length;f<o;f++)h=u[f].left+""+u[f].top,i[h]||(i[h]=u[f]);var l=[];for(h in i)l.push(i[h]);return l},render:function(u){var i=this.canvas.contextTop,h,f;for(i.fillStyle=this.color,this._saveAndTransform(i),h=0,f=u.length;h<f;h++){var o=u[h];typeof o.opacity<"u"&&(i.globalAlpha=o.opacity),i.fillRect(o.x,o.y,o.width,o.width)}i.restore()},_render:function(){var u=this.canvas.contextTop,i,h;for(u.fillStyle=this.color,this._saveAndTransform(u),i=0,h=this.sprayChunks.length;i<h;i++)this.render(this.sprayChunks[i]);u.restore()},addSprayChunk:function(u){this.sprayChunkPoints=[];var i,h,f,o=this.width/2,l;for(l=0;l<this.density;l++){i=t.util.getRandomInt(u.x-o,u.x+o),h=t.util.getRandomInt(u.y-o,u.y+o),this.dotWidthVariance?f=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var a=new t.Point(i,h);a.width=f,this.randomOpacity&&(a.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var u=20,i=5,h=t.util.createCanvasElement(),f=h.getContext("2d");return h.width=h.height=u+i,f.fillStyle=this.color,f.beginPath(),f.arc(u/2,u/2,u/2,0,Math.PI*2,!1),f.closePath(),f.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(u){return u.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(u){this.callSuper("_setBrushStyles",u),u.strokeStyle=this.getPattern(u)},createPath:function(u){var i=this.callSuper("createPath",u),h=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),i}}),function(){var u=t.util.getPointer,i=t.util.degreesToRadians,h=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(o,l){l||(l={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,l),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var o=this.getActiveObjects(),l,a,c;if(o.length>0&&!this.preserveObjectStacking){a=[],c=[];for(var g=0,d=this._objects.length;g<d;g++)l=this._objects[g],o.indexOf(l)===-1?a.push(l):c.push(l);o.length>1&&(this._activeObject._objects=c),a.push.apply(a,c)}else a=this._objects;return a},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var o=this.contextContainer;return this.renderCanvas(o,this._chooseObjectsToRender()),this},renderTopLayer:function(o){o.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(o),this.contextTopDirty=!0),o.restore()},renderTop:function(){var o=this.contextTop;return this.clearContext(o),this.renderTopLayer(o),this.fire("after:render"),this},_normalizePointer:function(o,l){var a=o.calcTransformMatrix(),c=t.util.invertTransform(a),g=this.restorePointerVpt(l);return t.util.transformPoint(g,c)},isTargetTransparent:function(o,l,a){if(o.shouldCache()&&o._cacheCanvas&&o!==this._activeObject){var c=this._normalizePointer(o,{x:l,y:a}),g=Math.max(o.cacheTranslationX+c.x*o.zoomX,0),d=Math.max(o.cacheTranslationY+c.y*o.zoomY,0),y=t.util.isTransparent(o._cacheContext,Math.round(g),Math.round(d),this.targetFindTolerance);return y}var v=this.contextCache,_=o.selectionBackgroundColor,b=this.viewportTransform;o.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(b[0],b[1],b[2],b[3],b[4],b[5]),o.render(v),v.restore(),o.selectionBackgroundColor=_;var y=t.util.isTransparent(v,l,a,this.targetFindTolerance);return y},_isSelectionKeyPressed:function(o){var l=!1;return Array.isArray(this.selectionKey)?l=!!this.selectionKey.find(function(a){return o[a]===!0}):l=o[this.selectionKey],l},_shouldClearSelection:function(o,l){var a=this.getActiveObjects(),c=this._activeObject;return!l||l&&c&&a.length>1&&a.indexOf(l)===-1&&c!==l&&!this._isSelectionKeyPressed(o)||l&&!l.evented||l&&!l.selectable&&c&&c!==l},_shouldCenterTransform:function(o,l,a){if(o){var c;return l==="scale"||l==="scaleX"||l==="scaleY"||l==="resizing"?c=this.centeredScaling||o.centeredScaling:l==="rotate"&&(c=this.centeredRotation||o.centeredRotation),c?!a:a}},_getOriginFromCorner:function(o,l){var a={x:o.originX,y:o.originY};return l==="ml"||l==="tl"||l==="bl"?a.x="right":(l==="mr"||l==="tr"||l==="br")&&(a.x="left"),l==="tl"||l==="mt"||l==="tr"?a.y="bottom":(l==="bl"||l==="mb"||l==="br")&&(a.y="top"),a},_getActionFromCorner:function(o,l,a,c){if(!l||!o)return"drag";var g=c.controls[l];return g.getActionName(a,g,c)},_setupCurrentTransform:function(o,l,a){if(l){var c=this.getPointer(o),g=l.__corner,d=l.controls[g],v=a&&g?d.getActionHandler(o,l,d):t.controlsUtils.dragHandler,_=this._getActionFromCorner(a,g,o,l),b=this._getOriginFromCorner(l,g),y=o[this.centeredKey],w={target:l,action:_,actionHandler:v,corner:g,scaleX:l.scaleX,scaleY:l.scaleY,skewX:l.skewX,skewY:l.skewY,offsetX:c.x-l.left,offsetY:c.y-l.top,originX:b.x,originY:b.y,ex:c.x,ey:c.y,lastX:c.x,lastY:c.y,theta:i(l.angle),width:l.width*l.scaleX,shiftKey:o.shiftKey,altKey:y,original:t.util.saveObjectTransform(l)};this._shouldCenterTransform(l,_,y)&&(w.originX="center",w.originY="center"),w.original.originX=b.x,w.original.originY=b.y,this._currentTransform=w,this._beforeTransform(o)}},setCursor:function(o){this.upperCanvasEl.style.cursor=o},_drawSelection:function(o){var l=this._groupSelector,a=new t.Point(l.ex,l.ey),c=t.util.transformPoint(a,this.viewportTransform),g=new t.Point(l.ex+l.left,l.ey+l.top),d=t.util.transformPoint(g,this.viewportTransform),v=Math.min(c.x,d.x),_=Math.min(c.y,d.y),b=Math.max(c.x,d.x),y=Math.max(c.y,d.y),w=this.selectionLineWidth/2;this.selectionColor&&(o.fillStyle=this.selectionColor,o.fillRect(v,_,b-v,y-_)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(o.lineWidth=this.selectionLineWidth,o.strokeStyle=this.selectionBorderColor,v+=w,_+=w,b-=w,y-=w,t.Object.prototype._setLineDash.call(this,o,this.selectionDashArray),o.strokeRect(v,_,b-v,y-_))},findTarget:function(o,l){if(!this.skipTargetFind){var a=!0,c=this.getPointer(o,a),g=this._activeObject,d=this.getActiveObjects(),v,_,b=h(o),y=d.length>1&&!l||d.length===1;if(this.targets=[],y&&g._findTargetCorner(c,b)||d.length>1&&!l&&g===this._searchPossibleTargets([g],c))return g;if(d.length===1&&g===this._searchPossibleTargets([g],c))if(this.preserveObjectStacking)v=g,_=this.targets,this.targets=[];else return g;var w=this._searchPossibleTargets(this._objects,c);return o[this.altSelectionKey]&&w&&v&&w!==v&&(w=v,this.targets=_),w}},_checkTarget:function(o,l,a){if(l&&l.visible&&l.evented&&l.containsPoint(o))if((this.perPixelTargetFind||l.perPixelTargetFind)&&!l.isEditing){var c=this.isTargetTransparent(l,a.x,a.y);if(!c)return!0}else return!0},_searchPossibleTargets:function(o,l){for(var a,c=o.length,g;c--;){var d=o[c],v=d.group?this._normalizePointer(d.group,l):l;if(this._checkTarget(v,d,l)){a=o[c],a.subTargetCheck&&a instanceof t.Group&&(g=this._searchPossibleTargets(a._objects,l),g&&this.targets.push(g));break}}return a},restorePointerVpt:function(o){return t.util.transformPoint(o,t.util.invertTransform(this.viewportTransform))},getPointer:function(o,l){if(this._absolutePointer&&!l)return this._absolutePointer;if(this._pointer&&l)return this._pointer;var a=u(o),c=this.upperCanvasEl,g=c.getBoundingClientRect(),d=g.width||0,v=g.height||0,_;(!d||!v)&&("top"in g&&"bottom"in g&&(v=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(d=Math.abs(g.right-g.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,l||(a=this.restorePointerVpt(a));var b=this.getRetinaScaling();return b!==1&&(a.x/=b,a.y/=b),d===0||v===0?_={width:1,height:1}:_={width:c.width/d,height:c.height/v},{x:a.x*_.width,y:a.y*_.height}},_createUpperCanvas:function(){var o=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),l=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),t.util.addClass(a,"upper-canvas "+o),this.wrapperEl.appendChild(a),this._copyCanvasStyle(l,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(o){var l=this.width||o.width,a=this.height||o.height;t.util.setStyle(o,{position:"absolute",width:l+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),o.width=l,o.height=a,t.util.makeElementUnselectable(o)},_copyCanvasStyle:function(o,l){l.style.cssText=o.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var o=this._activeObject;return o?o.type==="activeSelection"&&o._objects?o._objects.slice(0):[o]:[]},_onObjectRemoved:function(o){o===this._activeObject&&(this.fire("before:selection:cleared",{target:o}),this._discardActiveObject(),this.fire("selection:cleared",{target:o}),o.fire("deselected")),o===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",o)},_fireSelectionEvents:function(o,l){var a=!1,c=this.getActiveObjects(),g=[],d=[];o.forEach(function(v){c.indexOf(v)===-1&&(a=!0,v.fire("deselected",{e:l,target:v}),d.push(v))}),c.forEach(function(v){o.indexOf(v)===-1&&(a=!0,v.fire("selected",{e:l,target:v}),g.push(v))}),o.length>0&&c.length>0?a&&this.fire("selection:updated",{e:l,selected:g,deselected:d}):c.length>0?this.fire("selection:created",{e:l,selected:g}):o.length>0&&this.fire("selection:cleared",{e:l,deselected:d})},setActiveObject:function(o,l){var a=this.getActiveObjects();return this._setActiveObject(o,l),this._fireSelectionEvents(a,l),this},_setActiveObject:function(o,l){return this._activeObject===o||!this._discardActiveObject(l,o)||o.onSelect({e:l})?!1:(this._activeObject=o,!0)},_discardActiveObject:function(o,l){var a=this._activeObject;if(a){if(a.onDeselect({e:o,object:l}))return!1;this._activeObject=null}return!0},discardActiveObject:function(o){var l=this.getActiveObjects(),a=this.getActiveObject();return l.length&&this.fire("before:selection:cleared",{target:a,e:o}),this._discardActiveObject(o),this._fireSelectionEvents(l,o),this},dispose:function(){var o=this.wrapperEl;return this.removeListeners(),o.removeChild(this.upperCanvasEl),o.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(l){t.util.cleanUpJsdomNode(this[l]),this[l]=void 0}).bind(this)),o.parentNode&&o.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(o){var l=this._activeObject;l&&l._renderControls(o)},_toObject:function(o,l,a){var c=this._realizeGroupTransformOnObject(o),g=this.callSuper("_toObject",o,l,a);return this._unwindGroupTransformOnObject(o,c),g},_realizeGroupTransformOnObject:function(o){if(o.group&&o.group.type==="activeSelection"&&this._activeObject===o.group){var l=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],a={};return l.forEach(function(c){a[c]=o[c]}),t.util.addTransformToObject(o,this._activeObject.calcOwnMatrix()),a}else return null},_unwindGroupTransformOnObject:function(o,l){l&&o.set(l)},_setSVGObject:function(o,l,a){var c=this._realizeGroupTransformOnObject(l);this.callSuper("_setSVGObject",o,l,a),this._unwindGroupTransformOnObject(l,c)},setViewportTransform:function(o){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,o)}});for(var f in t.StaticCanvas)f!=="prototype"&&(t.Canvas[f]=t.StaticCanvas[f])}(),function(){var u=t.util.addListener,i=t.util.removeListener,h=3,f=2,o=1,l={passive:!1};function a(c,g){return c.button&&c.button===g-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(u,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(c,g){var d=this.upperCanvasEl,v=this._getEventPrefix();c(t.window,"resize",this._onResize),c(d,v+"down",this._onMouseDown),c(d,v+"move",this._onMouseMove,l),c(d,v+"out",this._onMouseOut),c(d,v+"enter",this._onMouseEnter),c(d,"wheel",this._onMouseWheel),c(d,"contextmenu",this._onContextMenu),c(d,"dblclick",this._onDoubleClick),c(d,"dragover",this._onDragOver),c(d,"dragenter",this._onDragEnter),c(d,"dragleave",this._onDragLeave),c(d,"drop",this._onDrop),this.enablePointerEvents||c(d,"touchstart",this._onTouchStart,l),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](d,"gesture",this._onGesture),eventjs[g](d,"drag",this._onDrag),eventjs[g](d,"orientation",this._onOrientationChange),eventjs[g](d,"shake",this._onShake),eventjs[g](d,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var c=this._getEventPrefix();i(t.document,c+"up",this._onMouseUp),i(t.document,"touchend",this._onTouchEnd,l),i(t.document,c+"move",this._onMouseMove,l),i(t.document,"touchmove",this._onMouseMove,l)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(c,g){this.__onTransformGesture&&this.__onTransformGesture(c,g)},_onDrag:function(c,g){this.__onDrag&&this.__onDrag(c,g)},_onMouseWheel:function(c){this.__onMouseWheel(c)},_onMouseOut:function(c){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:c}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:c});var d=this;this._hoveredTargets.forEach(function(v){d.fire("mouse:out",{target:g,e:c}),v&&g.fire("mouseout",{e:c})}),this._hoveredTargets=[]},_onMouseEnter:function(c){!this._currentTransform&&!this.findTarget(c)&&(this.fire("mouse:over",{target:null,e:c}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(c,g){this.__onOrientationChange&&this.__onOrientationChange(c,g)},_onShake:function(c,g){this.__onShake&&this.__onShake(c,g)},_onLongPress:function(c,g){this.__onLongPress&&this.__onLongPress(c,g)},_onDragOver:function(c){c.preventDefault();var g=this._simpleEventHandler("dragover",c);this._fireEnterLeaveEvents(g,c)},_onDrop:function(c){return this._simpleEventHandler("drop:before",c),this._simpleEventHandler("drop",c)},_onContextMenu:function(c){return this.stopContextMenu&&(c.stopPropagation(),c.preventDefault()),!1},_onDoubleClick:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"dblclick"),this._resetTransformEventData(c)},getPointerId:function(c){var g=c.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?c.pointerId:-1},_isMainEvent:function(c){return c.isPrimary===!0?!0:c.isPrimary===!1?!1:c.type==="touchend"&&c.touches.length===0?!0:c.changedTouches?c.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(c){c.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(c)),this.__onMouseDown(c),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();u(t.document,"touchend",this._onTouchEnd,l),u(t.document,"touchmove",this._onMouseMove,l),i(g,d+"down",this._onMouseDown)},_onMouseDown:function(c){this.__onMouseDown(c),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();i(g,d+"move",this._onMouseMove,l),u(t.document,d+"up",this._onMouseUp),u(t.document,d+"move",this._onMouseMove,l)},_onTouchEnd:function(c){if(!(c.touches.length>0)){this.__onMouseUp(c),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();i(t.document,"touchend",this._onTouchEnd,l),i(t.document,"touchmove",this._onMouseMove,l);var d=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){u(d.upperCanvasEl,g+"down",d._onMouseDown),d._willAddMouseDown=0},400)}},_onMouseUp:function(c){this.__onMouseUp(c),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();this._isMainEvent(c)&&(i(t.document,d+"up",this._onMouseUp),i(t.document,d+"move",this._onMouseMove,l),u(g,d+"move",this._onMouseMove,l))},_onMouseMove:function(c){!this.allowTouchScrolling&&c.preventDefault&&c.preventDefault(),this.__onMouseMove(c)},_onResize:function(){this.calcOffset()},_shouldRender:function(c){var g=this._activeObject;return!!g!=!!c||g&&c&&g!==c?!0:(g&&g.isEditing,!1)},__onMouseUp:function(c){var g,d=this._currentTransform,v=this._groupSelector,_=!1,b=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(c),g=this._target,this._handleEvent(c,"up:before"),a(c,h)){this.fireRightClick&&this._handleEvent(c,"up",h,b);return}if(a(c,f)){this.fireMiddleClick&&this._handleEvent(c,"up",f,b),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(c);return}if(this._isMainEvent(c)){if(d&&(this._finalizeCurrentTransform(c),_=d.actionPerformed),!b){var y=g===this._activeObject;this._maybeGroupObjects(c),_||(_=this._shouldRender(g)||!y&&g===this._activeObject)}var w,C;if(g){if(w=g._findTargetCorner(this.getPointer(c,!0),t.util.isTouchEvent(c)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,c),_=!0;else{var S=g.controls[w],T=S&&S.getMouseUpHandler(c,g,S);T&&(C=this.getPointer(c),T(c,d,C.x,C.y))}g.isMoving=!1}if(d&&(d.target!==g||d.corner!==w)){var j=d.target&&d.target.controls[d.corner],W=j&&j.getMouseUpHandler(c,g,S);C=C||this.getPointer(c),W&&W(c,d,C.x,C.y)}this._setCursorFromEvent(c,g),this._handleEvent(c,"up",o,b),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),_?this.requestRenderAll():b||this.renderTop()}},_simpleEventHandler:function(c,g){var d=this.findTarget(g),v=this.targets,_={e:g,target:d,subTargets:v};if(this.fire(c,_),d&&d.fire(c,_),!v)return d;for(var b=0;b<v.length;b++)v[b].fire(c,_);return d},_handleEvent:function(c,g,d,v){var _=this._target,b=this.targets||[],y={e:c,target:_,subTargets:b,button:d||o,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(y.currentTarget=this.findTarget(c),y.currentSubTargets=this.targets),this.fire("mouse:"+g,y),_&&_.fire("mouse"+g,y);for(var w=0;w<b.length;w++)b[w].fire("mouse"+g,y)},_finalizeCurrentTransform:function(c){var g=this._currentTransform,d=g.target,v={e:c,target:d,transform:g,action:g.action};d._scaling&&(d._scaling=!1),d.setCoords(),(g.actionPerformed||this.stateful&&d.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(c){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(c).requestRenderAll();var g=this.getPointer(c);this.freeDrawingBrush.onMouseDown(g,{e:c,pointer:g}),this._handleEvent(c,"down")},_onMouseMoveInDrawingMode:function(c){if(this._isCurrentlyDrawing){var g=this.getPointer(c);this.freeDrawingBrush.onMouseMove(g,{e:c,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(c,"move")},_onMouseUpInDrawingMode:function(c){var g=this.getPointer(c);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:c,pointer:g}),this._handleEvent(c,"up")},__onMouseDown:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"down:before");var g=this._target;if(a(c,h)){this.fireRightClick&&this._handleEvent(c,"down",h);return}if(a(c,f)){this.fireMiddleClick&&this._handleEvent(c,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(c);return}if(this._isMainEvent(c)&&!this._currentTransform){var d=this._pointer;this._previousPointer=d;var v=this._shouldRender(g),_=this._shouldGroup(c,g);if(this._shouldClearSelection(c,g)?this.discardActiveObject(c):_&&(this._handleGrouping(c,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var b=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,c);var y=g._findTargetCorner(this.getPointer(c,!0),t.util.isTouchEvent(c));if(g.__corner=y,g===this._activeObject&&(y||!_)){this._setupCurrentTransform(c,g,b);var w=g.controls[y],d=this.getPointer(c),C=w&&w.getMouseDownHandler(c,g,w);C&&C(c,this._currentTransform,d.x,d.y)}}this._handleEvent(c,"down"),(v||_)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(c){this._resetTransformEventData(),this._pointer=this.getPointer(c,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(c)||null},_beforeTransform:function(c){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:c,transform:g})},__onMouseMove:function(c){this._handleEvent(c,"move:before"),this._cacheTransformEventData(c);var g,d;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(c);return}if(this._isMainEvent(c)){var v=this._groupSelector;v?(d=this._absolutePointer,v.left=d.x-v.ex,v.top=d.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(c):(g=this.findTarget(c)||null,this._setCursorFromEvent(c,g),this._fireOverOutEvents(g,c)),this._handleEvent(c,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(c,g){var d=this._hoveredTarget,v=this._hoveredTargets,_=this.targets,b=Math.max(v.length,_.length);this.fireSyntheticInOutEvents(c,g,{oldTarget:d,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var y=0;y<b;y++)this.fireSyntheticInOutEvents(_[y],g,{oldTarget:v[y],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=c,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(c,g){var d=this._draggedoverTarget,v=this._hoveredTargets,_=this.targets,b=Math.max(v.length,_.length);this.fireSyntheticInOutEvents(c,g,{oldTarget:d,evtOut:"dragleave",evtIn:"dragenter"});for(var y=0;y<b;y++)this.fireSyntheticInOutEvents(_[y],g,{oldTarget:v[y],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=c},fireSyntheticInOutEvents:function(c,g,d){var v,_,b=d.oldTarget,y,w,C=b!==c,S=d.canvasEvtIn,T=d.canvasEvtOut;C&&(v={e:g,target:c,previousTarget:b},_={e:g,target:b,nextTarget:c}),w=c&&C,y=b&&C,y&&(T&&this.fire(T,_),b.fire(d.evtOut,_)),w&&(S&&this.fire(S,v),c.fire(d.evtIn,v))},__onMouseWheel:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"wheel"),this._resetTransformEventData()},_transformObject:function(c){var g=this.getPointer(c),d=this._currentTransform;d.reset=!1,d.shiftKey=c.shiftKey,d.altKey=c[this.centeredKey],this._performTransformAction(c,d,g),d.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(c,g,d){var v=d.x,_=d.y,b=g.action,y=!1,w=g.actionHandler;w&&(y=w(c,g,v,_)),b==="drag"&&y&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||y},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(c,g){if(!g)return this.setCursor(this.defaultCursor),!1;var d=g.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,_=(!v||!v.contains(g))&&g._findTargetCorner(this.getPointer(c,!0));_?this.setCursor(this.getCornerCursor(_,g,c)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(b){d=b.hoverCursor||d}),this.setCursor(d))},getCornerCursor:function(c,g,d){var v=g.controls[c];return v.cursorStyleHandler(d,v,g)}})}(),function(){var u=Math.min,i=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(h,f){var o=this._activeObject;return o&&this._isSelectionKeyPressed(h)&&f&&f.selectable&&this.selection&&(o!==f||o.type==="activeSelection")&&!f.onSelect({e:h})},_handleGrouping:function(h,f){var o=this._activeObject;o.__corner||f===o&&(f=this.findTarget(h,!0),!f||!f.selectable)||(o&&o.type==="activeSelection"?this._updateActiveSelection(f,h):this._createActiveSelection(f,h))},_updateActiveSelection:function(h,f){var o=this._activeObject,l=o._objects.slice(0);o.contains(h)?(o.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),o.size()===1&&this._setActiveObject(o.item(0),f)):(o.addWithUpdate(h),this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(l,f)},_createActiveSelection:function(h,f){var o=this.getActiveObjects(),l=this._createGroup(h);this._hoveredTarget=l,this._setActiveObject(l,f),this._fireSelectionEvents(o,f)},_createGroup:function(h){var f=this._objects,o=f.indexOf(this._activeObject)<f.indexOf(h),l=o?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(l,{canvas:this})},_groupSelectedObjects:function(h){var f=this._collectObjects(h),o;f.length===1?this.setActiveObject(f[0],h):f.length>1&&(o=new t.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(o,h))},_collectObjects:function(h){for(var f=[],o,l=this._groupSelector.ex,a=this._groupSelector.ey,c=l+this._groupSelector.left,g=a+this._groupSelector.top,d=new t.Point(u(l,c),u(a,g)),v=new t.Point(i(l,c),i(a,g)),_=!this.selectionFullyContained,b=l===c&&a===g,y=this._objects.length;y--&&(o=this._objects[y],!(!(!o||!o.selectable||!o.visible)&&(_&&o.intersectsWithRect(d,v,!0)||o.isContainedWithinRect(d,v,!0)||_&&o.containsPoint(d,null,!0)||_&&o.containsPoint(v,null,!0))&&(f.push(o),b))););return f.length>1&&(f=f.filter(function(w){return!w.onSelect({e:h})})),f},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(u){u||(u={});var i=u.format||"png",h=u.quality||1,f=(u.multiplier||1)*(u.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(f,u);return t.util.toDataURL(o,i,h)},toCanvasElement:function(u,i){u=u||1,i=i||{};var h=(i.width||this.width)*u,f=(i.height||this.height)*u,o=this.getZoom(),l=this.width,a=this.height,c=o*u,g=this.viewportTransform,d=(g[4]-(i.left||0))*u,v=(g[5]-(i.top||0))*u,_=this.interactive,b=[c,0,0,c,d,v],y=this.enableRetinaScaling,w=t.util.createCanvasElement(),C=this.contextTop;return w.width=h,w.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=b,this.width=h,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=g,this.width=l,this.height=a,this.calcViewportBoundaries(),this.interactive=_,this.enableRetinaScaling=y,this.contextTop=C,w}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(u,i,h){if(u){var f=typeof u=="string"?JSON.parse(u):t.util.object.clone(u),o=this,l=f.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(c){o.clear(),o._setBgOverlay(f,function(){l?o._enlivenObjects([l],function(g){o.clipPath=g[0],o.__setupCanvas.call(o,f,c,a,i)}):o.__setupCanvas.call(o,f,c,a,i)})},h),this}},__setupCanvas:function(u,i,h,f){var o=this;i.forEach(function(l,a){o.insertAt(l,a)}),this.renderOnAddRemove=h,delete u.objects,delete u.backgroundImage,delete u.overlayImage,delete u.background,delete u.overlay,this._setOptions(u),this.renderAll(),f&&f()},_setBgOverlay:function(u,i){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!u.backgroundImage&&!u.overlayImage&&!u.background&&!u.overlay){i&&i();return}var f=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",u.backgroundImage,h,f),this.__setBgOverlay("overlayImage",u.overlayImage,h,f),this.__setBgOverlay("backgroundColor",u.background,h,f),this.__setBgOverlay("overlayColor",u.overlay,h,f)},__setBgOverlay:function(u,i,h,f){var o=this;if(!i){h[u]=!0,f&&f();return}u==="backgroundImage"||u==="overlayImage"?t.util.enlivenObjects([i],function(l){o[u]=l[0],h[u]=!0,f&&f()}):this["set"+t.util.string.capitalize(u,!0)](i,function(){h[u]=!0,f&&f()})},_enlivenObjects:function(u,i,h){if(!u||u.length===0){i&&i([]);return}t.util.enlivenObjects(u,function(f){i&&i(f)},null,h)},_toDataURL:function(u,i){this.clone(function(h){i(h.toDataURL(u))})},_toDataURLWithMultiplier:function(u,i,h){this.clone(function(f){h(f.toDataURLWithMultiplier(u,i))})},clone:function(u,i){var h=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(f){f.loadFromJSON(h,function(){u&&u(f)})})},cloneWithoutData:function(u){var i=t.util.createCanvasElement();i.width=this.width,i.height=this.height;var h=new t.Canvas(i);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),u&&u(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):u&&u(h)}}),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,f=i.util.object.clone,o=i.util.toFixed,l=i.util.string.capitalize,a=i.util.degreesToRadians,c=!i.isLikelyNode,g=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:c,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(d){d&&this.setOptions(d)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(d){var v=i.perfLimitSizeTotal,_=d.width,b=d.height,y=i.maxCacheSideLimit,w=i.minCacheSideLimit;if(_<=y&&b<=y&&_*b<=v)return _<w&&(d.width=w),b<w&&(d.height=w),d;var C=_/b,S=i.util.limitDimsByArea(C,v),T=i.util.capValue,j=T(w,S.x,y),W=T(w,S.y,y);return _>j&&(d.zoomX/=_/j,d.width=j,d.capped=!0),b>W&&(d.zoomY/=b/W,d.height=W,d.capped=!0),d},_getCacheCanvasDimensions:function(){var d=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),_=v.x*d.scaleX/this.scaleX,b=v.y*d.scaleY/this.scaleY;return{width:_+g,height:b+g,zoomX:d.scaleX,zoomY:d.scaleY,x:_,y:b}},_updateCacheCanvas:function(){var d=this.canvas;if(this.noScaleCache&&d&&d._currentTransform){var v=d._currentTransform.target,_=d._currentTransform.action;if(this===v&&_.slice&&_.slice(0,5)==="scale")return!1}var b=this._cacheCanvas,y=this._limitCacheSize(this._getCacheCanvasDimensions()),w=i.minCacheSideLimit,C=y.width,S=y.height,T,j,W=y.zoomX,V=y.zoomY,H=C!==this.cacheWidth||S!==this.cacheHeight,Q=this.zoomX!==W||this.zoomY!==V,se=H||Q,le=0,ue=0,X=!1;if(H){var K=this._cacheCanvas.width,x=this._cacheCanvas.height,D=C>K||S>x,F=(C<K*.9||S<x*.9)&&K>w&&x>w;X=D||F,D&&!y.capped&&(C>w||S>w)&&(le=C*.1,ue=S*.1)}return this instanceof i.Text&&this.path&&(se=!0,X=!0,le+=this.getHeightOfLine(0)*this.zoomX,ue+=this.getHeightOfLine(0)*this.zoomY),se?(X?(b.width=Math.ceil(C+le),b.height=Math.ceil(S+ue)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,b.width,b.height)),T=y.x/2,j=y.y/2,this.cacheTranslationX=Math.round(b.width/2-T)+T,this.cacheTranslationY=Math.round(b.height/2-j)+j,this.cacheWidth=C,this.cacheHeight=S,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(W,V),this.zoomX=W,this.zoomY=V,!0):!1},setOptions:function(d){this._setOptions(d),this._initGradient(d.fill,"fill"),this._initGradient(d.stroke,"stroke"),this._initPattern(d.fill,"fill"),this._initPattern(d.stroke,"stroke")},transform:function(d){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&d===this.canvas.contextTop,_=this.calcTransformMatrix(!v);d.transform(_[0],_[1],_[2],_[3],_[4],_[5])},toObject:function(d){var v=i.Object.NUM_FRACTION_DIGITS,_={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:o(this.left,v),top:o(this.top,v),width:o(this.width,v),height:o(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,v),scaleX:o(this.scaleX,v),scaleY:o(this.scaleY,v),angle:o(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,v),skewY:o(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(_.clipPath=this.clipPath.toObject(d),_.clipPath.inverted=this.clipPath.inverted,_.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,_,d),this.includeDefaultValues||(_=this._removeDefaultValues(_)),_},toDatalessObject:function(d){return this.toObject(d)},_removeDefaultValues:function(d){var v=i.util.getKlass(d.type).prototype,_=v.stateProperties;return _.forEach(function(b){b==="left"||b==="top"||(d[b]===v[b]&&delete d[b],Array.isArray(d[b])&&Array.isArray(v[b])&&d[b].length===0&&v[b].length===0&&delete d[b])}),d},toString:function(){return"#<fabric."+l(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var d=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(d.scaleX),scaleY:Math.abs(d.scaleY)}},getTotalObjectScaling:function(){var d=this.getObjectScaling(),v=d.scaleX,_=d.scaleY;if(this.canvas){var b=this.canvas.getZoom(),y=this.canvas.getRetinaScaling();v*=b*y,_*=b*y}return{scaleX:v,scaleY:_}},getObjectOpacity:function(){var d=this.opacity;return this.group&&(d*=this.group.getObjectOpacity()),d},_set:function(d,v){var _=d==="scaleX"||d==="scaleY",b=this[d]!==v,y=!1;return _&&(v=this._constrainScale(v)),d==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):d==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):d==="shadow"&&v&&!(v instanceof i.Shadow)?v=new i.Shadow(v):d==="dirty"&&this.group&&this.group.set("dirty",v),this[d]=v,b&&(y=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(d)>-1?(this.dirty=!0,y&&this.group.set("dirty",!0)):y&&this.stateProperties.indexOf(d)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(d){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(d.save(),this._setupCompositeOperation(d),this.drawSelectionBackground(d),this.transform(d),this._setOpacity(d),this._setShadow(d,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(d)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(d),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),d.restore())},renderCache:function(d){d=d||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,d.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(d,v){if(d.save(),v.inverted?d.globalCompositeOperation="destination-out":d.globalCompositeOperation="destination-in",v.absolutePositioned){var _=i.util.invertTransform(this.calcTransformMatrix());d.transform(_[0],_[1],_[2],_[3],_[4],_[5])}v.transform(d),d.scale(1/v.zoomX,1/v.zoomY),d.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),d.restore()},drawObject:function(d,v){var _=this.fill,b=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(d)):this._renderBackground(d),this._render(d),this._drawClipPath(d,this.clipPath),this.fill=_,this.stroke=b},_drawClipPath:function(d,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(d,v))},drawCacheOnCanvas:function(d){d.scale(1/this.zoomX,1/this.zoomY),d.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(d){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!d&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!d){var v=this.cacheWidth/this.zoomX,_=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-_/2,v,_)}return!0}return!1},_renderBackground:function(d){if(this.backgroundColor){var v=this._getNonTransformedDimensions();d.fillStyle=this.backgroundColor,d.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(d)}},_setOpacity:function(d){this.group&&!this.group._transformDone?d.globalAlpha=this.getObjectOpacity():d.globalAlpha*=this.opacity},_setStrokeStyles:function(d,v){var _=v.stroke;_&&(d.lineWidth=v.strokeWidth,d.lineCap=v.strokeLineCap,d.lineDashOffset=v.strokeDashOffset,d.lineJoin=v.strokeLineJoin,d.miterLimit=v.strokeMiterLimit,_.toLive?_.gradientUnits==="percentage"||_.gradientTransform||_.patternTransform?this._applyPatternForTransformedGradient(d,_):(d.strokeStyle=_.toLive(d,this),this._applyPatternGradientTransform(d,_)):d.strokeStyle=v.stroke)},_setFillStyles:function(d,v){var _=v.fill;_&&(_.toLive?(d.fillStyle=_.toLive(d,this),this._applyPatternGradientTransform(d,v.fill)):d.fillStyle=_)},_setClippingProperties:function(d){d.globalAlpha=1,d.strokeStyle="transparent",d.fillStyle="#000000"},_setLineDash:function(d,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),d.setLineDash(v))},_renderControls:function(d,v){var _=this.getViewportTransform(),b=this.calcTransformMatrix(),y,w,C;v=v||{},w=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,C=typeof v.hasControls<"u"?v.hasControls:this.hasControls,b=i.util.multiplyTransformMatrices(_,b),y=i.util.qrDecompose(b),d.save(),d.translate(y.translateX,y.translateY),d.lineWidth=1*this.borderScaleFactor,this.group||(d.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(y.angle-=180),d.rotate(a(this.group?y.angle:this.angle)),v.forActiveSelection||this.group?w&&this.drawBordersInGroup(d,y,v):w&&this.drawBorders(d,v),C&&this.drawControls(d,v),d.restore()},_setShadow:function(d){if(this.shadow){var v=this.shadow,_=this.canvas,b,y=_&&_.viewportTransform[0]||1,w=_&&_.viewportTransform[3]||1;v.nonScaling?b={scaleX:1,scaleY:1}:b=this.getObjectScaling(),_&&_._isRetinaScaling()&&(y*=i.devicePixelRatio,w*=i.devicePixelRatio),d.shadowColor=v.color,d.shadowBlur=v.blur*i.browserShadowBlurConstant*(y+w)*(b.scaleX+b.scaleY)/4,d.shadowOffsetX=v.offsetX*y*b.scaleX,d.shadowOffsetY=v.offsetY*w*b.scaleY}},_removeShadow:function(d){this.shadow&&(d.shadowColor="",d.shadowBlur=d.shadowOffsetX=d.shadowOffsetY=0)},_applyPatternGradientTransform:function(d,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var _=v.gradientTransform||v.patternTransform,b=-this.width/2+v.offsetX||0,y=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?d.transform(this.width,0,0,this.height,b,y):d.transform(1,0,0,1,b,y),_&&d.transform(_[0],_[1],_[2],_[3],_[4],_[5]),{offsetX:b,offsetY:y}},_renderPaintInOrder:function(d){this.paintFirst==="stroke"?(this._renderStroke(d),this._renderFill(d)):(this._renderFill(d),this._renderStroke(d))},_render:function(){},_renderFill:function(d){this.fill&&(d.save(),this._setFillStyles(d,this),this.fillRule==="evenodd"?d.fill("evenodd"):d.fill(),d.restore())},_renderStroke:function(d){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(d),d.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();d.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&d.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(d,this.strokeDashArray),this._setStrokeStyles(d,this),d.stroke(),d.restore()}},_applyPatternForTransformedGradient:function(d,v){var _=this._limitCacheSize(this._getCacheCanvasDimensions()),b=i.util.createCanvasElement(),y,w=this.canvas.getRetinaScaling(),C=_.x/this.scaleX/w,S=_.y/this.scaleY/w;b.width=C,b.height=S,y=b.getContext("2d"),y.beginPath(),y.moveTo(0,0),y.lineTo(C,0),y.lineTo(C,S),y.lineTo(0,S),y.closePath(),y.translate(C/2,S/2),y.scale(_.zoomX/this.scaleX/w,_.zoomY/this.scaleY/w),this._applyPatternGradientTransform(y,v),y.fillStyle=v.toLive(d),y.fill(),d.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),d.scale(w*this.scaleX/_.zoomX,w*this.scaleY/_.zoomY),d.strokeStyle=y.createPattern(b,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var d=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",d.scaleX),this.set("scaleY",d.scaleY),this.angle=d.angle,this.skewX=d.skewX,this.skewY=0}},_removeTransformMatrix:function(d){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=i.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,d&&(this.scaleX*=d.scaleX,this.scaleY*=d.scaleY,this.cropX=d.cropX,this.cropY=d.cropY,v.x+=d.offsetLeft,v.y+=d.offsetTop,this.width=d.width,this.height=d.height),this.setPositionByOrigin(v,"center","center")},clone:function(d,v){var _=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(_,d):i.Object._fromObject("Object",_,d)},cloneAsImage:function(d,v){var _=this.toCanvasElement(v);return d&&d(new i.Image(_)),this},toCanvasElement:function(d){d||(d={});var v=i.util,_=v.saveObjectTransform(this),b=this.group,y=this.shadow,w=Math.abs,C=(d.multiplier||1)*(d.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,d.withoutTransform&&v.resetObjectTransform(this),d.withoutShadow&&(this.shadow=null);var S=i.util.createCanvasElement(),T=this.getBoundingRect(!0,!0),j=this.shadow,W,V={x:0,y:0},H,Q,se;j&&(H=j.blur,j.nonScaling?W={scaleX:1,scaleY:1}:W=this.getObjectScaling(),V.x=2*Math.round(w(j.offsetX)+H)*w(W.scaleX),V.y=2*Math.round(w(j.offsetY)+H)*w(W.scaleY)),Q=T.width+V.x,se=T.height+V.y,S.width=Math.ceil(Q),S.height=Math.ceil(se);var le=new i.StaticCanvas(S,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});d.format==="jpeg"&&(le.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(le.width/2,le.height/2),"center","center");var ue=this.canvas;le.add(this);var X=le.toCanvasElement(C||1,d);return this.shadow=y,this.set("canvas",ue),b&&(this.group=b),this.set(_).setCoords(),le._objects=[],le.dispose(),le=null,X},toDataURL:function(d){return d||(d={}),i.util.toDataURL(this.toCanvasElement(d),d.format||"png",d.quality||1)},isType:function(d){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===d},complexity:function(){return 1},toJSON:function(d){return this.toObject(d)},rotate:function(d){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",d),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(d,v){v=v||this.canvas.getPointer(d);var _=new i.Point(v.x,v.y),b=this._getLeftTopCoords();return this.angle&&(_=i.util.rotatePoint(_,b,a(-this.angle))),{x:_.x-b.x,y:_.y-b.y}},_setupCompositeOperation:function(d){this.globalCompositeOperation&&(d.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),h(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(d,v,_,b){var y=i[d];v=f(v,!0),i.util.enlivenPatterns([v.fill,v.stroke],function(w){typeof w[0]<"u"&&(v.fill=w[0]),typeof w[1]<"u"&&(v.stroke=w[1]),i.util.enlivenObjectEnlivables(v,v,function(){var C=b?new y(v[b],v):new y(v);_&&_(C)})})},i.Object.__uid=0)}(e),function(){var u=t.util.degreesToRadians,i={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(f,o,l,a,c){var g=f.x,d=f.y,v,_,b;return typeof o=="string"?o=i[o]:o-=.5,typeof a=="string"?a=i[a]:a-=.5,v=a-o,typeof l=="string"?l=h[l]:l-=.5,typeof c=="string"?c=h[c]:c-=.5,_=c-l,(v||_)&&(b=this._getTransformedDimensions(),g=f.x+v*b.x,d=f.y+_*b.y),new t.Point(g,d)},translateToCenterPoint:function(f,o,l){var a=this.translateToGivenOrigin(f,o,l,"center","center");return this.angle?t.util.rotatePoint(a,f,u(this.angle)):a},translateToOriginPoint:function(f,o,l){var a=this.translateToGivenOrigin(f,"center","center",o,l);return this.angle?t.util.rotatePoint(a,f,u(this.angle)):a},getCenterPoint:function(){var f=new t.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,o){var l=this.getCenterPoint();return this.translateToOriginPoint(l,f,o)},toLocalPoint:function(f,o,l){var a=this.getCenterPoint(),c,g;return typeof o<"u"&&typeof l<"u"?c=this.translateToGivenOrigin(a,"center","center",o,l):c=new t.Point(this.left,this.top),g=new t.Point(f.x,f.y),this.angle&&(g=t.util.rotatePoint(g,a,-u(this.angle))),g.subtractEquals(c)},setPositionByOrigin:function(f,o,l){var a=this.translateToCenterPoint(f,o,l),c=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",c.x),this.set("top",c.y)},adjustPosition:function(f){var o=u(this.angle),l=this.getScaledWidth(),a=t.util.cos(o)*l,c=t.util.sin(o)*l,g,d;typeof this.originX=="string"?g=i[this.originX]:g=this.originX-.5,typeof f=="string"?d=i[f]:d=f-.5,this.left+=a*(d-g),this.top+=c*(d-g),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function u(l){return[new t.Point(l.tl.x,l.tl.y),new t.Point(l.tr.x,l.tr.y),new t.Point(l.br.x,l.br.y),new t.Point(l.bl.x,l.bl.y)]}var i=t.util,h=i.degreesToRadians,f=i.multiplyTransformMatrices,o=i.transformPoint;i.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(l,a){return a?l?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),l?this.aCoords:this.lineCoords)},getCoords:function(l,a){return u(this._getCoords(l,a))},intersectsWithRect:function(l,a,c,g){var d=this.getCoords(c,g),v=t.Intersection.intersectPolygonRectangle(d,l,a);return v.status==="Intersection"},intersectsWithObject:function(l,a,c){var g=t.Intersection.intersectPolygonPolygon(this.getCoords(a,c),l.getCoords(a,c));return g.status==="Intersection"||l.isContainedWithinObject(this,a,c)||this.isContainedWithinObject(l,a,c)},isContainedWithinObject:function(l,a,c){for(var g=this.getCoords(a,c),d=a?l.aCoords:l.lineCoords,v=0,_=l._getImageLines(d);v<4;v++)if(!l.containsPoint(g[v],_))return!1;return!0},isContainedWithinRect:function(l,a,c,g){var d=this.getBoundingRect(c,g);return d.left>=l.x&&d.left+d.width<=a.x&&d.top>=l.y&&d.top+d.height<=a.y},containsPoint:function(l,v,c,g){var d=this._getCoords(c,g),v=v||this._getImageLines(d),_=this._findCrossPoints(l,v);return _!==0&&_%2===1},isOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br,g=this.getCoords(!0,l);return g.some(function(d){return d.x<=c.x&&d.x>=a.x&&d.y<=c.y&&d.y>=a.y})||this.intersectsWithRect(a,c,!0,l)?!0:this._containsCenterOfCanvas(a,c,l)},_containsCenterOfCanvas:function(l,a,c){var g={x:(l.x+a.x)/2,y:(l.y+a.y)/2};return!!this.containsPoint(g,null,!0,c)},isPartiallyOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br;if(this.intersectsWithRect(a,c,!0,l))return!0;var g=this.getCoords(!0,l).every(function(d){return(d.x>=c.x||d.x<=a.x)&&(d.y>=c.y||d.y<=a.y)});return g&&this._containsCenterOfCanvas(a,c,l)},_getImageLines:function(l){var a={topline:{o:l.tl,d:l.tr},rightline:{o:l.tr,d:l.br},bottomline:{o:l.br,d:l.bl},leftline:{o:l.bl,d:l.tl}};return a},_findCrossPoints:function(l,a){var c,g,d,v,_,b=0,y;for(var w in a)if(y=a[w],!(y.o.y<l.y&&y.d.y<l.y)&&!(y.o.y>=l.y&&y.d.y>=l.y)&&(y.o.x===y.d.x&&y.o.x>=l.x?_=y.o.x:(c=0,g=(y.d.y-y.o.y)/(y.d.x-y.o.x),d=l.y-c*l.x,v=y.o.y-g*y.o.x,_=-(d-v)/(c-g)),_>=l.x&&(b+=1),b===2))break;return b},getBoundingRect:function(l,a){var c=this.getCoords(l,a);return i.makeBoundingBoxFromPoints(c)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(l){return Math.abs(l)<this.minScaleLimit?l<0?-this.minScaleLimit:this.minScaleLimit:l===0?1e-4:l},scale:function(l){return this._set("scaleX",l),this._set("scaleY",l),this.setCoords()},scaleToWidth:function(l,a){var c=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(l/this.width/c)},scaleToHeight:function(l,a){var c=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(l/this.height/c)},calcLineCoords:function(){var l=this.getViewportTransform(),a=this.padding,c=h(this.angle),g=i.cos(c),d=i.sin(c),v=g*a,_=d*a,b=v+_,y=v-_,w=this.calcACoords(),C={tl:o(w.tl,l),tr:o(w.tr,l),bl:o(w.bl,l),br:o(w.br,l)};return a&&(C.tl.x-=y,C.tl.y-=b,C.tr.x+=b,C.tr.y-=y,C.bl.x-=b,C.bl.y+=y,C.br.x+=y,C.br.y+=b),C},calcOCoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),c=this.getViewportTransform(),g=f(c,a),d=f(g,l),d=f(d,[1/c[0],0,0,1/c[3],0,0]),v=this._calculateCurrentDimensions(),_={};return this.forEachControl(function(b,y,w){_[y]=b.positionHandler(v,d,w)}),_},calcACoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),c=f(a,l),g=this._getTransformedDimensions(),d=g.x/2,v=g.y/2;return{tl:o({x:-d,y:-v},c),tr:o({x:d,y:-v},c),bl:o({x:-d,y:v},c),br:o({x:d,y:v},c)}},setCoords:function(l){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),l?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var l=this.getCenterPoint();return[1,0,0,1,l.x,l.y]},transformMatrixKey:function(l){var a="_",c="";return!l&&this.group&&(c=this.group.transformMatrixKey(l)+a),c+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(l){var a=this.calcOwnMatrix();if(l||!this.group)return a;var c=this.transformMatrixKey(l),g=this.matrixCache||(this.matrixCache={});return g.key===c?g.value:(this.group&&(a=f(this.group.calcTransformMatrix(!1),a)),g.key=c,g.value=a,a)},calcOwnMatrix:function(){var l=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===l)return a.value;var c=this._calcTranslateMatrix(),g={angle:this.angle,translateX:c[4],translateY:c[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=l,a.value=i.composeMatrix(g),a.value},_getNonTransformedDimensions:function(){var l=this.strokeWidth,a=this.width+l,c=this.height+l;return{x:a,y:c}},_getTransformedDimensions:function(l,a){typeof l>"u"&&(l=this.skewX),typeof a>"u"&&(a=this.skewY);var c,g,d,v=l===0&&a===0;if(this.strokeUniform?(g=this.width,d=this.height):(c=this._getNonTransformedDimensions(),g=c.x,d=c.y),v)return this._finalizeDimensions(g*this.scaleX,d*this.scaleY);var _=i.sizeAfterTransform(g,d,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:l,skewY:a});return this._finalizeDimensions(_.x,_.y)},_finalizeDimensions:function(l,a){return this.strokeUniform?{x:l+this.strokeWidth,y:a+this.strokeWidth}:{x:l,y:a}},_calculateCurrentDimensions:function(){var l=this.getViewportTransform(),a=this._getTransformedDimensions(),c=o(a,l,!0);return c.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(u){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,u):this.canvas&&this.canvas.sendBackwards(this,u),this},bringForward:function(u){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,u):this.canvas&&this.canvas.bringForward(this,u),this},moveTo:function(u){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,u):this.canvas&&this.canvas.moveTo(this,u),this}}),function(){function u(h,f){if(f){if(f.toLive)return h+": url(#SVGID_"+f.id+"); ";var o=new t.Color(f),l=h+": "+o.toRgb()+"; ",a=o.getAlpha();return a!==1&&(l+=h+"-opacity: "+a.toString()+"; "),l}else return h+": none; "}var i=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(h){var f=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",l=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",c=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",d=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",_=this.visible?"":" visibility: hidden;",b=h?"":this.getSvgFilter(),y=u("fill",this.fill),w=u("stroke",this.stroke);return[w,"stroke-width: ",o,"; ","stroke-dasharray: ",l,"; ","stroke-linecap: ",c,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",d,"; ",y,"fill-rule: ",f,"; ","opacity: ",v,";",b,_].join("")},getSvgSpanStyles:function(h,f){var o="; ",a=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+o:"",l=h.strokeWidth?"stroke-width: "+h.strokeWidth+o:"",a=a,c=h.fontSize?"font-size: "+h.fontSize+"px"+o:"",g=h.fontStyle?"font-style: "+h.fontStyle+o:"",d=h.fontWeight?"font-weight: "+h.fontWeight+o:"",v=h.fill?u("fill",h.fill):"",_=h.stroke?u("stroke",h.stroke):"",b=this.getSvgTextDecoration(h),y=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return b&&(b="text-decoration: "+b+o),[_,l,a,c,g,d,b,v,y,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(f){return h[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,f){var o=h?this.calcTransformMatrix():this.calcOwnMatrix(),l='transform="'+t.util.matrixToSVG(o);return l+(f||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var f=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,f),'" y="',i(-this.height/2,f),'" width="',i(this.width,f),'" height="',i(this.height,f),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,f){f=f||{};var o=f.reviver,l=f.additionalTransform||"",a=[this.getSvgTransform(!0,l),this.getSvgCommons()].join(""),c=h.indexOf("COMMON_PARTS");return h[c]=a,o?o(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,f){f=f||{};var o=f.noStyle,l=f.reviver,a=o?"":'style="'+this.getSvgStyles()+'" ',c=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,d=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=g&&g.absolutePositioned,_=this.stroke,b=this.fill,y=this.shadow,w,C=[],S,T=h.indexOf("COMMON_PARTS"),j=f.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+t.Object.__uid++,S='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(l)+`</clipPath>
`),v&&C.push("<g ",c,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),v?"":c+this.getSvgCommons(),` >
`),w=[a,d,o?"":this.addPaintOrder()," ",j?'transform="'+j+'" ':""].join(""),h[T]=w,b&&b.toLive&&C.push(b.toSVG(this)),_&&_.toLive&&C.push(_.toSVG(this)),y&&C.push(y.toSVG(this)),g&&C.push(S),C.push(h.join("")),C.push(`</g>
`),v&&C.push(`</g>
`),l?l(C.join("")):C.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var u=t.util.object.extend,i="stateProperties";function h(o,l,a){var c={},g=!0;a.forEach(function(d){c[d]=o[d]}),u(o[l],c,g)}function f(o,l,a){if(o===l)return!0;if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(var c=0,g=o.length;c<g;c++)if(!f(o[c],l[c]))return!1;return!0}else if(o&&typeof o=="object"){var d=Object.keys(o),v;if(!l||typeof l!="object"||!a&&d.length!==Object.keys(l).length)return!1;for(var c=0,g=d.length;c<g;c++)if(v=d[c],!(v==="canvas"||v==="group")&&!f(o[v],l[v]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(o){o=o||i;var l="_"+o;return Object.keys(this[l]).length<this[o].length?!0:!f(this[l],this,!0)},saveState:function(o){var l=o&&o.propertySet||i,a="_"+l;return this[a]?(h(this,a,this[l]),o&&o.stateProperties&&h(this,a,o.stateProperties),this):this.setupState(o)},setupState:function(o){o=o||{};var l=o.propertySet||i;return o.propertySet=l,this["_"+l]={},this.saveState(o),this}})}(),function(){var u=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(i,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=i.x,o=i.y,l,a,c=Object.keys(this.oCoords),g=c.length-1,d;for(this.__corner=0;g>=0;g--)if(d=c[g],!!this.isControlVisible(d)&&(a=this._getImageLines(h?this.oCoords[d].touchCorner:this.oCoords[d].corner),l=this._findCrossPoints({x:f,y:o},a),l!==0&&l%2===1))return this.__corner=d,d;return!1},forEachControl:function(i){for(var h in this.controls)i(this.controls[h],h,this)},_setCornerCoords:function(){var i=this.oCoords;for(var h in i){var f=this.controls[h];i[h].corner=f.calcCornerCoords(this.angle,this.cornerSize,i[h].x,i[h].y,!1),i[h].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,i[h].x,i[h].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var h=this.getCenterPoint(),f=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return i.translate(h.x,h.y),i.scale(1/o[0],1/o[3]),i.rotate(u(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-f.x/2,-f.y/2,f.x,f.y),i.restore(),this},drawBorders:function(i,h){h=h||{};var f=this._calculateCurrentDimensions(),o=this.borderScaleFactor,l=f.x+o,a=f.y+o,c=typeof h.hasControls<"u"?h.hasControls:this.hasControls,g=!1;return i.save(),i.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeRect(-l/2,-a/2,l,a),c&&(i.beginPath(),this.forEachControl(function(d,v,_){d.withConnection&&d.getVisibility(_,v)&&(g=!0,i.moveTo(d.x*l,d.y*a),i.lineTo(d.x*l+d.offsetX,d.y*a+d.offsetY))}),g&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,h,f){f=f||{};var o=t.util.sizeAfterTransform(this.width,this.height,h),l=this.strokeWidth,a=this.strokeUniform,c=this.borderScaleFactor,g=o.x+l*(a?this.canvas.getZoom():h.scaleX)+c,d=o.y+l*(a?this.canvas.getZoom():h.scaleY)+c;return i.save(),this._setLineDash(i,f.borderDashArray||this.borderDashArray),i.strokeStyle=f.borderColor||this.borderColor,i.strokeRect(-g/2,-d/2,g,d),i.restore(),this},drawControls:function(i,h){h=h||{},i.save();var f=this.canvas.getRetinaScaling(),o,l;return i.setTransform(f,0,0,f,0,0),i.strokeStyle=i.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(o=this.group.calcTransformMatrix()),this.forEachControl(function(a,c,g){l=g.oCoords[c],a.getVisibility(g,c)&&(o&&(l=t.util.transformPoint(l,o)),a.render(i,l.x,l.y,h,g))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=h,this},setControlsVisibility:function(i){i||(i={});for(var h in i)this.setControlVisible(h,i[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(u,i){i=i||{};var h=function(){},f=i.onComplete||h,o=i.onChange||h,l=this;return t.util.animate({target:this,startValue:u.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){u.set("left",a),l.requestRenderAll(),o()},onComplete:function(){u.setCoords(),f()}})},fxCenterObjectV:function(u,i){i=i||{};var h=function(){},f=i.onComplete||h,o=i.onChange||h,l=this;return t.util.animate({target:this,startValue:u.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){u.set("top",a),l.requestRenderAll(),o()},onComplete:function(){u.setCoords(),f()}})},fxRemove:function(u,i){i=i||{};var h=function(){},f=i.onComplete||h,o=i.onChange||h,l=this;return t.util.animate({target:this,startValue:u.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){u.set("opacity",a),l.requestRenderAll(),o()},onComplete:function(){l.remove(u),f()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var u=[],i,h,f=[];for(i in arguments[0])u.push(i);for(var o=0,l=u.length;o<l;o++)i=u[o],h=o!==l-1,f.push(this._animate(i,arguments[0][i],arguments[1],h));return f}else return this._animate.apply(this,arguments)},_animate:function(u,i,h,f){var o=this,l;i=i.toString(),h?h=t.util.object.clone(h):h={},~u.indexOf(".")&&(l=u.split("."));var a=o.colorProperties.indexOf(u)>-1||l&&o.colorProperties.indexOf(l[1])>-1,c=l?this.get(l[0])[l[1]]:this.get(u);"from"in h||(h.from=c),a||(~i.indexOf("=")?i=c+parseFloat(i.replace("=","")):i=parseFloat(i));var g={target:this,startValue:h.from,endValue:i,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(d,v,_){return h.abort.call(o,d,v,_)},onChange:function(d,v,_){l?o[l[0]][l[1]]=d:o.set(u,d),!f&&h.onChange&&h.onChange(d,v,_)},onComplete:function(d,v,_){f||(o.setCoords(),h.onComplete&&h.onComplete(d,v,_))}};return a?t.util.animateColor(g.startValue,g.endValue,g.duration,g):t.util.animate(g)}}),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,f=i.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,c){a||(a=[0,0,0,0]),this.callSuper("initialize",c),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(c)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,c){return this.callSuper("_set",a,c),typeof o[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:l({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:l({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var c=this.calcLinePoints();a.moveTo(c.x1,c.y1),a.lineTo(c.x2,c.y2),a.lineWidth=this.strokeWidth;var g=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return h(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(a.y-=this.strokeWidth),this.height===0&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,c=this.y1<=this.y2?-1:1,g=a*this.width*.5,d=c*this.height*.5,v=a*this.width*-.5,_=c*this.height*-.5;return{x1:g,x2:v,y1:d,y2:_}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(a,c,g){g=g||{};var d=i.parseAttributes(a,i.Line.ATTRIBUTE_NAMES),v=[d.x1||0,d.y1||0,d.x2||0,d.y2||0];c(new i.Line(v,h(d,g)))},i.Line.fromObject=function(a,c){function g(v){delete v.points,c&&c(v)}var d=f(a,!0);d.points=[a.x1,a.y1,a.x2,a.y2],i.Object._fromObject("Line",d,g,"points")};function l(a,c){var g=a.origin,d=a.axis1,v=a.axis2,_=a.dimension,b=c.nearest,y=c.center,w=c.farthest;return function(){switch(this.get(g)){case b:return Math.min(this.get(d),this.get(v));case y:return Math.min(this.get(d),this.get(v))+.5*this.get(_);case w:return Math.max(this.get(d),this.get(v))}}}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(o,l){return this.callSuper("_set",o,l),o==="radius"&&this.setRadius(l),this},toObject:function(o){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(o))},_toSVG:function(){var o,l=0,a=0,c=(this.endAngle-this.startAngle)%360;if(c===0)o=["<circle ","COMMON_PARTS",'cx="'+l+'" cy="'+a+'" ','r="',this.radius,`" />
`];else{var g=h(this.startAngle),d=h(this.endAngle),v=this.radius,_=i.util.cos(g)*v,b=i.util.sin(g)*v,y=i.util.cos(d)*v,w=i.util.sin(d)*v,C=c>180?"1":"0";o=['<path d="M '+_+" "+b," A "+v+" "+v," 0 ",+C+" 1"," "+y+" "+w,'" ',"COMMON_PARTS",` />
`]}return o},_render:function(o){o.beginPath(),o.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(o)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(o){return this.radius=o,this.set("width",o*2).set("height",o*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(o,l){var a=i.parseAttributes(o,i.Circle.ATTRIBUTE_NAMES);if(!f(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,l(new i.Circle(a))};function f(o){return"radius"in o&&o.radius>=0}i.Circle.fromObject=function(o,l){i.Object._fromObject("Circle",o,l)}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(h){var f=this.width/2,o=this.height/2;h.beginPath(),h.moveTo(-f,o),h.lineTo(0,-o),h.lineTo(f,o),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,f=this.height/2,o=[-h+" "+f,"0 "+-f,h+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',o,'" />']}}),i.Triangle.fromObject=function(h,f){return i.Object._fromObject("Triangle",h,f)}}(e),function(u){var i=u.fabric||(u.fabric={}),h=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,o){switch(this.callSuper("_set",f,o),f){case"rx":this.rx=o,this.set("width",o*2);break;case"ry":this.ry=o,this.set("height",o*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,h,!1),f.restore(),this._renderPaintInOrder(f)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(f,o){var l=i.parseAttributes(f,i.Ellipse.ATTRIBUTE_NAMES);l.left=(l.left||0)-l.rx,l.top=(l.top||0)-l.ry,o(new i.Ellipse(l))},i.Ellipse.fromObject=function(f,o){i.Object._fromObject("Ellipse",f,o)}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var o=this.rx?Math.min(this.rx,this.width/2):0,l=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,c=this.height,g=-this.width/2,d=-this.height/2,v=o!==0||l!==0,_=1-.5522847498;f.beginPath(),f.moveTo(g+o,d),f.lineTo(g+a-o,d),v&&f.bezierCurveTo(g+a-_*o,d,g+a,d+_*l,g+a,d+l),f.lineTo(g+a,d+c-l),v&&f.bezierCurveTo(g+a,d+c-_*l,g+a-_*o,d+c,g+a-o,d+c),f.lineTo(g+o,d+c),v&&f.bezierCurveTo(g+_*o,d+c,g,d+c-_*l,g,d+c-l),f.lineTo(g,d+l),v&&f.bezierCurveTo(g,d+_*l,g+_*o,d,g+o,d),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,o=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',o,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(f,o,l){if(!f)return o(null);l=l||{};var a=i.parseAttributes(f,i.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var c=new i.Rect(h(l?i.util.object.clone(l):{},a));c.visible=c.visible&&c.width>0&&c.height>0,o(c)},i.Rect.fromObject=function(f,o){return i.Object._fromObject("Rect",f,o)}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,f=i.util.array.min,o=i.util.array.max,l=i.util.toFixed,a=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(c,g){g=g||{},this.points=c||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(c){var g=this._calcDimensions(c),d,v=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-v,this.height=g.height-v,c.fromSVG||(d=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+v/2,y:g.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof c.left>"u"&&(this.left=c.fromSVG?g.left:d.x),typeof c.top>"u"&&(this.top=c.fromSVG?g.top:d.y),this.pathOffset={x:g.left+this.width/2+v/2,y:g.top+this.height/2+v/2}},_calcDimensions:function(){var c=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=f(c,"x")||0,d=f(c,"y")||0,v=o(c,"x")||0,_=o(c,"y")||0,b=v-g,y=_-d;return{left:g,top:d,width:b,height:y}},toObject:function(c){return h(this.callSuper("toObject",c),{points:this.points.concat()})},_toSVG:function(){for(var c=[],g=this.pathOffset.x,d=this.pathOffset.y,v=i.Object.NUM_FRACTION_DIGITS,_=0,b=this.points.length;_<b;_++)c.push(l(this.points[_].x-g,v),",",l(this.points[_].y-d,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',c.join(""),`" />
`]},commonRender:function(c){var g,d=this.points.length,v=this.pathOffset.x,_=this.pathOffset.y;if(!d||isNaN(this.points[d-1].y))return!1;c.beginPath(),c.moveTo(this.points[0].x-v,this.points[0].y-_);for(var b=0;b<d;b++)g=this.points[b],c.lineTo(g.x-v,g.y-_);return!0},_render:function(c){this.commonRender(c)&&this._renderPaintInOrder(c)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(c){return function(g,d,v){if(!g)return d(null);v||(v={});var _=i.parsePointsAttribute(g.getAttribute("points")),b=i.parseAttributes(g,i[c].ATTRIBUTE_NAMES);b.fromSVG=!0,d(new i[c](_,h(b,v)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(c,g){return i.Object._fromObject("Polyline",c,g,"points")}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(f){this.commonRender(f)&&(f.closePath(),this._renderPaintInOrder(f))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(f,o){i.Object._fromObject("Polygon",f,o,"points")}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.array.min,f=i.util.array.max,o=i.util.object.extend,l=i.util.object.clone,a=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(c,g){g=l(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(c||[],g)},_setPath:function(c,g){this.path=i.util.makePathSimpler(Array.isArray(c)?c:i.util.parsePath(c)),i.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(c){var g,d=0,v=0,_=0,b=0,y=0,w=0,C=-this.pathOffset.x,S=-this.pathOffset.y;c.beginPath();for(var T=0,j=this.path.length;T<j;++T)switch(g=this.path[T],g[0]){case"L":_=g[1],b=g[2],c.lineTo(_+C,b+S);break;case"M":_=g[1],b=g[2],d=_,v=b,c.moveTo(_+C,b+S);break;case"C":_=g[5],b=g[6],y=g[3],w=g[4],c.bezierCurveTo(g[1]+C,g[2]+S,y+C,w+S,_+C,b+S);break;case"Q":c.quadraticCurveTo(g[1]+C,g[2]+S,g[3]+C,g[4]+S),_=g[3],b=g[4],y=g[1],w=g[2];break;case"z":case"Z":_=d,b=v,c.closePath();break}},_render:function(c){this._renderPathCommands(c),this._renderPaintInOrder(c)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(c){return o(this.callSuper("toObject",c),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(c){var g=this.toObject(["sourcePath"].concat(c));return g.sourcePath&&delete g.path,g},_toSVG:function(){var c=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',c,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var c=i.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,c)+", "+a(-this.pathOffset.y,c)+")"},toClipPathSVG:function(c){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:g})},toSVG:function(c){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var c=[],g=[],d,v=0,_=0,b=0,y=0,w,C=0,S=this.path.length;C<S;++C){switch(d=this.path[C],d[0]){case"L":b=d[1],y=d[2],w=[];break;case"M":b=d[1],y=d[2],v=b,_=y,w=[];break;case"C":w=i.util.getBoundsOfCurve(b,y,d[1],d[2],d[3],d[4],d[5],d[6]),b=d[5],y=d[6];break;case"Q":w=i.util.getBoundsOfCurve(b,y,d[1],d[2],d[1],d[2],d[3],d[4]),b=d[3],y=d[4];break;case"z":case"Z":b=v,y=_;break}w.forEach(function(se){c.push(se.x),g.push(se.y)}),c.push(b),g.push(y)}var T=h(c)||0,j=h(g)||0,W=f(c)||0,V=f(g)||0,H=W-T,Q=V-j;return{left:T,top:j,width:H,height:Q}}}),i.Path.fromObject=function(c,g){if(typeof c.sourcePath=="string"){var d=c.sourcePath;i.loadSVGFromURL(d,function(v){var _=v[0];_.setOptions(c),c.clipPath?i.util.enlivenObjects([c.clipPath],function(b){_.clipPath=b[0],g&&g(_)}):g&&g(_)})}else i.Object._fromObject("Path",c,g,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(c,g,d){var v=i.parseAttributes(c,i.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,g(new i.Path(v.d,o(v,d)))}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.array.min,f=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(o,l,a){l=l||{},this._objects=[],a&&this.callSuper("initialize",l),this._objects=o||[];for(var c=this._objects.length;c--;)this._objects[c].group=this;if(a)this._updateObjectsACoords();else{var g=l&&l.centerPoint;l.originX!==void 0&&(this.originX=l.originX),l.originY!==void 0&&(this.originY=l.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete l.centerPoint,this.callSuper("initialize",l)}this.setCoords()},_updateObjectsACoords:function(){for(var o=!0,l=this._objects.length;l--;)this._objects[l].setCoords(o)},_updateObjectsCoords:function(l){for(var l=l||this.getCenterPoint(),a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],l)},_updateObjectCoords:function(o,l){var a=o.left,c=o.top,g=!0;o.set({left:a-l.x,top:c-l.y}),o.group=this,o.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(o){var l=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),o&&(l&&i.util.removeTransformFromObject(o,this.group.calcTransformMatrix()),this._objects.push(o),o.group=this,o._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,l?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(o){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(o),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(o){this.dirty=!0,o.group=this,o._set("canvas",this.canvas)},_onObjectRemoved:function(o){this.dirty=!0,delete o.group},_set:function(o,l){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(o,l);if(o==="canvas")for(;a--;)this._objects[a]._set(o,l);i.Object.prototype._set.call(this,o,l)},toObject:function(o){var l=this.includeDefaultValues,a=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var d=g.includeDefaultValues;g.includeDefaultValues=l;var v=g.toObject(o);return g.includeDefaultValues=d,v}),c=i.Object.prototype.toObject.call(this,o);return c.objects=a,c},toDatalessObject:function(o){var l,a=this.sourcePath;if(a)l=a;else{var c=this.includeDefaultValues;l=this._objects.map(function(d){var v=d.includeDefaultValues;d.includeDefaultValues=c;var _=d.toDatalessObject(o);return d.includeDefaultValues=v,_})}var g=i.Object.prototype.toDatalessObject.call(this,o);return g.objects=l,g},render:function(o){this._transformDone=!0,this.callSuper("render",o),this._transformDone=!1},shouldCache:function(){var o=i.Object.prototype.shouldCache.call(this);if(o){for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].willDrawShadow())return this.ownCaching=!1,!1}return o},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var o=0,l=this._objects.length;o<l;o++)if(this._objects[o].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(o){for(var l=0,a=this._objects.length;l<a;l++)this._objects[l].render(o);this._drawClipPath(o,this.clipPath)},isCacheDirty:function(o){if(this.callSuper("isCacheDirty",o))return!0;if(!this.statefullCache)return!1;for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].isCacheDirty(!0)){if(this._cacheCanvas){var c=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-c/2,-g/2,c,g)}return!0}return!1},_restoreObjectsState:function(){var o=this.calcOwnMatrix();return this._objects.forEach(function(l){i.util.addTransformToObject(l,o),delete l.group,l.setCoords()}),this},destroy:function(){return this._objects.forEach(function(o){o.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var o=this._objects,l=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var c=new i.ActiveSelection([]);return c.set(a),c.type="activeSelection",l.remove(this),o.forEach(function(g){g.group=c,g.dirty=!0,l.add(g)}),c.canvas=l,c._objects=o,l._activeObject=c,c.setCoords(),c}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var o=!0;return this.forEachObject(function(l){l.setCoords(o)}),this},_calcBounds:function(o){for(var l=[],a=[],c,g,d,v=["tr","br","bl","tl"],_=0,b=this._objects.length,y,w=v.length;_<b;++_){for(c=this._objects[_],d=c.calcACoords(),y=0;y<w;y++)g=v[y],l.push(d[g].x),a.push(d[g].y);c.aCoords=d}this._getBounds(l,a,o)},_getBounds:function(o,l,a){var c=new i.Point(h(o),h(l)),g=new i.Point(f(o),f(l)),d=c.y||0,v=c.x||0,_=g.x-c.x||0,b=g.y-c.y||0;this.width=_,this.height=b,a||this.setPositionByOrigin({x:v,y:d},"left","top")},_toSVG:function(o){for(var l=["<g ","COMMON_PARTS",` >
`],a=0,c=this._objects.length;a<c;a++)l.push("		",this._objects[a].toSVG(o));return l.push(`</g>
`),l},getSvgStyles:function(){var o=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",l=this.visible?"":" visibility: hidden;";return[o,this.getSvgFilter(),l].join("")},toClipPathSVG:function(o){for(var l=[],a=0,c=this._objects.length;a<c;a++)l.push("	",this._objects[a].toClipPathSVG(o));return this._createBaseClipPathSVGMarkup(l,{reviver:o})}}),i.Group.fromObject=function(o,l){var a=o.objects,c=i.util.object.clone(o,!0);if(delete c.objects,typeof a=="string"){i.loadSVGFromURL(a,function(g){var d=i.util.groupSVGElements(g,o,a),v=c.clipPath;delete c.clipPath,d.set(c),v?i.util.enlivenObjects([v],function(_){d.clipPath=_[0],l&&l(d)}):l&&l(d)});return}i.util.enlivenObjects(a,function(g){i.util.enlivenObjectEnlivables(o,c,function(){l&&l(new i.Group(g,c,!0))})})})}(e),function(u){var i=u.fabric||(u.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(h,f){f=f||{},this._objects=h||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var f=i.Object.prototype.toObject.call(this),o=new i.Group([]);if(delete f.type,o.set(f),h.forEach(function(a){a.canvas.remove(a),a.group=o}),o._objects=h,!this.canvas)return o;var l=this.canvas;return l.add(o),l._activeObject=o,o.setCoords(),o},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,f,o){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,f),o=o||{},typeof o.hasControls>"u"&&(o.hasControls=!1),o.forActiveSelection=!0;for(var l=0,a=this._objects.length;l<a;l++)this._objects[l]._renderControls(h,o);h.restore()}}),i.ActiveSelection.fromObject=function(h,f){i.util.enlivenObjects(h.objects,function(o){delete h.objects,f&&f(new i.ActiveSelection(o,h,!0))})})}(e),function(u){var i=t.util.object.extend;if(u.fabric||(u.fabric={}),u.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,f){f||(f={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",f),this._initElement(h,f)},getElement:function(){return this._element||{}},setElement:function(h,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var f=t.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(h){t.util.cleanUpJsdomNode(this[h]),this[h]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,o=this.height/2;h.beginPath(),h.moveTo(-f,-o),h.lineTo(f,-o),h.lineTo(f,o),h.lineTo(-f,o),h.lineTo(-f,-o),h.closePath()}},toObject:function(h){var f=[];this.filters.forEach(function(l){l&&f.push(l.toObject())});var o=i(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(o.resizeFilter=this.resizeFilter.toObject()),o},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],f=[],o,l=this._element,a=-this.width/2,c=-this.height/2,g="",d="";if(!l)return[];if(this.hasCrop()){var v=t.Object.__uid++;h.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+a+'" y="'+c+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(d='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',c-this.cropY,'" width="',l.width||l.naturalWidth,'" height="',l.height||l.height,d,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var _=this.fill;this.fill=null,o=["	<rect ",'x="',a,'" y="',c,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=_}return this.paintFirst!=="fill"?h=h.concat(o,f):h=h.concat(f,o),h},getSrc:function(h){var f=h?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(h,f,o){return t.util.loadImage(h,function(l,a){this.setElement(l,o),this._setWidthHeight(),f&&f(this,a)},this,o&&o.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,f=this.minimumScaleTrigger,o=this.getTotalObjectScaling(),l=o.scaleX,a=o.scaleY,c=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||l>f&&a>f){this._element=c,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=l,this._lastScaleY=a;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var g=t.util.createCanvasElement(),d=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=c.width,_=c.height;g.width=v,g.height=_,this._element=g,this._lastScaleX=h.scaleX=l,this._lastScaleY=h.scaleY=a,t.filterBackend.applyFilters([h],c,v,_,this._element,d),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(c){return c&&!c.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,o=f.naturalWidth||f.width,l=f.naturalHeight||f.height;if(this._element===this._originalElement){var a=t.util.createCanvasElement();a.width=o,a.height=l,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,o,l),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(h,this._originalElement,o,l,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var f=this._element;if(f){var o=this._filterScalingX,l=this._filterScalingY,a=this.width,c=this.height,g=Math.min,d=Math.max,v=d(this.cropX,0),_=d(this.cropY,0),b=f.naturalWidth||f.width,y=f.naturalHeight||f.height,w=v*o,C=_*l,S=g(a*o,b-w),T=g(c*l,y-C),j=-a/2,W=-c/2,V=g(a,b/o-v),H=g(c,y/l-_);f&&h.drawImage(f,w,C,S,T,j,W,V,H)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,f){this.setElement(t.util.getById(h),f),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,f){h&&h.length?t.util.enlivenObjects(h,function(o){f&&f(o)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(h){h||(h={});var f=this.getElement();this.width=h.width||f.naturalWidth||f.width||0,this.height=h.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var h=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,o=this._element.height,l=1,a=1,c=0,g=0,d=0,v=0,_,b=this.width,y=this.height,w={width:b,height:y};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(l=a=t.util.findScaleToFit(this._element,w),_=(b-f*l)/2,h.alignX==="Min"&&(c=-_),h.alignX==="Max"&&(c=_),_=(y-o*a)/2,h.alignY==="Min"&&(g=-_),h.alignY==="Max"&&(g=_)),h.meetOrSlice==="slice"&&(l=a=t.util.findScaleToCover(this._element,w),_=f-b/l,h.alignX==="Mid"&&(d=_/2),h.alignX==="Max"&&(d=_),_=o-y/a,h.alignY==="Mid"&&(v=_/2),h.alignY==="Max"&&(v=_),f=b/l,o=y/a)):(l=b/f,a=y/o),{width:f,height:o,scaleX:l,scaleY:a,offsetLeft:c,offsetTop:g,cropX:d,cropY:v}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(h,f){var o=t.util.object.clone(h);t.util.loadImage(o.src,function(l,a){if(a){f&&f(null,!0);return}t.Image.prototype._initFilters.call(o,o.filters,function(c){o.filters=c||[],t.Image.prototype._initFilters.call(o,[o.resizeFilter],function(g){o.resizeFilter=g[0],t.util.enlivenObjectEnlivables(o,o,function(){var d=new t.Image(l,o);f(d,!1)})})})},null,o.crossOrigin)},t.Image.fromURL=function(h,f,o){t.util.loadImage(h,function(l,a){f&&f(new t.Image(l,o),a)},null,o&&o.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(h,f,o){var l=t.parseAttributes(h,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(l["xlink:href"],f,i(o?t.util.object.clone(o):{},l))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var u=this.angle%360;return u>0?Math.round((u-1)/90)*90:Math.round(u/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(u){u=u||{};var i=function(){},h=u.onComplete||i,f=u.onChange||i,o=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(l){o.rotate(l),f()},onComplete:function(){o.setCoords(),h()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(u){return u.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(u){return u.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function u(h,f){var o="precision "+f+` float;
void main(){}`,l=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(l,o),h.compileShader(l),!!h.getShaderParameter(l,h.COMPILE_STATUS)}t.isWebglSupported=function(h){if(t.isLikelyNode)return!1;h=h||t.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),o=f.getContext("webgl")||f.getContext("experimental-webgl"),l=!1;if(o){t.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),l=t.maxTextureSize>=h;for(var a=["highp","mediump","lowp"],c=0;c<3;c++)if(u(o,a[c])){t.webGlPrecision=a[c];break}}return this.isSupported=l,l},t.WebglFilterBackend=i;function i(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(h,f){this.dispose(),this.createWebGLCanvas(h,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,f)},chooseFastestCopyGLTo2DMethod:function(h,f){var o=typeof window.performance<"u",l;try{new ImageData(1,1),l=!0}catch{l=!1}var a=typeof ArrayBuffer<"u",c=typeof Uint8ClampedArray<"u";if(o&&l&&a&&c){var g=t.util.createCanvasElement(),d=new ArrayBuffer(h*f*4);if(t.forceGLPutImageData){this.imageBuffer=d,this.copyGLTo2D=m;return}var v={imageBuffer:d,destinationWidth:h,destinationHeight:f,targetCanvas:g},_,b,y;g.width=h,g.height=f,_=window.performance.now(),p.call(v,this.gl,v),b=window.performance.now()-_,_=window.performance.now(),m.call(v,this.gl,v),y=window.performance.now()-_,b>y?(this.imageBuffer=d,this.copyGLTo2D=m):this.copyGLTo2D=p}},createWebGLCanvas:function(h,f){var o=t.util.createCanvasElement();o.width=h,o.height=f;var l={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=o.getContext("webgl",l);a||(a=o.getContext("experimental-webgl",l)),a&&(a.clearColor(0,0,0,0),this.canvas=o,this.gl=a)},applyFilters:function(h,f,o,l,a,c){var g=this.gl,d;c&&(d=this.getCachedTexture(c,f));var v={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:o,sourceHeight:l,destinationWidth:o,destinationHeight:l,context:g,sourceTexture:this.createTexture(g,o,l,!d&&f),targetTexture:this.createTexture(g,o,l),originalTexture:d||this.createTexture(g,o,l,!d&&f),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},_=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,_),h.forEach(function(b){b&&b.applyTo(v)}),s(v),this.copyGLTo2D(g,v),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(v.sourceTexture),g.deleteTexture(v.targetTexture),g.deleteFramebuffer(_),a.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,f,o,l,a){var c=h.createTexture();return h.bindTexture(h.TEXTURE_2D,c),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,a||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,a||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),l?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,l):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,f,o,0,h.RGBA,h.UNSIGNED_BYTE,null),c},getCachedTexture:function(h,f){if(this.textureCache[h])return this.textureCache[h];var o=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[h]=o,o},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:p,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,f={renderer:"",vendor:""};if(!h)return f;var o=h.getExtension("WEBGL_debug_renderer_info");if(o){var l=h.getParameter(o.UNMASKED_RENDERER_WEBGL),a=h.getParameter(o.UNMASKED_VENDOR_WEBGL);l&&(f.renderer=l.toLowerCase()),a&&(f.vendor=a.toLowerCase())}return this.gpuInfo=f,f}}}();function s(u){var i=u.targetCanvas,h=i.width,f=i.height,o=u.destinationWidth,l=u.destinationHeight;(h!==o||f!==l)&&(i.width=o,i.height=l)}function p(u,i){var h=u.canvas,f=i.targetCanvas,o=f.getContext("2d");o.translate(0,f.height),o.scale(1,-1);var l=h.height-f.height;o.drawImage(h,0,l,f.width,f.height,0,0,f.width,f.height)}function m(u,i){var h=i.targetCanvas,f=h.getContext("2d"),o=i.destinationWidth,l=i.destinationHeight,a=o*l*4,c=new Uint8Array(this.imageBuffer,0,a),g=new Uint8ClampedArray(this.imageBuffer,0,a);u.readPixels(0,0,o,l,u.RGBA,u.UNSIGNED_BYTE,c);var d=new ImageData(g,o,l);f.putImageData(d,0,0)}(function(){var u=function(){};t.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:u,dispose:u,clearWebGLCaches:u,resources:{},applyFilters:function(h,f,o,l,a){var c=a.getContext("2d");c.drawImage(f,0,0,o,l);var g=c.getImageData(0,0,o,l),d=c.getImageData(0,0,o,l),v={sourceWidth:o,sourceHeight:l,imageData:g,originalEl:f,originalImageData:d,canvasEl:a,ctx:c,filterBackend:this};return h.forEach(function(_){_.applyTo(v)}),(v.imageData.width!==o||v.imageData.height!==l)&&(a.width=v.imageData.width,a.height=v.imageData.height),c.putImageData(v.imageData,0,0),v}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(u){u&&this.setOptions(u)},setOptions:function(u){for(var i in u)this[i]=u[i]},createProgram:function(u,i,h){i=i||this.fragmentSource,h=h||this.vertexSource,t.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var f=u.createShader(u.VERTEX_SHADER);if(u.shaderSource(f,h),u.compileShader(f),!u.getShaderParameter(f,u.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+u.getShaderInfoLog(f));var o=u.createShader(u.FRAGMENT_SHADER);if(u.shaderSource(o,i),u.compileShader(o),!u.getShaderParameter(o,u.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+u.getShaderInfoLog(o));var l=u.createProgram();if(u.attachShader(l,f),u.attachShader(l,o),u.linkProgram(l),!u.getProgramParameter(l,u.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+u.getProgramInfoLog(l));var a=this.getAttributeLocations(u,l),c=this.getUniformLocations(u,l)||{};return c.uStepW=u.getUniformLocation(l,"uStepW"),c.uStepH=u.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:a,uniformLocations:c}},getAttributeLocations:function(u,i){return{aPosition:u.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(u,i,h){var f=i.aPosition,o=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,o),u.enableVertexAttribArray(f),u.vertexAttribPointer(f,2,u.FLOAT,!1,0,0),u.bufferData(u.ARRAY_BUFFER,h,u.STATIC_DRAW)},_setupFrameBuffer:function(u){var i=u.context,h,f;u.passes>1?(h=u.destinationWidth,f=u.destinationHeight,(u.sourceWidth!==h||u.sourceHeight!==f)&&(i.deleteTexture(u.targetTexture),u.targetTexture=u.filterBackend.createTexture(i,h,f)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,u.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(u){u.passes--,u.pass++;var i=u.targetTexture;u.targetTexture=u.sourceTexture,u.sourceTexture=i},isNeutralState:function(){var u=this.mainParameter,i=t.Image.filters[this.type].prototype;if(u)if(Array.isArray(i[u])){for(var h=i[u].length;h--;)if(this[u][h]!==i[u][h])return!1;return!0}else return i[u]===this[u];else return!1},applyTo:function(u){u.webgl?(this._setupFrameBuffer(u),this.applyToWebGL(u),this._swapTextures(u)):this.applyTo2d(u)},retrieveShader:function(u){return u.programCache.hasOwnProperty(this.type)||(u.programCache[this.type]=this.createProgram(u.context)),u.programCache[this.type]},applyToWebGL:function(u){var i=u.context,h=this.retrieveShader(u);u.pass===0&&u.originalTexture?i.bindTexture(i.TEXTURE_2D,u.originalTexture):i.bindTexture(i.TEXTURE_2D,u.sourceTexture),i.useProgram(h.program),this.sendAttributeData(i,h.attributeLocations,u.aPosition),i.uniform1f(h.uniformLocations.uStepW,1/u.sourceWidth),i.uniform1f(h.uniformLocations.uStepH,1/u.sourceHeight),this.sendUniformData(i,h.uniformLocations),i.viewport(0,0,u.destinationWidth,u.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(u,i,h){u.activeTexture(h),u.bindTexture(u.TEXTURE_2D,i),u.activeTexture(u.TEXTURE0)},unbindAdditionalTexture:function(u,i){u.activeTexture(i),u.bindTexture(u.TEXTURE_2D,null),u.activeTexture(u.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(u){this[this.mainParameter]=u},sendUniformData:function(){},createHelpLayer:function(u){if(!u.helpLayer){var i=document.createElement("canvas");i.width=u.sourceWidth,i.height=u.sourceHeight,u.helpLayer=i}},toObject:function(){var u={type:this.type},i=this.mainParameter;return i&&(u[i]=this[i]),u},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(u,i){var h=new t.Image.filters[u.type](u);return i&&i(h),h},function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,f=i.util.createClass;h.ColorMatrix=f(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(o){this.callSuper("initialize",o),this.matrix=this.matrix.slice(0)},applyTo2d:function(o){var l=o.imageData,a=l.data,c=a.length,g=this.matrix,d,v,_,b,y,w=this.colorsOnly;for(y=0;y<c;y+=4)d=a[y],v=a[y+1],_=a[y+2],w?(a[y]=d*g[0]+v*g[1]+_*g[2]+g[4]*255,a[y+1]=d*g[5]+v*g[6]+_*g[7]+g[9]*255,a[y+2]=d*g[10]+v*g[11]+_*g[12]+g[14]*255):(b=a[y+3],a[y]=d*g[0]+v*g[1]+_*g[2]+b*g[3]+g[4]*255,a[y+1]=d*g[5]+v*g[6]+_*g[7]+b*g[8]+g[9]*255,a[y+2]=d*g[10]+v*g[11]+_*g[12]+b*g[13]+g[14]*255,a[y+3]=d*g[15]+v*g[16]+_*g[17]+b*g[18]+g[19]*255)},getUniformLocations:function(o,l){return{uColorMatrix:o.getUniformLocation(l,"uColorMatrix"),uConstants:o.getUniformLocation(l,"uConstants")}},sendUniformData:function(o,l){var a=this.matrix,c=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],g=[a[4],a[9],a[14],a[19]];o.uniformMatrix4fv(l.uColorMatrix,!1,c),o.uniform4fv(l.uConstants,g)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Brightness=f(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(o){if(this.brightness!==0){var l=o.imageData,a=l.data,c,g=a.length,d=Math.round(this.brightness*255);for(c=0;c<g;c+=4)a[c]=a[c]+d,a[c+1]=a[c+1]+d,a[c+2]=a[c+2]+d}},getUniformLocations:function(o,l){return{uBrightness:o.getUniformLocation(l,"uBrightness")}},sendUniformData:function(o,l){o.uniform1f(l.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.Convolute=o(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(l){var a=Math.sqrt(this.matrix.length),c=this.type+"_"+a+"_"+(this.opaque?1:0),g=this.fragmentSource[c];return l.programCache.hasOwnProperty(c)||(l.programCache[c]=this.createProgram(l.context,g)),l.programCache[c]},applyTo2d:function(l){var a=l.imageData,c=a.data,g=this.matrix,d=Math.round(Math.sqrt(g.length)),v=Math.floor(d/2),_=a.width,b=a.height,y=l.ctx.createImageData(_,b),w=y.data,C=this.opaque?1:0,S,T,j,W,V,H,Q,se,le,ue,X,K,x;for(X=0;X<b;X++)for(ue=0;ue<_;ue++){for(V=(X*_+ue)*4,S=0,T=0,j=0,W=0,x=0;x<d;x++)for(K=0;K<d;K++)Q=X+x-v,H=ue+K-v,!(Q<0||Q>=b||H<0||H>=_)&&(se=(Q*_+H)*4,le=g[x*d+K],S+=c[se]*le,T+=c[se+1]*le,j+=c[se+2]*le,C||(W+=c[se+3]*le));w[V]=S,w[V+1]=T,w[V+2]=j,C?w[V+3]=c[V+3]:w[V+3]=W}l.imageData=y},getUniformLocations:function(l,a){return{uMatrix:l.getUniformLocation(a,"uMatrix"),uOpaque:l.getUniformLocation(a,"uOpaque"),uHalfSize:l.getUniformLocation(a,"uHalfSize"),uSize:l.getUniformLocation(a,"uSize")}},sendUniformData:function(l,a){l.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Grayscale=f(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(o){var l=o.imageData,a=l.data,c,g=a.length,d,v=this.mode;for(c=0;c<g;c+=4)v==="average"?d=(a[c]+a[c+1]+a[c+2])/3:v==="lightness"?d=(Math.min(a[c],a[c+1],a[c+2])+Math.max(a[c],a[c+1],a[c+2]))/2:v==="luminosity"&&(d=.21*a[c]+.72*a[c+1]+.07*a[c+2]),a[c]=d,a[c+1]=d,a[c+2]=d},retrieveShader:function(o){var l=this.type+"_"+this.mode;if(!o.programCache.hasOwnProperty(l)){var a=this.fragmentSource[this.mode];o.programCache[l]=this.createProgram(o.context,a)}return o.programCache[l]},getUniformLocations:function(o,l){return{uMode:o.getUniformLocation(l,"uMode")}},sendUniformData:function(o,l){var a=1;o.uniform1i(l.uMode,a)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Invert=f(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(o){var l=o.imageData,a=l.data,c,g=a.length;for(c=0;c<g;c+=4)a[c]=255-a[c],a[c+1]=255-a[c+1],a[c+2]=255-a[c+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(o,l){return{uInvert:o.getUniformLocation(l,"uInvert")}},sendUniformData:function(o,l){o.uniform1i(l.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.Noise=o(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(l){if(this.noise!==0){var a=l.imageData,c=a.data,g,d=c.length,v=this.noise,_;for(g=0,d=c.length;g<d;g+=4)_=(.5-Math.random())*v,c[g]+=_,c[g+1]+=_,c[g+2]+=_}},getUniformLocations:function(l,a){return{uNoise:l.getUniformLocation(a,"uNoise"),uSeed:l.getUniformLocation(a,"uSeed")}},sendUniformData:function(l,a){l.uniform1f(a.uNoise,this.noise/255),l.uniform1f(a.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Pixelate=f(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(o){var l=o.imageData,a=l.data,c=l.height,g=l.width,d,v,_,b,y,w,C,S,T,j,W;for(v=0;v<c;v+=this.blocksize)for(_=0;_<g;_+=this.blocksize)for(d=v*4*g+_*4,b=a[d],y=a[d+1],w=a[d+2],C=a[d+3],j=Math.min(v+this.blocksize,c),W=Math.min(_+this.blocksize,g),S=v;S<j;S++)for(T=_;T<W;T++)d=S*4*g+T*4,a[d]=b,a[d+1]=y,a[d+2]=w,a[d+3]=C},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(o,l){return{uBlocksize:o.getUniformLocation(l,"uBlocksize"),uStepW:o.getUniformLocation(l,"uStepW"),uStepH:o.getUniformLocation(l,"uStepH")}},sendUniformData:function(o,l){o.uniform1f(l.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.RemoveColor=o(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(l){var a=l.imageData,c=a.data,g,d=this.distance*255,v,_,b,y=new i.Color(this.color).getSource(),w=[y[0]-d,y[1]-d,y[2]-d],C=[y[0]+d,y[1]+d,y[2]+d];for(g=0;g<c.length;g+=4)v=c[g],_=c[g+1],b=c[g+2],v>w[0]&&_>w[1]&&b>w[2]&&v<C[0]&&_<C[1]&&b<C[2]&&(c[g+3]=0)},getUniformLocations:function(l,a){return{uLow:l.getUniformLocation(a,"uLow"),uHigh:l.getUniformLocation(a,"uHigh")}},sendUniformData:function(l,a){var c=new i.Color(this.color).getSource(),g=parseFloat(this.distance),d=[0+c[0]/255-g,0+c[1]/255-g,0+c[2]/255-g,1],v=[c[0]/255+g,c[1]/255+g,c[2]/255+g,1];l.uniform4fv(a.uLow,d),l.uniform4fv(a.uHigh,v)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,f=i.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var l in o)h[l]=f(h.ColorMatrix,{type:l,matrix:o[l],mainParameter:!1,colorsOnly:!0}),i.Image.filters[l].fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric,h=i.Image.filters,f=i.util.createClass;h.BlendColor=f(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(o){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[o]+`}
}`},retrieveShader:function(o){var l=this.type+"_"+this.mode,a;return o.programCache.hasOwnProperty(l)||(a=this.buildSource(this.mode),o.programCache[l]=this.createProgram(o.context,a)),o.programCache[l]},applyTo2d:function(o){var l=o.imageData,a=l.data,c=a.length,g,d,v,_,b,y,w,C=1-this.alpha;w=new i.Color(this.color).getSource(),g=w[0]*this.alpha,d=w[1]*this.alpha,v=w[2]*this.alpha;for(var S=0;S<c;S+=4)switch(_=a[S],b=a[S+1],y=a[S+2],this.mode){case"multiply":a[S]=_*g/255,a[S+1]=b*d/255,a[S+2]=y*v/255;break;case"screen":a[S]=255-(255-_)*(255-g)/255,a[S+1]=255-(255-b)*(255-d)/255,a[S+2]=255-(255-y)*(255-v)/255;break;case"add":a[S]=_+g,a[S+1]=b+d,a[S+2]=y+v;break;case"diff":case"difference":a[S]=Math.abs(_-g),a[S+1]=Math.abs(b-d),a[S+2]=Math.abs(y-v);break;case"subtract":a[S]=_-g,a[S+1]=b-d,a[S+2]=y-v;break;case"darken":a[S]=Math.min(_,g),a[S+1]=Math.min(b,d),a[S+2]=Math.min(y,v);break;case"lighten":a[S]=Math.max(_,g),a[S+1]=Math.max(b,d),a[S+2]=Math.max(y,v);break;case"overlay":a[S]=g<128?2*_*g/255:255-2*(255-_)*(255-g)/255,a[S+1]=d<128?2*b*d/255:255-2*(255-b)*(255-d)/255,a[S+2]=v<128?2*y*v/255:255-2*(255-y)*(255-v)/255;break;case"exclusion":a[S]=g+_-2*g*_/255,a[S+1]=d+b-2*d*b/255,a[S+2]=v+y-2*v*y/255;break;case"tint":a[S]=g+_*C,a[S+1]=d+b*C,a[S+2]=v+y*C}},getUniformLocations:function(o,l){return{uColor:o.getUniformLocation(l,"uColor")}},sendUniformData:function(o,l){var a=new i.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,o.uniform4fv(l.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric,h=i.Image.filters,f=i.util.createClass;h.BlendImage=f(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(o){var l=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return o.programCache.hasOwnProperty(l)||(o.programCache[l]=this.createProgram(o.context,a)),o.programCache[l]},applyToWebGL:function(o){var l=o.context,a=this.createTexture(o.filterBackend,this.image);this.bindAdditionalTexture(l,a,l.TEXTURE1),this.callSuper("applyToWebGL",o),this.unbindAdditionalTexture(l,l.TEXTURE1)},createTexture:function(o,l){return o.getCachedTexture(l.cacheKey,l._element)},calculateMatrix:function(){var o=this.image,l=o._element.width,a=o._element.height;return[1/o.scaleX,0,0,0,1/o.scaleY,0,-o.left/l,-o.top/a,1]},applyTo2d:function(o){var l=o.imageData,a=o.filterBackend.resources,c=l.data,g=c.length,d=l.width,v=l.height,_,b,y,w,C,S,T,j,W,V,H=this.image,Q;a.blendImage||(a.blendImage=i.util.createCanvasElement()),W=a.blendImage,V=W.getContext("2d"),W.width!==d||W.height!==v?(W.width=d,W.height=v):V.clearRect(0,0,d,v),V.setTransform(H.scaleX,0,0,H.scaleY,H.left,H.top),V.drawImage(H._element,0,0,d,v),Q=V.getImageData(0,0,d,v).data;for(var se=0;se<g;se+=4)switch(C=c[se],S=c[se+1],T=c[se+2],j=c[se+3],_=Q[se],b=Q[se+1],y=Q[se+2],w=Q[se+3],this.mode){case"multiply":c[se]=C*_/255,c[se+1]=S*b/255,c[se+2]=T*y/255,c[se+3]=j*w/255;break;case"mask":c[se+3]=w;break}},getUniformLocations:function(o,l){return{uTransformMatrix:o.getUniformLocation(l,"uTransformMatrix"),uImage:o.getUniformLocation(l,"uImage")}},sendUniformData:function(o,l){var a=this.calculateMatrix();o.uniform1i(l.uImage,1),o.uniformMatrix3fv(l.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(o,l){i.Image.fromObject(o.image,function(a){var c=i.util.object.clone(o);c.image=a,l(new i.Image.filters.BlendImage(c))})}}(e),function(u){var i=u.fabric||(u.fabric={}),h=Math.pow,f=Math.floor,o=Math.sqrt,l=Math.abs,a=Math.round,c=Math.sin,g=Math.ceil,d=i.Image.filters,v=i.util.createClass;d.Resize=v(d.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(_,b){return{uDelta:_.getUniformLocation(b,"uDelta"),uTaps:_.getUniformLocation(b,"uTaps")}},sendUniformData:function(_,b){_.uniform2fv(b.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),_.uniform1fv(b.uTaps,this.taps)},retrieveShader:function(_){var b=this.getFilterWindow(),y=this.type+"_"+b;if(!_.programCache.hasOwnProperty(y)){var w=this.generateShader(b);_.programCache[y]=this.createProgram(_.context,w)}return _.programCache[y]},getFilterWindow:function(){var _=this.tempScale;return Math.ceil(this.lanczosLobes/_)},getTaps:function(){for(var _=this.lanczosCreate(this.lanczosLobes),b=this.tempScale,y=this.getFilterWindow(),w=new Array(y),C=1;C<=y;C++)w[C-1]=_(C*b);return w},generateShader:function(w){for(var b=new Array(w),y=this.fragmentSourceTOP,w,C=1;C<=w;C++)b[C-1]=C+".0 * uDelta";return y+="uniform float uTaps["+w+`];
`,y+=`void main() {
`,y+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,y+=`  float sum = 1.0;
`,b.forEach(function(S,T){y+="  color += texture2D(uTexture, vTexCoord + "+S+") * uTaps["+T+`];
`,y+="  color += texture2D(uTexture, vTexCoord - "+S+") * uTaps["+T+`];
`,y+="  sum += 2.0 * uTaps["+T+`];
`}),y+=`  gl_FragColor = color / sum;
`,y+="}",y},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(_){_.webgl?(_.passes++,this.width=_.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=_.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),_.destinationWidth=this.dW,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceWidth=_.destinationWidth,this.height=_.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),_.destinationHeight=this.dH,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceHeight=_.destinationHeight):this.applyTo2d(_)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(_){return function(b){if(b>=_||b<=-_)return 0;if(b<11920929e-14&&b>-11920929e-14)return 1;b*=Math.PI;var y=b/_;return c(b)/b*c(y)/y}},applyTo2d:function(_){var b=_.imageData,y=this.scaleX,w=this.scaleY;this.rcpScaleX=1/y,this.rcpScaleY=1/w;var C=b.width,S=b.height,T=a(C*y),j=a(S*w),W;this.resizeType==="sliceHack"?W=this.sliceByTwo(_,C,S,T,j):this.resizeType==="hermite"?W=this.hermiteFastResize(_,C,S,T,j):this.resizeType==="bilinear"?W=this.bilinearFiltering(_,C,S,T,j):this.resizeType==="lanczos"&&(W=this.lanczosResize(_,C,S,T,j)),_.imageData=W},sliceByTwo:function(_,b,y,w,C){var S=_.imageData,T=.5,j=!1,W=!1,V=b*T,H=y*T,Q=i.filterBackend.resources,se,le,ue=0,X=0,K=b,x=0;for(Q.sliceByTwo||(Q.sliceByTwo=document.createElement("canvas")),se=Q.sliceByTwo,(se.width<b*1.5||se.height<y)&&(se.width=b*1.5,se.height=y),le=se.getContext("2d"),le.clearRect(0,0,b*1.5,y),le.putImageData(S,0,0),w=f(w),C=f(C);!j||!W;)b=V,y=H,w<f(V*T)?V=f(V*T):(V=w,j=!0),C<f(H*T)?H=f(H*T):(H=C,W=!0),le.drawImage(se,ue,X,b,y,K,x,V,H),ue=K,X=x,x+=H;return le.getImageData(ue,X,w,C)},lanczosResize:function(_,b,y,w,C){function S(F){var I,ee,R,E,U,M,L,z,q,oe,k;for(x.x=(F+.5)*H,D.x=f(x.x),I=0;I<C;I++){for(x.y=(I+.5)*Q,D.y=f(x.y),U=0,M=0,L=0,z=0,q=0,ee=D.x-ue;ee<=D.x+ue;ee++)if(!(ee<0||ee>=b)){oe=f(1e3*l(ee-x.x)),K[oe]||(K[oe]={});for(var O=D.y-X;O<=D.y+X;O++)O<0||O>=y||(k=f(1e3*l(O-x.y)),K[oe][k]||(K[oe][k]=V(o(h(oe*se,2)+h(k*le,2))/1e3)),R=K[oe][k],R>0&&(E=(O*b+ee)*4,U+=R,M+=R*T[E],L+=R*T[E+1],z+=R*T[E+2],q+=R*T[E+3]))}E=(I*w+F)*4,W[E]=M/U,W[E+1]=L/U,W[E+2]=z/U,W[E+3]=q/U}return++F<w?S(F):j}var T=_.imageData.data,j=_.ctx.createImageData(w,C),W=j.data,V=this.lanczosCreate(this.lanczosLobes),H=this.rcpScaleX,Q=this.rcpScaleY,se=2/this.rcpScaleX,le=2/this.rcpScaleY,ue=g(H*this.lanczosLobes/2),X=g(Q*this.lanczosLobes/2),K={},x={},D={};return S(0)},bilinearFiltering:function(_,b,y,w,C){var S,T,j,W,V,H,Q,se,le,ue,X,K,x=0,D,F=this.rcpScaleX,I=this.rcpScaleY,ee=4*(b-1),R=_.imageData,E=R.data,U=_.ctx.createImageData(w,C),M=U.data;for(Q=0;Q<C;Q++)for(se=0;se<w;se++)for(V=f(F*se),H=f(I*Q),le=F*se-V,ue=I*Q-H,D=4*(H*b+V),X=0;X<4;X++)S=E[D+X],T=E[D+4+X],j=E[D+ee+X],W=E[D+ee+4+X],K=S*(1-le)*(1-ue)+T*le*(1-ue)+j*ue*(1-le)+W*le*ue,M[x++]=K;return U},hermiteFastResize:function(_,b,y,w,C){for(var S=this.rcpScaleX,T=this.rcpScaleY,j=g(S/2),W=g(T/2),V=_.imageData,H=V.data,Q=_.ctx.createImageData(w,C),se=Q.data,le=0;le<C;le++)for(var ue=0;ue<w;ue++){for(var X=(ue+le*w)*4,K=0,x=0,D=0,F=0,I=0,ee=0,R=0,E=(le+.5)*T,U=f(le*T);U<(le+1)*T;U++)for(var M=l(E-(U+.5))/W,L=(ue+.5)*S,z=M*M,q=f(ue*S);q<(ue+1)*S;q++){var oe=l(L-(q+.5))/j,k=o(z+oe*oe);k>1&&k<-1||(K=2*k*k*k-3*k*k+1,K>0&&(oe=4*(q+U*b),R+=K*H[oe+3],D+=K,H[oe+3]<255&&(K=K*H[oe+3]/250),F+=K*H[oe],I+=K*H[oe+1],ee+=K*H[oe+2],x+=K))}se[X]=F/x,se[X+1]=I/x,se[X+2]=ee/x,se[X+3]=R/D}return Q},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Contrast=f(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(o){if(this.contrast!==0){var l=o.imageData,a,g,c=l.data,g=c.length,d=Math.floor(this.contrast*255),v=259*(d+255)/(255*(259-d));for(a=0;a<g;a+=4)c[a]=v*(c[a]-128)+128,c[a+1]=v*(c[a+1]-128)+128,c[a+2]=v*(c[a+2]-128)+128}},getUniformLocations:function(o,l){return{uContrast:o.getUniformLocation(l,"uContrast")}},sendUniformData:function(o,l){o.uniform1f(l.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Saturation=f(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(o){if(this.saturation!==0){var l=o.imageData,a=l.data,c=a.length,g=-this.saturation,d,v;for(d=0;d<c;d+=4)v=Math.max(a[d],a[d+1],a[d+2]),a[d]+=v!==a[d]?(v-a[d])*g:0,a[d+1]+=v!==a[d+1]?(v-a[d+1])*g:0,a[d+2]+=v!==a[d+2]?(v-a[d+2])*g:0}},getUniformLocations:function(o,l){return{uSaturation:o.getUniformLocation(l,"uSaturation")}},sendUniformData:function(o,l){o.uniform1f(l.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Vibrance=f(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(o){if(this.vibrance!==0){var l=o.imageData,a=l.data,c=a.length,g=-this.vibrance,d,v,_,b;for(d=0;d<c;d+=4)v=Math.max(a[d],a[d+1],a[d+2]),_=(a[d]+a[d+1]+a[d+2])/3,b=Math.abs(v-_)*2/255*g,a[d]+=v!==a[d]?(v-a[d])*b:0,a[d+1]+=v!==a[d+1]?(v-a[d+1])*b:0,a[d+2]+=v!==a[d+2]?(v-a[d+2])*b:0}},getUniformLocations:function(o,l){return{uVibrance:o.getUniformLocation(l,"uVibrance")}},sendUniformData:function(o,l){o.uniform1f(l.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Blur=f(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(o){o.webgl?(this.aspectRatio=o.sourceWidth/o.sourceHeight,o.passes++,this._setupFrameBuffer(o),this.horizontal=!0,this.applyToWebGL(o),this._swapTextures(o),this._setupFrameBuffer(o),this.horizontal=!1,this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},applyTo2d:function(o){o.imageData=this.simpleBlur(o)},simpleBlur:function(o){var l=o.filterBackend.resources,a,c,g=o.imageData.width,d=o.imageData.height;l.blurLayer1||(l.blurLayer1=i.util.createCanvasElement(),l.blurLayer2=i.util.createCanvasElement()),a=l.blurLayer1,c=l.blurLayer2,(a.width!==g||a.height!==d)&&(c.width=a.width=g,c.height=a.height=d);var v=a.getContext("2d"),_=c.getContext("2d"),b=15,y,w,C,S,T=this.blur*.06*.5;for(v.putImageData(o.imageData,0,0),_.clearRect(0,0,g,d),S=-b;S<=b;S++)y=(Math.random()-.5)/4,w=S/b,C=T*w*g+y,_.globalAlpha=1-Math.abs(w),_.drawImage(a,C,y),v.drawImage(c,0,0),_.globalAlpha=1,_.clearRect(0,0,c.width,c.height);for(S=-b;S<=b;S++)y=(Math.random()-.5)/4,w=S/b,C=T*w*d+y,_.globalAlpha=1-Math.abs(w),_.drawImage(a,y,C),v.drawImage(c,0,0),_.globalAlpha=1,_.clearRect(0,0,c.width,c.height);o.ctx.drawImage(a,0,0);var j=o.ctx.getImageData(0,0,a.width,a.height);return v.globalAlpha=1,v.clearRect(0,0,a.width,a.height),j},getUniformLocations:function(o,l){return{delta:o.getUniformLocation(l,"uDelta")}},sendUniformData:function(o,l){var a=this.chooseRightDelta();o.uniform2fv(l.delta,a)},chooseRightDelta:function(){var o=1,l=[0,0],a;return this.horizontal?this.aspectRatio>1&&(o=1/this.aspectRatio):this.aspectRatio<1&&(o=this.aspectRatio),a=o*this.blur*.12,this.horizontal?l[0]=a:l[1]=a,l}}),h.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Gamma=f(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(o){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,o)},applyTo2d:function(o){var l=o.imageData,a=l.data,c=this.gamma,g=a.length,d=1/c[0],v=1/c[1],_=1/c[2],b;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),b=0,g=256;b<g;b++)this.rVals[b]=Math.pow(b/255,d)*255,this.gVals[b]=Math.pow(b/255,v)*255,this.bVals[b]=Math.pow(b/255,_)*255;for(b=0,g=a.length;b<g;b+=4)a[b]=this.rVals[a[b]],a[b+1]=this.gVals[a[b+1]],a[b+2]=this.bVals[a[b+2]]},getUniformLocations:function(o,l){return{uGamma:o.getUniformLocation(l,"uGamma")}},sendUniformData:function(o,l){o.uniform3fv(l.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Composed=f(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(o){this.callSuper("initialize",o),this.subFilters=this.subFilters.slice(0)},applyTo:function(o){o.passes+=this.subFilters.length-1,this.subFilters.forEach(function(l){l.applyTo(o)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(o){return o.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(o){return!o.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(o,l){var a=o.subFilters||[],c=a.map(function(d){return new i.Image.filters[d.type](d)}),g=new i.Image.filters.Composed({subFilters:c});return l&&l(g),g}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,f=i.util.createClass;h.HueRotation=f(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var o=this.rotation*Math.PI,l=i.util.cos(o),a=i.util.sin(o),c=1/3,g=Math.sqrt(c)*a,d=1-l;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=l+d/3,this.matrix[1]=c*d-g,this.matrix[2]=c*d+g,this.matrix[5]=c*d+g,this.matrix[6]=l+c*d,this.matrix[7]=c*d-g,this.matrix[10]=c*d-g,this.matrix[11]=c*d+g,this.matrix[12]=l+c*d},isNeutralState:function(o){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,o)},applyTo:function(o){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,o)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(f),cacheProperties:i.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(o,l){this.styles=l?l.styles||{}:{},this.text=o,this.__skipDimension=!0,this.callSuper("initialize",l),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var o=this.path;o&&(o.segmentsInfo=i.util.getPathSegmentsInfo(o.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var o=this._splitTextIntoLines(this.text);return this.textLines=o.lines,this._textLines=o.graphemeLines,this._unwrappedTextLines=o._unwrappedLines,this._text=o.graphemeText,o},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var o,l,a,c,g,d,v,_=0,b=this._textLines.length;_<b;_++)if(!(this.textAlign!=="justify"&&(_===b-1||this.isEndOfWrapping(_)))&&(c=0,g=this._textLines[_],l=this.getLineWidth(_),l<this.width&&(v=this.textLines[_].match(this._reSpacesAndTabs)))){a=v.length,o=(this.width-l)/a;for(var y=0,w=g.length;y<=w;y++)d=this.__charBounds[_][y],this._reSpaceAndTab.test(g[y])?(d.width+=o,d.kernedWidth+=o,d.left+=c,c+=o):d.left+=c}},isEndOfWrapping:function(o){return o===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var o=this.callSuper("_getCacheCanvasDimensions"),l=this.fontSize;return o.width+=l*o.zoomX,o.height+=l*o.zoomY,o},_render:function(o){var l=this.path;l&&!l.isNotVisible()&&l._render(o),this._setTextStyles(o),this._renderTextLinesBackground(o),this._renderTextDecoration(o,"underline"),this._renderText(o),this._renderTextDecoration(o,"overline"),this._renderTextDecoration(o,"linethrough")},_renderText:function(o){this.paintFirst==="stroke"?(this._renderTextStroke(o),this._renderTextFill(o)):(this._renderTextFill(o),this._renderTextStroke(o))},_setTextStyles:function(o,l,a){if(o.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":o.textBaseline="middle";break;case"ascender":o.textBaseline="top";break;case"descender":o.textBaseline="bottom";break}o.font=this._getFontDeclaration(l,a)},calcTextWidth:function(){for(var o=this.getLineWidth(0),l=1,a=this._textLines.length;l<a;l++){var c=this.getLineWidth(l);c>o&&(o=c)}return o},_renderTextLine:function(o,l,a,c,g,d){this._renderChars(o,l,a,c,g,d)},_renderTextLinesBackground:function(o){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var l,a,c=o.fillStyle,g,d,v=this._getLeftOffset(),_=this._getTopOffset(),b=0,y=0,w,C,S=this.path,T,j=0,W=this._textLines.length;j<W;j++){if(l=this.getHeightOfLine(j),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",j)){_+=l;continue}g=this._textLines[j],a=this._getLineLeftOffset(j),y=0,b=0,d=this.getValueOfPropertyAt(j,0,"textBackgroundColor");for(var V=0,H=g.length;V<H;V++)w=this.__charBounds[j][V],C=this.getValueOfPropertyAt(j,V,"textBackgroundColor"),S?(o.save(),o.translate(w.renderLeft,w.renderTop),o.rotate(w.angle),o.fillStyle=C,C&&o.fillRect(-w.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),w.width,l/this.lineHeight),o.restore()):C!==d?(T=v+a+b,this.direction==="rtl"&&(T=this.width-T-y),o.fillStyle=d,d&&o.fillRect(T,_,y,l/this.lineHeight),b=w.left,y=w.width,d=C):y+=w.kernedWidth;C&&!S&&(T=v+a+b,this.direction==="rtl"&&(T=this.width-T-y),o.fillStyle=C,o.fillRect(T,_,y,l/this.lineHeight)),_+=l}o.fillStyle=c,this._removeShadow(o)}},getFontCache:function(o){var l=o.fontFamily.toLowerCase();i.charWidthsCache[l]||(i.charWidthsCache[l]={});var a=i.charWidthsCache[l],c=o.fontStyle.toLowerCase()+"_"+(o.fontWeight+"").toLowerCase();return a[c]||(a[c]={}),a[c]},_measureChar:function(o,l,a,c){var g=this.getFontCache(l),d=this._getFontDeclaration(l),v=this._getFontDeclaration(c),_=a+o,b=d===v,y,w,C,S=l.fontSize/this.CACHE_FONT_SIZE,T;if(a&&g[a]!==void 0&&(C=g[a]),g[o]!==void 0&&(T=y=g[o]),b&&g[_]!==void 0&&(w=g[_],T=w-C),y===void 0||C===void 0||w===void 0){var j=this.getMeasuringContext();this._setTextStyles(j,l,!0)}return y===void 0&&(T=y=j.measureText(o).width,g[o]=y),C===void 0&&b&&a&&(C=j.measureText(a).width,g[a]=C),b&&w===void 0&&(w=j.measureText(_).width,g[_]=w,T=w-C),{width:y*S,kernedWidth:T*S}},getHeightOfChar:function(o,l){return this.getValueOfPropertyAt(o,l,"fontSize")},measureLine:function(o){var l=this._measureLine(o);return this.charSpacing!==0&&(l.width-=this._getWidthOfCharSpacing()),l.width<0&&(l.width=0),l},_measureLine:function(o){var l=0,a,c,g=this._textLines[o],d,v,_=0,b=new Array(g.length),y=0,w,C,S=this.path,T=this.pathSide==="right";for(this.__charBounds[o]=b,a=0;a<g.length;a++)c=g[a],v=this._getGraphemeBox(c,o,a,d),b[a]=v,l+=v.kernedWidth,d=c;if(b[a]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},S){switch(C=S.segmentsInfo[S.segmentsInfo.length-1].length,w=i.util.getPointOnPath(S.path,0,S.segmentsInfo),w.x+=S.pathOffset.x,w.y+=S.pathOffset.y,this.textAlign){case"left":y=T?C-l:0;break;case"center":y=(C-l)/2;break;case"right":y=T?0:C-l;break}for(y+=this.pathStartOffset*(T?-1:1),a=T?g.length-1:0;T?a>=0:a<g.length;T?a--:a++)v=b[a],y>C?y%=C:y<0&&(y+=C),this._setGraphemeOnPath(y,v,w),y+=v.kernedWidth}return{width:l,numOfSpaces:_}},_setGraphemeOnPath:function(o,l,a){var c=o+l.kernedWidth/2,g=this.path,d=i.util.getPointOnPath(g.path,c,g.segmentsInfo);l.renderLeft=d.x-a.x,l.renderTop=d.y-a.y,l.angle=d.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(o,l,a,c,g){var d=this.getCompleteStyleDeclaration(l,a),v=c?this.getCompleteStyleDeclaration(l,a-1):{},_=this._measureChar(o,d,c,v),b=_.kernedWidth,y=_.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),y+=w,b+=w);var C={width:y,left:0,height:d.fontSize,kernedWidth:b,deltaY:d.deltaY};if(a>0&&!g){var S=this.__charBounds[l][a-1];C.left=S.left+S.width+_.kernedWidth-_.width}return C},getHeightOfLine:function(o){if(this.__lineHeights[o])return this.__lineHeights[o];for(var l=this._textLines[o],a=this.getHeightOfChar(o,0),c=1,g=l.length;c<g;c++)a=Math.max(this.getHeightOfChar(o,c),a);return this.__lineHeights[o]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var o,l=0,a=0,c=this._textLines.length;a<c;a++)o=this.getHeightOfLine(a),l+=a===c-1?o/this.lineHeight:o;return l},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(o,l){o.save();for(var a=0,c=this._getLeftOffset(),g=this._getTopOffset(),d=0,v=this._textLines.length;d<v;d++){var _=this.getHeightOfLine(d),b=_/this.lineHeight,y=this._getLineLeftOffset(d);this._renderTextLine(l,o,this._textLines[d],c+y,g+a+b,d),a+=_}o.restore()},_renderTextFill:function(o){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(o,"fillText")},_renderTextStroke:function(o){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this._setLineDash(o,this.strokeDashArray),o.beginPath(),this._renderTextCommon(o,"strokeText"),o.closePath(),o.restore())},_renderChars:function(o,l,a,c,g,d){var v=this.getHeightOfLine(d),_=this.textAlign.indexOf("justify")!==-1,b,y,w="",C,S=0,T,j=this.path,W=!_&&this.charSpacing===0&&this.isEmptyStyles(d)&&!j,V=this.direction==="ltr",H=this.direction==="ltr"?1:-1,Q,se=l.canvas.getAttribute("dir");if(l.save(),se!==this.direction&&(l.canvas.setAttribute("dir",V?"ltr":"rtl"),l.direction=V?"ltr":"rtl",l.textAlign=V?"left":"right"),g-=v*this._fontSizeFraction/this.lineHeight,W){this._renderChar(o,l,d,0,a.join(""),c,g,v),l.restore();return}for(var le=0,ue=a.length-1;le<=ue;le++)T=le===ue||this.charSpacing||j,w+=a[le],C=this.__charBounds[d][le],S===0?(c+=H*(C.kernedWidth-C.width),S+=C.width):S+=C.kernedWidth,_&&!T&&this._reSpaceAndTab.test(a[le])&&(T=!0),T||(b=b||this.getCompleteStyleDeclaration(d,le),y=this.getCompleteStyleDeclaration(d,le+1),T=i.util.hasStyleChanged(b,y,!1)),T&&(j?(l.save(),l.translate(C.renderLeft,C.renderTop),l.rotate(C.angle),this._renderChar(o,l,d,le,w,-S/2,0,v),l.restore()):(Q=c,this._renderChar(o,l,d,le,w,Q,g,v)),w="",b=y,c+=H*S,S=0);l.restore()},_applyPatternGradientTransformText:function(o){var l=i.util.createCanvasElement(),a,c=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return l.width=c,l.height=g,a=l.getContext("2d"),a.beginPath(),a.moveTo(0,0),a.lineTo(c,0),a.lineTo(c,g),a.lineTo(0,g),a.closePath(),a.translate(c/2,g/2),a.fillStyle=o.toLive(a),this._applyPatternGradientTransform(a,o),a.fill(),a.createPattern(l,"no-repeat")},handleFiller:function(o,l,a){var c,g;return a.toLive?a.gradientUnits==="percentage"||a.gradientTransform||a.patternTransform?(c=-this.width/2,g=-this.height/2,o.translate(c,g),o[l]=this._applyPatternGradientTransformText(a),{offsetX:c,offsetY:g}):(o[l]=a.toLive(o,this),this._applyPatternGradientTransform(o,a)):(o[l]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(o,l){return o.lineWidth=l.strokeWidth,o.lineCap=this.strokeLineCap,o.lineDashOffset=this.strokeDashOffset,o.lineJoin=this.strokeLineJoin,o.miterLimit=this.strokeMiterLimit,this.handleFiller(o,"strokeStyle",l.stroke)},_setFillStyles:function(o,l){return this.handleFiller(o,"fillStyle",l.fill)},_renderChar:function(o,l,a,c,g,d,v){var _=this._getStyleDeclaration(a,c),b=this.getCompleteStyleDeclaration(a,c),y=o==="fillText"&&b.fill,w=o==="strokeText"&&b.stroke&&b.strokeWidth,C,S;!w&&!y||(l.save(),y&&(C=this._setFillStyles(l,b)),w&&(S=this._setStrokeStyles(l,b)),l.font=this._getFontDeclaration(b),_&&_.textBackgroundColor&&this._removeShadow(l),_&&_.deltaY&&(v+=_.deltaY),y&&l.fillText(g,d-C.offsetX,v-C.offsetY),w&&l.strokeText(g,d-S.offsetX,v-S.offsetY),l.restore())},setSuperscript:function(o,l){return this._setScript(o,l,this.superscript)},setSubscript:function(o,l){return this._setScript(o,l,this.subscript)},_setScript:function(o,l,a){var c=this.get2DCursorLocation(o,!0),g=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"fontSize"),d=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"deltaY"),v={fontSize:g*a.size,deltaY:d+g*a.baseline};return this.setSelectionStyles(v,o,l),this},_getLineLeftOffset:function(o){var l=this.getLineWidth(o),a=this.width-l,c=this.textAlign,g=this.direction,v,d=0,v=this.isEndOfWrapping(o);return c==="justify"||c==="justify-center"&&!v||c==="justify-right"&&!v||c==="justify-left"&&!v?0:(c==="center"&&(d=a/2),c==="right"&&(d=a),c==="justify-center"&&(d=a/2),c==="justify-right"&&(d=a),g==="rtl"&&(d-=a),d)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var o=this._forceClearCache;return o||(o=this.hasStateChanged("_dimensionAffectingProps")),o&&(this.dirty=!0,this._forceClearCache=!1),o},getLineWidth:function(o){if(this.__lineWidths[o]!==void 0)return this.__lineWidths[o];var l=this.measureLine(o),a=l.width;return this.__lineWidths[o]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(o,l,a){var c=this._getStyleDeclaration(o,l);return c&&typeof c[a]<"u"?c[a]:this[a]},_renderTextDecoration:function(o,l){if(!(!this[l]&&!this.styleHas(l))){for(var a,c,g,d,v,_,b,y,w=this._getLeftOffset(),C=this._getTopOffset(),S,T,j,W,V,H,Q,se,le=this.path,ue=this._getWidthOfCharSpacing(),X=this.offsets[l],K=0,x=this._textLines.length;K<x;K++){if(a=this.getHeightOfLine(K),!this[l]&&!this.styleHas(l,K)){C+=a;continue}b=this._textLines[K],H=a/this.lineHeight,d=this._getLineLeftOffset(K),T=0,j=0,y=this.getValueOfPropertyAt(K,0,l),se=this.getValueOfPropertyAt(K,0,"fill"),S=C+H*(1-this._fontSizeFraction),c=this.getHeightOfChar(K,0),v=this.getValueOfPropertyAt(K,0,"deltaY");for(var D=0,F=b.length;D<F;D++)if(W=this.__charBounds[K][D],V=this.getValueOfPropertyAt(K,D,l),Q=this.getValueOfPropertyAt(K,D,"fill"),g=this.getHeightOfChar(K,D),_=this.getValueOfPropertyAt(K,D,"deltaY"),le&&V&&Q)o.save(),o.fillStyle=se,o.translate(W.renderLeft,W.renderTop),o.rotate(W.angle),o.fillRect(-W.kernedWidth/2,X*g+_,W.kernedWidth,this.fontSize/15),o.restore();else if((V!==y||Q!==se||g!==c||_!==v)&&j>0){var I=w+d+T;this.direction==="rtl"&&(I=this.width-I-j),y&&se&&(o.fillStyle=se,o.fillRect(I,S+X*c+v,j,this.fontSize/15)),T=W.left,j=W.width,y=V,se=Q,c=g,v=_}else j+=W.kernedWidth;var I=w+d+T;this.direction==="rtl"&&(I=this.width-I-j),o.fillStyle=Q,V&&Q&&o.fillRect(I,S+X*c+v,j-ue,this.fontSize/15),C+=a}this._removeShadow(o)}},_getFontDeclaration:function(o,l){var a=o||this,c=this.fontFamily,g=i.Text.genericFonts.indexOf(c.toLowerCase())>-1,d=c===void 0||c.indexOf("'")>-1||c.indexOf(",")>-1||c.indexOf('"')>-1||g?a.fontFamily:'"'+a.fontFamily+'"';return[i.isLikelyNode?a.fontWeight:a.fontStyle,i.isLikelyNode?a.fontStyle:a.fontWeight,l?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",d].join(" ")},render:function(o){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",o)))},_splitTextIntoLines:function(o){for(var l=o.split(this._reNewline),a=new Array(l.length),c=[`
`],g=[],d=0;d<l.length;d++)a[d]=i.util.string.graphemeSplit(l[d]),g=g.concat(a[d],c);return g.pop(),{_unwrappedLines:a,lines:l,graphemeText:g,graphemeLines:a}},toObject:function(o){var l=f.concat(o),a=this.callSuper("toObject",l);return a.styles=i.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(o,l){this.callSuper("set",o,l);var a=!1,c=!1;if(typeof o=="object")for(var g in o)g==="path"&&this.setPathInfo(),a=a||this._dimensionAffectingProps.indexOf(g)!==-1,c=c||g==="path";else a=this._dimensionAffectingProps.indexOf(o)!==-1,c=o==="path";return c&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(o,l,a){if(!o)return l(null);var c=i.parseAttributes(o,i.Text.ATTRIBUTE_NAMES),g=c.textAnchor||"left";if(a=i.util.object.extend(a?h(a):{},c),a.top=a.top||0,a.left=a.left||0,c.textDecoration){var d=c.textDecoration;d.indexOf("underline")!==-1&&(a.underline=!0),d.indexOf("overline")!==-1&&(a.overline=!0),d.indexOf("line-through")!==-1&&(a.linethrough=!0),delete a.textDecoration}"dx"in c&&(a.left+=c.dx),"dy"in c&&(a.top+=c.dy),"fontSize"in a||(a.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in o?v=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(v=o.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var _=a.strokeWidth;a.strokeWidth=0;var b=new i.Text(v,a),y=b.getScaledHeight()/b.height,w=(b.height+b.strokeWidth)*b.lineHeight-b.height,C=w*y,S=b.getScaledHeight()+C,T=0;g==="center"&&(T=b.getScaledWidth()/2),g==="right"&&(T=b.getScaledWidth()),b.set({left:b.left-T,top:b.top-(S-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof _<"u"?_:1}),l(b)},i.Text.fromObject=function(o,l){var a=h(o),c=o.path;return delete a.path,i.Object._fromObject("Text",a,function(g){g.styles=i.util.stylesFromArray(o.styles,o.text),c?i.Object._fromObject("Path",c,function(d){g.set("path",d),l(g)},"path"):l(g)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(u){if(!this.styles||typeof u<"u"&&!this.styles[u])return!0;var i=typeof u>"u"?this.styles:{line:this.styles[u]};for(var h in i)for(var f in i[h])for(var o in i[h][f])return!1;return!0},styleHas:function(u,i){if(!this.styles||!u||u===""||typeof i<"u"&&!this.styles[i])return!1;var h=typeof i>"u"?this.styles:{0:this.styles[i]};for(var f in h)for(var o in h[f])if(typeof h[f][o][u]<"u")return!0;return!1},cleanStyle:function(u){if(!this.styles||!u||u==="")return!1;var i=this.styles,h=0,f,o,l=!0,a=0,c;for(var g in i){f=0;for(var d in i[g]){var c=i[g][d],v=c.hasOwnProperty(u);h++,v?(o?c[u]!==o&&(l=!1):o=c[u],c[u]===this[u]&&delete c[u]):l=!1,Object.keys(c).length!==0?f++:delete i[g][d]}f===0&&delete i[g]}for(var _=0;_<this._textLines.length;_++)a+=this._textLines[_].length;l&&h===a&&(this[u]=o,this.removeStyle(u))},removeStyle:function(u){if(!(!this.styles||!u||u==="")){var i=this.styles,h,f,o;for(f in i){h=i[f];for(o in h)delete h[o][u],Object.keys(h[o]).length===0&&delete h[o];Object.keys(h).length===0&&delete i[f]}}},_extendStyles:function(u,i){var h=this.get2DCursorLocation(u);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),i)},get2DCursorLocation:function(u,i){typeof u>"u"&&(u=this.selectionStart);for(var h=i?this._unwrappedTextLines:this._textLines,f=h.length,o=0;o<f;o++){if(u<=h[o].length)return{lineIndex:o,charIndex:u};u-=h[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:h[o-1].length<u?h[o-1].length:u}},getSelectionStyles:function(u,i,h){typeof u>"u"&&(u=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||u);for(var f=[],o=u;o<i;o++)f.push(this.getStyleAtPosition(o,h));return f},getStyleAtPosition:function(u,i){var h=this.get2DCursorLocation(u),f=i?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return f||{}},setSelectionStyles:function(u,i,h){typeof i>"u"&&(i=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||i);for(var f=i;f<h;f++)this._extendStyles(f,u);return this._forceClearCache=!0,this},_getStyleDeclaration:function(u,i){var h=this.styles&&this.styles[u];return h?h[i]:null},getCompleteStyleDeclaration:function(u,i){for(var h=this._getStyleDeclaration(u,i)||{},f={},o,l=0;l<this._styleProperties.length;l++)o=this._styleProperties[l],f[o]=typeof h[o]>"u"?this[o]:h[o];return f},_setStyleDeclaration:function(u,i,h){this.styles[u][i]=h},_deleteStyleDeclaration:function(u,i){delete this.styles[u][i]},_getLineStyle:function(u){return!!this.styles[u]},_setLineStyle:function(u){this.styles[u]={}},_deleteLineStyle:function(u){delete this.styles[u]}})}(),function(){function u(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,h){this.callSuper("initialize",i,h),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,h){this[i]!==h&&(this._fireSelectionChanged(),this[i]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,f=this.canvas.viewportTransform;h.save(),h.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(h),this._clearTextArea(h),i||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,h):this.renderSelection(i,h),h.restore()}},_clearTextArea:function(i){var h=this.width+4,f=this.height+4;i.clearRect(-h/2,-f/2,h,f)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var h=this._getLeftOffset(),f=this._getTopOffset(),o=this._getCursorBoundariesOffsets(i);return{left:h,top:f,leftOffset:o.left,topOffset:o.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,f,o,l=0,a=0,c,g=this.get2DCursorLocation(i);o=g.charIndex,f=g.lineIndex;for(var d=0;d<f;d++)l+=this.getHeightOfLine(d);h=this._getLineLeftOffset(f);var v=this.__charBounds[f][o];return v&&(a=v.left),this.charSpacing!==0&&o===this._textLines[f].length&&(a-=this._getWidthOfCharSpacing()),c={top:l,left:h+(a>0?a:0)},this.direction==="rtl"&&(c.left*=-1),this.cursorOffsetCache=c,this.cursorOffsetCache},renderCursor:function(i,h){var f=this.get2DCursorLocation(),o=f.lineIndex,l=f.charIndex>0?f.charIndex-1:0,a=this.getValueOfPropertyAt(o,l,"fontSize"),c=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/c,d=i.topOffset,v=this.getValueOfPropertyAt(o,l,"deltaY");d+=(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,l,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(i.left+i.leftOffset-g/2,d+i.top+v,g,a)},renderSelection:function(i,h){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,o=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,l=this.textAlign.indexOf("justify")!==-1,a=this.get2DCursorLocation(f),c=this.get2DCursorLocation(o),g=a.lineIndex,d=c.lineIndex,v=a.charIndex<0?0:a.charIndex,_=c.charIndex<0?0:c.charIndex,b=g;b<=d;b++){var y=this._getLineLeftOffset(b)||0,w=this.getHeightOfLine(b),C=0,S=0,T=0;if(b===g&&(S=this.__charBounds[g][v].left),b>=g&&b<d)T=l&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===d)if(_===0)T=this.__charBounds[d][_].left;else{var j=this._getWidthOfCharSpacing();T=this.__charBounds[d][_-1].left+this.__charBounds[d][_-1].width-j}C=w,(this.lineHeight<1||b===d&&this.lineHeight>1)&&(w/=this.lineHeight);var W=i.left+y+S,V=T-S,H=w,Q=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",H=1,Q=w):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(W=this.width-W-V),h.fillRect(W,i.top+i.topOffset+Q,V,H),i.topOffset+=C}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),h=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:h}}}),t.IText.fromObject=function(i,h){var f=t.util.stylesFromArray(i.styles,i.text),o=Object.assign({},i,{styles:f});if(u(o),o.styles)for(var l in o.styles)for(var a in o.styles[l])u(o.styles[l][a]);t.Object._fromObject("IText",o,h,"text")}}(),function(){var u=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var h=i.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,i._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var h=i.canvas;h&&(h._iTextInstances=h._iTextInstances||[],t.util.removeFromArray(h._iTextInstances,i),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,i._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,h,f,o){var l;return l={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",h,{duration:f,onComplete:function(){l.isAborted||i[o]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return l.isAborted}}),l},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var h=this,f=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},f)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var h=0,f=i-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)h++,f--;for(;/\S/.test(this._text[f])&&f>-1;)h++,f--;return i-h},findWordBoundaryRight:function(i){var h=0,f=i;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)h++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)h++,f++;return i+h},findLineBoundaryLeft:function(i){for(var h=0,f=i-1;!/\n/.test(this._text[f])&&f>-1;)h++,f--;return i-h},findLineBoundaryRight:function(i){for(var h=0,f=i;!/\n/.test(this._text[f])&&f<this._text.length;)h++,f++;return i+h},searchWordBoundary:function(i,h){for(var f=this._text,o=this._reSpace.test(f[i])?i-1:i,l=f[o],a=t.reNonWord;!a.test(l)&&o>0&&o<f.length;)o+=h,l=f[o];return a.test(l)&&(o+=h===1?0:1),o},selectWord:function(i){i=i||this.selectionStart;var h=this.searchWordBoundary(i,-1),f=this.searchWordBoundary(i,1);this.selectionStart=h,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var h=this.findLineBoundaryLeft(i),f=this.findLineBoundaryRight(i);return this.selectionStart=h,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var h=this.getSelectionStartFromPointer(i.e),f=this.selectionStart,o=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||f===o)&&(f===h||o===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==o)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,h,f){var o=f.slice(0,i),l=t.util.string.graphemeSplit(o).length;if(i===h)return{selectionStart:l,selectionEnd:l};var a=f.slice(i,h),c=t.util.string.graphemeSplit(a).length;return{selectionStart:l,selectionEnd:l+c}},fromGraphemeToStringSelection:function(i,h,f){var o=f.slice(0,i),l=o.join("").length;if(i===h)return{selectionStart:l,selectionEnd:l};var a=f.slice(i,h),c=a.join("").length;return{selectionStart:l,selectionEnd:l+c}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(i),f=this.get2DCursorLocation(i),o=f.lineIndex,l=f.charIndex,a=this.getValueOfPropertyAt(o,l,"fontSize")*this.lineHeight,c=h.leftOffset,g=this.calcTransformMatrix(),d={x:h.left+c,y:h.top+h.topOffset+a},v=this.canvas.getRetinaScaling(),_=this.canvas.upperCanvasEl,b=_.width/v,y=_.height/v,w=b-a,C=y-a,S=_.clientWidth/b,T=_.clientHeight/y;return d=t.util.transformPoint(d,g),d=t.util.transformPoint(d,this.canvas.viewportTransform),d.x*=S,d.y*=T,d.x<0&&(d.x=0),d.x>w&&(d.x=w),d.y<0&&(d.y=0),d.y>C&&(d.y=C),d.x+=this.canvas._offset.left,d.y+=this.canvas._offset.top,{left:d.x+"px",top:d.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,h){var f=this.get2DCursorLocation(i,!0),o=this.get2DCursorLocation(h,!0),l=f.lineIndex,a=f.charIndex,c=o.lineIndex,g=o.charIndex,d,v;if(l!==c){if(this.styles[l])for(d=a;d<this._unwrappedTextLines[l].length;d++)delete this.styles[l][d];if(this.styles[c])for(d=g;d<this._unwrappedTextLines[c].length;d++)v=this.styles[c][d],v&&(this.styles[l]||(this.styles[l]={}),this.styles[l][a+d-g]=v);for(d=l+1;d<=c;d++)delete this.styles[d];this.shiftLineStyles(c,l-c)}else if(this.styles[l]){v=this.styles[l];var _=g-a,b,y;for(d=a;d<g;d++)delete v[d];for(y in this.styles[l])b=parseInt(y,10),b>=g&&(v[b-_]=v[y],delete v[y])}},shiftLineStyles:function(i,h){var f=u(this.styles);for(var o in this.styles){var l=parseInt(o,10);l>i&&(this.styles[l+h]=f[l],f[l-h]||delete this.styles[l])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,h,f,o){var l,a={},c=!1,g=this._unwrappedTextLines[i].length===h;f||(f=1),this.shiftLineStyles(i,f),this.styles[i]&&(l=this.styles[i][h===0?h:h-1]);for(var d in this.styles[i]){var v=parseInt(d,10);v>=h&&(c=!0,a[v-h]=this.styles[i][d],g&&h===0||delete this.styles[i][d])}var _=!1;for(c&&!g&&(this.styles[i+f]=a,_=!0),_&&f--;f>0;)o&&o[f-1]?this.styles[i+f]={0:u(o[f-1])}:l?this.styles[i+f]={0:u(l)}:delete this.styles[i+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(i,h,f,o){this.styles||(this.styles={});var l=this.styles[i],a=l?u(l):{};f||(f=1);for(var c in a){var g=parseInt(c,10);g>=h&&(l[g+f]=a[g],a[g-f]||delete l[g])}if(this._forceClearCache=!0,o){for(;f--;)Object.keys(o[f]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][h+f]=u(o[f]));return}if(l)for(var d=l[h?h-1:1];d&&f--;)this.styles[i][h+f]=u(d)},insertNewStyleBlock:function(i,h,f){for(var o=this.get2DCursorLocation(h,!0),l=[0],a=0,c=0;c<i.length;c++)i[c]===`
`?(a++,l[a]=0):l[a]++;l[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,l[0],f),f=f&&f.slice(l[0]+1)),a&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+l[0],a);for(var c=1;c<a;c++)l[c]>0?this.insertCharStyleObject(o.lineIndex+c,0,l[c],f):f&&this.styles[o.lineIndex+c]&&f[0]&&(this.styles[o.lineIndex+c][0]=f[0]),f=f&&f.slice(l[c]+1);l[c]>0&&this.insertCharStyleObject(o.lineIndex+c,0,l[c],f)},setSelectionStartEndWithShift:function(i,h,f){f<=i?(h===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=f):f>i&&f<h?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(h===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=f)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(u){if(this.canvas){this.__newClickTime=+new Date;var i=u.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",u),this._stopEvent(u.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(u){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===u.x&&this.__lastPointer.y===u.y},_stopEvent:function(u){u.preventDefault&&u.preventDefault(),u.stopPropagation&&u.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(u){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(u.e))},tripleClickHandler:function(u){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(u.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(u.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(u){if(this.__isMousedown=!1,!(!this.editable||this.group||u.transform&&u.transform.actionPerformed||u.e.button&&u.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(u.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(u){var i=this.getSelectionStartFromPointer(u),h=this.selectionStart,f=this.selectionEnd;u.shiftKey?this.setSelectionStartEndWithShift(h,f,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(u){for(var i=this.getLocalPointer(u),h=0,f=0,o=0,l=0,a=0,c,g,d=0,v=this._textLines.length;d<v&&o<=i.y;d++)o+=this.getHeightOfLine(d)*this.scaleY,a=d,d>0&&(l+=this._textLines[d-1].length+this.missingNewlineOffset(d-1));c=this._getLineLeftOffset(a),f=c*this.scaleX,g=this._textLines[a],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+f);for(var _=0,b=g.length;_<b&&(h=f,f+=this.__charBounds[a][_].kernedWidth*this.scaleX,f<=i.x);_++)l++;return this._getNewSelectionStartFromOffset(i,h,f,l,b)},_getNewSelectionStartFromOffset:function(u,i,h,f,o){var l=u.x-i,a=h-u.x,c=a>l||a<0?0:1,g=f+c;return this.flipX&&(g=o-g),g>this._text.length&&(g=this._text.length),g}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var u=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+u.top+"; left: "+u.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+u.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(u){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(u.keyCode in i)this[i[u.keyCode]](u);else if(u.keyCode in this.ctrlKeysMapDown&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapDown[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),u.keyCode>=33&&u.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(u){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(u.keyCode in this.ctrlKeysMapUp&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapUp[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(u){var i=this.fromPaste;if(this.fromPaste=!1,u&&u.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,o=h.length,l,a,c=o-f,g=this.selectionStart,d=this.selectionEnd,v=g!==d,_,b,y;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),C=g>w.selectionStart;v?(l=this._text.slice(g,d),c+=d-g):o<f&&(C?l=this._text.slice(d+c,d):l=this._text.slice(g,g-c)),a=h.slice(w.selectionEnd-c,w.selectionEnd),l&&l.length&&(a.length&&(_=this.getSelectionStyles(g,g+1,!1),_=a.map(function(){return _[0]})),v?(b=g,y=d):C?(b=d-l.length,y=d):(b=d,y=d+l.length),this.removeStyleFromTo(b,y)),a.length&&(i&&a.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(_=t.copiedTextStyle),this.insertNewStyleBlock(a,g,_)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(u){this.compositionStart=u.target.selectionStart,this.compositionEnd=u.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(u){return u&&u.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(u,i){var h=this._getLineLeftOffset(u),f;return i>0&&(f=this.__charBounds[u][i-1],h+=f.left+f.width),h},getDownCursorOffset:function(u,i){var h=this._getSelectionForOffset(u,i),f=this.get2DCursorLocation(h),o=f.lineIndex;if(o===this._textLines.length-1||u.metaKey||u.keyCode===34)return this._text.length-h;var l=f.charIndex,a=this._getWidthBeforeCursor(o,l),c=this._getIndexOnLine(o+1,a),g=this._textLines[o].slice(l);return g.length+c+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(u,i){return u.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(u,i){var h=this._getSelectionForOffset(u,i),f=this.get2DCursorLocation(h),o=f.lineIndex;if(o===0||u.metaKey||u.keyCode===33)return-h;var l=f.charIndex,a=this._getWidthBeforeCursor(o,l),c=this._getIndexOnLine(o-1,a),g=this._textLines[o].slice(0,l),d=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+c-g.length+(1-d)},_getIndexOnLine:function(u,i){for(var h=this._textLines[u],f=this._getLineLeftOffset(u),o=f,l=0,a,c,g=0,d=h.length;g<d;g++)if(a=this.__charBounds[u][g].width,o+=a,o>i){c=!0;var v=o-a,_=o,b=Math.abs(v-i),y=Math.abs(_-i);l=y<b?g:g-1;break}return c||(l=h.length-1),l},moveCursorDown:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",u)},moveCursorUp:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",u)},_moveCursorUpOrDown:function(u,i){var h="get"+u+"CursorOffset",f=this[h](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(u){var i=this._selectionDirection==="left"?this.selectionStart+u:this.selectionEnd+u;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),u!==0},moveCursorWithoutShift:function(u){return u<0?(this.selectionStart+=u,this.selectionEnd=this.selectionStart):(this.selectionEnd+=u,this.selectionStart=this.selectionEnd),u!==0},moveCursorLeft:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",u)},_move:function(u,i,h){var f;if(u.altKey)f=this["findWordBoundary"+h](this[i]);else if(u.metaKey||u.keyCode===35||u.keyCode===36)f=this["findLineBoundary"+h](this[i]);else return this[i]+=h==="Left"?-1:1,!0;if(typeof f<"u"&&this[i]!==f)return this[i]=f,!0},_moveLeft:function(u,i){return this._move(u,i,"Left")},_moveRight:function(u,i){return this._move(u,i,"Right")},moveCursorLeftWithoutShift:function(u){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(u,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(u){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(u,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(u,"selectionStart")},moveCursorRight:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",u)},_moveCursorLeftOrRight:function(u,i){var h="moveCursor"+u+"With";this._currentCursorOpacity=1,i.shiftKey?h+="Shift":h+="outShift",this[h](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(u){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(u,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(u,"selectionEnd")},moveCursorRightWithoutShift:function(u){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(u,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(u,i){typeof i>"u"&&(i=u+1),this.removeStyleFromTo(u,i),this._text.splice(u,i-u),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(u,i,h,f){typeof f>"u"&&(f=h),f>h&&this.removeStyleFromTo(h,f);var o=t.util.string.graphemeSplit(u);this.insertNewStyleBlock(o,h,i),this._text=[].concat(this._text.slice(0,h),o,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var u=t.util.toFixed,i=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),f=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(f)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var f=!0,o=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(f),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,f){var o=[],l=[],a=h,c;this._setSVGBg(l);for(var g=0,d=this._textLines.length;g<d;g++)c=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(l,g,f+c,a),this._setSVGTextLineText(o,g,f+c,a),a+=this.getHeightOfLine(g);return{textSpans:o,textBgRects:l}},_createTextCharSpan:function(h,f,o,l){var a=h!==h.trim()||h.match(i),c=this.getSvgSpanStyles(f,a),g=c?'style="'+c+'"':"",d=f.deltaY,v="",_=t.Object.NUM_FRACTION_DIGITS;return d&&(v=' dy="'+u(d,_)+'" '),['<tspan x="',u(o,_),'" y="',u(l,_),'" ',v,g,">",t.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,f,o,l){var a=this.getHeightOfLine(f),c=this.textAlign.indexOf("justify")!==-1,g,d,v="",_,b,y=0,w=this._textLines[f],C;l+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var S=0,T=w.length-1;S<=T;S++)C=S===T||this.charSpacing,v+=w[S],_=this.__charBounds[f][S],y===0?(o+=_.kernedWidth-_.width,y+=_.width):y+=_.kernedWidth,c&&!C&&this._reSpaceAndTab.test(w[S])&&(C=!0),C||(g=g||this.getCompleteStyleDeclaration(f,S),d=this.getCompleteStyleDeclaration(f,S+1),C=t.util.hasStyleChanged(g,d,!0)),C&&(b=this._getStyleDeclaration(f,S)||{},h.push(this._createTextCharSpan(v,b,o,l)),v="",g=d,o+=y,y=0)},_pushTextBgRect:function(h,f,o,l,a,c){var g=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(f),' x="',u(o,g),'" y="',u(l,g),'" width="',u(a,g),'" height="',u(c,g),`"></rect>
`)},_setSVGTextLineBg:function(h,f,o,l){for(var a=this._textLines[f],c=this.getHeightOfLine(f)/this.lineHeight,g=0,d=0,v,_,b=this.getValueOfPropertyAt(f,0,"textBackgroundColor"),y=0,w=a.length;y<w;y++)v=this.__charBounds[f][y],_=this.getValueOfPropertyAt(f,y,"textBackgroundColor"),_!==b?(b&&this._pushTextBgRect(h,b,o+d,l,g,c),d=v.left,g=v.width,b=_):g+=v.kernedWidth;_&&this._pushTextBgRect(h,_,o+d,l,g,c)},_getFillAttributes:function(h){var f=h&&typeof h=="string"?new t.Color(h):"";return!f||!f.getSource()||f.getAlpha()===1?'fill="'+h+'"':'opacity="'+f.getAlpha()+'" fill="'+f.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var f=0,o=0,l=0;l<h;l++)f+=this.getHeightOfLine(l);return o=this.getHeightOfLine(l),{lineTop:f,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var f=t.Object.prototype.getSvgStyles.call(this,h);return f+" white-space: pre;"}})}(),function(u){var i=u.fabric||(u.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var f=0,o=0,l=0,a={},c=0;c<h.graphemeLines.length;c++)h.graphemeText[l]===`
`&&c>0?(o=0,l++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[l])&&c>0&&(o++,l++),a[c]={line:f,offset:o},l+=h.graphemeLines[c].length,o+=h.graphemeLines[c].length;return a},styleHas:function(h,f){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[f];o&&(f=o.line)}return i.Text.prototype.styleHas.call(this,h,f)},isEmptyStyles:function(h){if(!this.styles)return!0;var f=0,o=h+1,l,a,c=!1,g=this._styleMap[h],d=this._styleMap[h+1];g&&(h=g.line,f=g.offset),d&&(o=d.line,c=o===h,l=d.offset),a=typeof h>"u"?this.styles:{line:this.styles[h]};for(var v in a)for(var _ in a[v])if(_>=f&&(!c||_<l))for(var b in a[v][_])return!1;return!0},_getStyleDeclaration:function(h,f){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[h];if(!o)return null;h=o.line,f=o.offset+f}return this.callSuper("_getStyleDeclaration",h,f)},_setStyleDeclaration:function(h,f,o){var l=this._styleMap[h];h=l.line,f=l.offset+f,this.styles[h][f]=o},_deleteStyleDeclaration:function(h,f){var o=this._styleMap[h];h=o.line,f=o.offset+f,delete this.styles[h][f]},_getLineStyle:function(h){var f=this._styleMap[h];return!!this.styles[f.line]},_setLineStyle:function(h){var f=this._styleMap[h];this.styles[f.line]={}},_wrapText:function(h,f){var o=[],l;for(this.isWrapping=!0,l=0;l<h.length;l++)o=o.concat(this._wrapLine(h[l],l,f));return this.isWrapping=!1,o},_measureWord:function(h,f,o){var l=0,a,c=!0;o=o||0;for(var g=0,d=h.length;g<d;g++){var v=this._getGraphemeBox(h[g],f,g+o,a,c);l+=v.kernedWidth,a=h[g]}return l},_wrapLine:function(h,f,o,W){var a=0,c=this.splitByGrapheme,g=[],d=[],v=c?i.util.string.graphemeSplit(h):h.split(this._wordJoiners),_="",b=0,y=c?"":" ",w=0,C=0,S=0,T=!0,j=this._getWidthOfCharSpacing(),W=W||0;v.length===0&&v.push([]),o-=W;for(var V=0;V<v.length;V++)_=c?v[V]:i.util.string.graphemeSplit(v[V]),w=this._measureWord(_,f,b),b+=_.length,a+=C+w-j,a>o&&!T?(g.push(d),d=[],a=w,T=!0):a+=j,!T&&!c&&d.push(y),d=d.concat(_),C=c?0:this._measureWord([y],f,b),b++,T=!1,w>S&&(S=w);return V&&g.push(d),S+W>this.dynamicMinWidth&&(this.dynamicMinWidth=S-j+W),g},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var f=i.Text.prototype._splitTextIntoLines.call(this,h),o=this._wrapText(f.lines,this.width),l=new Array(o.length),a=0;a<o.length;a++)l[a]=o[a].join("");return f.lines=l,f.graphemeLines=o,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var f in this._styleMap)this._textLines[f]&&(h[this._styleMap[f].line]=1);for(var f in this.styles)h[f]||delete this.styles[f]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),i.Textbox.fromObject=function(h,f){var o=i.util.stylesFromArray(h.styles,h.text),l=Object.assign({},h,{styles:o});return i.Object._fromObject("Textbox",l,f,"text")}}(e),function(){var u=t.controlsUtils,i=u.scaleSkewCursorStyleHandler,h=u.scaleCursorStyleHandler,f=u.scalingEqually,o=u.scalingYOrSkewingX,l=u.scalingXOrSkewingY,a=u.scaleOrSkewActionName,c=t.Object.prototype.controls;if(c.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),c.mr=new t.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),c.mb=new t.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),c.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),c.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:f}),c.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:f}),c.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:f}),c.br=new t.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:f}),c.mtr=new t.Control({x:0,y:-.5,actionHandler:u.rotationWithSnapping,cursorStyleHandler:u.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var g=t.Textbox.prototype.controls={};g.mtr=c.mtr,g.tr=c.tr,g.br=c.br,g.tl=c.tl,g.bl=c.bl,g.mt=c.mt,g.mb=c.mb,g.mr=new t.Control({x:.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),g.ml=new t.Control({x:-.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(Se);class PM{constructor(t){Ne(this,"canvas");Ne(this,"workspaceEl");Ne(this,"workspace");Ne(this,"option");Ne(this,"handler");Ne(this,"unitEnum");this.handler=t,this.canvas=t.canvas;const n=t.container;if(!n)throw new Error("element #workspace is missing, plz check!");this.workspaceEl=n,this.workspace=null,this.option=t.workareaOption,this.initialize(),this.unitEnum={cm:37.9,mm:3.78,px:1}}initialize(){this._initBackground(),this._initWorkspace(),this._initResizeObserve()}_initBackground(){this.canvas.backgroundImage="",this.canvas.setWidth(this.workspaceEl.offsetWidth).setHeight(this.workspaceEl.offsetHeight)}_initWorkspace(){const t=new Se.fabric.Rect(this.option);this.canvas.add(t),this.canvas.renderAll(),this.workspace=t,this.auto()}setCenterFromObject(t){const{canvas:n}=this,r=t.getCenterPoint(),s=n.viewportTransform;if(n.width===void 0||n.height===void 0||!s)return;const p=20;s[4]=n.width/2-r.x*s[0]+p,s[5]=n.height/2-r.y*s[3],n.setViewportTransform(s),n.renderAll()}_initResizeObserve(){new ResizeObserver(()=>{this.auto()}).observe(this.workspaceEl)}setSize(t,n){var s;this._initBackground();const r=((s=this.workspace)==null?void 0:s.unit)||"px";this.option.width=t*this.unitEnum[r],this.option.height=n*this.unitEnum[r],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("width",this.option.width),this.workspace.set("height",this.option.height),this.auto()}getBili(){return this.option.width/this.option.height}setWidth(t){var r;this._initBackground();const n=((r=this.workspace)==null?void 0:r.unit)||"px";this.option.width=t*this.unitEnum[n],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("width",t),this.auto()}setHeight(t){var r;this._initBackground();const n=((r=this.workspace)==null?void 0:r.unit)||"px";this.option.height=t*this.unitEnum[n],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("height",t),this.auto()}setZoomAuto(t,n){const{workspaceEl:r}=this,s=r.offsetWidth,p=r.offsetHeight;this.canvas.setWidth(s),this.canvas.setHeight(p);const m=this.canvas.getCenter();this.canvas.setViewportTransform(Se.fabric.iMatrix.concat()),this.canvas.zoomToPoint(new Se.fabric.Point(m.left,m.top),t),this.workspace&&(this.setCenterFromObject(this.workspace),this.workspace.clone(u=>{this.canvas.clipPath=u,this.canvas.requestRenderAll()}),n&&n(this.workspace.left,this.workspace.top))}unpdateUnit(t){var n;(n=this.workspace)==null||n.set("unit",t)}_getScale(){const t=this.workspaceEl.offsetWidth,n=this.workspaceEl.offsetHeight;return t/n<this.option.width/this.option.height?t/this.option.width:n/this.option.height}big(){let t=this.canvas.getZoom();t+=.05,this.setZoomAuto(t>5?5:t)}small(){let t=this.canvas.getZoom();t-=.05,this.setZoomAuto(t<0?.01:t)}auto(){const t=this._getScale();this.setZoomAuto(t-.08<.01?.01:t-.08)}one(){this.setZoomAuto(.8-.08),this.canvas.requestRenderAll()}getAutoScale(){return this._getScale()}}class kM{constructor(t){Ne(this,"handler");this.handler=t}async Image(t){const n=this.handler.utils.getFileType(t.src)||this.handler.utils.getBase64ImageType(t.src);if(n=="svg")return t.type="svg",this.addSvg(t);if(n&&["jpg","png","jpeg"].includes(n))return this.addImage(t)}addSvg(t){return new Promise(n=>{const{src:r,path:s,...p}=t,{width:m}=this.handler.workareaHandler.option;if(r)r&&Se.fabric.loadSVGFromURL(r,(u,i)=>{const h=Se.fabric.util.groupSVGElements(u,i);if(h.width>m){const f=m/h.width;h.set({scaleX:f,scaleY:f})}h.set({crossOrigin:"Anonymous",src:r,...p}),n(h)});else{const u=new Se.fabric.Path(s);n(u)}})}async addImage(t){const{src:n,...r}=t,{objectOption:s}=this.handler,p=new Image;p.crossOrigin="Anonymous";const m=new Se.fabric.Image(p,{clipPath:null,...JSON.parse(JSON.stringify(s)),...r});return m.crossOrigin="Anonymous",await this.handler.setImage(m,n),m}}class AM{constructor(t){Ne(this,"handler");Ne(this,"find",t=>this.findById(t.id));Ne(this,"findById",t=>{let n=null;return this.handler.canvas.getObjects().some(s=>s.id===t?(n=s,!0):!1)?n:null});this.handler=t}getFileType(t){if(t){if(t=t.split("?")[0],t){const n=t.lastIndexOf(".");return t.substring(n+1)}return""}}getBase64ImageType(t){if(!t)return;const n=/data:image\/([a-zA-Z]*);/,r=t.match(n);return r&&r[1]?r[1]:"png"}uuid(){return Sc()}}class MM{constructor(t){Ne(this,"handler");this.handler=t}}const RM="/vue-design-editor/assets/middlecontrol-a163c615.svg",DM="/vue-design-editor/assets/middlecontrolhoz-9b7cc4b3.svg",IM="/vue-design-editor/assets/edgecontrol-dbe38ac6.svg",FM="/vue-design-editor/assets/rotateicon-ec6729f2.svg";Se.fabric.Object.NUM_FRACTION_DIGITS=4;function Xs(e,t,n,r,s,p,m){m!==void 0&&(e.save(),e.translate(t,n),e.rotate(Se.fabric.util.degreesToRadians(m)),e.drawImage(r,-s/2,-p/2,s,p),e.restore())}function LM(){const e=document.createElement("img");e.src=RM;const t=document.createElement("img");t.src=DM;function n(s,p,m,u,i){Xs(s,p,m,e,20,25,i.angle)}function r(s,p,m,u,i){Xs(s,p,m,t,25,20,i.angle)}Se.fabric.Object.prototype.controls.ml=new Se.fabric.Control({x:-.5,y:0,offsetX:-1,cursorStyleHandler:Se.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingXOrSkewingY,getActionName:Se.fabric.controlsUtils.scaleOrSkewActionName,render:n}),Se.fabric.Object.prototype.controls.mr=new Se.fabric.Control({x:.5,y:0,offsetX:1,cursorStyleHandler:Se.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingXOrSkewingY,getActionName:Se.fabric.controlsUtils.scaleOrSkewActionName,render:n}),Se.fabric.Object.prototype.controls.mb=new Se.fabric.Control({x:0,y:.5,offsetY:1,cursorStyleHandler:Se.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingYOrSkewingX,getActionName:Se.fabric.controlsUtils.scaleOrSkewActionName,render:r}),Se.fabric.Object.prototype.controls.mt=new Se.fabric.Control({x:0,y:-.5,offsetY:-1,cursorStyleHandler:Se.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingYOrSkewingX,getActionName:Se.fabric.controlsUtils.scaleOrSkewActionName,render:r})}function BM(){const e=document.createElement("img");e.src=IM;function t(n,r,s,p,m){Xs(n,r,s,e,25,25,m.angle)}Se.fabric.Object.prototype.controls.tl=new Se.fabric.Control({x:-.5,y:-.5,cursorStyleHandler:Se.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingEqually,render:t}),Se.fabric.Object.prototype.controls.bl=new Se.fabric.Control({x:-.5,y:.5,cursorStyleHandler:Se.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingEqually,render:t}),Se.fabric.Object.prototype.controls.tr=new Se.fabric.Control({x:.5,y:-.5,cursorStyleHandler:Se.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingEqually,render:t}),Se.fabric.Object.prototype.controls.br=new Se.fabric.Control({x:.5,y:.5,cursorStyleHandler:Se.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Se.fabric.controlsUtils.scalingEqually,render:t})}function jM(){const e=document.createElement("img");e.src=FM;function t(n,r,s,p,m){Xs(n,r,s,e,40,40,m.angle)}Se.fabric.Object.prototype.controls.mtr=new Se.fabric.Control({x:0,y:.5,cursorStyleHandler:Se.fabric.controlsUtils.rotationStyleHandler,actionHandler:Se.fabric.controlsUtils.rotationWithSnapping,offsetY:30,actionName:"rotate",render:t})}class NM{constructor(){this.init()}init(){BM(),LM(),jM(),Se.fabric.Object.prototype.set({transparentCorners:!1,borderColor:"#51B9F9",cornerColor:"#FFF",borderScaleFactor:2.5,cornerStyle:"circle",cornerStrokeColor:"#0E98FC",borderOpacityWhenMoving:1})}destroy(){console.log("pluginDestroy")}}const zM={debounce(e,t){let n=null;return function(){n!==null&&clearTimeout(n),n=setTimeout(e,t)}},deepClone(e){let t;if(typeof e=="object")if(Array.isArray(e)){t=[];for(let n=0;n<e.length;n++)Object.prototype.hasOwnProperty.call(e,n)&&t.push(this.deepClone(e[n]))}else if(e===null)t=null;else if(e.constructor===RegExp)t=e;else{t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=this.deepClone(e[n]))}else t=e;return t},isPromise(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}};class $M{constructor(t){Ne(this,"workareaOption");Ne(this,"workareaHandler");Ne(this,"fabricObjects");Ne(this,"utils");Ne(this,"imageHandler");Ne(this,"objectOption");Ne(this,"control");Ne(this,"canvas");Ne(this,"onAdd");Ne(this,"init");Ne(this,"editable");Ne(this,"container");Ne(this,"initOption",t=>{this.setObjectOption(t.objectOption)});Ne(this,"setObjectOption",t=>{this.objectOption=Object.assign({},this.objectOption,t)});Ne(this,"select",(t,n=!1)=>{let r=t;n&&(r=this.utils.find(t)),r&&(this.canvas.discardActiveObject(),this.canvas.setActiveObject(r),this.canvas.requestRenderAll())});Ne(this,"setImage",(t,n)=>new Promise(r=>{if(this.canvas.contextTop)if(n instanceof File){const s=new FileReader;s.onload=()=>{t.set("file",n),t.set("src",null),t.setSrc(s.result,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0})},s.readAsDataURL(n)}else t.set("file",null),t.set("src",n),t.setSrc(n,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0,crossOrigin:"Anonymous"})}));Ne(this,"add",async t=>{const{editable:n}=this,r={editable:n,hasControls:n,hasBorders:n,selectable:n,lockMovementX:!n,lockMovementY:!n},s=Object.assign({},JSON.parse(JSON.stringify(this.objectOption)),t,r,{container:this.container});let p;t.type=="material"&&(t.type="Image");try{p=this.fabricObjects[t.type](s)}catch(m){console.error(m);return}if(zM.isPromise(p)){const m=await p;p=this.addContent(m)}else p&&(p=this.addContent(p));return p});this.workareaOption=t.workareaOption,this.canvas=t.canvas,this.container=t.container,this.editable=t.editable,this.onAdd=t.onAdd,this.init=t.init,this.workareaHandler=new PM(this),this.fabricObjects=new kM(this),this.utils=new AM(this),this.imageHandler=new MM(this),this.control=new NM,this.initialize(t)}async initialize(t){const{init:n}=this;this.initOption(t),n&&n()}addContent(t){const{onAdd:n}=this;return t&&(t.id||(t.id=this.utils.uuid()),this.canvas.add(t),n&&n(t)),this.canvas.renderAll(),t}}const Vf=12,HM={props:{workareaOption:{type:Object,default:()=>({})},editable:{type:Boolean,default:!0},objectOption:{type:Object,default:()=>({})},onAdd:{type:Function},init:{type:Function}},setup(e){const t=fe(Sc());let n;const r=fe(),s=fe();return Ke(()=>{const{offsetWidth:p,offsetHeight:m}=r.value.parentElement.parentElement,u=Object.assign({height:m-Vf,width:p-Vf,fireRightClick:!0,stopContextMenu:!0,enableRetinaScaling:!0,controlsAboveOverlay:!0});n=new Se.fabric.Canvas(`canvas_${t.value}`,u),n.renderAll(),s.value=new $M({id:t.value,canvas:n,container:r.value,...e}),n.selectionColor="rgba(196,235,255,0.3)",n.selectionBorderColor="#6ccfff",n.selectionLineWidth=1}),{id:t,parentCanvas:r,handler:s}}},UM=["id"],WM=["id"];function YM(e,t,n,r,s,p){return te(),he("div",{style:{width:"100%",height:"100%"},ref:"parentCanvas",class:"parentCanvas",id:r.id},[ie("canvas",{id:`canvas_${r.id}`},null,8,WM)],8,UM)}const XM=mt(HM,[["render",YM]]),VM={trigger:"color",width:260,height:641,lockScalingX:!0,lockScalingY:!0,scaleX:1,scaleY:1,fill:"#fff",hasBorders:!1,hasControls:!1,selectable:!1,lockMovementX:!0,lockMovementY:!0,hoverCursor:"default",name:"",id:"workarea",unit:"px",isElement:!1};var GM=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const KM={name:"AtomSpinner",props:{animationDuration:{type:Number,default:1e3},size:{type:Number,default:60},color:{type:String,default:"#fff"}},computed:{spinnerStyle(){return{height:`${this.size}px`,width:`${this.size}px`}},circleStyle(){return{color:this.color,fontSize:`${this.size*.24}px`}},lineStyle(){return{animationDuration:`${this.animationDuration}ms`,borderLeftWidth:`${this.size/25}px`,borderTopWidth:`${this.size/25}px`,borderLeftColor:this.color}}}},qM={class:"spinner-inner"};function JM(e,t,n,r,s,p){return te(),he("div",{class:"atom-spinner",style:Ge(p.spinnerStyle)},[ie("div",qM,[ie("div",{class:"spinner-line",style:Ge(p.lineStyle)},null,4),ie("div",{class:"spinner-line",style:Ge(p.lineStyle)},null,4),ie("div",{class:"spinner-line",style:Ge(p.lineStyle)},null,4),ie("div",{class:"spinner-circle",style:Ge(p.circleStyle)},"",4)])],4)}var ZM=GM(KM,[["render",JM]]);const QM={__name:"editor",setup(e){const{dispatch:t,state:n,commit:r}=vr(),s=fe(),p=fe(),m=fe(),u=fe({filters:[]}),i=fe();Ze("handler",p),Ze("canvas",i);const h=re(()=>n.loadOk);let f;const o=new Promise(d=>{f=d});Ae(h,async d=>{var v;d&&(await lt(),m.value.$el.addEventListener("drop",l,!1),p.value=(v=s.value)==null?void 0:v.handler,i.value=p.value.canvas,f())}),Ke(async()=>{t("getMaterial")});function l(d){if(d.dataTransfer.getData("item")){let v=JSON.parse(d.dataTransfer.getData("item"));const{layerX:_,layerY:b}=d,y=p.value.canvas.restorePointerVpt({x:_,y:b}),w={option:{name:v.templateName,type:v.type,data:v,src:v.url||v.src,left:y.x,top:y.y}};v.width&&v.height&&(w.option.width=v.width,w.option.height=v.height);let C=Object.assign({},w);a(C)}}function a(d){const v=Sc(),_=Object.assign({},d.option,{id:v});p.value.add(_)}function c(d){r("setActivateItem",d),p.value.select(d)}async function g(){var d;await o,r("setWorkarea",(d=p.value)==null?void 0:d.workareaHandler.workspace)}return(d,v)=>(te(),Te(iy,null,{header:_e(()=>[ve(wM)]),module:_e(()=>[pt(ve(uy,{onModule:d.selectedModule},null,8,["onModule"]),[[Tt,h.value]])]),left:_e(()=>[ve($E)]),workspace:_e(()=>[h.value?(te(),Te(sA,{key:0,ref_key:"workspace",ref:m},{canvas:_e(()=>[ve(XM,{workareaOption:A(VM),ref_key:"canvasRef",ref:s,objectOption:u.value,onAdd:c,init:g},null,8,["workareaOption","objectOption"])]),_:1},512)):(te(),Te(A(ZM),{key:1,"animation-duration":1e3,size:60,color:"#2254f4",class:"spinner"}))]),propsPanel:_e(()=>[ve(pM)]),_:1}))}},eR=mt(QM,[["__scopeId","data-v-28e4ba62"]]),tR=[{path:"/",name:"home",component:eR}],nR=I_({history:q0(),routes:tR});function mg(e,t){return function(){return e.apply(t,arguments)}}const{toString:rR}=Object.prototype,{getPrototypeOf:xc}=Object,Ao=(e=>t=>{const n=rR.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),bn=e=>(e=e.toLowerCase(),t=>Ao(t)===e),Mo=e=>t=>typeof t===e,{isArray:ni}=Array,Ui=Mo("undefined");function iR(e){return e!==null&&!Ui(e)&&e.constructor!==null&&!Ui(e.constructor)&&Xt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _g=bn("ArrayBuffer");function sR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_g(e.buffer),t}const oR=Mo("string"),Xt=Mo("function"),yg=Mo("number"),Ro=e=>e!==null&&typeof e=="object",aR=e=>e===!0||e===!1,Os=e=>{if(Ao(e)!=="object")return!1;const t=xc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lR=bn("Date"),cR=bn("File"),uR=bn("Blob"),fR=bn("FileList"),hR=e=>Ro(e)&&Xt(e.pipe),dR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Xt(e.append)&&((t=Ao(e))==="formdata"||t==="object"&&Xt(e.toString)&&e.toString()==="[object FormData]"))},pR=bn("URLSearchParams"),gR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ji(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),ni(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const p=n?Object.getOwnPropertyNames(e):Object.keys(e),m=p.length;let u;for(r=0;r<m;r++)u=p[r],t.call(null,e[u],u,e)}}function bg(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const wg=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Cg=e=>!Ui(e)&&e!==wg;function rl(){const{caseless:e}=Cg(this)&&this||{},t={},n=(r,s)=>{const p=e&&bg(t,s)||s;Os(t[p])&&Os(r)?t[p]=rl(t[p],r):Os(r)?t[p]=rl({},r):ni(r)?t[p]=r.slice():t[p]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ji(arguments[r],n);return t}const vR=(e,t,n,{allOwnKeys:r}={})=>(Ji(t,(s,p)=>{n&&Xt(s)?e[p]=mg(s,n):e[p]=s},{allOwnKeys:r}),e),mR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_R=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},yR=(e,t,n,r)=>{let s,p,m;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),p=s.length;p-- >0;)m=s[p],(!r||r(m,e,t))&&!u[m]&&(t[m]=e[m],u[m]=!0);e=n!==!1&&xc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},bR=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},wR=e=>{if(!e)return null;if(ni(e))return e;let t=e.length;if(!yg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},CR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xc(Uint8Array)),SR=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const p=s.value;t.call(e,p[0],p[1])}},xR=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},TR=bn("HTMLFormElement"),OR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Gf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ER=bn("RegExp"),Sg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ji(n,(s,p)=>{let m;(m=t(s,p,e))!==!1&&(r[p]=m||s)}),Object.defineProperties(e,r)},PR=e=>{Sg(e,(t,n)=>{if(Xt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Xt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kR=(e,t)=>{const n={},r=s=>{s.forEach(p=>{n[p]=!0})};return ni(e)?r(e):r(String(e).split(t)),n},AR=()=>{},MR=(e,t)=>(e=+e,Number.isFinite(e)?e:t),va="abcdefghijklmnopqrstuvwxyz",Kf="0123456789",xg={DIGIT:Kf,ALPHA:va,ALPHA_DIGIT:va+va.toUpperCase()+Kf},RR=(e=16,t=xg.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function DR(e){return!!(e&&Xt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const IR=e=>{const t=new Array(10),n=(r,s)=>{if(Ro(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const p=ni(r)?[]:{};return Ji(r,(m,u)=>{const i=n(m,s+1);!Ui(i)&&(p[u]=i)}),t[s]=void 0,p}}return r};return n(e,0)},FR=bn("AsyncFunction"),LR=e=>e&&(Ro(e)||Xt(e))&&Xt(e.then)&&Xt(e.catch),de={isArray:ni,isArrayBuffer:_g,isBuffer:iR,isFormData:dR,isArrayBufferView:sR,isString:oR,isNumber:yg,isBoolean:aR,isObject:Ro,isPlainObject:Os,isUndefined:Ui,isDate:lR,isFile:cR,isBlob:uR,isRegExp:ER,isFunction:Xt,isStream:hR,isURLSearchParams:pR,isTypedArray:CR,isFileList:fR,forEach:Ji,merge:rl,extend:vR,trim:gR,stripBOM:mR,inherits:_R,toFlatObject:yR,kindOf:Ao,kindOfTest:bn,endsWith:bR,toArray:wR,forEachEntry:SR,matchAll:xR,isHTMLForm:TR,hasOwnProperty:Gf,hasOwnProp:Gf,reduceDescriptors:Sg,freezeMethods:PR,toObjectSet:kR,toCamelCase:OR,noop:AR,toFiniteNumber:MR,findKey:bg,global:wg,isContextDefined:Cg,ALPHABET:xg,generateString:RR,isSpecCompliantForm:DR,toJSONObject:IR,isAsyncFn:FR,isThenable:LR};function Ie(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}de.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Tg=Ie.prototype,Og={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Og[e]={value:e}});Object.defineProperties(Ie,Og);Object.defineProperty(Tg,"isAxiosError",{value:!0});Ie.from=(e,t,n,r,s,p)=>{const m=Object.create(Tg);return de.toFlatObject(e,m,function(i){return i!==Error.prototype},u=>u!=="isAxiosError"),Ie.call(m,e.message,t,n,r,s),m.cause=e,m.name=e.name,p&&Object.assign(m,p),m};const BR=null;function il(e){return de.isPlainObject(e)||de.isArray(e)}function Eg(e){return de.endsWith(e,"[]")?e.slice(0,-2):e}function qf(e,t,n){return e?e.concat(t).map(function(s,p){return s=Eg(s),!n&&p?"["+s+"]":s}).join(n?".":""):t}function jR(e){return de.isArray(e)&&!e.some(il)}const NR=de.toFlatObject(de,{},null,function(t){return/^is[A-Z]/.test(t)});function Do(e,t,n){if(!de.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=de.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,d){return!de.isUndefined(d[g])});const r=n.metaTokens,s=n.visitor||f,p=n.dots,m=n.indexes,i=(n.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(t);if(!de.isFunction(s))throw new TypeError("visitor must be a function");function h(c){if(c===null)return"";if(de.isDate(c))return c.toISOString();if(!i&&de.isBlob(c))throw new Ie("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(c)||de.isTypedArray(c)?i&&typeof Blob=="function"?new Blob([c]):Buffer.from(c):c}function f(c,g,d){let v=c;if(c&&!d&&typeof c=="object"){if(de.endsWith(g,"{}"))g=r?g:g.slice(0,-2),c=JSON.stringify(c);else if(de.isArray(c)&&jR(c)||(de.isFileList(c)||de.endsWith(g,"[]"))&&(v=de.toArray(c)))return g=Eg(g),v.forEach(function(b,y){!(de.isUndefined(b)||b===null)&&t.append(m===!0?qf([g],y,p):m===null?g:g+"[]",h(b))}),!1}return il(c)?!0:(t.append(qf(d,g,p),h(c)),!1)}const o=[],l=Object.assign(NR,{defaultVisitor:f,convertValue:h,isVisitable:il});function a(c,g){if(!de.isUndefined(c)){if(o.indexOf(c)!==-1)throw Error("Circular reference detected in "+g.join("."));o.push(c),de.forEach(c,function(v,_){(!(de.isUndefined(v)||v===null)&&s.call(t,v,de.isString(_)?_.trim():_,g,l))===!0&&a(v,g?g.concat(_):[_])}),o.pop()}}if(!de.isObject(e))throw new TypeError("data must be an object");return a(e),t}function Jf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Tc(e,t){this._pairs=[],e&&Do(e,this,t)}const Pg=Tc.prototype;Pg.append=function(t,n){this._pairs.push([t,n])};Pg.toString=function(t){const n=t?function(r){return t.call(this,r,Jf)}:Jf;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function zR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kg(e,t,n){if(!t)return e;const r=n&&n.encode||zR,s=n&&n.serialize;let p;if(s?p=s(t,n):p=de.isURLSearchParams(t)?t.toString():new Tc(t,n).toString(r),p){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class $R{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){de.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Zf=$R,Ag={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HR=typeof URLSearchParams<"u"?URLSearchParams:Tc,UR=typeof FormData<"u"?FormData:null,WR=typeof Blob<"u"?Blob:null,YR=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),XR=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),gn={isBrowser:!0,classes:{URLSearchParams:HR,FormData:UR,Blob:WR},isStandardBrowserEnv:YR,isStandardBrowserWebWorkerEnv:XR,protocols:["http","https","file","blob","url","data"]};function VR(e,t){return Do(e,new gn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,p){return gn.isNode&&de.isBuffer(n)?(this.append(r,n.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)}},t))}function GR(e){return de.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function KR(e){const t={},n=Object.keys(e);let r;const s=n.length;let p;for(r=0;r<s;r++)p=n[r],t[p]=e[p];return t}function Mg(e){function t(n,r,s,p){let m=n[p++];const u=Number.isFinite(+m),i=p>=n.length;return m=!m&&de.isArray(s)?s.length:m,i?(de.hasOwnProp(s,m)?s[m]=[s[m],r]:s[m]=r,!u):((!s[m]||!de.isObject(s[m]))&&(s[m]=[]),t(n,r,s[m],p)&&de.isArray(s[m])&&(s[m]=KR(s[m])),!u)}if(de.isFormData(e)&&de.isFunction(e.entries)){const n={};return de.forEachEntry(e,(r,s)=>{t(GR(r),s,n,0)}),n}return null}function qR(e,t,n){if(de.isString(e))try{return(t||JSON.parse)(e),de.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Oc={transitional:Ag,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,p=de.isObject(t);if(p&&de.isHTMLForm(t)&&(t=new FormData(t)),de.isFormData(t))return s&&s?JSON.stringify(Mg(t)):t;if(de.isArrayBuffer(t)||de.isBuffer(t)||de.isStream(t)||de.isFile(t)||de.isBlob(t))return t;if(de.isArrayBufferView(t))return t.buffer;if(de.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(p){if(r.indexOf("application/x-www-form-urlencoded")>-1)return VR(t,this.formSerializer).toString();if((u=de.isFileList(t))||r.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return Do(u?{"files[]":t}:t,i&&new i,this.formSerializer)}}return p||s?(n.setContentType("application/json",!1),qR(t)):t}],transformResponse:[function(t){const n=this.transitional||Oc.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(t&&de.isString(t)&&(r&&!this.responseType||s)){const m=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(u){if(m)throw u.name==="SyntaxError"?Ie.from(u,Ie.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gn.classes.FormData,Blob:gn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],e=>{Oc.headers[e]={}});const Ec=Oc,JR=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZR=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(m){s=m.indexOf(":"),n=m.substring(0,s).trim().toLowerCase(),r=m.substring(s+1).trim(),!(!n||t[n]&&JR[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Qf=Symbol("internals");function hi(e){return e&&String(e).trim().toLowerCase()}function Es(e){return e===!1||e==null?e:de.isArray(e)?e.map(Es):String(e)}function QR(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const eD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ma(e,t,n,r,s){if(de.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!de.isString(t)){if(de.isString(r))return t.indexOf(r)!==-1;if(de.isRegExp(r))return r.test(t)}}function tD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function nD(e,t){const n=de.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,p,m){return this[r].call(this,t,s,p,m)},configurable:!0})})}class Io{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function p(u,i,h){const f=hi(i);if(!f)throw new Error("header name must be a non-empty string");const o=de.findKey(s,f);(!o||s[o]===void 0||h===!0||h===void 0&&s[o]!==!1)&&(s[o||i]=Es(u))}const m=(u,i)=>de.forEach(u,(h,f)=>p(h,f,i));return de.isPlainObject(t)||t instanceof this.constructor?m(t,n):de.isString(t)&&(t=t.trim())&&!eD(t)?m(ZR(t),n):t!=null&&p(n,t,r),this}get(t,n){if(t=hi(t),t){const r=de.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return QR(s);if(de.isFunction(n))return n.call(this,s,r);if(de.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=hi(t),t){const r=de.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ma(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function p(m){if(m=hi(m),m){const u=de.findKey(r,m);u&&(!n||ma(r,r[u],u,n))&&(delete r[u],s=!0)}}return de.isArray(t)?t.forEach(p):p(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const p=n[r];(!t||ma(this,this[p],p,t,!0))&&(delete this[p],s=!0)}return s}normalize(t){const n=this,r={};return de.forEach(this,(s,p)=>{const m=de.findKey(r,p);if(m){n[m]=Es(s),delete n[p];return}const u=t?tD(p):String(p).trim();u!==p&&delete n[p],n[u]=Es(s),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return de.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&de.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Qf]=this[Qf]={accessors:{}}).accessors,s=this.prototype;function p(m){const u=hi(m);r[u]||(nD(s,m),r[u]=!0)}return de.isArray(t)?t.forEach(p):p(t),this}}Io.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(Io.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});de.freezeMethods(Io);const kn=Io;function _a(e,t){const n=this||Ec,r=t||n,s=kn.from(r.headers);let p=r.data;return de.forEach(e,function(u){p=u.call(n,p,s.normalize(),t?t.status:void 0)}),s.normalize(),p}function Rg(e){return!!(e&&e.__CANCEL__)}function Zi(e,t,n){Ie.call(this,e??"canceled",Ie.ERR_CANCELED,t,n),this.name="CanceledError"}de.inherits(Zi,Ie,{__CANCEL__:!0});function rD(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ie("Request failed with status code "+n.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const iD=gn.isStandardBrowserEnv?function(){return{write:function(n,r,s,p,m,u){const i=[];i.push(n+"="+encodeURIComponent(r)),de.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),de.isString(p)&&i.push("path="+p),de.isString(m)&&i.push("domain="+m),u===!0&&i.push("secure"),document.cookie=i.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function sD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function oD(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Dg(e,t){return e&&!sD(t)?oD(e,t):t}const aD=gn.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(p){let m=p;return t&&(n.setAttribute("href",m),m=n.href),n.setAttribute("href",m),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(m){const u=de.isString(m)?s(m):m;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}();function lD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function cD(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,p=0,m;return t=t!==void 0?t:1e3,function(i){const h=Date.now(),f=r[p];m||(m=h),n[s]=i,r[s]=h;let o=p,l=0;for(;o!==s;)l+=n[o++],o=o%e;if(s=(s+1)%e,s===p&&(p=(p+1)%e),h-m<t)return;const a=f&&h-f;return a?Math.round(l*1e3/a):void 0}}function eh(e,t){let n=0;const r=cD(50,250);return s=>{const p=s.loaded,m=s.lengthComputable?s.total:void 0,u=p-n,i=r(u),h=p<=m;n=p;const f={loaded:p,total:m,progress:m?p/m:void 0,bytes:u,rate:i||void 0,estimated:i&&m&&h?(m-p)/i:void 0,event:s};f[t?"download":"upload"]=!0,e(f)}}const uD=typeof XMLHttpRequest<"u",fD=uD&&function(e){return new Promise(function(n,r){let s=e.data;const p=kn.from(e.headers).normalize(),m=e.responseType;let u;function i(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}let h;de.isFormData(s)&&(gn.isStandardBrowserEnv||gn.isStandardBrowserWebWorkerEnv?p.setContentType(!1):p.getContentType(/^\s*multipart\/form-data/)?de.isString(h=p.getContentType())&&p.setContentType(h.replace(/^\s*(multipart\/form-data);+/,"$1")):p.setContentType("multipart/form-data"));let f=new XMLHttpRequest;if(e.auth){const c=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.set("Authorization","Basic "+btoa(c+":"+g))}const o=Dg(e.baseURL,e.url);f.open(e.method.toUpperCase(),kg(o,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function l(){if(!f)return;const c=kn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),d={data:!m||m==="text"||m==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:c,config:e,request:f};rD(function(_){n(_),i()},function(_){r(_),i()},d),f=null}if("onloadend"in f?f.onloadend=l:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(l)},f.onabort=function(){f&&(r(new Ie("Request aborted",Ie.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new Ie("Network Error",Ie.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let g=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const d=e.transitional||Ag;e.timeoutErrorMessage&&(g=e.timeoutErrorMessage),r(new Ie(g,d.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,e,f)),f=null},gn.isStandardBrowserEnv){const c=(e.withCredentials||aD(o))&&e.xsrfCookieName&&iD.read(e.xsrfCookieName);c&&p.set(e.xsrfHeaderName,c)}s===void 0&&p.setContentType(null),"setRequestHeader"in f&&de.forEach(p.toJSON(),function(g,d){f.setRequestHeader(d,g)}),de.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),m&&m!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",eh(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",eh(e.onUploadProgress)),(e.cancelToken||e.signal)&&(u=c=>{f&&(r(!c||c.type?new Zi(null,e,f):c),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u)));const a=lD(o);if(a&&gn.protocols.indexOf(a)===-1){r(new Ie("Unsupported protocol "+a+":",Ie.ERR_BAD_REQUEST,e));return}f.send(s||null)})},sl={http:BR,xhr:fD};de.forEach(sl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const th=e=>`- ${e}`,hD=e=>de.isFunction(e)||e===null||e===!1,Ig={getAdapter:e=>{e=de.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let p=0;p<t;p++){n=e[p];let m;if(r=n,!hD(n)&&(r=sl[(m=String(n)).toLowerCase()],r===void 0))throw new Ie(`Unknown adapter '${m}'`);if(r)break;s[m||"#"+p]=r}if(!r){const p=Object.entries(s).map(([u,i])=>`adapter ${u} `+(i===!1?"is not supported by the environment":"is not available in the build"));let m=t?p.length>1?`since :
`+p.map(th).join(`
`):" "+th(p[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return r},adapters:sl};function ya(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Zi(null,e)}function nh(e){return ya(e),e.headers=kn.from(e.headers),e.data=_a.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ig.getAdapter(e.adapter||Ec.adapter)(e).then(function(r){return ya(e),r.data=_a.call(e,e.transformResponse,r),r.headers=kn.from(r.headers),r},function(r){return Rg(r)||(ya(e),r&&r.response&&(r.response.data=_a.call(e,e.transformResponse,r.response),r.response.headers=kn.from(r.response.headers))),Promise.reject(r)})}const rh=e=>e instanceof kn?e.toJSON():e;function Gr(e,t){t=t||{};const n={};function r(h,f,o){return de.isPlainObject(h)&&de.isPlainObject(f)?de.merge.call({caseless:o},h,f):de.isPlainObject(f)?de.merge({},f):de.isArray(f)?f.slice():f}function s(h,f,o){if(de.isUndefined(f)){if(!de.isUndefined(h))return r(void 0,h,o)}else return r(h,f,o)}function p(h,f){if(!de.isUndefined(f))return r(void 0,f)}function m(h,f){if(de.isUndefined(f)){if(!de.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function u(h,f,o){if(o in t)return r(h,f);if(o in e)return r(void 0,h)}const i={url:p,method:p,data:p,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:u,headers:(h,f)=>s(rh(h),rh(f),!0)};return de.forEach(Object.keys(Object.assign({},e,t)),function(f){const o=i[f]||s,l=o(e[f],t[f],f);de.isUndefined(l)&&o!==u||(n[f]=l)}),n}const Fg="1.5.1",Pc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Pc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ih={};Pc.transitional=function(t,n,r){function s(p,m){return"[Axios v"+Fg+"] Transitional option '"+p+"'"+m+(r?". "+r:"")}return(p,m,u)=>{if(t===!1)throw new Ie(s(m," has been removed"+(n?" in "+n:"")),Ie.ERR_DEPRECATED);return n&&!ih[m]&&(ih[m]=!0,console.warn(s(m," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(p,m,u):!0}};function dD(e,t,n){if(typeof e!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const p=r[s],m=t[p];if(m){const u=e[p],i=u===void 0||m(u,p,e);if(i!==!0)throw new Ie("option "+p+" must be "+i,Ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ie("Unknown option "+p,Ie.ERR_BAD_OPTION)}}const ol={assertOptions:dD,validators:Pc},zn=ol.validators;class Vs{constructor(t){this.defaults=t,this.interceptors={request:new Zf,response:new Zf}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Gr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:p}=n;r!==void 0&&ol.assertOptions(r,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1),s!=null&&(de.isFunction(s)?n.paramsSerializer={serialize:s}:ol.assertOptions(s,{encode:zn.function,serialize:zn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let m=p&&de.merge(p.common,p[n.method]);p&&de.forEach(["delete","get","head","post","put","patch","common"],c=>{delete p[c]}),n.headers=kn.concat(m,p);const u=[];let i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(i=i&&g.synchronous,u.unshift(g.fulfilled,g.rejected))});const h=[];this.interceptors.response.forEach(function(g){h.push(g.fulfilled,g.rejected)});let f,o=0,l;if(!i){const c=[nh.bind(this),void 0];for(c.unshift.apply(c,u),c.push.apply(c,h),l=c.length,f=Promise.resolve(n);o<l;)f=f.then(c[o++],c[o++]);return f}l=u.length;let a=n;for(o=0;o<l;){const c=u[o++],g=u[o++];try{a=c(a)}catch(d){g.call(this,d);break}}try{f=nh.call(this,a)}catch(c){return Promise.reject(c)}for(o=0,l=h.length;o<l;)f=f.then(h[o++],h[o++]);return f}getUri(t){t=Gr(this.defaults,t);const n=Dg(t.baseURL,t.url);return kg(n,t.params,t.paramsSerializer)}}de.forEach(["delete","get","head","options"],function(t){Vs.prototype[t]=function(n,r){return this.request(Gr(r||{},{method:t,url:n,data:(r||{}).data}))}});de.forEach(["post","put","patch"],function(t){function n(r){return function(p,m,u){return this.request(Gr(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:p,data:m}))}}Vs.prototype[t]=n(),Vs.prototype[t+"Form"]=n(!0)});const Ps=Vs;class kc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(p){n=p});const r=this;this.promise.then(s=>{if(!r._listeners)return;let p=r._listeners.length;for(;p-- >0;)r._listeners[p](s);r._listeners=null}),this.promise.then=s=>{let p;const m=new Promise(u=>{r.subscribe(u),p=u}).then(s);return m.cancel=function(){r.unsubscribe(p)},m},t(function(p,m,u){r.reason||(r.reason=new Zi(p,m,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new kc(function(s){t=s}),cancel:t}}}const pD=kc;function gD(e){return function(n){return e.apply(null,n)}}function vD(e){return de.isObject(e)&&e.isAxiosError===!0}const al={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(al).forEach(([e,t])=>{al[t]=e});const mD=al;function Lg(e){const t=new Ps(e),n=mg(Ps.prototype.request,t);return de.extend(n,Ps.prototype,t,{allOwnKeys:!0}),de.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Lg(Gr(e,s))},n}const it=Lg(Ec);it.Axios=Ps;it.CanceledError=Zi;it.CancelToken=pD;it.isCancel=Rg;it.VERSION=Fg;it.toFormData=Do;it.AxiosError=Ie;it.Cancel=it.CanceledError;it.all=function(t){return Promise.all(t)};it.spread=gD;it.isAxiosError=vD;it.mergeConfig=Gr;it.AxiosHeaders=kn;it.formToJSON=e=>Mg(de.isHTMLForm(e)?new FormData(e):e);it.getAdapter=Ig.getAdapter;it.HttpStatusCode=mD;it.default=it;const Bg=it,Ac=Bg.create({timeout:5e3});Bg.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)});Ac.interceptors.request.use(e=>e,e=>(console.log(e),Promise.reject(e)));Ac.interceptors.response.use(e=>{if(e)return e.data;debugger;throw console.log(""),new Error("")},e=>(console.log("err"+e),vE({message:e.message,type:"error",duration:3*1e3,showClose:!0}),Promise.reject(e)));function jg(e,t,n,r){Ac(e).then(s=>{e.retry&&(s.retry=t-e.retry),n(s)}).catch(s=>{e.retry--,e.retry>=0?setTimeout(()=>{jg(e,t,n,r)},10):(s.retry=t,r(s))})}function sh(e){return new Promise((t,n)=>{(!e||!e.url)&&n({errorMsg:""}),e.type||(e.type="get"),e.timeout||(e.timeout=5e3),typeof e.retry!="number"&&(e.retry=3),jg(e,e.retry,t,n)}).then(t=>t)}const _D=Q_({state:{isClose:!0,activeModule:null,imageList:[],loadOk:!1,icons:[],selectedItem:null,workspace:null},getters:{},mutations:{setClose(e,t){e.isClose=t},setActiveModule(e,t){e.activeModule=t},Ok(e,t){e.loadOk=!0,e.imageList=t},COMMIT_ICONS(e,t){e.icons=t},setActivateItem(e,t){e.selectedItem=t},setWorkarea(e,t){e.workspace=t}},actions:{getMaterial({commit:e}){const t=[];t.push(sh({url:"https://haixin-fang.github.io/vue-design-editor-static/imglist.json",timeout:1e4}).catch(n=>console.error(n))),t.push(sh({url:"https://haixin-fang.github.io/icons/bootstrap-icons.json",timeout:1e4}).catch(n=>console.error(n))),Promise.all(t).then(n=>{if(Array.isArray(n)&&(n[0]&&e("Ok",n[0]),n[1])){const r=Object.keys(n[1]),s=[];r.forEach(p=>{const m=`https://haixin-fang.github.io/icons/icons/${p}.svg`;s.push({url:m})}),e("COMMIT_ICONS",s)}})}},modules:{}});const yD={class:"gda-popover-content"},bD={key:0,class:"gda-popover-arrow"},wD={class:"gda-popover-inner"},CD={__name:"popover",props:{to:{type:String,default:"body"},arrow:{type:Boolean,default:!1},dom:{type:HTMLElement,default:null},show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e;let r=null,s=null;const p=fe();Ae(()=>n.show,h=>{h&&lt(()=>{u()})}),Ke(()=>{window.addEventListener("click",h=>{n.show&&(Array.from(h.path||h.composedPath()).find(o=>{if(o.className&&typeof o.className=="string"&&o.className.indexOf("popover")!=-1)return o})||t("close"))})}),Zr(()=>{window.removeEventListener("resize",u)});const m=()=>{window.addEventListener("resize",u),s=new ResizeObserver(Cs(()=>{u()},50)),s.observe(r)};function u(){var w;s||m();const{width:h,height:f,left:o,top:l,bottom:a,right:c}=(w=n.dom)==null?void 0:w.getBoundingClientRect(),{offsetWidth:g,offsetHeight:d}=r;let v=0,_=0,b=0,y=0;l>d+10?(v=l-d-10,y=d+10,g<c?(_=o+h-g,b=g):(_=o,b=0)):a>d+10&&(v=l+f+10,y=10,g<c?(_=o+h-g,b=g):(_=o,b=0)),p.value.style.left=_+"px",p.value.style.top=v+"px",p.value.style.transformOrigin=`${b}px ${y}px`}const i=h=>{r=h};return(h,f)=>(te(),Te(El,{to:e.to},[ve(yn,{name:"fade"},{default:_e(()=>[pt(ie("div",{class:"gda-popover",ref_key:"popover",ref:p},[ie("div",yD,[e.arrow?(te(),he("div",bD)):we("",!0),ie("div",wD,[Ee(h.$slots,"default",{setSlotRef:i},void 0,!0)])])],512),[[Tt,e.show]])]),_:3})],8,["to"]))}},SD=mt(CD,[["__scopeId","data-v-0fe2fdde"]]),xD=y0(S0);xD.use(_D).use(nR).component("popover",SD).mount("#app");
