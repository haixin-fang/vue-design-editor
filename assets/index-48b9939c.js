var Rg=Object.defineProperty;var Ig=(e,t,n)=>t in e?Rg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $e=(e,t,n)=>(Ig(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const p of s)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(s){const p={};return s.integrity&&(p.integrity=s.integrity),s.referrerPolicy&&(p.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?p.credentials="include":s.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function r(s){if(s.ep)return;s.ep=!0;const p=n(s);fetch(s.href,p)}})();function il(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Ue={},Er=[],wt=()=>{},Fg=()=>!1,Lg=/^on[^a-z]/,Gs=e=>Lg.test(e),sl=e=>e.startsWith("onUpdate:"),et=Object.assign,ol=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Bg=Object.prototype.hasOwnProperty,Re=(e,t)=>Bg.call(e,t),ye=Array.isArray,Pr=e=>Hi(e)==="[object Map]",Ks=e=>Hi(e)==="[object Set]",Ec=e=>Hi(e)==="[object Date]",Se=e=>typeof e=="function",Ne=e=>typeof e=="string",Ti=e=>typeof e=="symbol",Be=e=>e!==null&&typeof e=="object",Jf=e=>Be(e)&&Se(e.then)&&Se(e.catch),Zf=Object.prototype.toString,Hi=e=>Zf.call(e),jg=e=>Hi(e).slice(8,-1),Qf=e=>Hi(e)==="[object Object]",al=e=>Ne(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ms=il(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qs=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ng=/-(\w)/g,en=qs(e=>e.replace(Ng,(t,n)=>n?n.toUpperCase():"")),$g=/\B([A-Z])/g,Xr=qs(e=>e.replace($g,"-$1").toLowerCase()),Js=qs(e=>e.charAt(0).toUpperCase()+e.slice(1)),Io=qs(e=>e?`on${Js(e)}`:""),Oi=(e,t)=>!Object.is(e,t),_s=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ps=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},zg=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Hg=e=>{const t=Ne(e)?Number(e):NaN;return isNaN(t)?e:t};let Pc;const ma=()=>Pc||(Pc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xe(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Ne(r)?Xg(r):Xe(r);if(s)for(const p in s)t[p]=s[p]}return t}else{if(Ne(e))return e;if(Be(e))return e}}const Ug=/;(?![^(]*\))/g,Wg=/:([^]+)/,Yg=/\/\*[^]*?\*\//g;function Xg(e){const t={};return e.replace(Yg,"").split(Ug).forEach(n=>{if(n){const r=n.split(Wg);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ce(e){let t="";if(Ne(e))t=e;else if(ye(e))for(let n=0;n<e.length;n++){const r=Ce(e[n]);r&&(t+=r+" ")}else if(Be(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Vg(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Ne(t)&&(e.class=Ce(t)),n&&(e.style=Xe(n)),e}const Gg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Kg=il(Gg);function eh(e){return!!e||e===""}function qg(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Zs(e[r],t[r]);return n}function Zs(e,t){if(e===t)return!0;let n=Ec(e),r=Ec(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Ti(e),r=Ti(t),n||r)return e===t;if(n=ye(e),r=ye(t),n||r)return n&&r?qg(e,t):!1;if(n=Be(e),r=Be(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,p=Object.keys(t).length;if(s!==p)return!1;for(const m in e){const u=e.hasOwnProperty(m),i=t.hasOwnProperty(m);if(u&&!i||!u&&i||!Zs(e[m],t[m]))return!1}}return String(e)===String(t)}function th(e,t){return e.findIndex(n=>Zs(n,t))}const Ge=e=>Ne(e)?e:e==null?"":ye(e)||Be(e)&&(e.toString===Zf||!Se(e.toString))?JSON.stringify(e,nh,2):String(e),nh=(e,t)=>t&&t.__v_isRef?nh(e,t.value):Pr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Ks(t)?{[`Set(${t.size})`]:[...t.values()]}:Be(t)&&!ye(t)&&!Qf(t)?String(t):t;let It;class rh{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=It,!t&&It&&(this.index=(It.scopes||(It.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=It;try{return It=this,t()}finally{It=n}}}on(){It=this}off(){It=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function ih(e){return new rh(e)}function Jg(e,t=It){t&&t.active&&t.effects.push(e)}function sh(){return It}function Zg(e){It&&It.cleanups.push(e)}const ll=e=>{const t=new Set(e);return t.w=0,t.n=0,t},oh=e=>(e.w&Xn)>0,ah=e=>(e.n&Xn)>0,Qg=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Xn},ev=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];oh(s)&&!ah(s)?s.delete(e):t[n++]=s,s.w&=~Xn,s.n&=~Xn}t.length=n}},ks=new WeakMap;let ui=0,Xn=1;const _a=30;let Jt;const or=Symbol(""),ya=Symbol("");class cl{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Jg(this,r)}run(){if(!this.active)return this.fn();let t=Jt,n=Wn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Jt,Jt=this,Wn=!0,Xn=1<<++ui,ui<=_a?Qg(this):kc(this),this.fn()}finally{ui<=_a&&ev(this),Xn=1<<--ui,Jt=this.parent,Wn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Jt===this?this.deferStop=!0:this.active&&(kc(this),this.onStop&&this.onStop(),this.active=!1)}}function kc(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Wn=!0;const lh=[];function Vr(){lh.push(Wn),Wn=!1}function Gr(){const e=lh.pop();Wn=e===void 0?!0:e}function At(e,t,n){if(Wn&&Jt){let r=ks.get(e);r||ks.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=ll()),ch(s)}}function ch(e,t){let n=!1;ui<=_a?ah(e)||(e.n|=Xn,n=!oh(e)):n=!e.has(Jt),n&&(e.add(Jt),Jt.deps.push(e))}function En(e,t,n,r,s,p){const m=ks.get(e);if(!m)return;let u=[];if(t==="clear")u=[...m.values()];else if(n==="length"&&ye(e)){const i=Number(r);m.forEach((d,f)=>{(f==="length"||f>=i)&&u.push(d)})}else switch(n!==void 0&&u.push(m.get(n)),t){case"add":ye(e)?al(n)&&u.push(m.get("length")):(u.push(m.get(or)),Pr(e)&&u.push(m.get(ya)));break;case"delete":ye(e)||(u.push(m.get(or)),Pr(e)&&u.push(m.get(ya)));break;case"set":Pr(e)&&u.push(m.get(or));break}if(u.length===1)u[0]&&ba(u[0]);else{const i=[];for(const d of u)d&&i.push(...d);ba(ll(i))}}function ba(e,t){const n=ye(e)?e:[...e];for(const r of n)r.computed&&Ac(r);for(const r of n)r.computed||Ac(r)}function Ac(e,t){(e!==Jt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function tv(e,t){var n;return(n=ks.get(e))==null?void 0:n.get(t)}const nv=il("__proto__,__v_isRef,__isVue"),uh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ti)),rv=ul(),iv=ul(!1,!0),sv=ul(!0),Mc=ov();function ov(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Fe(this);for(let p=0,m=this.length;p<m;p++)At(r,"get",p+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(Fe)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Vr();const r=Fe(this)[t].apply(this,n);return Gr(),r}}),e}function av(e){const t=Fe(this);return At(t,"has",e),t.hasOwnProperty(e)}function ul(e=!1,t=!1){return function(r,s,p){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&p===(e?t?Sv:gh:t?ph:dh).get(r))return r;const m=ye(r);if(!e){if(m&&Re(Mc,s))return Reflect.get(Mc,s,p);if(s==="hasOwnProperty")return av}const u=Reflect.get(r,s,p);return(Ti(s)?uh.has(s):nv(s))||(e||At(r,"get",s),t)?u:it(u)?m&&al(s)?u:u.value:Be(u)?e?Ui(u):dr(u):u}}const lv=fh(),cv=fh(!0);function fh(e=!1){return function(n,r,s,p){let m=n[r];if(Mr(m)&&it(m)&&!it(s))return!1;if(!e&&(!As(s)&&!Mr(s)&&(m=Fe(m),s=Fe(s)),!ye(n)&&it(m)&&!it(s)))return m.value=s,!0;const u=ye(n)&&al(r)?Number(r)<n.length:Re(n,r),i=Reflect.set(n,r,s,p);return n===Fe(p)&&(u?Oi(s,m)&&En(n,"set",r,s):En(n,"add",r,s)),i}}function uv(e,t){const n=Re(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&En(e,"delete",t,void 0),r}function fv(e,t){const n=Reflect.has(e,t);return(!Ti(t)||!uh.has(t))&&At(e,"has",t),n}function hv(e){return At(e,"iterate",ye(e)?"length":or),Reflect.ownKeys(e)}const hh={get:rv,set:lv,deleteProperty:uv,has:fv,ownKeys:hv},dv={get:sv,set(e,t){return!0},deleteProperty(e,t){return!0}},pv=et({},hh,{get:iv,set:cv}),fl=e=>e,Qs=e=>Reflect.getPrototypeOf(e);function es(e,t,n=!1,r=!1){e=e.__v_raw;const s=Fe(e),p=Fe(t);n||(t!==p&&At(s,"get",t),At(s,"get",p));const{has:m}=Qs(s),u=r?fl:n?gl:Ei;if(m.call(s,t))return u(e.get(t));if(m.call(s,p))return u(e.get(p));e!==s&&e.get(t)}function ts(e,t=!1){const n=this.__v_raw,r=Fe(n),s=Fe(e);return t||(e!==s&&At(r,"has",e),At(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function ns(e,t=!1){return e=e.__v_raw,!t&&At(Fe(e),"iterate",or),Reflect.get(e,"size",e)}function Dc(e){e=Fe(e);const t=Fe(this);return Qs(t).has.call(t,e)||(t.add(e),En(t,"add",e,e)),this}function Rc(e,t){t=Fe(t);const n=Fe(this),{has:r,get:s}=Qs(n);let p=r.call(n,e);p||(e=Fe(e),p=r.call(n,e));const m=s.call(n,e);return n.set(e,t),p?Oi(t,m)&&En(n,"set",e,t):En(n,"add",e,t),this}function Ic(e){const t=Fe(this),{has:n,get:r}=Qs(t);let s=n.call(t,e);s||(e=Fe(e),s=n.call(t,e)),r&&r.call(t,e);const p=t.delete(e);return s&&En(t,"delete",e,void 0),p}function Fc(){const e=Fe(this),t=e.size!==0,n=e.clear();return t&&En(e,"clear",void 0,void 0),n}function rs(e,t){return function(r,s){const p=this,m=p.__v_raw,u=Fe(m),i=t?fl:e?gl:Ei;return!e&&At(u,"iterate",or),m.forEach((d,f)=>r.call(s,i(d),i(f),p))}}function is(e,t,n){return function(...r){const s=this.__v_raw,p=Fe(s),m=Pr(p),u=e==="entries"||e===Symbol.iterator&&m,i=e==="keys"&&m,d=s[e](...r),f=n?fl:t?gl:Ei;return!t&&At(p,"iterate",i?ya:or),{next(){const{value:o,done:l}=d.next();return l?{value:o,done:l}:{value:u?[f(o[0]),f(o[1])]:f(o),done:l}},[Symbol.iterator](){return this}}}}function Dn(e){return function(...t){return e==="delete"?!1:this}}function gv(){const e={get(p){return es(this,p)},get size(){return ns(this)},has:ts,add:Dc,set:Rc,delete:Ic,clear:Fc,forEach:rs(!1,!1)},t={get(p){return es(this,p,!1,!0)},get size(){return ns(this)},has:ts,add:Dc,set:Rc,delete:Ic,clear:Fc,forEach:rs(!1,!0)},n={get(p){return es(this,p,!0)},get size(){return ns(this,!0)},has(p){return ts.call(this,p,!0)},add:Dn("add"),set:Dn("set"),delete:Dn("delete"),clear:Dn("clear"),forEach:rs(!0,!1)},r={get(p){return es(this,p,!0,!0)},get size(){return ns(this,!0)},has(p){return ts.call(this,p,!0)},add:Dn("add"),set:Dn("set"),delete:Dn("delete"),clear:Dn("clear"),forEach:rs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(p=>{e[p]=is(p,!1,!1),n[p]=is(p,!0,!1),t[p]=is(p,!1,!0),r[p]=is(p,!0,!0)}),[e,n,t,r]}const[vv,mv,_v,yv]=gv();function hl(e,t){const n=t?e?yv:_v:e?mv:vv;return(r,s,p)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Re(n,s)&&s in r?n:r,s,p)}const bv={get:hl(!1,!1)},wv={get:hl(!1,!0)},Cv={get:hl(!0,!1)},dh=new WeakMap,ph=new WeakMap,gh=new WeakMap,Sv=new WeakMap;function xv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tv(e){return e.__v_skip||!Object.isExtensible(e)?0:xv(jg(e))}function dr(e){return Mr(e)?e:pl(e,!1,hh,bv,dh)}function dl(e){return pl(e,!1,pv,wv,ph)}function Ui(e){return pl(e,!0,dv,Cv,gh)}function pl(e,t,n,r,s){if(!Be(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const p=s.get(e);if(p)return p;const m=Tv(e);if(m===0)return e;const u=new Proxy(e,m===2?r:n);return s.set(e,u),u}function kr(e){return Mr(e)?kr(e.__v_raw):!!(e&&e.__v_isReactive)}function Mr(e){return!!(e&&e.__v_isReadonly)}function As(e){return!!(e&&e.__v_isShallow)}function vh(e){return kr(e)||Mr(e)}function Fe(e){const t=e&&e.__v_raw;return t?Fe(t):e}function Ms(e){return Ps(e,"__v_skip",!0),e}const Ei=e=>Be(e)?dr(e):e,gl=e=>Be(e)?Ui(e):e;function mh(e){Wn&&Jt&&(e=Fe(e),ch(e.dep||(e.dep=ll())))}function _h(e,t){e=Fe(e);const n=e.dep;n&&ba(n)}function it(e){return!!(e&&e.__v_isRef===!0)}function fe(e){return yh(e,!1)}function Pi(e){return yh(e,!0)}function yh(e,t){return it(e)?e:new Ov(e,t)}class Ov{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Fe(t),this._value=n?t:Ei(t)}get value(){return mh(this),this._value}set value(t){const n=this.__v_isShallow||As(t)||Mr(t);t=n?t:Fe(t),Oi(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ei(t),_h(this))}}function F(e){return it(e)?e.value:e}const Ev={get:(e,t,n)=>F(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return it(s)&&!it(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function bh(e){return kr(e)?e:new Proxy(e,Ev)}class Pv{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return tv(Fe(this._object),this._key)}}class kv{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ot(e,t,n){return it(e)?e:Se(e)?new kv(e):Be(e)&&arguments.length>1?Av(e,t,n):fe(e)}function Av(e,t,n){const r=e[t];return it(r)?r:new Pv(e,t,n)}class Mv{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new cl(t,()=>{this._dirty||(this._dirty=!0,_h(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=Fe(this);return mh(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Dv(e,t,n=!1){let r,s;const p=Se(e);return p?(r=e,s=wt):(r=e.get,s=e.set),new Mv(r,s,p||!s,n)}function Rv(e,...t){}function Yn(e,t,n,r){let s;try{s=r?e(...r):e()}catch(p){eo(p,t,n)}return s}function Ut(e,t,n,r){if(Se(e)){const p=Yn(e,t,n,r);return p&&Jf(p)&&p.catch(m=>{eo(m,t,n)}),p}const s=[];for(let p=0;p<e.length;p++)s.push(Ut(e[p],t,n,r));return s}function eo(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let p=t.parent;const m=t.proxy,u=n;for(;p;){const d=p.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](e,m,u)===!1)return}p=p.parent}const i=t.appContext.config.errorHandler;if(i){Yn(i,null,10,[e,m,u]);return}}Iv(e,n,s,r)}function Iv(e,t,n,r=!0){console.error(e)}let ki=!1,wa=!1;const vt=[];let un=0;const Ar=[];let xn=null,tr=0;const wh=Promise.resolve();let vl=null;function Xt(e){const t=vl||wh;return e?t.then(this?e.bind(this):e):t}function Fv(e){let t=un+1,n=vt.length;for(;t<n;){const r=t+n>>>1;Ai(vt[r])<e?t=r+1:n=r}return t}function ml(e){(!vt.length||!vt.includes(e,ki&&e.allowRecurse?un+1:un))&&(e.id==null?vt.push(e):vt.splice(Fv(e.id),0,e),Ch())}function Ch(){!ki&&!wa&&(wa=!0,vl=wh.then(xh))}function Lv(e){const t=vt.indexOf(e);t>un&&vt.splice(t,1)}function Bv(e){ye(e)?Ar.push(...e):(!xn||!xn.includes(e,e.allowRecurse?tr+1:tr))&&Ar.push(e),Ch()}function Lc(e,t=ki?un+1:0){for(;t<vt.length;t++){const n=vt[t];n&&n.pre&&(vt.splice(t,1),t--,n())}}function Sh(e){if(Ar.length){const t=[...new Set(Ar)];if(Ar.length=0,xn){xn.push(...t);return}for(xn=t,xn.sort((n,r)=>Ai(n)-Ai(r)),tr=0;tr<xn.length;tr++)xn[tr]();xn=null,tr=0}}const Ai=e=>e.id==null?1/0:e.id,jv=(e,t)=>{const n=Ai(e)-Ai(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function xh(e){wa=!1,ki=!0,vt.sort(jv);const t=wt;try{for(un=0;un<vt.length;un++){const n=vt[un];n&&n.active!==!1&&Yn(n,null,14)}}finally{un=0,vt.length=0,Sh(),ki=!1,vl=null,(vt.length||Ar.length)&&xh()}}function Nv(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ue;let s=n;const p=t.startsWith("update:"),m=p&&t.slice(7);if(m&&m in r){const f=`${m==="modelValue"?"model":m}Modifiers`,{number:o,trim:l}=r[f]||Ue;l&&(s=n.map(a=>Ne(a)?a.trim():a)),o&&(s=n.map(zg))}let u,i=r[u=Io(t)]||r[u=Io(en(t))];!i&&p&&(i=r[u=Io(Xr(t))]),i&&Ut(i,e,6,s);const d=r[u+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Ut(d,e,6,s)}}function Th(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const p=e.emits;let m={},u=!1;if(!Se(e)){const i=d=>{const f=Th(d,t,!0);f&&(u=!0,et(m,f))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return!p&&!u?(Be(e)&&r.set(e,null),null):(ye(p)?p.forEach(i=>m[i]=null):et(m,p),Be(e)&&r.set(e,m),m)}function to(e,t){return!e||!Gs(t)?!1:(t=t.slice(2).replace(/Once$/,""),Re(e,t[0].toLowerCase()+t.slice(1))||Re(e,Xr(t))||Re(e,t))}let ut=null,no=null;function Ds(e){const t=ut;return ut=e,no=e&&e.type.__scopeId||null,t}function ro(e){no=e}function io(){no=null}function ve(e,t=ut,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Kc(-1);const p=Ds(t);let m;try{m=e(...s)}finally{Ds(p),r._d&&Kc(1)}return m};return r._n=!0,r._c=!0,r._d=!0,r}function Fo(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:p,propsOptions:[m],slots:u,attrs:i,emit:d,render:f,renderCache:o,data:l,setupState:a,ctx:c,inheritAttrs:g}=e;let h,v;const _=Ds(e);try{if(n.shapeFlag&4){const b=s||r;h=cn(f.call(b,b,o,p,a,l,c)),v=i}else{const b=t;h=cn(b.length>1?b(p,{attrs:i,slots:u,emit:d}):b(p,null)),v=t.props?i:$v(i)}}catch(b){vi.length=0,eo(b,e,1),h=pe(Ft)}let y=h;if(v&&g!==!1){const b=Object.keys(v),{shapeFlag:w}=y;b.length&&w&7&&(m&&b.some(sl)&&(v=zv(v,m)),y=Pn(y,v))}return n.dirs&&(y=Pn(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),h=y,Ds(_),h}const $v=e=>{let t;for(const n in e)(n==="class"||n==="style"||Gs(n))&&((t||(t={}))[n]=e[n]);return t},zv=(e,t)=>{const n={};for(const r in e)(!sl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Hv(e,t,n){const{props:r,children:s,component:p}=e,{props:m,children:u,patchFlag:i}=t,d=p.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&i>=0){if(i&1024)return!0;if(i&16)return r?Bc(r,m,d):!!m;if(i&8){const f=t.dynamicProps;for(let o=0;o<f.length;o++){const l=f[o];if(m[l]!==r[l]&&!to(d,l))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:r===m?!1:r?m?Bc(r,m,d):!0:!!m;return!1}function Bc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const p=r[s];if(t[p]!==e[p]&&!to(n,p))return!0}return!1}function Uv({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Wv=e=>e.__isSuspense;function Yv(e,t){t&&t.pendingBranch?ye(e)?t.effects.push(...e):t.effects.push(e):Bv(e)}const ss={};function Ae(e,t,n){return Oh(e,t,n)}function Oh(e,t,{immediate:n,deep:r,flush:s,onTrack:p,onTrigger:m}=Ue){var u;const i=sh()===((u=ot)==null?void 0:u.scope)?ot:null;let d,f=!1,o=!1;if(it(e)?(d=()=>e.value,f=As(e)):kr(e)?(d=()=>e,r=!0):ye(e)?(o=!0,f=e.some(b=>kr(b)||As(b)),d=()=>e.map(b=>{if(it(b))return b.value;if(kr(b))return ir(b);if(Se(b))return Yn(b,i,2)})):Se(e)?t?d=()=>Yn(e,i,2):d=()=>{if(!(i&&i.isUnmounted))return l&&l(),Ut(e,i,3,[a])}:d=wt,t&&r){const b=d;d=()=>ir(b())}let l,a=b=>{l=_.onStop=()=>{Yn(b,i,4)}},c;if(Di)if(a=wt,t?n&&Ut(t,i,3,[d(),o?[]:void 0,a]):d(),s==="sync"){const b=Lm();c=b.__watcherHandles||(b.__watcherHandles=[])}else return wt;let g=o?new Array(e.length).fill(ss):ss;const h=()=>{if(_.active)if(t){const b=_.run();(r||f||(o?b.some((w,C)=>Oi(w,g[C])):Oi(b,g)))&&(l&&l(),Ut(t,i,3,[b,g===ss?void 0:o&&g[0]===ss?[]:g,a]),g=b)}else _.run()};h.allowRecurse=!!t;let v;s==="sync"?v=h:s==="post"?v=()=>xt(h,i&&i.suspense):(h.pre=!0,i&&(h.id=i.uid),v=()=>ml(h));const _=new cl(d,v);t?n?h():g=_.run():s==="post"?xt(_.run.bind(_),i&&i.suspense):_.run();const y=()=>{_.stop(),i&&i.scope&&ol(i.scope.effects,_)};return c&&c.push(y),y}function Xv(e,t,n){const r=this.proxy,s=Ne(e)?e.includes(".")?Eh(r,e):()=>r[e]:e.bind(r,r);let p;Se(t)?p=t:(p=t.handler,n=t);const m=ot;Rr(this);const u=Oh(s,p.bind(r),n);return m?Rr(m):lr(),u}function Eh(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function ir(e,t){if(!Be(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),it(e))ir(e.value,t);else if(ye(e))for(let n=0;n<e.length;n++)ir(e[n],t);else if(Ks(e)||Pr(e))e.forEach(n=>{ir(n,t)});else if(Qf(e))for(const n in e)ir(e[n],t);return e}function mt(e,t){const n=ut;if(n===null)return e;const r=lo(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let p=0;p<t.length;p++){let[m,u,i,d=Ue]=t[p];m&&(Se(m)&&(m={mounted:m,updated:m}),m.deep&&ir(u),s.push({dir:m,instance:r,value:u,oldValue:void 0,arg:i,modifiers:d}))}return e}function qn(e,t,n,r){const s=e.dirs,p=t&&t.dirs;for(let m=0;m<s.length;m++){const u=s[m];p&&(u.oldValue=p[m].value);let i=u.dir[r];i&&(Vr(),Ut(i,n,8,[e.el,u,e,t]),Gr())}}function Vv(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Je(()=>{e.isMounted=!0}),Bt(()=>{e.isUnmounting=!0}),e}const $t=[Function,Array],Ph={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:$t,onEnter:$t,onAfterEnter:$t,onEnterCancelled:$t,onBeforeLeave:$t,onLeave:$t,onAfterLeave:$t,onLeaveCancelled:$t,onBeforeAppear:$t,onAppear:$t,onAfterAppear:$t,onAppearCancelled:$t},Gv={name:"BaseTransition",props:Ph,setup(e,{slots:t}){const n=jt(),r=Vv();let s;return()=>{const p=t.default&&Ah(t.default(),!0);if(!p||!p.length)return;let m=p[0];if(p.length>1){for(const g of p)if(g.type!==Ft){m=g;break}}const u=Fe(e),{mode:i}=u;if(r.isLeaving)return Lo(m);const d=jc(m);if(!d)return Lo(m);const f=Ca(d,u,r,n);Sa(d,f);const o=n.subTree,l=o&&jc(o);let a=!1;const{getTransitionKey:c}=d.type;if(c){const g=c();s===void 0?s=g:g!==s&&(s=g,a=!0)}if(l&&l.type!==Ft&&(!nr(d,l)||a)){const g=Ca(l,u,r,n);if(Sa(l,g),i==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Lo(m);i==="in-out"&&d.type!==Ft&&(g.delayLeave=(h,v,_)=>{const y=kh(r,l);y[String(l.key)]=l,h._leaveCb=()=>{v(),h._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=_})}return m}}},Kv=Gv;function kh(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Ca(e,t,n,r){const{appear:s,mode:p,persisted:m=!1,onBeforeEnter:u,onEnter:i,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:o,onLeave:l,onAfterLeave:a,onLeaveCancelled:c,onBeforeAppear:g,onAppear:h,onAfterAppear:v,onAppearCancelled:_}=t,y=String(e.key),b=kh(n,e),w=(O,j)=>{O&&Ut(O,r,9,j)},C=(O,j)=>{const Y=j[1];w(O,j),ye(O)?O.every(G=>G.length<=1)&&Y():O.length<=1&&Y()},S={mode:p,persisted:m,beforeEnter(O){let j=u;if(!n.isMounted)if(s)j=g||u;else return;O._leaveCb&&O._leaveCb(!0);const Y=b[y];Y&&nr(e,Y)&&Y.el._leaveCb&&Y.el._leaveCb(),w(j,[O])},enter(O){let j=i,Y=d,G=f;if(!n.isMounted)if(s)j=h||i,Y=v||d,G=_||f;else return;let U=!1;const ee=O._enterCb=oe=>{U||(U=!0,oe?w(G,[O]):w(Y,[O]),S.delayedLeave&&S.delayedLeave(),O._enterCb=void 0)};j?C(j,[O,ee]):ee()},leave(O,j){const Y=String(e.key);if(O._enterCb&&O._enterCb(!0),n.isUnmounting)return j();w(o,[O]);let G=!1;const U=O._leaveCb=ee=>{G||(G=!0,j(),ee?w(c,[O]):w(a,[O]),O._leaveCb=void 0,b[Y]===e&&delete b[Y])};b[Y]=e,l?C(l,[O,U]):U()},clone(O){return Ca(O,t,n,r)}};return S}function Lo(e){if(so(e))return e=Pn(e),e.children=null,e}function jc(e){return so(e)?e.children?e.children[0]:void 0:e}function Sa(e,t){e.shapeFlag&6&&e.component?Sa(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ah(e,t=!1,n){let r=[],s=0;for(let p=0;p<e.length;p++){let m=e[p];const u=n==null?m.key:String(n)+String(m.key!=null?m.key:p);m.type===Me?(m.patchFlag&128&&s++,r=r.concat(Ah(m.children,t,u))):(t||m.type!==Ft)&&r.push(u!=null?Pn(m,{key:u}):m)}if(s>1)for(let p=0;p<r.length;p++)r[p].patchFlag=-2;return r}function Te(e,t){return Se(e)?(()=>et({name:e.name},t,{setup:e}))():e}const di=e=>!!e.type.__asyncLoader,so=e=>e.type.__isKeepAlive;function qv(e,t){Dh(e,"a",t)}function Mh(e,t){Dh(e,"da",t)}function Dh(e,t,n=ot){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(oo(t,r,n),n){let s=n.parent;for(;s&&s.parent;)so(s.parent.vnode)&&Jv(r,t,n,s),s=s.parent}}function Jv(e,t,n,r){const s=oo(t,e,r,!0);Wi(()=>{ol(r[t],s)},n)}function oo(e,t,n=ot,r=!1){if(n){const s=n[e]||(n[e]=[]),p=t.__weh||(t.__weh=(...m)=>{if(n.isUnmounted)return;Vr(),Rr(n);const u=Ut(t,n,e,m);return lr(),Gr(),u});return r?s.unshift(p):s.push(p),p}}const An=e=>(t,n=ot)=>(!Di||e==="sp")&&oo(e,(...r)=>t(...r),n),Rh=An("bm"),Je=An("m"),Zv=An("bu"),Ih=An("u"),Bt=An("bum"),Wi=An("um"),Qv=An("sp"),em=An("rtg"),tm=An("rtc");function nm(e,t=ot){oo("ec",e,t)}const _l="components";function ze(e,t){return Lh(_l,e,!0,t)||e}const Fh=Symbol.for("v-ndc");function ar(e){return Ne(e)?Lh(_l,e,!1)||e:e||Fh}function Lh(e,t,n=!0,r=!1){const s=ut||ot;if(s){const p=s.type;if(e===_l){const u=Rm(p,!1);if(u&&(u===t||u===en(t)||u===Js(en(t))))return p}const m=Nc(s[e]||p[e],t)||Nc(s.appContext[e],t);return!m&&r?p:m}}function Nc(e,t){return e&&(e[t]||e[en(t)]||e[Js(en(t))])}function gt(e,t,n,r){let s;const p=n&&n[r];if(ye(e)||Ne(e)){s=new Array(e.length);for(let m=0,u=e.length;m<u;m++)s[m]=t(e[m],m,void 0,p&&p[m])}else if(typeof e=="number"){s=new Array(e);for(let m=0;m<e;m++)s[m]=t(m+1,m,void 0,p&&p[m])}else if(Be(e))if(e[Symbol.iterator])s=Array.from(e,(m,u)=>t(m,u,void 0,p&&p[u]));else{const m=Object.keys(e);s=new Array(m.length);for(let u=0,i=m.length;u<i;u++){const d=m[u];s[u]=t(e[d],d,u,p&&p[u])}}else s=[];return n&&(n[r]=s),s}function rm(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(ye(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const p=r.fn(...s);return p&&(p.key=r.key),p}:r.fn)}return e}function Ee(e,t,n={},r,s){if(ut.isCE||ut.parent&&di(ut.parent)&&ut.parent.isCE)return t!=="default"&&(n.name=t),pe("slot",n,r&&r());let p=e[t];p&&p._c&&(p._d=!1),re();const m=p&&Bh(p(n)),u=ke(Me,{key:n.key||m&&m.key||`_${t}`},m||(r?r():[]),m&&e._===1?64:-2);return!s&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),p&&p._c&&(p._d=!0),u}function Bh(e){return e.some(t=>Dr(t)?!(t.type===Ft||t.type===Me&&!Bh(t.children)):!0)?e:null}const xa=e=>e?Jh(e)?lo(e)||e.proxy:xa(e.parent):null,pi=et(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>xa(e.parent),$root:e=>xa(e.root),$emit:e=>e.emit,$options:e=>yl(e),$forceUpdate:e=>e.f||(e.f=()=>ml(e.update)),$nextTick:e=>e.n||(e.n=Xt.bind(e.proxy)),$watch:e=>Xv.bind(e)}),Bo=(e,t)=>e!==Ue&&!e.__isScriptSetup&&Re(e,t),im={get({_:e},t){const{ctx:n,setupState:r,data:s,props:p,accessCache:m,type:u,appContext:i}=e;let d;if(t[0]!=="$"){const a=m[t];if(a!==void 0)switch(a){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return p[t]}else{if(Bo(r,t))return m[t]=1,r[t];if(s!==Ue&&Re(s,t))return m[t]=2,s[t];if((d=e.propsOptions[0])&&Re(d,t))return m[t]=3,p[t];if(n!==Ue&&Re(n,t))return m[t]=4,n[t];Ta&&(m[t]=0)}}const f=pi[t];let o,l;if(f)return t==="$attrs"&&At(e,"get",t),f(e);if((o=u.__cssModules)&&(o=o[t]))return o;if(n!==Ue&&Re(n,t))return m[t]=4,n[t];if(l=i.config.globalProperties,Re(l,t))return l[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:p}=e;return Bo(s,t)?(s[t]=n,!0):r!==Ue&&Re(r,t)?(r[t]=n,!0):Re(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(p[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:p}},m){let u;return!!n[m]||e!==Ue&&Re(e,m)||Bo(t,m)||(u=p[0])&&Re(u,m)||Re(r,m)||Re(pi,m)||Re(s.config.globalProperties,m)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Re(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function sm(){return Nh().slots}function jh(){return Nh().attrs}function Nh(){const e=jt();return e.setupContext||(e.setupContext=Qh(e))}function $c(e){return ye(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ta=!0;function om(e){const t=yl(e),n=e.proxy,r=e.ctx;Ta=!1,t.beforeCreate&&zc(t.beforeCreate,e,"bc");const{data:s,computed:p,methods:m,watch:u,provide:i,inject:d,created:f,beforeMount:o,mounted:l,beforeUpdate:a,updated:c,activated:g,deactivated:h,beforeDestroy:v,beforeUnmount:_,destroyed:y,unmounted:b,render:w,renderTracked:C,renderTriggered:S,errorCaptured:O,serverPrefetch:j,expose:Y,inheritAttrs:G,components:U,directives:ee,filters:oe}=t;if(d&&am(d,r,null),m)for(const X in m){const J=m[X];Se(J)&&(r[X]=J.bind(n))}if(s){const X=s.call(n,n);Be(X)&&(e.data=dr(X))}if(Ta=!0,p)for(const X in p){const J=p[X],x=Se(J)?J.bind(n,n):Se(J.get)?J.get.bind(n,n):wt,D=!Se(J)&&Se(J.set)?J.set.bind(n):wt,R=ne({get:x,set:D});Object.defineProperty(r,X,{enumerable:!0,configurable:!0,get:()=>R.value,set:I=>R.value=I})}if(u)for(const X in u)$h(u[X],r,n,X);if(i){const X=Se(i)?i.call(n):i;Reflect.ownKeys(X).forEach(J=>{qe(J,X[J])})}f&&zc(f,e,"c");function ce(X,J){ye(J)?J.forEach(x=>X(x.bind(n))):J&&X(J.bind(n))}if(ce(Rh,o),ce(Je,l),ce(Zv,a),ce(Ih,c),ce(qv,g),ce(Mh,h),ce(nm,O),ce(tm,C),ce(em,S),ce(Bt,_),ce(Wi,b),ce(Qv,j),ye(Y))if(Y.length){const X=e.exposed||(e.exposed={});Y.forEach(J=>{Object.defineProperty(X,J,{get:()=>n[J],set:x=>n[J]=x})})}else e.exposed||(e.exposed={});w&&e.render===wt&&(e.render=w),G!=null&&(e.inheritAttrs=G),U&&(e.components=U),ee&&(e.directives=ee)}function am(e,t,n=wt){ye(e)&&(e=Oa(e));for(const r in e){const s=e[r];let p;Be(s)?"default"in s?p=xe(s.from||r,s.default,!0):p=xe(s.from||r):p=xe(s),it(p)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>p.value,set:m=>p.value=m}):t[r]=p}}function zc(e,t,n){Ut(ye(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function $h(e,t,n,r){const s=r.includes(".")?Eh(n,r):()=>n[r];if(Ne(e)){const p=t[e];Se(p)&&Ae(s,p)}else if(Se(e))Ae(s,e.bind(n));else if(Be(e))if(ye(e))e.forEach(p=>$h(p,t,n,r));else{const p=Se(e.handler)?e.handler.bind(n):t[e.handler];Se(p)&&Ae(s,p,e)}}function yl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:p,config:{optionMergeStrategies:m}}=e.appContext,u=p.get(t);let i;return u?i=u:!s.length&&!n&&!r?i=t:(i={},s.length&&s.forEach(d=>Rs(i,d,m,!0)),Rs(i,t,m)),Be(t)&&p.set(t,i),i}function Rs(e,t,n,r=!1){const{mixins:s,extends:p}=t;p&&Rs(e,p,n,!0),s&&s.forEach(m=>Rs(e,m,n,!0));for(const m in t)if(!(r&&m==="expose")){const u=lm[m]||n&&n[m];e[m]=u?u(e[m],t[m]):t[m]}return e}const lm={data:Hc,props:Uc,emits:Uc,methods:fi,computed:fi,beforeCreate:yt,created:yt,beforeMount:yt,mounted:yt,beforeUpdate:yt,updated:yt,beforeDestroy:yt,beforeUnmount:yt,destroyed:yt,unmounted:yt,activated:yt,deactivated:yt,errorCaptured:yt,serverPrefetch:yt,components:fi,directives:fi,watch:um,provide:Hc,inject:cm};function Hc(e,t){return t?e?function(){return et(Se(e)?e.call(this,this):e,Se(t)?t.call(this,this):t)}:t:e}function cm(e,t){return fi(Oa(e),Oa(t))}function Oa(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function yt(e,t){return e?[...new Set([].concat(e,t))]:t}function fi(e,t){return e?et(Object.create(null),e,t):t}function Uc(e,t){return e?ye(e)&&ye(t)?[...new Set([...e,...t])]:et(Object.create(null),$c(e),$c(t??{})):t}function um(e,t){if(!e)return t;if(!t)return e;const n=et(Object.create(null),e);for(const r in t)n[r]=yt(e[r],t[r]);return n}function zh(){return{app:null,config:{isNativeTag:Fg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fm=0;function hm(e,t){return function(r,s=null){Se(r)||(r=et({},r)),s!=null&&!Be(s)&&(s=null);const p=zh(),m=new Set;let u=!1;const i=p.app={_uid:fm++,_component:r,_props:s,_container:null,_context:p,_instance:null,version:Bm,get config(){return p.config},set config(d){},use(d,...f){return m.has(d)||(d&&Se(d.install)?(m.add(d),d.install(i,...f)):Se(d)&&(m.add(d),d(i,...f))),i},mixin(d){return p.mixins.includes(d)||p.mixins.push(d),i},component(d,f){return f?(p.components[d]=f,i):p.components[d]},directive(d,f){return f?(p.directives[d]=f,i):p.directives[d]},mount(d,f,o){if(!u){const l=pe(r,s);return l.appContext=p,f&&t?t(l,d):e(l,d,o),u=!0,i._container=d,d.__vue_app__=i,lo(l.component)||l.component.proxy}},unmount(){u&&(e(null,i._container),delete i._container.__vue_app__)},provide(d,f){return p.provides[d]=f,i},runWithContext(d){Is=i;try{return d()}finally{Is=null}}};return i}}let Is=null;function qe(e,t){if(ot){let n=ot.provides;const r=ot.parent&&ot.parent.provides;r===n&&(n=ot.provides=Object.create(r)),n[e]=t}}function xe(e,t,n=!1){const r=ot||ut;if(r||Is){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Is._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Se(t)?t.call(r&&r.proxy):t}}function dm(e,t,n,r=!1){const s={},p={};Ps(p,ao,1),e.propsDefaults=Object.create(null),Hh(e,t,s,p);for(const m in e.propsOptions[0])m in s||(s[m]=void 0);n?e.props=r?s:dl(s):e.type.props?e.props=s:e.props=p,e.attrs=p}function pm(e,t,n,r){const{props:s,attrs:p,vnode:{patchFlag:m}}=e,u=Fe(s),[i]=e.propsOptions;let d=!1;if((r||m>0)&&!(m&16)){if(m&8){const f=e.vnode.dynamicProps;for(let o=0;o<f.length;o++){let l=f[o];if(to(e.emitsOptions,l))continue;const a=t[l];if(i)if(Re(p,l))a!==p[l]&&(p[l]=a,d=!0);else{const c=en(l);s[c]=Ea(i,u,c,a,e,!1)}else a!==p[l]&&(p[l]=a,d=!0)}}}else{Hh(e,t,s,p)&&(d=!0);let f;for(const o in u)(!t||!Re(t,o)&&((f=Xr(o))===o||!Re(t,f)))&&(i?n&&(n[o]!==void 0||n[f]!==void 0)&&(s[o]=Ea(i,u,o,void 0,e,!0)):delete s[o]);if(p!==u)for(const o in p)(!t||!Re(t,o))&&(delete p[o],d=!0)}d&&En(e,"set","$attrs")}function Hh(e,t,n,r){const[s,p]=e.propsOptions;let m=!1,u;if(t)for(let i in t){if(ms(i))continue;const d=t[i];let f;s&&Re(s,f=en(i))?!p||!p.includes(f)?n[f]=d:(u||(u={}))[f]=d:to(e.emitsOptions,i)||(!(i in r)||d!==r[i])&&(r[i]=d,m=!0)}if(p){const i=Fe(n),d=u||Ue;for(let f=0;f<p.length;f++){const o=p[f];n[o]=Ea(s,i,o,d[o],e,!Re(d,o))}}return m}function Ea(e,t,n,r,s,p){const m=e[n];if(m!=null){const u=Re(m,"default");if(u&&r===void 0){const i=m.default;if(m.type!==Function&&!m.skipFactory&&Se(i)){const{propsDefaults:d}=s;n in d?r=d[n]:(Rr(s),r=d[n]=i.call(null,t),lr())}else r=i}m[0]&&(p&&!u?r=!1:m[1]&&(r===""||r===Xr(n))&&(r=!0))}return r}function Uh(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const p=e.props,m={},u=[];let i=!1;if(!Se(e)){const f=o=>{i=!0;const[l,a]=Uh(o,t,!0);et(m,l),a&&u.push(...a)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!p&&!i)return Be(e)&&r.set(e,Er),Er;if(ye(p))for(let f=0;f<p.length;f++){const o=en(p[f]);Wc(o)&&(m[o]=Ue)}else if(p)for(const f in p){const o=en(f);if(Wc(o)){const l=p[f],a=m[o]=ye(l)||Se(l)?{type:l}:et({},l);if(a){const c=Vc(Boolean,a.type),g=Vc(String,a.type);a[0]=c>-1,a[1]=g<0||c<g,(c>-1||Re(a,"default"))&&u.push(o)}}}const d=[m,u];return Be(e)&&r.set(e,d),d}function Wc(e){return e[0]!=="$"}function Yc(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Xc(e,t){return Yc(e)===Yc(t)}function Vc(e,t){return ye(t)?t.findIndex(n=>Xc(n,e)):Se(t)&&Xc(t,e)?0:-1}const Wh=e=>e[0]==="_"||e==="$stable",bl=e=>ye(e)?e.map(cn):[cn(e)],gm=(e,t,n)=>{if(t._n)return t;const r=ve((...s)=>bl(t(...s)),n);return r._c=!1,r},Yh=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Wh(s))continue;const p=e[s];if(Se(p))t[s]=gm(s,p,r);else if(p!=null){const m=bl(p);t[s]=()=>m}}},Xh=(e,t)=>{const n=bl(t);e.slots.default=()=>n},vm=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Fe(t),Ps(t,"_",n)):Yh(t,e.slots={})}else e.slots={},t&&Xh(e,t);Ps(e.slots,ao,1)},mm=(e,t,n)=>{const{vnode:r,slots:s}=e;let p=!0,m=Ue;if(r.shapeFlag&32){const u=t._;u?n&&u===1?p=!1:(et(s,t),!n&&u===1&&delete s._):(p=!t.$stable,Yh(t,s)),m=t}else t&&(Xh(e,t),m={default:1});if(p)for(const u in s)!Wh(u)&&!(u in m)&&delete s[u]};function Pa(e,t,n,r,s=!1){if(ye(e)){e.forEach((l,a)=>Pa(l,t&&(ye(t)?t[a]:t),n,r,s));return}if(di(r)&&!s)return;const p=r.shapeFlag&4?lo(r.component)||r.component.proxy:r.el,m=s?null:p,{i:u,r:i}=e,d=t&&t.r,f=u.refs===Ue?u.refs={}:u.refs,o=u.setupState;if(d!=null&&d!==i&&(Ne(d)?(f[d]=null,Re(o,d)&&(o[d]=null)):it(d)&&(d.value=null)),Se(i))Yn(i,u,12,[m,f]);else{const l=Ne(i),a=it(i);if(l||a){const c=()=>{if(e.f){const g=l?Re(o,i)?o[i]:f[i]:i.value;s?ye(g)&&ol(g,p):ye(g)?g.includes(p)||g.push(p):l?(f[i]=[p],Re(o,i)&&(o[i]=f[i])):(i.value=[p],e.k&&(f[e.k]=i.value))}else l?(f[i]=m,Re(o,i)&&(o[i]=m)):a&&(i.value=m,e.k&&(f[e.k]=m))};m?(c.id=-1,xt(c,n)):c()}}}const xt=Yv;function _m(e){return ym(e)}function ym(e,t){const n=ma();n.__VUE__=!0;const{insert:r,remove:s,patchProp:p,createElement:m,createText:u,createComment:i,setText:d,setElementText:f,parentNode:o,nextSibling:l,setScopeId:a=wt,insertStaticContent:c}=e,g=(k,T,P,B=null,z=null,N=null,W=!1,q=null,se=!!T.dynamicChildren)=>{if(k===T)return;k&&!nr(k,T)&&(B=A(k),I(k,z,N,!0),k=null),T.patchFlag===-2&&(se=!1,T.dynamicChildren=null);const{type:Q,ref:V,shapeFlag:ae}=T;switch(Q){case Kr:h(k,T,P,B);break;case Ft:v(k,T,P,B);break;case ys:k==null&&_(T,P,B,W);break;case Me:U(k,T,P,B,z,N,W,q,se);break;default:ae&1?w(k,T,P,B,z,N,W,q,se):ae&6?ee(k,T,P,B,z,N,W,q,se):(ae&64||ae&128)&&Q.process(k,T,P,B,z,N,W,q,se,$)}V!=null&&z&&Pa(V,k&&k.ref,N,T||k,!T)},h=(k,T,P,B)=>{if(k==null)r(T.el=u(T.children),P,B);else{const z=T.el=k.el;T.children!==k.children&&d(z,T.children)}},v=(k,T,P,B)=>{k==null?r(T.el=i(T.children||""),P,B):T.el=k.el},_=(k,T,P,B)=>{[k.el,k.anchor]=c(k.children,T,P,B,k.el,k.anchor)},y=({el:k,anchor:T},P,B)=>{let z;for(;k&&k!==T;)z=l(k),r(k,P,B),k=z;r(T,P,B)},b=({el:k,anchor:T})=>{let P;for(;k&&k!==T;)P=l(k),s(k),k=P;s(T)},w=(k,T,P,B,z,N,W,q,se)=>{W=W||T.type==="svg",k==null?C(T,P,B,z,N,W,q,se):j(k,T,z,N,W,q,se)},C=(k,T,P,B,z,N,W,q)=>{let se,Q;const{type:V,props:ae,shapeFlag:he,transition:ge,dirs:me}=k;if(se=k.el=m(k.type,N,ae&&ae.is,ae),he&8?f(se,k.children):he&16&&O(k.children,se,null,B,z,N&&V!=="foreignObject",W,q),me&&qn(k,null,B,"created"),S(se,k,k.scopeId,W,B),ae){for(const be in ae)be!=="value"&&!ms(be)&&p(se,be,null,ae[be],N,k.children,B,z,H);"value"in ae&&p(se,"value",null,ae.value),(Q=ae.onVnodeBeforeMount)&&ln(Q,B,k)}me&&qn(k,null,B,"beforeMount");const _e=(!z||z&&!z.pendingBranch)&&ge&&!ge.persisted;_e&&ge.beforeEnter(se),r(se,T,P),((Q=ae&&ae.onVnodeMounted)||_e||me)&&xt(()=>{Q&&ln(Q,B,k),_e&&ge.enter(se),me&&qn(k,null,B,"mounted")},z)},S=(k,T,P,B,z)=>{if(P&&a(k,P),B)for(let N=0;N<B.length;N++)a(k,B[N]);if(z){let N=z.subTree;if(T===N){const W=z.vnode;S(k,W,W.scopeId,W.slotScopeIds,z.parent)}}},O=(k,T,P,B,z,N,W,q,se=0)=>{for(let Q=se;Q<k.length;Q++){const V=k[Q]=q?Nn(k[Q]):cn(k[Q]);g(null,V,T,P,B,z,N,W,q)}},j=(k,T,P,B,z,N,W)=>{const q=T.el=k.el;let{patchFlag:se,dynamicChildren:Q,dirs:V}=T;se|=k.patchFlag&16;const ae=k.props||Ue,he=T.props||Ue;let ge;P&&Jn(P,!1),(ge=he.onVnodeBeforeUpdate)&&ln(ge,P,T,k),V&&qn(T,k,P,"beforeUpdate"),P&&Jn(P,!0);const me=z&&T.type!=="foreignObject";if(Q?Y(k.dynamicChildren,Q,q,P,B,me,N):W||J(k,T,q,null,P,B,me,N,!1),se>0){if(se&16)G(q,T,ae,he,P,B,z);else if(se&2&&ae.class!==he.class&&p(q,"class",null,he.class,z),se&4&&p(q,"style",ae.style,he.style,z),se&8){const _e=T.dynamicProps;for(let be=0;be<_e.length;be++){const Oe=_e[be],Ke=ae[Oe],_t=he[Oe];(_t!==Ke||Oe==="value")&&p(q,Oe,Ke,_t,z,k.children,P,B,H)}}se&1&&k.children!==T.children&&f(q,T.children)}else!W&&Q==null&&G(q,T,ae,he,P,B,z);((ge=he.onVnodeUpdated)||V)&&xt(()=>{ge&&ln(ge,P,T,k),V&&qn(T,k,P,"updated")},B)},Y=(k,T,P,B,z,N,W)=>{for(let q=0;q<T.length;q++){const se=k[q],Q=T[q],V=se.el&&(se.type===Me||!nr(se,Q)||se.shapeFlag&70)?o(se.el):P;g(se,Q,V,null,B,z,N,W,!0)}},G=(k,T,P,B,z,N,W)=>{if(P!==B){if(P!==Ue)for(const q in P)!ms(q)&&!(q in B)&&p(k,q,P[q],null,W,T.children,z,N,H);for(const q in B){if(ms(q))continue;const se=B[q],Q=P[q];se!==Q&&q!=="value"&&p(k,q,Q,se,W,T.children,z,N,H)}"value"in B&&p(k,"value",P.value,B.value)}},U=(k,T,P,B,z,N,W,q,se)=>{const Q=T.el=k?k.el:u(""),V=T.anchor=k?k.anchor:u("");let{patchFlag:ae,dynamicChildren:he,slotScopeIds:ge}=T;ge&&(q=q?q.concat(ge):ge),k==null?(r(Q,P,B),r(V,P,B),O(T.children,P,V,z,N,W,q,se)):ae>0&&ae&64&&he&&k.dynamicChildren?(Y(k.dynamicChildren,he,P,z,N,W,q),(T.key!=null||z&&T===z.subTree)&&wl(k,T,!0)):J(k,T,P,V,z,N,W,q,se)},ee=(k,T,P,B,z,N,W,q,se)=>{T.slotScopeIds=q,k==null?T.shapeFlag&512?z.ctx.activate(T,P,B,W,se):oe(T,P,B,z,N,W,se):le(k,T,se)},oe=(k,T,P,B,z,N,W)=>{const q=k.component=km(k,B,z);if(so(k)&&(q.ctx.renderer=$),Am(q),q.asyncDep){if(z&&z.registerDep(q,ce),!k.el){const se=q.subTree=pe(Ft);v(null,se,T,P)}return}ce(q,k,T,P,z,N,W)},le=(k,T,P)=>{const B=T.component=k.component;if(Hv(k,T,P))if(B.asyncDep&&!B.asyncResolved){X(B,T,P);return}else B.next=T,Lv(B.update),B.update();else T.el=k.el,B.vnode=T},ce=(k,T,P,B,z,N,W)=>{const q=()=>{if(k.isMounted){let{next:V,bu:ae,u:he,parent:ge,vnode:me}=k,_e=V,be;Jn(k,!1),V?(V.el=me.el,X(k,V,W)):V=me,ae&&_s(ae),(be=V.props&&V.props.onVnodeBeforeUpdate)&&ln(be,ge,V,me),Jn(k,!0);const Oe=Fo(k),Ke=k.subTree;k.subTree=Oe,g(Ke,Oe,o(Ke.el),A(Ke),k,z,N),V.el=Oe.el,_e===null&&Uv(k,Oe.el),he&&xt(he,z),(be=V.props&&V.props.onVnodeUpdated)&&xt(()=>ln(be,ge,V,me),z)}else{let V;const{el:ae,props:he}=T,{bm:ge,m:me,parent:_e}=k,be=di(T);if(Jn(k,!1),ge&&_s(ge),!be&&(V=he&&he.onVnodeBeforeMount)&&ln(V,_e,T),Jn(k,!0),ae&&ie){const Oe=()=>{k.subTree=Fo(k),ie(ae,k.subTree,k,z,null)};be?T.type.__asyncLoader().then(()=>!k.isUnmounted&&Oe()):Oe()}else{const Oe=k.subTree=Fo(k);g(null,Oe,P,B,k,z,N),T.el=Oe.el}if(me&&xt(me,z),!be&&(V=he&&he.onVnodeMounted)){const Oe=T;xt(()=>ln(V,_e,Oe),z)}(T.shapeFlag&256||_e&&di(_e.vnode)&&_e.vnode.shapeFlag&256)&&k.a&&xt(k.a,z),k.isMounted=!0,T=P=B=null}},se=k.effect=new cl(q,()=>ml(Q),k.scope),Q=k.update=()=>se.run();Q.id=k.uid,Jn(k,!0),Q()},X=(k,T,P)=>{T.component=k;const B=k.vnode.props;k.vnode=T,k.next=null,pm(k,T.props,B,P),mm(k,T.children,P),Vr(),Lc(),Gr()},J=(k,T,P,B,z,N,W,q,se=!1)=>{const Q=k&&k.children,V=k?k.shapeFlag:0,ae=T.children,{patchFlag:he,shapeFlag:ge}=T;if(he>0){if(he&128){D(Q,ae,P,B,z,N,W,q,se);return}else if(he&256){x(Q,ae,P,B,z,N,W,q,se);return}}ge&8?(V&16&&H(Q,z,N),ae!==Q&&f(P,ae)):V&16?ge&16?D(Q,ae,P,B,z,N,W,q,se):H(Q,z,N,!0):(V&8&&f(P,""),ge&16&&O(ae,P,B,z,N,W,q,se))},x=(k,T,P,B,z,N,W,q,se)=>{k=k||Er,T=T||Er;const Q=k.length,V=T.length,ae=Math.min(Q,V);let he;for(he=0;he<ae;he++){const ge=T[he]=se?Nn(T[he]):cn(T[he]);g(k[he],ge,P,null,z,N,W,q,se)}Q>V?H(k,z,N,!0,!1,ae):O(T,P,B,z,N,W,q,se,ae)},D=(k,T,P,B,z,N,W,q,se)=>{let Q=0;const V=T.length;let ae=k.length-1,he=V-1;for(;Q<=ae&&Q<=he;){const ge=k[Q],me=T[Q]=se?Nn(T[Q]):cn(T[Q]);if(nr(ge,me))g(ge,me,P,null,z,N,W,q,se);else break;Q++}for(;Q<=ae&&Q<=he;){const ge=k[ae],me=T[he]=se?Nn(T[he]):cn(T[he]);if(nr(ge,me))g(ge,me,P,null,z,N,W,q,se);else break;ae--,he--}if(Q>ae){if(Q<=he){const ge=he+1,me=ge<V?T[ge].el:B;for(;Q<=he;)g(null,T[Q]=se?Nn(T[Q]):cn(T[Q]),P,me,z,N,W,q,se),Q++}}else if(Q>he)for(;Q<=ae;)I(k[Q],z,N,!0),Q++;else{const ge=Q,me=Q,_e=new Map;for(Q=me;Q<=he;Q++){const Ye=T[Q]=se?Nn(T[Q]):cn(T[Q]);Ye.key!=null&&_e.set(Ye.key,Q)}let be,Oe=0;const Ke=he-me+1;let _t=!1,pt=0;const sn=new Array(Ke);for(Q=0;Q<Ke;Q++)sn[Q]=0;for(Q=ge;Q<=ae;Q++){const Ye=k[Q];if(Oe>=Ke){I(Ye,z,N,!0);continue}let at;if(Ye.key!=null)at=_e.get(Ye.key);else for(be=me;be<=he;be++)if(sn[be-me]===0&&nr(Ye,T[be])){at=be;break}at===void 0?I(Ye,z,N,!0):(sn[at-me]=Q+1,at>=pt?pt=at:_t=!0,g(Ye,T[at],P,null,z,N,W,q,se),Oe++)}const Gn=_t?bm(sn):Er;for(be=Gn.length-1,Q=Ke-1;Q>=0;Q--){const Ye=me+Q,at=T[Ye],ei=Ye+1<V?T[Ye+1].el:B;sn[Q]===0?g(null,at,P,ei,z,N,W,q,se):_t&&(be<0||Q!==Gn[be]?R(at,P,ei,2):be--)}}},R=(k,T,P,B,z=null)=>{const{el:N,type:W,transition:q,children:se,shapeFlag:Q}=k;if(Q&6){R(k.component.subTree,T,P,B);return}if(Q&128){k.suspense.move(T,P,B);return}if(Q&64){W.move(k,T,P,$);return}if(W===Me){r(N,T,P);for(let ae=0;ae<se.length;ae++)R(se[ae],T,P,B);r(k.anchor,T,P);return}if(W===ys){y(k,T,P);return}if(B!==2&&Q&1&&q)if(B===0)q.beforeEnter(N),r(N,T,P),xt(()=>q.enter(N),z);else{const{leave:ae,delayLeave:he,afterLeave:ge}=q,me=()=>r(N,T,P),_e=()=>{ae(N,()=>{me(),ge&&ge()})};he?he(N,me,_e):_e()}else r(N,T,P)},I=(k,T,P,B=!1,z=!1)=>{const{type:N,props:W,ref:q,children:se,dynamicChildren:Q,shapeFlag:V,patchFlag:ae,dirs:he}=k;if(q!=null&&Pa(q,null,P,k,!0),V&256){T.ctx.deactivate(k);return}const ge=V&1&&he,me=!di(k);let _e;if(me&&(_e=W&&W.onVnodeBeforeUnmount)&&ln(_e,T,k),V&6)E(k.component,P,B);else{if(V&128){k.suspense.unmount(P,B);return}ge&&qn(k,null,T,"beforeUnmount"),V&64?k.type.remove(k,T,P,z,$,B):Q&&(N!==Me||ae>0&&ae&64)?H(Q,T,P,!1,!0):(N===Me&&ae&384||!z&&V&16)&&H(se,T,P),B&&Z(k)}(me&&(_e=W&&W.onVnodeUnmounted)||ge)&&xt(()=>{_e&&ln(_e,T,k),ge&&qn(k,null,T,"unmounted")},P)},Z=k=>{const{type:T,el:P,anchor:B,transition:z}=k;if(T===Me){M(P,B);return}if(T===ys){b(k);return}const N=()=>{s(P),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(k.shapeFlag&1&&z&&!z.persisted){const{leave:W,delayLeave:q}=z,se=()=>W(P,N);q?q(k.el,N,se):se()}else N()},M=(k,T)=>{let P;for(;k!==T;)P=l(k),s(k),k=P;s(T)},E=(k,T,P)=>{const{bum:B,scope:z,update:N,subTree:W,um:q}=k;B&&_s(B),z.stop(),N&&(N.active=!1,I(W,k,T,P)),q&&xt(q,T),xt(()=>{k.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},H=(k,T,P,B=!1,z=!1,N=0)=>{for(let W=N;W<k.length;W++)I(k[W],T,P,B,z)},A=k=>k.shapeFlag&6?A(k.component.subTree):k.shapeFlag&128?k.suspense.next():l(k.anchor||k.el),L=(k,T,P)=>{k==null?T._vnode&&I(T._vnode,null,null,!0):g(T._vnode||null,k,T,null,null,null,P),Lc(),Sh(),T._vnode=k},$={p:g,um:I,m:R,r:Z,mt:oe,mc:O,pc:J,pbc:Y,n:A,o:e};let K,ie;return t&&([K,ie]=t($)),{render:L,hydrate:K,createApp:hm(L,K)}}function Jn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function wl(e,t,n=!1){const r=e.children,s=t.children;if(ye(r)&&ye(s))for(let p=0;p<r.length;p++){const m=r[p];let u=s[p];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[p]=Nn(s[p]),u.el=m.el),n||wl(m,u)),u.type===Kr&&(u.el=m.el)}}function bm(e){const t=e.slice(),n=[0];let r,s,p,m,u;const i=e.length;for(r=0;r<i;r++){const d=e[r];if(d!==0){if(s=n[n.length-1],e[s]<d){t[r]=s,n.push(r);continue}for(p=0,m=n.length-1;p<m;)u=p+m>>1,e[n[u]]<d?p=u+1:m=u;d<e[n[p]]&&(p>0&&(t[r]=n[p-1]),n[p]=r)}}for(p=n.length,m=n[p-1];p-- >0;)n[p]=m,m=t[m];return n}const wm=e=>e.__isTeleport,gi=e=>e&&(e.disabled||e.disabled===""),Gc=e=>typeof SVGElement<"u"&&e instanceof SVGElement,ka=(e,t)=>{const n=e&&e.to;return Ne(n)?t?t(n):null:n},Cm={__isTeleport:!0,process(e,t,n,r,s,p,m,u,i,d){const{mc:f,pc:o,pbc:l,o:{insert:a,querySelector:c,createText:g,createComment:h}}=d,v=gi(t.props);let{shapeFlag:_,children:y,dynamicChildren:b}=t;if(e==null){const w=t.el=g(""),C=t.anchor=g("");a(w,n,r),a(C,n,r);const S=t.target=ka(t.props,c),O=t.targetAnchor=g("");S&&(a(O,S),m=m||Gc(S));const j=(Y,G)=>{_&16&&f(y,Y,G,s,p,m,u,i)};v?j(n,C):S&&j(S,O)}else{t.el=e.el;const w=t.anchor=e.anchor,C=t.target=e.target,S=t.targetAnchor=e.targetAnchor,O=gi(e.props),j=O?n:C,Y=O?w:S;if(m=m||Gc(C),b?(l(e.dynamicChildren,b,j,s,p,m,u),wl(e,t,!0)):i||o(e,t,j,Y,s,p,m,u,!1),v)O||os(t,n,w,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const G=t.target=ka(t.props,c);G&&os(t,G,null,d,0)}else O&&os(t,C,S,d,1)}Vh(t)},remove(e,t,n,r,{um:s,o:{remove:p}},m){const{shapeFlag:u,children:i,anchor:d,targetAnchor:f,target:o,props:l}=e;if(o&&p(f),(m||!gi(l))&&(p(d),u&16))for(let a=0;a<i.length;a++){const c=i[a];s(c,t,n,!0,!!c.dynamicChildren)}},move:os,hydrate:Sm};function os(e,t,n,{o:{insert:r},m:s},p=2){p===0&&r(e.targetAnchor,t,n);const{el:m,anchor:u,shapeFlag:i,children:d,props:f}=e,o=p===2;if(o&&r(m,t,n),(!o||gi(f))&&i&16)for(let l=0;l<d.length;l++)s(d[l],t,n,2);o&&r(u,t,n)}function Sm(e,t,n,r,s,p,{o:{nextSibling:m,parentNode:u,querySelector:i}},d){const f=t.target=ka(t.props,i);if(f){const o=f._lpa||f.firstChild;if(t.shapeFlag&16)if(gi(t.props))t.anchor=d(m(e),t,u(e),n,r,s,p),t.targetAnchor=o;else{t.anchor=m(e);let l=o;for(;l;)if(l=m(l),l&&l.nodeType===8&&l.data==="teleport anchor"){t.targetAnchor=l,f._lpa=t.targetAnchor&&m(t.targetAnchor);break}d(o,t,f,n,r,s,p)}Vh(t)}return t.anchor&&m(t.anchor)}const Cl=Cm;function Vh(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Me=Symbol.for("v-fgt"),Kr=Symbol.for("v-txt"),Ft=Symbol.for("v-cmt"),ys=Symbol.for("v-stc"),vi=[];let Zt=null;function re(e=!1){vi.push(Zt=e?null:[])}function xm(){vi.pop(),Zt=vi[vi.length-1]||null}let Mi=1;function Kc(e){Mi+=e}function Gh(e){return e.dynamicChildren=Mi>0?Zt||Er:null,xm(),Mi>0&&Zt&&Zt.push(e),e}function de(e,t,n,r,s,p){return Gh(te(e,t,n,r,s,p,!0))}function ke(e,t,n,r,s){return Gh(pe(e,t,n,r,s,!0))}function Dr(e){return e?e.__v_isVNode===!0:!1}function nr(e,t){return e.type===t.type&&e.key===t.key}const ao="__vInternal",Kh=({key:e})=>e??null,bs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ne(e)||it(e)||Se(e)?{i:ut,r:e,k:t,f:!!n}:e:null);function te(e,t=null,n=null,r=0,s=null,p=e===Me?0:1,m=!1,u=!1){const i={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Kh(t),ref:t&&bs(t),scopeId:no,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ut};return u?(Sl(i,n),p&128&&e.normalize(i)):n&&(i.shapeFlag|=Ne(n)?8:16),Mi>0&&!m&&Zt&&(i.patchFlag>0||p&6)&&i.patchFlag!==32&&Zt.push(i),i}const pe=Tm;function Tm(e,t=null,n=null,r=0,s=null,p=!1){if((!e||e===Fh)&&(e=Ft),Dr(e)){const u=Pn(e,t,!0);return n&&Sl(u,n),Mi>0&&!p&&Zt&&(u.shapeFlag&6?Zt[Zt.indexOf(e)]=u:Zt.push(u)),u.patchFlag|=-2,u}if(Im(e)&&(e=e.__vccOpts),t){t=qh(t);let{class:u,style:i}=t;u&&!Ne(u)&&(t.class=Ce(u)),Be(i)&&(vh(i)&&!ye(i)&&(i=et({},i)),t.style=Xe(i))}const m=Ne(e)?1:Wv(e)?128:wm(e)?64:Be(e)?4:Se(e)?2:0;return te(e,t,n,r,s,m,p,!0)}function qh(e){return e?vh(e)||ao in e?et({},e):e:null}function Pn(e,t,n=!1){const{props:r,ref:s,patchFlag:p,children:m}=e,u=t?Lt(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Kh(u),ref:t&&t.ref?n&&s?ye(s)?s.concat(bs(t)):[s,bs(t)]:bs(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:m,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?p===-1?16:p|16:p,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Pn(e.ssContent),ssFallback:e.ssFallback&&Pn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Yi(e=" ",t=0){return pe(Kr,null,e,t)}function Om(e,t){const n=pe(ys,null,e);return n.staticCount=t,n}function De(e="",t=!1){return t?(re(),ke(Ft,null,e)):pe(Ft,null,e)}function cn(e){return e==null||typeof e=="boolean"?pe(Ft):ye(e)?pe(Me,null,e.slice()):typeof e=="object"?Nn(e):pe(Kr,null,String(e))}function Nn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Pn(e)}function Sl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ye(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Sl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(ao in t)?t._ctx=ut:s===3&&ut&&(ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Se(t)?(t={default:t,_ctx:ut},n=32):(t=String(t),r&64?(n=16,t=[Yi(t)]):n=8);e.children=t,e.shapeFlag|=n}function Lt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Ce([t.class,r.class]));else if(s==="style")t.style=Xe([t.style,r.style]);else if(Gs(s)){const p=t[s],m=r[s];m&&p!==m&&!(ye(p)&&p.includes(m))&&(t[s]=p?[].concat(p,m):m)}else s!==""&&(t[s]=r[s])}return t}function ln(e,t,n,r=null){Ut(e,t,7,[n,r])}const Em=zh();let Pm=0;function km(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Em,p={uid:Pm++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new rh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Uh(r,s),emitsOptions:Th(r,s),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:r.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=t?t.root:p,p.emit=Nv.bind(null,p),e.ce&&e.ce(p),p}let ot=null;const jt=()=>ot||ut;let xl,yr,qc="__VUE_INSTANCE_SETTERS__";(yr=ma()[qc])||(yr=ma()[qc]=[]),yr.push(e=>ot=e),xl=e=>{yr.length>1?yr.forEach(t=>t(e)):yr[0](e)};const Rr=e=>{xl(e),e.scope.on()},lr=()=>{ot&&ot.scope.off(),xl(null)};function Jh(e){return e.vnode.shapeFlag&4}let Di=!1;function Am(e,t=!1){Di=t;const{props:n,children:r}=e.vnode,s=Jh(e);dm(e,n,s,t),vm(e,r);const p=s?Mm(e,t):void 0;return Di=!1,p}function Mm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ms(new Proxy(e.ctx,im));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?Qh(e):null;Rr(e),Vr();const p=Yn(r,e,0,[e.props,s]);if(Gr(),lr(),Jf(p)){if(p.then(lr,lr),t)return p.then(m=>{Jc(e,m,t)}).catch(m=>{eo(m,e,0)});e.asyncDep=p}else Jc(e,p,t)}else Zh(e,t)}function Jc(e,t,n){Se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Be(t)&&(e.setupState=bh(t)),Zh(e,n)}let Zc;function Zh(e,t,n){const r=e.type;if(!e.render){if(!t&&Zc&&!r.render){const s=r.template||yl(e).template;if(s){const{isCustomElement:p,compilerOptions:m}=e.appContext.config,{delimiters:u,compilerOptions:i}=r,d=et(et({isCustomElement:p,delimiters:u},m),i);r.render=Zc(s,d)}}e.render=r.render||wt}Rr(e),Vr(),om(e),Gr(),lr()}function Dm(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return At(e,"get","$attrs"),t[n]}}))}function Qh(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Dm(e)},slots:e.slots,emit:e.emit,expose:t}}function lo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(bh(Ms(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in pi)return pi[n](e)},has(t,n){return n in t||n in pi}}))}function Rm(e,t=!0){return Se(e)?e.displayName||e.name:e.name||t&&e.__name}function Im(e){return Se(e)&&"__vccOpts"in e}const ne=(e,t)=>Dv(e,t,Di);function Tl(e,t,n){const r=arguments.length;return r===2?Be(t)&&!ye(t)?Dr(t)?pe(e,null,[t]):pe(e,t):pe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Dr(n)&&(n=[n]),pe(e,t,n))}const Fm=Symbol.for("v-scx"),Lm=()=>xe(Fm),Bm="3.3.4",jm="http://www.w3.org/2000/svg",rr=typeof document<"u"?document:null,Qc=rr&&rr.createElement("template"),Nm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?rr.createElementNS(jm,e):rr.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>rr.createTextNode(e),createComment:e=>rr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,p){const m=n?n.previousSibling:t.lastChild;if(s&&(s===p||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===p||!(s=s.nextSibling)););else{Qc.innerHTML=r?`<svg>${e}</svg>`:e;const u=Qc.content;if(r){const i=u.firstChild;for(;i.firstChild;)u.appendChild(i.firstChild);u.removeChild(i)}t.insertBefore(u,n)}return[m?m.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function $m(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function zm(e,t,n){const r=e.style,s=Ne(n);if(n&&!s){if(t&&!Ne(t))for(const p in t)n[p]==null&&Aa(r,p,"");for(const p in n)Aa(r,p,n[p])}else{const p=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=p)}}const eu=/\s*!important$/;function Aa(e,t,n){if(ye(n))n.forEach(r=>Aa(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Hm(e,t);eu.test(n)?e.setProperty(Xr(r),n.replace(eu,""),"important"):e[r]=n}}const tu=["Webkit","Moz","ms"],jo={};function Hm(e,t){const n=jo[t];if(n)return n;let r=en(t);if(r!=="filter"&&r in e)return jo[t]=r;r=Js(r);for(let s=0;s<tu.length;s++){const p=tu[s]+r;if(p in e)return jo[t]=p}return t}const nu="http://www.w3.org/1999/xlink";function Um(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(nu,t.slice(6,t.length)):e.setAttributeNS(nu,t,n);else{const p=Kg(t);n==null||p&&!eh(n)?e.removeAttribute(t):e.setAttribute(t,p?"":n)}}function Wm(e,t,n,r,s,p,m){if(t==="innerHTML"||t==="textContent"){r&&m(r,s,p),e[t]=n??"";return}const u=e.tagName;if(t==="value"&&u!=="PROGRESS"&&!u.includes("-")){e._value=n;const d=u==="OPTION"?e.getAttribute("value"):e.value,f=n??"";d!==f&&(e.value=f),n==null&&e.removeAttribute(t);return}let i=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=eh(n):n==null&&d==="string"?(n="",i=!0):d==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(t)}function ed(e,t,n,r){e.addEventListener(t,n,r)}function Ym(e,t,n,r){e.removeEventListener(t,n,r)}function Xm(e,t,n,r,s=null){const p=e._vei||(e._vei={}),m=p[t];if(r&&m)m.value=r;else{const[u,i]=Vm(t);if(r){const d=p[t]=qm(r,s);ed(e,u,d,i)}else m&&(Ym(e,u,m,i),p[t]=void 0)}}const ru=/(?:Once|Passive|Capture)$/;function Vm(e){let t;if(ru.test(e)){t={};let r;for(;r=e.match(ru);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Xr(e.slice(2)),t]}let No=0;const Gm=Promise.resolve(),Km=()=>No||(Gm.then(()=>No=0),No=Date.now());function qm(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ut(Jm(r,n.value),t,5,[r])};return n.value=e,n.attached=Km(),n}function Jm(e,t){if(ye(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const iu=/^on[a-z]/,Zm=(e,t,n,r,s=!1,p,m,u,i)=>{t==="class"?$m(e,r,s):t==="style"?zm(e,n,r):Gs(t)?sl(t)||Xm(e,t,n,r,m):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Qm(e,t,r,s))?Wm(e,t,r,p,m,u,i):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Um(e,t,r,s))};function Qm(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&iu.test(t)&&Se(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||iu.test(t)&&Ne(n)?!1:t in e}const Rn="transition",ri="animation",vn=(e,{slots:t})=>Tl(Kv,e0(e),t);vn.displayName="Transition";const td={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};vn.props=et({},Ph,td);const Zn=(e,t=[])=>{ye(e)?e.forEach(n=>n(...t)):e&&e(...t)},su=e=>e?ye(e)?e.some(t=>t.length>1):e.length>1:!1;function e0(e){const t={};for(const U in e)U in td||(t[U]=e[U]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:p=`${n}-enter-from`,enterActiveClass:m=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:i=p,appearActiveClass:d=m,appearToClass:f=u,leaveFromClass:o=`${n}-leave-from`,leaveActiveClass:l=`${n}-leave-active`,leaveToClass:a=`${n}-leave-to`}=e,c=t0(s),g=c&&c[0],h=c&&c[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:y,onLeave:b,onLeaveCancelled:w,onBeforeAppear:C=v,onAppear:S=_,onAppearCancelled:O=y}=t,j=(U,ee,oe)=>{Qn(U,ee?f:u),Qn(U,ee?d:m),oe&&oe()},Y=(U,ee)=>{U._isLeaving=!1,Qn(U,o),Qn(U,a),Qn(U,l),ee&&ee()},G=U=>(ee,oe)=>{const le=U?S:_,ce=()=>j(ee,U,oe);Zn(le,[ee,ce]),ou(()=>{Qn(ee,U?i:p),In(ee,U?f:u),su(le)||au(ee,r,g,ce)})};return et(t,{onBeforeEnter(U){Zn(v,[U]),In(U,p),In(U,m)},onBeforeAppear(U){Zn(C,[U]),In(U,i),In(U,d)},onEnter:G(!1),onAppear:G(!0),onLeave(U,ee){U._isLeaving=!0;const oe=()=>Y(U,ee);In(U,o),i0(),In(U,l),ou(()=>{U._isLeaving&&(Qn(U,o),In(U,a),su(b)||au(U,r,h,oe))}),Zn(b,[U,oe])},onEnterCancelled(U){j(U,!1),Zn(y,[U])},onAppearCancelled(U){j(U,!0),Zn(O,[U])},onLeaveCancelled(U){Y(U),Zn(w,[U])}})}function t0(e){if(e==null)return null;if(Be(e))return[$o(e.enter),$o(e.leave)];{const t=$o(e);return[t,t]}}function $o(e){return Hg(e)}function In(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Qn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function ou(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let n0=0;function au(e,t,n,r){const s=e._endId=++n0,p=()=>{s===e._endId&&r()};if(n)return setTimeout(p,n);const{type:m,timeout:u,propCount:i}=r0(e,t);if(!m)return r();const d=m+"end";let f=0;const o=()=>{e.removeEventListener(d,l),p()},l=a=>{a.target===e&&++f>=i&&o()};setTimeout(()=>{f<i&&o()},u+1),e.addEventListener(d,l)}function r0(e,t){const n=window.getComputedStyle(e),r=c=>(n[c]||"").split(", "),s=r(`${Rn}Delay`),p=r(`${Rn}Duration`),m=lu(s,p),u=r(`${ri}Delay`),i=r(`${ri}Duration`),d=lu(u,i);let f=null,o=0,l=0;t===Rn?m>0&&(f=Rn,o=m,l=p.length):t===ri?d>0&&(f=ri,o=d,l=i.length):(o=Math.max(m,d),f=o>0?m>d?Rn:ri:null,l=f?f===Rn?p.length:i.length:0);const a=f===Rn&&/\b(transform|all)(,|$)/.test(r(`${Rn}Property`).toString());return{type:f,timeout:o,propCount:l,hasTransform:a}}function lu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>cu(n)+cu(e[r])))}function cu(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function i0(){return document.body.offsetHeight}const uu=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ye(t)?n=>_s(t,n):t},s0={deep:!0,created(e,t,n){e._assign=uu(n),ed(e,"change",()=>{const r=e._modelValue,s=o0(e),p=e.checked,m=e._assign;if(ye(r)){const u=th(r,s),i=u!==-1;if(p&&!i)m(r.concat(s));else if(!p&&i){const d=[...r];d.splice(u,1),m(d)}}else if(Ks(r)){const u=new Set(r);p?u.add(s):u.delete(s),m(u)}else m(nd(e,p))})},mounted:fu,beforeUpdate(e,t,n){e._assign=uu(n),fu(e,t,n)}};function fu(e,{value:t,oldValue:n},r){e._modelValue=t,ye(t)?e.checked=th(t,r.props.value)>-1:Ks(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Zs(t,nd(e,!0)))}function o0(e){return"_value"in e?e._value:e.value}function nd(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const a0=["ctrl","shift","alt","meta"],l0={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>a0.some(n=>e[`${n}Key`]&&!t.includes(n))},ur=(e,t)=>(n,...r)=>{for(let s=0;s<t.length;s++){const p=l0[t[s]];if(p&&p(n,t))return}return e(n,...r)},Tt={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ii(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ii(e,!0),r.enter(e)):r.leave(e,()=>{ii(e,!1)}):ii(e,t))},beforeUnmount(e,{value:t}){ii(e,t)}};function ii(e,t){e.style.display=t?e._vod:"none"}const c0=et({patchProp:Zm},Nm);let hu;function rd(){return hu||(hu=_m(c0))}const du=(...e)=>{rd().render(...e)},u0=(...e)=>{const t=rd().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=f0(r);if(!s)return;const p=t._component;!Se(p)&&!p.render&&!p.template&&(p.template=s.innerHTML),s.innerHTML="";const m=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),m},t};function f0(e){return Ne(e)?document.querySelector(e):e}const ht=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},h0={};function d0(e,t,n,r,s,p){const m=ze("router-view");return re(),ke(m)}const p0=ht(h0,[["render",d0]]);function g0(){return id().__VUE_DEVTOOLS_GLOBAL_HOOK__}function id(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const v0=typeof Proxy=="function",m0="devtools-plugin:setup",_0="plugin:settings:set";let br,Ma;function y0(){var e;return br!==void 0||(typeof window<"u"&&window.performance?(br=!0,Ma=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(br=!0,Ma=global.perf_hooks.performance):br=!1),br}function b0(){return y0()?Ma.now():Date.now()}class w0{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const m in t.settings){const u=t.settings[m];r[m]=u.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let p=Object.assign({},r);try{const m=localStorage.getItem(s),u=JSON.parse(m);Object.assign(p,u)}catch{}this.fallbacks={getSettings(){return p},setSettings(m){try{localStorage.setItem(s,JSON.stringify(m))}catch{}p=m},now(){return b0()}},n&&n.on(_0,(m,u)=>{m===this.plugin.id&&this.fallbacks.setSettings(u)}),this.proxiedOn=new Proxy({},{get:(m,u)=>this.target?this.target.on[u]:(...i)=>{this.onQueue.push({method:u,args:i})}}),this.proxiedTarget=new Proxy({},{get:(m,u)=>this.target?this.target[u]:u==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(u)?(...i)=>(this.targetQueue.push({method:u,args:i,resolve:()=>{}}),this.fallbacks[u](...i)):(...i)=>new Promise(d=>{this.targetQueue.push({method:u,args:i,resolve:d})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function C0(e,t){const n=e,r=id(),s=g0(),p=v0&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!p))s.emit(m0,e,t);else{const m=p?new w0(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:m}),m&&t(m.proxiedTarget)}}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Sr=typeof window<"u";function S0(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const je=Object.assign;function zo(e,t){const n={};for(const r in t){const s=t[r];n[r]=tn(s)?s.map(e):e(s)}return n}const mi=()=>{},tn=Array.isArray,x0=/\/$/,T0=e=>e.replace(x0,"");function Ho(e,t,n="/"){let r,s={},p="",m="";const u=t.indexOf("#");let i=t.indexOf("?");return u<i&&u>=0&&(i=-1),i>-1&&(r=t.slice(0,i),p=t.slice(i+1,u>-1?u:t.length),s=e(p)),u>-1&&(r=r||t.slice(0,u),m=t.slice(u,t.length)),r=k0(r??t,n),{fullPath:r+(p&&"?")+p+m,path:r,query:s,hash:m}}function O0(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function pu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function E0(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Ir(t.matched[r],n.matched[s])&&sd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ir(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function sd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!P0(e[n],t[n]))return!1;return!0}function P0(e,t){return tn(e)?gu(e,t):tn(t)?gu(t,e):e===t}function gu(e,t){return tn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function k0(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let p=n.length-1,m,u;for(m=0;m<r.length;m++)if(u=r[m],u!==".")if(u==="..")p>1&&p--;else break;return n.slice(0,p).join("/")+"/"+r.slice(m-(m===r.length?1:0)).join("/")}var Ri;(function(e){e.pop="pop",e.push="push"})(Ri||(Ri={}));var _i;(function(e){e.back="back",e.forward="forward",e.unknown=""})(_i||(_i={}));function A0(e){if(!e)if(Sr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),T0(e)}const M0=/^[^#]+#/;function D0(e,t){return e.replace(M0,"#")+t}function R0(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const co=()=>({left:window.pageXOffset,top:window.pageYOffset});function I0(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=R0(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function vu(e,t){return(history.state?history.state.position-t:-1)+e}const Da=new Map;function F0(e,t){Da.set(e,t)}function L0(e){const t=Da.get(e);return Da.delete(e),t}let B0=()=>location.protocol+"//"+location.host;function od(e,t){const{pathname:n,search:r,hash:s}=t,p=e.indexOf("#");if(p>-1){let u=s.includes(e.slice(p))?e.slice(p).length:1,i=s.slice(u);return i[0]!=="/"&&(i="/"+i),pu(i,"")}return pu(n,e)+r+s}function j0(e,t,n,r){let s=[],p=[],m=null;const u=({state:l})=>{const a=od(e,location),c=n.value,g=t.value;let h=0;if(l){if(n.value=a,t.value=l,m&&m===c){m=null;return}h=g?l.position-g.position:0}else r(a);s.forEach(v=>{v(n.value,c,{delta:h,type:Ri.pop,direction:h?h>0?_i.forward:_i.back:_i.unknown})})};function i(){m=n.value}function d(l){s.push(l);const a=()=>{const c=s.indexOf(l);c>-1&&s.splice(c,1)};return p.push(a),a}function f(){const{history:l}=window;l.state&&l.replaceState(je({},l.state,{scroll:co()}),"")}function o(){for(const l of p)l();p=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:i,listen:d,destroy:o}}function mu(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?co():null}}function N0(e){const{history:t,location:n}=window,r={value:od(e,n)},s={value:t.state};s.value||p(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function p(i,d,f){const o=e.indexOf("#"),l=o>-1?(n.host&&document.querySelector("base")?e:e.slice(o))+i:B0()+e+i;try{t[f?"replaceState":"pushState"](d,"",l),s.value=d}catch(a){console.error(a),n[f?"replace":"assign"](l)}}function m(i,d){const f=je({},t.state,mu(s.value.back,i,s.value.forward,!0),d,{position:s.value.position});p(i,f,!0),r.value=i}function u(i,d){const f=je({},s.value,t.state,{forward:i,scroll:co()});p(f.current,f,!0);const o=je({},mu(r.value,i,null),{position:f.position+1},d);p(i,o,!1),r.value=i}return{location:r,state:s,push:u,replace:m}}function $0(e){e=A0(e);const t=N0(e),n=j0(e,t.state,t.location,t.replace);function r(p,m=!0){m||n.pauseListeners(),history.go(p)}const s=je({location:"",base:e,go:r,createHref:D0.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function z0(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),$0(e)}function H0(e){return typeof e=="string"||e&&typeof e=="object"}function ad(e){return typeof e=="string"||typeof e=="symbol"}const Fn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ld=Symbol("");var _u;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(_u||(_u={}));function Fr(e,t){return je(new Error,{type:e,[ld]:!0},t)}function Cn(e,t){return e instanceof Error&&ld in e&&(t==null||!!(e.type&t))}const yu="[^/]+?",U0={sensitive:!1,strict:!1,start:!0,end:!0},W0=/[.+*?^${}()[\]/\\]/g;function Y0(e,t){const n=je({},U0,t),r=[];let s=n.start?"^":"";const p=[];for(const d of e){const f=d.length?[]:[90];n.strict&&!d.length&&(s+="/");for(let o=0;o<d.length;o++){const l=d[o];let a=40+(n.sensitive?.25:0);if(l.type===0)o||(s+="/"),s+=l.value.replace(W0,"\\$&"),a+=40;else if(l.type===1){const{value:c,repeatable:g,optional:h,regexp:v}=l;p.push({name:c,repeatable:g,optional:h});const _=v||yu;if(_!==yu){a+=10;try{new RegExp(`(${_})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${c}" (${_}): `+b.message)}}let y=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;o||(y=h&&d.length<2?`(?:/${y})`:"/"+y),h&&(y+="?"),s+=y,a+=20,h&&(a+=-8),g&&(a+=-20),_===".*"&&(a+=-50)}f.push(a)}r.push(f)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const m=new RegExp(s,n.sensitive?"":"i");function u(d){const f=d.match(m),o={};if(!f)return null;for(let l=1;l<f.length;l++){const a=f[l]||"",c=p[l-1];o[c.name]=a&&c.repeatable?a.split("/"):a}return o}function i(d){let f="",o=!1;for(const l of e){(!o||!f.endsWith("/"))&&(f+="/"),o=!1;for(const a of l)if(a.type===0)f+=a.value;else if(a.type===1){const{value:c,repeatable:g,optional:h}=a,v=c in d?d[c]:"";if(tn(v)&&!g)throw new Error(`Provided param "${c}" is an array but it is not repeatable (* or + modifiers)`);const _=tn(v)?v.join("/"):v;if(!_)if(h)l.length<2&&(f.endsWith("/")?f=f.slice(0,-1):o=!0);else throw new Error(`Missing required param "${c}"`);f+=_}}return f||"/"}return{re:m,score:r,keys:p,parse:u,stringify:i}}function X0(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function V0(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const p=X0(r[n],s[n]);if(p)return p;n++}if(Math.abs(s.length-r.length)===1){if(bu(r))return 1;if(bu(s))return-1}return s.length-r.length}function bu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const G0={type:0,value:""},K0=/[a-zA-Z0-9_]/;function q0(e){if(!e)return[[]];if(e==="/")return[[G0]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(a){throw new Error(`ERR (${n})/"${d}": ${a}`)}let n=0,r=n;const s=[];let p;function m(){p&&s.push(p),p=[]}let u=0,i,d="",f="";function o(){d&&(n===0?p.push({type:0,value:d}):n===1||n===2||n===3?(p.length>1&&(i==="*"||i==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),p.push({type:1,value:d,regexp:f,repeatable:i==="*"||i==="+",optional:i==="*"||i==="?"})):t("Invalid state to consume buffer"),d="")}function l(){d+=i}for(;u<e.length;){if(i=e[u++],i==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:i==="/"?(d&&o(),m()):i===":"?(o(),n=1):l();break;case 4:l(),n=r;break;case 1:i==="("?n=2:K0.test(i)?l():(o(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&u--);break;case 2:i===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+i:n=3:f+=i;break;case 3:o(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&u--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),o(),m(),s}function J0(e,t,n){const r=Y0(q0(e.path),n),s=je(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Z0(e,t){const n=[],r=new Map;t=Su({strict:!1,end:!0,sensitive:!1},t);function s(f){return r.get(f)}function p(f,o,l){const a=!l,c=Q0(f);c.aliasOf=l&&l.record;const g=Su(t,f),h=[c];if("alias"in f){const y=typeof f.alias=="string"?[f.alias]:f.alias;for(const b of y)h.push(je({},c,{components:l?l.record.components:c.components,path:b,aliasOf:l?l.record:c}))}let v,_;for(const y of h){const{path:b}=y;if(o&&b[0]!=="/"){const w=o.record.path,C=w[w.length-1]==="/"?"":"/";y.path=o.record.path+(b&&C+b)}if(v=J0(y,o,g),l?l.alias.push(v):(_=_||v,_!==v&&_.alias.push(v),a&&f.name&&!Cu(v)&&m(f.name)),c.children){const w=c.children;for(let C=0;C<w.length;C++)p(w[C],v,l&&l.children[C])}l=l||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&i(v)}return _?()=>{m(_)}:mi}function m(f){if(ad(f)){const o=r.get(f);o&&(r.delete(f),n.splice(n.indexOf(o),1),o.children.forEach(m),o.alias.forEach(m))}else{const o=n.indexOf(f);o>-1&&(n.splice(o,1),f.record.name&&r.delete(f.record.name),f.children.forEach(m),f.alias.forEach(m))}}function u(){return n}function i(f){let o=0;for(;o<n.length&&V0(f,n[o])>=0&&(f.record.path!==n[o].record.path||!cd(f,n[o]));)o++;n.splice(o,0,f),f.record.name&&!Cu(f)&&r.set(f.record.name,f)}function d(f,o){let l,a={},c,g;if("name"in f&&f.name){if(l=r.get(f.name),!l)throw Fr(1,{location:f});g=l.record.name,a=je(wu(o.params,l.keys.filter(_=>!_.optional).map(_=>_.name)),f.params&&wu(f.params,l.keys.map(_=>_.name))),c=l.stringify(a)}else if("path"in f)c=f.path,l=n.find(_=>_.re.test(c)),l&&(a=l.parse(c),g=l.record.name);else{if(l=o.name?r.get(o.name):n.find(_=>_.re.test(o.path)),!l)throw Fr(1,{location:f,currentLocation:o});g=l.record.name,a=je({},o.params,f.params),c=l.stringify(a)}const h=[];let v=l;for(;v;)h.unshift(v.record),v=v.parent;return{name:g,path:c,params:a,matched:h,meta:t_(h)}}return e.forEach(f=>p(f)),{addRoute:p,resolve:d,removeRoute:m,getRoutes:u,getRecordMatcher:s}}function wu(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Q0(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:e_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function e_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Cu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function t_(e){return e.reduce((t,n)=>je(t,n.meta),{})}function Su(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function cd(e,t){return t.children.some(n=>n===e||cd(e,n))}const ud=/#/g,n_=/&/g,r_=/\//g,i_=/=/g,s_=/\?/g,fd=/\+/g,o_=/%5B/g,a_=/%5D/g,hd=/%5E/g,l_=/%60/g,dd=/%7B/g,c_=/%7C/g,pd=/%7D/g,u_=/%20/g;function Ol(e){return encodeURI(""+e).replace(c_,"|").replace(o_,"[").replace(a_,"]")}function f_(e){return Ol(e).replace(dd,"{").replace(pd,"}").replace(hd,"^")}function Ra(e){return Ol(e).replace(fd,"%2B").replace(u_,"+").replace(ud,"%23").replace(n_,"%26").replace(l_,"`").replace(dd,"{").replace(pd,"}").replace(hd,"^")}function h_(e){return Ra(e).replace(i_,"%3D")}function d_(e){return Ol(e).replace(ud,"%23").replace(s_,"%3F")}function p_(e){return e==null?"":d_(e).replace(r_,"%2F")}function Fs(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function g_(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const p=r[s].replace(fd," "),m=p.indexOf("="),u=Fs(m<0?p:p.slice(0,m)),i=m<0?null:Fs(p.slice(m+1));if(u in t){let d=t[u];tn(d)||(d=t[u]=[d]),d.push(i)}else t[u]=i}return t}function xu(e){let t="";for(let n in e){const r=e[n];if(n=h_(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(tn(r)?r.map(p=>p&&Ra(p)):[r&&Ra(r)]).forEach(p=>{p!==void 0&&(t+=(t.length?"&":"")+n,p!=null&&(t+="="+p))})}return t}function v_(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=tn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const m_=Symbol(""),Tu=Symbol(""),El=Symbol(""),gd=Symbol(""),Ia=Symbol("");function si(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function $n(e,t,n,r,s){const p=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((m,u)=>{const i=o=>{o===!1?u(Fr(4,{from:n,to:t})):o instanceof Error?u(o):H0(o)?u(Fr(2,{from:t,to:o})):(p&&r.enterCallbacks[s]===p&&typeof o=="function"&&p.push(o),m())},d=e.call(r&&r.instances[s],t,n,i);let f=Promise.resolve(d);e.length<3&&(f=f.then(i)),f.catch(o=>u(o))})}function Uo(e,t,n,r){const s=[];for(const p of e)for(const m in p.components){let u=p.components[m];if(!(t!=="beforeRouteEnter"&&!p.instances[m]))if(__(u)){const d=(u.__vccOpts||u)[t];d&&s.push($n(d,n,r,p,m))}else{let i=u();s.push(()=>i.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${m}" at "${p.path}"`));const f=S0(d)?d.default:d;p.components[m]=f;const l=(f.__vccOpts||f)[t];return l&&$n(l,n,r,p,m)()}))}}return s}function __(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ou(e){const t=xe(El),n=xe(gd),r=ne(()=>t.resolve(F(e.to))),s=ne(()=>{const{matched:i}=r.value,{length:d}=i,f=i[d-1],o=n.matched;if(!f||!o.length)return-1;const l=o.findIndex(Ir.bind(null,f));if(l>-1)return l;const a=Eu(i[d-2]);return d>1&&Eu(f)===a&&o[o.length-1].path!==a?o.findIndex(Ir.bind(null,i[d-2])):l}),p=ne(()=>s.value>-1&&C_(n.params,r.value.params)),m=ne(()=>s.value>-1&&s.value===n.matched.length-1&&sd(n.params,r.value.params));function u(i={}){return w_(i)?t[F(e.replace)?"replace":"push"](F(e.to)).catch(mi):Promise.resolve()}return{route:r,href:ne(()=>r.value.href),isActive:p,isExactActive:m,navigate:u}}const y_=Te({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ou,setup(e,{slots:t}){const n=dr(Ou(e)),{options:r}=xe(El),s=ne(()=>({[Pu(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Pu(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const p=t.default&&t.default(n);return e.custom?p:Tl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},p)}}}),b_=y_;function w_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function C_(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!tn(s)||s.length!==r.length||r.some((p,m)=>p!==s[m]))return!1}return!0}function Eu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Pu=(e,t,n)=>e??t??n,S_=Te({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=xe(Ia),s=ne(()=>e.route||r.value),p=xe(Tu,0),m=ne(()=>{let d=F(p);const{matched:f}=s.value;let o;for(;(o=f[d])&&!o.components;)d++;return d}),u=ne(()=>s.value.matched[m.value]);qe(Tu,ne(()=>m.value+1)),qe(m_,u),qe(Ia,s);const i=fe();return Ae(()=>[i.value,u.value,e.name],([d,f,o],[l,a,c])=>{f&&(f.instances[o]=d,a&&a!==f&&d&&d===l&&(f.leaveGuards.size||(f.leaveGuards=a.leaveGuards),f.updateGuards.size||(f.updateGuards=a.updateGuards))),d&&f&&(!a||!Ir(f,a)||!l)&&(f.enterCallbacks[o]||[]).forEach(g=>g(d))},{flush:"post"}),()=>{const d=s.value,f=e.name,o=u.value,l=o&&o.components[f];if(!l)return ku(n.default,{Component:l,route:d});const a=o.props[f],c=a?a===!0?d.params:typeof a=="function"?a(d):a:null,h=Tl(l,je({},c,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(o.instances[f]=null)},ref:i}));return ku(n.default,{Component:h,route:d})||h}}});function ku(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const x_=S_;function T_(e){const t=Z0(e.routes,e),n=e.parseQuery||g_,r=e.stringifyQuery||xu,s=e.history,p=si(),m=si(),u=si(),i=Pi(Fn);let d=Fn;Sr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=zo.bind(null,A=>""+A),o=zo.bind(null,p_),l=zo.bind(null,Fs);function a(A,L){let $,K;return ad(A)?($=t.getRecordMatcher(A),K=L):K=A,t.addRoute(K,$)}function c(A){const L=t.getRecordMatcher(A);L&&t.removeRoute(L)}function g(){return t.getRoutes().map(A=>A.record)}function h(A){return!!t.getRecordMatcher(A)}function v(A,L){if(L=je({},L||i.value),typeof A=="string"){const P=Ho(n,A,L.path),B=t.resolve({path:P.path},L),z=s.createHref(P.fullPath);return je(P,B,{params:l(B.params),hash:Fs(P.hash),redirectedFrom:void 0,href:z})}let $;if("path"in A)$=je({},A,{path:Ho(n,A.path,L.path).path});else{const P=je({},A.params);for(const B in P)P[B]==null&&delete P[B];$=je({},A,{params:o(P)}),L.params=o(L.params)}const K=t.resolve($,L),ie=A.hash||"";K.params=f(l(K.params));const k=O0(r,je({},A,{hash:f_(ie),path:K.path})),T=s.createHref(k);return je({fullPath:k,hash:ie,query:r===xu?v_(A.query):A.query||{}},K,{redirectedFrom:void 0,href:T})}function _(A){return typeof A=="string"?Ho(n,A,i.value.path):je({},A)}function y(A,L){if(d!==A)return Fr(8,{from:L,to:A})}function b(A){return S(A)}function w(A){return b(je(_(A),{replace:!0}))}function C(A){const L=A.matched[A.matched.length-1];if(L&&L.redirect){const{redirect:$}=L;let K=typeof $=="function"?$(A):$;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=_(K):{path:K},K.params={}),je({query:A.query,hash:A.hash,params:"path"in K?{}:A.params},K)}}function S(A,L){const $=d=v(A),K=i.value,ie=A.state,k=A.force,T=A.replace===!0,P=C($);if(P)return S(je(_(P),{state:typeof P=="object"?je({},ie,P.state):ie,force:k,replace:T}),L||$);const B=$;B.redirectedFrom=L;let z;return!k&&E0(r,K,$)&&(z=Fr(16,{to:B,from:K}),R(K,K,!0,!1)),(z?Promise.resolve(z):Y(B,K)).catch(N=>Cn(N)?Cn(N,2)?N:D(N):J(N,B,K)).then(N=>{if(N){if(Cn(N,2))return S(je({replace:T},_(N.to),{state:typeof N.to=="object"?je({},ie,N.to.state):ie,force:k}),L||B)}else N=U(B,K,!0,T,ie);return G(B,K,N),N})}function O(A,L){const $=y(A,L);return $?Promise.reject($):Promise.resolve()}function j(A){const L=M.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(A):A()}function Y(A,L){let $;const[K,ie,k]=O_(A,L);$=Uo(K.reverse(),"beforeRouteLeave",A,L);for(const P of K)P.leaveGuards.forEach(B=>{$.push($n(B,A,L))});const T=O.bind(null,A,L);return $.push(T),H($).then(()=>{$=[];for(const P of p.list())$.push($n(P,A,L));return $.push(T),H($)}).then(()=>{$=Uo(ie,"beforeRouteUpdate",A,L);for(const P of ie)P.updateGuards.forEach(B=>{$.push($n(B,A,L))});return $.push(T),H($)}).then(()=>{$=[];for(const P of k)if(P.beforeEnter)if(tn(P.beforeEnter))for(const B of P.beforeEnter)$.push($n(B,A,L));else $.push($n(P.beforeEnter,A,L));return $.push(T),H($)}).then(()=>(A.matched.forEach(P=>P.enterCallbacks={}),$=Uo(k,"beforeRouteEnter",A,L),$.push(T),H($))).then(()=>{$=[];for(const P of m.list())$.push($n(P,A,L));return $.push(T),H($)}).catch(P=>Cn(P,8)?P:Promise.reject(P))}function G(A,L,$){u.list().forEach(K=>j(()=>K(A,L,$)))}function U(A,L,$,K,ie){const k=y(A,L);if(k)return k;const T=L===Fn,P=Sr?history.state:{};$&&(K||T?s.replace(A.fullPath,je({scroll:T&&P&&P.scroll},ie)):s.push(A.fullPath,ie)),i.value=A,R(A,L,$,T),D()}let ee;function oe(){ee||(ee=s.listen((A,L,$)=>{if(!E.listening)return;const K=v(A),ie=C(K);if(ie){S(je(ie,{replace:!0}),K).catch(mi);return}d=K;const k=i.value;Sr&&F0(vu(k.fullPath,$.delta),co()),Y(K,k).catch(T=>Cn(T,12)?T:Cn(T,2)?(S(T.to,K).then(P=>{Cn(P,20)&&!$.delta&&$.type===Ri.pop&&s.go(-1,!1)}).catch(mi),Promise.reject()):($.delta&&s.go(-$.delta,!1),J(T,K,k))).then(T=>{T=T||U(K,k,!1),T&&($.delta&&!Cn(T,8)?s.go(-$.delta,!1):$.type===Ri.pop&&Cn(T,20)&&s.go(-1,!1)),G(K,k,T)}).catch(mi)}))}let le=si(),ce=si(),X;function J(A,L,$){D(A);const K=ce.list();return K.length?K.forEach(ie=>ie(A,L,$)):console.error(A),Promise.reject(A)}function x(){return X&&i.value!==Fn?Promise.resolve():new Promise((A,L)=>{le.add([A,L])})}function D(A){return X||(X=!A,oe(),le.list().forEach(([L,$])=>A?$(A):L()),le.reset()),A}function R(A,L,$,K){const{scrollBehavior:ie}=e;if(!Sr||!ie)return Promise.resolve();const k=!$&&L0(vu(A.fullPath,0))||(K||!$)&&history.state&&history.state.scroll||null;return Xt().then(()=>ie(A,L,k)).then(T=>T&&I0(T)).catch(T=>J(T,A,L))}const I=A=>s.go(A);let Z;const M=new Set,E={currentRoute:i,listening:!0,addRoute:a,removeRoute:c,hasRoute:h,getRoutes:g,resolve:v,options:e,push:b,replace:w,go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:p.add,beforeResolve:m.add,afterEach:u.add,onError:ce.add,isReady:x,install(A){const L=this;A.component("RouterLink",b_),A.component("RouterView",x_),A.config.globalProperties.$router=L,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>F(i)}),Sr&&!Z&&i.value===Fn&&(Z=!0,b(s.location).catch(ie=>{}));const $={};for(const ie in Fn)Object.defineProperty($,ie,{get:()=>i.value[ie],enumerable:!0});A.provide(El,L),A.provide(gd,dl($)),A.provide(Ia,i);const K=A.unmount;M.add(A),A.unmount=function(){M.delete(A),M.size<1&&(d=Fn,ee&&ee(),ee=null,i.value=Fn,Z=!1,X=!1),K()}}};function H(A){return A.reduce((L,$)=>L.then(()=>j($)),Promise.resolve())}return E}function O_(e,t){const n=[],r=[],s=[],p=Math.max(t.matched.length,e.matched.length);for(let m=0;m<p;m++){const u=t.matched[m];u&&(e.matched.find(d=>Ir(d,u))?r.push(u):n.push(u));const i=e.matched[m];i&&(t.matched.find(d=>Ir(d,i))||s.push(i))}return[n,r,s]}const E_="/vue-design-editor/assets/module-close-b3f3c06c.svg";/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var vd="store";function qr(e){return e===void 0&&(e=null),xe(e!==null?e:vd)}function Jr(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function P_(e){return e!==null&&typeof e=="object"}function k_(e){return e&&typeof e.then=="function"}function A_(e,t){return function(){return e(t)}}function md(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function _d(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;uo(e,n,[],e._modules.root,!0),Pl(e,n,t)}function Pl(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var p=e._wrappedGetters,m={},u={},i=ih(!0);i.run(function(){Jr(p,function(d,f){m[f]=A_(d,e),u[f]=ne(function(){return m[f]()}),Object.defineProperty(e.getters,f,{get:function(){return u[f].value},enumerable:!0})})}),e._state=dr({data:t}),e._scope=i,e.strict&&F_(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function uo(e,t,n,r,s){var p=!n.length,m=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[m],e._modulesNamespaceMap[m]=r),!p&&!s){var u=kl(t,n.slice(0,-1)),i=n[n.length-1];e._withCommit(function(){u[i]=r.state})}var d=r.context=M_(e,m,n);r.forEachMutation(function(f,o){var l=m+o;D_(e,l,f,d)}),r.forEachAction(function(f,o){var l=f.root?o:m+o,a=f.handler||f;R_(e,l,a,d)}),r.forEachGetter(function(f,o){var l=m+o;I_(e,l,f,d)}),r.forEachChild(function(f,o){uo(e,t,n.concat(o),f,s)})}function M_(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(p,m,u){var i=Ls(p,m,u),d=i.payload,f=i.options,o=i.type;return(!f||!f.root)&&(o=t+o),e.dispatch(o,d)},commit:r?e.commit:function(p,m,u){var i=Ls(p,m,u),d=i.payload,f=i.options,o=i.type;(!f||!f.root)&&(o=t+o),e.commit(o,d,f)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return yd(e,t)}},state:{get:function(){return kl(e.state,n)}}}),s}function yd(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var p=s.slice(r);Object.defineProperty(n,p,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function D_(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(m){n.call(e,r.state,m)})}function R_(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(m){var u=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},m);return k_(u)||(u=Promise.resolve(u)),e._devtoolHook?u.catch(function(i){throw e._devtoolHook.emit("vuex:error",i),i}):u})}function I_(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(p){return n(r.state,r.getters,p.state,p.getters)})}function F_(e){Ae(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function kl(e,t){return t.reduce(function(n,r){return n[r]},e)}function Ls(e,t,n){return P_(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var L_="vuex bindings",Au="vuex:mutations",Wo="vuex:actions",wr="vuex",B_=0;function j_(e,t){C0({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[L_]},function(n){n.addTimelineLayer({id:Au,label:"Vuex Mutations",color:Mu}),n.addTimelineLayer({id:Wo,label:"Vuex Actions",color:Mu}),n.addInspector({id:wr,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===wr)if(r.filter){var s=[];Sd(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[Cd(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===wr){var s=r.nodeId;yd(t,s),r.state=z_(U_(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===wr){var s=r.nodeId,p=r.path;s!=="root"&&(p=s.split("/").filter(Boolean).concat(p)),t._withCommit(function(){r.set(t._state.data,p,r.state.value)})}}),t.subscribe(function(r,s){var p={};r.payload&&(p.payload=r.payload),p.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(wr),n.sendInspectorState(wr),n.addTimelineEvent({layerId:Au,event:{time:Date.now(),title:r.type,data:p}})}),t.subscribeAction({before:function(r,s){var p={};r.payload&&(p.payload=r.payload),r._id=B_++,r._time=Date.now(),p.state=s,n.addTimelineEvent({layerId:Wo,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:p}})},after:function(r,s){var p={},m=Date.now()-r._time;p.duration={_custom:{type:"duration",display:m+"ms",tooltip:"Action duration",value:m}},r.payload&&(p.payload=r.payload),p.state=s,n.addTimelineEvent({layerId:Wo,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:p}})}})})}var Mu=8702998,N_=6710886,$_=16777215,bd={label:"namespaced",textColor:$_,backgroundColor:N_};function wd(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function Cd(e,t){return{id:t||"root",label:wd(t),tags:e.namespaced?[bd]:[],children:Object.keys(e._children).map(function(n){return Cd(e._children[n],t+n+"/")})}}function Sd(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[bd]:[]}),Object.keys(t._children).forEach(function(s){Sd(e,t._children[s],n,r+s+"/")})}function z_(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(m){return{key:m,editable:!0,value:e.state[m]}})};if(r.length){var p=H_(t);s.getters=Object.keys(p).map(function(m){return{key:m.endsWith("/")?wd(m):m,editable:!1,value:Fa(function(){return p[m]})}})}return s}function H_(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,p=r.pop();r.forEach(function(m){s[m]||(s[m]={_custom:{value:{},display:m,tooltip:"Module",abstract:!0}}),s=s[m]._custom.value}),s[p]=Fa(function(){return e[n]})}else t[n]=Fa(function(){return e[n]})}),t}function U_(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,p){var m=r[s];if(!m)throw new Error('Missing module "'+s+'" for path "'+t+'".');return p===n.length-1?m:m._children},t==="root"?e:e.root._children)}function Fa(e){try{return e()}catch(t){return t}}var nn=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},xd={namespaced:{configurable:!0}};xd.namespaced.get=function(){return!!this._rawModule.namespaced};nn.prototype.addChild=function(t,n){this._children[t]=n};nn.prototype.removeChild=function(t){delete this._children[t]};nn.prototype.getChild=function(t){return this._children[t]};nn.prototype.hasChild=function(t){return t in this._children};nn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};nn.prototype.forEachChild=function(t){Jr(this._children,t)};nn.prototype.forEachGetter=function(t){this._rawModule.getters&&Jr(this._rawModule.getters,t)};nn.prototype.forEachAction=function(t){this._rawModule.actions&&Jr(this._rawModule.actions,t)};nn.prototype.forEachMutation=function(t){this._rawModule.mutations&&Jr(this._rawModule.mutations,t)};Object.defineProperties(nn.prototype,xd);var pr=function(t){this.register([],t,!1)};pr.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};pr.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};pr.prototype.update=function(t){Td([],this.root,t)};pr.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var p=new nn(n,r);if(t.length===0)this.root=p;else{var m=this.get(t.slice(0,-1));m.addChild(t[t.length-1],p)}n.modules&&Jr(n.modules,function(u,i){s.register(t.concat(i),u,r)})};pr.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};pr.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function Td(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;Td(e.concat(r),t.getChild(r),n.modules[r])}}function W_(e){return new Mt(e)}var Mt=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var p=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new pr(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=p;var m=this,u=this,i=u.dispatch,d=u.commit;this.dispatch=function(l,a){return i.call(m,l,a)},this.commit=function(l,a,c){return d.call(m,l,a,c)},this.strict=s;var f=this._modules.root.state;uo(this,f,[],this._modules.root),Pl(this,f),r.forEach(function(o){return o(n)})},Al={state:{configurable:!0}};Mt.prototype.install=function(t,n){t.provide(n||vd,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&j_(t,this)};Al.state.get=function(){return this._state.data};Al.state.set=function(e){};Mt.prototype.commit=function(t,n,r){var s=this,p=Ls(t,n,r),m=p.type,u=p.payload,i={type:m,payload:u},d=this._mutations[m];d&&(this._withCommit(function(){d.forEach(function(o){o(u)})}),this._subscribers.slice().forEach(function(f){return f(i,s.state)}))};Mt.prototype.dispatch=function(t,n){var r=this,s=Ls(t,n),p=s.type,m=s.payload,u={type:p,payload:m},i=this._actions[p];if(i){try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(u,r.state)})}catch{}var d=i.length>1?Promise.all(i.map(function(f){return f(m)})):i[0](m);return new Promise(function(f,o){d.then(function(l){try{r._actionSubscribers.filter(function(a){return a.after}).forEach(function(a){return a.after(u,r.state)})}catch{}f(l)},function(l){try{r._actionSubscribers.filter(function(a){return a.error}).forEach(function(a){return a.error(u,r.state,l)})}catch{}o(l)})})}};Mt.prototype.subscribe=function(t,n){return md(t,this._subscribers,n)};Mt.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return md(r,this._actionSubscribers,n)};Mt.prototype.watch=function(t,n,r){var s=this;return Ae(function(){return t(s.state,s.getters)},n,Object.assign({},r))};Mt.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Mt.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),uo(this,this.state,t,this._modules.get(t),r.preserveState),Pl(this,this.state)};Mt.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=kl(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),_d(this)};Mt.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Mt.prototype.hotUpdate=function(t){this._modules.update(t),_d(this,!0)};Mt.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Mt.prototype,Al);const Y_={class:"material-editor-header"},X_={class:"material-editor-content"},V_={class:"material-editor-framework-left"},Yo=313,Xo=265,Vo=72,G_=Te({__name:"Framework",setup(e){const{state:t,commit:n}=qr(),r=fe(),s=fe({module:Vo,left:Yo,center:window.document.body.clientWidth-Yo-Xo-Vo,right:Xo}),p=ne(()=>t.activeModule),m=ne(()=>t.isClose),u=ne(()=>p.value&&!p.value.drag&&JSON.stringify(p.value)!="{}");Je(()=>{s.value.center=r.value.offsetWidth-Yo-Xo-Vo});function i(f){n("setClose",f)}async function d(){i(!0),n("setActiveModule",null)}return(f,o)=>{const l=ze("el-tooltip");return re(),de("div",{class:"material-editor",ref_key:"editor",ref:r},[te("div",Y_,[Ee(f.$slots,"header",{},void 0,!0)]),te("div",X_,[te("div",{class:"material-editor-framework-module",style:Xe(`width:${s.value.module}px`)},[Ee(f.$slots,"module",{},void 0,!0)],4),te("div",{class:Ce(["material-editor-framework--collapsed",[!u.value||m.value?"material-editor-framework-transition":""]]),style:Xe({width:`${s.value.left}px`,"--width":-s.value.left+"px"})},[te("div",V_,[Ee(f.$slots,"left",{},void 0,!0)]),pe(l,{class:"item",effect:"dark",content:"",placement:"right"},{default:ve(()=>[mt(te("img",{src:E_,class:"material-editor-framework-close",onClick:d,alt:""},null,512),[[Tt,s.value.left!=0&&!m.value]])]),_:1})],6),te("div",{class:"material-editor-framework-center",style:Xe(`width:${s.value.center}px`)},[Ee(f.$slots,"navlist",{},void 0,!0),Ee(f.$slots,"workspace",{},void 0,!0)],4),te("div",{class:"material-editor-framework-right",style:Xe(`width:${s.value.right}px`)},[Ee(f.$slots,"color",{},void 0,!0),Ee(f.$slots,"propsPanel",{},void 0,!0)],4)])],512)}}});const K_=ht(G_,[["__scopeId","data-v-755bb6ef"]]),q_=[{type:"add",text:"",drag:!1,icon:"icon-tianjia"},{type:"template",text:"",drag:!1,icon:"icon-templet-"},{type:"material",text:"",drag:!1,show:!0,icon:"icon-xingzhuang",fileType:["jpg","png","gif","svg"]},{type:"text",text:"",drag:!1,icon:"icon-text",options:{type:"FontCustom",text:"",width:60,height:30,fontSize:32,name:"New text"}},{type:"Image",text:"",drag:!1,icon:"icon-editor-background",fileType:["jpg","png","gif","svg"]},{type:"Video",text:"",drag:!1,icon:"icon-shipinbofang",fileType:["mp4"]},{type:"qrcode",text:"",drag:!1,icon:"icon-erweima1"}];const J_={setup(){const e=fe(q_),{state:t,commit:n}=qr(),r=ne(()=>t.activeModule),s=ne(()=>t.isClose);function p(u){n("setClose",u)}function m(u){n("setActiveModule",u)}return e.value.find(u=>{u.show&&(m(u),p(!1))}),{modulelist:e,activeModule:r,isClose:s,setActiveModule:m,selectModule(u){r.value&&u.type==r.value.type&&!u.drag?(p(!s.value),m(null)):(["text","qrcode"].includes(u.type)?p(!0):p(!1),m(u))}}}},Z_={class:"module-aside-body"},Q_=["onClick"];function ey(e,t,n,r,s,p){return re(),de("div",Z_,[(re(!0),de(Me,null,gt(r.modulelist,(m,u)=>(re(),de("button",{class:Ce(["module-aside-button",r.activeModule&&r.activeModule.type==m.type?"actived":""]),key:u,onClick:i=>r.selectModule(m)},[te("i",{class:Ce([m.icon,"iconfont"])},null,2),te("span",null,Ge(m.text),1)],10,Q_))),128))])}const ty=ht(J_,[["render",ey],["__scopeId","data-v-5f6581ef"]]),ny=[{type:"image",title:"//psd",list:[{type:"upload",icon:"/src/assets/upload.svg",title:""}]},{type:"text",title:"",list:[{type:"h1",icon:"/src/assets/h1.svg",title:""},{type:"h2",icon:"/src/assets/h2.svg",title:""},{type:"Aa",icon:"/src/assets/Aa.svg",title:""},{type:"Aa",icon:"/src/assets/3d.svg",title:"3D"}]},{type:"shape",title:"",list:[{type:"square",icon:"/src/assets/square.svg"},{type:"triangle",icon:"/src/assets/triangle.svg"},{type:"circle",icon:"/src/assets/circle.svg"},{type:"line",icon:"/src/assets/line.svg"}]},{type:"component",title:"",list:[{type:"qrcode",icon:"/src/assets/qrcode.svg",title:""}]}],ry=[{title:"",interval:[460,489]},{title:"",interval:[386,409]},{title:"",interval:[410,459]},{title:"",interval:[40,49]},{title:"icons"},{title:"",interval:[50,75]},{title:"",interval:[76,89]},{title:"",interval:[89,136]},{title:"",interval:[137,151]},{title:"",interval:[152,181]},{title:"",interval:[182,201]},{title:"",interval:[202,222]},{title:"",interval:[223,252]},{title:"",interval:[253,261]},{title:"",interval:[262,270]},{title:"",interval:[271,300]},{title:"",interval:[301,350]},{title:"",interval:[351,385]},{title:"",interval:[490,519]}];/*! Element Plus Icons Vue v2.1.0 */var dt=(e,t)=>{let n=e.__vccOpts||e;for(let[r,s]of t)n[r]=s;return n},iy={name:"ArrowDown"},sy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},oy=te("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),ay=[oy];function ly(e,t,n,r,s,p){return re(),de("svg",sy,ay)}var Od=dt(iy,[["render",ly],["__file","arrow-down.vue"]]),cy={name:"ArrowLeft"},uy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fy=te("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),hy=[fy];function dy(e,t,n,r,s,p){return re(),de("svg",uy,hy)}var Ed=dt(cy,[["render",dy],["__file","arrow-left.vue"]]),py={name:"ArrowRight"},gy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},vy=te("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),my=[vy];function _y(e,t,n,r,s,p){return re(),de("svg",gy,my)}var yy=dt(py,[["render",_y],["__file","arrow-right.vue"]]),by={name:"ArrowUp"},wy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Cy=te("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),Sy=[Cy];function xy(e,t,n,r,s,p){return re(),de("svg",wy,Sy)}var Ty=dt(by,[["render",xy],["__file","arrow-up.vue"]]),Oy={name:"CircleCloseFilled"},Ey={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Py=te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),ky=[Py];function Ay(e,t,n,r,s,p){return re(),de("svg",Ey,ky)}var Pd=dt(Oy,[["render",Ay],["__file","circle-close-filled.vue"]]),My={name:"Close"},Dy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ry=te("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),Iy=[Ry];function Fy(e,t,n,r,s,p){return re(),de("svg",Dy,Iy)}var kd=dt(My,[["render",Fy],["__file","close.vue"]]),Ly={name:"FullScreen"},By={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},jy=te("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),Ny=[jy];function $y(e,t,n,r,s,p){return re(),de("svg",By,Ny)}var zy=dt(Ly,[["render",$y],["__file","full-screen.vue"]]),Hy={name:"InfoFilled"},Uy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Wy=te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),Yy=[Wy];function Xy(e,t,n,r,s,p){return re(),de("svg",Uy,Yy)}var Ad=dt(Hy,[["render",Xy],["__file","info-filled.vue"]]),Vy={name:"Loading"},Gy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ky=te("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),qy=[Ky];function Jy(e,t,n,r,s,p){return re(),de("svg",Gy,qy)}var Zy=dt(Vy,[["render",Jy],["__file","loading.vue"]]),Qy={name:"RefreshLeft"},eb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tb=te("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),nb=[tb];function rb(e,t,n,r,s,p){return re(),de("svg",eb,nb)}var ib=dt(Qy,[["render",rb],["__file","refresh-left.vue"]]),sb={name:"RefreshRight"},ob={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ab=te("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),lb=[ab];function cb(e,t,n,r,s,p){return re(),de("svg",ob,lb)}var ub=dt(sb,[["render",cb],["__file","refresh-right.vue"]]),fb={name:"ScaleToOriginal"},hb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},db=te("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),pb=[db];function gb(e,t,n,r,s,p){return re(),de("svg",hb,pb)}var vb=dt(fb,[["render",gb],["__file","scale-to-original.vue"]]),mb={name:"Select"},_b={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yb=te("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"},null,-1),bb=[yb];function wb(e,t,n,r,s,p){return re(),de("svg",_b,bb)}var Go=dt(mb,[["render",wb],["__file","select.vue"]]),Cb={name:"SuccessFilled"},Sb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xb=te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),Tb=[xb];function Ob(e,t,n,r,s,p){return re(),de("svg",Sb,Tb)}var Md=dt(Cb,[["render",Ob],["__file","success-filled.vue"]]),Eb={name:"WarningFilled"},Pb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},kb=te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),Ab=[kb];function Mb(e,t,n,r,s,p){return re(),de("svg",Pb,Ab)}var Dd=dt(Eb,[["render",Mb],["__file","warning-filled.vue"]]),Db={name:"ZoomIn"},Rb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ib=te("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),Fb=[Ib];function Lb(e,t,n,r,s,p){return re(),de("svg",Rb,Fb)}var Bb=dt(Db,[["render",Lb],["__file","zoom-in.vue"]]),jb={name:"ZoomOut"},Nb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$b=te("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),zb=[$b];function Hb(e,t,n,r,s,p){return re(),de("svg",Nb,zb)}var Ub=dt(jb,[["render",Hb],["__file","zoom-out.vue"]]);const Wb={class:"panel-block__header"},Yb={class:"panel-block__header-title"},Xb={class:"panel-block__header-action"},Vb={__name:"panel-block",props:{title:String,subTitle:String},emits:["change"],setup(e,{emit:t}){function n(){t("change")}return(r,s)=>(re(),de("div",Wb,[te("div",Yb,Ge(e.title),1),te("div",Xb,[te("span",{onClick:n},[Ee(r.$slots,"default",{},()=>[Yi(Ge(e.subTitle),1)],!0)])])]))}},Gb=ht(Vb,[["__scopeId","data-v-2e948f55"]]);const Kb={props:{list:{type:Array,required:!0},column:{type:Number,default:4},height:{type:Number,default:225}},data(){return{itemWidth:0,columnData:[]}},watch:{list(){this.renderList()}},mounted(){this.renderList(),window.addEventListener("resize",this.renderList)},methods:{renderList(){this.row||(this.columnData=[],this.itemWidth=`${100/this.column}%`,this.$refs.container&&this.$nextTick(()=>{const e=this.$refs.container.getElementsByClassName("column-item");for(let t=0;t<e.length;t++)this.setElementStyle(e[t],this.list[t],t)}))},setElementStyle(e,t,n){const s=(this.$refs.container.offsetWidth/this.column-6)/t.width*t.height+6;if(n<this.column)e.style.left=`${n*(100/this.column)}%`,this.columnData[n]=this.columnData[n]?this.columnData[n]+s:s;else{let p={};for(let m=0;m<this.columnData.length;m++)Object.prototype.hasOwnProperty.call(p,"index")?this.columnData[m]<p.value&&(p={index:m,value:this.columnData[m]}):p={index:m,value:this.columnData[m]};e.style.left=`${p.index*(100/this.column)}%`,e.style.top=`${p.value}px`,this.columnData[p.index]+=s}e.style.width=this.itemWidth}}},qb={class:Ce({"waterfall-wrap":!0}),ref:"container"};function Jb(e,t,n,r,s,p){return re(),de("div",qb,[(re(!0),de(Me,null,gt(n.list,(m,u)=>(re(),de("div",{key:u,class:"column-item"},[Ee(e.$slots,"default",{item:m},void 0,!0)]))),128))],512)}const Zb=ht(Kb,[["render",Jb],["__scopeId","data-v-61d1b56b"]]),Qe=(e,t,{checkForDefaultPrevented:n=!0}={})=>s=>{const p=e==null?void 0:e(s);if(n===!1||!p)return t==null?void 0:t(s)},Du=e=>t=>t.pointerType==="mouse"?e(t):void 0;var Ru;const Ve=typeof window<"u",Qb=e=>typeof e=="string",Bs=()=>{},ew=Ve&&((Ru=window==null?void 0:window.navigator)==null?void 0:Ru.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function fo(e){return typeof e=="function"?e():F(e)}function tw(e,t){function n(...r){return new Promise((s,p)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(p)})}return n}function nw(e,t=!0,n=!0,r=!1){let s=0,p,m=!0,u=Bs,i;const d=()=>{p&&(clearTimeout(p),p=void 0,u(),u=Bs)};return o=>{const l=fo(e),a=Date.now()-s,c=()=>i=o();return d(),l<=0?(s=Date.now(),c()):(a>l&&(n||!m)?(s=Date.now(),c()):t&&(i=new Promise((g,h)=>{u=r?h:g,p=setTimeout(()=>{s=Date.now(),m=!0,g(c()),d()},Math.max(0,l-a))})),!n&&!p&&(p=setTimeout(()=>m=!0,l)),m=!1,i)}}function rw(e){return e}function ho(e){return sh()?(Zg(e),!0):!1}function iw(e,t=200,n=!1,r=!0,s=!1){return tw(nw(t,n,r,s),e)}function sw(e,t=!0){jt()?Je(e):t?e():Xt(e)}function ow(e,t,n={}){const{immediate:r=!0}=n,s=fe(!1);let p=null;function m(){p&&(clearTimeout(p),p=null)}function u(){s.value=!1,m()}function i(...d){m(),s.value=!0,p=setTimeout(()=>{s.value=!1,p=null,e(...d)},fo(t))}return r&&(s.value=!0,Ve&&i()),ho(u),{isPending:Ui(s),start:i,stop:u}}function Hn(e){var t;const n=fo(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Ml=Ve?window:void 0;function Et(...e){let t,n,r,s;if(Qb(e[0])||Array.isArray(e[0])?([n,r,s]=e,t=Ml):[t,n,r,s]=e,!t)return Bs;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const p=[],m=()=>{p.forEach(f=>f()),p.length=0},u=(f,o,l,a)=>(f.addEventListener(o,l,a),()=>f.removeEventListener(o,l,a)),i=Ae(()=>[Hn(t),fo(s)],([f,o])=>{m(),f&&p.push(...n.flatMap(l=>r.map(a=>u(f,l,a,o))))},{immediate:!0,flush:"post"}),d=()=>{i(),m()};return ho(d),d}let Iu=!1;function aw(e,t,n={}){const{window:r=Ml,ignore:s=[],capture:p=!0,detectIframe:m=!1}=n;if(!r)return;ew&&!Iu&&(Iu=!0,Array.from(r.document.body.children).forEach(l=>l.addEventListener("click",Bs)));let u=!0;const i=l=>s.some(a=>{if(typeof a=="string")return Array.from(r.document.querySelectorAll(a)).some(c=>c===l.target||l.composedPath().includes(c));{const c=Hn(a);return c&&(l.target===c||l.composedPath().includes(c))}}),f=[Et(r,"click",l=>{const a=Hn(e);if(!(!a||a===l.target||l.composedPath().includes(a))){if(l.detail===0&&(u=!i(l)),!u){u=!0;return}t(l)}},{passive:!0,capture:p}),Et(r,"pointerdown",l=>{const a=Hn(e);a&&(u=!l.composedPath().includes(a)&&!i(l))},{passive:!0}),m&&Et(r,"blur",l=>{var a;const c=Hn(e);((a=r.document.activeElement)==null?void 0:a.tagName)==="IFRAME"&&!(c!=null&&c.contains(r.document.activeElement))&&t(l)})].filter(Boolean);return()=>f.forEach(l=>l())}function lw(e,t=!1){const n=fe(),r=()=>n.value=!!e();return r(),sw(r,t),n}const Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lu="__vueuse_ssr_handlers__";Fu[Lu]=Fu[Lu]||{};var Bu=Object.getOwnPropertySymbols,cw=Object.prototype.hasOwnProperty,uw=Object.prototype.propertyIsEnumerable,fw=(e,t)=>{var n={};for(var r in e)cw.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Bu)for(var r of Bu(e))t.indexOf(r)<0&&uw.call(e,r)&&(n[r]=e[r]);return n};function Rd(e,t,n={}){const r=n,{window:s=Ml}=r,p=fw(r,["window"]);let m;const u=lw(()=>s&&"ResizeObserver"in s),i=()=>{m&&(m.disconnect(),m=void 0)},d=Ae(()=>Hn(e),o=>{i(),u.value&&s&&o&&(m=new ResizeObserver(t),m.observe(o,p))},{immediate:!0,flush:"post"}),f=()=>{i(),d()};return ho(f),{isSupported:u,stop:f}}var ju;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(ju||(ju={}));var hw=Object.defineProperty,Nu=Object.getOwnPropertySymbols,dw=Object.prototype.hasOwnProperty,pw=Object.prototype.propertyIsEnumerable,$u=(e,t,n)=>t in e?hw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gw=(e,t)=>{for(var n in t||(t={}))dw.call(t,n)&&$u(e,n,t[n]);if(Nu)for(var n of Nu(t))pw.call(t,n)&&$u(e,n,t[n]);return e};const vw={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};gw({linear:rw},vw);const mw=(e,t)=>{if(!Ve||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right};var _w=typeof global=="object"&&global&&global.Object===Object&&global;const yw=_w;var bw=typeof self=="object"&&self&&self.Object===Object&&self,ww=yw||bw||Function("return this")();const po=ww;var Cw=po.Symbol;const Lr=Cw;var Id=Object.prototype,Sw=Id.hasOwnProperty,xw=Id.toString,oi=Lr?Lr.toStringTag:void 0;function Tw(e){var t=Sw.call(e,oi),n=e[oi];try{e[oi]=void 0;var r=!0}catch{}var s=xw.call(e);return r&&(t?e[oi]=n:delete e[oi]),s}var Ow=Object.prototype,Ew=Ow.toString;function Pw(e){return Ew.call(e)}var kw="[object Null]",Aw="[object Undefined]",zu=Lr?Lr.toStringTag:void 0;function Fd(e){return e==null?e===void 0?Aw:kw:zu&&zu in Object(e)?Tw(e):Pw(e)}function Mw(e){return e!=null&&typeof e=="object"}var Dw="[object Symbol]";function go(e){return typeof e=="symbol"||Mw(e)&&Fd(e)==Dw}function Rw(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var Iw=Array.isArray;const vo=Iw;var Fw=1/0,Hu=Lr?Lr.prototype:void 0,Uu=Hu?Hu.toString:void 0;function Ld(e){if(typeof e=="string")return e;if(vo(e))return Rw(e,Ld)+"";if(go(e))return Uu?Uu.call(e):"";var t=e+"";return t=="0"&&1/e==-Fw?"-0":t}var Lw=/\s/;function Bw(e){for(var t=e.length;t--&&Lw.test(e.charAt(t)););return t}var jw=/^\s+/;function Nw(e){return e&&e.slice(0,Bw(e)+1).replace(jw,"")}function Br(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Wu=0/0,$w=/^[-+]0x[0-9a-f]+$/i,zw=/^0b[01]+$/i,Hw=/^0o[0-7]+$/i,Uw=parseInt;function Yu(e){if(typeof e=="number")return e;if(go(e))return Wu;if(Br(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Br(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Nw(e);var n=zw.test(e);return n||Hw.test(e)?Uw(e.slice(2),n?2:8):$w.test(e)?Wu:+e}var Ww="[object AsyncFunction]",Yw="[object Function]",Xw="[object GeneratorFunction]",Vw="[object Proxy]";function Gw(e){if(!Br(e))return!1;var t=Fd(e);return t==Yw||t==Xw||t==Ww||t==Vw}var Kw=po["__core-js_shared__"];const Ko=Kw;var Xu=function(){var e=/[^.]+$/.exec(Ko&&Ko.keys&&Ko.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qw(e){return!!Xu&&Xu in e}var Jw=Function.prototype,Zw=Jw.toString;function Qw(e){if(e!=null){try{return Zw.call(e)}catch{}try{return e+""}catch{}}return""}var eC=/[\\^$.*+?()[\]{}|]/g,tC=/^\[object .+?Constructor\]$/,nC=Function.prototype,rC=Object.prototype,iC=nC.toString,sC=rC.hasOwnProperty,oC=RegExp("^"+iC.call(sC).replace(eC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function aC(e){if(!Br(e)||qw(e))return!1;var t=Gw(e)?oC:tC;return t.test(Qw(e))}function lC(e,t){return e==null?void 0:e[t]}function Bd(e,t){var n=lC(e,t);return aC(n)?n:void 0}function cC(e,t){return e===t||e!==e&&t!==t}var uC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fC=/^\w*$/;function hC(e,t){if(vo(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||go(e)?!0:fC.test(e)||!uC.test(e)||t!=null&&e in Object(t)}var dC=Bd(Object,"create");const Ii=dC;function pC(){this.__data__=Ii?Ii(null):{},this.size=0}function gC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var vC="__lodash_hash_undefined__",mC=Object.prototype,_C=mC.hasOwnProperty;function yC(e){var t=this.__data__;if(Ii){var n=t[e];return n===vC?void 0:n}return _C.call(t,e)?t[e]:void 0}var bC=Object.prototype,wC=bC.hasOwnProperty;function CC(e){var t=this.__data__;return Ii?t[e]!==void 0:wC.call(t,e)}var SC="__lodash_hash_undefined__";function xC(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ii&&t===void 0?SC:t,this}function fr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fr.prototype.clear=pC;fr.prototype.delete=gC;fr.prototype.get=yC;fr.prototype.has=CC;fr.prototype.set=xC;function TC(){this.__data__=[],this.size=0}function mo(e,t){for(var n=e.length;n--;)if(cC(e[n][0],t))return n;return-1}var OC=Array.prototype,EC=OC.splice;function PC(e){var t=this.__data__,n=mo(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():EC.call(t,n,1),--this.size,!0}function kC(e){var t=this.__data__,n=mo(t,e);return n<0?void 0:t[n][1]}function AC(e){return mo(this.__data__,e)>-1}function MC(e,t){var n=this.__data__,r=mo(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Zr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zr.prototype.clear=TC;Zr.prototype.delete=PC;Zr.prototype.get=kC;Zr.prototype.has=AC;Zr.prototype.set=MC;var DC=Bd(po,"Map");const RC=DC;function IC(){this.size=0,this.__data__={hash:new fr,map:new(RC||Zr),string:new fr}}function FC(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function _o(e,t){var n=e.__data__;return FC(t)?n[typeof t=="string"?"string":"hash"]:n.map}function LC(e){var t=_o(this,e).delete(e);return this.size-=t?1:0,t}function BC(e){return _o(this,e).get(e)}function jC(e){return _o(this,e).has(e)}function NC(e,t){var n=_o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function gr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}gr.prototype.clear=IC;gr.prototype.delete=LC;gr.prototype.get=BC;gr.prototype.has=jC;gr.prototype.set=NC;var $C="Expected a function";function Dl(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError($C);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],p=n.cache;if(p.has(s))return p.get(s);var m=e.apply(this,r);return n.cache=p.set(s,m)||p,m};return n.cache=new(Dl.Cache||gr),n}Dl.Cache=gr;var zC=500;function HC(e){var t=Dl(e,function(r){return n.size===zC&&n.clear(),r}),n=t.cache;return t}var UC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WC=/\\(\\)?/g,YC=HC(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(UC,function(n,r,s,p){t.push(s?p.replace(WC,"$1"):r||n)}),t});const XC=YC;function VC(e){return e==null?"":Ld(e)}function GC(e,t){return vo(e)?e:hC(e,t)?[e]:XC(VC(e))}var KC=1/0;function qC(e){if(typeof e=="string"||go(e))return e;var t=e+"";return t=="0"&&1/e==-KC?"-0":t}function JC(e,t){t=GC(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[qC(t[n++])];return n&&n==r?e:void 0}function ZC(e,t,n){var r=e==null?void 0:JC(e,t);return r===void 0?n:r}function QC(){if(!arguments.length)return[];var e=arguments[0];return vo(e)?e:[e]}var e1=function(){return po.Date.now()};const qo=e1;var t1="Expected a function",n1=Math.max,r1=Math.min;function i1(e,t,n){var r,s,p,m,u,i,d=0,f=!1,o=!1,l=!0;if(typeof e!="function")throw new TypeError(t1);t=Yu(t)||0,Br(n)&&(f=!!n.leading,o="maxWait"in n,p=o?n1(Yu(n.maxWait)||0,t):p,l="trailing"in n?!!n.trailing:l);function a(C){var S=r,O=s;return r=s=void 0,d=C,m=e.apply(O,S),m}function c(C){return d=C,u=setTimeout(v,t),f?a(C):m}function g(C){var S=C-i,O=C-d,j=t-S;return o?r1(j,p-O):j}function h(C){var S=C-i,O=C-d;return i===void 0||S>=t||S<0||o&&O>=p}function v(){var C=qo();if(h(C))return _(C);u=setTimeout(v,g(C))}function _(C){return u=void 0,l&&r?a(C):(r=s=void 0,m)}function y(){u!==void 0&&clearTimeout(u),d=0,r=i=s=u=void 0}function b(){return u===void 0?m:_(qo())}function w(){var C=qo(),S=h(C);if(r=arguments,s=this,i=C,S){if(u===void 0)return c(i);if(o)return clearTimeout(u),u=setTimeout(v,t),a(i)}return u===void 0&&(u=setTimeout(v,t)),m}return w.cancel=y,w.flush=b,w}function js(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function Rl(e){return e==null}function s1(e){return e===void 0}var o1="Expected a function";function ws(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(o1);return Br(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i1(e,t,{leading:r,maxWait:t,trailing:s})}const a1=e=>e===void 0,Il=e=>typeof e=="boolean",bt=e=>typeof e=="number",jr=e=>typeof Element>"u"?!1:e instanceof Element,l1=e=>Ne(e)?!Number.isNaN(Number(e)):!1,La=e=>Object.keys(e);class c1 extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function u1(e,t){throw new c1(`[${e}] ${t}`)}const f1=(e,t)=>{var n;if(!Ve||!e||!t)return"";let r=en(t);r==="float"&&(r="cssFloat");try{const s=e.style[r];if(s)return s;const p=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return p?p[r]:""}catch{return e.style[r]}};function Fi(e,t="px"){if(!e)return"";if(bt(e)||l1(e))return`${e}${t}`;if(Ne(e))return e}const h1=(e,t)=>{if(!Ve)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=f1(e,n);return["scroll","auto","overlay"].some(s=>r.includes(s))},d1=(e,t)=>{if(!Ve)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(h1(n,t))return n;n=n.parentNode}return n},jd="__epPropKey",Pe=e=>e,p1=e=>Be(e)&&!!e[jd],yo=(e,t)=>{if(!Be(e)||p1(e))return e;const{values:n,required:r,default:s,type:p,validator:m}=e,i={type:p,required:!!r,validator:n||m?d=>{let f=!1,o=[];if(n&&(o=Array.from(n),Re(e,"default")&&o.push(s),f||(f=o.includes(d))),m&&(f||(f=m(d))),!f&&o.length>0){const l=[...new Set(o)].map(a=>JSON.stringify(a)).join(", ");Rv(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${l}], got value ${JSON.stringify(d)}.`)}return f}:void 0,[jd]:!0};return Re(e,"default")&&(i.default=s),i},We=e=>js(Object.entries(e).map(([t,n])=>[t,yo(n,t)])),Ns=Pe([String,Object,Function]),g1={Close:kd,SuccessFilled:Md,InfoFilled:Ad,WarningFilled:Dd,CircleCloseFilled:Pd},Vu={success:Md,warning:Dd,error:Pd,info:Ad},mn=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},v1=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),m1=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Fl=e=>(e.install=wt,e),Nd=(...e)=>t=>{e.forEach(n=>{Se(n)?n(t):n.value=t})},Le={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},_1=["","default","small","large"],Ll=e=>e,y1=["class","style"],b1=/^on[A-Z]/,w1=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=ne(()=>((n==null?void 0:n.value)||[]).concat(y1)),s=jt();return ne(s?()=>{var p;return js(Object.entries((p=s.proxy)==null?void 0:p.$attrs).filter(([m])=>!r.value.includes(m)&&!(t&&b1.test(m))))}:()=>({}))},C1=({from:e,replacement:t,scope:n,version:r,ref:s,type:p="API"},m)=>{Ae(()=>F(m),u=>{},{immediate:!0})};var S1={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const x1=e=>(t,n)=>T1(t,n,F(e)),T1=(e,t,n)=>ZC(n,e,e).replace(/\{(\w+)\}/g,(r,s)=>{var p;return`${(p=t==null?void 0:t[s])!=null?p:`{${s}}`}`}),O1=e=>{const t=ne(()=>F(e).name),n=it(e)?e:fe(e);return{lang:t,locale:n,t:x1(e)}},$d=Symbol("localeContextKey"),bo=e=>{const t=e||xe($d,fe());return O1(ne(()=>t.value||S1))},Cs="el",E1="is-",er=(e,t,n,r,s)=>{let p=`${e}-${t}`;return n&&(p+=`-${n}`),r&&(p+=`__${r}`),s&&(p+=`--${s}`),p},zd=Symbol("namespaceContextKey"),Bl=e=>{const t=e||(jt()?xe(zd,fe(Cs)):fe(Cs));return ne(()=>F(t)||Cs)},st=(e,t)=>{const n=Bl(t);return{namespace:n,b:(g="")=>er(n.value,e,g,"",""),e:g=>g?er(n.value,e,"",g,""):"",m:g=>g?er(n.value,e,"","",g):"",be:(g,h)=>g&&h?er(n.value,e,g,h,""):"",em:(g,h)=>g&&h?er(n.value,e,"",g,h):"",bm:(g,h)=>g&&h?er(n.value,e,g,"",h):"",bem:(g,h,v)=>g&&h&&v?er(n.value,e,g,h,v):"",is:(g,...h)=>{const v=h.length>=1?h[0]:!0;return g&&v?`${E1}${g}`:""},cssVar:g=>{const h={};for(const v in g)g[v]&&(h[`--${n.value}-${v}`]=g[v]);return h},cssVarName:g=>`--${n.value}-${g}`,cssVarBlock:g=>{const h={};for(const v in g)g[v]&&(h[`--${n.value}-${e}-${v}`]=g[v]);return h},cssVarBlockName:g=>`--${n.value}-${e}-${g}`}},P1=yo({type:Pe(Boolean),default:null}),k1=yo({type:Pe(Function)}),Hd=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],s={[e]:P1,[n]:k1};return{useModelToggle:({indicator:m,toggleReason:u,shouldHideWhenRouteChanges:i,shouldProceed:d,onShow:f,onHide:o})=>{const l=jt(),{emit:a}=l,c=l.props,g=ne(()=>Se(c[n])),h=ne(()=>c[e]===null),v=S=>{m.value!==!0&&(m.value=!0,u&&(u.value=S),Se(f)&&f(S))},_=S=>{m.value!==!1&&(m.value=!1,u&&(u.value=S),Se(o)&&o(S))},y=S=>{if(c.disabled===!0||Se(d)&&!d())return;const O=g.value&&Ve;O&&a(t,!0),(h.value||!O)&&v(S)},b=S=>{if(c.disabled===!0||!Ve)return;const O=g.value&&Ve;O&&a(t,!1),(h.value||!O)&&_(S)},w=S=>{Il(S)&&(c.disabled&&S?g.value&&a(t,!1):m.value!==S&&(S?v():_()))},C=()=>{m.value?b():y()};return Ae(()=>c[e],w),i&&l.appContext.config.globalProperties.$route!==void 0&&Ae(()=>({...l.proxy.$route}),()=>{i.value&&m.value&&b()}),Je(()=>{w(c[e])}),{hide:b,show:y,toggle:C,hasUpdateHandler:g}},useModelToggleProps:s,useModelToggleEmits:r}};Hd("modelValue");const Ud=e=>{const t=jt();return ne(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})};var Pt="top",Vt="bottom",Gt="right",kt="left",jl="auto",Xi=[Pt,Vt,Gt,kt],Nr="start",Li="end",A1="clippingParents",Wd="viewport",ai="popper",M1="reference",Gu=Xi.reduce(function(e,t){return e.concat([t+"-"+Nr,t+"-"+Li])},[]),Nl=[].concat(Xi,[jl]).reduce(function(e,t){return e.concat([t,t+"-"+Nr,t+"-"+Li])},[]),D1="beforeRead",R1="read",I1="afterRead",F1="beforeMain",L1="main",B1="afterMain",j1="beforeWrite",N1="write",$1="afterWrite",z1=[D1,R1,I1,F1,L1,B1,j1,N1,$1];function pn(e){return e?(e.nodeName||"").toLowerCase():null}function rn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function $r(e){var t=rn(e).Element;return e instanceof t||e instanceof Element}function Wt(e){var t=rn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function $l(e){if(typeof ShadowRoot>"u")return!1;var t=rn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function H1(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},p=t.elements[n];!Wt(p)||!pn(p)||(Object.assign(p.style,r),Object.keys(s).forEach(function(m){var u=s[m];u===!1?p.removeAttribute(m):p.setAttribute(m,u===!0?"":u)}))})}function U1(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],p=t.attributes[r]||{},m=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),u=m.reduce(function(i,d){return i[d]="",i},{});!Wt(s)||!pn(s)||(Object.assign(s.style,u),Object.keys(p).forEach(function(i){s.removeAttribute(i)}))})}}var Yd={name:"applyStyles",enabled:!0,phase:"write",fn:H1,effect:U1,requires:["computeStyles"]};function dn(e){return e.split("-")[0]}var cr=Math.max,$s=Math.min,zr=Math.round;function Hr(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,s=1;if(Wt(e)&&t){var p=e.offsetHeight,m=e.offsetWidth;m>0&&(r=zr(n.width)/m||1),p>0&&(s=zr(n.height)/p||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function zl(e){var t=Hr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Xd(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&$l(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function kn(e){return rn(e).getComputedStyle(e)}function W1(e){return["table","td","th"].indexOf(pn(e))>=0}function Vn(e){return(($r(e)?e.ownerDocument:e.document)||window.document).documentElement}function wo(e){return pn(e)==="html"?e:e.assignedSlot||e.parentNode||($l(e)?e.host:null)||Vn(e)}function Ku(e){return!Wt(e)||kn(e).position==="fixed"?null:e.offsetParent}function Y1(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Wt(e)){var r=kn(e);if(r.position==="fixed")return null}var s=wo(e);for($l(s)&&(s=s.host);Wt(s)&&["html","body"].indexOf(pn(s))<0;){var p=kn(s);if(p.transform!=="none"||p.perspective!=="none"||p.contain==="paint"||["transform","perspective"].indexOf(p.willChange)!==-1||t&&p.willChange==="filter"||t&&p.filter&&p.filter!=="none")return s;s=s.parentNode}return null}function Vi(e){for(var t=rn(e),n=Ku(e);n&&W1(n)&&kn(n).position==="static";)n=Ku(n);return n&&(pn(n)==="html"||pn(n)==="body"&&kn(n).position==="static")?t:n||Y1(e)||t}function Hl(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function yi(e,t,n){return cr(e,$s(t,n))}function X1(e,t,n){var r=yi(e,t,n);return r>n?n:r}function Vd(){return{top:0,right:0,bottom:0,left:0}}function Gd(e){return Object.assign({},Vd(),e)}function Kd(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var V1=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Gd(typeof e!="number"?e:Kd(e,Xi))};function G1(e){var t,n=e.state,r=e.name,s=e.options,p=n.elements.arrow,m=n.modifiersData.popperOffsets,u=dn(n.placement),i=Hl(u),d=[kt,Gt].indexOf(u)>=0,f=d?"height":"width";if(!(!p||!m)){var o=V1(s.padding,n),l=zl(p),a=i==="y"?Pt:kt,c=i==="y"?Vt:Gt,g=n.rects.reference[f]+n.rects.reference[i]-m[i]-n.rects.popper[f],h=m[i]-n.rects.reference[i],v=Vi(p),_=v?i==="y"?v.clientHeight||0:v.clientWidth||0:0,y=g/2-h/2,b=o[a],w=_-l[f]-o[c],C=_/2-l[f]/2+y,S=yi(b,C,w),O=i;n.modifiersData[r]=(t={},t[O]=S,t.centerOffset=S-C,t)}}function K1(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!Xd(t.elements.popper,s)||(t.elements.arrow=s))}var q1={name:"arrow",enabled:!0,phase:"main",fn:G1,effect:K1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ur(e){return e.split("-")[1]}var J1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Z1(e){var t=e.x,n=e.y,r=window,s=r.devicePixelRatio||1;return{x:zr(t*s)/s||0,y:zr(n*s)/s||0}}function qu(e){var t,n=e.popper,r=e.popperRect,s=e.placement,p=e.variation,m=e.offsets,u=e.position,i=e.gpuAcceleration,d=e.adaptive,f=e.roundOffsets,o=e.isFixed,l=m.x,a=l===void 0?0:l,c=m.y,g=c===void 0?0:c,h=typeof f=="function"?f({x:a,y:g}):{x:a,y:g};a=h.x,g=h.y;var v=m.hasOwnProperty("x"),_=m.hasOwnProperty("y"),y=kt,b=Pt,w=window;if(d){var C=Vi(n),S="clientHeight",O="clientWidth";if(C===rn(n)&&(C=Vn(n),kn(C).position!=="static"&&u==="absolute"&&(S="scrollHeight",O="scrollWidth")),C=C,s===Pt||(s===kt||s===Gt)&&p===Li){b=Vt;var j=o&&C===w&&w.visualViewport?w.visualViewport.height:C[S];g-=j-r.height,g*=i?1:-1}if(s===kt||(s===Pt||s===Vt)&&p===Li){y=Gt;var Y=o&&C===w&&w.visualViewport?w.visualViewport.width:C[O];a-=Y-r.width,a*=i?1:-1}}var G=Object.assign({position:u},d&&J1),U=f===!0?Z1({x:a,y:g}):{x:a,y:g};if(a=U.x,g=U.y,i){var ee;return Object.assign({},G,(ee={},ee[b]=_?"0":"",ee[y]=v?"0":"",ee.transform=(w.devicePixelRatio||1)<=1?"translate("+a+"px, "+g+"px)":"translate3d("+a+"px, "+g+"px, 0)",ee))}return Object.assign({},G,(t={},t[b]=_?g+"px":"",t[y]=v?a+"px":"",t.transform="",t))}function Q1(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,p=n.adaptive,m=p===void 0?!0:p,u=n.roundOffsets,i=u===void 0?!0:u,d={placement:dn(t.placement),variation:Ur(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,qu(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:m,roundOffsets:i})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,qu(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var qd={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Q1,data:{}},as={passive:!0};function eS(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,p=s===void 0?!0:s,m=r.resize,u=m===void 0?!0:m,i=rn(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return p&&d.forEach(function(f){f.addEventListener("scroll",n.update,as)}),u&&i.addEventListener("resize",n.update,as),function(){p&&d.forEach(function(f){f.removeEventListener("scroll",n.update,as)}),u&&i.removeEventListener("resize",n.update,as)}}var Jd={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eS,data:{}},tS={left:"right",right:"left",bottom:"top",top:"bottom"};function Ss(e){return e.replace(/left|right|bottom|top/g,function(t){return tS[t]})}var nS={start:"end",end:"start"};function Ju(e){return e.replace(/start|end/g,function(t){return nS[t]})}function Ul(e){var t=rn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Wl(e){return Hr(Vn(e)).left+Ul(e).scrollLeft}function rS(e){var t=rn(e),n=Vn(e),r=t.visualViewport,s=n.clientWidth,p=n.clientHeight,m=0,u=0;return r&&(s=r.width,p=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(m=r.offsetLeft,u=r.offsetTop)),{width:s,height:p,x:m+Wl(e),y:u}}function iS(e){var t,n=Vn(e),r=Ul(e),s=(t=e.ownerDocument)==null?void 0:t.body,p=cr(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),m=cr(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),u=-r.scrollLeft+Wl(e),i=-r.scrollTop;return kn(s||n).direction==="rtl"&&(u+=cr(n.clientWidth,s?s.clientWidth:0)-p),{width:p,height:m,x:u,y:i}}function Yl(e){var t=kn(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function Zd(e){return["html","body","#document"].indexOf(pn(e))>=0?e.ownerDocument.body:Wt(e)&&Yl(e)?e:Zd(wo(e))}function bi(e,t){var n;t===void 0&&(t=[]);var r=Zd(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),p=rn(r),m=s?[p].concat(p.visualViewport||[],Yl(r)?r:[]):r,u=t.concat(m);return s?u:u.concat(bi(wo(m)))}function Ba(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function sS(e){var t=Hr(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Zu(e,t){return t===Wd?Ba(rS(e)):$r(t)?sS(t):Ba(iS(Vn(e)))}function oS(e){var t=bi(wo(e)),n=["absolute","fixed"].indexOf(kn(e).position)>=0,r=n&&Wt(e)?Vi(e):e;return $r(r)?t.filter(function(s){return $r(s)&&Xd(s,r)&&pn(s)!=="body"}):[]}function aS(e,t,n){var r=t==="clippingParents"?oS(e):[].concat(t),s=[].concat(r,[n]),p=s[0],m=s.reduce(function(u,i){var d=Zu(e,i);return u.top=cr(d.top,u.top),u.right=$s(d.right,u.right),u.bottom=$s(d.bottom,u.bottom),u.left=cr(d.left,u.left),u},Zu(e,p));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function Qd(e){var t=e.reference,n=e.element,r=e.placement,s=r?dn(r):null,p=r?Ur(r):null,m=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,i;switch(s){case Pt:i={x:m,y:t.y-n.height};break;case Vt:i={x:m,y:t.y+t.height};break;case Gt:i={x:t.x+t.width,y:u};break;case kt:i={x:t.x-n.width,y:u};break;default:i={x:t.x,y:t.y}}var d=s?Hl(s):null;if(d!=null){var f=d==="y"?"height":"width";switch(p){case Nr:i[d]=i[d]-(t[f]/2-n[f]/2);break;case Li:i[d]=i[d]+(t[f]/2-n[f]/2);break}}return i}function Bi(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,p=n.boundary,m=p===void 0?A1:p,u=n.rootBoundary,i=u===void 0?Wd:u,d=n.elementContext,f=d===void 0?ai:d,o=n.altBoundary,l=o===void 0?!1:o,a=n.padding,c=a===void 0?0:a,g=Gd(typeof c!="number"?c:Kd(c,Xi)),h=f===ai?M1:ai,v=e.rects.popper,_=e.elements[l?h:f],y=aS($r(_)?_:_.contextElement||Vn(e.elements.popper),m,i),b=Hr(e.elements.reference),w=Qd({reference:b,element:v,strategy:"absolute",placement:s}),C=Ba(Object.assign({},v,w)),S=f===ai?C:b,O={top:y.top-S.top+g.top,bottom:S.bottom-y.bottom+g.bottom,left:y.left-S.left+g.left,right:S.right-y.right+g.right},j=e.modifiersData.offset;if(f===ai&&j){var Y=j[s];Object.keys(O).forEach(function(G){var U=[Gt,Vt].indexOf(G)>=0?1:-1,ee=[Pt,Vt].indexOf(G)>=0?"y":"x";O[G]+=Y[ee]*U})}return O}function lS(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,p=n.rootBoundary,m=n.padding,u=n.flipVariations,i=n.allowedAutoPlacements,d=i===void 0?Nl:i,f=Ur(r),o=f?u?Gu:Gu.filter(function(c){return Ur(c)===f}):Xi,l=o.filter(function(c){return d.indexOf(c)>=0});l.length===0&&(l=o);var a=l.reduce(function(c,g){return c[g]=Bi(e,{placement:g,boundary:s,rootBoundary:p,padding:m})[dn(g)],c},{});return Object.keys(a).sort(function(c,g){return a[c]-a[g]})}function cS(e){if(dn(e)===jl)return[];var t=Ss(e);return[Ju(e),t,Ju(t)]}function uS(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,p=s===void 0?!0:s,m=n.altAxis,u=m===void 0?!0:m,i=n.fallbackPlacements,d=n.padding,f=n.boundary,o=n.rootBoundary,l=n.altBoundary,a=n.flipVariations,c=a===void 0?!0:a,g=n.allowedAutoPlacements,h=t.options.placement,v=dn(h),_=v===h,y=i||(_||!c?[Ss(h)]:cS(h)),b=[h].concat(y).reduce(function(M,E){return M.concat(dn(E)===jl?lS(t,{placement:E,boundary:f,rootBoundary:o,padding:d,flipVariations:c,allowedAutoPlacements:g}):E)},[]),w=t.rects.reference,C=t.rects.popper,S=new Map,O=!0,j=b[0],Y=0;Y<b.length;Y++){var G=b[Y],U=dn(G),ee=Ur(G)===Nr,oe=[Pt,Vt].indexOf(U)>=0,le=oe?"width":"height",ce=Bi(t,{placement:G,boundary:f,rootBoundary:o,altBoundary:l,padding:d}),X=oe?ee?Gt:kt:ee?Vt:Pt;w[le]>C[le]&&(X=Ss(X));var J=Ss(X),x=[];if(p&&x.push(ce[U]<=0),u&&x.push(ce[X]<=0,ce[J]<=0),x.every(function(M){return M})){j=G,O=!1;break}S.set(G,x)}if(O)for(var D=c?3:1,R=function(M){var E=b.find(function(H){var A=S.get(H);if(A)return A.slice(0,M).every(function(L){return L})});if(E)return j=E,"break"},I=D;I>0;I--){var Z=R(I);if(Z==="break")break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}}var fS={name:"flip",enabled:!0,phase:"main",fn:uS,requiresIfExists:["offset"],data:{_skip:!1}};function Qu(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ef(e){return[Pt,Gt,Vt,kt].some(function(t){return e[t]>=0})}function hS(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,p=t.modifiersData.preventOverflow,m=Bi(t,{elementContext:"reference"}),u=Bi(t,{altBoundary:!0}),i=Qu(m,r),d=Qu(u,s,p),f=ef(i),o=ef(d);t.modifiersData[n]={referenceClippingOffsets:i,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:o},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":o})}var dS={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hS};function pS(e,t,n){var r=dn(e),s=[kt,Pt].indexOf(r)>=0?-1:1,p=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,m=p[0],u=p[1];return m=m||0,u=(u||0)*s,[kt,Gt].indexOf(r)>=0?{x:u,y:m}:{x:m,y:u}}function gS(e){var t=e.state,n=e.options,r=e.name,s=n.offset,p=s===void 0?[0,0]:s,m=Nl.reduce(function(f,o){return f[o]=pS(o,t.rects,p),f},{}),u=m[t.placement],i=u.x,d=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=m}var vS={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gS};function mS(e){var t=e.state,n=e.name;t.modifiersData[n]=Qd({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var ep={name:"popperOffsets",enabled:!0,phase:"read",fn:mS,data:{}};function _S(e){return e==="x"?"y":"x"}function yS(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,p=s===void 0?!0:s,m=n.altAxis,u=m===void 0?!1:m,i=n.boundary,d=n.rootBoundary,f=n.altBoundary,o=n.padding,l=n.tether,a=l===void 0?!0:l,c=n.tetherOffset,g=c===void 0?0:c,h=Bi(t,{boundary:i,rootBoundary:d,padding:o,altBoundary:f}),v=dn(t.placement),_=Ur(t.placement),y=!_,b=Hl(v),w=_S(b),C=t.modifiersData.popperOffsets,S=t.rects.reference,O=t.rects.popper,j=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,Y=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),G=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(C){if(p){var ee,oe=b==="y"?Pt:kt,le=b==="y"?Vt:Gt,ce=b==="y"?"height":"width",X=C[b],J=X+h[oe],x=X-h[le],D=a?-O[ce]/2:0,R=_===Nr?S[ce]:O[ce],I=_===Nr?-O[ce]:-S[ce],Z=t.elements.arrow,M=a&&Z?zl(Z):{width:0,height:0},E=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Vd(),H=E[oe],A=E[le],L=yi(0,S[ce],M[ce]),$=y?S[ce]/2-D-L-H-Y.mainAxis:R-L-H-Y.mainAxis,K=y?-S[ce]/2+D+L+A+Y.mainAxis:I+L+A+Y.mainAxis,ie=t.elements.arrow&&Vi(t.elements.arrow),k=ie?b==="y"?ie.clientTop||0:ie.clientLeft||0:0,T=(ee=G==null?void 0:G[b])!=null?ee:0,P=X+$-T-k,B=X+K-T,z=yi(a?$s(J,P):J,X,a?cr(x,B):x);C[b]=z,U[b]=z-X}if(u){var N,W=b==="x"?Pt:kt,q=b==="x"?Vt:Gt,se=C[w],Q=w==="y"?"height":"width",V=se+h[W],ae=se-h[q],he=[Pt,kt].indexOf(v)!==-1,ge=(N=G==null?void 0:G[w])!=null?N:0,me=he?V:se-S[Q]-O[Q]-ge+Y.altAxis,_e=he?se+S[Q]+O[Q]-ge-Y.altAxis:ae,be=a&&he?X1(me,se,_e):yi(a?me:V,se,a?_e:ae);C[w]=be,U[w]=be-se}t.modifiersData[r]=U}}var bS={name:"preventOverflow",enabled:!0,phase:"main",fn:yS,requiresIfExists:["offset"]};function wS(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function CS(e){return e===rn(e)||!Wt(e)?Ul(e):wS(e)}function SS(e){var t=e.getBoundingClientRect(),n=zr(t.width)/e.offsetWidth||1,r=zr(t.height)/e.offsetHeight||1;return n!==1||r!==1}function xS(e,t,n){n===void 0&&(n=!1);var r=Wt(t),s=Wt(t)&&SS(t),p=Vn(t),m=Hr(e,s),u={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(r||!r&&!n)&&((pn(t)!=="body"||Yl(p))&&(u=CS(t)),Wt(t)?(i=Hr(t,!0),i.x+=t.clientLeft,i.y+=t.clientTop):p&&(i.x=Wl(p))),{x:m.left+u.scrollLeft-i.x,y:m.top+u.scrollTop-i.y,width:m.width,height:m.height}}function TS(e){var t=new Map,n=new Set,r=[];e.forEach(function(p){t.set(p.name,p)});function s(p){n.add(p.name);var m=[].concat(p.requires||[],p.requiresIfExists||[]);m.forEach(function(u){if(!n.has(u)){var i=t.get(u);i&&s(i)}}),r.push(p)}return e.forEach(function(p){n.has(p.name)||s(p)}),r}function OS(e){var t=TS(e);return z1.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function ES(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function PS(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var tf={placement:"bottom",modifiers:[],strategy:"absolute"};function nf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Xl(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,p=s===void 0?tf:s;return function(m,u,i){i===void 0&&(i=p);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},tf,p),modifiersData:{},elements:{reference:m,popper:u},attributes:{},styles:{}},f=[],o=!1,l={state:d,setOptions:function(g){var h=typeof g=="function"?g(d.options):g;c(),d.options=Object.assign({},p,d.options,h),d.scrollParents={reference:$r(m)?bi(m):m.contextElement?bi(m.contextElement):[],popper:bi(u)};var v=OS(PS([].concat(r,d.options.modifiers)));return d.orderedModifiers=v.filter(function(_){return _.enabled}),a(),l.update()},forceUpdate:function(){if(!o){var g=d.elements,h=g.reference,v=g.popper;if(nf(h,v)){d.rects={reference:xS(h,Vi(v),d.options.strategy==="fixed"),popper:zl(v)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(O){return d.modifiersData[O.name]=Object.assign({},O.data)});for(var _=0;_<d.orderedModifiers.length;_++){if(d.reset===!0){d.reset=!1,_=-1;continue}var y=d.orderedModifiers[_],b=y.fn,w=y.options,C=w===void 0?{}:w,S=y.name;typeof b=="function"&&(d=b({state:d,options:C,name:S,instance:l})||d)}}}},update:ES(function(){return new Promise(function(g){l.forceUpdate(),g(d)})}),destroy:function(){c(),o=!0}};if(!nf(m,u))return l;l.setOptions(i).then(function(g){!o&&i.onFirstUpdate&&i.onFirstUpdate(g)});function a(){d.orderedModifiers.forEach(function(g){var h=g.name,v=g.options,_=v===void 0?{}:v,y=g.effect;if(typeof y=="function"){var b=y({state:d,name:h,instance:l,options:_}),w=function(){};f.push(b||w)}})}function c(){f.forEach(function(g){return g()}),f=[]}return l}}Xl();var kS=[Jd,ep,qd,Yd];Xl({defaultModifiers:kS});var AS=[Jd,ep,qd,Yd,vS,fS,bS,q1,dS],MS=Xl({defaultModifiers:AS});const DS=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:i})=>{const d=RS(i);Object.assign(m.value,d)},requires:["computeStyles"]},s=ne(()=>{const{onFirstUpdate:i,placement:d,strategy:f,modifiers:o}=F(n);return{onFirstUpdate:i,placement:d||"bottom",strategy:f||"absolute",modifiers:[...o||[],r,{name:"applyStyles",enabled:!1}]}}),p=Pi(),m=fe({styles:{popper:{position:F(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=()=>{p.value&&(p.value.destroy(),p.value=void 0)};return Ae(s,i=>{const d=F(p);d&&d.setOptions(i)},{deep:!0}),Ae([e,t],([i,d])=>{u(),!(!i||!d)&&(p.value=MS(i,d,F(s)))}),Bt(()=>{u()}),{state:ne(()=>{var i;return{...((i=F(p))==null?void 0:i.state)||{}}}),styles:ne(()=>F(m).styles),attributes:ne(()=>F(m).attributes),update:()=>{var i;return(i=F(p))==null?void 0:i.update()},forceUpdate:()=>{var i;return(i=F(p))==null?void 0:i.forceUpdate()},instanceRef:ne(()=>F(p))}};function RS(e){const t=Object.keys(e.elements),n=js(t.map(s=>[s,e.styles[s]||{}])),r=js(t.map(s=>[s,e.attributes[s]]));return{styles:n,attributes:r}}function rf(){let e;const t=(r,s)=>{n(),e=window.setTimeout(r,s)},n=()=>window.clearTimeout(e);return ho(()=>n()),{registerTimeout:t,cancelTimeout:n}}const sf={prefix:Math.floor(Math.random()*1e4),current:0},IS=Symbol("elIdInjection"),tp=()=>jt()?xe(IS,sf):sf,Vl=e=>{const t=tp(),n=Bl();return ne(()=>F(e)||`${n.value}-id-${t.prefix}-${t.current++}`)};let xr=[];const of=e=>{const t=e;t.key===Le.esc&&xr.forEach(n=>n(t))},FS=e=>{Je(()=>{xr.length===0&&document.addEventListener("keydown",of),Ve&&xr.push(e)}),Bt(()=>{xr=xr.filter(t=>t!==e),xr.length===0&&Ve&&document.removeEventListener("keydown",of)})};let af;const np=()=>{const e=Bl(),t=tp(),n=ne(()=>`${e.value}-popper-container-${t.prefix}`),r=ne(()=>`#${n.value}`);return{id:n,selector:r}},LS=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},BS=()=>{const{id:e,selector:t}=np();return Rh(()=>{Ve&&!af&&!document.body.querySelector(t.value)&&(af=LS(e.value))}),{id:e,selector:t}},jS=We({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),NS=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:s})=>{const{registerTimeout:p}=rf(),{registerTimeout:m,cancelTimeout:u}=rf();return{onOpen:f=>{p(()=>{r(f);const o=F(n);bt(o)&&o>0&&m(()=>{s(f)},o)},F(e))},onClose:f=>{u(),p(()=>{s(f)},F(t))}}},rp=Symbol("elForwardRef"),$S=e=>{qe(rp,{setForwardRef:n=>{e.value=n}})},zS=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),lf=fe(0),ip=2e3,sp=Symbol("zIndexContextKey"),Gl=e=>{const t=e||(jt()?xe(sp,void 0):void 0),n=ne(()=>{const p=F(t);return bt(p)?p:ip}),r=ne(()=>n.value+lf.value);return{initialZIndex:n,currentZIndex:r,nextZIndex:()=>(lf.value++,r.value)}},HS=yo({type:String,values:_1,required:!1}),op=Symbol("size"),US=()=>{const e=xe(op,{});return ne(()=>F(e.size)||"")},ap=Symbol(),zs=fe();function Kl(e,t=void 0){const n=jt()?xe(ap,zs):zs;return e?ne(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[e])!=null?s:t}):n}function WS(e,t){const n=Kl(),r=st(e,ne(()=>{var u;return((u=n.value)==null?void 0:u.namespace)||Cs})),s=bo(ne(()=>{var u;return(u=n.value)==null?void 0:u.locale})),p=Gl(ne(()=>{var u;return((u=n.value)==null?void 0:u.zIndex)||ip})),m=ne(()=>{var u;return F(t)||((u=n.value)==null?void 0:u.size)||""});return YS(ne(()=>F(n)||{})),{ns:r,locale:s,zIndex:p,size:m}}const YS=(e,t,n=!1)=>{var r;const s=!!jt(),p=s?Kl():void 0,m=(r=t==null?void 0:t.provide)!=null?r:s?qe:void 0;if(!m)return;const u=ne(()=>{const i=F(e);return p!=null&&p.value?XS(p.value,i):i});return m(ap,u),m($d,ne(()=>u.value.locale)),m(zd,ne(()=>u.value.namespace)),m(sp,ne(()=>u.value.zIndex)),m(op,{size:ne(()=>u.value.size||"")}),(n||!zs.value)&&(zs.value=u.value),u},XS=(e,t)=>{var n;const r=[...new Set([...La(e),...La(t)])],s={};for(const p of r)s[p]=(n=t[p])!=null?n:e[p];return s},cf={};var He=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const VS=We({size:{type:Pe([Number,String])},color:{type:String}}),GS=Te({name:"ElIcon",inheritAttrs:!1}),KS=Te({...GS,props:VS,setup(e){const t=e,n=st("icon"),r=ne(()=>{const{size:s,color:p}=t;return!s&&!p?{}:{fontSize:a1(s)?void 0:Fi(s),"--color":p}});return(s,p)=>(re(),de("i",Lt({class:F(n).b(),style:F(r)},s.$attrs),[Ee(s.$slots,"default")],16))}});var qS=He(KS,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const rt=mn(qS),ql=Symbol("formContextKey"),Hs=Symbol("formItemContextKey"),lp=(e,t={})=>{const n=fe(void 0),r=t.prop?n:Ud("size"),s=t.global?n:US(),p=t.form?{size:void 0}:xe(ql,void 0),m=t.formItem?{size:void 0}:xe(Hs,void 0);return ne(()=>r.value||F(e)||(m==null?void 0:m.size)||(p==null?void 0:p.size)||s.value||"")},cp=e=>{const t=Ud("disabled"),n=xe(ql,void 0);return ne(()=>t.value||F(e)||(n==null?void 0:n.disabled)||!1)},JS=()=>{const e=xe(ql,void 0),t=xe(Hs,void 0);return{form:e,formItem:t}},Tr=4,ZS={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},QS=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),up=Symbol("scrollbarContextKey"),ex=We({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),tx="Thumb",nx=Te({__name:"thumb",props:ex,setup(e){const t=e,n=xe(up),r=st("scrollbar");n||u1(tx,"can not inject scrollbar context");const s=fe(),p=fe(),m=fe({}),u=fe(!1);let i=!1,d=!1,f=Ve?document.onselectstart:null;const o=ne(()=>ZS[t.vertical?"vertical":"horizontal"]),l=ne(()=>QS({size:t.size,move:t.move,bar:o.value})),a=ne(()=>s.value[o.value.offset]**2/n.wrapElement[o.value.scrollSize]/t.ratio/p.value[o.value.offset]),c=C=>{var S;if(C.stopPropagation(),C.ctrlKey||[1,2].includes(C.button))return;(S=window.getSelection())==null||S.removeAllRanges(),h(C);const O=C.currentTarget;O&&(m.value[o.value.axis]=O[o.value.offset]-(C[o.value.client]-O.getBoundingClientRect()[o.value.direction]))},g=C=>{if(!p.value||!s.value||!n.wrapElement)return;const S=Math.abs(C.target.getBoundingClientRect()[o.value.direction]-C[o.value.client]),O=p.value[o.value.offset]/2,j=(S-O)*100*a.value/s.value[o.value.offset];n.wrapElement[o.value.scroll]=j*n.wrapElement[o.value.scrollSize]/100},h=C=>{C.stopImmediatePropagation(),i=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",_),f=document.onselectstart,document.onselectstart=()=>!1},v=C=>{if(!s.value||!p.value||i===!1)return;const S=m.value[o.value.axis];if(!S)return;const O=(s.value.getBoundingClientRect()[o.value.direction]-C[o.value.client])*-1,j=p.value[o.value.offset]-S,Y=(O-j)*100*a.value/s.value[o.value.offset];n.wrapElement[o.value.scroll]=Y*n.wrapElement[o.value.scrollSize]/100},_=()=>{i=!1,m.value[o.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",_),w(),d&&(u.value=!1)},y=()=>{d=!1,u.value=!!t.size},b=()=>{d=!0,u.value=i};Bt(()=>{w(),document.removeEventListener("mouseup",_)});const w=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return Et(Ot(n,"scrollbarElement"),"mousemove",y),Et(Ot(n,"scrollbarElement"),"mouseleave",b),(C,S)=>(re(),ke(vn,{name:F(r).b("fade"),persisted:""},{default:ve(()=>[mt(te("div",{ref_key:"instance",ref:s,class:Ce([F(r).e("bar"),F(r).is(F(o).key)]),onMousedown:g},[te("div",{ref_key:"thumb",ref:p,class:Ce(F(r).e("thumb")),style:Xe(F(l)),onMousedown:c},null,38)],34),[[Tt,C.always||u.value]])]),_:1},8,["name"]))}});var uf=He(nx,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const rx=We({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),ix=Te({__name:"bar",props:rx,setup(e,{expose:t}){const n=e,r=fe(0),s=fe(0);return t({handleScroll:m=>{if(m){const u=m.offsetHeight-Tr,i=m.offsetWidth-Tr;s.value=m.scrollTop*100/u*n.ratioY,r.value=m.scrollLeft*100/i*n.ratioX}}}),(m,u)=>(re(),de(Me,null,[pe(uf,{move:r.value,ratio:m.ratioX,size:m.width,always:m.always},null,8,["move","ratio","size","always"]),pe(uf,{move:s.value,ratio:m.ratioY,size:m.height,vertical:"",always:m.always},null,8,["move","ratio","size","always"])],64))}});var sx=He(ix,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const ox=We({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Pe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),ax={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(bt)},lx="ElScrollbar",cx=Te({name:lx}),ux=Te({...cx,props:ox,emits:ax,setup(e,{expose:t,emit:n}){const r=e,s=st("scrollbar");let p,m;const u=fe(),i=fe(),d=fe(),f=fe("0"),o=fe("0"),l=fe(),a=fe(1),c=fe(1),g=ne(()=>{const S={};return r.height&&(S.height=Fi(r.height)),r.maxHeight&&(S.maxHeight=Fi(r.maxHeight)),[r.wrapStyle,S]}),h=ne(()=>[r.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!r.native}]),v=ne(()=>[s.e("view"),r.viewClass]),_=()=>{var S;i.value&&((S=l.value)==null||S.handleScroll(i.value),n("scroll",{scrollTop:i.value.scrollTop,scrollLeft:i.value.scrollLeft}))};function y(S,O){Be(S)?i.value.scrollTo(S):bt(S)&&bt(O)&&i.value.scrollTo(S,O)}const b=S=>{bt(S)&&(i.value.scrollTop=S)},w=S=>{bt(S)&&(i.value.scrollLeft=S)},C=()=>{if(!i.value)return;const S=i.value.offsetHeight-Tr,O=i.value.offsetWidth-Tr,j=S**2/i.value.scrollHeight,Y=O**2/i.value.scrollWidth,G=Math.max(j,r.minSize),U=Math.max(Y,r.minSize);a.value=j/(S-j)/(G/(S-G)),c.value=Y/(O-Y)/(U/(O-U)),o.value=G+Tr<S?`${G}px`:"",f.value=U+Tr<O?`${U}px`:""};return Ae(()=>r.noresize,S=>{S?(p==null||p(),m==null||m()):({stop:p}=Rd(d,C),m=Et("resize",C))},{immediate:!0}),Ae(()=>[r.maxHeight,r.height],()=>{r.native||Xt(()=>{var S;C(),i.value&&((S=l.value)==null||S.handleScroll(i.value))})}),qe(up,dr({scrollbarElement:u,wrapElement:i})),Je(()=>{r.native||Xt(()=>{C()})}),Ih(()=>C()),t({wrapRef:i,update:C,scrollTo:y,setScrollTop:b,setScrollLeft:w,handleScroll:_}),(S,O)=>(re(),de("div",{ref_key:"scrollbarRef",ref:u,class:Ce(F(s).b())},[te("div",{ref_key:"wrapRef",ref:i,class:Ce(F(h)),style:Xe(F(g)),onScroll:_},[(re(),ke(ar(S.tag),{ref_key:"resizeRef",ref:d,class:Ce(F(v)),style:Xe(S.viewStyle)},{default:ve(()=>[Ee(S.$slots,"default")]),_:3},8,["class","style"]))],38),S.native?De("v-if",!0):(re(),ke(sx,{key:0,ref_key:"barRef",ref:l,height:o.value,width:f.value,always:S.always,"ratio-x":c.value,"ratio-y":a.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var fx=He(ux,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const hx=mn(fx),Jl=Symbol("popper"),fp=Symbol("popperContent"),dx=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],hp=We({role:{type:String,values:dx,default:"tooltip"}}),px=Te({name:"ElPopper",inheritAttrs:!1}),gx=Te({...px,props:hp,setup(e,{expose:t}){const n=e,r=fe(),s=fe(),p=fe(),m=fe(),u=ne(()=>n.role),i={triggerRef:r,popperInstanceRef:s,contentRef:p,referenceRef:m,role:u};return t(i),qe(Jl,i),(d,f)=>Ee(d.$slots,"default")}});var vx=He(gx,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const dp=We({arrowOffset:{type:Number,default:5}}),mx=Te({name:"ElPopperArrow",inheritAttrs:!1}),_x=Te({...mx,props:dp,setup(e,{expose:t}){const n=e,r=st("popper"),{arrowOffset:s,arrowRef:p,arrowStyle:m}=xe(fp,void 0);return Ae(()=>n.arrowOffset,u=>{s.value=u}),Bt(()=>{p.value=void 0}),t({arrowRef:p}),(u,i)=>(re(),de("span",{ref_key:"arrowRef",ref:p,class:Ce(F(r).e("arrow")),style:Xe(F(m)),"data-popper-arrow":""},null,6))}});var yx=He(_x,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const bx="ElOnlyChild",pp=Te({name:bx,setup(e,{slots:t,attrs:n}){var r;const s=xe(rp),p=zS((r=s==null?void 0:s.setForwardRef)!=null?r:wt);return()=>{var m;const u=(m=t.default)==null?void 0:m.call(t,n);if(!u||u.length>1)return null;const i=gp(u);return i?mt(Pn(i,n),[[p]]):null}}});function gp(e){if(!e)return null;const t=e;for(const n of t){if(Be(n))switch(n.type){case Ft:continue;case Kr:case"svg":return ff(n);case Me:return gp(n.children);default:return n}return ff(n)}return null}function ff(e){const t=st("only-child");return pe("span",{class:t.e("content")},[e])}const vp=We({virtualRef:{type:Pe(Object)},virtualTriggering:Boolean,onMouseenter:{type:Pe(Function)},onMouseleave:{type:Pe(Function)},onClick:{type:Pe(Function)},onKeydown:{type:Pe(Function)},onFocus:{type:Pe(Function)},onBlur:{type:Pe(Function)},onContextmenu:{type:Pe(Function)},id:String,open:Boolean}),wx=Te({name:"ElPopperTrigger",inheritAttrs:!1}),Cx=Te({...wx,props:vp,setup(e,{expose:t}){const n=e,{role:r,triggerRef:s}=xe(Jl,void 0);$S(s);const p=ne(()=>u.value?n.id:void 0),m=ne(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),u=ne(()=>{if(r&&r.value!=="tooltip")return r.value}),i=ne(()=>u.value?`${n.open}`:void 0);let d;return Je(()=>{Ae(()=>n.virtualRef,f=>{f&&(s.value=Hn(f))},{immediate:!0}),Ae(s,(f,o)=>{d==null||d(),d=void 0,jr(f)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(l=>{var a;const c=n[l];c&&(f.addEventListener(l.slice(2).toLowerCase(),c),(a=o==null?void 0:o.removeEventListener)==null||a.call(o,l.slice(2).toLowerCase(),c))}),d=Ae([p,m,u,i],l=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((a,c)=>{Rl(l[c])?f.removeAttribute(a):f.setAttribute(a,l[c])})},{immediate:!0})),jr(o)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(l=>o.removeAttribute(l))},{immediate:!0})}),Bt(()=>{d==null||d(),d=void 0}),t({triggerRef:s}),(f,o)=>f.virtualTriggering?De("v-if",!0):(re(),ke(F(pp),Lt({key:0},f.$attrs,{"aria-controls":F(p),"aria-describedby":F(m),"aria-expanded":F(i),"aria-haspopup":F(u)}),{default:ve(()=>[Ee(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var Sx=He(Cx,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const Jo="focus-trap.focus-after-trapped",Zo="focus-trap.focus-after-released",xx="focus-trap.focusout-prevented",hf={cancelable:!0,bubbles:!1},Tx={cancelable:!0,bubbles:!1},df="focusAfterTrapped",pf="focusAfterReleased",mp=Symbol("elFocusTrap"),Zl=fe(),Co=fe(0),Ql=fe(0);let ls=0;const _p=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},gf=(e,t)=>{for(const n of e)if(!Ox(n,t))return n},Ox=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Ex=e=>{const t=_p(e),n=gf(t,e),r=gf(t.reverse(),e);return[n,r]},Px=e=>e instanceof HTMLInputElement&&"select"in e,jn=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),Ql.value=window.performance.now(),e!==n&&Px(e)&&t&&e.select()}};function vf(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const kx=()=>{let e=[];return{push:r=>{const s=e[0];s&&r!==s&&s.pause(),e=vf(e,r),e.unshift(r)},remove:r=>{var s,p;e=vf(e,r),(p=(s=e[0])==null?void 0:s.resume)==null||p.call(s)}}},Ax=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(jn(r,t),document.activeElement!==n)return},mf=kx(),Mx=()=>Co.value>Ql.value,cs=()=>{Zl.value="pointer",Co.value=window.performance.now()},_f=()=>{Zl.value="keyboard",Co.value=window.performance.now()},Dx=()=>(Je(()=>{ls===0&&(document.addEventListener("mousedown",cs),document.addEventListener("touchstart",cs),document.addEventListener("keydown",_f)),ls++}),Bt(()=>{ls--,ls<=0&&(document.removeEventListener("mousedown",cs),document.removeEventListener("touchstart",cs),document.removeEventListener("keydown",_f))}),{focusReason:Zl,lastUserFocusTimestamp:Co,lastAutomatedFocusTimestamp:Ql}),us=e=>new CustomEvent(xx,{...Tx,detail:e}),Rx=Te({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[df,pf,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=fe();let r,s;const{focusReason:p}=Dx();FS(c=>{e.trapped&&!m.paused&&t("release-requested",c)});const m={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},u=c=>{if(!e.loop&&!e.trapped||m.paused)return;const{key:g,altKey:h,ctrlKey:v,metaKey:_,currentTarget:y,shiftKey:b}=c,{loop:w}=e,C=g===Le.tab&&!h&&!v&&!_,S=document.activeElement;if(C&&S){const O=y,[j,Y]=Ex(O);if(j&&Y){if(!b&&S===Y){const U=us({focusReason:p.value});t("focusout-prevented",U),U.defaultPrevented||(c.preventDefault(),w&&jn(j,!0))}else if(b&&[j,O].includes(S)){const U=us({focusReason:p.value});t("focusout-prevented",U),U.defaultPrevented||(c.preventDefault(),w&&jn(Y,!0))}}else if(S===O){const U=us({focusReason:p.value});t("focusout-prevented",U),U.defaultPrevented||c.preventDefault()}}};qe(mp,{focusTrapRef:n,onKeydown:u}),Ae(()=>e.focusTrapEl,c=>{c&&(n.value=c)},{immediate:!0}),Ae([n],([c],[g])=>{c&&(c.addEventListener("keydown",u),c.addEventListener("focusin",f),c.addEventListener("focusout",o)),g&&(g.removeEventListener("keydown",u),g.removeEventListener("focusin",f),g.removeEventListener("focusout",o))});const i=c=>{t(df,c)},d=c=>t(pf,c),f=c=>{const g=F(n);if(!g)return;const h=c.target,v=c.relatedTarget,_=h&&g.contains(h);e.trapped||v&&g.contains(v)||(r=v),_&&t("focusin",c),!m.paused&&e.trapped&&(_?s=h:jn(s,!0))},o=c=>{const g=F(n);if(!(m.paused||!g))if(e.trapped){const h=c.relatedTarget;!Rl(h)&&!g.contains(h)&&setTimeout(()=>{if(!m.paused&&e.trapped){const v=us({focusReason:p.value});t("focusout-prevented",v),v.defaultPrevented||jn(s,!0)}},0)}else{const h=c.target;h&&g.contains(h)||t("focusout",c)}};async function l(){await Xt();const c=F(n);if(c){mf.push(m);const g=c.contains(document.activeElement)?r:document.activeElement;if(r=g,!c.contains(g)){const v=new Event(Jo,hf);c.addEventListener(Jo,i),c.dispatchEvent(v),v.defaultPrevented||Xt(()=>{let _=e.focusStartEl;Ne(_)||(jn(_),document.activeElement!==_&&(_="first")),_==="first"&&Ax(_p(c),!0),(document.activeElement===g||_==="container")&&jn(c)})}}}function a(){const c=F(n);if(c){c.removeEventListener(Jo,i);const g=new CustomEvent(Zo,{...hf,detail:{focusReason:p.value}});c.addEventListener(Zo,d),c.dispatchEvent(g),!g.defaultPrevented&&(p.value=="keyboard"||!Mx()||c.contains(document.activeElement))&&jn(r??document.body),c.removeEventListener(Zo,d),mf.remove(m)}}return Je(()=>{e.trapped&&l(),Ae(()=>e.trapped,c=>{c?l():a()})}),Bt(()=>{e.trapped&&a()}),{onKeydown:u}}});function Ix(e,t,n,r,s,p){return Ee(e.$slots,"default",{handleKeydown:e.onKeydown})}var Fx=He(Rx,[["render",Ix],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const Lx=["fixed","absolute"],Bx=We({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Pe(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Nl,default:"bottom"},popperOptions:{type:Pe(Object),default:()=>({})},strategy:{type:String,values:Lx,default:"absolute"}}),yp=We({...Bx,id:String,style:{type:Pe([String,Array,Object])},className:{type:Pe([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Pe([String,Array,Object])},popperStyle:{type:Pe([String,Array,Object])},referenceEl:{type:Pe(Object)},triggerTargetEl:{type:Pe(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),jx={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},Nx=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:s}=e,p={placement:n,strategy:r,...s,modifiers:[...zx(e),...t]};return Hx(p,s==null?void 0:s.modifiers),p},$x=e=>{if(Ve)return Hn(e)};function zx(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function Hx(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const Ux=0,Wx=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:s}=xe(Jl,void 0),p=fe(),m=fe(),u=ne(()=>({name:"eventListeners",enabled:!!e.visible})),i=ne(()=>{var v;const _=F(p),y=(v=F(m))!=null?v:Ux;return{name:"arrow",enabled:!s1(_),options:{element:_,padding:y}}}),d=ne(()=>({onFirstUpdate:()=>{c()},...Nx(e,[F(i),F(u)])})),f=ne(()=>$x(e.referenceEl)||F(r)),{attributes:o,state:l,styles:a,update:c,forceUpdate:g,instanceRef:h}=DS(f,n,d);return Ae(h,v=>t.value=v),Je(()=>{Ae(()=>{var v;return(v=F(f))==null?void 0:v.getBoundingClientRect()},()=>{c()})}),{attributes:o,arrowRef:p,contentRef:n,instanceRef:h,state:l,styles:a,role:s,forceUpdate:g,update:c}},Yx=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:s}=Gl(),p=st("popper"),m=ne(()=>F(t).popper),u=fe(e.zIndex||s()),i=ne(()=>[p.b(),p.is("pure",e.pure),p.is(e.effect),e.popperClass]),d=ne(()=>[{zIndex:F(u)},F(n).popper,e.popperStyle||{}]),f=ne(()=>r.value==="dialog"?"false":void 0),o=ne(()=>F(n).arrow||{});return{ariaModal:f,arrowStyle:o,contentAttrs:m,contentClass:i,contentStyle:d,contentZIndex:u,updateZIndex:()=>{u.value=e.zIndex||s()}}},Xx=(e,t)=>{const n=fe(!1),r=fe();return{focusStartRef:r,trapped:n,onFocusAfterReleased:d=>{var f;((f=d.detail)==null?void 0:f.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:d=>{e.visible&&!n.value&&(d.target&&(r.value=d.target),n.value=!0)},onFocusoutPrevented:d=>{e.trapping||(d.detail.focusReason==="pointer"&&d.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},Vx=Te({name:"ElPopperContent"}),Gx=Te({...Vx,props:yp,emits:jx,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:s,trapped:p,onFocusAfterReleased:m,onFocusAfterTrapped:u,onFocusInTrap:i,onFocusoutPrevented:d,onReleaseRequested:f}=Xx(r,n),{attributes:o,arrowRef:l,contentRef:a,styles:c,instanceRef:g,role:h,update:v}=Wx(r),{ariaModal:_,arrowStyle:y,contentAttrs:b,contentClass:w,contentStyle:C,updateZIndex:S}=Yx(r,{styles:c,attributes:o,role:h}),O=xe(Hs,void 0),j=fe();qe(fp,{arrowStyle:y,arrowRef:l,arrowOffset:j}),O&&(O.addInputId||O.removeInputId)&&qe(Hs,{...O,addInputId:wt,removeInputId:wt});let Y;const G=(ee=!0)=>{v(),ee&&S()},U=()=>{G(!1),r.visible&&r.focusOnShow?p.value=!0:r.visible===!1&&(p.value=!1)};return Je(()=>{Ae(()=>r.triggerTargetEl,(ee,oe)=>{Y==null||Y(),Y=void 0;const le=F(ee||a.value),ce=F(oe||a.value);jr(le)&&(Y=Ae([h,()=>r.ariaLabel,_,()=>r.id],X=>{["role","aria-label","aria-modal","id"].forEach((J,x)=>{Rl(X[x])?le.removeAttribute(J):le.setAttribute(J,X[x])})},{immediate:!0})),ce!==le&&jr(ce)&&["role","aria-label","aria-modal","id"].forEach(X=>{ce.removeAttribute(X)})},{immediate:!0}),Ae(()=>r.visible,U,{immediate:!0})}),Bt(()=>{Y==null||Y(),Y=void 0}),t({popperContentRef:a,popperInstanceRef:g,updatePopper:G,contentStyle:C}),(ee,oe)=>(re(),de("div",Lt({ref_key:"contentRef",ref:a},F(b),{style:F(C),class:F(w),tabindex:"-1",onMouseenter:oe[0]||(oe[0]=le=>ee.$emit("mouseenter",le)),onMouseleave:oe[1]||(oe[1]=le=>ee.$emit("mouseleave",le))}),[pe(F(Fx),{trapped:F(p),"trap-on-focus-in":!0,"focus-trap-el":F(a),"focus-start-el":F(s),onFocusAfterTrapped:F(u),onFocusAfterReleased:F(m),onFocusin:F(i),onFocusoutPrevented:F(d),onReleaseRequested:F(f)},{default:ve(()=>[Ee(ee.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var Kx=He(Gx,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const qx=mn(vx),ec=Symbol("elTooltip"),zt=We({...jS,...yp,appendTo:{type:Pe([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Pe(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),ji=We({...vp,disabled:Boolean,trigger:{type:Pe([String,Array]),default:"hover"},triggerKeys:{type:Pe(Array),default:()=>[Le.enter,Le.space]}}),{useModelToggleProps:Jx,useModelToggleEmits:Zx,useModelToggle:Qx}=Hd("visible"),eT=We({...hp,...Jx,...zt,...ji,...dp,showArrow:{type:Boolean,default:!0}}),tT=[...Zx,"before-show","before-hide","show","hide","open","close"],nT=(e,t)=>ye(e)?e.includes(t):e===t,Cr=(e,t,n)=>r=>{nT(F(e),t)&&n(r)},rT=Te({name:"ElTooltipTrigger"}),iT=Te({...rT,props:ji,setup(e,{expose:t}){const n=e,r=st("tooltip"),{controlled:s,id:p,open:m,onOpen:u,onClose:i,onToggle:d}=xe(ec,void 0),f=fe(null),o=()=>{if(F(s)||n.disabled)return!0},l=Ot(n,"trigger"),a=Qe(o,Cr(l,"hover",u)),c=Qe(o,Cr(l,"hover",i)),g=Qe(o,Cr(l,"click",b=>{b.button===0&&d(b)})),h=Qe(o,Cr(l,"focus",u)),v=Qe(o,Cr(l,"focus",i)),_=Qe(o,Cr(l,"contextmenu",b=>{b.preventDefault(),d(b)})),y=Qe(o,b=>{const{code:w}=b;n.triggerKeys.includes(w)&&(b.preventDefault(),d(b))});return t({triggerRef:f}),(b,w)=>(re(),ke(F(Sx),{id:F(p),"virtual-ref":b.virtualRef,open:F(m),"virtual-triggering":b.virtualTriggering,class:Ce(F(r).e("trigger")),onBlur:F(v),onClick:F(g),onContextmenu:F(_),onFocus:F(h),onMouseenter:F(a),onMouseleave:F(c),onKeydown:F(y)},{default:ve(()=>[Ee(b.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var sT=He(iT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const oT=Te({name:"ElTooltipContent",inheritAttrs:!1}),aT=Te({...oT,props:zt,setup(e,{expose:t}){const n=e,{selector:r}=np(),s=st("tooltip"),p=fe(null),m=fe(!1),{controlled:u,id:i,open:d,trigger:f,onClose:o,onOpen:l,onShow:a,onHide:c,onBeforeShow:g,onBeforeHide:h}=xe(ec,void 0),v=ne(()=>n.transition||`${s.namespace.value}-fade-in-linear`),_=ne(()=>n.persistent);Bt(()=>{m.value=!0});const y=ne(()=>F(_)?!0:F(d)),b=ne(()=>n.disabled?!1:F(d)),w=ne(()=>n.appendTo||r.value),C=ne(()=>{var X;return(X=n.style)!=null?X:{}}),S=ne(()=>!F(d)),O=()=>{c()},j=()=>{if(F(u))return!0},Y=Qe(j,()=>{n.enterable&&F(f)==="hover"&&l()}),G=Qe(j,()=>{F(f)==="hover"&&o()}),U=()=>{var X,J;(J=(X=p.value)==null?void 0:X.updatePopper)==null||J.call(X),g==null||g()},ee=()=>{h==null||h()},oe=()=>{a(),ce=aw(ne(()=>{var X;return(X=p.value)==null?void 0:X.popperContentRef}),()=>{if(F(u))return;F(f)!=="hover"&&o()})},le=()=>{n.virtualTriggering||o()};let ce;return Ae(()=>F(d),X=>{X||ce==null||ce()},{flush:"post"}),Ae(()=>n.content,()=>{var X,J;(J=(X=p.value)==null?void 0:X.updatePopper)==null||J.call(X)}),t({contentRef:p}),(X,J)=>(re(),ke(Cl,{disabled:!X.teleported,to:F(w)},[pe(vn,{name:F(v),onAfterLeave:O,onBeforeEnter:U,onAfterEnter:oe,onBeforeLeave:ee},{default:ve(()=>[F(y)?mt((re(),ke(F(Kx),Lt({key:0,id:F(i),ref_key:"contentRef",ref:p},X.$attrs,{"aria-label":X.ariaLabel,"aria-hidden":F(S),"boundaries-padding":X.boundariesPadding,"fallback-placements":X.fallbackPlacements,"gpu-acceleration":X.gpuAcceleration,offset:X.offset,placement:X.placement,"popper-options":X.popperOptions,strategy:X.strategy,effect:X.effect,enterable:X.enterable,pure:X.pure,"popper-class":X.popperClass,"popper-style":[X.popperStyle,F(C)],"reference-el":X.referenceEl,"trigger-target-el":X.triggerTargetEl,visible:F(b),"z-index":X.zIndex,onMouseenter:F(Y),onMouseleave:F(G),onBlur:le,onClose:F(o)}),{default:ve(()=>[m.value?De("v-if",!0):Ee(X.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Tt,F(b)]]):De("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var lT=He(aT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const cT=["innerHTML"],uT={key:1},fT=Te({name:"ElTooltip"}),hT=Te({...fT,props:eT,emits:tT,setup(e,{expose:t,emit:n}){const r=e;BS();const s=Vl(),p=fe(),m=fe(),u=()=>{var v;const _=F(p);_&&((v=_.popperInstanceRef)==null||v.update())},i=fe(!1),d=fe(),{show:f,hide:o,hasUpdateHandler:l}=Qx({indicator:i,toggleReason:d}),{onOpen:a,onClose:c}=NS({showAfter:Ot(r,"showAfter"),hideAfter:Ot(r,"hideAfter"),autoClose:Ot(r,"autoClose"),open:f,close:o}),g=ne(()=>Il(r.visible)&&!l.value);qe(ec,{controlled:g,id:s,open:Ui(i),trigger:Ot(r,"trigger"),onOpen:v=>{a(v)},onClose:v=>{c(v)},onToggle:v=>{F(i)?c(v):a(v)},onShow:()=>{n("show",d.value)},onHide:()=>{n("hide",d.value)},onBeforeShow:()=>{n("before-show",d.value)},onBeforeHide:()=>{n("before-hide",d.value)},updatePopper:u}),Ae(()=>r.disabled,v=>{v&&i.value&&(i.value=!1)});const h=v=>{var _,y;const b=(y=(_=m.value)==null?void 0:_.contentRef)==null?void 0:y.popperContentRef,w=(v==null?void 0:v.relatedTarget)||document.activeElement;return b&&b.contains(w)};return Mh(()=>i.value&&o()),t({popperRef:p,contentRef:m,isFocusInsideContent:h,updatePopper:u,onOpen:a,onClose:c,hide:o}),(v,_)=>(re(),ke(F(qx),{ref_key:"popperRef",ref:p,role:v.role},{default:ve(()=>[pe(sT,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:ve(()=>[v.$slots.default?Ee(v.$slots,"default",{key:0}):De("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),pe(lT,{ref_key:"contentRef",ref:m,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:ve(()=>[Ee(v.$slots,"content",{},()=>[v.rawContent?(re(),de("span",{key:0,innerHTML:v.content},null,8,cT)):(re(),de("span",uT,Ge(v.content),1))]),v.showArrow?(re(),ke(F(yx),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):De("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var dT=He(hT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const bp=mn(dT),pT=We({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),gT=["textContent"],vT=Te({name:"ElBadge"}),mT=Te({...vT,props:pT,setup(e,{expose:t}){const n=e,r=st("badge"),s=ne(()=>n.isDot?"":bt(n.value)&&bt(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`);return t({content:s}),(p,m)=>(re(),de("div",{class:Ce(F(r).b())},[Ee(p.$slots,"default"),pe(vn,{name:`${F(r).namespace.value}-zoom-in-center`,persisted:""},{default:ve(()=>[mt(te("sup",{class:Ce([F(r).e("content"),F(r).em("content",p.type),F(r).is("fixed",!!p.$slots.default),F(r).is("dot",p.isDot)]),textContent:Ge(F(s))},null,10,gT),[[Tt,!p.hidden&&(F(s)||p.isDot)]])]),_:1},8,["name"])],2))}});var _T=He(mT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const yT=mn(_T),wp=Symbol("buttonGroupContextKey"),bT=(e,t)=>{C1({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},ne(()=>e.type==="text"));const n=xe(wp,void 0),r=Kl("button"),{form:s}=JS(),p=lp(ne(()=>n==null?void 0:n.size)),m=cp(),u=fe(),i=sm(),d=ne(()=>e.type||(n==null?void 0:n.type)||""),f=ne(()=>{var c,g,h;return(h=(g=e.autoInsertSpace)!=null?g:(c=r.value)==null?void 0:c.autoInsertSpace)!=null?h:!1}),o=ne(()=>e.tag==="button"?{ariaDisabled:m.value||e.loading,disabled:m.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),l=ne(()=>{var c;const g=(c=i.default)==null?void 0:c.call(i);if(f.value&&(g==null?void 0:g.length)===1){const h=g[0];if((h==null?void 0:h.type)===Kr){const v=h.children;return/^\p{Unified_Ideograph}{2}$/u.test(v.trim())}}return!1});return{_disabled:m,_size:p,_type:d,_ref:u,_props:o,shouldAddSpace:l,handleClick:c=>{e.nativeType==="reset"&&(s==null||s.resetFields()),t("click",c)}}},wT=["default","primary","success","warning","info","danger","text",""],CT=["button","submit","reset"],ja=We({size:HS,disabled:Boolean,type:{type:String,values:wT,default:""},icon:{type:Ns},nativeType:{type:String,values:CT,default:"button"},loading:Boolean,loadingIcon:{type:Ns,default:()=>Zy},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Pe([String,Object]),default:"button"}}),ST={click:e=>e instanceof MouseEvent};function ft(e,t){xT(e)&&(e="100%");var n=TT(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function fs(e){return Math.min(1,Math.max(0,e))}function xT(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function TT(e){return typeof e=="string"&&e.indexOf("%")!==-1}function Cp(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function hs(e){return e<=1?"".concat(Number(e)*100,"%"):e}function sr(e){return e.length===1?"0"+e:String(e)}function OT(e,t,n){return{r:ft(e,255)*255,g:ft(t,255)*255,b:ft(n,255)*255}}function yf(e,t,n){e=ft(e,255),t=ft(t,255),n=ft(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),p=0,m=0,u=(r+s)/2;if(r===s)m=0,p=0;else{var i=r-s;switch(m=u>.5?i/(2-r-s):i/(r+s),r){case e:p=(t-n)/i+(t<n?6:0);break;case t:p=(n-e)/i+2;break;case n:p=(e-t)/i+4;break}p/=6}return{h:p,s:m,l:u}}function Qo(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ET(e,t,n){var r,s,p;if(e=ft(e,360),t=ft(t,100),n=ft(n,100),t===0)s=n,p=n,r=n;else{var m=n<.5?n*(1+t):n+t-n*t,u=2*n-m;r=Qo(u,m,e+1/3),s=Qo(u,m,e),p=Qo(u,m,e-1/3)}return{r:r*255,g:s*255,b:p*255}}function bf(e,t,n){e=ft(e,255),t=ft(t,255),n=ft(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),p=0,m=r,u=r-s,i=r===0?0:u/r;if(r===s)p=0;else{switch(r){case e:p=(t-n)/u+(t<n?6:0);break;case t:p=(n-e)/u+2;break;case n:p=(e-t)/u+4;break}p/=6}return{h:p,s:i,v:m}}function PT(e,t,n){e=ft(e,360)*6,t=ft(t,100),n=ft(n,100);var r=Math.floor(e),s=e-r,p=n*(1-t),m=n*(1-s*t),u=n*(1-(1-s)*t),i=r%6,d=[n,m,p,p,u,n][i],f=[u,n,n,m,p,p][i],o=[p,p,u,n,n,m][i];return{r:d*255,g:f*255,b:o*255}}function wf(e,t,n,r){var s=[sr(Math.round(e).toString(16)),sr(Math.round(t).toString(16)),sr(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function kT(e,t,n,r,s){var p=[sr(Math.round(e).toString(16)),sr(Math.round(t).toString(16)),sr(Math.round(n).toString(16)),sr(AT(r))];return s&&p[0].startsWith(p[0].charAt(1))&&p[1].startsWith(p[1].charAt(1))&&p[2].startsWith(p[2].charAt(1))&&p[3].startsWith(p[3].charAt(1))?p[0].charAt(0)+p[1].charAt(0)+p[2].charAt(0)+p[3].charAt(0):p.join("")}function AT(e){return Math.round(parseFloat(e)*255).toString(16)}function Cf(e){return Dt(e)/255}function Dt(e){return parseInt(e,16)}function MT(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Na={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function DT(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,p=null,m=!1,u=!1;return typeof e=="string"&&(e=FT(e)),typeof e=="object"&&(Sn(e.r)&&Sn(e.g)&&Sn(e.b)?(t=OT(e.r,e.g,e.b),m=!0,u=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Sn(e.h)&&Sn(e.s)&&Sn(e.v)?(r=hs(e.s),s=hs(e.v),t=PT(e.h,r,s),m=!0,u="hsv"):Sn(e.h)&&Sn(e.s)&&Sn(e.l)&&(r=hs(e.s),p=hs(e.l),t=ET(e.h,r,p),m=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Cp(n),{ok:m,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var RT="[-\\+]?\\d+%?",IT="[-\\+]?\\d*\\.\\d+%?",Un="(?:".concat(IT,")|(?:").concat(RT,")"),ea="[\\s|\\(]+(".concat(Un,")[,|\\s]+(").concat(Un,")[,|\\s]+(").concat(Un,")\\s*\\)?"),ta="[\\s|\\(]+(".concat(Un,")[,|\\s]+(").concat(Un,")[,|\\s]+(").concat(Un,")[,|\\s]+(").concat(Un,")\\s*\\)?"),qt={CSS_UNIT:new RegExp(Un),rgb:new RegExp("rgb"+ea),rgba:new RegExp("rgba"+ta),hsl:new RegExp("hsl"+ea),hsla:new RegExp("hsla"+ta),hsv:new RegExp("hsv"+ea),hsva:new RegExp("hsva"+ta),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function FT(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(Na[e])e=Na[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=qt.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=qt.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=qt.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=qt.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=qt.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=qt.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=qt.hex8.exec(e),n?{r:Dt(n[1]),g:Dt(n[2]),b:Dt(n[3]),a:Cf(n[4]),format:t?"name":"hex8"}:(n=qt.hex6.exec(e),n?{r:Dt(n[1]),g:Dt(n[2]),b:Dt(n[3]),format:t?"name":"hex"}:(n=qt.hex4.exec(e),n?{r:Dt(n[1]+n[1]),g:Dt(n[2]+n[2]),b:Dt(n[3]+n[3]),a:Cf(n[4]+n[4]),format:t?"name":"hex8"}:(n=qt.hex3.exec(e),n?{r:Dt(n[1]+n[1]),g:Dt(n[2]+n[2]),b:Dt(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Sn(e){return!!qt.CSS_UNIT.exec(String(e))}var LT=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=MT(t)),this.originalInput=t;var s=DT(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,s,p=t.r/255,m=t.g/255,u=t.b/255;return p<=.03928?n=p/12.92:n=Math.pow((p+.055)/1.055,2.4),m<=.03928?r=m/12.92:r=Math.pow((m+.055)/1.055,2.4),u<=.03928?s=u/12.92:s=Math.pow((u+.055)/1.055,2.4),.2126*n+.7152*r+.0722*s},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=Cp(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=bf(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=bf(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=yf(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=yf(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),wf(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),kT(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(ft(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(ft(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+wf(this.r,this.g,this.b,!1),n=0,r=Object.entries(Na);n<r.length;n++){var s=r[n],p=s[0],m=s[1];if(t===m)return p}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,s=this.a<1&&this.a>=0,p=!n&&s&&(t.startsWith("hex")||t==="name");return p?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=fs(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=fs(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=fs(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=fs(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),s=new e(t).toRgb(),p=n/100,m={r:(s.r-r.r)*p+r.r,g:(s.g-r.g)*p+r.g,b:(s.b-r.b)*p+r.b,a:(s.a-r.a)*p+r.a};return new e(m)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),s=360/n,p=[this];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,p.push(new e(r));return p},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,s=n.s,p=n.v,m=[],u=1/t;t--;)m.push(new e({h:r,s,v:p})),p=(p+u)%1;return m},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),s=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,s=[this],p=360/t,m=1;m<t;m++)s.push(new e({h:(r+m*p)%360,s:n.s,l:n.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Ln(e,t=20){return e.mix("#141414",t).toString()}function BT(e){const t=cp(),n=st("button");return ne(()=>{let r={};const s=e.color;if(s){const p=new LT(s),m=e.dark?p.tint(20).toString():Ln(p,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?Ln(p,90):p.tint(90).toString(),"text-color":s,"border-color":e.dark?Ln(p,50):p.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":m,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":m}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?Ln(p,90):p.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?Ln(p,50):p.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?Ln(p,80):p.tint(80).toString());else{const u=e.dark?Ln(p,30):p.tint(30).toString(),i=p.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":s,"text-color":i,"border-color":s,"hover-bg-color":u,"hover-text-color":i,"hover-border-color":u,"active-bg-color":m,"active-border-color":m}),t.value){const d=e.dark?Ln(p,50):p.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=d,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=d}}}return r})}const jT=Te({name:"ElButton"}),NT=Te({...jT,props:ja,emits:ST,setup(e,{expose:t,emit:n}){const r=e,s=BT(r),p=st("button"),{_ref:m,_size:u,_type:i,_disabled:d,_props:f,shouldAddSpace:o,handleClick:l}=bT(r,n);return t({ref:m,size:u,type:i,disabled:d,shouldAddSpace:o}),(a,c)=>(re(),ke(ar(a.tag),Lt({ref_key:"_ref",ref:m},F(f),{class:[F(p).b(),F(p).m(F(i)),F(p).m(F(u)),F(p).is("disabled",F(d)),F(p).is("loading",a.loading),F(p).is("plain",a.plain),F(p).is("round",a.round),F(p).is("circle",a.circle),F(p).is("text",a.text),F(p).is("link",a.link),F(p).is("has-bg",a.bg)],style:F(s),onClick:F(l)}),{default:ve(()=>[a.loading?(re(),de(Me,{key:0},[a.$slots.loading?Ee(a.$slots,"loading",{key:0}):(re(),ke(F(rt),{key:1,class:Ce(F(p).is("loading"))},{default:ve(()=>[(re(),ke(ar(a.loadingIcon)))]),_:1},8,["class"]))],64)):a.icon||a.$slots.icon?(re(),ke(F(rt),{key:1},{default:ve(()=>[a.icon?(re(),ke(ar(a.icon),{key:0})):Ee(a.$slots,"icon",{key:1})]),_:3})):De("v-if",!0),a.$slots.default?(re(),de("span",{key:2,class:Ce({[F(p).em("text","expand")]:F(o)})},[Ee(a.$slots,"default")],2)):De("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var $T=He(NT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const zT={size:ja.size,type:ja.type},HT=Te({name:"ElButtonGroup"}),UT=Te({...HT,props:zT,setup(e){const t=e;qe(wp,dr({size:Ot(t,"size"),type:Ot(t,"type")}));const n=st("button");return(r,s)=>(re(),de("div",{class:Ce(`${F(n).b("group")}`)},[Ee(r.$slots,"default")],2))}});var Sp=He(UT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const xp=mn($T,{ButtonGroup:Sp});Fl(Sp);function WT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}const YT=Te({inheritAttrs:!1});function XT(e,t,n,r,s,p){return Ee(e.$slots,"default")}var VT=He(YT,[["render",XT],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const GT=Te({name:"ElCollectionItem",inheritAttrs:!1});function KT(e,t,n,r,s,p){return Ee(e.$slots,"default")}var qT=He(GT,[["render",KT],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Tp="data-el-collection-item",Op=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),s=Symbol(n),p={...VT,name:t,setup(){const u=fe(null),i=new Map;qe(r,{itemMap:i,getItems:()=>{const f=F(u);if(!f)return[];const o=Array.from(f.querySelectorAll(`[${Tp}]`));return[...i.values()].sort((a,c)=>o.indexOf(a.ref)-o.indexOf(c.ref))},collectionRef:u})}},m={...qT,name:n,setup(u,{attrs:i}){const d=fe(null),f=xe(r,void 0);qe(s,{collectionItemRef:d}),Je(()=>{const o=F(d);o&&f.itemMap.set(o,{ref:o,...i})}),Bt(()=>{const o=F(d);f.itemMap.delete(o)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:p,ElCollectionItem:m}},JT=We({style:{type:Pe([String,Array,Object])},currentTabId:{type:Pe(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Pe(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:ZT,ElCollectionItem:QT,COLLECTION_INJECTION_KEY:tc,COLLECTION_ITEM_INJECTION_KEY:e2}=Op("RovingFocusGroup"),nc=Symbol("elRovingFocusGroup"),Ep=Symbol("elRovingFocusGroupItem"),t2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},n2=(e,t)=>{if(t!=="rtl")return e;switch(e){case Le.right:return Le.left;case Le.left:return Le.right;default:return e}},r2=(e,t,n)=>{const r=n2(e.key,n);if(!(t==="vertical"&&[Le.left,Le.right].includes(r))&&!(t==="horizontal"&&[Le.up,Le.down].includes(r)))return t2[r]},i2=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),rc=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},Sf="currentTabIdChange",xf="rovingFocusGroup.entryFocus",s2={bubbles:!1,cancelable:!0},o2=Te({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:JT,emits:[Sf,"entryFocus"],setup(e,{emit:t}){var n;const r=fe((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),s=fe(!1),p=fe(!1),m=fe(null),{getItems:u}=xe(tc,void 0),i=ne(()=>[{outline:"none"},e.style]),d=g=>{t(Sf,g)},f=()=>{s.value=!0},o=Qe(g=>{var h;(h=e.onMousedown)==null||h.call(e,g)},()=>{p.value=!0}),l=Qe(g=>{var h;(h=e.onFocus)==null||h.call(e,g)},g=>{const h=!F(p),{target:v,currentTarget:_}=g;if(v===_&&h&&!F(s)){const y=new Event(xf,s2);if(_==null||_.dispatchEvent(y),!y.defaultPrevented){const b=u().filter(j=>j.focusable),w=b.find(j=>j.active),C=b.find(j=>j.id===F(r)),O=[w,C,...b].filter(Boolean).map(j=>j.ref);rc(O)}}p.value=!1}),a=Qe(g=>{var h;(h=e.onBlur)==null||h.call(e,g)},()=>{s.value=!1}),c=(...g)=>{t("entryFocus",...g)};qe(nc,{currentTabbedId:Ui(r),loop:Ot(e,"loop"),tabIndex:ne(()=>F(s)?-1:0),rovingFocusGroupRef:m,rovingFocusGroupRootStyle:i,orientation:Ot(e,"orientation"),dir:Ot(e,"dir"),onItemFocus:d,onItemShiftTab:f,onBlur:a,onFocus:l,onMousedown:o}),Ae(()=>e.currentTabId,g=>{r.value=g??null}),Et(m,xf,c)}});function a2(e,t,n,r,s,p){return Ee(e.$slots,"default")}var l2=He(o2,[["render",a2],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const c2=Te({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:ZT,ElRovingFocusGroupImpl:l2}});function u2(e,t,n,r,s,p){const m=ze("el-roving-focus-group-impl"),u=ze("el-focus-group-collection");return re(),ke(u,null,{default:ve(()=>[pe(m,Vg(qh(e.$attrs)),{default:ve(()=>[Ee(e.$slots,"default")]),_:3},16)]),_:3})}var f2=He(c2,[["render",u2],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const h2=Te({components:{ElRovingFocusCollectionItem:QT},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:s,onItemShiftTab:p}=xe(nc,void 0),{getItems:m}=xe(tc,void 0),u=Vl(),i=fe(null),d=Qe(a=>{t("mousedown",a)},a=>{e.focusable?s(F(u)):a.preventDefault()}),f=Qe(a=>{t("focus",a)},()=>{s(F(u))}),o=Qe(a=>{t("keydown",a)},a=>{const{key:c,shiftKey:g,target:h,currentTarget:v}=a;if(c===Le.tab&&g){p();return}if(h!==v)return;const _=r2(a);if(_){a.preventDefault();let b=m().filter(w=>w.focusable).map(w=>w.ref);switch(_){case"last":{b.reverse();break}case"prev":case"next":{_==="prev"&&b.reverse();const w=b.indexOf(v);b=r.value?i2(b,w+1):b.slice(w+1);break}}Xt(()=>{rc(b)})}}),l=ne(()=>n.value===F(u));return qe(Ep,{rovingFocusGroupItemRef:i,tabIndex:ne(()=>F(l)?0:-1),handleMousedown:d,handleFocus:f,handleKeydown:o}),{id:u,handleKeydown:o,handleFocus:f,handleMousedown:d}}});function d2(e,t,n,r,s,p){const m=ze("el-roving-focus-collection-item");return re(),ke(m,{id:e.id,focusable:e.focusable,active:e.active},{default:ve(()=>[Ee(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var p2=He(h2,[["render",d2],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const xs=We({trigger:ji.trigger,effect:{...zt.effect,default:"light"},type:{type:Pe(String)},placement:{type:Pe(String),default:"bottom"},popperOptions:{type:Pe(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Pe([Number,String]),default:0},maxHeight:{type:Pe([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:Pe(Object)},teleported:zt.teleported}),Pp=We({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Ns}}),g2=We({onKeydown:{type:Pe(Function)}}),v2=[Le.down,Le.pageDown,Le.home],kp=[Le.up,Le.pageUp,Le.end],m2=[...v2,...kp],{ElCollection:_2,ElCollectionItem:y2,COLLECTION_INJECTION_KEY:b2,COLLECTION_ITEM_INJECTION_KEY:w2}=Op("Dropdown"),So=Symbol("elDropdown"),{ButtonGroup:C2}=xp,S2=Te({name:"ElDropdown",components:{ElButton:xp,ElButtonGroup:C2,ElScrollbar:hx,ElDropdownCollection:_2,ElTooltip:bp,ElRovingFocusGroup:f2,ElOnlyChild:pp,ElIcon:rt,ArrowDown:Od},props:xs,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=jt(),r=st("dropdown"),{t:s}=bo(),p=fe(),m=fe(),u=fe(null),i=fe(null),d=fe(null),f=fe(null),o=fe(!1),l=[Le.enter,Le.space,Le.down],a=ne(()=>({maxHeight:Fi(e.maxHeight)})),c=ne(()=>[r.m(w.value)]),g=ne(()=>QC(e.trigger)),h=Vl().value,v=ne(()=>e.id||h);Ae([p,g],([X,J],[x])=>{var D,R,I;(D=x==null?void 0:x.$el)!=null&&D.removeEventListener&&x.$el.removeEventListener("pointerenter",S),(R=X==null?void 0:X.$el)!=null&&R.removeEventListener&&X.$el.removeEventListener("pointerenter",S),(I=X==null?void 0:X.$el)!=null&&I.addEventListener&&J.includes("hover")&&X.$el.addEventListener("pointerenter",S)},{immediate:!0}),Bt(()=>{var X,J;(J=(X=p.value)==null?void 0:X.$el)!=null&&J.removeEventListener&&p.value.$el.removeEventListener("pointerenter",S)});function _(){y()}function y(){var X;(X=u.value)==null||X.onClose()}function b(){var X;(X=u.value)==null||X.onOpen()}const w=lp();function C(...X){t("command",...X)}function S(){var X,J;(J=(X=p.value)==null?void 0:X.$el)==null||J.focus()}function O(){}function j(){const X=F(i);g.value.includes("hover")&&(X==null||X.focus()),f.value=null}function Y(X){f.value=X}function G(X){o.value||(X.preventDefault(),X.stopImmediatePropagation())}function U(){t("visible-change",!0)}function ee(X){(X==null?void 0:X.type)==="keydown"&&i.value.focus()}function oe(){t("visible-change",!1)}return qe(So,{contentRef:i,role:ne(()=>e.role),triggerId:v,isUsingKeyboard:o,onItemEnter:O,onItemLeave:j}),qe("elDropdown",{instance:n,dropdownSize:w,handleClick:_,commandHandler:C,trigger:Ot(e,"trigger"),hideOnClick:Ot(e,"hideOnClick")}),{t:s,ns:r,scrollbar:d,wrapStyle:a,dropdownTriggerKls:c,dropdownSize:w,triggerId:v,triggerKeys:l,currentTabId:f,handleCurrentTabIdChange:Y,handlerMainButtonClick:X=>{t("click",X)},handleEntryFocus:G,handleClose:y,handleOpen:b,handleBeforeShowTooltip:U,handleShowTooltip:ee,handleBeforeHideTooltip:oe,onFocusAfterTrapped:X=>{var J,x;X.preventDefault(),(x=(J=i.value)==null?void 0:J.focus)==null||x.call(J,{preventScroll:!0})},popperRef:u,contentRef:i,triggeringElementRef:p,referenceElementRef:m}}});function x2(e,t,n,r,s,p){var m;const u=ze("el-dropdown-collection"),i=ze("el-roving-focus-group"),d=ze("el-scrollbar"),f=ze("el-only-child"),o=ze("el-tooltip"),l=ze("el-button"),a=ze("arrow-down"),c=ze("el-icon"),g=ze("el-button-group");return re(),de("div",{class:Ce([e.ns.b(),e.ns.is("disabled",e.disabled)])},[pe(o,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(m=e.referenceElementRef)==null?void 0:m.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},rm({content:ve(()=>[pe(d,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:ve(()=>[pe(i,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:ve(()=>[pe(u,null,{default:ve(()=>[Ee(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:ve(()=>[pe(f,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:ve(()=>[Ee(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(re(),ke(g,{key:0},{default:ve(()=>[pe(l,Lt({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:ve(()=>[Ee(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),pe(l,Lt({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:ve(()=>[pe(c,{class:Ce(e.ns.e("icon"))},{default:ve(()=>[pe(a)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):De("v-if",!0)],2)}var T2=He(S2,[["render",x2],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const O2=Te({name:"DropdownItemImpl",components:{ElIcon:rt},props:Pp,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=st("dropdown"),{role:r}=xe(So,void 0),{collectionItemRef:s}=xe(w2,void 0),{collectionItemRef:p}=xe(e2,void 0),{rovingFocusGroupItemRef:m,tabIndex:u,handleFocus:i,handleKeydown:d,handleMousedown:f}=xe(Ep,void 0),o=Nd(s,p,m),l=ne(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),a=Qe(c=>{const{code:g}=c;if(g===Le.enter||g===Le.space)return c.preventDefault(),c.stopImmediatePropagation(),t("clickimpl",c),!0},d);return{ns:n,itemRef:o,dataset:{[Tp]:""},role:l,tabIndex:u,handleFocus:i,handleKeydown:a,handleMousedown:f}}}),E2=["aria-disabled","tabindex","role"];function P2(e,t,n,r,s,p){const m=ze("el-icon");return re(),de(Me,null,[e.divided?(re(),de("li",Lt({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):De("v-if",!0),te("li",Lt({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=u=>e.$emit("clickimpl",u)),onFocus:t[1]||(t[1]=(...u)=>e.handleFocus&&e.handleFocus(...u)),onKeydown:t[2]||(t[2]=ur((...u)=>e.handleKeydown&&e.handleKeydown(...u),["self"])),onMousedown:t[3]||(t[3]=(...u)=>e.handleMousedown&&e.handleMousedown(...u)),onPointermove:t[4]||(t[4]=u=>e.$emit("pointermove",u)),onPointerleave:t[5]||(t[5]=u=>e.$emit("pointerleave",u))}),[e.icon?(re(),ke(m,{key:0},{default:ve(()=>[(re(),ke(ar(e.icon)))]),_:1})):De("v-if",!0),Ee(e.$slots,"default")],16,E2)],64)}var k2=He(O2,[["render",P2],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const Ap=()=>{const e=xe("elDropdown",{}),t=ne(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},A2=Te({name:"ElDropdownItem",components:{ElDropdownCollectionItem:y2,ElRovingFocusItem:p2,ElDropdownItemImpl:k2},inheritAttrs:!1,props:Pp,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=Ap(),s=jt(),p=fe(null),m=ne(()=>{var a,c;return(c=(a=F(p))==null?void 0:a.textContent)!=null?c:""}),{onItemEnter:u,onItemLeave:i}=xe(So,void 0),d=Qe(a=>(t("pointermove",a),a.defaultPrevented),Du(a=>{if(e.disabled){i(a);return}const c=a.currentTarget;c===document.activeElement||c.contains(document.activeElement)||(u(a),a.defaultPrevented||c==null||c.focus())})),f=Qe(a=>(t("pointerleave",a),a.defaultPrevented),Du(a=>{i(a)})),o=Qe(a=>{if(!e.disabled)return t("click",a),a.type!=="keydown"&&a.defaultPrevented},a=>{var c,g,h;if(e.disabled){a.stopImmediatePropagation();return}(c=r==null?void 0:r.hideOnClick)!=null&&c.value&&((g=r.handleClick)==null||g.call(r)),(h=r.commandHandler)==null||h.call(r,e.command,s,a)}),l=ne(()=>({...e,...n}));return{handleClick:o,handlePointerMove:d,handlePointerLeave:f,textContent:m,propsAndAttrs:l}}});function M2(e,t,n,r,s,p){var m;const u=ze("el-dropdown-item-impl"),i=ze("el-roving-focus-item"),d=ze("el-dropdown-collection-item");return re(),ke(d,{disabled:e.disabled,"text-value":(m=e.textValue)!=null?m:e.textContent},{default:ve(()=>[pe(i,{focusable:!e.disabled},{default:ve(()=>[pe(u,Lt(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:ve(()=>[Ee(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Mp=He(A2,[["render",M2],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const D2=Te({name:"ElDropdownMenu",props:g2,setup(e){const t=st("dropdown"),{_elDropdownSize:n}=Ap(),r=n.value,{focusTrapRef:s,onKeydown:p}=xe(mp,void 0),{contentRef:m,role:u,triggerId:i}=xe(So,void 0),{collectionRef:d,getItems:f}=xe(b2,void 0),{rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,tabIndex:a,onBlur:c,onFocus:g,onMousedown:h}=xe(nc,void 0),{collectionRef:v}=xe(tc,void 0),_=ne(()=>[t.b("menu"),t.bm("menu",r==null?void 0:r.value)]),y=Nd(m,d,s,o,v),b=Qe(C=>{var S;(S=e.onKeydown)==null||S.call(e,C)},C=>{const{currentTarget:S,code:O,target:j}=C;if(S.contains(j),Le.tab===O&&C.stopImmediatePropagation(),C.preventDefault(),j!==F(m)||!m2.includes(O))return;const G=f().filter(U=>!U.disabled).map(U=>U.ref);kp.includes(O)&&G.reverse(),rc(G)});return{size:r,rovingFocusGroupRootStyle:l,tabIndex:a,dropdownKls:_,role:u,triggerId:i,dropdownListWrapperRef:y,handleKeydown:C=>{b(C),p(C)},onBlur:c,onFocus:g,onMousedown:h}}}),R2=["role","aria-labelledby"];function I2(e,t,n,r,s,p){return re(),de("ul",{ref:e.dropdownListWrapperRef,class:Ce(e.dropdownKls),style:Xe(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...m)=>e.onBlur&&e.onBlur(...m)),onFocus:t[1]||(t[1]=(...m)=>e.onFocus&&e.onFocus(...m)),onKeydown:t[2]||(t[2]=ur((...m)=>e.handleKeydown&&e.handleKeydown(...m),["self"])),onMousedown:t[3]||(t[3]=ur((...m)=>e.onMousedown&&e.onMousedown(...m),["self"]))},[Ee(e.$slots,"default")],46,R2)}var Dp=He(D2,[["render",I2],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const F2=mn(T2,{DropdownItem:Mp,DropdownMenu:Dp}),L2=Fl(Mp),B2=Fl(Dp),j2=We({urlList:{type:Pe(Array),default:()=>Ll([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),N2={close:()=>!0,switch:e=>bt(e),rotate:e=>bt(e)},$2=["src"],z2=Te({name:"ElImageViewer"}),H2=Te({...z2,props:j2,emits:N2,setup(e,{expose:t,emit:n}){const r=e,s={CONTAIN:{name:"contain",icon:Ms(zy)},ORIGINAL:{name:"original",icon:Ms(vb)}},{t:p}=bo(),m=st("image-viewer"),{nextZIndex:u}=Gl(),i=fe(),d=fe([]),f=ih(),o=fe(!0),l=fe(r.initialIndex),a=Pi(s.CONTAIN),c=fe({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=ne(()=>{const{urlList:x}=r;return x.length<=1}),h=ne(()=>l.value===0),v=ne(()=>l.value===r.urlList.length-1),_=ne(()=>r.urlList[l.value]),y=ne(()=>[m.e("btn"),m.e("prev"),m.is("disabled",!r.infinite&&h.value)]),b=ne(()=>[m.e("btn"),m.e("next"),m.is("disabled",!r.infinite&&v.value)]),w=ne(()=>{const{scale:x,deg:D,offsetX:R,offsetY:I,enableTransition:Z}=c.value;let M=R/x,E=I/x;switch(D%360){case 90:case-270:[M,E]=[E,-M];break;case 180:case-180:[M,E]=[-M,-E];break;case 270:case-90:[M,E]=[-E,M];break}const H={transform:`scale(${x}) rotate(${D}deg) translate(${M}px, ${E}px)`,transition:Z?"transform .3s":""};return a.value.name===s.CONTAIN.name&&(H.maxWidth=H.maxHeight="100%"),H}),C=ne(()=>bt(r.zIndex)?r.zIndex:u());function S(){j(),n("close")}function O(){const x=ws(R=>{switch(R.code){case Le.esc:r.closeOnPressEscape&&S();break;case Le.space:oe();break;case Le.left:ce();break;case Le.up:J("zoomIn");break;case Le.right:X();break;case Le.down:J("zoomOut");break}}),D=ws(R=>{const I=R.deltaY||R.deltaX;J(I<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});f.run(()=>{Et(document,"keydown",x),Et(document,"wheel",D)})}function j(){f.stop()}function Y(){o.value=!1}function G(x){o.value=!1,x.target.alt=p("el.image.error")}function U(x){if(o.value||x.button!==0||!i.value)return;c.value.enableTransition=!1;const{offsetX:D,offsetY:R}=c.value,I=x.pageX,Z=x.pageY,M=ws(H=>{c.value={...c.value,offsetX:D+H.pageX-I,offsetY:R+H.pageY-Z}}),E=Et(document,"mousemove",M);Et(document,"mouseup",()=>{E()}),x.preventDefault()}function ee(){c.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function oe(){if(o.value)return;const x=La(s),D=Object.values(s),R=a.value.name,Z=(D.findIndex(M=>M.name===R)+1)%x.length;a.value=s[x[Z]],ee()}function le(x){const D=r.urlList.length;l.value=(x+D)%D}function ce(){h.value&&!r.infinite||le(l.value-1)}function X(){v.value&&!r.infinite||le(l.value+1)}function J(x,D={}){if(o.value)return;const{zoomRate:R,rotateDeg:I,enableTransition:Z}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...D};switch(x){case"zoomOut":c.value.scale>.2&&(c.value.scale=Number.parseFloat((c.value.scale/R).toFixed(3)));break;case"zoomIn":c.value.scale<7&&(c.value.scale=Number.parseFloat((c.value.scale*R).toFixed(3)));break;case"clockwise":c.value.deg+=I,n("rotate",c.value.deg);break;case"anticlockwise":c.value.deg-=I,n("rotate",c.value.deg);break}c.value.enableTransition=Z}return Ae(_,()=>{Xt(()=>{const x=d.value[0];x!=null&&x.complete||(o.value=!0)})}),Ae(l,x=>{ee(),n("switch",x)}),Je(()=>{var x,D;O(),(D=(x=i.value)==null?void 0:x.focus)==null||D.call(x)}),t({setActiveItem:le}),(x,D)=>(re(),ke(Cl,{to:"body",disabled:!x.teleported},[pe(vn,{name:"viewer-fade",appear:""},{default:ve(()=>[te("div",{ref_key:"wrapper",ref:i,tabindex:-1,class:Ce(F(m).e("wrapper")),style:Xe({zIndex:F(C)})},[te("div",{class:Ce(F(m).e("mask")),onClick:D[0]||(D[0]=ur(R=>x.hideOnClickModal&&S(),["self"]))},null,2),De(" CLOSE "),te("span",{class:Ce([F(m).e("btn"),F(m).e("close")]),onClick:S},[pe(F(rt),null,{default:ve(()=>[pe(F(kd))]),_:1})],2),De(" ARROW "),F(g)?De("v-if",!0):(re(),de(Me,{key:0},[te("span",{class:Ce(F(y)),onClick:ce},[pe(F(rt),null,{default:ve(()=>[pe(F(Ed))]),_:1})],2),te("span",{class:Ce(F(b)),onClick:X},[pe(F(rt),null,{default:ve(()=>[pe(F(yy))]),_:1})],2)],64)),De(" ACTIONS "),te("div",{class:Ce([F(m).e("btn"),F(m).e("actions")])},[te("div",{class:Ce(F(m).e("actions__inner"))},[pe(F(rt),{onClick:D[1]||(D[1]=R=>J("zoomOut"))},{default:ve(()=>[pe(F(Ub))]),_:1}),pe(F(rt),{onClick:D[2]||(D[2]=R=>J("zoomIn"))},{default:ve(()=>[pe(F(Bb))]),_:1}),te("i",{class:Ce(F(m).e("actions__divider"))},null,2),pe(F(rt),{onClick:oe},{default:ve(()=>[(re(),ke(ar(F(a).icon)))]),_:1}),te("i",{class:Ce(F(m).e("actions__divider"))},null,2),pe(F(rt),{onClick:D[3]||(D[3]=R=>J("anticlockwise"))},{default:ve(()=>[pe(F(ib))]),_:1}),pe(F(rt),{onClick:D[4]||(D[4]=R=>J("clockwise"))},{default:ve(()=>[pe(F(ub))]),_:1})],2)],2),De(" CANVAS "),te("div",{class:Ce(F(m).e("canvas"))},[(re(!0),de(Me,null,gt(x.urlList,(R,I)=>mt((re(),de("img",{ref_for:!0,ref:Z=>d.value[I]=Z,key:R,src:R,style:Xe(F(w)),class:Ce(F(m).e("img")),onLoad:Y,onError:G,onMousedown:U},null,46,$2)),[[Tt,I===l.value]])),128))],2),Ee(x.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var U2=He(H2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const W2=mn(U2),Y2=We({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Pe([String,Object])},previewSrcList:{type:Pe(Array),default:()=>Ll([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),X2={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>bt(e),close:()=>!0,show:()=>!0},V2=["src","loading"],G2={key:0},K2=Te({name:"ElImage",inheritAttrs:!1}),q2=Te({...K2,props:Y2,emits:X2,setup(e,{emit:t}){const n=e;let r="";const{t:s}=bo(),p=st("image"),m=jh(),u=w1(),i=fe(),d=fe(!1),f=fe(!0),o=fe(!1),l=fe(),a=fe(),c=Ve&&"loading"in HTMLImageElement.prototype;let g,h;const v=ne(()=>[p.e("inner"),b.value&&p.e("preview"),f.value&&p.is("loading")]),_=ne(()=>m.style),y=ne(()=>{const{fit:J}=n;return Ve&&J?{objectFit:J}:{}}),b=ne(()=>{const{previewSrcList:J}=n;return Array.isArray(J)&&J.length>0}),w=ne(()=>{const{previewSrcList:J,initialIndex:x}=n;let D=x;return x>J.length-1&&(D=0),D}),C=ne(()=>n.loading==="eager"?!1:!c&&n.loading==="lazy"||n.lazy),S=()=>{Ve&&(f.value=!0,d.value=!1,i.value=n.src)};function O(J){f.value=!1,d.value=!1,t("load",J)}function j(J){f.value=!1,d.value=!0,t("error",J)}function Y(){mw(l.value,a.value)&&(S(),ee())}const G=iw(Y,200,!0);async function U(){var J;if(!Ve)return;await Xt();const{scrollContainer:x}=n;jr(x)?a.value=x:Ne(x)&&x!==""?a.value=(J=document.querySelector(x))!=null?J:void 0:l.value&&(a.value=d1(l.value)),a.value&&(g=Et(a,"scroll",G),setTimeout(()=>Y(),100))}function ee(){!Ve||!a.value||!G||(g==null||g(),a.value=void 0)}function oe(J){if(J.ctrlKey){if(J.deltaY<0)return J.preventDefault(),!1;if(J.deltaY>0)return J.preventDefault(),!1}}function le(){b.value&&(h=Et("wheel",oe,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",o.value=!0,t("show"))}function ce(){h==null||h(),document.body.style.overflow=r,o.value=!1,t("close")}function X(J){t("switch",J)}return Ae(()=>n.src,()=>{C.value?(f.value=!0,d.value=!1,ee(),U()):S()}),Je(()=>{C.value?U():S()}),(J,x)=>(re(),de("div",{ref_key:"container",ref:l,class:Ce([F(p).b(),J.$attrs.class]),style:Xe(F(_))},[d.value?Ee(J.$slots,"error",{key:0},()=>[te("div",{class:Ce(F(p).e("error"))},Ge(F(s)("el.image.error")),3)]):(re(),de(Me,{key:1},[i.value!==void 0?(re(),de("img",Lt({key:0},F(u),{src:i.value,loading:J.loading,style:F(y),class:F(v),onClick:le,onLoad:O,onError:j}),null,16,V2)):De("v-if",!0),f.value?(re(),de("div",{key:1,class:Ce(F(p).e("wrapper"))},[Ee(J.$slots,"placeholder",{},()=>[te("div",{class:Ce(F(p).e("placeholder"))},null,2)])],2)):De("v-if",!0)],64)),F(b)?(re(),de(Me,{key:2},[o.value?(re(),ke(F(W2),{key:0,"z-index":J.zIndex,"initial-index":F(w),infinite:J.infinite,"zoom-rate":J.zoomRate,"url-list":J.previewSrcList,"hide-on-click-modal":J.hideOnClickModal,teleported:J.previewTeleported,"close-on-press-escape":J.closeOnPressEscape,onClose:ce,onSwitch:X},{default:ve(()=>[J.$slots.viewer?(re(),de("div",G2,[Ee(J.$slots,"viewer")])):De("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):De("v-if",!0)],64)):De("v-if",!0)],6))}});var J2=He(q2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const li=mn(J2),Z2=We({trigger:ji.trigger,placement:xs.placement,disabled:ji.disabled,visible:zt.visible,transition:zt.transition,popperOptions:xs.popperOptions,tabindex:xs.tabindex,content:zt.content,popperStyle:zt.popperStyle,popperClass:zt.popperClass,enterable:{...zt.enterable,default:!0},effect:{...zt.effect,default:"light"},teleported:zt.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Q2={"update:visible":e=>Il(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},eO="onUpdate:visible",tO=Te({name:"ElPopover"}),nO=Te({...tO,props:Z2,emits:Q2,setup(e,{expose:t,emit:n}){const r=e,s=ne(()=>r[eO]),p=st("popover"),m=fe(),u=ne(()=>{var h;return(h=F(m))==null?void 0:h.popperRef}),i=ne(()=>[{width:Fi(r.width)},r.popperStyle]),d=ne(()=>[p.b(),r.popperClass,{[p.m("plain")]:!!r.content}]),f=ne(()=>r.transition===`${p.namespace.value}-fade-in-linear`),o=()=>{var h;(h=m.value)==null||h.hide()},l=()=>{n("before-enter")},a=()=>{n("before-leave")},c=()=>{n("after-enter")},g=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:u,hide:o}),(h,v)=>(re(),ke(F(bp),Lt({ref_key:"tooltipRef",ref:m},h.$attrs,{trigger:h.trigger,placement:h.placement,disabled:h.disabled,visible:h.visible,transition:h.transition,"popper-options":h.popperOptions,tabindex:h.tabindex,content:h.content,offset:h.offset,"show-after":h.showAfter,"hide-after":h.hideAfter,"auto-close":h.autoClose,"show-arrow":h.showArrow,"aria-label":h.title,effect:h.effect,enterable:h.enterable,"popper-class":F(d),"popper-style":F(i),teleported:h.teleported,persistent:h.persistent,"gpu-acceleration":F(f),"onUpdate:visible":F(s),onBeforeShow:l,onBeforeHide:a,onShow:c,onHide:g}),{content:ve(()=>[h.title?(re(),de("div",{key:0,class:Ce(F(p).e("title")),role:"title"},Ge(h.title),3)):De("v-if",!0),Ee(h.$slots,"default",{},()=>[Yi(Ge(h.content),1)])]),default:ve(()=>[h.$slots.reference?Ee(h.$slots,"reference",{key:0}):De("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var rO=He(nO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const Tf=(e,t)=>{const n=t.arg||t.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=e)};var iO={mounted(e,t){Tf(e,t)},updated(e,t){Tf(e,t)}};const sO="popover",oO=m1(iO,sO),aO=mn(rO,{directive:oO}),Rp=["success","info","warning","error"],St=Ll({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Ve?document.body:void 0}),lO=We({customClass:{type:String,default:St.customClass},center:{type:Boolean,default:St.center},dangerouslyUseHTMLString:{type:Boolean,default:St.dangerouslyUseHTMLString},duration:{type:Number,default:St.duration},icon:{type:Ns,default:St.icon},id:{type:String,default:St.id},message:{type:Pe([String,Object,Function]),default:St.message},onClose:{type:Pe(Function),required:!1},showClose:{type:Boolean,default:St.showClose},type:{type:String,values:Rp,default:St.type},offset:{type:Number,default:St.offset},zIndex:{type:Number,default:St.zIndex},grouping:{type:Boolean,default:St.grouping},repeatNum:{type:Number,default:St.repeatNum}}),cO={destroy:()=>!0},Qt=dl([]),uO=e=>{const t=Qt.findIndex(s=>s.id===e),n=Qt[t];let r;return t>0&&(r=Qt[t-1]),{current:n,prev:r}},fO=e=>{const{prev:t}=uO(e);return t?t.vm.exposed.bottom.value:0},hO=(e,t)=>Qt.findIndex(r=>r.id===e)>0?20:t,dO=["id"],pO=["innerHTML"],gO=Te({name:"ElMessage"}),vO=Te({...gO,props:lO,emits:cO,setup(e,{expose:t}){const n=e,{Close:r}=g1,{ns:s,zIndex:p}=WS("message"),{currentZIndex:m,nextZIndex:u}=p,i=fe(),d=fe(!1),f=fe(0);let o;const l=ne(()=>n.type?n.type==="error"?"danger":n.type:"info"),a=ne(()=>{const S=n.type;return{[s.bm("icon",S)]:S&&Vu[S]}}),c=ne(()=>n.icon||Vu[n.type]||""),g=ne(()=>fO(n.id)),h=ne(()=>hO(n.id,n.offset)+g.value),v=ne(()=>f.value+h.value),_=ne(()=>({top:`${h.value}px`,zIndex:m.value}));function y(){n.duration!==0&&({stop:o}=ow(()=>{w()},n.duration))}function b(){o==null||o()}function w(){d.value=!1}function C({code:S}){S===Le.esc&&w()}return Je(()=>{y(),u(),d.value=!0}),Ae(()=>n.repeatNum,()=>{b(),y()}),Et(document,"keydown",C),Rd(i,()=>{f.value=i.value.getBoundingClientRect().height}),t({visible:d,bottom:v,close:w}),(S,O)=>(re(),ke(vn,{name:F(s).b("fade"),onBeforeLeave:S.onClose,onAfterLeave:O[0]||(O[0]=j=>S.$emit("destroy")),persisted:""},{default:ve(()=>[mt(te("div",{id:S.id,ref_key:"messageRef",ref:i,class:Ce([F(s).b(),{[F(s).m(S.type)]:S.type&&!S.icon},F(s).is("center",S.center),F(s).is("closable",S.showClose),S.customClass]),style:Xe(F(_)),role:"alert",onMouseenter:b,onMouseleave:y},[S.repeatNum>1?(re(),ke(F(yT),{key:0,value:S.repeatNum,type:F(l),class:Ce(F(s).e("badge"))},null,8,["value","type","class"])):De("v-if",!0),F(c)?(re(),ke(F(rt),{key:1,class:Ce([F(s).e("icon"),F(a)])},{default:ve(()=>[(re(),ke(ar(F(c))))]),_:1},8,["class"])):De("v-if",!0),Ee(S.$slots,"default",{},()=>[S.dangerouslyUseHTMLString?(re(),de(Me,{key:1},[De(" Caution here, message could've been compromised, never use user's input as message "),te("p",{class:Ce(F(s).e("content")),innerHTML:S.message},null,10,pO)],2112)):(re(),de("p",{key:0,class:Ce(F(s).e("content"))},Ge(S.message),3))]),S.showClose?(re(),ke(F(rt),{key:2,class:Ce(F(s).e("closeBtn")),onClick:ur(w,["stop"])},{default:ve(()=>[pe(F(r))]),_:1},8,["class","onClick"])):De("v-if",!0)],46,dO),[[Tt,d.value]])]),_:3},8,["name","onBeforeLeave"]))}});var mO=He(vO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let _O=1;const Ip=e=>{const t=!e||Ne(e)||Dr(e)||Se(e)?{message:e}:e,n={...St,...t};if(!n.appendTo)n.appendTo=document.body;else if(Ne(n.appendTo)){let r=document.querySelector(n.appendTo);jr(r)||(r=document.body),n.appendTo=r}return n},yO=e=>{const t=Qt.indexOf(e);if(t===-1)return;Qt.splice(t,1);const{handler:n}=e;n.close()},bO=({appendTo:e,...t},n)=>{const r=`message_${_O++}`,s=t.onClose,p=document.createElement("div"),m={...t,id:r,onClose:()=>{s==null||s(),yO(f)},onDestroy:()=>{du(null,p)}},u=pe(mO,m,Se(m.message)||Dr(m.message)?{default:Se(m.message)?m.message:()=>m.message}:null);u.appContext=n||Wr._context,du(u,p),e.appendChild(p.firstElementChild);const i=u.component,f={id:r,vnode:u,vm:i,handler:{close:()=>{i.exposed.visible.value=!1}},props:u.component.props};return f},Wr=(e={},t)=>{if(!Ve)return{close:()=>{}};if(bt(cf.max)&&Qt.length>=cf.max)return{close:()=>{}};const n=Ip(e);if(n.grouping&&Qt.length){const s=Qt.find(({vnode:p})=>{var m;return((m=p.props)==null?void 0:m.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}const r=bO(n,t);return Qt.push(r),r.handler};Rp.forEach(e=>{Wr[e]=(t={},n)=>{const r=Ip(t);return Wr({...r,type:e},n)}});function wO(e){for(const t of Qt)(!e||e===t.props.type)&&t.handler.close()}Wr.closeAll=wO;Wr._context=null;const CO=v1(Wr,"$message");const SO=e=>(ro("data-v-6c0c05ed"),e=e(),io(),e),xO={key:0,class:"resource-station__panel page-scrollbar_container"},TO={key:0,class:"add"},OO={class:"header"},EO={class:"title"},PO={class:"container"},kO={class:"list"},AO={class:"content"},MO=["src"],DO={key:0,class:"name"},RO={key:1,class:"material"},IO={class:"nav-container"},FO={class:"navlist"},LO=["onClick"],BO={class:"el-dropdown-link"},jO={class:"material-container"},NO={class:"container page-scrollbar_container"},$O={class:"panel-content"},zO={key:0,class:"panel-batch"},HO={key:1,class:"panel-batch"},UO={key:0,class:"detail-list page-scrollbar_container"},WO={key:2,class:"Image"},YO=SO(()=>te("div",{class:"image-slot"},null,-1)),XO={__name:"resource",setup(e){const{state:t}=qr(),n=fe("https://haixin-fang.github.io/vue-design-editor-static/"),r=fe(),s=ne(()=>t.activeModule),p=ne(()=>t.imageList?(t.imageList.forEach(l=>{l.url=n.value+"image/"+l.url}),t.imageList):[]),m=ne(()=>t.icons),u=Pi(ny),i=Pi(ry.map((l,a)=>({...l,id:a})));function d(l){r.value=l}const f=([l,a])=>Array(a-(l-1)).fill("").map((g,h)=>h+l);function o(l,a,c){a.type=s.value.type,a.interval&&(a.url=`${n.value}svg/${c}.svg`),l.dataTransfer.setData("item",JSON.stringify(a))}return(l,a)=>s.value?(re(),de("div",xO,[s.value.type=="add"?(re(),de("div",TO,[(re(!0),de(Me,null,gt(u.value,(c,g)=>(re(),de("div",{class:"addList",key:g},[te("div",OO,[te("div",EO,Ge(c.title),1)]),te("div",PO,[te("div",kO,[te("div",AO,[(re(!0),de(Me,null,gt(c.list,(h,v)=>(re(),de("div",{class:"addItem",key:v},[te("img",{src:h.icon,alt:""},null,8,MO),h.title?(re(),de("div",DO,Ge(h.title),1)):De("",!0)]))),128))])])])]))),128))])):De("",!0),s.value.type=="material"?(re(),de("div",RO,[te("div",IO,[te("div",FO,[te("div",{class:Ce(["navItem",r.value?"":"navItemActive"]),onClick:a[0]||(a[0]=c=>r.value=null)},"  ",2),(re(!0),de(Me,null,gt(i.value.slice(0,4),c=>(re(),de("div",{class:Ce(["navItem",r.value&&r.value.title==c.title?"navItemActive":""]),key:c.id,onClick:g=>d(c)},Ge(c.title),11,LO))),128)),i.value.length>4?(re(),ke(F(F2),{key:0,onCommand:d,class:"navItem","popper-class":"navItem",trigger:"click",teleported:!1},{dropdown:ve(()=>[pe(F(B2),null,{default:ve(()=>[(re(!0),de(Me,null,gt(i.value.slice(4),c=>(re(),ke(F(L2),{command:c,key:c.id},{default:ve(()=>[te("span",{class:Ce(r.value&&r.value.title==c.title?"navItemActive":"")},Ge(c.title),3)]),_:2},1032,["command"]))),128))]),_:1})]),default:ve(()=>[te("span",BO,[Yi("  "),pe(F(rt),{class:"el-icon--right"},{default:ve(()=>[pe(F(Od))]),_:1})])]),_:1})):De("",!0)])]),te("div",jO,[te("div",NO,[(re(!0),de(Me,null,gt(i.value,c=>(re(),de("div",{class:"panel-block",key:c.id},[pe(Gb,{title:c.title,subTitle:"",onChange:g=>d(c)},null,8,["title","onChange"]),te("div",$O,[c.interval?(re(),de("div",zO,[(re(!0),de(Me,null,gt(f(c.interval).slice(0,8),g=>(re(),de("div",{class:"material-detail",key:g},[pe(F(li),{src:`${n.value}svg/${g}.svg`,lazy:"",draggable:!0,onDragstart:h=>o(h,c,g)},null,8,["src","onDragstart"])]))),128))])):(re(),de("div",HO,[(re(!0),de(Me,null,gt(m.value.slice(0,8),(g,h)=>(re(),de("div",{class:"material-detail",style:{width:"60px",height:"60px"},key:h},[pe(F(li),{src:g.url,lazy:"",draggable:!0,onDragstart:v=>o(v,g)},null,8,["src","onDragstart"])]))),128))]))])]))),128))]),pe(vn,{name:"anime"},{default:ve(()=>[r.value?(re(),de("div",UO,[r.value.interval?(re(!0),de(Me,{key:0},gt(f(r.value.interval),c=>(re(),de("div",{class:"detail-item",key:c},[pe(F(li),{style:{width:"88px",height:"88px"},src:`${n.value}svg/${c}.svg`,draggable:!0,onDragstart:g=>o(g,c),lazy:""},null,8,["src","onDragstart"])]))),128)):(re(!0),de(Me,{key:1},gt(m.value,(c,g)=>(re(),de("div",{class:"detail-item",key:g},[pe(F(li),{style:{width:"88px",height:"88px"},src:c.url,draggable:!0,onDragstart:h=>o(h,c),lazy:""},null,8,["src","onDragstart"])]))),128))])):De("",!0)]),_:1})])])):De("",!0),s.value.type=="Image"?(re(),de("div",WO,[pe(Zb,{list:p.value,column:2},{default:ve(({item:c})=>[pe(F(li),{src:c.url,loading:"lazy",lazy:"",onDragstart:g=>o(g,c)},{placeholder:ve(()=>[YO]),_:2},1032,["src","onDragstart"])]),_:1},8,["list"])])):De("",!0)])):De("",!0)}},VO=ht(XO,[["__scopeId","data-v-6c0c05ed"]]);function GO(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(r){return r.split(" ").map(function(s){return s?""+e+s:""}).join(" ")}).join(" ")}function KO(e,t){return t.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function zn(e,t){return function(n){n&&(e[t]=n)}}function qO(e,t,n){return function(r){r&&(e[t][n]=r)}}function Of(e,t){return function(n){var r=n.prototype;e.forEach(function(s){t(r,s)})}}var JO="function",ZO="object",QO="string",eE="number",Fp="undefined",tE=typeof document!==Fp&&document,nE=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],na=1e-7,ds={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,t){return e*t/100},vw:function(e,t){return t===void 0&&(t=window.innerWidth),e/100*t},vh:function(e,t){return t===void 0&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function rE(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,u=p.length;m<u;m++,s++)r[s]=p[m];return r}function Lp(e){return typeof e===Fp}function gn(e){return e&&typeof e===ZO}function Bp(e){return Array.isArray(e)}function hr(e){return typeof e===QO}function iE(e){return typeof e===eE}function jp(e){return typeof e===JO}function sE(e,t){var n=e===""||e==" ",r=t===""||t==" ";return r&&n||e===t}function Np(e,t,n,r,s){var p=ic(e,t,n);return p?n:oE(e,t,n+1,r,s)}function ic(e,t,n){if(!e.ignore)return null;var r=t.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(r)}function oE(e,t,n,r,s){for(var p=function(d){var f=t[d].trim();if(f===e.close&&!ic(e,t,d))return{value:d};var o=d,l=Us(s,function(a){var c=a.open;return c===f});if(l&&(o=Np(l,t,d,r,s)),o===-1)return m=d,"break";d=o,m=d},m,u=n;u<r;++u){var i=p(u);if(u=m,typeof i=="object")return i.value;if(i==="break")break}return-1}function sc(e,t){var n=hr(t)?{separator:t}:t,r=n.separator,s=r===void 0?",":r,p=n.isSeparateFirst,m=n.isSeparateOnlyOpenClose,u=n.isSeparateOpenClose,i=u===void 0?m:u,d=n.openCloseCharacters,f=d===void 0?nE:d,o=f.map(function(S){var O=S.open,j=S.close;return O===j?O:O+"|"+j}).join("|"),l="(\\s*"+s+"\\s*|"+o+"|\\s+)",a=new RegExp(l,"g"),c=e.split(a).filter(function(S){return S&&S!=="undefined"}),g=c.length,h=[],v=[];function _(){return v.length?(h.push(v.join("")),v=[],!0):!1}for(var y=function(S){var O=c[S].trim(),j=S,Y=Us(f,function(ee){var oe=ee.open;return oe===O}),G=Us(f,function(ee){var oe=ee.close;return oe===O});if(Y){if(j=Np(Y,c,S,g,f),j!==-1&&i)return _()&&p||(h.push(c.slice(S,j+1).join("")),S=j,p)?(b=S,"break"):(b=S,"continue")}else if(G&&!ic(G,c,S)){var U=rE(f);return U.splice(f.indexOf(G),1),{value:sc(e,{separator:s,isSeparateFirst:p,isSeparateOnlyOpenClose:m,isSeparateOpenClose:i,openCloseCharacters:U})}}else if(sE(O,s)&&!m)return _(),p?(b=S,"break"):(b=S,"continue");j===-1&&(j=g-1),v.push(c.slice(S,j+1).join("")),S=j,b=S},b,w=0;w<g;++w){var C=y(w);if(w=b,typeof C=="object")return C.value;if(C==="break")break}return v.length&&h.push(v.join("")),h}function aE(e){return sc(e,"")}function hi(e){return sc(e,",")}function lE(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function $p(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2],s=t[3];return{prefix:n,unit:s,value:parseFloat(r)}}function cE(e){return e.replace(/[\s-_]+([^\s-_])/g,function(t,n){return n.toUpperCase()})}function ra(e,t){return t===void 0&&(t="-"),e.replace(/([a-z])([A-Z])/g,function(n,r,s){return""+r+t+s.toLowerCase()})}function $a(){return Date.now?Date.now():new Date().getTime()}function xo(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=0;s<r;++s)if(t(e[s],s,e))return s;return n}function uE(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=r-1;s>=0;--s)if(t(e[s],s,e))return s;return n}function fE(e,t,n){var r=uE(e,t);return r>-1?e[r]:n}function Us(e,t,n){var r=xo(e,t);return r>-1?e[r]:n}function za(e){return Object.keys(e)}function hE(e){var t=za(e);return t.map(function(n){return e[n]})}function wi(e,t){var n=$p(e),r=n.value,s=n.unit;if(gn(t)){var p=t[s];if(p){if(jp(p))return p(r);if(ds[s])return ds[s](r,p)}}else if(s==="%")return r*t/100;return ds[s]?ds[s](r):r}function ia(e,t){if(!t)return e;var n=1/t;return Math.round(e/t)/n}function dE(e){return e.reduce(function(t,n){return t.concat(n)},[])}function pE(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function gE(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function vE(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function lt(e,t,n,r){e.addEventListener(t,n,r)}function nt(e,t,n,r){e.removeEventListener(t,n,r)}function oc(e){return(e==null?void 0:e.ownerDocument)||tE}function sa(e){var t;return((t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function mE(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function ac(e){return gn(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}var _E=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(n){return this.values[this.keys.indexOf(n)]},t.set=function(n,r){var s=this.keys,p=this.values,m=s.indexOf(n),u=m===-1?s.length:m;s[u]=n,p[u]=r},e}(),yE=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(n){return this.object[n]},t.set=function(n,r){this.object[n]=r},e}(),bE=typeof Map=="function",wE=function(){function e(){}var t=e.prototype;return t.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},t.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},t.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},e}();function CE(e,t){var n=[],r=[];return e.forEach(function(s){var p=s[0],m=s[1],u=new wE;n[p]=u,r[m]=u}),n.forEach(function(s,p){s.connect(n[p-1])}),e.filter(function(s,p){return!t[p]}).map(function(s,p){var m=s[0],u=s[1];if(m===u)return[0,0];var i=n[m],d=r[u-1],f=i.getIndex();i.disconnect(),d?i.connect(d,d.next):i.connect(void 0,n[0]);var o=i.getIndex();return[f,o]})}var SE=function(){function e(n,r,s,p,m,u,i,d){this.prevList=n,this.list=r,this.added=s,this.removed=p,this.changed=m,this.maintained=u,this.changedBeforeAdded=i,this.fixed=d}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var n=CE(this.changedBeforeAdded,this.fixed),r=this.changed,s=[];this.cacheOrdered=n.filter(function(p,m){var u=p[0],i=p[1],d=r[m],f=d[0],o=d[1];if(u!==i)return s.push([f,o]),!0}),this.cachePureChanged=s},e}();function zp(e,t,n){var r=bE?Map:n?yE:_E,s=n||function(_){return _},p=[],m=[],u=[],i=e.map(s),d=t.map(s),f=new r,o=new r,l=[],a=[],c={},g=[],h=0,v=0;return i.forEach(function(_,y){f.set(_,y)}),d.forEach(function(_,y){o.set(_,y)}),i.forEach(function(_,y){var b=o.get(_);typeof b>"u"?(++v,m.push(y)):c[b]=v}),d.forEach(function(_,y){var b=f.get(_);typeof b>"u"?(p.push(y),++h):(u.push([b,y]),v=c[y]||0,l.push([b-v,y-h]),a.push(y===b),b!==y&&g.push([b,y]))}),m.reverse(),new SE(e,t,p,m,g,u,l,a)}var Ha=function(e,t){return Ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ha(e,t)};function Gi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ha(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var fn=function(){return fn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},fn.apply(this,arguments)};function Hp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Ef(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,p;r<s;r++)(p||!(r in t))&&(p||(p=Array.prototype.slice.call(t,0,r)),p[r]=t[r]);return e.concat(p||Array.prototype.slice.call(t))}function Pf(e){var t=0;return e.map(function(n){return n==null?"$compat".concat(++t):"".concat(n)})}function Up(e){var t=[];return e.forEach(function(n){t=t.concat(Bp(n)?Up(n):n)}),t}function oa(e,t){if(!t)return e;for(var n in t)Lp(e[n])&&(e[n]=t[n]);return e}function Ws(e,t){if(e===t)return!1;for(var n in e)if(!(n in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function kf(e){var t=e.className,n=Hp(e,["className"]);return t!=null&&(n.class=t),delete n.style,delete n.children,n}function Af(e){var t={},n={};for(var r in e)r.indexOf("on")===0?n[r]=e[r]:t[r]=e[r];return[t,n]}function To(e){if(!e)return null;var t=e.b;return ac(t)?t:To(e.c)}function Wp(e){var t=e.parentNode;t&&t.removeChild(e)}function Yp(e){e.forEach(function(t){t()})}function xE(){return this.constructor(this.props,this.context)}var lc=0,Oo=function(){function e(n,r,s,p,m,u,i){i===void 0&&(i={}),this.t=n,this.d=r,this.k=s,this.i=p,this.c=m,this.ref=u,this.ps=i,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var t=e.prototype;return t.s=function(){return!0},t.u=function(n,r,s,p,m){var u=this,i=u.d,d=hE(r).filter(function(c){return c.$_req}),f=Up(d.map(function(c){return c.$_subs})),o=Us(f,function(c){return c.d===i});if(u.b&&!hr(s)&&!m&&!u.s(s.props,p)&&!o){var l=f.reduce(function(c,g){var h=g.d;return c[0]?c[0].d===h&&c.push(g):h>i&&c.push(g),c},[]);return l.forEach(function(c){Ki(c,c._ps,[c.o],n,r,!0)}),!1}u.o=s,u.ss(p);var a=u.ps;return hr(s)||(u.ps=s.props,u.ref=s.ref),cc(this),u.r(n,r,u.b?a:{},p),!0},t.md=function(){this.rr()},t.ss=function(){},t.ud=function(){this.rr()},t.rr=function(){var n=this,r=n.ref,s=n.fr;r&&r(s?s.current:n.b)},e}();function Xp(){return Object.__CROACT_CURRENT_INSTNACE__}function TE(){return lc}function OE(e){lc=e}function cc(e){return Object.__CROACT_CURRENT_INSTNACE__=e,lc=0,e}var uc=function(){function e(n,r){n===void 0&&(n={}),this.props=n,this.context=r,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var t=e.prototype;return t.render=function(){return null},t.shouldComponentUpdate=function(n,r){return this.props!==n||this.state!==r},t.setState=function(n,r,s){var p=this;p.$_timer||(p.$_state={}),clearTimeout(p.$_timer),p.$_timer=0,p.$_state=fn(fn({},p.$_state),n),s?p.$_setState(r,s):p.$_timer=window.setTimeout(function(){p.$_timer=0,p.$_setState(r,s)})},t.forceUpdate=function(n){this.setState({},n,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(n,r){},t.componentWillUnmount=function(){},t.$_setState=function(n,r){var s=[],p=this.$_p,m=Ki(p.c,[p],[p.o],s,p._cs,fn(fn({},this.state),this.$_state),r);m&&(n&&s.push(n),Yp(s),cc(null))},e}(),Vp=function(e){Gi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,s){return Ws(this.props,r)||Ws(this.state,s)},t}(uc);function fc(e){var t=function(n){t.current=n};return t.current=e,t}function EE(e){return e._fr=!0,e}function PE(e,t,n,r){var s,p;return!((s=e==null?void 0:e.prototype)===null||s===void 0)&&s.render?p=new e(t,n):(p=new uc(t,n),p.constructor=e,e._fr?(r.fr=fc(),p.render=function(){return this.constructor(this.props,r.fr)}):p.render=xE),p.$_p=r,p}var kE=function(e){Gi(t,e);function t(r,s,p,m,u,i,d){d===void 0&&(d={});var f=e.call(this,r,s,p,m,u,i,oa(d,r.defaultProps))||this;return f.typ="comp",f._usefs=[],f._uefs=[],f._defs=[],f}var n=t.prototype;return n.s=function(r,s){var p=this.b;return p.shouldComponentUpdate(oa(r,this.t.defaultProps),s||p.state)!==!1},n.r=function(r,s,p){var m,u,i=this,d=i.t;i.ps=oa(i.ps,i.t.defaultProps);var f=i.ps,o=!i.b,l=d.contextType,a=i.b,c=l==null?void 0:l.get(i);i._cs=s,o?(a=PE(d,f,c,i),i.b=a):(a.props=f,a.context=c);var g=a.state;i._usefs=[],i._uefs=[];var h=a.render();((u=(m=h==null?void 0:h.props)===null||m===void 0?void 0:m.children)===null||u===void 0?void 0:u.length)===0&&(h.props.children=i.ps.children);var v=fn(fn({},s),a.$_cs);Ki(i,i._ps,h?[h]:[],r,v),o?i._uefs.push(function(){l==null||l.register(i),a.componentDidMount()}):i._uefs.push(function(){a.componentDidUpdate(p,g)}),r.push(function(){i._usefs.forEach(function(_){_()}),o?i.md():i.ud(),i._defs=i._uefs.map(function(_){return _()})})},n.ss=function(r){var s=this.b;!s||!r||(s.state=r)},n.un=function(){var r,s=this;s._ps.forEach(function(m){m.un()});var p=s.t;(r=p.contextType)===null||r===void 0||r.unregister(s),clearTimeout(s.b.$_timer),s._defs.forEach(function(m){m&&m()}),s.b.componentWillUnmount()},t}(Oo);function AE(e,t,n){var r=hc(kf(e),kf(t)),s=r.added,p=r.removed,m=r.changed;for(var u in s)n.setAttribute(u,s[u]);for(var i in m)n.setAttribute(i,m[i][1]);for(var d in p)n.removeAttribute(d)}function ME(e,t,n){var r=hc(e,t),s=r.added,p=r.removed;for(var m in p)n.e(m,!0);for(var u in s)n.e(u)}function hc(e,t){var n=za(e),r=za(t),s=zp(n,r,function(i){return i}),p={},m={},u={};return s.added.forEach(function(i){var d=r[i];p[d]=t[d]}),s.removed.forEach(function(i){var d=n[i];m[d]=e[d]}),s.maintained.forEach(function(i){var d=i[0],f=n[d],o=[e[f],t[f]];e[f]!==t[f]&&(u[f]=o)}),{added:p,removed:m,changed:u}}function DE(e,t,n){var r=n.style,s=hc(e,t),p=s.added,m=s.removed,u=s.changed;for(var i in p){var d=ra(i,"-");r.setProperty(d,p[i])}for(var i in u){var f=ra(i,"-");r.setProperty(f,u[i][1])}for(var i in m){var o=ra(i,"-");r.removeProperty(o)}}function RE(e){return e.replace(/^on/g,"").toLowerCase()}var IE=function(e){Gi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="elem",r._es={},r._svg=!1,r}var n=t.prototype;return n.e=function(r,s){var p=this,m=p._es,u=p.b,i=RE(r);s?(nt(u,i,m[r]),delete m[r]):(m[r]=function(d){var f,o;(o=(f=p.ps)[r])===null||o===void 0||o.call(f,d)},lt(u,i,m[r]))},n.s=function(r){return Ws(this.ps,r)},n.r=function(r,s,p){var m,u=this,i=!u.b,d=u.ps;if(i){var f=To(u.c),o=!1;u._svg||u.t==="svg"?o=!0:o=f&&f.ownerSVGElement,u._svg=o;var l=(m=u._hyd)===null||m===void 0?void 0:m.splice(0,1)[0],a=u.t;if(l)u._hyd=[].slice.call(l.children||[]);else{var c=oc(f);o?l=c.createElementNS("http://www.w3.org/2000/svg",a):l=c.createElement(a)}u.b=l}Ki(u,u._ps,d.children,r,s);var g=u.b,h=Af(p),v=h[0],_=h[1],y=Af(d),b=y[0],w=y[1];return AE(v,b,g),ME(_,w,u),DE(p.style||{},d.style||{},g),r.push(function(){i?u.md():u.ud()}),!0},n.un=function(){var r=this,s=r._es,p=r.b;for(var m in s)nt(p,m,s[m]);r._ps.forEach(function(u){u.un()}),r._es={},r._sel||Wp(p)},t}(Oo);function Ni(e){if(!e||ac(e))return e;var t=e.$_p._ps;return t.length?Ni(t[0].b):null}function Gp(e){if(e){if(e.b&&ac(e.b))return e;var t=e._ps;return t.length?Gp(t[0]):null}}function Ht(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=t||{},p=s.key,m=s.ref,u=Hp(s,["key","ref"]);return{type:e,key:p,ref:m,props:fn(fn({},u),{children:dE(n).filter(function(i){return i!=null&&i!==!1})})}}var Kp=function(e){Gi(t,e);function t(r,s){s===void 0&&(s=0);var p=e.call(this,"container",s,"container",0,null)||this;return p.typ="container",p.b=r,p}var n=t.prototype;return n.r=function(){return!0},n.un=function(){},t}(Oo),FE=function(e){Gi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="text",r}var n=t.prototype;return n.r=function(r){var s,p=this,m=!p.b;if(m){var u=To(p.c),i=(s=p._hyd)===null||s===void 0?void 0:s.splice(0,1)[0];p.b=i||oc(u).createTextNode(p.t.replace("text_",""))}return r.push(function(){m?p.md():p.ud()}),!0},n.un=function(){Wp(this.b)},t}(Oo);function LE(e,t,n){var r=n.map(function(i){return hr(i)?null:i.key}),s=Pf(t.map(function(i){return i.k})),p=Pf(r),m=zp(s,p,function(i){return i});m.removed.forEach(function(i){t.splice(i,1)[0].un()}),m.ordered.forEach(function(i){var d=i[0],f=i[1],o=t.splice(d,1)[0];t.splice(f,0,o);var l=Ni(o.b),a=Ni(t[f+1]&&t[f+1].b);l&&l.parentNode.insertBefore(l,a)}),m.added.forEach(function(i){t.splice(i,0,Mf(n[i],r[i],i,e))});var u=m.maintained.filter(function(i){i[0];var d=i[1],f=n[d],o=t[d],l=hr(f)?"text_".concat(f):f.type;return l!==o.t?(o.un(),t.splice(d,1,Mf(f,r[d],d,e)),!0):(o.i=d,!1)});return Ef(Ef([],m.added,!0),u.map(function(i){i[0];var d=i[1];return d}),!0)}function BE(e,t){for(var n=e._ps,r=n.length,s=t.i+1;s<r;++s){var p=Ni(n[s].b);if(p)return p}return null}function Mf(e,t,n,r){var s=r.d+1;if(hr(e)||iE(e))return new FE("text_".concat(e),s,t,n,r,null,{});var p=e.type,m=typeof p=="string"?IE:kE;return new m(p,s,t,n,r,e.ref,e.props)}function Ki(e,t,n,r,s,p,m){var u=LE(e,t,n),i=e._hyd,d=t.filter(function(o,l){return o._hyd=i,o.u(r,s,n[l],p,m)});e.typ==="container"&&e._sel&&t.forEach(function(o){var l=Gp(o);l&&(l._sel=!0)}),e._hyd=null;var f=To(e);return f&&u.reverse().forEach(function(o){var l=t[o],a=Ni(l.b);if(a&&f!==a&&!a.parentNode){var c=BE(e,l);f.insertBefore(a,c)}}),d.length>0}function jE(e,t,n,r){n===void 0&&(n=t.__CROACT__),r===void 0&&(r={});var s=!!n;n||(n=new Kp(t));var p=[];return Ki(n,n._ps,e?[e]:[],p,r,void 0,void 0),Yp(p),cc(null),s||(t.__CROACT__=n),n}function Df(e,t,n){return!n&&e&&(n=new Kp(t.parentElement),n._hyd=[t],n._sel=!0),jE(e,t,n),n}function qp(e){var t=Xp(),n=t._hs||(t._hs=[]),r=TE(),s=n[r];if(OE(r+1),s){if(!Ws(s.deps,e.deps))return s.updated=!1,s;n[r]=e}else n.push(e);return e.value=e.func(),e.updated=!0,e}function NE(e,t){var n=qp({func:e,deps:t});return n.value}function $E(e){return NE(function(){return fc(e)},[])}function Jp(e,t,n){var r=Xp(),s=qp({func:function(){return e},deps:t}),p=n?r._usefs:r._uefs;s.updated?p.push(function(){return s.effect&&s.effect(),s.effect=e(),s.effect}):p.push(function(){return s.effect})}function zE(e,t,n){Jp(function(){e==null||e(t())},n,!0)}var Ua=function(e,t){return Ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ua(e,t)};function HE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ua(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var UE=function(e){HE(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={scrollPos:0},r.width=0,r.height=0,r._zoom=0,r._rulerScale=0,r._observer=null,r._checkResize=function(){r.resize()},r}var n=t.prototype;return n.render=function(){var r=this.props;return this._zoom=r.zoom,Ht("canvas",{ref:zn(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var r=this.props;this.state.scrollPos=r.defaultScrollPos||0;var s=this.canvasElement,p=s.getContext("2d",{alpha:!0});this.canvasContext=p,r.useResizeObserver?(this._observer=new ResizeObserver(this._checkResize),this._observer.observe(s,{box:"border-box"})):this.resize()},n.componentDidUpdate=function(){this.resize()},n.componentWillUnmount=function(){var r;this.state.scrollPos=0,(r=this._observer)===null||r===void 0||r.disconnect()},n.getScrollPos=function(){return this.state.scrollPos},n.scroll=function(r,s){this.draw({scrollPos:r,zoom:s})},n.resize=function(r){var s=this.canvasElement,p=this.props,m=p.width,u=p.height,i=p.scrollPos,d=this._getRulerScale();this.width=m||s.offsetWidth,this.height=u||s.offsetHeight,s.width=this.width*d,s.height=this.height*d,this.draw({scrollPos:i,zoom:r})},n.draw=function(r){r===void 0&&(r={});var s=this.props,p=r.zoom,m=p===void 0?this._zoom:p,u=r.scrollPos,i=u===void 0?this.state.scrollPos:u,d=r.marks,f=d===void 0?s.marks:d,o=r.selectedRanges,l=o===void 0?s.selectedRanges:o,a=r.segment,c=a===void 0?s.segment||10:a,g=r.unit,h=g===void 0?s.unit:g;this._zoom=m;var v=s,_=v.type,y=v.backgroundColor,b=v.lineColor,w=v.textColor,C=v.textBackgroundColor,S=v.direction,O=v.negativeRuler,j=O===void 0?!0:O,Y=v.textFormat,G=v.range,U=G===void 0?[-1/0,1/0]:G,ee=v.rangeBackgroundColor,oe=v.selectedBackgroundColor,le=v.lineWidth,ce=le===void 0?1:le,X=v.selectedRangesText,J=v.selectedRangesTextColor,x=J===void 0?"#44aaff":J,D=v.selectedRangesTextOffset,R=D===void 0?[0,0]:D,I=v.markColor,Z=I===void 0?"#ff5":I,M=this._getRulerScale(),E=this.width,H=this.height,A=this.state;A.scrollPos=i;var L=this.canvasContext,$=_==="horizontal",K=j!==!1,ie=s.font||"10px sans-serif",k=s.textAlign||"left",T=s.textOffset||[0,0],P=$?H:E,B=wi("".concat(s.mainLineSize||"100%"),P),z=wi("".concat(s.longLineSize||10),P),N=wi("".concat(s.shortLineSize||7),P),W=s.lineOffset||[0,0];switch(y==="transparent"?L.clearRect(0,0,E*M,H*M):(L.rect(0,0,E*M,H*M),L.fillStyle=y,L.fill()),L.save(),L.scale(M,M),L.strokeStyle=b,L.lineWidth=ce,L.font=ie,L.fillStyle=w,L.textAlign=k,S){case"start":L.textBaseline="top";break;case"center":L.textBaseline="middle";break;case"end":L.textBaseline="bottom";break}L.translate(.5,0),L.beginPath();for(var q=$?E:H,se=m*h,Q=Math.floor(i*m/se),V=Math.ceil((i*m+q)/se),ae=V-Q,he=Math.max(["left","center","right"].indexOf(k)-1,-1),ge=$?H:E,me=[],_e=0;_e<=ae;++_e){var be=(_e+Q)*h,Oe="".concat(be);Y&&(Oe=Y(be));var Ke=L.measureText(Oe).width;me.push({color:w,offset:T,backgroundColor:C,value:be,text:Oe,textSize:Ke})}if(oe!=="transparent"&&(l!=null&&l.length)&&l.forEach(function(Ct){var Nt=Math.max(Ct[0],U[0],j?-1/0:0),Kt=Math.min(Ct[1],U[1]),yn=(Nt-i)*m,bn=(Kt-Nt)*m;X&&Ct.forEach(function(on){var an="".concat(on);Y&&(an=Y(on));var wn=L.measureText(an).width,Mn=on*m,Qi=Mn+wn;fE(me,function(_r,ni){var Kn=_r.value,Mg=_r.textSize,Oc=Kn*m,Dg=Oc+Mg;Oc<=Qi&&Mn<=Dg&&me.splice(ni,1)}),me.push({value:on,color:x,offset:R,text:an,textSize:wn})}),!(bn<=0)&&(L.save(),L.fillStyle=oe,$?L.fillRect(yn,0,bn,ge):L.fillRect(0,yn,ge,bn),L.restore())}),ee!=="transparent"&&U[0]!==-1/0&&U[1]!==1/0){var _t=(U[0]-i)*m,pt=(U[1]-U[0])*m;L.save(),L.fillStyle=ee,$?L.fillRect(_t,0,pt,ge):L.fillRect(0,_t,ge,pt),L.restore()}for(var _e=0;_e<=ae;++_e){var be=_e+Q;if(!(!K&&be<0))for(var sn=be*h,Gn=(sn-i)*m,Ye=0;Ye<c;++Ye){var at=Gn+Ye/c*se,ei=sn+Ye/c*h;if(!(at<0||at>=q||ei<U[0]||ei>U[1])){var Zi=Ye===0?B:Ye%2===0?z:N,ti=0;switch(S){case"start":ti=0;break;case"center":ti=ge/2-Zi/2;break;case"end":ti=ge-Zi;break}var xc=$?[at+W[0],ti+W[1]]:[ti+W[0],at+W[1]],Do=xc[0],Ro=xc[1],Tc=$?[Do,Ro+Zi]:[Do+Zi,Ro],kg=Tc[0],Ag=Tc[1];L.moveTo(Do+W[0],Ro+W[1]),L.lineTo(kg+W[0],Ag+W[1])}}}L.stroke(),L.beginPath(),L.strokeStyle=Z,L.lineWidth=1,(f||[]).forEach(function(Ct){var Nt=(-i+Ct)*m;if(!(Nt<0||Nt>=q||Ct<U[0]||Ct>U[1])){var Kt=$?[Nt+W[0],W[1]]:[W[0],Nt+W[1]],yn=Kt[0],bn=Kt[1],on=$?[yn,bn+P]:[yn+P,bn],an=on[0],wn=on[1];L.moveTo(yn+W[0],bn+W[1]),L.lineTo(an+W[0],wn+W[1])}}),L.stroke(),me.forEach(function(Ct){var Nt=Ct.value,Kt=Ct.offset,yn=Ct.backgroundColor,bn=Ct.color,on=Ct.text,an=Ct.textSize;if(!(!K&&Nt<0)){var wn=(Nt-i)*m;if(!(wn<-se||wn>=q+h*m||Nt<U[0]||Nt>U[1])){var Mn=0;switch(S){case"start":Mn=17;break;case"center":Mn=ge/2;break;case"end":Mn=ge-17;break}var Qi=$?[wn+he*-3,Mn]:[Mn,wn+he*3],_r=Qi[0],ni=Qi[1];if(yn){var Kn=0;switch(k){case"left":Kn=0;break;case"center":Kn=-an/2;break;case"right":Kn=-an;break}L.save(),L.fillStyle=yn,$?L.fillRect(_r+Kt[0]+Kn,0,an,B):(L.translate(0,ni+Kt[1]),L.rotate(-Math.PI/2),L.fillRect(Kn,0,an,B)),L.restore()}L.save(),L.fillStyle=bn,$?L.fillText(on,_r+Kt[0],ni+Kt[1]):(L.translate(_r+Kt[0],ni+Kt[1]),L.rotate(-Math.PI/2),L.fillText(on,0,0)),L.restore()}}}),L.restore()},n._getRulerScale=function(){var r=this.props.defaultPixelScale||2;if(!this._rulerScale){var s=window.devicePixelRatio>1;if(!s&&window.matchMedia){var p=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");s=p&&p.matches}this._rulerScale=s?3:r}return this._rulerScale},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555",defaultScrollPos:0,markColor:"#f55",marks:[]},t}(Vp),Zp=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","defaultScrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat","warpSelf","selectedBackgroundColor","selectedRanges","defaultPixelScale","useResizeObserver","selectedRangesText","selectedRangesTextColor","selectedRangesTextOffset","marks","markColor"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wa=function(){return Wa=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Wa.apply(this,arguments)};function WE(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,u=p.length;m<u;m++,s++)r[s]=p[m];return r}var YE=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(gn(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(gn(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=xo(p,function(u){return u.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,WE(p).forEach(function(u){u.listener(r),u.once&&s.off(n,u.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(Wa({listener:r},s))},e}();const XE=YE;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ya=function(e,t){return Ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Ya(e,t)};function VE(e,t){Ya(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ze=function(){return Ze=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Ze.apply(this,arguments)};function GE(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=Math.atan2(r,n);return s>=0?s:s+Math.PI*2}function aa(e){return GE([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function KE(e){return e.touches&&e.touches.length>=2}function ps(e){return e?e.touches?JE(e.touches):[Qp(e)]:[]}function qE(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function Rf(e,t,n){var r=n.length,s=Ci(e,r),p=s.clientX,m=s.clientY,u=s.originalClientX,i=s.originalClientY,d=Ci(t,r),f=d.clientX,o=d.clientY,l=Ci(n,r),a=l.clientX,c=l.clientY,g=p-f,h=m-o,v=p-a,_=m-c;return{clientX:u,clientY:i,deltaX:g,deltaY:h,distX:v,distY:_}}function la(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function JE(e){for(var t=Math.min(e.length,2),n=[],r=0;r<t;++r)n.push(Qp(e[r]));return n}function Qp(e){return{clientX:e.clientX,clientY:e.clientY}}function Ci(e,t){t===void 0&&(t=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(e.length,t),s=0;s<r;++s){var p=e[s];n.originalClientX+="originalClientX"in p?p.originalClientX:p.clientX,n.originalClientY+="originalClientY"in p?p.originalClientY:p.clientY,n.clientX+=p.clientX,n.clientY+=p.clientY}return t?{clientX:n.clientX/t,clientY:n.clientY/t,originalClientX:n.originalClientX/t,originalClientY:n.originalClientY/t}:n}var ca=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return e.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),aa(t)},e.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),aa(t)-aa(this.startClients)},e.prototype.getPosition=function(t,n){t===void 0&&(t=this.prevClients);var r=Rf(t||this.prevClients,this.prevClients,this.startClients),s=r.deltaX,p=r.deltaY;return this.movement+=Math.sqrt(s*s+p*p),this.prevClients=t,r},e.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var n=this.prevClients,r=this.startClients,s=Math.min(this.length,n.length),p=[],m=0;m<s;++m)p[m]=Rf([t[m]],[n[m]],[r[m]]);return p},e.prototype.getMovement=function(t){var n=this.movement;if(!t)return n;var r=Ci(t,this.length),s=Ci(this.prevClients,this.length),p=r.clientX-s.clientX,m=r.clientY-s.clientY;return Math.sqrt(p*p+m*m)+n},e.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),la(t)},e.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),la(t)/la(this.startClients)},e.prototype.move=function(t,n){this.startClients.forEach(function(r){r.clientX-=t,r.clientY-=n}),this.prevClients.forEach(function(r){r.clientX-=t,r.clientY-=n})},e}(),If=["textarea","input"],ZE=function(e){VE(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this)||this;s.options={},s.flag=!1,s.pinchFlag=!1,s.data={},s.isDrag=!1,s.isPinch=!1,s.clientStores=[],s.targets=[],s.prevTime=0,s.doubleFlag=!1,s._useMouse=!1,s._useTouch=!1,s._useDrag=!1,s._dragFlag=!1,s._isTrusted=!1,s._isMouseEvent=!1,s._isSecondaryButton=!1,s._preventMouseEvent=!1,s._prevInputEvent=null,s._isDragAPI=!1,s._isIdle=!0,s._window=window,s.onDragStart=function(l,a){if(a===void 0&&(a=!0),!(!s.flag&&l.cancelable===!1)){var c=l.type.indexOf("drag")>=-1;if(!(s.flag&&c)){s._isDragAPI=!0;var g=s.options,h=g.container,v=g.pinchOutside,_=g.preventWheelClick,y=g.preventRightClick,b=g.preventDefault,w=g.checkInput,C=g.dragFocusedInput,S=g.preventClickEventOnDragStart,O=g.preventClickEventOnDrag,j=g.preventClickEventByCondition,Y=s._useTouch,G=!s.flag;if(s._isSecondaryButton=l.which===3||l.button===2,_&&(l.which===2||l.button===1)||y&&(l.which===3||l.button===2))return s.stop(),!1;if(G){var U=s._window.document.activeElement,ee=l.target;if(ee){var oe=ee.tagName.toLowerCase(),le=If.indexOf(oe)>-1,ce=ee.isContentEditable;if(le||ce){if(w||!C&&U===ee)return!1;if(U&&(U===ee||ce&&U.isContentEditable&&U.contains(ee)))if(C)ee.blur();else return!1}else if((b||l.type==="touchstart")&&U){var X=U.tagName.toLowerCase();(U.isContentEditable||If.indexOf(X)>-1)&&U.blur()}(S||O||j)&&lt(s._window,"click",s._onClick,!0)}s.clientStores=[new ca(ps(l))],s._isIdle=!1,s.flag=!0,s.isDrag=!1,s._isTrusted=a,s._dragFlag=!0,s._prevInputEvent=l,s.data={},s.doubleFlag=$a()-s.prevTime<200,s._isMouseEvent=qE(l),!s._isMouseEvent&&s._preventMouseEvent&&(s._preventMouseEvent=!1);var J=s._preventMouseEvent||s.emit("dragStart",Ze(Ze({data:s.data,datas:s.data,inputEvent:l,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,isTrusted:a,isDouble:s.doubleFlag},s.getCurrentStore().getPosition()),{preventDefault:function(){l.preventDefault()},preventDrag:function(){s._dragFlag=!1}}));J===!1&&s.stop(),s._isMouseEvent&&s.flag&&b&&l.preventDefault()}if(!s.flag)return!1;var x=0;if(G?(s._attchDragEvent(),Y&&v&&(x=setTimeout(function(){lt(h,"touchstart",s.onDragStart,{passive:!1})}))):Y&&v&&nt(h,"touchstart",s.onDragStart),s.flag&&KE(l)){if(clearTimeout(x),G&&l.touches.length!==l.changedTouches.length)return;s.pinchFlag||s.onPinchStart(l)}}}},s.onDrag=function(l,a){if(s.flag){var c=s.options.preventDefault;!s._isMouseEvent&&c&&l.preventDefault(),s._prevInputEvent=l;var g=ps(l),h=s.moveClients(g,l,!1);if(s._dragFlag){if(s.pinchFlag||h.deltaX||h.deltaY){var v=s._preventMouseEvent||s.emit("drag",Ze(Ze({},h),{isScroll:!!a,inputEvent:l}));if(v===!1){s.stop();return}}s.pinchFlag&&s.onPinch(l,g)}s.getCurrentStore().getPosition(g,!0)}},s.onDragEnd=function(l){if(s.flag){var a=s.options,c=a.pinchOutside,g=a.container,h=a.preventClickEventOnDrag,v=a.preventClickEventOnDragStart,_=a.preventClickEventByCondition,y=s.isDrag;(h||v||_)&&requestAnimationFrame(function(){s._allowClickEvent()}),!_&&!v&&h&&!y&&s._allowClickEvent(),s._useTouch&&c&&nt(g,"touchstart",s.onDragStart),s.pinchFlag&&s.onPinchEnd(l);var b=l!=null&&l.touches?ps(l):[],w=b.length;w===0||!s.options.keepDragging?s.flag=!1:s._addStore(new ca(b));var C=s._getPosition(),S=$a(),O=!y&&s.doubleFlag;s._prevInputEvent=null,s.prevTime=y||O?0:S,s.flag||(s._dettachDragEvent(),s._preventMouseEvent||s.emit("dragEnd",Ze({data:s.data,datas:s.data,isDouble:O,isDrag:y,isClick:!y,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,inputEvent:l,isTrusted:s._isTrusted},C)),s.clientStores=[],s._isMouseEvent||(s._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){s._preventMouseEvent=!1})})),s._isIdle=!0)}},s.onBlur=function(){s.onDragEnd()},s._allowClickEvent=function(){nt(s._window,"click",s._onClick,!0)},s._onClick=function(l){s._allowClickEvent(),s._preventMouseEvent=!1;var a=s.options.preventClickEventByCondition;a!=null&&a(l)||(l.stopPropagation(),l.preventDefault())},s._onContextMenu=function(l){var a=s.options;a.preventRightClick?s.onDragEnd(l):l.preventDefault()},s._passCallback=function(){};var p=[].concat(n),m=p[0];s._window=mE(m)?m:sa(m),s.options=Ze({checkInput:!1,container:m&&!("document"in m)?sa(m):m,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},r);var u=s.options,i=u.container,d=u.events,f=u.checkWindowBlur;if(s._useDrag=d.indexOf("drag")>-1,s._useTouch=d.indexOf("touch")>-1,s._useMouse=d.indexOf("mouse")>-1,s.targets=p,s._useDrag&&p.forEach(function(l){lt(l,"dragstart",s.onDragStart)}),s._useMouse&&(p.forEach(function(l){lt(l,"mousedown",s.onDragStart),lt(l,"mousemove",s._passCallback)}),lt(i,"contextmenu",s._onContextMenu)),f&&lt(sa(),"blur",s.onBlur),s._useTouch){var o={passive:!1};p.forEach(function(l){lt(l,"touchstart",s.onDragStart,o),lt(l,"touchmove",s._passCallback,o)})}return s}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(r,s){return r+s.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(n,r,s,p){p===void 0&&(p=!0),this.flag&&(this.clientStores[0].move(n,r),p&&this.onDrag(s,!0))},t.prototype.move=function(n,r){var s=n[0],p=n[1],m=this.getCurrentStore(),u=m.prevClients;return this.moveClients(u.map(function(i){var d=i.clientX,f=i.clientY;return{clientX:d+s,clientY:f+p,originalClientX:d,originalClientY:f}}),r,!0)},t.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},t.prototype.setEventData=function(n){var r=this.data;for(var s in n)r[s]=n[s];return this},t.prototype.setEventDatas=function(n){return this.setEventData(n)},t.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),Ze(Ze({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var n=this,r=this.targets,s=this.options.container;this.off(),nt(this._window,"blur",this.onBlur),this._useDrag&&r.forEach(function(p){nt(p,"dragstart",n.onDragStart)}),this._useMouse&&(r.forEach(function(p){nt(p,"mousedown",n.onDragStart)}),nt(s,"contextmenu",this._onContextMenu)),this._useTouch&&(r.forEach(function(p){nt(p,"touchstart",n.onDragStart)}),nt(s,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(n){var r=this,s=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>s)){var p=new ca(ps(n));this.pinchFlag=!0,this._addStore(p);var m=this.emit("pinchStart",Ze(Ze({data:this.data,datas:this.data,angle:p.getAngle(),touches:this.getCurrentStore().getPositions()},p.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){r._dragFlag=!1}}));m===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(n,r){if(!(!this.flag||!this.pinchFlag||r.length<2)){var s=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Ze(Ze({data:this.data,datas:this.data,movement:this.getMovement(r),angle:s.getAngle(r),rotation:s.getRotation(r),touches:s.getPositions(r),scale:s.getScale(r),distance:s.getDistance(r)},s.getPosition(r)),{inputEvent:n,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(n){if(this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var s=this.getCurrentStore();this.emit("pinchEnd",Ze(Ze({data:this.data,datas:this.data,isPinch:r,touches:s.getPositions()},s.getPosition()),{inputEvent:n}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(n,r,s){var p=this._getPosition(n,s),m=this.isDrag;(p.deltaX||p.deltaY)&&(this.isDrag=!0);var u=!1;return!m&&this.isDrag&&(u=!0),Ze(Ze({data:this.data,datas:this.data},p),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:r,isTrusted:this._isTrusted,isFirstDrag:u})},t.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},t.prototype._getPosition=function(n,r){var s=this.getCurrentStore(),p=s.getPosition(n,r),m=this.clientStores.slice(1).reduce(function(d,f){var o=f.getPosition();return d.distX+=o.distX,d.distY+=o.distY,d},p),u=m.distX,i=m.distY;return Ze(Ze({},p),{distX:u,distY:i})},t.prototype._attchDragEvent=function(){var n=this._window,r=this.options.container,s={passive:!1};this._isDragAPI&&(lt(r,"dragover",this.onDrag,s),lt(n,"dragend",this.onDragEnd)),this._useMouse&&(lt(r,"mousemove",this.onDrag),lt(n,"mouseup",this.onDragEnd)),this._useTouch&&(lt(r,"touchmove",this.onDrag,s),lt(n,"touchend",this.onDragEnd,s),lt(n,"touchcancel",this.onDragEnd,s))},t.prototype._dettachDragEvent=function(){var n=this._window,r=this.options.container;this._isDragAPI&&(nt(r,"dragover",this.onDrag),nt(n,"dragend",this.onDragEnd)),this._useMouse&&(nt(r,"mousemove",this.onDrag),nt(n,"mouseup",this.onDragEnd)),this._useTouch&&(nt(r,"touchstart",this.onDragStart),nt(r,"touchmove",this.onDrag),nt(n,"touchend",this.onDragEnd),nt(n,"touchcancel",this.onDragEnd))},t}(XE);function QE(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var eP=QE;function tP(e){return eP(e).toString(36)}function nP(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function rP(e,t,n){return n.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,s){var p=s.trim();return(p?hi(p):[""]).map(function(m){var u=m.trim();return u.indexOf("@")===0?u:u.indexOf(":global")>-1?u.replace(/\:global/g,""):u.indexOf(":host")>-1?"".concat(u.replace(/\:host/g,".".concat(e))):u?".".concat(e," ").concat(u):".".concat(e)}).join(", ")+" {"})}function iP(e,t,n,r,s){var p=oc(r),m=p.createElement("style");return m.setAttribute("type","text/css"),m.setAttribute("data-styled-id",e),m.setAttribute("data-styled-count","1"),n.nonce&&m.setAttribute("nonce",n.nonce),m.innerHTML=rP(e,t,n),(s||p.head||p.body).appendChild(m),m}function sP(e){var t="rCS"+tP(e);return{className:t,inject:function(n,r){r===void 0&&(r={});var s=nP(n),p=(s||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!p)p=iP(t,e,r,n,s);else{var m=parseFloat(p.getAttribute("data-styled-count"))||0;p.setAttribute("data-styled-count","".concat(m+1))}return{destroy:function(){var u,i=parseFloat(p.getAttribute("data-styled-count"))||0;i<=1?(p.remove?p.remove():(u=p.parentNode)===null||u===void 0||u.removeChild(p),p=null):p.setAttribute("data-styled-count","".concat(i-1))}}}}}var Xa=function(){return Xa=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Xa.apply(this,arguments)};function oP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function aP(e,t){var n=sP(t),r=n.className;return EE(function(s,p){var m=s.className,u=m===void 0?"":m;s.cspNonce;var i=oP(s,["className","cspNonce"]),d=$E();return zE(p,function(){return d.current},[]),Jp(function(){var f=n.inject(d.current,{nonce:s.cspNonce});return function(){f.destroy()}},[]),Ht(e,Xa({ref:d,"data-styled-id":r,className:"".concat(u," ").concat(r)},i))})}function lP(e,t,n,r,s,p){for(var m=0;m<s;++m){var u=n+m*s,i=r+m*s;e[u]+=e[i]*p,t[u]+=t[i]*p}}function cP(e,t,n,r,s){for(var p=0;p<s;++p){var m=n+p*s,u=r+p*s,i=e[m],d=t[m];e[m]=e[u],e[u]=i,t[m]=t[u],t[u]=d}}function uP(e,t,n,r,s){for(var p=0;p<r;++p){var m=n+p*r;e[m]/=s,t[m]/=s}}function fP(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var n=e.slice(),r=eg(t),s=0;s<t;++s){var p=t*s+s;if(!ia(n[p],na)){for(var m=s+1;m<t;++m)if(n[t*s+m]){cP(n,r,s,m,t);break}}if(!ia(n[p],na))return[];uP(n,r,s,t,n[p]);for(var m=0;m<t;++m){var u=m,i=m+s*t,d=n[i];!ia(d,na)||s===m||lP(n,r,u,s,t,-d)}}return r}function vr(e,t,n){n===void 0&&(n=Math.sqrt(e.length));var r=[],s=e.length/n,p=t.length/s;if(s){if(!p)return e}else return t;for(var m=0;m<n;++m)for(var u=0;u<p;++u){r[u*n+m]=0;for(var i=0;i<s;++i)r[u*n+m]+=e[i*n+m]*t[u*s+i]}return r}function hP(e,t,n){n===void 0&&(n=t.length);var r=vr(e,t,n),s=r[n-1];return r.map(function(p){return p/s})}function dP(e,t){return vr(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function pP(e,t){return vr(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function gP(e,t){return vr(e,vP(t,4))}function gs(e,t){var n=t[0],r=n===void 0?1:n,s=t[1],p=s===void 0?1:s,m=t[2],u=m===void 0?1:m;return vr(e,[r,0,0,0,0,p,0,0,0,0,u,0,0,0,0,1],4)}function ua(e,t){var n=t[0],r=n===void 0?0:n,s=t[1],p=s===void 0?0:s,m=t[2],u=m===void 0?0:m;return vr(e,[1,0,0,0,0,1,0,0,0,0,1,0,r,p,u,1],4)}function Va(e,t){return vr(e,t,4)}function vP(e,t){var n=Math.cos(e),r=Math.sin(e),s=eg(t);return s[0]=n,s[1]=r,s[t]=-r,s[t+1]=n,s}function eg(e){for(var t=e*e,n=[],r=0;r<t;++r)n[r]=r%(e+1)?0:1;return n}var Si=function(){return Si=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Si.apply(this,arguments)};function tg(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function mP(e,t){return t===void 0&&(t=0),yP(bP(e,t))}function Ff(e,t){var n=hP(e,[t[0],t[1]||0,t[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function _P(e,t){t===void 0&&(t=document.body);for(var n=e,r=tg();n;){var s=getComputedStyle(n).transform;if(r=Va(mP(s),r),n===t)break;n=n.parentElement}return r=fP(r,4),r[12]=0,r[13]=0,r[14]=0,r}function yP(e){var t=tg();return e.forEach(function(n){var r=n.matrixFunction,s=n.functionValue;r&&(t=r(t,s))}),t}function bP(e,t){t===void 0&&(t=0);var n=Bp(e)?e:aE(e);return n.map(function(r){var s=lE(r),p=s.prefix,m=s.value,u=null,i=p,d="";if(p==="translate"||p==="translateX"||p==="translate3d"){var f=gn(t)?Si(Si({},t),{"o%":t["%"]}):{"%":t,"o%":t},o=hi(m).map(function(ee,oe){return oe===0&&"x%"in f?f["%"]=t["x%"]:oe===1&&"y%"in f?f["%"]=t["y%"]:f["%"]=t["o%"],wi(ee,f)}),l=o[0],a=o[1],c=a===void 0?0:a,g=o[2],h=g===void 0?0:g;u=ua,d=[l,c,h]}else if(p==="translateY"){var v=gn(t)?Si({"%":t["y%"]},t):{"%":t},c=wi(m,v);u=ua,d=[0,c,0]}else if(p==="translateZ"){var h=parseFloat(m);u=ua,d=[0,0,h]}else if(p==="scale"||p==="scale3d"){var _=hi(m).map(function(ee){return parseFloat(ee)}),y=_[0],b=_[1],w=b===void 0?y:b,C=_[2],S=C===void 0?1:C;u=gs,d=[y,w,S]}else if(p==="scaleX"){var y=parseFloat(m);u=gs,d=[y,1,1]}else if(p==="scaleY"){var w=parseFloat(m);u=gs,d=[1,w,1]}else if(p==="scaleZ"){var S=parseFloat(m);u=gs,d=[1,1,S]}else if(p==="rotate"||p==="rotateZ"||p==="rotateX"||p==="rotateY"){var O=$p(m),j=O.unit,Y=O.value,G=j==="rad"?Y:Y*Math.PI/180;p==="rotate"||p==="rotateZ"?(i="rotateZ",u=gP):p==="rotateX"?u=dP:p==="rotateY"&&(u=pP),d=G}else if(p==="matrix3d")u=Va,d=hi(m).map(function(ee){return parseFloat(ee)});else if(p==="matrix"){var U=hi(m).map(function(ee){return parseFloat(ee)});u=Va,d=[U[0],U[1],0,0,U[2],U[3],0,0,0,0,1,0,U[4],U[5],0,1]}else i="";return{name:p,functionName:i,value:m,matrixFunction:u,functionValue:d}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ga=function(){return Ga=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Ga.apply(this,arguments)};function wP(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,u=p.length;m<u;m++,s++)r[s]=p[m];return r}var CP=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(gn(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(gn(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=xo(p,function(u){return u.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,wP(p).forEach(function(u){u.listener(r),u.once&&s.off(n,u.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(Ga({listener:r},s))},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ka=function(e,t){return Ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Ka(e,t)};function SP(e,t){Ka(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Or=function(){return Or=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Or.apply(this,arguments)};function xP(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function fa(e){if(e){if(hr(e))return document.querySelector(e)}else return null;if(jp(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var TP=function(e){SP(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r}var n=t.prototype;return n.dragStart=function(r,s){var p=fa(s.container);if(!p){this._flag=!1;return}var m=0,u=0,i=0,d=0;if(p===document.body)i=window.innerWidth,d=window.innerHeight;else{var f=p.getBoundingClientRect();m=f.top,u=f.left,i=f.width,d=f.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:m,left:u,width:i,height:d},this._prevScrollPos=this._getScrollPosition([0,0],s)},n.drag=function(r,s){if(clearTimeout(this._timer),!!this._flag){var p=r.clientX,m=r.clientY,u=s.threshold,i=u===void 0?0:u,d=this,f=d._startRect,o=d._startPos,l=[0,0];return f.top>m-i?(o[1]>f.top||m<o[1])&&(l[1]=-1):f.top+f.height<m+i&&(o[1]<f.top+f.height||m>o[1])&&(l[1]=1),f.left>p-i?(o[0]>f.left||p<o[0])&&(l[0]=-1):f.left+f.width<p+i&&(o[0]<f.left+f.width||p>o[0])&&(l[0]=1),!l[0]&&!l[1]?!1:this._continueDrag(Or(Or({},s),{direction:l,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var s=this;if(this._isWait)return!1;var p=r.prevScrollPos,m=p===void 0?this._prevScrollPos:p,u=r.direction,i=r.throttleTime,d=i===void 0?0:i,f=r.inputEvent,o=r.isDrag,l=this._getScrollPosition(u||[0,0],r),a=l[0]-m[0],c=l[1]-m[1],g=u||[a?Math.abs(a)/a:0,c?Math.abs(c)/c:0];return this._prevScrollPos=l,!a&&!c?!1:(this.trigger("move",{offsetX:g[0]?a:0,offsetY:g[1]?c:0,inputEvent:f}),d&&o&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},d)),!0)},n.dragEnd=function(){this._flag=!1,clearTimeout(this._timer)},n._getScrollPosition=function(r,s){var p=s.container,m=s.getScrollPosition,u=m===void 0?xP:m;return u({container:fa(p),direction:r})},n._continueDrag=function(r){var s=this,p,m,u=r.container,i=r.direction,d=r.throttleTime,f=r.useScroll,o=r.isDrag,l=r.inputEvent;if(!(!this._flag||o&&this._isWait)){var a=$a(),c=Math.max(d+this._prevTime-a,0);if(c>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},c),!1;this._prevTime=a;var g=this._getScrollPosition(i,r);this._prevScrollPos=g,o&&(this._isWait=!0);var h={container:fa(u),direction:i,inputEvent:l};return(m=(p=r).requestScroll)===null||m===void 0||m.call(p,h),this.trigger("scroll",h),this._isWait=!1,f||this.checkScroll(Or(Or({},r),{prevScrollPos:g,direction:i,inputEvent:l}))}},t}(CP),qa=function(e,t){return qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},qa(e,t)};function OP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qa(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Rt=function(){return Rt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Rt.apply(this,arguments)};function xi(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,p;r<s;r++)(p||!(r in t))&&(p||(p=Array.prototype.slice.call(t,0,r)),p[r]=t[r]);return e.concat(p||Array.prototype.slice.call(t))}function Tn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return GO.apply(void 0,xi(["scena-guides-"],e,!1))}var EP=Tn("guide","adder"),PP=Tn("guides"),kP=Tn("guide"),Lf=Tn("dragging"),AP=Tn("display-drag"),MP=KO("scena-guides-",`
{
    position: relative;
    width: 100%;
    height: 100%;
}
canvas {
    position: relative;
}
.guide-origin {
    position: absolute;
    width: 1px;
    height: 1px;
    top: 0;
    left: 0;
    opacity: 0;
}
.guides {
    position: absolute;
    bottom: 0;
    right: 0;
    will-change: transform;
    z-index: 2000;
}
.guide-pos {
    position: absolute;
    font-weight: bold;
    font-size: 12px;
    color: #f33;
}
.horizontal .guide-pos {
    bottom: 100%;
    left: 50%;
    transform: translate(-50%);
}
.vertical .guide-pos {
    left: calc(100% + 2px);
    top: 50%;
    transform: translateY(-50%);
}
.display-drag {
    position: absolute;
    will-change: transform;
    z-index: 2000;
    font-weight: bold;
    font-size: 12px;
    display: none;
    left: 20px;
    top: -20px;
    color: #f33;
}
:host.horizontal .guides {
    width: 100%;
    height: 0;
}
:host.vertical .guides {
    height: 100%;
    width: 0;
}
:host.horizontal canvas {
    cursor: ns-resize;
}
:host.vertical canvas {
    cursor: ew-resize;
}
.guide {
    position: absolute;
    background: #f33;
    z-index: 2;
}
.guide.dragging:before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
:host.horizontal .guide {
    width: 100%;
    height: 1px;
    cursor: row-resize;
}
:host.vertical .guide {
    width: 1px;
    height: 100%;
    cursor: col-resize;
}
.mobile :host.horizontal .guide {
    transform: scale(1, 2);
}
.mobile :host.vertical .guide {
    transform: scale(2, 1);
}
:host.horizontal .guide:before {
    height: 20px;
}
:host.vertical .guide:before {
    width: 20px;
}
.adder {
    display: none;
}
.adder.dragging {
    display: block;
}
`),DP=xi(["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides","scrollOptions","guideStyle","guidesOffset","digit","defaultGuidesPos","dragGuideStyle","displayGuidePos","guidePosFormat","guidePosStyle","lockGuides"],Zp,!0),RP=["getGuides","loadGuides","scroll","scrollGuides","resize","getElement","getRulerElement","forceUpdate","getRulerScrollPos","getGuideScrollPos","zoomTo","drawRuler"],IP=["changeGuides","requestScroll","dragStart","drag","dragEnd","clickRuler"],FP=aP("div",MP),LP=function(e){OP(t,e);function t(r){var s=e.call(this,r)||this;return s.state={guides:[]},s.scrollPos=0,s.managerRef=fc(),s.guideElements=[],s._isFirstMove=!1,s._zoom=1,s._observer=null,s.onDragStart=function(p){var m=p.datas,u=p.inputEvent;s._isFirstMove=!0,s.movePos(p),s.props.onDragStart(Rt(Rt({},p),{dragElement:m.target})),s.gesto.isFlag()&&(u.stopPropagation(),u.preventDefault(),s._startDragScroll(p))},s._onDrag=function(p){s._isFirstMove&&(s._isFirstMove=!1,gE(p.datas.target,Lf));var m=s.movePos(p);if(s.props.onDrag(Rt(Rt({},p),{dragElement:p.datas.target})),!s.gesto.isFlag()){s._endDragScroll(p);return}return s._dragScroll(p),m},s.onDragEnd=function(p){var m=p.datas,u=p.isDouble,i=p.distX,d=p.distY,f=s.movePos(p),o=s.state.guides,l=s.props,a=l.onChangeGuides,c=l.displayDragPos,g=l.digit,h=l.lockGuides,v=l.guidesOffset,_=s._zoom,y=parseFloat((f/_).toFixed(g||0)),b=s.scrollPos-(v||0);if(c&&(s.displayElement.style.cssText+="display: none;"),vE(m.target,Lf),s.props.onDragEnd(Rt(Rt({},p),{dragElement:m.target})),s._endDragScroll(p),m.fromRuler)s._isFirstMove&&s.props.onClickRuler(Rt(Rt({},p),{pos:0})),y>=b&&o.indexOf(y)<0&&s.setState({guides:xi(xi([],o,!0),[y],!1)},function(){a({guides:s.state.guides,distX:i,distY:d,index:o.length,isAdd:!0,isRemove:!1,isChange:!1})});else{var w=parseFloat(m.target.getAttribute("data-index")),C=!1,S=!1;o=xi([],o,!0);var O=o.indexOf(y);if(u||y<b||O>-1&&O!==w){if(h&&(h===!0||h.indexOf("remove")>-1))return;o.splice(w,1),C=!0}else{if(O>-1)return;if(h&&(h===!0||h.indexOf("change")>-1))return;o[w]=y,S=!0}s.setState({guides:o},function(){var j=s.state.guides;a({distX:i,distY:d,guides:j,isAdd:!1,index:w,isChange:S,isRemove:C})})}},s._onCheck=function(){s.resize()},s.state.guides=r.defaultGuides||[],s.scrollPos=r.defaultGuidesPos||0,s}var n=t.prototype;return n.render=function(){var r=this.props,s=r.className,p=r.type,m=r.zoom,u=r.style,i=r.rulerStyle,d=r.displayDragPos,f=r.cspNonce,o=r.dragGuideStyle,l=r.guidePosStyle,a=l===void 0?{}:l,c=this.props,g=this.getTranslateName(),h={};return Zp.forEach(function(v){v==="style"||v==="warpSelf"||v==="useResizeObserver"||(h[v]=c[v])}),this._zoom=m,Ht(FP,{ref:this.managerRef,cspNonce:f,className:"".concat(Tn("manager",p)," ").concat(s),style:u},Ht("div",{className:Tn("guide-origin"),ref:zn(this,"originElement")}),Ht(UE,Rt({ref:zn(this,"ruler"),style:i},h)),Ht("div",{className:PP,ref:zn(this,"guidesElement"),style:{transform:"".concat(g,"(").concat(-this.scrollPos*m,"px)")}},d&&Ht("div",{className:AP,ref:zn(this,"displayElement"),style:a||{}}),Ht("div",{className:EP,ref:zn(this,"adderElement"),style:o}),this.renderGuides()))},n.drawRuler=function(r){this.ruler.draw(r)},n.renderGuides=function(){var r=this,s=this.props,p=s,m=p.type,u=p.showGuides,i=p.guideStyle,d=p.displayGuidePos,f=p.guidePosStyle,o=f===void 0?{}:f,l=p.guidesOffset,a=this._zoom,c=this.getTranslateName(),g=this.state.guides,h=s.guidePosFormat||s.dragPosFormat||function(v){return v};if(this.guideElements=[],u)return g.map(function(v,_){var y=v+(l||0);return Ht("div",{className:Tn("guide",m),ref:qO(r,"guideElements",_),key:_,"data-index":_,"data-pos":v,style:Rt(Rt({},i),{transform:"".concat(c,"(").concat(y*a,"px) translateZ(0px)")})},d&&Ht("div",{className:Tn("guide-pos"),style:o||{}},h(v)))})},n.componentDidMount=function(){var r=this;this.gesto=new ZE(this.managerRef.current,{container:document.body}).on("dragStart",function(s){var p=r.props,m=p.type,u=p.lockGuides,i=r._zoom;if(u===!0){s.stop();return}var d=s.inputEvent,f=d.target,o=s.datas,l=r.ruler.canvasElement,a=r.guidesElement,c=m==="horizontal",g=r.originElement.getBoundingClientRect(),h=_P(r.managerRef.current),v=Ff(h,[s.clientX-g.left,s.clientY-g.top]);v[0]-=a.offsetLeft,v[1]-=a.offsetTop,v[c?1:0]+=r.scrollPos*i,o.offsetPos=v,o.matrix=h;var _=u&&u.indexOf("add")>-1,y=u&&u.indexOf("remove")>-1,b=u&&u.indexOf("change")>-1;if(f===l){if(_){s.stop();return}o.fromRuler=!0,o.target=r.adderElement}else if(pE(f,kP)){if(y&&b){s.stop();return}o.target=f}else return s.stop(),!1;r.onDragStart(s)}).on("drag",this._onDrag).on("dragEnd",this.onDragEnd),this.props.useResizeObserver?(this._observer=new ResizeObserver(this._onCheck),this._observer.observe(this.guidesElement,{box:"border-box"}),this._observer.observe(this.getRulerElement(),{box:"border-box"})):this._onCheck()},n.componentWillUnmount=function(){var r;this.gesto.unset(),(r=this._observer)===null||r===void 0||r.disconnect()},n.componentDidUpdate=function(r){var s=this.props.defaultGuides;r.defaultGuides!==s&&this.setState({guides:s||[]})},n.loadGuides=function(r){this.setState({guides:r})},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(r,s){s===void 0&&(s=this._zoom),this._zoom=s;var p=this.getTranslateName(),m=this.guidesElement;this.scrollPos=r,m.style.transform="".concat(p,"(").concat(-r*s,"px)");var u=this.state.guides,i=this.props.guidesOffset||0;this.guideElements.forEach(function(d,f){if(d){var o=u[f]+(i||0);d.style.transform="".concat(p,"(").concat(o*s,"px) translateZ(0px)"),d.style.display=-r+o<0?"none":"block"}})},n.zoomTo=function(r){this.scroll(this.getRulerScrollPos(),r),this.scrollGuides(this.getGuideScrollPos(),r)},n.getElement=function(){return this.managerRef.current},n.getRulerElement=function(){return this.ruler.canvasElement},n.getGuideScrollPos=function(){return this.scrollPos},n.getRulerScrollPos=function(){return this.ruler.getScrollPos()},n.scroll=function(r,s){s===void 0&&(s=this._zoom),this._zoom=s,this.ruler.scroll(r,s)},n.resize=function(r){r===void 0&&(r=this._zoom),this.ruler.resize(r)},n.movePos=function(r){var s=r.datas,p=r.distX,m=r.distY,u=this.props,i=u.type,d=u.snaps,f=u.snapThreshold,o=u.displayDragPos,l=u.digit,a=u.guidesOffset||0,c=this._zoom,g=u.dragPosFormat||function(G){return G},h=i==="horizontal",v=Ff(s.matrix,[p,m]),_=s.offsetPos,y=v[0]+_[0],b=v[1]+_[1],w=a*c,C=Math.round(h?b:y)-a,S=parseFloat((C/c).toFixed(l||0)),O=d.slice().sort(function(G,U){return Math.abs(S-G)-Math.abs(S-U)});if(O.length&&Math.abs(O[0]*c-C)<f&&(S=O[0],C=S*c),!s.fromRuler||!this._isFirstMove){if(o){var j=i==="horizontal"?[y,C+w]:[C+w,b];this.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) "+"translate(".concat(j.map(function(G){return"".concat(G,"px")}).join(", "),")"),this.displayElement.innerHTML="".concat(g(S))}var Y=s.target;Y.setAttribute("data-pos",S),Y.style.transform="".concat(this.getTranslateName(),"(").concat(C+a*c,"px)")}return C},n.getTranslateName=function(){return this.props.type==="horizontal"?"translateY":"translateX"},n._startDragScroll=function(r){var s=this,p=this.props.scrollOptions;if(p){var m=r.datas,u=new TP;m.dragScroll=u,u.on("scroll",function(i){var d,f,o=i.container,l=i.direction;(f=(d=s.props).onRequestScroll)===null||f===void 0||f.call(d,{container:o,direction:l})}).on("move",function(i){var d=i.offsetX,f=i.offsetY,o=i.inputEvent;s.gesto.scrollBy(d,f,o.inputEvent,!0)}),u.dragStart(r,{container:p.container})}},n._dragScroll=function(r){var s=this.props.scrollOptions;if(s){var p=r.datas.dragScroll;p.drag(r,s)}},n._endDragScroll=function(r){var s;(s=r.datas.dragScroll)===null||s===void 0||s.dragEnd(),r.datas.dragScroll=null},t.defaultProps={className:"",type:"horizontal",zoom:1,style:{},snapThreshold:5,snaps:[],digit:0,onClickRuler:function(){},onChangeGuides:function(){},onRequestScroll:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(r){return r},defaultGuides:[],lockGuides:!1,showGuides:!0,guideStyle:{},dragGuideStyle:{},guidePosStyle:{},defaultGuidesPos:0},t}(Vp),Ja=function(e,t){return Ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ja(e,t)};function dc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ja(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ys=function(){return Ys=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Ys.apply(this,arguments)};function BP(e,t,n,r){var s=arguments.length,p=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(m=e[u])&&(p=(s<3?m(p):s>3?m(t,n,p):m(t,n))||p);return s>3&&p&&Object.defineProperty(t,n,p),p}var ng=DP,rg=RP,ig=IP,jP=function(e){dc(t,e);function t(r){var s=e.call(this,r)||this;return s.state={},s.state=s.props,s}var n=t.prototype;return n.render=function(){return Ht(LP,Ys({ref:zn(this,"guides")},this.state))},t}(uc);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Za=function(){return Za=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Za.apply(this,arguments)};function NP(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,u=p.length;m<u;m++,s++)r[s]=p[m];return r}var $P=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(gn(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(gn(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=xo(p,function(u){return u.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,NP(p).forEach(function(u){u.listener(r),u.once&&s.off(n,u.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(Za({listener:r},s))},e}(),zP=function(e){dc(t,e);function t(r,s){s===void 0&&(s={});var p=e.call(this)||this;p.containerProvider=null,p.selfElement=null,p._warp=!1;var m={};ig.forEach(function(i){m[cE("on ".concat(i))]=function(d){return p.trigger(i,d)}});var u;return s.warpSelf?(delete s.warpSelf,p._warp=!0,u=r):(u=document.createElement("div"),r.appendChild(u)),p.containerProvider=Df(Ht(jP,Ys({ref:zn(p,"innerGuides")},m,s)),u),p}var n=t.prototype;return n.setState=function(r,s){this.innerGuides.setState(r,s)},n.forceUpdate=function(r){this.innerGuides.forceUpdate(r)},n.destroy=function(){var r,s=this.selfElement;Df(null,s,this.containerProvider),this._warp||(r=s==null?void 0:s.parentElement)===null||r===void 0||r.removeChild(s),this.selfElement=null,this.innerGuides=null},n.getInnerGuides=function(){return this.innerGuides.guides},t=BP([Of(rg,function(r,s){r[s]||(r[s]=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var u=this.getInnerGuides();if(!(!u||!u[s]))return u[s].apply(u,p)})}),Of(ng,function(r,s){Object.defineProperty(r,s,{get:function(){return this.getInnerGuides().props[s]},set:function(p){var m;this.innerGuides.setState((m={},m[s]=p,m))},enumerable:!0,configurable:!0})})],t),t}($P),HP=function(e){dc(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(zP);const $i=[...ng];$i.splice($i.indexOf("style"),1);const sg={},pc={};$i.forEach(e=>{pc[e]=function(t){this.$_guides[e]=t}});pc.vueStyle=function(e){this.$_guides.style=e};rg.forEach(e=>{sg[e]=function(...t){return this.$_guides[e](...t)}});const UP={name:"guides",methods:sg,watch:pc,props:[...$i,"vueStyle"],mounted(){const e={},t=this.$props;$i.forEach(p=>{const m=t[p];Lp(m)||(e[p]=t[p])});const r=this.$refs.container;e.style=t.vueStyle,e.warpSelf=!0,this.$_guides=new HP(r,e);const s=this.$_guides;ig.forEach(p=>{s.on(p,m=>{this.$emit(p,{...m})})})},beforeUnmount(){this.$_guides.destroy()}},WP={ref:"container"};function YP(e,t,n,r,s,p){return re(),de("div",WP,null,512)}const XP=ht(UP,[["render",YP]]);const gc=e=>(ro("data-v-9db25f33"),e=e(),io(),e),VP=gc(()=>te("path",{d:"M12.75 12.75H21V11.25H12.75H11.25H3V12.75H11.25H12.75Z",fill:"currentColor"},null,-1)),GP=[VP],KP=gc(()=>te("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.25 12.75V21H12.75V12.75H21V11.25H12.75V3H11.25V11.25H3V12.75H11.25Z",fill:"currentColor"},null,-1)),qP=[KP],JP=["random"],ZP=["onClick"],QP={class:"dc-layout-scale-bar-item__menu__item--main"},ek=gc(()=>te("hr",null,null,-1)),tk={__name:"scale-bar",props:{clearRule:{type:Function},lockRule:{type:Function}},setup(e){const t=e,n=fe(!1),r=fe(),s=xe("canvas"),p=xe("handler"),m=fe(),u=fe([[{type:"showRule",title:"",status:!0}],[{type:"lock",title:"",status:()=>{t.lockRule()}},{type:"clearRule",title:"",status:()=>{t.clearRule()}}],[{type:"size",title:"400%",value:4,status:()=>{var c;(c=p.value)==null||c.workareaHandler.setZoomAuto(4)}},{type:"size",title:"200%",value:2,status:()=>{var c;(c=p.value)==null||c.workareaHandler.setZoomAuto(2)}},{type:"size",title:"100%",value:1,status:()=>{var c;(c=p.value)==null||c.workareaHandler.setZoomAuto(1)}},{type:"size",title:"50%",value:.5,status:()=>{var c;(c=p.value)==null||c.workareaHandler.setZoomAuto(.5)}}],[{type:"fullscreen",title:"",status:()=>{var c;(c=p.value)==null||c.workareaHandler.one()}},{type:"fullscreen",title:"",status:()=>{var c;(c=p.value)==null||c.workareaHandler.one()}}]]);function i(c){c.status()}function d(){n.value=!n.value}function f(){return s.value?parseInt(s.value.getZoom()*100)+"%":"0%"}function o(){m.value=Math.random()*1e3}function l(){var c;(c=p.value)==null||c.workareaHandler.small()}function a(){var c;(c=p.value)==null||c.workareaHandler.big()}return Je(()=>{window.addEventListener("resize",o)}),Wi(()=>{window.removeEventListener("resize",o)}),(c,g)=>{const h=ze("popover");return re(),de("div",{class:"dc-layout-scale-bar popover",ref_key:"scaleDom",ref:r},[(re(),de("svg",{role:"img","aria-label":"minus",focusable:"false","data-icon":"minus","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-minus",onClick:l},GP)),(re(),de("svg",{role:"img","aria-label":"add",focusable:"false","data-icon":"add","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-add",onClick:a},qP)),te("span",{class:"dc-layout-scale-bar__percent gda-popover-open",onClick:d,random:m.value},Ge(f()),9,JP),pe(h,{dom:r.value,show:n.value,onClose:g[0]||(g[0]=v=>n.value=!1)},{default:ve(({setSlotRef:v})=>[te("div",{class:"content",ref:_=>v(_)},[(re(!0),de(Me,null,gt(u.value,(_,y)=>(re(),de(Me,{key:y},[(re(!0),de(Me,null,gt(_,b=>(re(),de("div",{key:b.type,class:"dc-layout-scale-bar-item__menu__item",onClick:w=>i(b)},[te("span",QP,Ge(b.title),1)],8,ZP))),128)),ek],64))),128))],512)]),_:1},8,["dom","show"])],512)}}},nk=ht(tk,[["__scopeId","data-v-9db25f33"]]);const rk={components:{Guides:XP,ScaleBar:nk},setup(){const e=fe(),t=fe(),n=fe(),r=fe(null),s=fe(),p=xe("handler"),m=fe(!0),u=ne(()=>{var _,y,b;const h=(y=(_=p.value)==null?void 0:_.canvas)==null?void 0:y.viewportTransform,v=(b=p.value)==null?void 0:b.workareaHandler.workspace;return h&&v?{left:parseInt(h[4]),top:parseInt(h[5]),zoom:h[0],width:v.width,height:v.height}:{left:0,x:1,y:1,top:0}});Ae(()=>u,()=>{l()},{deep:!0}),Je(()=>{l(),window.addEventListener("resize",f),s.value.addEventListener("scroll",o),console.log(e.value)}),Wi(()=>{window.removeEventListener("resize",f)});const i=ne(()=>r.value?[[r.value.left,r.value.left+r.value.width]]:[]),d=ne(()=>r.value?[[r.value.top,r.value.top+r.value.height]]:[]);ne(()=>r.value?r.value.width-r.value.width*(1-r.value.zoom)/2:0);function f(){e.value.resize(),t.value.resize(),u.value&&l()}function o(){const h=s.value.scrollTop,v=s.value.scrollLeft;e.value.scroll(v),t.value.scrollGuides(v),t.value.scroll(h),e.value.scrollGuides(h)}function l(){u.value&&(r.value={left:u.value.left,top:u.value.top,width:u.value.width,height:u.value.height,zoom:u.value.zoom})}function a(){e.value.loadGuides([]),t.value.loadGuides([])}function c(){m.value=!m.value}function g(h){h.isChange=!1}return{guides1:e,guides2:t,horRange:i,verRange:d,shell:n,shellPoi:r,container:s,clearRule:a,lockRule:c,OnChangeGuides:g,textFormat(h){if(r.value){if(h==r.value.left)return 0;if(h==r.value.left+r.value.width)return r.value.width;if(h>=r.value.left&&h<=r.value.left+r.value.width)return h-r.value.left;if(h<=r.value.left)return Math.abs(h-r.value.left);if(h>=r.value.left+r.value.width)return h-r.value.width}return""},verTextFormat(h){if(r.value){if(h==r.value.top)return 0;if(h==r.value.top+r.value.height)return r.value.height;if(h>=r.value.top&&h<=r.value.top+r.value.height)return h-r.value.top;if(h<=r.value.top)return Math.abs(h-r.value.top);if(h>=r.value.top+r.value.height)return h-r.value.top}return""},DragPosFormat(h){return console.log("value",h),h}}}},ik={class:"main"},sk={class:"ruler horizontal"},ok={class:"ruler vertical"},ak={class:"editor-container",ref:"container"},lk={class:"editor-shell-wrap",ref:"shell"},ck={class:"edit-bottom"};function uk(e,t,n,r,s,p){const m=ze("Guides"),u=ze("ScaleBar");return re(),de("div",ik,[te("div",{class:"box",onClick:t[0]||(t[0]=(...i)=>e.onRestore&&e.onRestore(...i)),ref:"box"},null,512),te("div",sk,[pe(m,{ref:"guides1",type:"horizontal",direction:"start",textAlign:"right",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[0,-8],selectedRangesTextOffset:[0,-8],longLineSize:5,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",defaultPixelScale:1,scrollPos:20,selectedRangesText:!0,textColor:"#7f8792",selectedRangesTextColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,markColor:"red",segment:2,displayDragPos:!1,rulerStyle:{left:"10px",width:"calc(100% - 20px)",height:"20px"},onChangeGuides:r.OnChangeGuides},null,8,["zoom","rulerStyle","onChangeGuides"])]),te("div",ok,[pe(m,{ref:"guides2",type:"vertical",direction:"start",textAlign:"right",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[-8,0],selectedRangesTextOffset:[-8,0],longLineSize:5,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",selectedRangesText:!0,textColor:"#7f8792",selectedRangesTextColor:"red",markColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,segment:1,displayDragPos:!0,rulerStyle:{top:"20px",height:"calc(100% - 20px)",width:"20px"}},null,8,["zoom","rulerStyle"])]),te("div",ak,[te("div",lk,[Ee(e.$slots,"canvas",{},void 0,!0)],512)],512),te("div",ck,[pe(u,{clearRule:r.clearRule,lockRule:r.lockRule},null,8,["clearRule","lockRule"])])])}const fk=ht(rk,[["render",uk],["__scopeId","data-v-b84607b1"]]),hk=[{text:"",type:"design"}];const dk={class:"common-checkbox"},pk=["id"],gk=["for"],vk={__name:"checkbox",props:{className:{type:String,default:""},initValue:{type:Object,default:()=>({})},typeKey:{type:String,default:""},content:{type:String,default:""},disabled:{type:Boolean,default:!1},activeName:{type:String,default:""},effect:{type:String,default:"dark"},placement:{type:String,default:"bottom"}},setup(e){const t=e,{emit:n}=jh(),r=ne({get(){return t.initValue[t.typeKey]},set(s){n("change",s)}});return(s,p)=>{const m=ze("el-tooltip");return re(),ke(m,{class:"item",effect:e.effect,content:e.content,placement:e.placement},{default:ve(()=>[te("div",dk,[mt(te("input",{type:"checkbox",id:"toggle_"+e.typeKey,"onUpdate:modelValue":p[0]||(p[0]=u=>r.value=u)},null,8,pk),[[s0,r.value]]),te("label",{for:"toggle_"+e.typeKey,class:Ce(["switch",[e.className,r.value?"switch-active":"",r.value?e.activeName:"",e.disabled?"switch-disabeld":""]])},[Ee(s.$slots,"default",{},void 0,!0)],10,gk)])]),_:3},8,["effect","content","placement"])}}},mk=ht(vk,[["__scopeId","data-v-037d29d3"]]);const _k={components:{Checkbox:mk},props:{onChange:{type:Function,default:()=>{}},canvasRef:{type:Object,default:{}},barShow:{type:Array,default:()=>["locked","layer","flip","copy","delete"]},poi:{type:String,default:"bottom"}},computed:{islocked(){return!1}},methods:{myCheck(){},getBarShow(e){return this.barShow.includes(e)},copy(){},handleDelete(){}}},yk={class:"bar"},bk={class:"func-content"},wk={class:"func-content"},Ck={class:"func-content"},Sk={class:"func-content"},xk={class:"func-content"};function Tk(e,t,n,r,s,p){const m=ze("el-tooltip"),u=ze("Checkbox");return re(),de("div",yk,[mt(te("div",bk,[pe(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:ve(()=>[te("i",{class:"iconfont icon-cengji",onClick:t[0]||(t[0]=ur((...i)=>e.onLayerShow&&e.onLayerShow(...i),["stop"]))})]),_:1},8,["disabled"])],512),[[Tt,p.getBarShow("layer")]]),mt(te("div",wk,[pe(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:ve(()=>[te("i",{class:"iconfont icon-zuoyoufanzhuan",onClick:t[1]||(t[1]=ur((...i)=>e.handleFlip&&e.handleFlip(...i),["stop"]))})]),_:1},8,["disabled"])],512),[[Tt,p.getBarShow("flip")]]),mt(te("div",Ck,[pe(u,{className:"iconfont icon-unlock",activeName:"icon-suoding_huaban",content:"",initValue:{locked:!1},typeKey:"locked",effect:"dark",placement:"top",onChange:p.myCheck},null,8,["onChange"])],512),[[Tt,p.getBarShow("locked")]]),mt(te("div",Sk,[pe(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:ve(()=>[te("i",{class:"iconfont icon-fuzhi",onClick:t[2]||(t[2]=(...i)=>p.copy&&p.copy(...i))})]),_:1},8,["disabled"])],512),[[Tt,p.getBarShow("copy")]]),mt(te("div",xk,[pe(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:ve(()=>[te("i",{class:Ce(["iconfont icon-delete",p.islocked?"icon_noactive":""]),onClick:t[3]||(t[3]=(...i)=>p.handleDelete&&p.handleDelete(...i))},null,2)]),_:1},8,["disabled"])],512),[[Tt,p.getBarShow("delete")]])])}const Ok=ht(_k,[["render",Tk],["__scopeId","data-v-688426f9"]]),Ek=[{material_type:"canvas_size",id:2931,title:"",material:{unit:"px",name:"",width:"1242",height:"2208"}},{material_type:"canvas_size",id:2932,title:" ",material:{unit:"px",name:" ",width:"900",height:"383"}},{material_type:"canvas_size",id:2933,title:"",material:{unit:"px",name:"",width:"500",height:"500"}},{material_type:"canvas_size",id:12425,title:"",material:{unit:"px",name:"",width:"1242",height:"1660"}},{material_type:"canvas_size",id:2934,title:"",material:{unit:"px",name:"",width:"800",height:"800"}},{material_type:"canvas_size",id:2935,title:"",material:{unit:"px",name:"",width:"520",height:"416"}},{material_type:"canvas_size",id:2936,title:"",material:{unit:"px",name:"",width:"1200",height:"675"}},{material_type:"canvas_size",id:2937,title:"",material:{unit:"px",name:"",width:"1200",height:"1920"}},{material_type:"canvas_size",id:2938,title:"",material:{unit:"px",name:"",width:"1920",height:"700"}},{material_type:"canvas_size",id:2939,title:"",material:{unit:"px",name:"",width:"1920",height:"150"}},{material_type:"canvas_size",id:2940,title:" ",material:{unit:"px",name:" ",width:"750",height:"1000"}},{material_type:"canvas_size",id:12427,title:"",material:{unit:"px",name:"",width:"1920",height:"1080"}},{material_type:"canvas_size",id:12428,title:"",material:{unit:"px",name:"",width:"1080",height:"1260"}},{material_type:"canvas_size",id:12426,title:"",material:{unit:"px",name:"",width:"1242",height:"2690"}},{material_type:"canvas_size",id:2941,title:"PPT16:9",material:{unit:"px",name:"PPT16:9",width:"1920",height:"1080"}},{material_type:"canvas_size",id:2942,title:"",material:{unit:"mm",name:"",width:"96",dpi:"300",height:"60"}},{material_type:"canvas_size",id:2949,title:"",material:{unit:"mm",name:"",width:"426",dpi:"300",height:"576"}},{material_type:"canvas_size",id:2948,title:"2m",material:{unit:"cm",name:"2m",width:"80",dpi:"150",height:"200"}},{material_type:"canvas_size",id:2947,title:"1.8m",material:{unit:"cm",name:"1.8m",width:"80",dpi:"150",height:"180"}},{material_type:"canvas_size",id:2946,title:"",material:{unit:"mm",name:"",width:"168",dpi:"300",height:"66"}},{material_type:"canvas_size",id:2945,title:"",material:{unit:"mm",name:"",width:"206",dpi:"300",height:"86"}},{material_type:"canvas_size",id:2944,title:"",material:{unit:"mm",name:"",width:"291",dpi:"300",height:"216"}},{material_type:"canvas_size",id:2943,title:"",material:{unit:"mm",name:"",width:"426",dpi:"300",height:"291"}},{material_type:"canvas_size",id:2950,title:"A3",material:{unit:"mm",name:"A3",width:"291",dpi:"300",height:"420"}},{material_type:"canvas_size",id:2951,title:"A4",material:{unit:"mm",name:"A4",width:"210",dpi:"300",height:"297"}},{material_type:"canvas_size",id:2952,title:"A5",material:{unit:"mm",name:"A5",width:"148",dpi:"300",height:"210"}}];const mr=e=>(ro("data-v-1a0e2e98"),e=e(),io(),e),Pk={class:"workspace-size"},kk={class:"size-header"},Ak=mr(()=>te("span",null,"",-1)),Mk={class:"header_toolbar"},Dk={class:"custom-size popover"},Rk={class:"input-number-group"},Ik={class:"input-number",type:"number"},Fk={class:"input-number",type:"number"},Lk={class:"input-number-group__suffix"},Bk=mr(()=>te("button",{type:"button"},[te("i",{class:"iconfont icon-link-outline"})],-1)),jk={type:"button",class:"btn-px"},Nk=mr(()=>te("span",{class:"dbu-resize-panel__unit-select__text"},"px",-1)),$k={class:"unit-menu-list"},zk={class:"unit-menu-item"},Hk={class:"unit-menu-item-select"},Uk=mr(()=>te("div",{class:"unit-menu-item"},[te("div",null,"cm()")],-1)),Wk=mr(()=>te("div",{class:"unit-menu-item"},[te("div",null,"mm()")],-1)),Yk={class:"size-body"},Xk={class:"size-list"},Vk=mr(()=>te("div",{class:"size-name"},"",-1)),Gk=["onClick"],Kk={class:"size-name"},qk={class:"size-info"},Jk=mr(()=>te("span",{class:"m03"},"",-1)),Zk={class:"m03"},Qk={__name:"workspace-size",setup(e){const{state:t}=qr(),n=fe(Ek),r=xe("handler"),s=fe(),p=fe(),m=ne(()=>t.workspace);function u(d){var f;m.value.sizeId=d.id,(f=r.value)==null||f.workareaHandler.setSize(parseInt(d==null?void 0:d.material.width),parseInt(d==null?void 0:d.material.height))}function i(){m.value.sizeId=""}return(d,f)=>{const o=ze("el-input"),l=ze("el-tooltip");return re(),de("div",Pk,[te("div",kk,[te("div",{class:"header_back",onClick:f[0]||(f[0]=a=>d.$emit("back"))},[pe(F(Ed),{style:{width:"16px",height:"16px"}}),Ak]),te("div",Mk,[te("div",Dk,[te("div",Rk,[te("div",Ik,[pe(o,{modelValue:s.value,"onUpdate:modelValue":f[1]||(f[1]=a=>s.value=a)},null,8,["modelValue"])]),te("div",Fk,[pe(o,{modelValue:p.value,"onUpdate:modelValue":f[2]||(f[2]=a=>p.value=a)},null,8,["modelValue"])]),te("div",Lk,[pe(l,{class:"item",effect:"dark",content:"",placement:"top"},{default:ve(()=>[Bk]),_:1})])]),pe(F(aO),{placement:"bottom-start","popper-class":"unit-menu",width:200,offset:2,trigger:"hover","show-arrow":!1},{reference:ve(()=>[te("button",jk,[Nk,pe(F(rt),{size:12},{default:ve(()=>[pe(F(Ty))]),_:1})])]),default:ve(()=>[te("div",$k,[te("div",zk,[te("div",Hk,[Yi(" px() "),pe(F(rt),{style:{width:"1em",height:"1em"}},{default:ve(()=>[pe(F(Go))]),_:1})])]),Uk,Wk])]),_:1})])])]),te("div",Yk,[te("div",Xk,[te("div",{class:Ce(["size-item",!m.value||!m.value.sizeId?"size-item-select":""]),onClick:i},[pe(F(rt),{style:{width:"1em",height:"1em"}},{default:ve(()=>[pe(F(Go))]),_:1}),Vk],2),(re(!0),de(Me,null,gt(n.value,(a,c)=>(re(),de("div",{class:Ce(["size-item",m.value&&a.id==m.value.sizeId?"size-item-select":""]),key:c,onClick:g=>u(a)},[pe(F(rt),{style:{width:"1em",height:"1em"}},{default:ve(()=>[pe(F(Go))]),_:1}),te("div",Kk,Ge(a.title),1),te("div",qk,[te("span",null,Ge(a.material.width),1),Jk,te("span",null,Ge(a.material.height),1),te("span",Zk,Ge(a.material.unit),1)])],10,Gk))),128))])])])}}},eA=ht(Qk,[["__scopeId","data-v-1a0e2e98"]]);const tA={components:{Bar:Ok,WorkspaceSize:eA},setup(){const e=fe(hk),t=fe("design"),n=fe(!1),{state:r}=qr(),s=ne(()=>r.workspace);return{headtool:e,sizeShow:n,workspace:s,getActiveClass(p){return Array.isArray(p.type)?p.type.includes(t.value)?"tabActive":"":p.type==t.value?"tabActive":""},selectTabs(p){t.value=p.type},getActiveTab(p){return p.type==t.value}}}},og=e=>(ro("data-v-ba191d32"),e=e(),io(),e),nA={class:"editor-props-panel"},rA={class:"tab-panel-header"},iA={class:"tab-panel-block__header"},sA=["onClick"],oA={class:"tab-button"},aA={class:"tab-panel-bloack_content"},lA={class:"tab-panel"},cA={class:"tab-scrollbar__container"},uA={class:"panel-block"},fA=og(()=>te("div",{class:"panel-block__header"},[te("div",{class:"panel-block__header-title"},"")],-1)),hA={class:"panel-block__content"},dA={class:"gda-space-item"},pA={class:"panel-row"},gA=og(()=>te("div",{class:"panel-row__label"},"",-1)),vA={key:0,class:"panel-row__content"},mA={class:"gda-space-item"},_A={class:"panel-row"},yA={class:"panel-row__content"},bA=Om('<div class="panel-block" data-v-ba191d32><div class="panel-block__header" data-v-ba191d32><div class="panel-block__header-title" data-v-ba191d32></div></div><div class="panel-block__content" data-v-ba191d32><div class="gda-space-item" data-v-ba191d32><div class="gda-space-item" data-v-ba191d32><div class="panel-row" data-v-ba191d32><div class="panel-row__content" data-v-ba191d32><button class="right-canvas-resize-btn" data-v-ba191d32></button></div></div></div></div></div></div><div class="panel-block" data-v-ba191d32><div class="panel-block__header" data-v-ba191d32><div class="panel-block__header-title" data-v-ba191d32></div><div class="panel-block__header-action" data-v-ba191d32><div class="popup" data-v-ba191d32><div class="swatch--shape-round" data-v-ba191d32></div></div></div></div></div>',2);function wA(e,t,n,r,s,p){const m=ze("Bar"),u=ze("workspace-size");return re(),de("div",nA,[te("div",rA,[te("div",iA,[(re(!0),de(Me,null,gt(r.headtool,i=>mt((re(),de("div",{key:i.text,onClick:d=>r.selectTabs(i)},[te("button",oA,[te("div",{class:Ce(["tab-content",r.getActiveClass(i)])},Ge(i.text),3)])],8,sA)),[[Tt,r.getActiveTab(i)]])),128))]),te("div",aA,[pe(m)])]),te("div",lA,[te("div",cA,[te("div",uA,[fA,te("div",hA,[te("div",dA,[te("div",pA,[gA,r.workspace?(re(),de("div",vA,Ge(r.workspace.width)+"  "+Ge(r.workspace.height)+" px ",1)):De("",!0)]),te("div",mA,[te("div",_A,[te("div",yA,[te("button",{class:"right-canvas-resize-btn",onClick:t[0]||(t[0]=i=>r.sizeShow=!0)},"  ")])])])])])]),bA])]),pe(vn,{name:"anime"},{default:ve(()=>[r.sizeShow?(re(),ke(u,{key:0,onBack:t[1]||(t[1]=i=>r.sizeShow=!1)})):De("",!0)]),_:1})])}const CA=ht(tA,[["render",wA],["__scopeId","data-v-ba191d32"]]);const SA={},xA={class:"header_nav"},TA=te("div",{class:"logo"},null,-1),OA=te("div",{class:"starfish-link"},[te("a",{href:"https://github.com/haixin-fang/vue-design-editor",target:"_black"},[te("i",{class:"iconfont icon-GitHub"})])],-1),EA=[TA,OA];function PA(e,t){return re(),de("div",xA,EA)}const kA=ht(SA,[["render",PA]]);let vs;const AA=new Uint8Array(16);function MA(){if(!vs&&(vs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vs(AA)}const ct=[];for(let e=0;e<256;++e)ct.push((e+256).toString(16).slice(1));function DA(e,t=0){return ct[e[t+0]]+ct[e[t+1]]+ct[e[t+2]]+ct[e[t+3]]+"-"+ct[e[t+4]]+ct[e[t+5]]+"-"+ct[e[t+6]]+ct[e[t+7]]+"-"+ct[e[t+8]]+ct[e[t+9]]+"-"+ct[e[t+10]]+ct[e[t+11]]+ct[e[t+12]]+ct[e[t+13]]+ct[e[t+14]]+ct[e[t+15]]}const RA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Bf={randomUUID:RA};function vc(e,t,n){if(Bf.randomUUID&&!t&&!e)return Bf.randomUUID();e=e||{};const r=e.random||(e.rng||MA)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return DA(r)}var we={};const IA={},FA=Object.freeze(Object.defineProperty({__proto__:null,default:IA},Symbol.toStringTag,{value:"Module"})),ha=WT(FA);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=ha,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=ha.implForWrapper,t.nodeCanvas=ha.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function u(a,c){if(this.__eventListeners[a]){var g=this.__eventListeners[a];c?g[g.indexOf(c)]=!1:t.util.array.fill(g,!1)}}function i(a,c){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in a)this.on(g,a[g]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(c);return this}function d(a,c){var g=(function(){c.apply(this,arguments),this.off(a,g)}).bind(this);this.on(a,g)}function f(a,c){if(arguments.length===1)for(var g in a)d.call(this,g,a[g]);else d.call(this,a,c);return this}function o(a,c){if(!this.__eventListeners)return this;if(arguments.length===0)for(a in this.__eventListeners)u.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in a)u.call(this,g,a[g]);else u.call(this,a,c);return this}function l(a,c){if(!this.__eventListeners)return this;var g=this.__eventListeners[a];if(!g)return this;for(var h=0,v=g.length;h<v;h++)g[h]&&g[h].call(this,c||{});return this.__eventListeners[a]=g.filter(function(_){return _!==!1}),this}t.Observable={fire:l,on:i,once:f,off:o}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var u=0,i=arguments.length;u<i;u++)this._onObjectAdded(arguments[u]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(u,i,d){var f=this._objects;return d?f[i]=u:f.splice(i,0,u),this._onObjectAdded&&this._onObjectAdded(u),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var u=this._objects,i,d=!1,f=0,o=arguments.length;f<o;f++)i=u.indexOf(arguments[f]),i!==-1&&(d=!0,u.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&d&&this.requestRenderAll(),this},forEachObject:function(u,i){for(var d=this.getObjects(),f=0,o=d.length;f<o;f++)u.call(i,d[f],f,d);return this},getObjects:function(u){return typeof u>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===u})},item:function(u){return this._objects[u]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(u,i){return this._objects.indexOf(u)>-1?!0:i?this._objects.some(function(d){return typeof d.contains=="function"&&d.contains(u,!0)}):!1},complexity:function(){return this._objects.reduce(function(u,i){return u+=i.complexity?i.complexity():0,u},0)}},t.CommonMethods={_setOptions:function(u){for(var i in u)this.set(i,u[i])},_initGradient:function(u,i){u&&u.colorStops&&!(u instanceof t.Gradient)&&this.set(i,new t.Gradient(u))},_initPattern:function(u,i,d){u&&u.source&&!(u instanceof t.Pattern)?this.set(i,new t.Pattern(u,d)):d&&d()},_setObject:function(u){for(var i in u)this._set(i,u[i])},set:function(u,i){return typeof u=="object"?this._setObject(u):this._set(u,i),this},_set:function(u,i){this[u]=i},toggle:function(u){var i=this.get(u);return typeof i=="boolean"&&this.set(u,!i),this},get:function(u){return this[u]}},function(u){var i=Math.sqrt,d=Math.atan2,f=Math.pow,o=Math.PI/180,l=Math.PI/2;t.util={cos:function(a){if(a===0)return 1;a<0&&(a=-a);var c=a/l;switch(c){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(a===0)return 0;var c=a/l,g=1;switch(a<0&&(g=-1),c){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(a)},removeFromArray:function(a,c){var g=a.indexOf(c);return g!==-1&&a.splice(g,1),a},getRandomInt:function(a,c){return Math.floor(Math.random()*(c-a+1))+a},degreesToRadians:function(a){return a*o},radiansToDegrees:function(a){return a/o},rotatePoint:function(a,c,g){var h=new t.Point(a.x-c.x,a.y-c.y),v=t.util.rotateVector(h,g);return new t.Point(v.x,v.y).addEquals(c)},rotateVector:function(a,c){var g=t.util.sin(c),h=t.util.cos(c),v=a.x*h-a.y*g,_=a.x*g+a.y*h;return{x:v,y:_}},createVector:function(a,c){return new t.Point(c.x-a.x,c.y-a.y)},calcAngleBetweenVectors:function(a,c){return Math.acos((a.x*c.x+a.y*c.y)/(Math.hypot(a.x,a.y)*Math.hypot(c.x,c.y)))},getHatVector:function(a){return new t.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,c,g){var h=t.util.createVector(a,c),v=t.util.createVector(a,g),_=t.util.calcAngleBetweenVectors(h,v),y=t.util.calcAngleBetweenVectors(t.util.rotateVector(h,_),v),b=_*(y===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(h,b)),angle:_}},projectStrokeOnPoints:function(a,c,g){var h=[],v=c.strokeWidth/2,_=c.strokeUniform?new t.Point(1/c.scaleX,1/c.scaleY):new t.Point(1,1),y=function(b){var w=v/Math.hypot(b.x,b.y);return new t.Point(b.x*w*_.x,b.y*w*_.y)};return a.length<=1||a.forEach(function(b,w){var C=new t.Point(b.x,b.y),S,O;w===0?(O=a[w+1],S=g?y(t.util.createVector(O,C)).addEquals(C):a[a.length-1]):w===a.length-1?(S=a[w-1],O=g?y(t.util.createVector(S,C)).addEquals(C):a[0]):(S=a[w-1],O=a[w+1]);var j=t.util.getBisector(C,S,O),Y=j.vector,G=j.angle,U,ee;if(c.strokeLineJoin==="miter"&&(U=-v/Math.sin(G/2),ee=new t.Point(Y.x*U*_.x,Y.y*U*_.y),Math.hypot(ee.x,ee.y)/v<=c.strokeMiterLimit)){h.push(C.add(ee)),h.push(C.subtract(ee));return}U=-v*Math.SQRT2,ee=new t.Point(Y.x*U*_.x,Y.y*U*_.y),h.push(C.add(ee)),h.push(C.subtract(ee))}),h},transformPoint:function(a,c,g){return g?new t.Point(c[0]*a.x+c[2]*a.y,c[1]*a.x+c[3]*a.y):new t.Point(c[0]*a.x+c[2]*a.y+c[4],c[1]*a.x+c[3]*a.y+c[5])},makeBoundingBoxFromPoints:function(a,c){if(c)for(var g=0;g<a.length;g++)a[g]=t.util.transformPoint(a[g],c);var h=[a[0].x,a[1].x,a[2].x,a[3].x],v=t.util.array.min(h),_=t.util.array.max(h),y=_-v,b=[a[0].y,a[1].y,a[2].y,a[3].y],w=t.util.array.min(b),C=t.util.array.max(b),S=C-w;return{left:v,top:w,width:y,height:S}},invertTransform:function(a){var c=1/(a[0]*a[3]-a[1]*a[2]),g=[c*a[3],-c*a[1],-c*a[2],c*a[0]],h=t.util.transformPoint({x:a[4],y:a[5]},g,!0);return g[4]=-h.x,g[5]=-h.y,g},toFixed:function(a,c){return parseFloat(Number(a).toFixed(c))},parseUnit:function(a,c){var g=/\D{0,2}$/.exec(a),h=parseFloat(a);switch(c||(c=t.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return h*t.DPI/25.4;case"cm":return h*t.DPI/2.54;case"in":return h*t.DPI;case"pt":return h*t.DPI/72;case"pc":return h*t.DPI/72*12;case"em":return h*c;default:return h}},falseFunction:function(){return!1},getKlass:function(a,c){return a=t.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),t.util.resolveNamespace(c)[a]},getSvgAttributes:function(a){var c=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":c=c.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":c=c.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":c=c.concat(["offset","stop-color","stop-opacity"]);break}return c},resolveNamespace:function(a){if(!a)return t;var c=a.split("."),g=c.length,h,v=u||t.window;for(h=0;h<g;++h)v=v[c[h]];return v},loadImage:function(a,c,g,h){if(!a){c&&c.call(g,a);return}var v=t.util.createImage(),_=function(){c&&c.call(g,v,!1),v=v.onload=v.onerror=null};v.onload=_,v.onerror=function(){t.log("Error loading "+v.src),c&&c.call(g,null,!0),v=v.onload=v.onerror=null},a.indexOf("data")!==0&&h!==void 0&&h!==null&&(v.crossOrigin=h),a.substring(0,14)==="data:image/svg"&&(v.onload=null,t.util.loadImageInDom(v,_)),v.src=a},loadImageInDom:function(a,c){var g=t.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(a),t.document.querySelector("body").appendChild(g),a.onload=function(){c(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(a,c,g,h){a=a||[];var v=[],_=0,y=a.length;function b(){++_===y&&c&&c(v.filter(function(w){return w}))}if(!y){c&&c(v);return}a.forEach(function(w,C){if(!w||!w.type){b();return}var S=t.util.getKlass(w.type,g);S.fromObject(w,function(O,j){j||(v[C]=O),h&&h(w,O,j),b()})})},enlivenObjectEnlivables:function(a,c,g){var h=t.Object.ENLIVEN_PROPS.filter(function(v){return!!a[v]});t.util.enlivenObjects(h.map(function(v){return a[v]}),function(v){var _={};h.forEach(function(y,b){_[y]=v[b],c&&(c[y]=v[b])}),g&&g(_)})},enlivenPatterns:function(a,c){a=a||[];function g(){++v===_&&c&&c(h)}var h=[],v=0,_=a.length;if(!_){c&&c(h);return}a.forEach(function(y,b){y&&y.source?new t.Pattern(y,function(w){h[b]=w,g()}):(h[b]=y,g())})},groupSVGElements:function(a,c,g){var h;return a&&a.length===1?(typeof g<"u"&&(a[0].sourcePath=g),a[0]):(c&&(c.width&&c.height?c.centerPoint={x:c.width/2,y:c.height/2}:(delete c.width,delete c.height)),h=new t.Group(a,c),typeof g<"u"&&(h.sourcePath=g),h)},populateWithProperties:function(a,c,g){if(g&&Array.isArray(g))for(var h=0,v=g.length;h<v;h++)g[h]in a&&(c[g[h]]=a[g[h]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(a){var c=t.util.createCanvasElement();return c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0),c},toDataURL:function(a,c,g){return a.toDataURL("image/"+c,g)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(a,c,g){return[a[0]*c[0]+a[2]*c[1],a[1]*c[0]+a[3]*c[1],a[0]*c[2]+a[2]*c[3],a[1]*c[2]+a[3]*c[3],g?0:a[0]*c[4]+a[2]*c[5]+a[4],g?0:a[1]*c[4]+a[3]*c[5]+a[5]]},qrDecompose:function(a){var c=d(a[1],a[0]),g=f(a[0],2)+f(a[1],2),h=i(g),v=(a[0]*a[3]-a[2]*a[1])/h,_=d(a[0]*a[2]+a[1]*a[3],g);return{angle:c/o,scaleX:h,scaleY:v,skewX:_/o,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return t.iMatrix.concat();var c=t.util.degreesToRadians(a.angle),g=t.util.cos(c),h=t.util.sin(c);return[g,h,-h,g,0,0]},calcDimensionsMatrix:function(a){var c=typeof a.scaleX>"u"?1:a.scaleX,g=typeof a.scaleY>"u"?1:a.scaleY,h=[a.flipX?-c:c,0,0,a.flipY?-g:g,0,0],v=t.util.multiplyTransformMatrices,_=t.util.degreesToRadians;return a.skewX&&(h=v(h,[1,0,Math.tan(_(a.skewX)),1],!0)),a.skewY&&(h=v(h,[1,Math.tan(_(a.skewY)),0,1],!0)),h},composeMatrix:function(a){var c=[1,0,0,1,a.translateX||0,a.translateY||0],g=t.util.multiplyTransformMatrices;return a.angle&&(c=g(c,t.util.calcRotateMatrix(a))),(a.scaleX!==1||a.scaleY!==1||a.skewX||a.skewY||a.flipX||a.flipY)&&(c=g(c,t.util.calcDimensionsMatrix(a))),c},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,c,g,h){h>0&&(c>h?c-=h:c=0,g>h?g-=h:g=0);var v=!0,_,y,b=a.getImageData(c,g,h*2||1,h*2||1),w=b.data.length;for(_=3;_<w&&(y=b.data[_],v=y<=0,v!==!1);_+=4);return b=null,v},parsePreserveAspectRatioAttribute:function(a){var c="meet",g="Mid",h="Mid",v=a.split(" "),_;return v&&v.length&&(c=v.pop(),c!=="meet"&&c!=="slice"?(_=c,c="meet"):v.length&&(_=v.pop())),g=_!=="none"?_.slice(1,4):"none",h=_!=="none"?_.slice(5,8):"none",{meetOrSlice:c,alignX:g,alignY:h}},clearFabricFontCache:function(a){a=(a||"").toLowerCase(),a?t.charWidthsCache[a]&&delete t.charWidthsCache[a]:t.charWidthsCache={}},limitDimsByArea:function(a,c){var g=Math.sqrt(c*a),h=Math.floor(c/g);return{x:Math.floor(g),y:h}},capValue:function(a,c,g){return Math.max(a,Math.min(c,g))},findScaleToFit:function(a,c){return Math.min(c.width/a.width,c.height/a.height)},findScaleToCover:function(a,c){return Math.max(c.width/a.width,c.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(c){return t.util.toFixed(c,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,c){var g=t.util.invertTransform(c),h=t.util.multiplyTransformMatrices(g,a.calcOwnMatrix());t.util.applyTransformToObject(a,h)},addTransformToObject:function(a,c){t.util.applyTransformToObject(a,t.util.multiplyTransformMatrices(c,a.calcOwnMatrix()))},applyTransformToObject:function(a,c){var g=t.util.qrDecompose(c),h=new t.Point(g.translateX,g.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",g.scaleX),a.set("scaleY",g.scaleY),a.skewX=g.skewX,a.skewY=g.skewY,a.angle=g.angle,a.setPositionByOrigin(h,"center","center")},sizeAfterTransform:function(a,c,g){var h=a/2,v=c/2,_=[{x:-h,y:-v},{x:h,y:-v},{x:-h,y:v},{x:h,y:v}],y=t.util.calcDimensionsMatrix(g),b=t.util.makeBoundingBoxFromPoints(_,y);return{x:b.width,y:b.height}},mergeClipPaths:function(a,c){var g=a,h=c;g.inverted&&!h.inverted&&(g=c,h=a),t.util.applyTransformToObject(h,t.util.multiplyTransformMatrices(t.util.invertTransform(g.calcTransformMatrix()),h.calcTransformMatrix()));var v=g.inverted&&h.inverted;return v&&(g.inverted=h.inverted=!1),new t.Group([g],{clipPath:h,inverted:v})},hasStyleChanged:function(a,c,g){return g=g||!1,a.fill!==c.fill||a.stroke!==c.stroke||a.strokeWidth!==c.strokeWidth||a.fontSize!==c.fontSize||a.fontFamily!==c.fontFamily||a.fontWeight!==c.fontWeight||a.fontStyle!==c.fontStyle||a.textBackgroundColor!==c.textBackgroundColor||a.deltaY!==c.deltaY||g&&(a.overline!==c.overline||a.underline!==c.underline||a.linethrough!==c.linethrough)},stylesToArray:function(g,c){for(var g=t.util.object.clone(g,!0),h=c.split(`
`),v=-1,_={},y=[],b=0;b<h.length;b++){if(!g[b]){v+=h[b].length;continue}for(var w=0;w<h[b].length;w++){v++;var C=g[b][w];if(C&&Object.keys(C).length>0){var S=t.util.hasStyleChanged(_,C,!0);S?y.push({start:v,end:v+1,style:C}):y[y.length-1].end++}_=C||{}}}return y},stylesFromArray:function(a,c){if(!Array.isArray(a))return a;for(var g=c.split(`
`),h=-1,v=0,_={},y=0;y<g.length;y++)for(var b=0;b<g[y].length;b++)h++,a[v]&&a[v].start<=h&&h<a[v].end&&(_[y]=_[y]||{},_[y][b]=Object.assign({},a[v].style),h===a[v].end-1&&v++);return _}}}(e),function(){var u=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},d={m:"l",M:"L"};function f(x,D,R,I,Z,M,E,H,A,L,$){var K=t.util.cos(x),ie=t.util.sin(x),k=t.util.cos(D),T=t.util.sin(D),P=R*Z*k-I*M*T+E,B=I*Z*k+R*M*T+H,z=L+A*(-R*Z*ie-I*M*K),N=$+A*(-I*Z*ie+R*M*K),W=P+A*(R*Z*T+I*M*k),q=B+A*(I*Z*T-R*M*k);return["C",z,N,W,q,P,B]}function o(x,D,R,I,Z,M,E){var H=Math.PI,A=E*H/180,L=t.util.sin(A),$=t.util.cos(A),K=0,ie=0;R=Math.abs(R),I=Math.abs(I);var k=-$*x*.5-L*D*.5,T=-$*D*.5+L*x*.5,P=R*R,B=I*I,z=T*T,N=k*k,W=P*B-P*z-B*N,q=0;if(W<0){var se=Math.sqrt(1-W/(P*B));R*=se,I*=se}else q=(Z===M?-1:1)*Math.sqrt(W/(P*z+B*N));var Q=q*R*T/I,V=-q*I*k/R,ae=$*Q-L*V+x*.5,he=L*Q+$*V+D*.5,ge=l(1,0,(k-Q)/R,(T-V)/I),me=l((k-Q)/R,(T-V)/I,(-k-Q)/R,(-T-V)/I);M===0&&me>0?me-=2*H:M===1&&me<0&&(me+=2*H);for(var _e=Math.ceil(Math.abs(me/H*2)),be=[],Oe=me/_e,Ke=8/3*Math.sin(Oe/4)*Math.sin(Oe/4)/Math.sin(Oe/2),_t=ge+Oe,pt=0;pt<_e;pt++)be[pt]=f(ge,_t,$,L,R,I,ae,he,Ke,K,ie),K=be[pt][5],ie=be[pt][6],ge=_t,_t+=Oe;return be}function l(x,D,R,I){var Z=Math.atan2(D,x),M=Math.atan2(I,R);return M>=Z?M-Z:2*Math.PI-(Z-M)}function a(x,D,R,I,Z,M,E,H){var A;if(t.cachesBoundsOfCurve&&(A=u.call(arguments),t.boundsOfCurveCache[A]))return t.boundsOfCurveCache[A];var L=Math.sqrt,$=Math.min,K=Math.max,ie=Math.abs,k=[],T=[[],[]],P,B,z,N,W,q,se,Q;B=6*x-12*R+6*Z,P=-3*x+9*R-9*Z+3*E,z=3*R-3*x;for(var V=0;V<2;++V){if(V>0&&(B=6*D-12*I+6*M,P=-3*D+9*I-9*M+3*H,z=3*I-3*D),ie(P)<1e-12){if(ie(B)<1e-12)continue;N=-z/B,0<N&&N<1&&k.push(N);continue}se=B*B-4*z*P,!(se<0)&&(Q=L(se),W=(-B+Q)/(2*P),0<W&&W<1&&k.push(W),q=(-B-Q)/(2*P),0<q&&q<1&&k.push(q))}for(var ae,he,ge=k.length,me=ge,_e;ge--;)N=k[ge],_e=1-N,ae=_e*_e*_e*x+3*_e*_e*N*R+3*_e*N*N*Z+N*N*N*E,T[0][ge]=ae,he=_e*_e*_e*D+3*_e*_e*N*I+3*_e*N*N*M+N*N*N*H,T[1][ge]=he;T[0][me]=x,T[1][me]=D,T[0][me+1]=E,T[1][me+1]=H;var be=[{x:$.apply(null,T[0]),y:$.apply(null,T[1])},{x:K.apply(null,T[0]),y:K.apply(null,T[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[A]=be),be}function c(x,D,R){for(var I=R[1],Z=R[2],M=R[3],E=R[4],H=R[5],A=R[6],L=R[7],$=o(A-x,L-D,I,Z,E,H,M),K=0,ie=$.length;K<ie;K++)$[K][1]+=x,$[K][2]+=D,$[K][3]+=x,$[K][4]+=D,$[K][5]+=x,$[K][6]+=D;return $}function g(x){var D=0,R=0,I=x.length,Z=0,M=0,E,H,A,L=[],$,K,ie;for(H=0;H<I;++H){switch(A=!1,E=x[H].slice(0),E[0]){case"l":E[0]="L",E[1]+=D,E[2]+=R;case"L":D=E[1],R=E[2];break;case"h":E[1]+=D;case"H":E[0]="L",E[2]=R,D=E[1];break;case"v":E[1]+=R;case"V":E[0]="L",R=E[1],E[1]=D,E[2]=R;break;case"m":E[0]="M",E[1]+=D,E[2]+=R;case"M":D=E[1],R=E[2],Z=E[1],M=E[2];break;case"c":E[0]="C",E[1]+=D,E[2]+=R,E[3]+=D,E[4]+=R,E[5]+=D,E[6]+=R;case"C":K=E[3],ie=E[4],D=E[5],R=E[6];break;case"s":E[0]="S",E[1]+=D,E[2]+=R,E[3]+=D,E[4]+=R;case"S":$==="C"?(K=2*D-K,ie=2*R-ie):(K=D,ie=R),D=E[3],R=E[4],E[0]="C",E[5]=E[3],E[6]=E[4],E[3]=E[1],E[4]=E[2],E[1]=K,E[2]=ie,K=E[3],ie=E[4];break;case"q":E[0]="Q",E[1]+=D,E[2]+=R,E[3]+=D,E[4]+=R;case"Q":K=E[1],ie=E[2],D=E[3],R=E[4];break;case"t":E[0]="T",E[1]+=D,E[2]+=R;case"T":$==="Q"?(K=2*D-K,ie=2*R-ie):(K=D,ie=R),E[0]="Q",D=E[1],R=E[2],E[1]=K,E[2]=ie,E[3]=D,E[4]=R;break;case"a":E[0]="A",E[6]+=D,E[7]+=R;case"A":A=!0,L=L.concat(c(D,R,E)),D=E[6],R=E[7];break;case"z":case"Z":D=Z,R=M;break}A||L.push(E),$=E[0]}return L}function h(x,D,R,I){return Math.sqrt((R-x)*(R-x)+(I-D)*(I-D))}function v(x){return x*x*x}function _(x){return 3*x*x*(1-x)}function y(x){return 3*x*(1-x)*(1-x)}function b(x){return(1-x)*(1-x)*(1-x)}function w(x,D,R,I,Z,M,E,H){return function(A){var L=v(A),$=_(A),K=y(A),ie=b(A);return{x:E*L+Z*$+R*K+x*ie,y:H*L+M*$+I*K+D*ie}}}function C(x,D,R,I,Z,M,E,H){return function(A){var L=1-A,$=3*L*L*(R-x)+6*L*A*(Z-R)+3*A*A*(E-Z),K=3*L*L*(I-D)+6*L*A*(M-I)+3*A*A*(H-M);return Math.atan2(K,$)}}function S(x){return x*x}function O(x){return 2*x*(1-x)}function j(x){return(1-x)*(1-x)}function Y(x,D,R,I,Z,M){return function(E){var H=S(E),A=O(E),L=j(E);return{x:Z*H+R*A+x*L,y:M*H+I*A+D*L}}}function G(x,D,R,I,Z,M){return function(E){var H=1-E,A=2*H*(R-x)+2*E*(Z-R),L=2*H*(I-D)+2*E*(M-I);return Math.atan2(L,A)}}function U(x,D,R){var I={x:D,y:R},Z,M=0,E;for(E=1;E<=100;E+=1)Z=x(E/100),M+=h(I.x,I.y,Z.x,Z.y),I=Z;return M}function ee(x,D){for(var R=0,I=0,Z=x.iterator,M={x:x.x,y:x.y},E,H,A=.01,L=x.angleFinder,$;I<D&&A>1e-4;)E=Z(R),$=R,H=h(M.x,M.y,E.x,E.y),H+I>D?(R-=A,A/=2):(M=E,R+=A,I+=H);return E.angle=L($),E}function oe(x){for(var D=0,R=x.length,I,Z=0,M=0,E=0,H=0,A=[],L,$,K,ie=0;ie<R;ie++){switch(I=x[ie],$={x:Z,y:M,command:I[0]},I[0]){case"M":$.length=0,E=Z=I[1],H=M=I[2];break;case"L":$.length=h(Z,M,I[1],I[2]),Z=I[1],M=I[2];break;case"C":L=w(Z,M,I[1],I[2],I[3],I[4],I[5],I[6]),K=C(Z,M,I[1],I[2],I[3],I[4],I[5],I[6]),$.iterator=L,$.angleFinder=K,$.length=U(L,Z,M),Z=I[5],M=I[6];break;case"Q":L=Y(Z,M,I[1],I[2],I[3],I[4]),K=G(Z,M,I[1],I[2],I[3],I[4]),$.iterator=L,$.angleFinder=K,$.length=U(L,Z,M),Z=I[3],M=I[4];break;case"Z":case"z":$.destX=E,$.destY=H,$.length=h(Z,M,E,H),Z=E,M=H;break}D+=$.length,A.push($)}return A.push({length:D,x:Z,y:M}),A}function le(x,D,R){R||(R=oe(x));for(var I=0;D-R[I].length>0&&I<R.length-2;)D-=R[I].length,I++;var Z=R[I],M=D/Z.length,E=Z.command,H=x[I],A;switch(E){case"M":return{x:Z.x,y:Z.y,angle:0};case"Z":case"z":return A=new t.Point(Z.x,Z.y).lerp(new t.Point(Z.destX,Z.destY),M),A.angle=Math.atan2(Z.destY-Z.y,Z.destX-Z.x),A;case"L":return A=new t.Point(Z.x,Z.y).lerp(new t.Point(H[1],H[2]),M),A.angle=Math.atan2(H[2]-Z.y,H[1]-Z.x),A;case"C":return ee(Z,D);case"Q":return ee(Z,D)}}function ce(x){var D=[],R=[],I,Z,M=t.rePathCommand,E="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",H="("+E+")"+t.commaWsp,A="([01])"+t.commaWsp+"?",L=H+"?"+H+"?"+H+A+A+H+"?("+E+")",$=new RegExp(L,"g"),K,ie,k;if(!x||!x.match)return D;k=x.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var T=0,P,B=k.length;T<B;T++){I=k[T],ie=I.slice(1).trim(),R.length=0;var z=I.charAt(0);if(P=[z],z.toLowerCase()==="a")for(var N;N=$.exec(ie);)for(var W=1;W<N.length;W++)R.push(N[W]);else for(;K=M.exec(ie);)R.push(K[0]);for(var W=0,q=R.length;W<q;W++)Z=parseFloat(R[W]),isNaN(Z)||P.push(Z);var se=i[z.toLowerCase()],Q=d[z]||z;if(P.length-1>se)for(var V=1,ae=P.length;V<ae;V+=se)D.push([z].concat(P.slice(V,V+se))),z=Q;else D.push(P)}return D}function X(x,D){var R=[],I,Z=new t.Point(x[0].x,x[0].y),M=new t.Point(x[1].x,x[1].y),E=x.length,H=1,A=0,L=E>2;for(D=D||0,L&&(H=x[2].x<M.x?-1:x[2].x===M.x?0:1,A=x[2].y<M.y?-1:x[2].y===M.y?0:1),R.push(["M",Z.x-H*D,Z.y-A*D]),I=1;I<E;I++){if(!Z.eq(M)){var $=Z.midPointFrom(M);R.push(["Q",Z.x,Z.y,$.x,$.y])}Z=x[I],I+1<x.length&&(M=x[I+1])}return L&&(H=Z.x>x[I-2].x?1:Z.x===x[I-2].x?0:-1,A=Z.y>x[I-2].y?1:Z.y===x[I-2].y?0:-1),R.push(["L",Z.x+H*D,Z.y+A*D]),R}function J(x,D,R){return R&&(D=t.util.multiplyTransformMatrices(D,[1,0,0,1,-R.x,-R.y])),x.map(function(I){for(var Z=I.slice(0),M={},E=1;E<I.length-1;E+=2)M.x=I[E],M.y=I[E+1],M=t.util.transformPoint(M,D),Z[E]=M.x,Z[E+1]=M.y;return Z})}t.util.joinPath=function(x){return x.map(function(D){return D.join(" ")}).join(" ")},t.util.parsePath=ce,t.util.makePathSimpler=g,t.util.getSmoothPathFromPoints=X,t.util.getPathSegmentsInfo=oe,t.util.getBoundsOfCurve=a,t.util.getPointOnPath=le,t.util.transformPath=J}(),function(){var u=Array.prototype.slice;function i(a,c){for(var g=u.call(arguments,2),h=[],v=0,_=a.length;v<_;v++)h[v]=g.length?a[v][c].apply(a[v],g):a[v][c].call(a[v]);return h}function d(a,c){return l(a,c,function(g,h){return g>=h})}function f(a,c){return l(a,c,function(g,h){return g<h})}function o(a,c){for(var g=a.length;g--;)a[g]=c;return a}function l(a,c,g){if(!(!a||a.length===0)){var h=a.length-1,v=c?a[h][c]:a[h];if(c)for(;h--;)g(a[h][c],v)&&(v=a[h][c]);else for(;h--;)g(a[h],v)&&(v=a[h]);return v}}t.util.array={fill:o,invoke:i,min:f,max:d}}(),function(){function u(d,f,o){if(o)if(!t.isLikelyNode&&f instanceof Element)d=f;else if(f instanceof Array){d=[];for(var l=0,a=f.length;l<a;l++)d[l]=u({},f[l],o)}else if(f&&typeof f=="object")for(var c in f)c==="canvas"||c==="group"?d[c]=null:f.hasOwnProperty(c)&&(d[c]=u({},f[c],o));else d=f;else for(var c in f)d[c]=f[c];return d}function i(d,f){return u({},d,f)}t.util.object={extend:u,clone:i},t.util.object.extend(t.util,t.Observable)}(),function(){function u(l){return l.replace(/-+(.)?/g,function(a,c){return c?c.toUpperCase():""})}function i(l,a){return l.charAt(0).toUpperCase()+(a?l.slice(1):l.slice(1).toLowerCase())}function d(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(l){var a=0,c,g=[];for(a=0,c;a<l.length;a++)(c=o(l,a))!==!1&&g.push(c);return g}function o(l,a){var c=l.charCodeAt(a);if(isNaN(c))return"";if(c<55296||c>57343)return l.charAt(a);if(55296<=c&&c<=56319){if(l.length<=a+1)throw"High surrogate without following low surrogate";var g=l.charCodeAt(a+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return l.charAt(a)+l.charAt(a+1)}if(a===0)throw"Low surrogate without preceding high surrogate";var h=l.charCodeAt(a-1);if(55296>h||h>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:u,capitalize:i,escapeXml:d,graphemeSplit:f}}(),function(){var u=Array.prototype.slice,i=function(){},d=function(){for(var c in{toString:1})if(c==="toString")return!1;return!0}(),f=function(c,g,h){for(var v in g)v in c.prototype&&typeof c.prototype[v]=="function"&&(g[v]+"").indexOf("callSuper")>-1?c.prototype[v]=function(_){return function(){var y=this.constructor.superclass;this.constructor.superclass=h;var b=g[_].apply(this,arguments);if(this.constructor.superclass=y,_!=="initialize")return b}}(v):c.prototype[v]=g[v],d&&(g.toString!==Object.prototype.toString&&(c.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(c.prototype.valueOf=g.valueOf))};function o(){}function l(c){for(var g=null,h=this;h.constructor.superclass;){var v=h.constructor.superclass.prototype[c];if(h[c]!==v){g=v;break}h=h.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,u.call(arguments,1)):g.call(this):console.log("tried to callSuper "+c+", method not found in prototype chain",this)}function a(){var c=null,g=u.call(arguments,0);typeof g[0]=="function"&&(c=g.shift());function h(){this.initialize.apply(this,arguments)}h.superclass=c,h.subclasses=[],c&&(o.prototype=c.prototype,h.prototype=new o,c.subclasses.push(h));for(var v=0,_=g.length;v<_;v++)f(h,g[v],c);return h.prototype.initialize||(h.prototype.initialize=i),h.prototype.constructor=h,h.prototype.callSuper=l,h}t.util.createClass=a}(),function(){var u=!!t.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];t.util.addListener=function(f,o,l,a){f&&f.addEventListener(o,l,u?!1:a)},t.util.removeListener=function(f,o,l,a){f&&f.removeEventListener(o,l,u?!1:a)};function d(f){var o=f.changedTouches;return o&&o[0]?o[0]:f}t.util.getPointer=function(f){var o=f.target,l=t.util.getScrollLeftTop(o),a=d(f);return{x:a.clientX+l.left,y:a.clientY+l.top}},t.util.isTouchEvent=function(f){return i.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function u(a,c){var g=a.style;if(!g)return a;if(typeof c=="string")return a.style.cssText+=";"+c,c.indexOf("opacity")>-1?l(a,c.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var h in c)if(h==="opacity")l(a,c[h]);else{var v=h==="float"||h==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":h;g.setProperty(v,c[h])}return a}var i=t.document.createElement("div"),d=typeof i.style.opacity=="string",f=typeof i.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,l=function(a){return a};d?l=function(a,c){return a.style.opacity=c,a}:f&&(l=function(a,c){var g=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(g.zoom=1),o.test(g.filter)?(c=c>=.9999?"":"alpha(opacity="+c*100+")",g.filter=g.filter.replace(o,c)):g.filter+=" alpha(opacity="+c*100+")",a}),t.util.setStyle=u}(),function(){var u=Array.prototype.slice;function i(b){return typeof b=="string"?t.document.getElementById(b):b}var d,f=function(b){return u.call(b,0)};try{d=f(t.document.childNodes)instanceof Array}catch{}d||(f=function(b){for(var w=new Array(b.length),C=b.length;C--;)w[C]=b[C];return w});function o(b,w){var C=t.document.createElement(b);for(var S in w)S==="class"?C.className=w[S]:S==="for"?C.htmlFor=w[S]:C.setAttribute(S,w[S]);return C}function l(b,w){b&&(" "+b.className+" ").indexOf(" "+w+" ")===-1&&(b.className+=(b.className?" ":"")+w)}function a(b,w,C){return typeof w=="string"&&(w=o(w,C)),b.parentNode&&b.parentNode.replaceChild(w,b),w.appendChild(b),w}function c(b){for(var w=0,C=0,S=t.document.documentElement,O=t.document.body||{scrollLeft:0,scrollTop:0};b&&(b.parentNode||b.host)&&(b=b.parentNode||b.host,b===t.document?(w=O.scrollLeft||S.scrollLeft||0,C=O.scrollTop||S.scrollTop||0):(w+=b.scrollLeft||0,C+=b.scrollTop||0),!(b.nodeType===1&&b.style.position==="fixed")););return{left:w,top:C}}function g(b){var w,C=b&&b.ownerDocument,S={left:0,top:0},O={left:0,top:0},j,Y={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!C)return O;for(var G in Y)O[Y[G]]+=parseInt(h(b,G),10)||0;return w=C.documentElement,typeof b.getBoundingClientRect<"u"&&(S=b.getBoundingClientRect()),j=c(b),{left:S.left+j.left-(w.clientLeft||0)+O.left,top:S.top+j.top-(w.clientTop||0)+O.top}}var h;t.document.defaultView&&t.document.defaultView.getComputedStyle?h=function(b,w){var C=t.document.defaultView.getComputedStyle(b,null);return C?C[w]:void 0}:h=function(b,w){var C=b.style[w];return!C&&b.currentStyle&&(C=b.currentStyle[w]),C},function(){var b=t.document.documentElement.style,w="userSelect"in b?"userSelect":"MozUserSelect"in b?"MozUserSelect":"WebkitUserSelect"in b?"WebkitUserSelect":"KhtmlUserSelect"in b?"KhtmlUserSelect":"";function C(O){return typeof O.onselectstart<"u"&&(O.onselectstart=t.util.falseFunction),w?O.style[w]="none":typeof O.unselectable=="string"&&(O.unselectable="on"),O}function S(O){return typeof O.onselectstart<"u"&&(O.onselectstart=null),w?O.style[w]="":typeof O.unselectable=="string"&&(O.unselectable=""),O}t.util.makeElementUnselectable=C,t.util.makeElementSelectable=S}();function v(b){var w=t.jsdomImplForWrapper(b);return w._canvas||w._image}function _(b){if(t.isLikelyNode){var w=t.jsdomImplForWrapper(b);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function y(b,w){b.imageSmoothingEnabled=b.imageSmoothingEnabled||b.webkitImageSmoothingEnabled||b.mozImageSmoothingEnabled||b.msImageSmoothingEnabled||b.oImageSmoothingEnabled,b.imageSmoothingEnabled=w}t.util.setImageSmoothing=y,t.util.getById=i,t.util.toArray=f,t.util.addClass=l,t.util.makeElement=o,t.util.wrapElement=a,t.util.getScrollLeftTop=c,t.util.getElementOffset=g,t.util.getNodeCanvas=v,t.util.cleanUpJsdomNode=_}(),function(){function u(f,o){return f+(/\?/.test(f)?"&":"?")+o}function i(){}function d(f,o){o||(o={});var l=o.method?o.method.toUpperCase():"GET",a=o.onComplete||function(){},c=new t.window.XMLHttpRequest,g=o.body||o.parameters;return c.onreadystatechange=function(){c.readyState===4&&(a(c),c.onreadystatechange=i)},l==="GET"&&(g=null,typeof o.parameters=="string"&&(f=u(f,o.parameters))),c.open(l,f,!0),(l==="POST"||l==="PUT")&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(g),c}t.util.request=d}(),t.log=console.log,t.warn=console.warn,function(){var u=t.util.object.extend,i=t.util.object.clone,d=[];t.util.object.extend(d,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(_){_.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var _=this.filter(function(y){return typeof y.target=="object"&&y.target.canvas===v});return _.forEach(function(y){y.cancel()}),_},cancelByTarget:function(v){var _=this.findAnimationsByTarget(v);return _.forEach(function(y){y.cancel()}),_},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(_){return _.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(_){return _.target===v}):[]}});function f(){return!1}function o(v,_,y,b){return-y*Math.cos(v/b*(Math.PI/2))+y+_}function l(v){v||(v={});var _=!1,y,b=function(){var w=t.runningAnimations.indexOf(y);return w>-1&&t.runningAnimations.splice(w,1)[0]};return y=u(i(v),{cancel:function(){return _=!0,b()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(y),g(function(w){var C=w||+new Date,S=v.duration||500,O=C+S,j,Y=v.onChange||f,G=v.abort||f,U=v.onComplete||f,ee=v.easing||o,oe="startValue"in v?v.startValue.length>0:!1,le="startValue"in v?v.startValue:0,ce="endValue"in v?v.endValue:100,X=v.byValue||(oe?le.map(function(J,x){return ce[x]-le[x]}):ce-le);v.onStart&&v.onStart(),function J(x){j=x||+new Date;var D=j>O?S:j-C,R=D/S,I=oe?le.map(function(M,E){return ee(D,le[E],X[E],S)}):ee(D,le,X,S),Z=Math.abs(oe?(I[0]-le[0])/X[0]:(I-le)/X);if(y.currentValue=oe?I.slice():I,y.completionRate=Z,y.durationRate=R,!_){if(G(I,Z,R)){b();return}if(j>O){y.currentValue=oe?ce.slice():ce,y.completionRate=1,y.durationRate=1,Y(oe?ce.slice():ce,1,1),U(ce,1,1),b();return}else Y(I,Z,R),g(J)}}(C)}),y.cancel}var a=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(v){return t.window.setTimeout(v,1e3/60)},c=t.window.cancelAnimationFrame||t.window.clearTimeout;function g(){return a.apply(t.window,arguments)}function h(){return c.apply(t.window,arguments)}t.util.animate=l,t.util.requestAnimFrame=g,t.util.cancelAnimFrame=h,t.runningAnimations=d}(),function(){function u(d,f,o){var l="rgba("+parseInt(d[0]+o*(f[0]-d[0]),10)+","+parseInt(d[1]+o*(f[1]-d[1]),10)+","+parseInt(d[2]+o*(f[2]-d[2]),10);return l+=","+(d&&f?parseFloat(d[3]+o*(f[3]-d[3])):1),l+=")",l}function i(d,f,o,l){var a=new t.Color(d).getSource(),c=new t.Color(f).getSource(),g=l.onComplete,h=l.onChange;return l=l||{},t.util.animate(t.util.object.extend(l,{duration:o||500,startValue:a,endValue:c,byValue:c,easing:function(v,_,y,b){var w=l.colorEasing?l.colorEasing(v,b):1-Math.cos(v/b*(Math.PI/2));return u(_,y,w)},onComplete:function(v,_,y){if(g)return g(u(c,c,0),_,y)},onChange:function(v,_,y){if(h){if(Array.isArray(v))return h(u(v,v,0),_,y);h(v,_,y)}}}))}t.util.animateColor=i}(),function(){function u(x,D,R,I){return x<Math.abs(D)?(x=D,I=R/4):D===0&&x===0?I=R/(2*Math.PI)*Math.asin(1):I=R/(2*Math.PI)*Math.asin(D/x),{a:x,c:D,p:R,s:I}}function i(x,D,R){return x.a*Math.pow(2,10*(D-=1))*Math.sin((D*R-x.s)*(2*Math.PI)/x.p)}function d(x,D,R,I){return R*((x=x/I-1)*x*x+1)+D}function f(x,D,R,I){return x/=I/2,x<1?R/2*x*x*x+D:R/2*((x-=2)*x*x+2)+D}function o(x,D,R,I){return R*(x/=I)*x*x*x+D}function l(x,D,R,I){return-R*((x=x/I-1)*x*x*x-1)+D}function a(x,D,R,I){return x/=I/2,x<1?R/2*x*x*x*x+D:-R/2*((x-=2)*x*x*x-2)+D}function c(x,D,R,I){return R*(x/=I)*x*x*x*x+D}function g(x,D,R,I){return R*((x=x/I-1)*x*x*x*x+1)+D}function h(x,D,R,I){return x/=I/2,x<1?R/2*x*x*x*x*x+D:R/2*((x-=2)*x*x*x*x+2)+D}function v(x,D,R,I){return-R*Math.cos(x/I*(Math.PI/2))+R+D}function _(x,D,R,I){return R*Math.sin(x/I*(Math.PI/2))+D}function y(x,D,R,I){return-R/2*(Math.cos(Math.PI*x/I)-1)+D}function b(x,D,R,I){return x===0?D:R*Math.pow(2,10*(x/I-1))+D}function w(x,D,R,I){return x===I?D+R:R*(-Math.pow(2,-10*x/I)+1)+D}function C(x,D,R,I){return x===0?D:x===I?D+R:(x/=I/2,x<1?R/2*Math.pow(2,10*(x-1))+D:R/2*(-Math.pow(2,-10*--x)+2)+D)}function S(x,D,R,I){return-R*(Math.sqrt(1-(x/=I)*x)-1)+D}function O(x,D,R,I){return R*Math.sqrt(1-(x=x/I-1)*x)+D}function j(x,D,R,I){return x/=I/2,x<1?-R/2*(Math.sqrt(1-x*x)-1)+D:R/2*(Math.sqrt(1-(x-=2)*x)+1)+D}function Y(x,D,R,I){var Z=1.70158,M=0,E=R;if(x===0)return D;if(x/=I,x===1)return D+R;M||(M=I*.3);var H=u(E,R,M,Z);return-i(H,x,I)+D}function G(x,D,R,I){var Z=1.70158,M=0,E=R;if(x===0)return D;if(x/=I,x===1)return D+R;M||(M=I*.3);var H=u(E,R,M,Z);return H.a*Math.pow(2,-10*x)*Math.sin((x*I-H.s)*(2*Math.PI)/H.p)+H.c+D}function U(x,D,R,I){var Z=1.70158,M=0,E=R;if(x===0)return D;if(x/=I/2,x===2)return D+R;M||(M=I*(.3*1.5));var H=u(E,R,M,Z);return x<1?-.5*i(H,x,I)+D:H.a*Math.pow(2,-10*(x-=1))*Math.sin((x*I-H.s)*(2*Math.PI)/H.p)*.5+H.c+D}function ee(x,D,R,I,Z){return Z===void 0&&(Z=1.70158),R*(x/=I)*x*((Z+1)*x-Z)+D}function oe(x,D,R,I,Z){return Z===void 0&&(Z=1.70158),R*((x=x/I-1)*x*((Z+1)*x+Z)+1)+D}function le(x,D,R,I,Z){return Z===void 0&&(Z=1.70158),x/=I/2,x<1?R/2*(x*x*(((Z*=1.525)+1)*x-Z))+D:R/2*((x-=2)*x*(((Z*=1.525)+1)*x+Z)+2)+D}function ce(x,D,R,I){return R-X(I-x,0,R,I)+D}function X(x,D,R,I){return(x/=I)<1/2.75?R*(7.5625*x*x)+D:x<2/2.75?R*(7.5625*(x-=1.5/2.75)*x+.75)+D:x<2.5/2.75?R*(7.5625*(x-=2.25/2.75)*x+.9375)+D:R*(7.5625*(x-=2.625/2.75)*x+.984375)+D}function J(x,D,R,I){return x<I/2?ce(x*2,0,R,I)*.5+D:X(x*2-I,0,R,I)*.5+R*.5+D}t.util.ease={easeInQuad:function(x,D,R,I){return R*(x/=I)*x+D},easeOutQuad:function(x,D,R,I){return-R*(x/=I)*(x-2)+D},easeInOutQuad:function(x,D,R,I){return x/=I/2,x<1?R/2*x*x+D:-R/2*(--x*(x-2)-1)+D},easeInCubic:function(x,D,R,I){return R*(x/=I)*x*x+D},easeOutCubic:d,easeInOutCubic:f,easeInQuart:o,easeOutQuart:l,easeInOutQuart:a,easeInQuint:c,easeOutQuint:g,easeInOutQuint:h,easeInSine:v,easeOutSine:_,easeInOutSine:y,easeInExpo:b,easeOutExpo:w,easeInOutExpo:C,easeInCirc:S,easeOutCirc:O,easeInOutCirc:j,easeInElastic:Y,easeOutElastic:G,easeInOutElastic:U,easeInBack:ee,easeOutBack:oe,easeInOutBack:le,easeInBounce:ce,easeOutBounce:X,easeInOutBounce:J}}(),function(u){var i=u.fabric||(u.fabric={}),d=i.util.object.extend,f=i.util.object.clone,o=i.util.toFixed,l=i.util.parseUnit,a=i.util.multiplyTransformMatrices,c=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],h=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],_={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},y={stroke:"strokeOpacity",fill:"fillOpacity"},b="font-size",w="clip-path";i.svgValidTagNamesRegEx=O(c),i.svgViewBoxElementsRegEx=O(g),i.svgInvalidAncestorsRegEx=O(h),i.svgValidParentsRegEx=O(v),i.cssRules={},i.gradientDefs={},i.clipPaths={};function C(M){return M in _?_[M]:M}function S(M,E,H,A){var L=Array.isArray(E),$;if((M==="fill"||M==="stroke")&&E==="none")E="";else{if(M==="strokeUniform")return E==="non-scaling-stroke";if(M==="strokeDashArray")E==="none"?E=null:E=E.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(M==="transformMatrix")H&&H.transformMatrix?E=a(H.transformMatrix,i.parseTransformAttribute(E)):E=i.parseTransformAttribute(E);else if(M==="visible")E=E!=="none"&&E!=="hidden",H&&H.visible===!1&&(E=!1);else if(M==="opacity")E=parseFloat(E),H&&typeof H.opacity<"u"&&(E*=H.opacity);else if(M==="textAnchor")E=E==="start"?"left":E==="end"?"right":"center";else if(M==="charSpacing")$=l(E,A)/A*1e3;else if(M==="paintFirst"){var K=E.indexOf("fill"),ie=E.indexOf("stroke"),E="fill";(K>-1&&ie>-1&&ie<K||K===-1&&ie>-1)&&(E="stroke")}else{if(M==="href"||M==="xlink:href"||M==="font")return E;if(M==="imageSmoothing")return E==="optimizeQuality";$=L?E.map(l):l(E,A)}}return!L&&isNaN($)?E:$}function O(M){return new RegExp("^("+M.join("|")+")\\b","i")}function j(M){for(var E in y)if(!(typeof M[y[E]]>"u"||M[E]==="")){if(typeof M[E]>"u"){if(!i.Object.prototype[E])continue;M[E]=i.Object.prototype[E]}if(M[E].indexOf("url(")!==0){var H=new i.Color(M[E]);M[E]=H.setAlpha(o(H.getAlpha()*M[y[E]],2)).toRgba()}}return M}function Y(M,E){var H,A=[],L,$,K;for($=0,K=E.length;$<K;$++)H=E[$],L=M.getElementsByTagName(H),A=A.concat(Array.prototype.slice.call(L));return A}i.parseTransformAttribute=function(){function M(V,ae){var he=i.util.cos(ae[0]),ge=i.util.sin(ae[0]),me=0,_e=0;ae.length===3&&(me=ae[1],_e=ae[2]),V[0]=he,V[1]=ge,V[2]=-ge,V[3]=he,V[4]=me-(he*me-ge*_e),V[5]=_e-(ge*me+he*_e)}function E(V,ae){var he=ae[0],ge=ae.length===2?ae[1]:ae[0];V[0]=he,V[3]=ge}function H(V,ae,he){V[he]=Math.tan(i.util.degreesToRadians(ae[0]))}function A(V,ae){V[4]=ae[0],ae.length===2&&(V[5]=ae[1])}var L=i.iMatrix,$=i.reNum,K=i.commaWsp,ie="(?:(skewX)\\s*\\(\\s*("+$+")\\s*\\))",k="(?:(skewY)\\s*\\(\\s*("+$+")\\s*\\))",T="(?:(rotate)\\s*\\(\\s*("+$+")(?:"+K+"("+$+")"+K+"("+$+"))?\\s*\\))",P="(?:(scale)\\s*\\(\\s*("+$+")(?:"+K+"("+$+"))?\\s*\\))",B="(?:(translate)\\s*\\(\\s*("+$+")(?:"+K+"("+$+"))?\\s*\\))",z="(?:(matrix)\\s*\\(\\s*("+$+")"+K+"("+$+")"+K+"("+$+")"+K+"("+$+")"+K+"("+$+")"+K+"("+$+")\\s*\\))",N="(?:"+z+"|"+B+"|"+P+"|"+T+"|"+ie+"|"+k+")",W="(?:"+N+"(?:"+K+"*"+N+")*)",q="^\\s*(?:"+W+"?)\\s*$",se=new RegExp(q),Q=new RegExp(N,"g");return function(V){var ae=L.concat(),he=[];if(!V||V&&!se.test(V))return ae;V.replace(Q,function(me){var _e=new RegExp(N).exec(me).filter(function(Ke){return!!Ke}),be=_e[1],Oe=_e.slice(2).map(parseFloat);switch(be){case"translate":A(ae,Oe);break;case"rotate":Oe[0]=i.util.degreesToRadians(Oe[0]),M(ae,Oe);break;case"scale":E(ae,Oe);break;case"skewX":H(ae,Oe,2);break;case"skewY":H(ae,Oe,1);break;case"matrix":ae=Oe;break}he.push(ae.concat()),ae=L.concat()});for(var ge=he[0];he.length>1;)he.shift(),ge=i.util.multiplyTransformMatrices(ge,he[0]);return ge}}();function G(M,E){var H,A;M.replace(/;\s*$/,"").split(";").forEach(function(L){var $=L.split(":");H=$[0].trim().toLowerCase(),A=$[1].trim(),E[H]=A})}function U(M,E){var H,A;for(var L in M)typeof M[L]>"u"||(H=L.toLowerCase(),A=M[L],E[H]=A)}function ee(M,E){var H={};for(var A in i.cssRules[E])if(oe(M,A.split(" ")))for(var L in i.cssRules[E][A])H[L]=i.cssRules[E][A][L];return H}function oe(M,E){var H,A=!0;return H=ce(M,E.pop()),H&&E.length&&(A=le(M,E)),H&&A&&E.length===0}function le(M,E){for(var H,A=!0;M.parentNode&&M.parentNode.nodeType===1&&E.length;)A&&(H=E.pop()),M=M.parentNode,A=ce(M,H);return E.length===0}function ce(M,E){var H=M.nodeName,A=M.getAttribute("class"),L=M.getAttribute("id"),$,K;if($=new RegExp("^"+H,"i"),E=E.replace($,""),L&&E.length&&($=new RegExp("#"+L+"(?![a-zA-Z\\-]+)","i"),E=E.replace($,"")),A&&E.length)for(A=A.split(" "),K=A.length;K--;)$=new RegExp("\\."+A[K]+"(?![a-zA-Z\\-]+)","i"),E=E.replace($,"");return E.length===0}function X(M,E){var H;if(M.getElementById&&(H=M.getElementById(E)),H)return H;var A,L,$,K=M.getElementsByTagName("*");for(L=0,$=K.length;L<$;L++)if(A=K[L],E===A.getAttribute("id"))return A}function J(M){for(var E=Y(M,["use","svg:use"]),H=0;E.length&&H<E.length;){var A=E[H],L=A.getAttribute("xlink:href")||A.getAttribute("href");if(L===null)return;var $=L.slice(1),K=A.getAttribute("x")||0,ie=A.getAttribute("y")||0,k=X(M,$).cloneNode(!0),T=(k.getAttribute("transform")||"")+" translate("+K+", "+ie+")",P,B=E.length,z,N,W,q,se=i.svgNS;if(D(k),/^svg$/i.test(k.nodeName)){var Q=k.ownerDocument.createElementNS(se,"g");for(N=0,W=k.attributes,q=W.length;N<q;N++)z=W.item(N),Q.setAttributeNS(se,z.nodeName,z.nodeValue);for(;k.firstChild;)Q.appendChild(k.firstChild);k=Q}for(N=0,W=A.attributes,q=W.length;N<q;N++)z=W.item(N),!(z.nodeName==="x"||z.nodeName==="y"||z.nodeName==="xlink:href"||z.nodeName==="href")&&(z.nodeName==="transform"?T=z.nodeValue+" "+T:k.setAttribute(z.nodeName,z.nodeValue));k.setAttribute("transform",T),k.setAttribute("instantiated_by_use","1"),k.removeAttribute("id"),P=A.parentNode,P.replaceChild(k,A),E.length===B&&H++}}var x=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function D(M){if(!i.svgViewBoxElementsRegEx.test(M.nodeName))return{};var E=M.getAttribute("viewBox"),H=1,A=1,L=0,$=0,K,ie,k,T,P=M.getAttribute("width"),B=M.getAttribute("height"),z=M.getAttribute("x")||0,N=M.getAttribute("y")||0,W=M.getAttribute("preserveAspectRatio")||"",q=!E||!(E=E.match(x)),se=!P||!B||P==="100%"||B==="100%",Q=q&&se,V={},ae="",he=0,ge=0;if(V.width=0,V.height=0,V.toBeParsed=Q,q&&(z||N)&&M.parentNode&&M.parentNode.nodeName!=="#document"&&(ae=" translate("+l(z)+" "+l(N)+") ",k=(M.getAttribute("transform")||"")+ae,M.setAttribute("transform",k),M.removeAttribute("x"),M.removeAttribute("y")),Q)return V;if(q)return V.width=l(P),V.height=l(B),V;if(L=-parseFloat(E[1]),$=-parseFloat(E[2]),K=parseFloat(E[3]),ie=parseFloat(E[4]),V.minX=L,V.minY=$,V.viewBoxWidth=K,V.viewBoxHeight=ie,se?(V.width=K,V.height=ie):(V.width=l(P),V.height=l(B),H=V.width/K,A=V.height/ie),W=i.util.parsePreserveAspectRatioAttribute(W),W.alignX!=="none"&&(W.meetOrSlice==="meet"&&(A=H=H>A?A:H),W.meetOrSlice==="slice"&&(A=H=H>A?H:A),he=V.width-K*H,ge=V.height-ie*H,W.alignX==="Mid"&&(he/=2),W.alignY==="Mid"&&(ge/=2),W.alignX==="Min"&&(he=0),W.alignY==="Min"&&(ge=0)),H===1&&A===1&&L===0&&$===0&&z===0&&N===0)return V;if((z||N)&&M.parentNode.nodeName!=="#document"&&(ae=" translate("+l(z)+" "+l(N)+") "),k=ae+" matrix("+H+" 0 0 "+A+" "+(L*H+he)+" "+($*A+ge)+") ",M.nodeName==="svg"){for(T=M.ownerDocument.createElementNS(i.svgNS,"g");M.firstChild;)T.appendChild(M.firstChild);M.appendChild(T)}else T=M,T.removeAttribute("x"),T.removeAttribute("y"),k=T.getAttribute("transform")+k;return T.setAttribute("transform",k),V}function R(M,E){for(;M&&(M=M.parentNode);)if(M.nodeName&&E.test(M.nodeName.replace("svg:",""))&&!M.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(M,E,H,A){if(M){J(M);var L=i.Object.__uid++,$,K,ie=D(M),k=i.util.toArray(M.getElementsByTagName("*"));if(ie.crossOrigin=A&&A.crossOrigin,ie.svgUid=L,k.length===0&&i.isLikelyNode){k=M.selectNodes('//*[name(.)!="svg"]');var T=[];for($=0,K=k.length;$<K;$++)T[$]=k[$];k=T}var P=k.filter(function(z){return D(z),i.svgValidTagNamesRegEx.test(z.nodeName.replace("svg:",""))&&!R(z,i.svgInvalidAncestorsRegEx)});if(!P||P&&!P.length){E&&E([],{});return}var B={};k.filter(function(z){return z.nodeName.replace("svg:","")==="clipPath"}).forEach(function(z){var N=z.getAttribute("id");B[N]=i.util.toArray(z.getElementsByTagName("*")).filter(function(W){return i.svgValidTagNamesRegEx.test(W.nodeName.replace("svg:",""))})}),i.gradientDefs[L]=i.getGradientDefs(M),i.cssRules[L]=i.getCSSRules(M),i.clipPaths[L]=B,i.parseElements(P,function(z,N){E&&(E(z,ie,N,k),delete i.gradientDefs[L],delete i.cssRules[L],delete i.clipPaths[L])},f(ie),H,A)}};function I(M,E){var H=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],A="xlink:href",L=E.getAttribute(A).slice(1),$=X(M,L);if($&&$.getAttribute(A)&&I(M,$),H.forEach(function(ie){$&&!E.hasAttribute(ie)&&$.hasAttribute(ie)&&E.setAttribute(ie,$.getAttribute(ie))}),!E.children.length)for(var K=$.cloneNode(!0);K.firstChild;)E.appendChild(K.firstChild);E.removeAttribute(A)}var Z=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");d(i,{parseFontDeclaration:function(M,E){var H=M.match(Z);if(H){var A=H[1],L=H[3],$=H[4],K=H[5],ie=H[6];A&&(E.fontStyle=A),L&&(E.fontWeight=isNaN(parseFloat(L))?L:parseFloat(L)),$&&(E.fontSize=l($)),ie&&(E.fontFamily=ie),K&&(E.lineHeight=K==="normal"?1:K)}},getGradientDefs:function(M){var E=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],H=Y(M,E),A,L=0,$={};for(L=H.length;L--;)A=H[L],A.getAttribute("xlink:href")&&I(M,A),$[A.getAttribute("id")]=A;return $},parseAttributes:function(M,E,H){if(M){var A,L={},$,K;typeof H>"u"&&(H=M.getAttribute("svgUid")),M.parentNode&&i.svgValidParentsRegEx.test(M.parentNode.nodeName)&&(L=i.parseAttributes(M.parentNode,E,H));var ie=E.reduce(function(W,q){return A=M.getAttribute(q),A&&(W[q]=A),W},{}),k=d(ee(M,H),i.parseStyleAttribute(M));ie=d(ie,k),k[w]&&M.setAttribute(w,k[w]),$=K=L.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,ie[b]&&(ie[b]=$=l(ie[b],K));var T,P,B={};for(var z in ie)T=C(z),P=S(T,ie[z],L,$),B[T]=P;B&&B.font&&i.parseFontDeclaration(B.font,B);var N=d(L,B);return i.svgValidParentsRegEx.test(M.nodeName)?N:j(N)}},parseElements:function(M,E,H,A,L){new i.ElementsParser(M,E,H,A,L).parse()},parseStyleAttribute:function(M){var E={},H=M.getAttribute("style");return H&&(typeof H=="string"?G(H,E):U(H,E)),E},parsePointsAttribute:function(M){if(!M)return null;M=M.replace(/,/g," ").trim(),M=M.split(/\s+/);var E=[],H,A;for(H=0,A=M.length;H<A;H+=2)E.push({x:parseFloat(M[H]),y:parseFloat(M[H+1])});return E},getCSSRules:function(M){var E=M.getElementsByTagName("style"),H,A,L={},$;for(H=0,A=E.length;H<A;H++){var K=E[H].textContent;K=K.replace(/\/\*[\s\S]*?\*\//g,""),K.trim()!==""&&($=K.split("}"),$=$.filter(function(ie){return ie.trim()}),$.forEach(function(ie){var k=ie.split("{"),T={},P=k[1].trim(),B=P.split(";").filter(function(q){return q.trim()});for(H=0,A=B.length;H<A;H++){var z=B[H].split(":"),N=z[0].trim(),W=z[1].trim();T[N]=W}ie=k[0].trim(),ie.split(",").forEach(function(q){q=q.replace(/^svg/i,"").trim(),q!==""&&(L[q]?i.util.object.extend(L[q],T):L[q]=i.util.object.clone(T))})}))}return L},loadSVGFromURL:function(M,E,H,A){M=M.replace(/^\n\s*/,"").trim(),new i.util.request(M,{method:"get",onComplete:L});function L($){var K=$.responseXML;if(!K||!K.documentElement)return E&&E(null),!1;i.parseSVGDocument(K.documentElement,function(ie,k,T,P){E&&E(ie,k,T,P)},H,A)}},loadSVGFromString:function(M,E,H,A){var L=new i.window.DOMParser,$=L.parseFromString(M.trim(),"text/xml");i.parseSVGDocument($.documentElement,function(K,ie,k,T){E(K,ie,k,T)},H,A)}})}(e),t.ElementsParser=function(u,i,d,f,o,l){this.elements=u,this.callback=i,this.options=d,this.reviver=f,this.svgUid=d&&d.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=l},function(u){u.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},u.createObjects=function(){var i=this;this.elements.forEach(function(d,f){d.setAttribute("svgUid",i.svgUid),i.createObject(d,f)})},u.findTag=function(i){return t[t.util.string.capitalize(i.tagName.replace("svg:",""))]},u.createObject=function(i,d){var f=this.findTag(i);if(f&&f.fromElement)try{f.fromElement(i,this.createCallback(d,i),this.options)}catch(o){t.log(o)}else this.checkIfDone()},u.createCallback=function(i,d){var f=this;return function(o){var l;f.resolveGradient(o,d,"fill"),f.resolveGradient(o,d,"stroke"),o instanceof t.Image&&o._originalElement&&(l=o.parsePreserveAspectRatioAttribute(d)),o._removeTransformMatrix(l),f.resolveClipPath(o,d),f.reviver&&f.reviver(d,o),f.instances[i]=o,f.checkIfDone()}},u.extractPropertyDefinition=function(i,d,f){var o=i[d],l=this.regexUrl;if(l.test(o)){l.lastIndex=0;var a=l.exec(o)[1];return l.lastIndex=0,t[f][this.svgUid][a]}},u.resolveGradient=function(i,d,f){var o=this.extractPropertyDefinition(i,f,"gradientDefs");if(o){var l=d.getAttribute(f+"-opacity"),a=t.Gradient.fromElement(o,i,l,this.options);i.set(f,a)}},u.createClipPathCallback=function(i,d){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,d.push(f)}},u.resolveClipPath=function(i,d){var f=this.extractPropertyDefinition(i,"clipPath","clipPaths"),o,l,a,c,g,h;if(f){c=[],a=t.util.invertTransform(i.calcTransformMatrix());for(var v=f[0].parentNode,_=d;_.parentNode&&_.getAttribute("clip-path")!==i.clipPath;)_=_.parentNode;_.parentNode.appendChild(v);for(var y=0;y<f.length;y++)o=f[y],l=this.findTag(o),l.fromElement(o,this.createClipPathCallback(i,c),this.options);c.length===1?f=c[0]:f=new t.Group(c),g=t.util.multiplyTransformMatrices(a,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,_);var h=t.util.qrDecompose(g);f.flipX=!1,f.flipY=!1,f.set("scaleX",h.scaleX),f.set("scaleY",h.scaleY),f.angle=h.angle,f.skewX=h.skewX,f.skewY=0,f.setPositionByOrigin({x:h.translateX,y:h.translateY},"center","center"),i.clipPath=f}else delete i.clipPath},u.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(u){var i=u.fabric||(u.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=d;function d(f,o){this.x=f,this.y=o}d.prototype={type:"point",constructor:d,add:function(f){return new d(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new d(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new d(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new d(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new d(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new d(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,o){return typeof o>"u"&&(o=.5),o=Math.max(Math.min(1,o),0),new d(this.x+(f.x-this.x)*o,this.y+(f.y-this.y)*o)},distanceFrom:function(f){var o=this.x-f.x,l=this.y-f.y;return Math.sqrt(o*o+l*l)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new d(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new d(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,o){return this.x=f,this.y=o,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var o=this.x,l=this.y;this.x=f.x,this.y=f.y,f.x=o,f.y=l},clone:function(){return new d(this.x,this.y)}}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function d(f){this.status=f,this.points=[]}i.Intersection=d,i.Intersection.prototype={constructor:d,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},i.Intersection.intersectLineLine=function(f,o,l,a){var c,g=(a.x-l.x)*(f.y-l.y)-(a.y-l.y)*(f.x-l.x),h=(o.x-f.x)*(f.y-l.y)-(o.y-f.y)*(f.x-l.x),v=(a.y-l.y)*(o.x-f.x)-(a.x-l.x)*(o.y-f.y);if(v!==0){var _=g/v,y=h/v;0<=_&&_<=1&&0<=y&&y<=1?(c=new d("Intersection"),c.appendPoint(new i.Point(f.x+_*(o.x-f.x),f.y+_*(o.y-f.y)))):c=new d}else g===0||h===0?c=new d("Coincident"):c=new d("Parallel");return c},i.Intersection.intersectLinePolygon=function(f,o,l){var a=new d,c=l.length,g,h,v,_;for(_=0;_<c;_++)g=l[_],h=l[(_+1)%c],v=d.intersectLineLine(f,o,g,h),a.appendPoints(v.points);return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonPolygon=function(f,o){var l=new d,a=f.length,c;for(c=0;c<a;c++){var g=f[c],h=f[(c+1)%a],v=d.intersectLinePolygon(g,h,o);l.appendPoints(v.points)}return l.points.length>0&&(l.status="Intersection"),l},i.Intersection.intersectPolygonRectangle=function(f,o,l){var a=o.min(l),c=o.max(l),g=new i.Point(c.x,a.y),h=new i.Point(a.x,c.y),v=d.intersectLinePolygon(a,g,f),_=d.intersectLinePolygon(g,c,f),y=d.intersectLinePolygon(c,h,f),b=d.intersectLinePolygon(h,a,f),w=new d;return w.appendPoints(v.points),w.appendPoints(_.points),w.appendPoints(y.points),w.appendPoints(b.points),w.points.length>0&&(w.status="Intersection"),w}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function d(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}i.Color=d,i.Color.prototype={_tryParsingColor:function(o){var l;o in d.colorNameMap&&(o=d.colorNameMap[o]),o==="transparent"&&(l=[255,255,255,0]),l||(l=d.sourceFromHex(o)),l||(l=d.sourceFromRgb(o)),l||(l=d.sourceFromHsl(o)),l||(l=[0,0,0,1]),l&&this.setSource(l)},_rgbToHsl:function(o,l,a){o/=255,l/=255,a/=255;var c,g,h,v=i.util.array.max([o,l,a]),_=i.util.array.min([o,l,a]);if(h=(v+_)/2,v===_)c=g=0;else{var y=v-_;switch(g=h>.5?y/(2-v-_):y/(v+_),v){case o:c=(l-a)/y+(l<a?6:0);break;case l:c=(a-o)/y+2;break;case a:c=(o-l)/y+4;break}c/=6}return[Math.round(c*360),Math.round(g*100),Math.round(h*100)]},getSource:function(){return this._source},setSource:function(o){this._source=o},toRgb:function(){var o=this.getSource();return"rgb("+o[0]+","+o[1]+","+o[2]+")"},toRgba:function(){var o=this.getSource();return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},toHsl:function(){var o=this.getSource(),l=this._rgbToHsl(o[0],o[1],o[2]);return"hsl("+l[0]+","+l[1]+"%,"+l[2]+"%)"},toHsla:function(){var o=this.getSource(),l=this._rgbToHsl(o[0],o[1],o[2]);return"hsla("+l[0]+","+l[1]+"%,"+l[2]+"%,"+o[3]+")"},toHex:function(){var o=this.getSource(),l,a,c;return l=o[0].toString(16),l=l.length===1?"0"+l:l,a=o[1].toString(16),a=a.length===1?"0"+a:a,c=o[2].toString(16),c=c.length===1?"0"+c:c,l.toUpperCase()+a.toUpperCase()+c.toUpperCase()},toHexa:function(){var o=this.getSource(),l;return l=Math.round(o[3]*255),l=l.toString(16),l=l.length===1?"0"+l:l,this.toHex()+l.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(o){var l=this.getSource();return l[3]=o,this.setSource(l),this},toGrayscale:function(){var o=this.getSource(),l=parseInt((o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),10),a=o[3];return this.setSource([l,l,l,a]),this},toBlackWhite:function(o){var l=this.getSource(),a=(l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),c=l[3];return o=o||127,a=Number(a)<Number(o)?0:255,this.setSource([a,a,a,c]),this},overlayWith:function(o){o instanceof d||(o=new d(o));var l=[],a=this.getAlpha(),c=.5,g=this.getSource(),h=o.getSource(),v;for(v=0;v<3;v++)l.push(Math.round(g[v]*(1-c)+h[v]*c));return l[3]=a,this.setSource(l),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(o,l,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?o+(l-o)*6*a:a<1/2?l:a<2/3?o+(l-o)*(2/3-a)*6:o}i.Color.fromRgb=function(o){return d.fromSource(d.sourceFromRgb(o))},i.Color.sourceFromRgb=function(o){var l=o.match(d.reRGBa);if(l){var a=parseInt(l[1],10)/(/%$/.test(l[1])?100:1)*(/%$/.test(l[1])?255:1),c=parseInt(l[2],10)/(/%$/.test(l[2])?100:1)*(/%$/.test(l[2])?255:1),g=parseInt(l[3],10)/(/%$/.test(l[3])?100:1)*(/%$/.test(l[3])?255:1);return[parseInt(a,10),parseInt(c,10),parseInt(g,10),l[4]?parseFloat(l[4]):1]}},i.Color.fromRgba=d.fromRgb,i.Color.fromHsl=function(o){return d.fromSource(d.sourceFromHsl(o))},i.Color.sourceFromHsl=function(o){var l=o.match(d.reHSLa);if(l){var a=(parseFloat(l[1])%360+360)%360/360,c=parseFloat(l[2])/(/%$/.test(l[2])?100:1),g=parseFloat(l[3])/(/%$/.test(l[3])?100:1),h,v,_;if(c===0)h=v=_=g;else{var y=g<=.5?g*(c+1):g+c-g*c,b=g*2-y;h=f(b,y,a+1/3),v=f(b,y,a),_=f(b,y,a-1/3)}return[Math.round(h*255),Math.round(v*255),Math.round(_*255),l[4]?parseFloat(l[4]):1]}},i.Color.fromHsla=d.fromHsl,i.Color.fromHex=function(o){return d.fromSource(d.sourceFromHex(o))},i.Color.sourceFromHex=function(o){if(o.match(d.reHex)){var l=o.slice(o.indexOf("#")+1),a=l.length===3||l.length===4,c=l.length===8||l.length===4,g=a?l.charAt(0)+l.charAt(0):l.substring(0,2),h=a?l.charAt(1)+l.charAt(1):l.substring(2,4),v=a?l.charAt(2)+l.charAt(2):l.substring(4,6),_=c?a?l.charAt(3)+l.charAt(3):l.substring(6,8):"FF";return[parseInt(g,16),parseInt(h,16),parseInt(v,16),parseFloat((parseInt(_,16)/255).toFixed(2))]}},i.Color.fromSource=function(o){var l=new d;return l.setSource(o),l}}(e),function(u){var i=u.fabric||(u.fabric={}),d=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],o={},l="left",a="top",c="right",g="bottom",h="center",v={top:g,bottom:a,left:c,right:l,center:h},_=i.util.radiansToDegrees,y=Math.sign||function(T){return(T>0)-(T<0)||+T};function b(T,P){var B=T.angle+_(Math.atan2(P.y,P.x))+360;return Math.round(B%360/45)}function w(T,P){var B=P.transform.target,z=B.canvas,N=i.util.object.clone(P);N.target=B,z&&z.fire("object:"+T,N),B.fire(T,P)}function C(T,P){var B=P.canvas,z=B.uniScaleKey,N=T[z];return B.uniformScaling&&!N||!B.uniformScaling&&N}function S(T){return T.originX===h&&T.originY===h}function O(T,P,B){var z=T.lockScalingX,N=T.lockScalingY;return!!(z&&N||!P&&(z||N)&&B||z&&P==="x"||N&&P==="y")}function j(T,P,B){var z="not-allowed",N=C(T,B),W="";if(P.x!==0&&P.y===0?W="x":P.x===0&&P.y!==0&&(W="y"),O(B,W,N))return z;var q=b(B,P);return d[q]+"-resize"}function Y(T,P,B){var z="not-allowed";if(P.x!==0&&B.lockSkewingY||P.y!==0&&B.lockSkewingX)return z;var N=b(B,P)%4;return f[N]+"-resize"}function G(T,P,B){return T[B.canvas.altActionKey]?o.skewCursorStyleHandler(T,P,B):o.scaleCursorStyleHandler(T,P,B)}function U(T,P,B){var z=T[B.canvas.altActionKey];if(P.x===0)return z?"skewX":"scaleY";if(P.y===0)return z?"skewY":"scaleX"}function ee(T,P,B){return B.lockRotation?"not-allowed":P.cursorStyle}function oe(T,P,B,z){return{e:T,transform:P,pointer:{x:B,y:z}}}function le(T){return function(P,B,z,N){var W=B.target,q=W.getCenterPoint(),se=W.translateToOriginPoint(q,B.originX,B.originY),Q=T(P,B,z,N);return W.setPositionByOrigin(se,B.originX,B.originY),Q}}function ce(T,P){return function(B,z,N,W){var q=P(B,z,N,W);return q&&w(T,oe(B,z,N,W)),q}}function X(T,P,B,z,N){var W=T.target,q=W.controls[T.corner],se=W.canvas.getZoom(),Q=W.padding/se,V=W.toLocalPoint(new i.Point(z,N),P,B);return V.x>=Q&&(V.x-=Q),V.x<=-Q&&(V.x+=Q),V.y>=Q&&(V.y-=Q),V.y<=Q&&(V.y+=Q),V.x-=q.offsetX,V.y-=q.offsetY,V}function J(T){return T.flipX!==T.flipY}function x(T,P,B,z,N){if(T[P]!==0){var W=T._getTransformedDimensions()[z],q=N/W*T[B];T.set(B,q)}}function D(T,P,B,z){var N=P.target,W=N._getTransformedDimensions(0,N.skewY),q=X(P,P.originX,P.originY,B,z),se=Math.abs(q.x*2)-W.x,Q=N.skewX,V;se<2?V=0:(V=_(Math.atan2(se/N.scaleX,W.y/N.scaleY)),P.originX===l&&P.originY===g&&(V=-V),P.originX===c&&P.originY===a&&(V=-V),J(N)&&(V=-V));var ae=Q!==V;if(ae){var he=N._getTransformedDimensions().y;N.set("skewX",V),x(N,"skewY","scaleY","y",he)}return ae}function R(T,P,B,z){var N=P.target,W=N._getTransformedDimensions(N.skewX,0),q=X(P,P.originX,P.originY,B,z),se=Math.abs(q.y*2)-W.y,Q=N.skewY,V;se<2?V=0:(V=_(Math.atan2(se/N.scaleY,W.x/N.scaleX)),P.originX===l&&P.originY===g&&(V=-V),P.originX===c&&P.originY===a&&(V=-V),J(N)&&(V=-V));var ae=Q!==V;if(ae){var he=N._getTransformedDimensions().x;N.set("skewY",V),x(N,"skewX","scaleX","x",he)}return ae}function I(T,P,B,z){var N=P.target,W=N.skewX,q,se=P.originY;if(N.lockSkewingX)return!1;if(W===0){var Q=X(P,h,h,B,z);Q.x>0?q=l:q=c}else W>0&&(q=se===a?l:c),W<0&&(q=se===a?c:l),J(N)&&(q=q===l?c:l);P.originX=q;var V=ce("skewing",le(D));return V(T,P,B,z)}function Z(T,P,B,z){var N=P.target,W=N.skewY,q,se=P.originX;if(N.lockSkewingY)return!1;if(W===0){var Q=X(P,h,h,B,z);Q.y>0?q=a:q=g}else W>0&&(q=se===l?a:g),W<0&&(q=se===l?g:a),J(N)&&(q=q===a?g:a);P.originY=q;var V=ce("skewing",le(R));return V(T,P,B,z)}function M(T,P,B,z){var N=P,W=N.target,q=W.translateToOriginPoint(W.getCenterPoint(),N.originX,N.originY);if(W.lockRotation)return!1;var se=Math.atan2(N.ey-q.y,N.ex-q.x),Q=Math.atan2(z-q.y,B-q.x),V=_(Q-se+N.theta),ae=!0;if(W.snapAngle>0){var he=W.snapAngle,ge=W.snapThreshold||he,me=Math.ceil(V/he)*he,_e=Math.floor(V/he)*he;Math.abs(V-_e)<ge?V=_e:Math.abs(V-me)<ge&&(V=me)}return V<0&&(V=360+V),V%=360,ae=W.angle!==V,W.angle=V,ae}function E(T,P,B,z,N){N=N||{};var W=P.target,q=W.lockScalingX,se=W.lockScalingY,Q=N.by,V,ae,he,ge,me=C(T,W),_e=O(W,Q,me),be,Oe,Ke=P.gestureScale;if(_e)return!1;if(Ke)ae=P.scaleX*Ke,he=P.scaleY*Ke;else{if(V=X(P,P.originX,P.originY,B,z),be=Q!=="y"?y(V.x):1,Oe=Q!=="x"?y(V.y):1,P.signX||(P.signX=be),P.signY||(P.signY=Oe),W.lockScalingFlip&&(P.signX!==be||P.signY!==Oe))return!1;if(ge=W._getTransformedDimensions(),me&&!Q){var _t=Math.abs(V.x)+Math.abs(V.y),pt=P.original,sn=Math.abs(ge.x*pt.scaleX/W.scaleX)+Math.abs(ge.y*pt.scaleY/W.scaleY),Gn=_t/sn;ae=pt.scaleX*Gn,he=pt.scaleY*Gn}else ae=Math.abs(V.x*W.scaleX/ge.x),he=Math.abs(V.y*W.scaleY/ge.y);S(P)&&(ae*=2,he*=2),P.signX!==be&&Q!=="y"&&(P.originX=v[P.originX],ae*=-1,P.signX=be),P.signY!==Oe&&Q!=="x"&&(P.originY=v[P.originY],he*=-1,P.signY=Oe)}var Ye=W.scaleX,at=W.scaleY;return Q?(Q==="x"&&W.set("scaleX",ae),Q==="y"&&W.set("scaleY",he)):(!q&&W.set("scaleX",ae),!se&&W.set("scaleY",he)),Ye!==W.scaleX||at!==W.scaleY}function H(T,P,B,z){return E(T,P,B,z)}function A(T,P,B,z){return E(T,P,B,z,{by:"x"})}function L(T,P,B,z){return E(T,P,B,z,{by:"y"})}function $(T,P,B,z){return T[P.target.canvas.altActionKey]?o.skewHandlerX(T,P,B,z):o.scalingY(T,P,B,z)}function K(T,P,B,z){return T[P.target.canvas.altActionKey]?o.skewHandlerY(T,P,B,z):o.scalingX(T,P,B,z)}function ie(T,P,B,z){var N=P.target,W=X(P,P.originX,P.originY,B,z),q=N.strokeWidth/(N.strokeUniform?N.scaleX:1),se=S(P)?2:1,Q=N.width,V=Math.abs(W.x*se/N.scaleX)-q;return N.set("width",Math.max(V,0)),Q!==V}function k(T,P,B,z){var N=P.target,W=B-P.offsetX,q=z-P.offsetY,se=!N.get("lockMovementX")&&N.left!==W,Q=!N.get("lockMovementY")&&N.top!==q;return se&&N.set("left",W),Q&&N.set("top",q),(se||Q)&&w("moving",oe(T,P,B,z)),se||Q}o.scaleCursorStyleHandler=j,o.skewCursorStyleHandler=Y,o.scaleSkewCursorStyleHandler=G,o.rotationWithSnapping=ce("rotating",le(M)),o.scalingEqually=ce("scaling",le(H)),o.scalingX=ce("scaling",le(A)),o.scalingY=ce("scaling",le(L)),o.scalingYOrSkewingX=$,o.scalingXOrSkewingY=K,o.changeWidth=ce("resizing",le(ie)),o.skewHandlerX=I,o.skewHandlerY=Z,o.dragHandler=k,o.scaleOrSkewActionName=U,o.rotationStyleHandler=ee,o.fireEvent=w,o.wrapWithFixedAnchor=le,o.wrapWithFireEvent=ce,o.getLocalPoint=X,i.controlsUtils=o}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.util.degreesToRadians,f=i.controlsUtils;function o(a,c,g,h,v){h=h||{};var _=this.sizeX||h.cornerSize||v.cornerSize,y=this.sizeY||h.cornerSize||v.cornerSize,b=typeof h.transparentCorners<"u"?h.transparentCorners:v.transparentCorners,w=b?"stroke":"fill",C=!b&&(h.cornerStrokeColor||v.cornerStrokeColor),S=c,O=g,j;a.save(),a.fillStyle=h.cornerColor||v.cornerColor,a.strokeStyle=h.cornerStrokeColor||v.cornerStrokeColor,_>y?(j=_,a.scale(1,y/_),O=g*_/y):y>_?(j=y,a.scale(_/y,1),S=c*y/_):j=_,a.lineWidth=1,a.beginPath(),a.arc(S,O,j/2,0,2*Math.PI,!1),a[w](),C&&a.stroke(),a.restore()}function l(a,c,g,h,v){h=h||{};var _=this.sizeX||h.cornerSize||v.cornerSize,y=this.sizeY||h.cornerSize||v.cornerSize,b=typeof h.transparentCorners<"u"?h.transparentCorners:v.transparentCorners,w=b?"stroke":"fill",C=!b&&(h.cornerStrokeColor||v.cornerStrokeColor),S=_/2,O=y/2;a.save(),a.fillStyle=h.cornerColor||v.cornerColor,a.strokeStyle=h.cornerStrokeColor||v.cornerStrokeColor,a.lineWidth=1,a.translate(c,g),a.rotate(d(v.angle)),a[w+"Rect"](-S,-O,_,y),C&&a.strokeRect(-S,-O,_,y),a.restore()}f.renderCircleControl=o,f.renderSquareControl=l}(e),function(u){var i=u.fabric||(u.fabric={});function d(f){for(var o in f)this[o]=f[o]}i.Control=d,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,o){return o.cursorStyle},getActionName:function(f,o){return o.actionName},getVisibility:function(f,o){var l=f._controlsVisibility;return l&&typeof l[o]<"u"?l[o]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,o){var l=i.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},o);return l},calcCornerCoords:function(f,o,l,a,c){var g,h,v,_,y=c?this.touchSizeX:this.sizeX,b=c?this.touchSizeY:this.sizeY;if(y&&b&&y!==b){var w=Math.atan2(b,y),C=Math.sqrt(y*y+b*b)/2,S=w-i.util.degreesToRadians(f),O=Math.PI/2-w-i.util.degreesToRadians(f);g=C*i.util.cos(S),h=C*i.util.sin(S),v=C*i.util.cos(O),_=C*i.util.sin(O)}else{var j=y&&b?y:o;C=j*.7071067812;var S=i.util.degreesToRadians(45-f);g=v=C*i.util.cos(S),h=_=C*i.util.sin(S)}return{tl:{x:l-_,y:a-v},tr:{x:l+g,y:a-h},bl:{x:l-g,y:a+h},br:{x:l+_,y:a+v}}},render:function(f,o,l,a,c){switch(a=a||{},a.cornerStyle||c.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,f,o,l,a,c);break;default:i.controlsUtils.renderSquareControl.call(this,f,o,l,a,c)}}}}(e),function(){function u(l,a){var c=l.getAttribute("style"),g=l.getAttribute("offset")||0,h,v,_,y;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,c){var b=c.split(/\s*;\s*/);for(b[b.length-1]===""&&b.pop(),y=b.length;y--;){var w=b[y].split(/\s*:\s*/),C=w[0].trim(),S=w[1].trim();C==="stop-color"?h=S:C==="stop-opacity"&&(_=S)}}return h||(h=l.getAttribute("stop-color")||"rgb(0,0,0)"),_||(_=l.getAttribute("stop-opacity")),h=new t.Color(h),v=h.getAlpha(),_=isNaN(parseFloat(_))?1:parseFloat(_),_*=v*a,{offset:g,color:h.toRgb(),opacity:_}}function i(l){return{x1:l.getAttribute("x1")||0,y1:l.getAttribute("y1")||0,x2:l.getAttribute("x2")||"100%",y2:l.getAttribute("y2")||0}}function d(l){return{x1:l.getAttribute("fx")||l.getAttribute("cx")||"50%",y1:l.getAttribute("fy")||l.getAttribute("cy")||"50%",r1:0,x2:l.getAttribute("cx")||"50%",y2:l.getAttribute("cy")||"50%",r2:l.getAttribute("r")||"50%"}}var f=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(l){l||(l={}),l.coords||(l.coords={});var a,c=this;Object.keys(l).forEach(function(g){c[g]=l[g]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,a={x1:l.coords.x1||0,y1:l.coords.y1||0,x2:l.coords.x2||0,y2:l.coords.y2||0},this.type==="radial"&&(a.r1=l.coords.r1||0,a.r2=l.coords.r2||0),this.coords=a,this.colorStops=l.colorStops.slice()},addColorStop:function(l){for(var a in l){var c=new t.Color(l[a]);this.colorStops.push({offset:parseFloat(a),color:c.toRgb(),opacity:c.getAlpha()})}return this},toObject:function(l){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,a,l),a},toSVG:function(l,v){var c=f(this.coords,!0),g,h,v=v||{},_,y,b=f(this.colorStops,!0),w=c.r1>c.r2,C=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),S=-this.offsetX,O=-this.offsetY,j=!!v.additionalTransform,Y=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(b.sort(function(le,ce){return le.offset-ce.offset}),Y==="objectBoundingBox"?(S/=l.width,O/=l.height):(S+=l.width/2,O+=l.height/2),l.type==="path"&&this.gradientUnits!=="percentage"&&(S-=l.pathOffset.x,O-=l.pathOffset.y),C[4]-=S,C[5]-=O,y='id="SVGID_'+this.id+'" gradientUnits="'+Y+'"',y+=' gradientTransform="'+(j?v.additionalTransform+" ":"")+t.util.matrixToSVG(C)+'" ',this.type==="linear"?_=["<linearGradient ",y,' x1="',c.x1,'" y1="',c.y1,'" x2="',c.x2,'" y2="',c.y2,`">
`]:this.type==="radial"&&(_=["<radialGradient ",y,' cx="',w?c.x1:c.x2,'" cy="',w?c.y1:c.y2,'" r="',w?c.r1:c.r2,'" fx="',w?c.x2:c.x1,'" fy="',w?c.y2:c.y1,`">
`]),this.type==="radial"){if(w)for(b=b.concat(),b.reverse(),g=0,h=b.length;g<h;g++)b[g].offset=1-b[g].offset;var G=Math.min(c.r1,c.r2);if(G>0){var U=Math.max(c.r1,c.r2),ee=G/U;for(g=0,h=b.length;g<h;g++)b[g].offset+=ee*(1-b[g].offset)}}for(g=0,h=b.length;g<h;g++){var oe=b[g];_.push("<stop ",'offset="',oe.offset*100+"%",'" style="stop-color:',oe.color,typeof oe.opacity<"u"?";stop-opacity: "+oe.opacity:";",`"/>
`)}return _.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),_.join("")},toLive:function(l){var a,c=t.util.object.clone(this.coords),g,h;if(this.type){for(this.type==="linear"?a=l.createLinearGradient(c.x1,c.y1,c.x2,c.y2):this.type==="radial"&&(a=l.createRadialGradient(c.x1,c.y1,c.r1,c.x2,c.y2,c.r2)),g=0,h=this.colorStops.length;g<h;g++){var v=this.colorStops[g].color,_=this.colorStops[g].opacity,y=this.colorStops[g].offset;typeof _<"u"&&(v=new t.Color(v).setAlpha(_).toRgba()),a.addColorStop(y,v)}return a}}}),t.util.object.extend(t.Gradient,{fromElement:function(l,a,c,g){var h=parseFloat(c)/(/%$/.test(c)?100:1);h=h<0?0:h>1?1:h,isNaN(h)&&(h=1);var v=l.getElementsByTagName("stop"),_,y=l.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",b=l.getAttribute("gradientTransform")||"",w=[],C,S,O=0,j=0,Y;for(l.nodeName==="linearGradient"||l.nodeName==="LINEARGRADIENT"?(_="linear",C=i(l)):(_="radial",C=d(l)),S=v.length;S--;)w.push(u(v[S],h));Y=t.parseTransformAttribute(b),o(a,C,g,y),y==="pixels"&&(O=-a.left,j=-a.top);var G=new t.Gradient({id:l.getAttribute("id"),type:_,coords:C,colorStops:w,gradientUnits:y,gradientTransform:Y,offsetX:O,offsetY:j});return G}});function o(l,a,c,g){var h,v;Object.keys(a).forEach(function(_){h=a[_],h==="Infinity"?v=1:h==="-Infinity"?v=0:(v=parseFloat(a[_],10),typeof h=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(h)&&(v*=.01,g==="pixels"&&((_==="x1"||_==="x2"||_==="r2")&&(v*=c.viewBoxWidth||c.width),(_==="y1"||_==="y2")&&(v*=c.viewBoxHeight||c.height)))),a[_]=v})}}(),function(){var u=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,d){if(i||(i={}),this.id=t.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){d&&d(this);return}else{var f=this;this.source=t.util.createImage(),t.util.loadImage(i.source,function(o,l){f.source=o,d&&d(f,l)},null,this.crossOrigin)}},toObject:function(i){var d=t.Object.NUM_FRACTION_DIGITS,f,o;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),o={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:u(this.offsetX,d),offsetY:u(this.offsetY,d),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,o,i),o},toSVG:function(i){var d=typeof this.source=="function"?this.source():this.source,f=d.width/i.width,o=d.height/i.height,l=this.offsetX/i.width,a=this.offsetY/i.height,c="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(o=1,a&&(o+=Math.abs(a))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,l&&(f+=Math.abs(l))),d.src?c=d.src:d.toDataURL&&(c=d.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+l+'" y="'+a+'" width="'+f+'" height="'+o+`">
<image x="0" y="0" width="`+d.width+'" height="'+d.height+'" xlink:href="'+c+`"></image>
</pattern>
`},setOptions:function(i){for(var d in i)this[d]=i[d]},toLive:function(i){var d=this.source;return!d||typeof d.src<"u"&&(!d.complete||d.naturalWidth===0||d.naturalHeight===0)?"":i.createPattern(d,this.repeat)}})}(),function(u){var i=u.fabric||(u.fabric={}),d=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var o in f)this[o]=f[o];this.id=i.Object.__uid++},_parseShadow:function(f){var o=f.trim(),l=i.Shadow.reOffsetsAndBlur.exec(o)||[],a=o.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:a.trim(),offsetX:parseFloat(l[1],10)||0,offsetY:parseFloat(l[2],10)||0,blur:parseFloat(l[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var o=40,l=40,a=i.Object.NUM_FRACTION_DIGITS,c=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-f.angle)),g=20,h=new i.Color(this.color);return f.width&&f.height&&(o=d((Math.abs(c.x)+this.blur)/f.width,a)*100+g,l=d((Math.abs(c.y)+this.blur)/f.height,a)*100+g),f.flipX&&(c.x*=-1),f.flipY&&(c.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+l+'%" height="'+(100+2*l)+'%" x="-'+o+'%" width="'+(100+2*o)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+d(this.blur?this.blur/2:0,a)+`"></feGaussianBlur>
	<feOffset dx="`+d(c.x,a)+'" dy="'+d(c.y,a)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+h.toRgb()+'" flood-opacity="'+h.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},o=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(l){this[l]!==o[l]&&(f[l]=this[l])},this),f}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var u=t.util.object.extend,i=t.util.getElementOffset,d=t.util.removeFromArray,f=t.util.toFixed,o=t.util.transformPoint,l=t.util.invertTransform,a=t.util.getNodeCanvas,c=t.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(h,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(h,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(h,v){var _=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(h),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,_),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,_),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,_),v.overlayColor&&this.setOverlayColor(v.overlayColor,_),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var h=t.devicePixelRatio;this.__initRetinaScaling(h,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(h,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(h,v,_){v.setAttribute("width",this.width*h),v.setAttribute("height",this.height*h),_.scale(h,h)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(h,v,_){return this.__setBgOverlayImage("overlayImage",h,v,_)},setBackgroundImage:function(h,v,_){return this.__setBgOverlayImage("backgroundImage",h,v,_)},setOverlayColor:function(h,v){return this.__setBgOverlayColor("overlayColor",h,v)},setBackgroundColor:function(h,v){return this.__setBgOverlayColor("backgroundColor",h,v)},__setBgOverlayImage:function(h,v,_,y){return typeof v=="string"?t.util.loadImage(v,function(b,w){if(b){var C=new t.Image(b,y);this[h]=C,C.canvas=this}_&&_(b,w)},this,y&&y.crossOrigin):(y&&v.setOptions(y),this[h]=v,v&&(v.canvas=this),_&&_(v,!1)),this},__setBgOverlayColor:function(h,v,_){return this[h]=v,this._initGradient(v,h),this._initPattern(v,h,_),this},_createCanvasElement:function(){var h=c();if(!h||(h.style||(h.style={}),typeof h.getContext>"u"))throw g;return h},_initOptions:function(h){var v=this.lowerCanvasEl;this._setOptions(h),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(h){h&&h.getContext?this.lowerCanvasEl=h:this.lowerCanvasEl=t.util.getById(h)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(h,v){return this.setDimensions({width:h},v)},setHeight:function(h,v){return this.setDimensions({height:h},v)},setDimensions:function(h,v){var _;v=v||{};for(var y in h)_=h[y],v.cssOnly||(this._setBackstoreDimension(y,h[y]),_+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(y,_);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(h,v){return this.lowerCanvasEl[h]=v,this.upperCanvasEl&&(this.upperCanvasEl[h]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[h]=v),this[h]=v,this},_setCssDimension:function(h,v){return this.lowerCanvasEl.style[h]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[h]=v),this.wrapperEl&&(this.wrapperEl.style[h]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(h){var v=this._activeObject,_=this.backgroundImage,y=this.overlayImage,b,w,C;for(this.viewportTransform=h,w=0,C=this._objects.length;w<C;w++)b=this._objects[w],b.group||b.setCoords(!0);return v&&v.setCoords(),_&&_.setCoords(!0),y&&y.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(h,v){var _=h,y=this.viewportTransform.slice(0);h=o(h,l(this.viewportTransform)),y[0]=v,y[3]=v;var b=o(h,y);return y[4]+=_.x-b.x,y[5]+=_.y-b.y,this.setViewportTransform(y)},setZoom:function(h){return this.zoomToPoint(new t.Point(0,0),h),this},absolutePan:function(h){var v=this.viewportTransform.slice(0);return v[4]=-h.x,v[5]=-h.y,this.setViewportTransform(v)},relativePan:function(h){return this.absolutePan(new t.Point(-h.x-this.viewportTransform[4],-h.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(h){this.stateful&&h.setupState(),h._set("canvas",this),h.setCoords(),this.fire("object:added",{target:h}),h.fire("added")},_onObjectRemoved:function(h){this.fire("object:removed",{target:h}),h.fire("removed"),delete h.canvas},clearContext:function(h){return h.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var h=this.contextContainer;return this.renderCanvas(h,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var h={},v=this.width,_=this.height,y=l(this.viewportTransform);return h.tl=o({x:0,y:0},y),h.br=o({x:v,y:_},y),h.tr=new t.Point(h.br.x,h.tl.y),h.bl=new t.Point(h.tl.x,h.br.y),this.vptCoords=h,h},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(h,v){var _=this.viewportTransform,y=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(h),t.util.setImageSmoothing(h,this.imageSmoothingEnabled),this.fire("before:render",{ctx:h}),this._renderBackground(h),h.save(),h.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._renderObjects(h,v),h.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(h),y&&(y.canvas=this,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(h)),this._renderOverlay(h),this.controlsAboveOverlay&&this.interactive&&this.drawControls(h),this.fire("after:render",{ctx:h})},drawClipPathOnCanvas:function(h){var v=this.viewportTransform,_=this.clipPath;h.save(),h.transform(v[0],v[1],v[2],v[3],v[4],v[5]),h.globalCompositeOperation="destination-in",_.transform(h),h.scale(1/_.zoomX,1/_.zoomY),h.drawImage(_._cacheCanvas,-_.cacheTranslationX,-_.cacheTranslationY),h.restore()},_renderObjects:function(h,v){var _,y;for(_=0,y=v.length;_<y;++_)v[_]&&v[_].render(h)},_renderBackgroundOrOverlay:function(h,v){var _=this[v+"Color"],y=this[v+"Image"],b=this.viewportTransform,w=this[v+"Vpt"];if(!(!_&&!y)){if(_){h.save(),h.beginPath(),h.moveTo(0,0),h.lineTo(this.width,0),h.lineTo(this.width,this.height),h.lineTo(0,this.height),h.closePath(),h.fillStyle=_.toLive?_.toLive(h,this):_,w&&h.transform(b[0],b[1],b[2],b[3],b[4],b[5]),h.transform(1,0,0,1,_.offsetX||0,_.offsetY||0);var C=_.gradientTransform||_.patternTransform;C&&h.transform(C[0],C[1],C[2],C[3],C[4],C[5]),h.fill(),h.restore()}y&&(h.save(),w&&h.transform(b[0],b[1],b[2],b[3],b[4],b[5]),y.render(h),h.restore())}},_renderBackground:function(h){this._renderBackgroundOrOverlay(h,"background")},_renderOverlay:function(h){this._renderBackgroundOrOverlay(h,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(h){return this._centerObject(h,new t.Point(this.getCenterPoint().x,h.getCenterPoint().y))},centerObjectV:function(h){return this._centerObject(h,new t.Point(h.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(h){var v=this.getCenterPoint();return this._centerObject(h,v)},viewportCenterObject:function(h){var v=this.getVpCenter();return this._centerObject(h,v)},viewportCenterObjectH:function(h){var v=this.getVpCenter();return this._centerObject(h,new t.Point(v.x,h.getCenterPoint().y)),this},viewportCenterObjectV:function(h){var v=this.getVpCenter();return this._centerObject(h,new t.Point(h.getCenterPoint().x,v.y))},getVpCenter:function(){var h=this.getCenterPoint(),v=l(this.viewportTransform);return o(h,v)},_centerObject:function(h,v){return h.setPositionByOrigin(v,"center","center"),h.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(h){return this.toDatalessObject(h)},toObject:function(h){return this._toObjectMethod("toObject",h)},toDatalessObject:function(h){return this._toObjectMethod("toDatalessObject",h)},_toObjectMethod:function(h,v){var _=this.clipPath,y={version:t.version,objects:this._toObjects(h,v)};return _&&!_.excludeFromExport&&(y.clipPath=this._toObject(this.clipPath,h,v)),u(y,this.__serializeBgOverlay(h,v)),t.util.populateWithProperties(this,y,v),y},_toObjects:function(h,v){return this._objects.filter(function(_){return!_.excludeFromExport}).map(function(_){return this._toObject(_,h,v)},this)},_toObject:function(h,v,_){var y;this.includeDefaultValues||(y=h.includeDefaultValues,h.includeDefaultValues=!1);var b=h[v](_);return this.includeDefaultValues||(h.includeDefaultValues=y),b},__serializeBgOverlay:function(h,v){var _={},y=this.backgroundImage,b=this.overlayImage,w=this.backgroundColor,C=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(_.background=w.toObject(v)):w&&(_.background=w),C&&C.toObject?C.excludeFromExport||(_.overlay=C.toObject(v)):C&&(_.overlay=C),y&&!y.excludeFromExport&&(_.backgroundImage=this._toObject(y,h,v)),b&&!b.excludeFromExport&&(_.overlayImage=this._toObject(b,h,v)),_},svgViewportTransformation:!0,toSVG:function(h,v){h||(h={}),h.reviver=v;var _=[];return this._setSVGPreamble(_,h),this._setSVGHeader(_,h),this.clipPath&&_.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(_,"background"),this._setSVGBgOverlayImage(_,"backgroundImage",v),this._setSVGObjects(_,v),this.clipPath&&_.push(`</g>
`),this._setSVGBgOverlayColor(_,"overlay"),this._setSVGBgOverlayImage(_,"overlayImage",v),_.push("</svg>"),_.join("")},_setSVGPreamble:function(h,v){v.suppressPreamble||h.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(h,v){var _=v.width||this.width,y=v.height||this.height,b,w='viewBox="0 0 '+this.width+" "+this.height+'" ',C=t.Object.NUM_FRACTION_DIGITS;v.viewBox?w='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(b=this.viewportTransform,w='viewBox="'+f(-b[4]/b[0],C)+" "+f(-b[5]/b[3],C)+" "+f(this.width/b[0],C)+" "+f(this.height/b[3],C)+'" '),h.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',_,'" ','height="',y,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(h){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(h.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var h=this,v=["background","overlay"].map(function(_){var y=h[_+"Color"];if(y&&y.toLive){var b=h[_+"Vpt"],w=h.viewportTransform,C={width:h.width/(b?w[0]:1),height:h.height/(b?w[3]:1)};return y.toSVG(C,{additionalTransform:b?t.util.matrixToSVG(w):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var h="",v={},_,y,b,w,C,S,O,j,Y,G=t.fontPaths,U=[];for(this._objects.forEach(function oe(le){U.push(le),le._objects&&le._objects.forEach(oe)}),j=0,Y=U.length;j<Y;j++)if(_=U[j],y=_.fontFamily,!(_.type.indexOf("text")===-1||v[y]||!G[y])&&(v[y]=!0,!!_.styles)){b=_.styles;for(C in b){w=b[C];for(O in w)S=w[O],y=S.fontFamily,!v[y]&&G[y]&&(v[y]=!0)}}for(var ee in v)h+=[`		@font-face {
`,"			font-family: '",ee,`';
`,"			src: url('",G[ee],`');
`,`		}
`].join("");return h&&(h=['	<style type="text/css">',`<![CDATA[
`,h,"]]>",`</style>
`].join("")),h},_setSVGObjects:function(h,v){var _,y,b,w=this._objects;for(y=0,b=w.length;y<b;y++)_=w[y],!_.excludeFromExport&&this._setSVGObject(h,_,v)},_setSVGObject:function(h,v,_){h.push(v.toSVG(_))},_setSVGBgOverlayImage:function(h,v,_){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&h.push(this[v].toSVG(_))},_setSVGBgOverlayColor:function(h,v){var _=this[v+"Color"],y=this.viewportTransform,b=this.width,w=this.height;if(_)if(_.toLive){var C=_.repeat,S=t.util.invertTransform(y),O=this[v+"Vpt"],j=O?t.util.matrixToSVG(S):"";h.push('<rect transform="'+j+" translate(",b/2,",",w/2,')"',' x="',_.offsetX-b/2,'" y="',_.offsetY-w/2,'" ','width="',C==="repeat-y"||C==="no-repeat"?_.source.width:b,'" height="',C==="repeat-x"||C==="no-repeat"?_.source.height:w,'" fill="url(#SVGID_'+_.id+')"',`></rect>
`)}else h.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',_,'"',`></rect>
`)},sendToBack:function(h){if(!h)return this;var v=this._activeObject,_,y,b;if(h===v&&h.type==="activeSelection")for(b=v._objects,_=b.length;_--;)y=b[_],d(this._objects,y),this._objects.unshift(y);else d(this._objects,h),this._objects.unshift(h);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(h){if(!h)return this;var v=this._activeObject,_,y,b;if(h===v&&h.type==="activeSelection")for(b=v._objects,_=0;_<b.length;_++)y=b[_],d(this._objects,y),this._objects.push(y);else d(this._objects,h),this._objects.push(h);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(h,v){if(!h)return this;var _=this._activeObject,y,b,w,C,S,O=0;if(h===_&&h.type==="activeSelection")for(S=_._objects,y=0;y<S.length;y++)b=S[y],w=this._objects.indexOf(b),w>0+O&&(C=w-1,d(this._objects,b),this._objects.splice(C,0,b)),O++;else w=this._objects.indexOf(h),w!==0&&(C=this._findNewLowerIndex(h,w,v),d(this._objects,h),this._objects.splice(C,0,h));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(h,v,_){var y,b;if(_)for(y=v,b=v-1;b>=0;--b){var w=h.intersectsWithObject(this._objects[b])||h.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(h);if(w){y=b;break}}else y=v-1;return y},bringForward:function(h,v){if(!h)return this;var _=this._activeObject,y,b,w,C,S,O=0;if(h===_&&h.type==="activeSelection")for(S=_._objects,y=S.length;y--;)b=S[y],w=this._objects.indexOf(b),w<this._objects.length-1-O&&(C=w+1,d(this._objects,b),this._objects.splice(C,0,b)),O++;else w=this._objects.indexOf(h),w!==this._objects.length-1&&(C=this._findNewUpperIndex(h,w,v),d(this._objects,h),this._objects.splice(C,0,h));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(h,v,_){var y,b,w;if(_)for(y=v,b=v+1,w=this._objects.length;b<w;++b){var C=h.intersectsWithObject(this._objects[b])||h.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(h);if(C){y=b;break}}else y=v+1;return y},moveTo:function(h,v){return d(this._objects,h),this._objects.splice(v,0,h),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(h){h.dispose&&h.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),u(t.StaticCanvas.prototype,t.Observable),u(t.StaticCanvas.prototype,t.Collection),u(t.StaticCanvas.prototype,t.DataURLExporter),u(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(h){var v=c();if(!v||!v.getContext)return null;var _=v.getContext("2d");if(!_)return null;switch(h){case"setLineDash":return typeof _.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var h=a(this.lowerCanvasEl);return h&&h.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(h){var v=a(this.lowerCanvasEl);return v&&v.createJPEGStream(h)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(u){u.strokeStyle=this.color,u.lineWidth=this.width,u.lineCap=this.strokeLineCap,u.miterLimit=this.strokeMiterLimit,u.lineJoin=this.strokeLineJoin,u.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(u){var i=this.canvas.viewportTransform;u.save(),u.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var u=this.canvas,i=this.shadow,d=u.contextTop,f=u.getZoom();u&&u._isRetinaScaling()&&(f*=t.devicePixelRatio),d.shadowColor=i.color,d.shadowBlur=i.blur*f,d.shadowOffsetX=i.offsetX*f,d.shadowOffsetY=i.offsetY*f}},needsFullRender:function(){var u=new t.Color(this.color);return u.getAlpha()<1||!!this.shadow},_resetShadow:function(){var u=this.canvas.contextTop;u.shadowColor="",u.shadowBlur=u.shadowOffsetX=u.shadowOffsetY=0},_isOutSideCanvas:function(u){return u.x<0||u.x>this.canvas.getWidth()||u.y<0||u.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(u){this.canvas=u,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(u,i,d){var f=i.midPointFrom(d);return u.quadraticCurveTo(i.x,i.y,f.x,f.y),f},onMouseDown:function(u,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(u),this._captureDrawingPath(u),this._render())},onMouseMove:function(u,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u))&&this._captureDrawingPath(u)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var d=this._points,f=d.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,d[f-2],d[f-1],!0),o.stroke(),o.restore()}},onMouseUp:function(u){return this.canvas._isMainEvent(u.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(u){var i=new t.Point(u.x,u.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(u){return this._points.length>1&&u.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(u),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(u){var i=new t.Point(u.x,u.y);return this._addPoint(i)},_render:function(u){var i,d,f=this._points[0],o=this._points[1];if(u=u||this.canvas.contextTop,this._saveAndTransform(u),u.beginPath(),this._points.length===2&&f.x===o.x&&f.y===o.y){var l=this.width/1e3;f=new t.Point(f.x,f.y),o=new t.Point(o.x,o.y),f.x-=l,o.x+=l}for(u.moveTo(f.x,f.y),i=1,d=this._points.length;i<d;i++)this._drawSegment(u,f,o),f=this._points[i],o=this._points[i+1];u.lineTo(f.x,f.y),u.stroke(),u.restore()},convertPointsToSVGPath:function(u){var i=this.width/1e3;return t.util.getSmoothPathFromPoints(u,i)},_isEmptySVGPath:function(u){var i=t.util.joinPath(u);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(u){var i=new t.Path(u,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new t.Shadow(this.shadow)),i},decimatePoints:function(u,i){if(u.length<=2)return u;var d=this.canvas.getZoom(),f=Math.pow(i/d,2),o,l=u.length-1,a=u[0],c=[a],g;for(o=1;o<l-1;o++)g=Math.pow(a.x-u[o].x,2)+Math.pow(a.y-u[o].y,2),g>=f&&(a=u[o],c.push(a));return c.push(u[l]),c},_finalizeAndAddPath:function(){var u=this.canvas.contextTop;u.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var d=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.requestRenderAll(),d.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:d})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(u){this.canvas=u,this.points=[]},drawDot:function(u){var i=this.addPoint(u),d=this.canvas.contextTop;this._saveAndTransform(d),this.dot(d,i),d.restore()},dot:function(u,i){u.fillStyle=i.fill,u.beginPath(),u.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),u.closePath(),u.fill()},onMouseDown:function(u){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(u)},_render:function(){var u=this.canvas.contextTop,i,d,f=this.points;for(this._saveAndTransform(u),i=0,d=f.length;i<d;i++)this.dot(u,f[i]);u.restore()},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(u),this._render()):this.drawDot(u))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove,i,d;this.canvas.renderOnAddRemove=!1;var f=[];for(i=0,d=this.points.length;i<d;i++){var o=this.points[i],l=new t.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(l.shadow=new t.Shadow(this.shadow)),f.push(l)}var a=new t.Group(f);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},addPoint:function(u){var i=new t.Point(u.x,u.y),d=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return i.radius=d,i.fill=f,this.points.push(i),i}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(u){this.canvas=u,this.sprayChunks=[]},onMouseDown:function(u){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(u),this.render(this.sprayChunkPoints)},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.addSprayChunk(u),this.render(this.sprayChunkPoints))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],d=0,f=this.sprayChunks.length;d<f;d++)for(var o=this.sprayChunks[d],l=0,a=o.length;l<a;l++){var c=new t.Rect({width:o[l].width,height:o[l].width,left:o[l].x+1,top:o[l].y+1,originX:"center",originY:"center",fill:this.color});i.push(c)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var g=new t.Group(i);this.shadow&&g.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},_getOptimizedRects:function(u){var i={},d,f,o;for(f=0,o=u.length;f<o;f++)d=u[f].left+""+u[f].top,i[d]||(i[d]=u[f]);var l=[];for(d in i)l.push(i[d]);return l},render:function(u){var i=this.canvas.contextTop,d,f;for(i.fillStyle=this.color,this._saveAndTransform(i),d=0,f=u.length;d<f;d++){var o=u[d];typeof o.opacity<"u"&&(i.globalAlpha=o.opacity),i.fillRect(o.x,o.y,o.width,o.width)}i.restore()},_render:function(){var u=this.canvas.contextTop,i,d;for(u.fillStyle=this.color,this._saveAndTransform(u),i=0,d=this.sprayChunks.length;i<d;i++)this.render(this.sprayChunks[i]);u.restore()},addSprayChunk:function(u){this.sprayChunkPoints=[];var i,d,f,o=this.width/2,l;for(l=0;l<this.density;l++){i=t.util.getRandomInt(u.x-o,u.x+o),d=t.util.getRandomInt(u.y-o,u.y+o),this.dotWidthVariance?f=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var a=new t.Point(i,d);a.width=f,this.randomOpacity&&(a.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var u=20,i=5,d=t.util.createCanvasElement(),f=d.getContext("2d");return d.width=d.height=u+i,f.fillStyle=this.color,f.beginPath(),f.arc(u/2,u/2,u/2,0,Math.PI*2,!1),f.closePath(),f.fill(),d},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(u){return u.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(u){this.callSuper("_setBrushStyles",u),u.strokeStyle=this.getPattern(u)},createPath:function(u){var i=this.callSuper("createPath",u),d=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-d.x,offsetY:-d.y}),i}}),function(){var u=t.util.getPointer,i=t.util.degreesToRadians,d=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(o,l){l||(l={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,l),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var o=this.getActiveObjects(),l,a,c;if(o.length>0&&!this.preserveObjectStacking){a=[],c=[];for(var g=0,h=this._objects.length;g<h;g++)l=this._objects[g],o.indexOf(l)===-1?a.push(l):c.push(l);o.length>1&&(this._activeObject._objects=c),a.push.apply(a,c)}else a=this._objects;return a},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var o=this.contextContainer;return this.renderCanvas(o,this._chooseObjectsToRender()),this},renderTopLayer:function(o){o.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(o),this.contextTopDirty=!0),o.restore()},renderTop:function(){var o=this.contextTop;return this.clearContext(o),this.renderTopLayer(o),this.fire("after:render"),this},_normalizePointer:function(o,l){var a=o.calcTransformMatrix(),c=t.util.invertTransform(a),g=this.restorePointerVpt(l);return t.util.transformPoint(g,c)},isTargetTransparent:function(o,l,a){if(o.shouldCache()&&o._cacheCanvas&&o!==this._activeObject){var c=this._normalizePointer(o,{x:l,y:a}),g=Math.max(o.cacheTranslationX+c.x*o.zoomX,0),h=Math.max(o.cacheTranslationY+c.y*o.zoomY,0),b=t.util.isTransparent(o._cacheContext,Math.round(g),Math.round(h),this.targetFindTolerance);return b}var v=this.contextCache,_=o.selectionBackgroundColor,y=this.viewportTransform;o.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(y[0],y[1],y[2],y[3],y[4],y[5]),o.render(v),v.restore(),o.selectionBackgroundColor=_;var b=t.util.isTransparent(v,l,a,this.targetFindTolerance);return b},_isSelectionKeyPressed:function(o){var l=!1;return Array.isArray(this.selectionKey)?l=!!this.selectionKey.find(function(a){return o[a]===!0}):l=o[this.selectionKey],l},_shouldClearSelection:function(o,l){var a=this.getActiveObjects(),c=this._activeObject;return!l||l&&c&&a.length>1&&a.indexOf(l)===-1&&c!==l&&!this._isSelectionKeyPressed(o)||l&&!l.evented||l&&!l.selectable&&c&&c!==l},_shouldCenterTransform:function(o,l,a){if(o){var c;return l==="scale"||l==="scaleX"||l==="scaleY"||l==="resizing"?c=this.centeredScaling||o.centeredScaling:l==="rotate"&&(c=this.centeredRotation||o.centeredRotation),c?!a:a}},_getOriginFromCorner:function(o,l){var a={x:o.originX,y:o.originY};return l==="ml"||l==="tl"||l==="bl"?a.x="right":(l==="mr"||l==="tr"||l==="br")&&(a.x="left"),l==="tl"||l==="mt"||l==="tr"?a.y="bottom":(l==="bl"||l==="mb"||l==="br")&&(a.y="top"),a},_getActionFromCorner:function(o,l,a,c){if(!l||!o)return"drag";var g=c.controls[l];return g.getActionName(a,g,c)},_setupCurrentTransform:function(o,l,a){if(l){var c=this.getPointer(o),g=l.__corner,h=l.controls[g],v=a&&g?h.getActionHandler(o,l,h):t.controlsUtils.dragHandler,_=this._getActionFromCorner(a,g,o,l),y=this._getOriginFromCorner(l,g),b=o[this.centeredKey],w={target:l,action:_,actionHandler:v,corner:g,scaleX:l.scaleX,scaleY:l.scaleY,skewX:l.skewX,skewY:l.skewY,offsetX:c.x-l.left,offsetY:c.y-l.top,originX:y.x,originY:y.y,ex:c.x,ey:c.y,lastX:c.x,lastY:c.y,theta:i(l.angle),width:l.width*l.scaleX,shiftKey:o.shiftKey,altKey:b,original:t.util.saveObjectTransform(l)};this._shouldCenterTransform(l,_,b)&&(w.originX="center",w.originY="center"),w.original.originX=y.x,w.original.originY=y.y,this._currentTransform=w,this._beforeTransform(o)}},setCursor:function(o){this.upperCanvasEl.style.cursor=o},_drawSelection:function(o){var l=this._groupSelector,a=new t.Point(l.ex,l.ey),c=t.util.transformPoint(a,this.viewportTransform),g=new t.Point(l.ex+l.left,l.ey+l.top),h=t.util.transformPoint(g,this.viewportTransform),v=Math.min(c.x,h.x),_=Math.min(c.y,h.y),y=Math.max(c.x,h.x),b=Math.max(c.y,h.y),w=this.selectionLineWidth/2;this.selectionColor&&(o.fillStyle=this.selectionColor,o.fillRect(v,_,y-v,b-_)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(o.lineWidth=this.selectionLineWidth,o.strokeStyle=this.selectionBorderColor,v+=w,_+=w,y-=w,b-=w,t.Object.prototype._setLineDash.call(this,o,this.selectionDashArray),o.strokeRect(v,_,y-v,b-_))},findTarget:function(o,l){if(!this.skipTargetFind){var a=!0,c=this.getPointer(o,a),g=this._activeObject,h=this.getActiveObjects(),v,_,y=d(o),b=h.length>1&&!l||h.length===1;if(this.targets=[],b&&g._findTargetCorner(c,y)||h.length>1&&!l&&g===this._searchPossibleTargets([g],c))return g;if(h.length===1&&g===this._searchPossibleTargets([g],c))if(this.preserveObjectStacking)v=g,_=this.targets,this.targets=[];else return g;var w=this._searchPossibleTargets(this._objects,c);return o[this.altSelectionKey]&&w&&v&&w!==v&&(w=v,this.targets=_),w}},_checkTarget:function(o,l,a){if(l&&l.visible&&l.evented&&l.containsPoint(o))if((this.perPixelTargetFind||l.perPixelTargetFind)&&!l.isEditing){var c=this.isTargetTransparent(l,a.x,a.y);if(!c)return!0}else return!0},_searchPossibleTargets:function(o,l){for(var a,c=o.length,g;c--;){var h=o[c],v=h.group?this._normalizePointer(h.group,l):l;if(this._checkTarget(v,h,l)){a=o[c],a.subTargetCheck&&a instanceof t.Group&&(g=this._searchPossibleTargets(a._objects,l),g&&this.targets.push(g));break}}return a},restorePointerVpt:function(o){return t.util.transformPoint(o,t.util.invertTransform(this.viewportTransform))},getPointer:function(o,l){if(this._absolutePointer&&!l)return this._absolutePointer;if(this._pointer&&l)return this._pointer;var a=u(o),c=this.upperCanvasEl,g=c.getBoundingClientRect(),h=g.width||0,v=g.height||0,_;(!h||!v)&&("top"in g&&"bottom"in g&&(v=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(h=Math.abs(g.right-g.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,l||(a=this.restorePointerVpt(a));var y=this.getRetinaScaling();return y!==1&&(a.x/=y,a.y/=y),h===0||v===0?_={width:1,height:1}:_={width:c.width/h,height:c.height/v},{x:a.x*_.width,y:a.y*_.height}},_createUpperCanvas:function(){var o=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),l=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),t.util.addClass(a,"upper-canvas "+o),this.wrapperEl.appendChild(a),this._copyCanvasStyle(l,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(o){var l=this.width||o.width,a=this.height||o.height;t.util.setStyle(o,{position:"absolute",width:l+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),o.width=l,o.height=a,t.util.makeElementUnselectable(o)},_copyCanvasStyle:function(o,l){l.style.cssText=o.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var o=this._activeObject;return o?o.type==="activeSelection"&&o._objects?o._objects.slice(0):[o]:[]},_onObjectRemoved:function(o){o===this._activeObject&&(this.fire("before:selection:cleared",{target:o}),this._discardActiveObject(),this.fire("selection:cleared",{target:o}),o.fire("deselected")),o===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",o)},_fireSelectionEvents:function(o,l){var a=!1,c=this.getActiveObjects(),g=[],h=[];o.forEach(function(v){c.indexOf(v)===-1&&(a=!0,v.fire("deselected",{e:l,target:v}),h.push(v))}),c.forEach(function(v){o.indexOf(v)===-1&&(a=!0,v.fire("selected",{e:l,target:v}),g.push(v))}),o.length>0&&c.length>0?a&&this.fire("selection:updated",{e:l,selected:g,deselected:h}):c.length>0?this.fire("selection:created",{e:l,selected:g}):o.length>0&&this.fire("selection:cleared",{e:l,deselected:h})},setActiveObject:function(o,l){var a=this.getActiveObjects();return this._setActiveObject(o,l),this._fireSelectionEvents(a,l),this},_setActiveObject:function(o,l){return this._activeObject===o||!this._discardActiveObject(l,o)||o.onSelect({e:l})?!1:(this._activeObject=o,!0)},_discardActiveObject:function(o,l){var a=this._activeObject;if(a){if(a.onDeselect({e:o,object:l}))return!1;this._activeObject=null}return!0},discardActiveObject:function(o){var l=this.getActiveObjects(),a=this.getActiveObject();return l.length&&this.fire("before:selection:cleared",{target:a,e:o}),this._discardActiveObject(o),this._fireSelectionEvents(l,o),this},dispose:function(){var o=this.wrapperEl;return this.removeListeners(),o.removeChild(this.upperCanvasEl),o.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(l){t.util.cleanUpJsdomNode(this[l]),this[l]=void 0}).bind(this)),o.parentNode&&o.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(o){var l=this._activeObject;l&&l._renderControls(o)},_toObject:function(o,l,a){var c=this._realizeGroupTransformOnObject(o),g=this.callSuper("_toObject",o,l,a);return this._unwindGroupTransformOnObject(o,c),g},_realizeGroupTransformOnObject:function(o){if(o.group&&o.group.type==="activeSelection"&&this._activeObject===o.group){var l=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],a={};return l.forEach(function(c){a[c]=o[c]}),t.util.addTransformToObject(o,this._activeObject.calcOwnMatrix()),a}else return null},_unwindGroupTransformOnObject:function(o,l){l&&o.set(l)},_setSVGObject:function(o,l,a){var c=this._realizeGroupTransformOnObject(l);this.callSuper("_setSVGObject",o,l,a),this._unwindGroupTransformOnObject(l,c)},setViewportTransform:function(o){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,o)}});for(var f in t.StaticCanvas)f!=="prototype"&&(t.Canvas[f]=t.StaticCanvas[f])}(),function(){var u=t.util.addListener,i=t.util.removeListener,d=3,f=2,o=1,l={passive:!1};function a(c,g){return c.button&&c.button===g-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(u,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(c,g){var h=this.upperCanvasEl,v=this._getEventPrefix();c(t.window,"resize",this._onResize),c(h,v+"down",this._onMouseDown),c(h,v+"move",this._onMouseMove,l),c(h,v+"out",this._onMouseOut),c(h,v+"enter",this._onMouseEnter),c(h,"wheel",this._onMouseWheel),c(h,"contextmenu",this._onContextMenu),c(h,"dblclick",this._onDoubleClick),c(h,"dragover",this._onDragOver),c(h,"dragenter",this._onDragEnter),c(h,"dragleave",this._onDragLeave),c(h,"drop",this._onDrop),this.enablePointerEvents||c(h,"touchstart",this._onTouchStart,l),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](h,"gesture",this._onGesture),eventjs[g](h,"drag",this._onDrag),eventjs[g](h,"orientation",this._onOrientationChange),eventjs[g](h,"shake",this._onShake),eventjs[g](h,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var c=this._getEventPrefix();i(t.document,c+"up",this._onMouseUp),i(t.document,"touchend",this._onTouchEnd,l),i(t.document,c+"move",this._onMouseMove,l),i(t.document,"touchmove",this._onMouseMove,l)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(c,g){this.__onTransformGesture&&this.__onTransformGesture(c,g)},_onDrag:function(c,g){this.__onDrag&&this.__onDrag(c,g)},_onMouseWheel:function(c){this.__onMouseWheel(c)},_onMouseOut:function(c){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:c}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:c});var h=this;this._hoveredTargets.forEach(function(v){h.fire("mouse:out",{target:g,e:c}),v&&g.fire("mouseout",{e:c})}),this._hoveredTargets=[]},_onMouseEnter:function(c){!this._currentTransform&&!this.findTarget(c)&&(this.fire("mouse:over",{target:null,e:c}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(c,g){this.__onOrientationChange&&this.__onOrientationChange(c,g)},_onShake:function(c,g){this.__onShake&&this.__onShake(c,g)},_onLongPress:function(c,g){this.__onLongPress&&this.__onLongPress(c,g)},_onDragOver:function(c){c.preventDefault();var g=this._simpleEventHandler("dragover",c);this._fireEnterLeaveEvents(g,c)},_onDrop:function(c){return this._simpleEventHandler("drop:before",c),this._simpleEventHandler("drop",c)},_onContextMenu:function(c){return this.stopContextMenu&&(c.stopPropagation(),c.preventDefault()),!1},_onDoubleClick:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"dblclick"),this._resetTransformEventData(c)},getPointerId:function(c){var g=c.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?c.pointerId:-1},_isMainEvent:function(c){return c.isPrimary===!0?!0:c.isPrimary===!1?!1:c.type==="touchend"&&c.touches.length===0?!0:c.changedTouches?c.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(c){c.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(c)),this.__onMouseDown(c),this._resetTransformEventData();var g=this.upperCanvasEl,h=this._getEventPrefix();u(t.document,"touchend",this._onTouchEnd,l),u(t.document,"touchmove",this._onMouseMove,l),i(g,h+"down",this._onMouseDown)},_onMouseDown:function(c){this.__onMouseDown(c),this._resetTransformEventData();var g=this.upperCanvasEl,h=this._getEventPrefix();i(g,h+"move",this._onMouseMove,l),u(t.document,h+"up",this._onMouseUp),u(t.document,h+"move",this._onMouseMove,l)},_onTouchEnd:function(c){if(!(c.touches.length>0)){this.__onMouseUp(c),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();i(t.document,"touchend",this._onTouchEnd,l),i(t.document,"touchmove",this._onMouseMove,l);var h=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){u(h.upperCanvasEl,g+"down",h._onMouseDown),h._willAddMouseDown=0},400)}},_onMouseUp:function(c){this.__onMouseUp(c),this._resetTransformEventData();var g=this.upperCanvasEl,h=this._getEventPrefix();this._isMainEvent(c)&&(i(t.document,h+"up",this._onMouseUp),i(t.document,h+"move",this._onMouseMove,l),u(g,h+"move",this._onMouseMove,l))},_onMouseMove:function(c){!this.allowTouchScrolling&&c.preventDefault&&c.preventDefault(),this.__onMouseMove(c)},_onResize:function(){this.calcOffset()},_shouldRender:function(c){var g=this._activeObject;return!!g!=!!c||g&&c&&g!==c?!0:(g&&g.isEditing,!1)},__onMouseUp:function(c){var g,h=this._currentTransform,v=this._groupSelector,_=!1,y=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(c),g=this._target,this._handleEvent(c,"up:before"),a(c,d)){this.fireRightClick&&this._handleEvent(c,"up",d,y);return}if(a(c,f)){this.fireMiddleClick&&this._handleEvent(c,"up",f,y),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(c);return}if(this._isMainEvent(c)){if(h&&(this._finalizeCurrentTransform(c),_=h.actionPerformed),!y){var b=g===this._activeObject;this._maybeGroupObjects(c),_||(_=this._shouldRender(g)||!b&&g===this._activeObject)}var w,C;if(g){if(w=g._findTargetCorner(this.getPointer(c,!0),t.util.isTouchEvent(c)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,c),_=!0;else{var S=g.controls[w],O=S&&S.getMouseUpHandler(c,g,S);O&&(C=this.getPointer(c),O(c,h,C.x,C.y))}g.isMoving=!1}if(h&&(h.target!==g||h.corner!==w)){var j=h.target&&h.target.controls[h.corner],Y=j&&j.getMouseUpHandler(c,g,S);C=C||this.getPointer(c),Y&&Y(c,h,C.x,C.y)}this._setCursorFromEvent(c,g),this._handleEvent(c,"up",o,y),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),_?this.requestRenderAll():y||this.renderTop()}},_simpleEventHandler:function(c,g){var h=this.findTarget(g),v=this.targets,_={e:g,target:h,subTargets:v};if(this.fire(c,_),h&&h.fire(c,_),!v)return h;for(var y=0;y<v.length;y++)v[y].fire(c,_);return h},_handleEvent:function(c,g,h,v){var _=this._target,y=this.targets||[],b={e:c,target:_,subTargets:y,button:h||o,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(b.currentTarget=this.findTarget(c),b.currentSubTargets=this.targets),this.fire("mouse:"+g,b),_&&_.fire("mouse"+g,b);for(var w=0;w<y.length;w++)y[w].fire("mouse"+g,b)},_finalizeCurrentTransform:function(c){var g=this._currentTransform,h=g.target,v={e:c,target:h,transform:g,action:g.action};h._scaling&&(h._scaling=!1),h.setCoords(),(g.actionPerformed||this.stateful&&h.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(c){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(c).requestRenderAll();var g=this.getPointer(c);this.freeDrawingBrush.onMouseDown(g,{e:c,pointer:g}),this._handleEvent(c,"down")},_onMouseMoveInDrawingMode:function(c){if(this._isCurrentlyDrawing){var g=this.getPointer(c);this.freeDrawingBrush.onMouseMove(g,{e:c,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(c,"move")},_onMouseUpInDrawingMode:function(c){var g=this.getPointer(c);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:c,pointer:g}),this._handleEvent(c,"up")},__onMouseDown:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"down:before");var g=this._target;if(a(c,d)){this.fireRightClick&&this._handleEvent(c,"down",d);return}if(a(c,f)){this.fireMiddleClick&&this._handleEvent(c,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(c);return}if(this._isMainEvent(c)&&!this._currentTransform){var h=this._pointer;this._previousPointer=h;var v=this._shouldRender(g),_=this._shouldGroup(c,g);if(this._shouldClearSelection(c,g)?this.discardActiveObject(c):_&&(this._handleGrouping(c,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var y=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,c);var b=g._findTargetCorner(this.getPointer(c,!0),t.util.isTouchEvent(c));if(g.__corner=b,g===this._activeObject&&(b||!_)){this._setupCurrentTransform(c,g,y);var w=g.controls[b],h=this.getPointer(c),C=w&&w.getMouseDownHandler(c,g,w);C&&C(c,this._currentTransform,h.x,h.y)}}this._handleEvent(c,"down"),(v||_)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(c){this._resetTransformEventData(),this._pointer=this.getPointer(c,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(c)||null},_beforeTransform:function(c){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:c,transform:g})},__onMouseMove:function(c){this._handleEvent(c,"move:before"),this._cacheTransformEventData(c);var g,h;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(c);return}if(this._isMainEvent(c)){var v=this._groupSelector;v?(h=this._absolutePointer,v.left=h.x-v.ex,v.top=h.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(c):(g=this.findTarget(c)||null,this._setCursorFromEvent(c,g),this._fireOverOutEvents(g,c)),this._handleEvent(c,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(c,g){var h=this._hoveredTarget,v=this._hoveredTargets,_=this.targets,y=Math.max(v.length,_.length);this.fireSyntheticInOutEvents(c,g,{oldTarget:h,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var b=0;b<y;b++)this.fireSyntheticInOutEvents(_[b],g,{oldTarget:v[b],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=c,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(c,g){var h=this._draggedoverTarget,v=this._hoveredTargets,_=this.targets,y=Math.max(v.length,_.length);this.fireSyntheticInOutEvents(c,g,{oldTarget:h,evtOut:"dragleave",evtIn:"dragenter"});for(var b=0;b<y;b++)this.fireSyntheticInOutEvents(_[b],g,{oldTarget:v[b],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=c},fireSyntheticInOutEvents:function(c,g,h){var v,_,y=h.oldTarget,b,w,C=y!==c,S=h.canvasEvtIn,O=h.canvasEvtOut;C&&(v={e:g,target:c,previousTarget:y},_={e:g,target:y,nextTarget:c}),w=c&&C,b=y&&C,b&&(O&&this.fire(O,_),y.fire(h.evtOut,_)),w&&(S&&this.fire(S,v),c.fire(h.evtIn,v))},__onMouseWheel:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"wheel"),this._resetTransformEventData()},_transformObject:function(c){var g=this.getPointer(c),h=this._currentTransform;h.reset=!1,h.shiftKey=c.shiftKey,h.altKey=c[this.centeredKey],this._performTransformAction(c,h,g),h.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(c,g,h){var v=h.x,_=h.y,y=g.action,b=!1,w=g.actionHandler;w&&(b=w(c,g,v,_)),y==="drag"&&b&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||b},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(c,g){if(!g)return this.setCursor(this.defaultCursor),!1;var h=g.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,_=(!v||!v.contains(g))&&g._findTargetCorner(this.getPointer(c,!0));_?this.setCursor(this.getCornerCursor(_,g,c)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(y){h=y.hoverCursor||h}),this.setCursor(h))},getCornerCursor:function(c,g,h){var v=g.controls[c];return v.cursorStyleHandler(h,v,g)}})}(),function(){var u=Math.min,i=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(d,f){var o=this._activeObject;return o&&this._isSelectionKeyPressed(d)&&f&&f.selectable&&this.selection&&(o!==f||o.type==="activeSelection")&&!f.onSelect({e:d})},_handleGrouping:function(d,f){var o=this._activeObject;o.__corner||f===o&&(f=this.findTarget(d,!0),!f||!f.selectable)||(o&&o.type==="activeSelection"?this._updateActiveSelection(f,d):this._createActiveSelection(f,d))},_updateActiveSelection:function(d,f){var o=this._activeObject,l=o._objects.slice(0);o.contains(d)?(o.removeWithUpdate(d),this._hoveredTarget=d,this._hoveredTargets=this.targets.concat(),o.size()===1&&this._setActiveObject(o.item(0),f)):(o.addWithUpdate(d),this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(l,f)},_createActiveSelection:function(d,f){var o=this.getActiveObjects(),l=this._createGroup(d);this._hoveredTarget=l,this._setActiveObject(l,f),this._fireSelectionEvents(o,f)},_createGroup:function(d){var f=this._objects,o=f.indexOf(this._activeObject)<f.indexOf(d),l=o?[this._activeObject,d]:[d,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(l,{canvas:this})},_groupSelectedObjects:function(d){var f=this._collectObjects(d),o;f.length===1?this.setActiveObject(f[0],d):f.length>1&&(o=new t.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(o,d))},_collectObjects:function(d){for(var f=[],o,l=this._groupSelector.ex,a=this._groupSelector.ey,c=l+this._groupSelector.left,g=a+this._groupSelector.top,h=new t.Point(u(l,c),u(a,g)),v=new t.Point(i(l,c),i(a,g)),_=!this.selectionFullyContained,y=l===c&&a===g,b=this._objects.length;b--&&(o=this._objects[b],!(!(!o||!o.selectable||!o.visible)&&(_&&o.intersectsWithRect(h,v,!0)||o.isContainedWithinRect(h,v,!0)||_&&o.containsPoint(h,null,!0)||_&&o.containsPoint(v,null,!0))&&(f.push(o),y))););return f.length>1&&(f=f.filter(function(w){return!w.onSelect({e:d})})),f},_maybeGroupObjects:function(d){this.selection&&this._groupSelector&&this._groupSelectedObjects(d),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(u){u||(u={});var i=u.format||"png",d=u.quality||1,f=(u.multiplier||1)*(u.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(f,u);return t.util.toDataURL(o,i,d)},toCanvasElement:function(u,i){u=u||1,i=i||{};var d=(i.width||this.width)*u,f=(i.height||this.height)*u,o=this.getZoom(),l=this.width,a=this.height,c=o*u,g=this.viewportTransform,h=(g[4]-(i.left||0))*u,v=(g[5]-(i.top||0))*u,_=this.interactive,y=[c,0,0,c,h,v],b=this.enableRetinaScaling,w=t.util.createCanvasElement(),C=this.contextTop;return w.width=d,w.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=y,this.width=d,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=g,this.width=l,this.height=a,this.calcViewportBoundaries(),this.interactive=_,this.enableRetinaScaling=b,this.contextTop=C,w}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(u,i,d){if(u){var f=typeof u=="string"?JSON.parse(u):t.util.object.clone(u),o=this,l=f.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(c){o.clear(),o._setBgOverlay(f,function(){l?o._enlivenObjects([l],function(g){o.clipPath=g[0],o.__setupCanvas.call(o,f,c,a,i)}):o.__setupCanvas.call(o,f,c,a,i)})},d),this}},__setupCanvas:function(u,i,d,f){var o=this;i.forEach(function(l,a){o.insertAt(l,a)}),this.renderOnAddRemove=d,delete u.objects,delete u.backgroundImage,delete u.overlayImage,delete u.background,delete u.overlay,this._setOptions(u),this.renderAll(),f&&f()},_setBgOverlay:function(u,i){var d={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!u.backgroundImage&&!u.overlayImage&&!u.background&&!u.overlay){i&&i();return}var f=function(){d.backgroundImage&&d.overlayImage&&d.backgroundColor&&d.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",u.backgroundImage,d,f),this.__setBgOverlay("overlayImage",u.overlayImage,d,f),this.__setBgOverlay("backgroundColor",u.background,d,f),this.__setBgOverlay("overlayColor",u.overlay,d,f)},__setBgOverlay:function(u,i,d,f){var o=this;if(!i){d[u]=!0,f&&f();return}u==="backgroundImage"||u==="overlayImage"?t.util.enlivenObjects([i],function(l){o[u]=l[0],d[u]=!0,f&&f()}):this["set"+t.util.string.capitalize(u,!0)](i,function(){d[u]=!0,f&&f()})},_enlivenObjects:function(u,i,d){if(!u||u.length===0){i&&i([]);return}t.util.enlivenObjects(u,function(f){i&&i(f)},null,d)},_toDataURL:function(u,i){this.clone(function(d){i(d.toDataURL(u))})},_toDataURLWithMultiplier:function(u,i,d){this.clone(function(f){d(f.toDataURLWithMultiplier(u,i))})},clone:function(u,i){var d=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(f){f.loadFromJSON(d,function(){u&&u(f)})})},cloneWithoutData:function(u){var i=t.util.createCanvasElement();i.width=this.width,i.height=this.height;var d=new t.Canvas(i);this.backgroundImage?(d.setBackgroundImage(this.backgroundImage.src,function(){d.renderAll(),u&&u(d)}),d.backgroundImageOpacity=this.backgroundImageOpacity,d.backgroundImageStretch=this.backgroundImageStretch):u&&u(d)}}),function(u){var i=u.fabric||(u.fabric={}),d=i.util.object.extend,f=i.util.object.clone,o=i.util.toFixed,l=i.util.string.capitalize,a=i.util.degreesToRadians,c=!i.isLikelyNode,g=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:c,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(h){h&&this.setOptions(h)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(h){var v=i.perfLimitSizeTotal,_=h.width,y=h.height,b=i.maxCacheSideLimit,w=i.minCacheSideLimit;if(_<=b&&y<=b&&_*y<=v)return _<w&&(h.width=w),y<w&&(h.height=w),h;var C=_/y,S=i.util.limitDimsByArea(C,v),O=i.util.capValue,j=O(w,S.x,b),Y=O(w,S.y,b);return _>j&&(h.zoomX/=_/j,h.width=j,h.capped=!0),y>Y&&(h.zoomY/=y/Y,h.height=Y,h.capped=!0),h},_getCacheCanvasDimensions:function(){var h=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),_=v.x*h.scaleX/this.scaleX,y=v.y*h.scaleY/this.scaleY;return{width:_+g,height:y+g,zoomX:h.scaleX,zoomY:h.scaleY,x:_,y}},_updateCacheCanvas:function(){var h=this.canvas;if(this.noScaleCache&&h&&h._currentTransform){var v=h._currentTransform.target,_=h._currentTransform.action;if(this===v&&_.slice&&_.slice(0,5)==="scale")return!1}var y=this._cacheCanvas,b=this._limitCacheSize(this._getCacheCanvasDimensions()),w=i.minCacheSideLimit,C=b.width,S=b.height,O,j,Y=b.zoomX,G=b.zoomY,U=C!==this.cacheWidth||S!==this.cacheHeight,ee=this.zoomX!==Y||this.zoomY!==G,oe=U||ee,le=0,ce=0,X=!1;if(U){var J=this._cacheCanvas.width,x=this._cacheCanvas.height,D=C>J||S>x,R=(C<J*.9||S<x*.9)&&J>w&&x>w;X=D||R,D&&!b.capped&&(C>w||S>w)&&(le=C*.1,ce=S*.1)}return this instanceof i.Text&&this.path&&(oe=!0,X=!0,le+=this.getHeightOfLine(0)*this.zoomX,ce+=this.getHeightOfLine(0)*this.zoomY),oe?(X?(y.width=Math.ceil(C+le),y.height=Math.ceil(S+ce)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,y.width,y.height)),O=b.x/2,j=b.y/2,this.cacheTranslationX=Math.round(y.width/2-O)+O,this.cacheTranslationY=Math.round(y.height/2-j)+j,this.cacheWidth=C,this.cacheHeight=S,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Y,G),this.zoomX=Y,this.zoomY=G,!0):!1},setOptions:function(h){this._setOptions(h),this._initGradient(h.fill,"fill"),this._initGradient(h.stroke,"stroke"),this._initPattern(h.fill,"fill"),this._initPattern(h.stroke,"stroke")},transform:function(h){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&h===this.canvas.contextTop,_=this.calcTransformMatrix(!v);h.transform(_[0],_[1],_[2],_[3],_[4],_[5])},toObject:function(h){var v=i.Object.NUM_FRACTION_DIGITS,_={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:o(this.left,v),top:o(this.top,v),width:o(this.width,v),height:o(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,v),scaleX:o(this.scaleX,v),scaleY:o(this.scaleY,v),angle:o(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,v),skewY:o(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(_.clipPath=this.clipPath.toObject(h),_.clipPath.inverted=this.clipPath.inverted,_.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,_,h),this.includeDefaultValues||(_=this._removeDefaultValues(_)),_},toDatalessObject:function(h){return this.toObject(h)},_removeDefaultValues:function(h){var v=i.util.getKlass(h.type).prototype,_=v.stateProperties;return _.forEach(function(y){y==="left"||y==="top"||(h[y]===v[y]&&delete h[y],Array.isArray(h[y])&&Array.isArray(v[y])&&h[y].length===0&&v[y].length===0&&delete h[y])}),h},toString:function(){return"#<fabric."+l(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var h=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(h.scaleX),scaleY:Math.abs(h.scaleY)}},getTotalObjectScaling:function(){var h=this.getObjectScaling(),v=h.scaleX,_=h.scaleY;if(this.canvas){var y=this.canvas.getZoom(),b=this.canvas.getRetinaScaling();v*=y*b,_*=y*b}return{scaleX:v,scaleY:_}},getObjectOpacity:function(){var h=this.opacity;return this.group&&(h*=this.group.getObjectOpacity()),h},_set:function(h,v){var _=h==="scaleX"||h==="scaleY",y=this[h]!==v,b=!1;return _&&(v=this._constrainScale(v)),h==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):h==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):h==="shadow"&&v&&!(v instanceof i.Shadow)?v=new i.Shadow(v):h==="dirty"&&this.group&&this.group.set("dirty",v),this[h]=v,y&&(b=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(h)>-1?(this.dirty=!0,b&&this.group.set("dirty",!0)):b&&this.stateProperties.indexOf(h)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(h){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(h.save(),this._setupCompositeOperation(h),this.drawSelectionBackground(h),this.transform(h),this._setOpacity(h),this._setShadow(h,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(h)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(h),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),h.restore())},renderCache:function(h){h=h||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,h.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(h,v){if(h.save(),v.inverted?h.globalCompositeOperation="destination-out":h.globalCompositeOperation="destination-in",v.absolutePositioned){var _=i.util.invertTransform(this.calcTransformMatrix());h.transform(_[0],_[1],_[2],_[3],_[4],_[5])}v.transform(h),h.scale(1/v.zoomX,1/v.zoomY),h.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),h.restore()},drawObject:function(h,v){var _=this.fill,y=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(h)):this._renderBackground(h),this._render(h),this._drawClipPath(h,this.clipPath),this.fill=_,this.stroke=y},_drawClipPath:function(h,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(h,v))},drawCacheOnCanvas:function(h){h.scale(1/this.zoomX,1/this.zoomY),h.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(h){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!h&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!h){var v=this.cacheWidth/this.zoomX,_=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-_/2,v,_)}return!0}return!1},_renderBackground:function(h){if(this.backgroundColor){var v=this._getNonTransformedDimensions();h.fillStyle=this.backgroundColor,h.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(h)}},_setOpacity:function(h){this.group&&!this.group._transformDone?h.globalAlpha=this.getObjectOpacity():h.globalAlpha*=this.opacity},_setStrokeStyles:function(h,v){var _=v.stroke;_&&(h.lineWidth=v.strokeWidth,h.lineCap=v.strokeLineCap,h.lineDashOffset=v.strokeDashOffset,h.lineJoin=v.strokeLineJoin,h.miterLimit=v.strokeMiterLimit,_.toLive?_.gradientUnits==="percentage"||_.gradientTransform||_.patternTransform?this._applyPatternForTransformedGradient(h,_):(h.strokeStyle=_.toLive(h,this),this._applyPatternGradientTransform(h,_)):h.strokeStyle=v.stroke)},_setFillStyles:function(h,v){var _=v.fill;_&&(_.toLive?(h.fillStyle=_.toLive(h,this),this._applyPatternGradientTransform(h,v.fill)):h.fillStyle=_)},_setClippingProperties:function(h){h.globalAlpha=1,h.strokeStyle="transparent",h.fillStyle="#000000"},_setLineDash:function(h,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),h.setLineDash(v))},_renderControls:function(h,v){var _=this.getViewportTransform(),y=this.calcTransformMatrix(),b,w,C;v=v||{},w=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,C=typeof v.hasControls<"u"?v.hasControls:this.hasControls,y=i.util.multiplyTransformMatrices(_,y),b=i.util.qrDecompose(y),h.save(),h.translate(b.translateX,b.translateY),h.lineWidth=1*this.borderScaleFactor,this.group||(h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(b.angle-=180),h.rotate(a(this.group?b.angle:this.angle)),v.forActiveSelection||this.group?w&&this.drawBordersInGroup(h,b,v):w&&this.drawBorders(h,v),C&&this.drawControls(h,v),h.restore()},_setShadow:function(h){if(this.shadow){var v=this.shadow,_=this.canvas,y,b=_&&_.viewportTransform[0]||1,w=_&&_.viewportTransform[3]||1;v.nonScaling?y={scaleX:1,scaleY:1}:y=this.getObjectScaling(),_&&_._isRetinaScaling()&&(b*=i.devicePixelRatio,w*=i.devicePixelRatio),h.shadowColor=v.color,h.shadowBlur=v.blur*i.browserShadowBlurConstant*(b+w)*(y.scaleX+y.scaleY)/4,h.shadowOffsetX=v.offsetX*b*y.scaleX,h.shadowOffsetY=v.offsetY*w*y.scaleY}},_removeShadow:function(h){this.shadow&&(h.shadowColor="",h.shadowBlur=h.shadowOffsetX=h.shadowOffsetY=0)},_applyPatternGradientTransform:function(h,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var _=v.gradientTransform||v.patternTransform,y=-this.width/2+v.offsetX||0,b=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?h.transform(this.width,0,0,this.height,y,b):h.transform(1,0,0,1,y,b),_&&h.transform(_[0],_[1],_[2],_[3],_[4],_[5]),{offsetX:y,offsetY:b}},_renderPaintInOrder:function(h){this.paintFirst==="stroke"?(this._renderStroke(h),this._renderFill(h)):(this._renderFill(h),this._renderStroke(h))},_render:function(){},_renderFill:function(h){this.fill&&(h.save(),this._setFillStyles(h,this),this.fillRule==="evenodd"?h.fill("evenodd"):h.fill(),h.restore())},_renderStroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(h),h.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();h.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&h.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(h,this.strokeDashArray),this._setStrokeStyles(h,this),h.stroke(),h.restore()}},_applyPatternForTransformedGradient:function(h,v){var _=this._limitCacheSize(this._getCacheCanvasDimensions()),y=i.util.createCanvasElement(),b,w=this.canvas.getRetinaScaling(),C=_.x/this.scaleX/w,S=_.y/this.scaleY/w;y.width=C,y.height=S,b=y.getContext("2d"),b.beginPath(),b.moveTo(0,0),b.lineTo(C,0),b.lineTo(C,S),b.lineTo(0,S),b.closePath(),b.translate(C/2,S/2),b.scale(_.zoomX/this.scaleX/w,_.zoomY/this.scaleY/w),this._applyPatternGradientTransform(b,v),b.fillStyle=v.toLive(h),b.fill(),h.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),h.scale(w*this.scaleX/_.zoomX,w*this.scaleY/_.zoomY),h.strokeStyle=b.createPattern(y,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var h=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",h.scaleX),this.set("scaleY",h.scaleY),this.angle=h.angle,this.skewX=h.skewX,this.skewY=0}},_removeTransformMatrix:function(h){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=i.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,h&&(this.scaleX*=h.scaleX,this.scaleY*=h.scaleY,this.cropX=h.cropX,this.cropY=h.cropY,v.x+=h.offsetLeft,v.y+=h.offsetTop,this.width=h.width,this.height=h.height),this.setPositionByOrigin(v,"center","center")},clone:function(h,v){var _=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(_,h):i.Object._fromObject("Object",_,h)},cloneAsImage:function(h,v){var _=this.toCanvasElement(v);return h&&h(new i.Image(_)),this},toCanvasElement:function(h){h||(h={});var v=i.util,_=v.saveObjectTransform(this),y=this.group,b=this.shadow,w=Math.abs,C=(h.multiplier||1)*(h.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,h.withoutTransform&&v.resetObjectTransform(this),h.withoutShadow&&(this.shadow=null);var S=i.util.createCanvasElement(),O=this.getBoundingRect(!0,!0),j=this.shadow,Y,G={x:0,y:0},U,ee,oe;j&&(U=j.blur,j.nonScaling?Y={scaleX:1,scaleY:1}:Y=this.getObjectScaling(),G.x=2*Math.round(w(j.offsetX)+U)*w(Y.scaleX),G.y=2*Math.round(w(j.offsetY)+U)*w(Y.scaleY)),ee=O.width+G.x,oe=O.height+G.y,S.width=Math.ceil(ee),S.height=Math.ceil(oe);var le=new i.StaticCanvas(S,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});h.format==="jpeg"&&(le.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(le.width/2,le.height/2),"center","center");var ce=this.canvas;le.add(this);var X=le.toCanvasElement(C||1,h);return this.shadow=b,this.set("canvas",ce),y&&(this.group=y),this.set(_).setCoords(),le._objects=[],le.dispose(),le=null,X},toDataURL:function(h){return h||(h={}),i.util.toDataURL(this.toCanvasElement(h),h.format||"png",h.quality||1)},isType:function(h){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===h},complexity:function(){return 1},toJSON:function(h){return this.toObject(h)},rotate:function(h){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",h),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(h,v){v=v||this.canvas.getPointer(h);var _=new i.Point(v.x,v.y),y=this._getLeftTopCoords();return this.angle&&(_=i.util.rotatePoint(_,y,a(-this.angle))),{x:_.x-y.x,y:_.y-y.y}},_setupCompositeOperation:function(h){this.globalCompositeOperation&&(h.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),d(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(h,v,_,y){var b=i[h];v=f(v,!0),i.util.enlivenPatterns([v.fill,v.stroke],function(w){typeof w[0]<"u"&&(v.fill=w[0]),typeof w[1]<"u"&&(v.stroke=w[1]),i.util.enlivenObjectEnlivables(v,v,function(){var C=y?new b(v[y],v):new b(v);_&&_(C)})})},i.Object.__uid=0)}(e),function(){var u=t.util.degreesToRadians,i={left:-.5,center:0,right:.5},d={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(f,o,l,a,c){var g=f.x,h=f.y,v,_,y;return typeof o=="string"?o=i[o]:o-=.5,typeof a=="string"?a=i[a]:a-=.5,v=a-o,typeof l=="string"?l=d[l]:l-=.5,typeof c=="string"?c=d[c]:c-=.5,_=c-l,(v||_)&&(y=this._getTransformedDimensions(),g=f.x+v*y.x,h=f.y+_*y.y),new t.Point(g,h)},translateToCenterPoint:function(f,o,l){var a=this.translateToGivenOrigin(f,o,l,"center","center");return this.angle?t.util.rotatePoint(a,f,u(this.angle)):a},translateToOriginPoint:function(f,o,l){var a=this.translateToGivenOrigin(f,"center","center",o,l);return this.angle?t.util.rotatePoint(a,f,u(this.angle)):a},getCenterPoint:function(){var f=new t.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,o){var l=this.getCenterPoint();return this.translateToOriginPoint(l,f,o)},toLocalPoint:function(f,o,l){var a=this.getCenterPoint(),c,g;return typeof o<"u"&&typeof l<"u"?c=this.translateToGivenOrigin(a,"center","center",o,l):c=new t.Point(this.left,this.top),g=new t.Point(f.x,f.y),this.angle&&(g=t.util.rotatePoint(g,a,-u(this.angle))),g.subtractEquals(c)},setPositionByOrigin:function(f,o,l){var a=this.translateToCenterPoint(f,o,l),c=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",c.x),this.set("top",c.y)},adjustPosition:function(f){var o=u(this.angle),l=this.getScaledWidth(),a=t.util.cos(o)*l,c=t.util.sin(o)*l,g,h;typeof this.originX=="string"?g=i[this.originX]:g=this.originX-.5,typeof f=="string"?h=i[f]:h=f-.5,this.left+=a*(h-g),this.top+=c*(h-g),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function u(l){return[new t.Point(l.tl.x,l.tl.y),new t.Point(l.tr.x,l.tr.y),new t.Point(l.br.x,l.br.y),new t.Point(l.bl.x,l.bl.y)]}var i=t.util,d=i.degreesToRadians,f=i.multiplyTransformMatrices,o=i.transformPoint;i.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(l,a){return a?l?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),l?this.aCoords:this.lineCoords)},getCoords:function(l,a){return u(this._getCoords(l,a))},intersectsWithRect:function(l,a,c,g){var h=this.getCoords(c,g),v=t.Intersection.intersectPolygonRectangle(h,l,a);return v.status==="Intersection"},intersectsWithObject:function(l,a,c){var g=t.Intersection.intersectPolygonPolygon(this.getCoords(a,c),l.getCoords(a,c));return g.status==="Intersection"||l.isContainedWithinObject(this,a,c)||this.isContainedWithinObject(l,a,c)},isContainedWithinObject:function(l,a,c){for(var g=this.getCoords(a,c),h=a?l.aCoords:l.lineCoords,v=0,_=l._getImageLines(h);v<4;v++)if(!l.containsPoint(g[v],_))return!1;return!0},isContainedWithinRect:function(l,a,c,g){var h=this.getBoundingRect(c,g);return h.left>=l.x&&h.left+h.width<=a.x&&h.top>=l.y&&h.top+h.height<=a.y},containsPoint:function(l,v,c,g){var h=this._getCoords(c,g),v=v||this._getImageLines(h),_=this._findCrossPoints(l,v);return _!==0&&_%2===1},isOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br,g=this.getCoords(!0,l);return g.some(function(h){return h.x<=c.x&&h.x>=a.x&&h.y<=c.y&&h.y>=a.y})||this.intersectsWithRect(a,c,!0,l)?!0:this._containsCenterOfCanvas(a,c,l)},_containsCenterOfCanvas:function(l,a,c){var g={x:(l.x+a.x)/2,y:(l.y+a.y)/2};return!!this.containsPoint(g,null,!0,c)},isPartiallyOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br;if(this.intersectsWithRect(a,c,!0,l))return!0;var g=this.getCoords(!0,l).every(function(h){return(h.x>=c.x||h.x<=a.x)&&(h.y>=c.y||h.y<=a.y)});return g&&this._containsCenterOfCanvas(a,c,l)},_getImageLines:function(l){var a={topline:{o:l.tl,d:l.tr},rightline:{o:l.tr,d:l.br},bottomline:{o:l.br,d:l.bl},leftline:{o:l.bl,d:l.tl}};return a},_findCrossPoints:function(l,a){var c,g,h,v,_,y=0,b;for(var w in a)if(b=a[w],!(b.o.y<l.y&&b.d.y<l.y)&&!(b.o.y>=l.y&&b.d.y>=l.y)&&(b.o.x===b.d.x&&b.o.x>=l.x?_=b.o.x:(c=0,g=(b.d.y-b.o.y)/(b.d.x-b.o.x),h=l.y-c*l.x,v=b.o.y-g*b.o.x,_=-(h-v)/(c-g)),_>=l.x&&(y+=1),y===2))break;return y},getBoundingRect:function(l,a){var c=this.getCoords(l,a);return i.makeBoundingBoxFromPoints(c)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(l){return Math.abs(l)<this.minScaleLimit?l<0?-this.minScaleLimit:this.minScaleLimit:l===0?1e-4:l},scale:function(l){return this._set("scaleX",l),this._set("scaleY",l),this.setCoords()},scaleToWidth:function(l,a){var c=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(l/this.width/c)},scaleToHeight:function(l,a){var c=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(l/this.height/c)},calcLineCoords:function(){var l=this.getViewportTransform(),a=this.padding,c=d(this.angle),g=i.cos(c),h=i.sin(c),v=g*a,_=h*a,y=v+_,b=v-_,w=this.calcACoords(),C={tl:o(w.tl,l),tr:o(w.tr,l),bl:o(w.bl,l),br:o(w.br,l)};return a&&(C.tl.x-=b,C.tl.y-=y,C.tr.x+=y,C.tr.y-=b,C.bl.x-=y,C.bl.y+=b,C.br.x+=b,C.br.y+=y),C},calcOCoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),c=this.getViewportTransform(),g=f(c,a),h=f(g,l),h=f(h,[1/c[0],0,0,1/c[3],0,0]),v=this._calculateCurrentDimensions(),_={};return this.forEachControl(function(y,b,w){_[b]=y.positionHandler(v,h,w)}),_},calcACoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),c=f(a,l),g=this._getTransformedDimensions(),h=g.x/2,v=g.y/2;return{tl:o({x:-h,y:-v},c),tr:o({x:h,y:-v},c),bl:o({x:-h,y:v},c),br:o({x:h,y:v},c)}},setCoords:function(l){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),l?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var l=this.getCenterPoint();return[1,0,0,1,l.x,l.y]},transformMatrixKey:function(l){var a="_",c="";return!l&&this.group&&(c=this.group.transformMatrixKey(l)+a),c+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(l){var a=this.calcOwnMatrix();if(l||!this.group)return a;var c=this.transformMatrixKey(l),g=this.matrixCache||(this.matrixCache={});return g.key===c?g.value:(this.group&&(a=f(this.group.calcTransformMatrix(!1),a)),g.key=c,g.value=a,a)},calcOwnMatrix:function(){var l=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===l)return a.value;var c=this._calcTranslateMatrix(),g={angle:this.angle,translateX:c[4],translateY:c[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=l,a.value=i.composeMatrix(g),a.value},_getNonTransformedDimensions:function(){var l=this.strokeWidth,a=this.width+l,c=this.height+l;return{x:a,y:c}},_getTransformedDimensions:function(l,a){typeof l>"u"&&(l=this.skewX),typeof a>"u"&&(a=this.skewY);var c,g,h,v=l===0&&a===0;if(this.strokeUniform?(g=this.width,h=this.height):(c=this._getNonTransformedDimensions(),g=c.x,h=c.y),v)return this._finalizeDimensions(g*this.scaleX,h*this.scaleY);var _=i.sizeAfterTransform(g,h,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:l,skewY:a});return this._finalizeDimensions(_.x,_.y)},_finalizeDimensions:function(l,a){return this.strokeUniform?{x:l+this.strokeWidth,y:a+this.strokeWidth}:{x:l,y:a}},_calculateCurrentDimensions:function(){var l=this.getViewportTransform(),a=this._getTransformedDimensions(),c=o(a,l,!0);return c.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(u){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,u):this.canvas&&this.canvas.sendBackwards(this,u),this},bringForward:function(u){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,u):this.canvas&&this.canvas.bringForward(this,u),this},moveTo:function(u){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,u):this.canvas&&this.canvas.moveTo(this,u),this}}),function(){function u(d,f){if(f){if(f.toLive)return d+": url(#SVGID_"+f.id+"); ";var o=new t.Color(f),l=d+": "+o.toRgb()+"; ",a=o.getAlpha();return a!==1&&(l+=d+"-opacity: "+a.toString()+"; "),l}else return d+": none; "}var i=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(d){var f=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",l=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",c=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",h=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",_=this.visible?"":" visibility: hidden;",y=d?"":this.getSvgFilter(),b=u("fill",this.fill),w=u("stroke",this.stroke);return[w,"stroke-width: ",o,"; ","stroke-dasharray: ",l,"; ","stroke-linecap: ",c,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",h,"; ",b,"fill-rule: ",f,"; ","opacity: ",v,";",y,_].join("")},getSvgSpanStyles:function(d,f){var o="; ",a=d.fontFamily?"font-family: "+(d.fontFamily.indexOf("'")===-1&&d.fontFamily.indexOf('"')===-1?"'"+d.fontFamily+"'":d.fontFamily)+o:"",l=d.strokeWidth?"stroke-width: "+d.strokeWidth+o:"",a=a,c=d.fontSize?"font-size: "+d.fontSize+"px"+o:"",g=d.fontStyle?"font-style: "+d.fontStyle+o:"",h=d.fontWeight?"font-weight: "+d.fontWeight+o:"",v=d.fill?u("fill",d.fill):"",_=d.stroke?u("stroke",d.stroke):"",y=this.getSvgTextDecoration(d),b=d.deltaY?"baseline-shift: "+-d.deltaY+"; ":"";return y&&(y="text-decoration: "+y+o),[_,l,a,c,g,h,y,v,b,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(d){return["overline","underline","line-through"].filter(function(f){return d[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(d,f){var o=d?this.calcTransformMatrix():this.calcOwnMatrix(),l='transform="'+t.util.matrixToSVG(o);return l+(f||"")+'" '},_setSVGBg:function(d){if(this.backgroundColor){var f=t.Object.NUM_FRACTION_DIGITS;d.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,f),'" y="',i(-this.height/2,f),'" width="',i(this.width,f),'" height="',i(this.height,f),`"></rect>
`)}},toSVG:function(d){return this._createBaseSVGMarkup(this._toSVG(d),{reviver:d})},toClipPathSVG:function(d){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(d),{reviver:d})},_createBaseClipPathSVGMarkup:function(d,f){f=f||{};var o=f.reviver,l=f.additionalTransform||"",a=[this.getSvgTransform(!0,l),this.getSvgCommons()].join(""),c=d.indexOf("COMMON_PARTS");return d[c]=a,o?o(d.join("")):d.join("")},_createBaseSVGMarkup:function(d,f){f=f||{};var o=f.noStyle,l=f.reviver,a=o?"":'style="'+this.getSvgStyles()+'" ',c=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,h=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=g&&g.absolutePositioned,_=this.stroke,y=this.fill,b=this.shadow,w,C=[],S,O=d.indexOf("COMMON_PARTS"),j=f.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+t.Object.__uid++,S='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(l)+`</clipPath>
`),v&&C.push("<g ",c,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),v?"":c+this.getSvgCommons(),` >
`),w=[a,h,o?"":this.addPaintOrder()," ",j?'transform="'+j+'" ':""].join(""),d[O]=w,y&&y.toLive&&C.push(y.toSVG(this)),_&&_.toLive&&C.push(_.toSVG(this)),b&&C.push(b.toSVG(this)),g&&C.push(S),C.push(d.join("")),C.push(`</g>
`),v&&C.push(`</g>
`),l?l(C.join("")):C.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var u=t.util.object.extend,i="stateProperties";function d(o,l,a){var c={},g=!0;a.forEach(function(h){c[h]=o[h]}),u(o[l],c,g)}function f(o,l,a){if(o===l)return!0;if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(var c=0,g=o.length;c<g;c++)if(!f(o[c],l[c]))return!1;return!0}else if(o&&typeof o=="object"){var h=Object.keys(o),v;if(!l||typeof l!="object"||!a&&h.length!==Object.keys(l).length)return!1;for(var c=0,g=h.length;c<g;c++)if(v=h[c],!(v==="canvas"||v==="group")&&!f(o[v],l[v]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(o){o=o||i;var l="_"+o;return Object.keys(this[l]).length<this[o].length?!0:!f(this[l],this,!0)},saveState:function(o){var l=o&&o.propertySet||i,a="_"+l;return this[a]?(d(this,a,this[l]),o&&o.stateProperties&&d(this,a,o.stateProperties),this):this.setupState(o)},setupState:function(o){o=o||{};var l=o.propertySet||i;return o.propertySet=l,this["_"+l]={},this.saveState(o),this}})}(),function(){var u=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(i,d){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=i.x,o=i.y,l,a,c=Object.keys(this.oCoords),g=c.length-1,h;for(this.__corner=0;g>=0;g--)if(h=c[g],!!this.isControlVisible(h)&&(a=this._getImageLines(d?this.oCoords[h].touchCorner:this.oCoords[h].corner),l=this._findCrossPoints({x:f,y:o},a),l!==0&&l%2===1))return this.__corner=h,h;return!1},forEachControl:function(i){for(var d in this.controls)i(this.controls[d],d,this)},_setCornerCoords:function(){var i=this.oCoords;for(var d in i){var f=this.controls[d];i[d].corner=f.calcCornerCoords(this.angle,this.cornerSize,i[d].x,i[d].y,!1),i[d].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,i[d].x,i[d].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var d=this.getCenterPoint(),f=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return i.translate(d.x,d.y),i.scale(1/o[0],1/o[3]),i.rotate(u(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-f.x/2,-f.y/2,f.x,f.y),i.restore(),this},drawBorders:function(i,d){d=d||{};var f=this._calculateCurrentDimensions(),o=this.borderScaleFactor,l=f.x+o,a=f.y+o,c=typeof d.hasControls<"u"?d.hasControls:this.hasControls,g=!1;return i.save(),i.strokeStyle=d.borderColor||this.borderColor,this._setLineDash(i,d.borderDashArray||this.borderDashArray),i.strokeRect(-l/2,-a/2,l,a),c&&(i.beginPath(),this.forEachControl(function(h,v,_){h.withConnection&&h.getVisibility(_,v)&&(g=!0,i.moveTo(h.x*l,h.y*a),i.lineTo(h.x*l+h.offsetX,h.y*a+h.offsetY))}),g&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,d,f){f=f||{};var o=t.util.sizeAfterTransform(this.width,this.height,d),l=this.strokeWidth,a=this.strokeUniform,c=this.borderScaleFactor,g=o.x+l*(a?this.canvas.getZoom():d.scaleX)+c,h=o.y+l*(a?this.canvas.getZoom():d.scaleY)+c;return i.save(),this._setLineDash(i,f.borderDashArray||this.borderDashArray),i.strokeStyle=f.borderColor||this.borderColor,i.strokeRect(-g/2,-h/2,g,h),i.restore(),this},drawControls:function(i,d){d=d||{},i.save();var f=this.canvas.getRetinaScaling(),o,l;return i.setTransform(f,0,0,f,0,0),i.strokeStyle=i.fillStyle=d.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=d.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,d.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(o=this.group.calcTransformMatrix()),this.forEachControl(function(a,c,g){l=g.oCoords[c],a.getVisibility(g,c)&&(o&&(l=t.util.transformPoint(l,o)),a.render(i,l.x,l.y,d,g))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,d){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=d,this},setControlsVisibility:function(i){i||(i={});for(var d in i)this.setControlVisible(d,i[d]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(u,i){i=i||{};var d=function(){},f=i.onComplete||d,o=i.onChange||d,l=this;return t.util.animate({target:this,startValue:u.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){u.set("left",a),l.requestRenderAll(),o()},onComplete:function(){u.setCoords(),f()}})},fxCenterObjectV:function(u,i){i=i||{};var d=function(){},f=i.onComplete||d,o=i.onChange||d,l=this;return t.util.animate({target:this,startValue:u.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){u.set("top",a),l.requestRenderAll(),o()},onComplete:function(){u.setCoords(),f()}})},fxRemove:function(u,i){i=i||{};var d=function(){},f=i.onComplete||d,o=i.onChange||d,l=this;return t.util.animate({target:this,startValue:u.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){u.set("opacity",a),l.requestRenderAll(),o()},onComplete:function(){l.remove(u),f()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var u=[],i,d,f=[];for(i in arguments[0])u.push(i);for(var o=0,l=u.length;o<l;o++)i=u[o],d=o!==l-1,f.push(this._animate(i,arguments[0][i],arguments[1],d));return f}else return this._animate.apply(this,arguments)},_animate:function(u,i,d,f){var o=this,l;i=i.toString(),d?d=t.util.object.clone(d):d={},~u.indexOf(".")&&(l=u.split("."));var a=o.colorProperties.indexOf(u)>-1||l&&o.colorProperties.indexOf(l[1])>-1,c=l?this.get(l[0])[l[1]]:this.get(u);"from"in d||(d.from=c),a||(~i.indexOf("=")?i=c+parseFloat(i.replace("=","")):i=parseFloat(i));var g={target:this,startValue:d.from,endValue:i,byValue:d.by,easing:d.easing,duration:d.duration,abort:d.abort&&function(h,v,_){return d.abort.call(o,h,v,_)},onChange:function(h,v,_){l?o[l[0]][l[1]]=h:o.set(u,h),!f&&d.onChange&&d.onChange(h,v,_)},onComplete:function(h,v,_){f||(o.setCoords(),d.onComplete&&d.onComplete(h,v,_))}};return a?t.util.animateColor(g.startValue,g.endValue,g.duration,g):t.util.animate(g)}}),function(u){var i=u.fabric||(u.fabric={}),d=i.util.object.extend,f=i.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,c){a||(a=[0,0,0,0]),this.callSuper("initialize",c),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(c)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,c){return this.callSuper("_set",a,c),typeof o[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:l({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:l({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var c=this.calcLinePoints();a.moveTo(c.x1,c.y1),a.lineTo(c.x2,c.y2),a.lineWidth=this.strokeWidth;var g=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return d(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(a.y-=this.strokeWidth),this.height===0&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,c=this.y1<=this.y2?-1:1,g=a*this.width*.5,h=c*this.height*.5,v=a*this.width*-.5,_=c*this.height*-.5;return{x1:g,x2:v,y1:h,y2:_}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(a,c,g){g=g||{};var h=i.parseAttributes(a,i.Line.ATTRIBUTE_NAMES),v=[h.x1||0,h.y1||0,h.x2||0,h.y2||0];c(new i.Line(v,d(h,g)))},i.Line.fromObject=function(a,c){function g(v){delete v.points,c&&c(v)}var h=f(a,!0);h.points=[a.x1,a.y1,a.x2,a.y2],i.Object._fromObject("Line",h,g,"points")};function l(a,c){var g=a.origin,h=a.axis1,v=a.axis2,_=a.dimension,y=c.nearest,b=c.center,w=c.farthest;return function(){switch(this.get(g)){case y:return Math.min(this.get(h),this.get(v));case b:return Math.min(this.get(h),this.get(v))+.5*this.get(_);case w:return Math.max(this.get(h),this.get(v))}}}}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(o,l){return this.callSuper("_set",o,l),o==="radius"&&this.setRadius(l),this},toObject:function(o){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(o))},_toSVG:function(){var o,l=0,a=0,c=(this.endAngle-this.startAngle)%360;if(c===0)o=["<circle ","COMMON_PARTS",'cx="'+l+'" cy="'+a+'" ','r="',this.radius,`" />
`];else{var g=d(this.startAngle),h=d(this.endAngle),v=this.radius,_=i.util.cos(g)*v,y=i.util.sin(g)*v,b=i.util.cos(h)*v,w=i.util.sin(h)*v,C=c>180?"1":"0";o=['<path d="M '+_+" "+y," A "+v+" "+v," 0 ",+C+" 1"," "+b+" "+w,'" ',"COMMON_PARTS",` />
`]}return o},_render:function(o){o.beginPath(),o.arc(0,0,this.radius,d(this.startAngle),d(this.endAngle),!1),this._renderPaintInOrder(o)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(o){return this.radius=o,this.set("width",o*2).set("height",o*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(o,l){var a=i.parseAttributes(o,i.Circle.ATTRIBUTE_NAMES);if(!f(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,l(new i.Circle(a))};function f(o){return"radius"in o&&o.radius>=0}i.Circle.fromObject=function(o,l){i.Object._fromObject("Circle",o,l)}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(d){var f=this.width/2,o=this.height/2;d.beginPath(),d.moveTo(-f,o),d.lineTo(0,-o),d.lineTo(f,o),d.closePath(),this._renderPaintInOrder(d)},_toSVG:function(){var d=this.width/2,f=this.height/2,o=[-d+" "+f,"0 "+-f,d+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',o,'" />']}}),i.Triangle.fromObject=function(d,f){return i.Object._fromObject("Triangle",d,f)}}(e),function(u){var i=u.fabric||(u.fabric={}),d=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,o){switch(this.callSuper("_set",f,o),f){case"rx":this.rx=o,this.set("width",o*2);break;case"ry":this.ry=o,this.set("height",o*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,d,!1),f.restore(),this._renderPaintInOrder(f)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(f,o){var l=i.parseAttributes(f,i.Ellipse.ATTRIBUTE_NAMES);l.left=(l.left||0)-l.rx,l.top=(l.top||0)-l.ry,o(new i.Ellipse(l))},i.Ellipse.fromObject=function(f,o){i.Object._fromObject("Ellipse",f,o)}}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var o=this.rx?Math.min(this.rx,this.width/2):0,l=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,c=this.height,g=-this.width/2,h=-this.height/2,v=o!==0||l!==0,_=1-.5522847498;f.beginPath(),f.moveTo(g+o,h),f.lineTo(g+a-o,h),v&&f.bezierCurveTo(g+a-_*o,h,g+a,h+_*l,g+a,h+l),f.lineTo(g+a,h+c-l),v&&f.bezierCurveTo(g+a,h+c-_*l,g+a-_*o,h+c,g+a-o,h+c),f.lineTo(g+o,h+c),v&&f.bezierCurveTo(g+_*o,h+c,g,h+c-_*l,g,h+c-l),f.lineTo(g,h+l),v&&f.bezierCurveTo(g,h+_*l,g+_*o,h,g+o,h),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,o=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',o,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(f,o,l){if(!f)return o(null);l=l||{};var a=i.parseAttributes(f,i.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var c=new i.Rect(d(l?i.util.object.clone(l):{},a));c.visible=c.visible&&c.width>0&&c.height>0,o(c)},i.Rect.fromObject=function(f,o){return i.Object._fromObject("Rect",f,o)}}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.util.object.extend,f=i.util.array.min,o=i.util.array.max,l=i.util.toFixed,a=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(c,g){g=g||{},this.points=c||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(c){var g=this._calcDimensions(c),h,v=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-v,this.height=g.height-v,c.fromSVG||(h=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+v/2,y:g.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof c.left>"u"&&(this.left=c.fromSVG?g.left:h.x),typeof c.top>"u"&&(this.top=c.fromSVG?g.top:h.y),this.pathOffset={x:g.left+this.width/2+v/2,y:g.top+this.height/2+v/2}},_calcDimensions:function(){var c=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=f(c,"x")||0,h=f(c,"y")||0,v=o(c,"x")||0,_=o(c,"y")||0,y=v-g,b=_-h;return{left:g,top:h,width:y,height:b}},toObject:function(c){return d(this.callSuper("toObject",c),{points:this.points.concat()})},_toSVG:function(){for(var c=[],g=this.pathOffset.x,h=this.pathOffset.y,v=i.Object.NUM_FRACTION_DIGITS,_=0,y=this.points.length;_<y;_++)c.push(l(this.points[_].x-g,v),",",l(this.points[_].y-h,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',c.join(""),`" />
`]},commonRender:function(c){var g,h=this.points.length,v=this.pathOffset.x,_=this.pathOffset.y;if(!h||isNaN(this.points[h-1].y))return!1;c.beginPath(),c.moveTo(this.points[0].x-v,this.points[0].y-_);for(var y=0;y<h;y++)g=this.points[y],c.lineTo(g.x-v,g.y-_);return!0},_render:function(c){this.commonRender(c)&&this._renderPaintInOrder(c)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(c){return function(g,h,v){if(!g)return h(null);v||(v={});var _=i.parsePointsAttribute(g.getAttribute("points")),y=i.parseAttributes(g,i[c].ATTRIBUTE_NAMES);y.fromSVG=!0,h(new i[c](_,d(y,v)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(c,g){return i.Object._fromObject("Polyline",c,g,"points")}}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return d(this.points,this)},_render:function(f){this.commonRender(f)&&(f.closePath(),this._renderPaintInOrder(f))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(f,o){i.Object._fromObject("Polygon",f,o,"points")}}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.util.array.min,f=i.util.array.max,o=i.util.object.extend,l=i.util.object.clone,a=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(c,g){g=l(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(c||[],g)},_setPath:function(c,g){this.path=i.util.makePathSimpler(Array.isArray(c)?c:i.util.parsePath(c)),i.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(c){var g,h=0,v=0,_=0,y=0,b=0,w=0,C=-this.pathOffset.x,S=-this.pathOffset.y;c.beginPath();for(var O=0,j=this.path.length;O<j;++O)switch(g=this.path[O],g[0]){case"L":_=g[1],y=g[2],c.lineTo(_+C,y+S);break;case"M":_=g[1],y=g[2],h=_,v=y,c.moveTo(_+C,y+S);break;case"C":_=g[5],y=g[6],b=g[3],w=g[4],c.bezierCurveTo(g[1]+C,g[2]+S,b+C,w+S,_+C,y+S);break;case"Q":c.quadraticCurveTo(g[1]+C,g[2]+S,g[3]+C,g[4]+S),_=g[3],y=g[4],b=g[1],w=g[2];break;case"z":case"Z":_=h,y=v,c.closePath();break}},_render:function(c){this._renderPathCommands(c),this._renderPaintInOrder(c)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(c){return o(this.callSuper("toObject",c),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(c){var g=this.toObject(["sourcePath"].concat(c));return g.sourcePath&&delete g.path,g},_toSVG:function(){var c=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',c,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var c=i.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,c)+", "+a(-this.pathOffset.y,c)+")"},toClipPathSVG:function(c){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:g})},toSVG:function(c){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var c=[],g=[],h,v=0,_=0,y=0,b=0,w,C=0,S=this.path.length;C<S;++C){switch(h=this.path[C],h[0]){case"L":y=h[1],b=h[2],w=[];break;case"M":y=h[1],b=h[2],v=y,_=b,w=[];break;case"C":w=i.util.getBoundsOfCurve(y,b,h[1],h[2],h[3],h[4],h[5],h[6]),y=h[5],b=h[6];break;case"Q":w=i.util.getBoundsOfCurve(y,b,h[1],h[2],h[1],h[2],h[3],h[4]),y=h[3],b=h[4];break;case"z":case"Z":y=v,b=_;break}w.forEach(function(oe){c.push(oe.x),g.push(oe.y)}),c.push(y),g.push(b)}var O=d(c)||0,j=d(g)||0,Y=f(c)||0,G=f(g)||0,U=Y-O,ee=G-j;return{left:O,top:j,width:U,height:ee}}}),i.Path.fromObject=function(c,g){if(typeof c.sourcePath=="string"){var h=c.sourcePath;i.loadSVGFromURL(h,function(v){var _=v[0];_.setOptions(c),c.clipPath?i.util.enlivenObjects([c.clipPath],function(y){_.clipPath=y[0],g&&g(_)}):g&&g(_)})}else i.Object._fromObject("Path",c,g,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(c,g,h){var v=i.parseAttributes(c,i.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,g(new i.Path(v.d,o(v,h)))}}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.util.array.min,f=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(o,l,a){l=l||{},this._objects=[],a&&this.callSuper("initialize",l),this._objects=o||[];for(var c=this._objects.length;c--;)this._objects[c].group=this;if(a)this._updateObjectsACoords();else{var g=l&&l.centerPoint;l.originX!==void 0&&(this.originX=l.originX),l.originY!==void 0&&(this.originY=l.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete l.centerPoint,this.callSuper("initialize",l)}this.setCoords()},_updateObjectsACoords:function(){for(var o=!0,l=this._objects.length;l--;)this._objects[l].setCoords(o)},_updateObjectsCoords:function(l){for(var l=l||this.getCenterPoint(),a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],l)},_updateObjectCoords:function(o,l){var a=o.left,c=o.top,g=!0;o.set({left:a-l.x,top:c-l.y}),o.group=this,o.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(o){var l=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),o&&(l&&i.util.removeTransformFromObject(o,this.group.calcTransformMatrix()),this._objects.push(o),o.group=this,o._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,l?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(o){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(o),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(o){this.dirty=!0,o.group=this,o._set("canvas",this.canvas)},_onObjectRemoved:function(o){this.dirty=!0,delete o.group},_set:function(o,l){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(o,l);if(o==="canvas")for(;a--;)this._objects[a]._set(o,l);i.Object.prototype._set.call(this,o,l)},toObject:function(o){var l=this.includeDefaultValues,a=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var h=g.includeDefaultValues;g.includeDefaultValues=l;var v=g.toObject(o);return g.includeDefaultValues=h,v}),c=i.Object.prototype.toObject.call(this,o);return c.objects=a,c},toDatalessObject:function(o){var l,a=this.sourcePath;if(a)l=a;else{var c=this.includeDefaultValues;l=this._objects.map(function(h){var v=h.includeDefaultValues;h.includeDefaultValues=c;var _=h.toDatalessObject(o);return h.includeDefaultValues=v,_})}var g=i.Object.prototype.toDatalessObject.call(this,o);return g.objects=l,g},render:function(o){this._transformDone=!0,this.callSuper("render",o),this._transformDone=!1},shouldCache:function(){var o=i.Object.prototype.shouldCache.call(this);if(o){for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].willDrawShadow())return this.ownCaching=!1,!1}return o},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var o=0,l=this._objects.length;o<l;o++)if(this._objects[o].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(o){for(var l=0,a=this._objects.length;l<a;l++)this._objects[l].render(o);this._drawClipPath(o,this.clipPath)},isCacheDirty:function(o){if(this.callSuper("isCacheDirty",o))return!0;if(!this.statefullCache)return!1;for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].isCacheDirty(!0)){if(this._cacheCanvas){var c=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-c/2,-g/2,c,g)}return!0}return!1},_restoreObjectsState:function(){var o=this.calcOwnMatrix();return this._objects.forEach(function(l){i.util.addTransformToObject(l,o),delete l.group,l.setCoords()}),this},destroy:function(){return this._objects.forEach(function(o){o.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var o=this._objects,l=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var c=new i.ActiveSelection([]);return c.set(a),c.type="activeSelection",l.remove(this),o.forEach(function(g){g.group=c,g.dirty=!0,l.add(g)}),c.canvas=l,c._objects=o,l._activeObject=c,c.setCoords(),c}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var o=!0;return this.forEachObject(function(l){l.setCoords(o)}),this},_calcBounds:function(o){for(var l=[],a=[],c,g,h,v=["tr","br","bl","tl"],_=0,y=this._objects.length,b,w=v.length;_<y;++_){for(c=this._objects[_],h=c.calcACoords(),b=0;b<w;b++)g=v[b],l.push(h[g].x),a.push(h[g].y);c.aCoords=h}this._getBounds(l,a,o)},_getBounds:function(o,l,a){var c=new i.Point(d(o),d(l)),g=new i.Point(f(o),f(l)),h=c.y||0,v=c.x||0,_=g.x-c.x||0,y=g.y-c.y||0;this.width=_,this.height=y,a||this.setPositionByOrigin({x:v,y:h},"left","top")},_toSVG:function(o){for(var l=["<g ","COMMON_PARTS",` >
`],a=0,c=this._objects.length;a<c;a++)l.push("		",this._objects[a].toSVG(o));return l.push(`</g>
`),l},getSvgStyles:function(){var o=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",l=this.visible?"":" visibility: hidden;";return[o,this.getSvgFilter(),l].join("")},toClipPathSVG:function(o){for(var l=[],a=0,c=this._objects.length;a<c;a++)l.push("	",this._objects[a].toClipPathSVG(o));return this._createBaseClipPathSVGMarkup(l,{reviver:o})}}),i.Group.fromObject=function(o,l){var a=o.objects,c=i.util.object.clone(o,!0);if(delete c.objects,typeof a=="string"){i.loadSVGFromURL(a,function(g){var h=i.util.groupSVGElements(g,o,a),v=c.clipPath;delete c.clipPath,h.set(c),v?i.util.enlivenObjects([v],function(_){h.clipPath=_[0],l&&l(h)}):l&&l(h)});return}i.util.enlivenObjects(a,function(g){i.util.enlivenObjectEnlivables(o,c,function(){l&&l(new i.Group(g,c,!0))})})})}(e),function(u){var i=u.fabric||(u.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(d,f){f=f||{},this._objects=d||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var d=this._objects.concat();this._objects=[];var f=i.Object.prototype.toObject.call(this),o=new i.Group([]);if(delete f.type,o.set(f),d.forEach(function(a){a.canvas.remove(a),a.group=o}),o._objects=d,!this.canvas)return o;var l=this.canvas;return l.add(o),l._activeObject=o,o.setCoords(),o},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(d,f,o){d.save(),d.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",d,f),o=o||{},typeof o.hasControls>"u"&&(o.hasControls=!1),o.forActiveSelection=!0;for(var l=0,a=this._objects.length;l<a;l++)this._objects[l]._renderControls(d,o);d.restore()}}),i.ActiveSelection.fromObject=function(d,f){i.util.enlivenObjects(d.objects,function(o){delete d.objects,f&&f(new i.ActiveSelection(o,d,!0))})})}(e),function(u){var i=t.util.object.extend;if(u.fabric||(u.fabric={}),u.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(d,f){f||(f={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",f),this._initElement(d,f)},getElement:function(){return this._element||{}},setElement:function(d,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=d,this._originalElement=d,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(d){var f=t.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(d)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(d){t.util.cleanUpJsdomNode(this[d]),this[d]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var d=this.getElement();return{width:d.naturalWidth||d.width,height:d.naturalHeight||d.height}},_stroke:function(d){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,o=this.height/2;d.beginPath(),d.moveTo(-f,-o),d.lineTo(f,-o),d.lineTo(f,o),d.lineTo(-f,o),d.lineTo(-f,-o),d.closePath()}},toObject:function(d){var f=[];this.filters.forEach(function(l){l&&f.push(l.toObject())});var o=i(this.callSuper("toObject",["cropX","cropY"].concat(d)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(o.resizeFilter=this.resizeFilter.toObject()),o},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var d=[],f=[],o,l=this._element,a=-this.width/2,c=-this.height/2,g="",h="";if(!l)return[];if(this.hasCrop()){var v=t.Object.__uid++;d.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+a+'" y="'+c+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(h='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',c-this.cropY,'" width="',l.width||l.naturalWidth,'" height="',l.height||l.height,h,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var _=this.fill;this.fill=null,o=["	<rect ",'x="',a,'" y="',c,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=_}return this.paintFirst!=="fill"?d=d.concat(o,f):d=d.concat(f,o),d},getSrc:function(d){var f=d?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(d,f,o){return t.util.loadImage(d,function(l,a){this.setElement(l,o),this._setWidthHeight(),f&&f(this,a)},this,o&&o.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var d=this.resizeFilter,f=this.minimumScaleTrigger,o=this.getTotalObjectScaling(),l=o.scaleX,a=o.scaleY,c=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!d||l>f&&a>f){this._element=c,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=l,this._lastScaleY=a;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var g=t.util.createCanvasElement(),h=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=c.width,_=c.height;g.width=v,g.height=_,this._element=g,this._lastScaleX=d.scaleX=l,this._lastScaleY=d.scaleY=a,t.filterBackend.applyFilters([d],c,v,_,this._element,h),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(d){if(d=d||this.filters||[],d=d.filter(function(c){return c&&!c.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),d.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,o=f.naturalWidth||f.width,l=f.naturalHeight||f.height;if(this._element===this._originalElement){var a=t.util.createCanvasElement();a.width=o,a.height=l,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,o,l),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(d,this._originalElement,o,l,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(d){t.util.setImageSmoothing(d,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(d),this._renderPaintInOrder(d)},drawCacheOnCanvas:function(d){t.util.setImageSmoothing(d,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,d)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(d){var f=this._element;if(f){var o=this._filterScalingX,l=this._filterScalingY,a=this.width,c=this.height,g=Math.min,h=Math.max,v=h(this.cropX,0),_=h(this.cropY,0),y=f.naturalWidth||f.width,b=f.naturalHeight||f.height,w=v*o,C=_*l,S=g(a*o,y-w),O=g(c*l,b-C),j=-a/2,Y=-c/2,G=g(a,y/o-v),U=g(c,b/l-_);f&&d.drawImage(f,w,C,S,O,j,Y,G,U)}},_needsResize:function(){var d=this.getTotalObjectScaling();return d.scaleX!==this._lastScaleX||d.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(d,f){this.setElement(t.util.getById(d),f),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(d){d||(d={}),this.setOptions(d),this._setWidthHeight(d)},_initFilters:function(d,f){d&&d.length?t.util.enlivenObjects(d,function(o){f&&f(o)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(d){d||(d={});var f=this.getElement();this.width=d.width||f.naturalWidth||f.width||0,this.height=d.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var d=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,o=this._element.height,l=1,a=1,c=0,g=0,h=0,v=0,_,y=this.width,b=this.height,w={width:y,height:b};return d&&(d.alignX!=="none"||d.alignY!=="none")?(d.meetOrSlice==="meet"&&(l=a=t.util.findScaleToFit(this._element,w),_=(y-f*l)/2,d.alignX==="Min"&&(c=-_),d.alignX==="Max"&&(c=_),_=(b-o*a)/2,d.alignY==="Min"&&(g=-_),d.alignY==="Max"&&(g=_)),d.meetOrSlice==="slice"&&(l=a=t.util.findScaleToCover(this._element,w),_=f-y/l,d.alignX==="Mid"&&(h=_/2),d.alignX==="Max"&&(h=_),_=o-b/a,d.alignY==="Mid"&&(v=_/2),d.alignY==="Max"&&(v=_),f=y/l,o=b/a)):(l=y/f,a=b/o),{width:f,height:o,scaleX:l,scaleY:a,offsetLeft:c,offsetTop:g,cropX:h,cropY:v}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(d,f){var o=t.util.object.clone(d);t.util.loadImage(o.src,function(l,a){if(a){f&&f(null,!0);return}t.Image.prototype._initFilters.call(o,o.filters,function(c){o.filters=c||[],t.Image.prototype._initFilters.call(o,[o.resizeFilter],function(g){o.resizeFilter=g[0],t.util.enlivenObjectEnlivables(o,o,function(){var h=new t.Image(l,o);f(h,!1)})})})},null,o.crossOrigin)},t.Image.fromURL=function(d,f,o){t.util.loadImage(d,function(l,a){f&&f(new t.Image(l,o),a)},null,o&&o.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(d,f,o){var l=t.parseAttributes(d,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(l["xlink:href"],f,i(o?t.util.object.clone(o):{},l))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var u=this.angle%360;return u>0?Math.round((u-1)/90)*90:Math.round(u/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(u){u=u||{};var i=function(){},d=u.onComplete||i,f=u.onChange||i,o=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(l){o.rotate(l),f()},onComplete:function(){o.setCoords(),d()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(u){return u.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(u){return u.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function u(d,f){var o="precision "+f+` float;
void main(){}`,l=d.createShader(d.FRAGMENT_SHADER);return d.shaderSource(l,o),d.compileShader(l),!!d.getShaderParameter(l,d.COMPILE_STATUS)}t.isWebglSupported=function(d){if(t.isLikelyNode)return!1;d=d||t.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),o=f.getContext("webgl")||f.getContext("experimental-webgl"),l=!1;if(o){t.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),l=t.maxTextureSize>=d;for(var a=["highp","mediump","lowp"],c=0;c<3;c++)if(u(o,a[c])){t.webGlPrecision=a[c];break}}return this.isSupported=l,l},t.WebglFilterBackend=i;function i(d){d&&d.tileSize&&(this.tileSize=d.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(d,f){this.dispose(),this.createWebGLCanvas(d,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(d,f)},chooseFastestCopyGLTo2DMethod:function(d,f){var o=typeof window.performance<"u",l;try{new ImageData(1,1),l=!0}catch{l=!1}var a=typeof ArrayBuffer<"u",c=typeof Uint8ClampedArray<"u";if(o&&l&&a&&c){var g=t.util.createCanvasElement(),h=new ArrayBuffer(d*f*4);if(t.forceGLPutImageData){this.imageBuffer=h,this.copyGLTo2D=m;return}var v={imageBuffer:h,destinationWidth:d,destinationHeight:f,targetCanvas:g},_,y,b;g.width=d,g.height=f,_=window.performance.now(),p.call(v,this.gl,v),y=window.performance.now()-_,_=window.performance.now(),m.call(v,this.gl,v),b=window.performance.now()-_,y>b?(this.imageBuffer=h,this.copyGLTo2D=m):this.copyGLTo2D=p}},createWebGLCanvas:function(d,f){var o=t.util.createCanvasElement();o.width=d,o.height=f;var l={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=o.getContext("webgl",l);a||(a=o.getContext("experimental-webgl",l)),a&&(a.clearColor(0,0,0,0),this.canvas=o,this.gl=a)},applyFilters:function(d,f,o,l,a,c){var g=this.gl,h;c&&(h=this.getCachedTexture(c,f));var v={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:o,sourceHeight:l,destinationWidth:o,destinationHeight:l,context:g,sourceTexture:this.createTexture(g,o,l,!h&&f),targetTexture:this.createTexture(g,o,l),originalTexture:h||this.createTexture(g,o,l,!h&&f),passes:d.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},_=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,_),d.forEach(function(y){y&&y.applyTo(v)}),s(v),this.copyGLTo2D(g,v),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(v.sourceTexture),g.deleteTexture(v.targetTexture),g.deleteFramebuffer(_),a.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(d,f,o,l,a){var c=d.createTexture();return d.bindTexture(d.TEXTURE_2D,c),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,a||d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,a||d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),l?d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,l):d.texImage2D(d.TEXTURE_2D,0,d.RGBA,f,o,0,d.RGBA,d.UNSIGNED_BYTE,null),c},getCachedTexture:function(d,f){if(this.textureCache[d])return this.textureCache[d];var o=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[d]=o,o},evictCachesForKey:function(d){this.textureCache[d]&&(this.gl.deleteTexture(this.textureCache[d]),delete this.textureCache[d])},copyGLTo2D:p,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var d=this.gl,f={renderer:"",vendor:""};if(!d)return f;var o=d.getExtension("WEBGL_debug_renderer_info");if(o){var l=d.getParameter(o.UNMASKED_RENDERER_WEBGL),a=d.getParameter(o.UNMASKED_VENDOR_WEBGL);l&&(f.renderer=l.toLowerCase()),a&&(f.vendor=a.toLowerCase())}return this.gpuInfo=f,f}}}();function s(u){var i=u.targetCanvas,d=i.width,f=i.height,o=u.destinationWidth,l=u.destinationHeight;(d!==o||f!==l)&&(i.width=o,i.height=l)}function p(u,i){var d=u.canvas,f=i.targetCanvas,o=f.getContext("2d");o.translate(0,f.height),o.scale(1,-1);var l=d.height-f.height;o.drawImage(d,0,l,f.width,f.height,0,0,f.width,f.height)}function m(u,i){var d=i.targetCanvas,f=d.getContext("2d"),o=i.destinationWidth,l=i.destinationHeight,a=o*l*4,c=new Uint8Array(this.imageBuffer,0,a),g=new Uint8ClampedArray(this.imageBuffer,0,a);u.readPixels(0,0,o,l,u.RGBA,u.UNSIGNED_BYTE,c);var h=new ImageData(g,o,l);f.putImageData(h,0,0)}(function(){var u=function(){};t.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:u,dispose:u,clearWebGLCaches:u,resources:{},applyFilters:function(d,f,o,l,a){var c=a.getContext("2d");c.drawImage(f,0,0,o,l);var g=c.getImageData(0,0,o,l),h=c.getImageData(0,0,o,l),v={sourceWidth:o,sourceHeight:l,imageData:g,originalEl:f,originalImageData:h,canvasEl:a,ctx:c,filterBackend:this};return d.forEach(function(_){_.applyTo(v)}),(v.imageData.width!==o||v.imageData.height!==l)&&(a.width=v.imageData.width,a.height=v.imageData.height),c.putImageData(v.imageData,0,0),v}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(u){u&&this.setOptions(u)},setOptions:function(u){for(var i in u)this[i]=u[i]},createProgram:function(u,i,d){i=i||this.fragmentSource,d=d||this.vertexSource,t.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var f=u.createShader(u.VERTEX_SHADER);if(u.shaderSource(f,d),u.compileShader(f),!u.getShaderParameter(f,u.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+u.getShaderInfoLog(f));var o=u.createShader(u.FRAGMENT_SHADER);if(u.shaderSource(o,i),u.compileShader(o),!u.getShaderParameter(o,u.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+u.getShaderInfoLog(o));var l=u.createProgram();if(u.attachShader(l,f),u.attachShader(l,o),u.linkProgram(l),!u.getProgramParameter(l,u.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+u.getProgramInfoLog(l));var a=this.getAttributeLocations(u,l),c=this.getUniformLocations(u,l)||{};return c.uStepW=u.getUniformLocation(l,"uStepW"),c.uStepH=u.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:a,uniformLocations:c}},getAttributeLocations:function(u,i){return{aPosition:u.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(u,i,d){var f=i.aPosition,o=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,o),u.enableVertexAttribArray(f),u.vertexAttribPointer(f,2,u.FLOAT,!1,0,0),u.bufferData(u.ARRAY_BUFFER,d,u.STATIC_DRAW)},_setupFrameBuffer:function(u){var i=u.context,d,f;u.passes>1?(d=u.destinationWidth,f=u.destinationHeight,(u.sourceWidth!==d||u.sourceHeight!==f)&&(i.deleteTexture(u.targetTexture),u.targetTexture=u.filterBackend.createTexture(i,d,f)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,u.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(u){u.passes--,u.pass++;var i=u.targetTexture;u.targetTexture=u.sourceTexture,u.sourceTexture=i},isNeutralState:function(){var u=this.mainParameter,i=t.Image.filters[this.type].prototype;if(u)if(Array.isArray(i[u])){for(var d=i[u].length;d--;)if(this[u][d]!==i[u][d])return!1;return!0}else return i[u]===this[u];else return!1},applyTo:function(u){u.webgl?(this._setupFrameBuffer(u),this.applyToWebGL(u),this._swapTextures(u)):this.applyTo2d(u)},retrieveShader:function(u){return u.programCache.hasOwnProperty(this.type)||(u.programCache[this.type]=this.createProgram(u.context)),u.programCache[this.type]},applyToWebGL:function(u){var i=u.context,d=this.retrieveShader(u);u.pass===0&&u.originalTexture?i.bindTexture(i.TEXTURE_2D,u.originalTexture):i.bindTexture(i.TEXTURE_2D,u.sourceTexture),i.useProgram(d.program),this.sendAttributeData(i,d.attributeLocations,u.aPosition),i.uniform1f(d.uniformLocations.uStepW,1/u.sourceWidth),i.uniform1f(d.uniformLocations.uStepH,1/u.sourceHeight),this.sendUniformData(i,d.uniformLocations),i.viewport(0,0,u.destinationWidth,u.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(u,i,d){u.activeTexture(d),u.bindTexture(u.TEXTURE_2D,i),u.activeTexture(u.TEXTURE0)},unbindAdditionalTexture:function(u,i){u.activeTexture(i),u.bindTexture(u.TEXTURE_2D,null),u.activeTexture(u.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(u){this[this.mainParameter]=u},sendUniformData:function(){},createHelpLayer:function(u){if(!u.helpLayer){var i=document.createElement("canvas");i.width=u.sourceWidth,i.height=u.sourceHeight,u.helpLayer=i}},toObject:function(){var u={type:this.type},i=this.mainParameter;return i&&(u[i]=this[i]),u},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(u,i){var d=new t.Image.filters[u.type](u);return i&&i(d),d},function(u){var i=u.fabric||(u.fabric={}),d=i.Image.filters,f=i.util.createClass;d.ColorMatrix=f(d.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(o){this.callSuper("initialize",o),this.matrix=this.matrix.slice(0)},applyTo2d:function(o){var l=o.imageData,a=l.data,c=a.length,g=this.matrix,h,v,_,y,b,w=this.colorsOnly;for(b=0;b<c;b+=4)h=a[b],v=a[b+1],_=a[b+2],w?(a[b]=h*g[0]+v*g[1]+_*g[2]+g[4]*255,a[b+1]=h*g[5]+v*g[6]+_*g[7]+g[9]*255,a[b+2]=h*g[10]+v*g[11]+_*g[12]+g[14]*255):(y=a[b+3],a[b]=h*g[0]+v*g[1]+_*g[2]+y*g[3]+g[4]*255,a[b+1]=h*g[5]+v*g[6]+_*g[7]+y*g[8]+g[9]*255,a[b+2]=h*g[10]+v*g[11]+_*g[12]+y*g[13]+g[14]*255,a[b+3]=h*g[15]+v*g[16]+_*g[17]+y*g[18]+g[19]*255)},getUniformLocations:function(o,l){return{uColorMatrix:o.getUniformLocation(l,"uColorMatrix"),uConstants:o.getUniformLocation(l,"uConstants")}},sendUniformData:function(o,l){var a=this.matrix,c=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],g=[a[4],a[9],a[14],a[19]];o.uniformMatrix4fv(l.uColorMatrix,!1,c),o.uniform4fv(l.uConstants,g)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.Image.filters,f=i.util.createClass;d.Brightness=f(d.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(o){if(this.brightness!==0){var l=o.imageData,a=l.data,c,g=a.length,h=Math.round(this.brightness*255);for(c=0;c<g;c+=4)a[c]=a[c]+h,a[c+1]=a[c+1]+h,a[c+2]=a[c+2]+h}},getUniformLocations:function(o,l){return{uBrightness:o.getUniformLocation(l,"uBrightness")}},sendUniformData:function(o,l){o.uniform1f(l.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.Convolute=o(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(l){var a=Math.sqrt(this.matrix.length),c=this.type+"_"+a+"_"+(this.opaque?1:0),g=this.fragmentSource[c];return l.programCache.hasOwnProperty(c)||(l.programCache[c]=this.createProgram(l.context,g)),l.programCache[c]},applyTo2d:function(l){var a=l.imageData,c=a.data,g=this.matrix,h=Math.round(Math.sqrt(g.length)),v=Math.floor(h/2),_=a.width,y=a.height,b=l.ctx.createImageData(_,y),w=b.data,C=this.opaque?1:0,S,O,j,Y,G,U,ee,oe,le,ce,X,J,x;for(X=0;X<y;X++)for(ce=0;ce<_;ce++){for(G=(X*_+ce)*4,S=0,O=0,j=0,Y=0,x=0;x<h;x++)for(J=0;J<h;J++)ee=X+x-v,U=ce+J-v,!(ee<0||ee>=y||U<0||U>=_)&&(oe=(ee*_+U)*4,le=g[x*h+J],S+=c[oe]*le,O+=c[oe+1]*le,j+=c[oe+2]*le,C||(Y+=c[oe+3]*le));w[G]=S,w[G+1]=O,w[G+2]=j,C?w[G+3]=c[G+3]:w[G+3]=Y}l.imageData=b},getUniformLocations:function(l,a){return{uMatrix:l.getUniformLocation(a,"uMatrix"),uOpaque:l.getUniformLocation(a,"uOpaque"),uHalfSize:l.getUniformLocation(a,"uHalfSize"),uSize:l.getUniformLocation(a,"uSize")}},sendUniformData:function(l,a){l.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return d(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.Image.filters,f=i.util.createClass;d.Grayscale=f(d.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(o){var l=o.imageData,a=l.data,c,g=a.length,h,v=this.mode;for(c=0;c<g;c+=4)v==="average"?h=(a[c]+a[c+1]+a[c+2])/3:v==="lightness"?h=(Math.min(a[c],a[c+1],a[c+2])+Math.max(a[c],a[c+1],a[c+2]))/2:v==="luminosity"&&(h=.21*a[c]+.72*a[c+1]+.07*a[c+2]),a[c]=h,a[c+1]=h,a[c+2]=h},retrieveShader:function(o){var l=this.type+"_"+this.mode;if(!o.programCache.hasOwnProperty(l)){var a=this.fragmentSource[this.mode];o.programCache[l]=this.createProgram(o.context,a)}return o.programCache[l]},getUniformLocations:function(o,l){return{uMode:o.getUniformLocation(l,"uMode")}},sendUniformData:function(o,l){var a=1;o.uniform1i(l.uMode,a)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.Image.filters,f=i.util.createClass;d.Invert=f(d.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(o){var l=o.imageData,a=l.data,c,g=a.length;for(c=0;c<g;c+=4)a[c]=255-a[c],a[c+1]=255-a[c+1],a[c+2]=255-a[c+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(o,l){return{uInvert:o.getUniformLocation(l,"uInvert")}},sendUniformData:function(o,l){o.uniform1i(l.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.Noise=o(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(l){if(this.noise!==0){var a=l.imageData,c=a.data,g,h=c.length,v=this.noise,_;for(g=0,h=c.length;g<h;g+=4)_=(.5-Math.random())*v,c[g]+=_,c[g+1]+=_,c[g+2]+=_}},getUniformLocations:function(l,a){return{uNoise:l.getUniformLocation(a,"uNoise"),uSeed:l.getUniformLocation(a,"uSeed")}},sendUniformData:function(l,a){l.uniform1f(a.uNoise,this.noise/255),l.uniform1f(a.uSeed,Math.random())},toObject:function(){return d(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.Image.filters,f=i.util.createClass;d.Pixelate=f(d.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(o){var l=o.imageData,a=l.data,c=l.height,g=l.width,h,v,_,y,b,w,C,S,O,j,Y;for(v=0;v<c;v+=this.blocksize)for(_=0;_<g;_+=this.blocksize)for(h=v*4*g+_*4,y=a[h],b=a[h+1],w=a[h+2],C=a[h+3],j=Math.min(v+this.blocksize,c),Y=Math.min(_+this.blocksize,g),S=v;S<j;S++)for(O=_;O<Y;O++)h=S*4*g+O*4,a[h]=y,a[h+1]=b,a[h+2]=w,a[h+3]=C},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(o,l){return{uBlocksize:o.getUniformLocation(l,"uBlocksize"),uStepW:o.getUniformLocation(l,"uStepW"),uStepH:o.getUniformLocation(l,"uStepH")}},sendUniformData:function(o,l){o.uniform1f(l.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.RemoveColor=o(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(l){var a=l.imageData,c=a.data,g,h=this.distance*255,v,_,y,b=new i.Color(this.color).getSource(),w=[b[0]-h,b[1]-h,b[2]-h],C=[b[0]+h,b[1]+h,b[2]+h];for(g=0;g<c.length;g+=4)v=c[g],_=c[g+1],y=c[g+2],v>w[0]&&_>w[1]&&y>w[2]&&v<C[0]&&_<C[1]&&y<C[2]&&(c[g+3]=0)},getUniformLocations:function(l,a){return{uLow:l.getUniformLocation(a,"uLow"),uHigh:l.getUniformLocation(a,"uHigh")}},sendUniformData:function(l,a){var c=new i.Color(this.color).getSource(),g=parseFloat(this.distance),h=[0+c[0]/255-g,0+c[1]/255-g,0+c[2]/255-g,1],v=[c[0]/255+g,c[1]/255+g,c[2]/255+g,1];l.uniform4fv(a.uLow,h),l.uniform4fv(a.uHigh,v)},toObject:function(){return d(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.Image.filters,f=i.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var l in o)d[l]=f(d.ColorMatrix,{type:l,matrix:o[l],mainParameter:!1,colorsOnly:!0}),i.Image.filters[l].fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric,d=i.Image.filters,f=i.util.createClass;d.BlendColor=f(d.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(o){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[o]+`}
}`},retrieveShader:function(o){var l=this.type+"_"+this.mode,a;return o.programCache.hasOwnProperty(l)||(a=this.buildSource(this.mode),o.programCache[l]=this.createProgram(o.context,a)),o.programCache[l]},applyTo2d:function(o){var l=o.imageData,a=l.data,c=a.length,g,h,v,_,y,b,w,C=1-this.alpha;w=new i.Color(this.color).getSource(),g=w[0]*this.alpha,h=w[1]*this.alpha,v=w[2]*this.alpha;for(var S=0;S<c;S+=4)switch(_=a[S],y=a[S+1],b=a[S+2],this.mode){case"multiply":a[S]=_*g/255,a[S+1]=y*h/255,a[S+2]=b*v/255;break;case"screen":a[S]=255-(255-_)*(255-g)/255,a[S+1]=255-(255-y)*(255-h)/255,a[S+2]=255-(255-b)*(255-v)/255;break;case"add":a[S]=_+g,a[S+1]=y+h,a[S+2]=b+v;break;case"diff":case"difference":a[S]=Math.abs(_-g),a[S+1]=Math.abs(y-h),a[S+2]=Math.abs(b-v);break;case"subtract":a[S]=_-g,a[S+1]=y-h,a[S+2]=b-v;break;case"darken":a[S]=Math.min(_,g),a[S+1]=Math.min(y,h),a[S+2]=Math.min(b,v);break;case"lighten":a[S]=Math.max(_,g),a[S+1]=Math.max(y,h),a[S+2]=Math.max(b,v);break;case"overlay":a[S]=g<128?2*_*g/255:255-2*(255-_)*(255-g)/255,a[S+1]=h<128?2*y*h/255:255-2*(255-y)*(255-h)/255,a[S+2]=v<128?2*b*v/255:255-2*(255-b)*(255-v)/255;break;case"exclusion":a[S]=g+_-2*g*_/255,a[S+1]=h+y-2*h*y/255,a[S+2]=v+b-2*v*b/255;break;case"tint":a[S]=g+_*C,a[S+1]=h+y*C,a[S+2]=v+b*C}},getUniformLocations:function(o,l){return{uColor:o.getUniformLocation(l,"uColor")}},sendUniformData:function(o,l){var a=new i.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,o.uniform4fv(l.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric,d=i.Image.filters,f=i.util.createClass;d.BlendImage=f(d.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(o){var l=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return o.programCache.hasOwnProperty(l)||(o.programCache[l]=this.createProgram(o.context,a)),o.programCache[l]},applyToWebGL:function(o){var l=o.context,a=this.createTexture(o.filterBackend,this.image);this.bindAdditionalTexture(l,a,l.TEXTURE1),this.callSuper("applyToWebGL",o),this.unbindAdditionalTexture(l,l.TEXTURE1)},createTexture:function(o,l){return o.getCachedTexture(l.cacheKey,l._element)},calculateMatrix:function(){var o=this.image,l=o._element.width,a=o._element.height;return[1/o.scaleX,0,0,0,1/o.scaleY,0,-o.left/l,-o.top/a,1]},applyTo2d:function(o){var l=o.imageData,a=o.filterBackend.resources,c=l.data,g=c.length,h=l.width,v=l.height,_,y,b,w,C,S,O,j,Y,G,U=this.image,ee;a.blendImage||(a.blendImage=i.util.createCanvasElement()),Y=a.blendImage,G=Y.getContext("2d"),Y.width!==h||Y.height!==v?(Y.width=h,Y.height=v):G.clearRect(0,0,h,v),G.setTransform(U.scaleX,0,0,U.scaleY,U.left,U.top),G.drawImage(U._element,0,0,h,v),ee=G.getImageData(0,0,h,v).data;for(var oe=0;oe<g;oe+=4)switch(C=c[oe],S=c[oe+1],O=c[oe+2],j=c[oe+3],_=ee[oe],y=ee[oe+1],b=ee[oe+2],w=ee[oe+3],this.mode){case"multiply":c[oe]=C*_/255,c[oe+1]=S*y/255,c[oe+2]=O*b/255,c[oe+3]=j*w/255;break;case"mask":c[oe+3]=w;break}},getUniformLocations:function(o,l){return{uTransformMatrix:o.getUniformLocation(l,"uTransformMatrix"),uImage:o.getUniformLocation(l,"uImage")}},sendUniformData:function(o,l){var a=this.calculateMatrix();o.uniform1i(l.uImage,1),o.uniformMatrix3fv(l.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(o,l){i.Image.fromObject(o.image,function(a){var c=i.util.object.clone(o);c.image=a,l(new i.Image.filters.BlendImage(c))})}}(e),function(u){var i=u.fabric||(u.fabric={}),d=Math.pow,f=Math.floor,o=Math.sqrt,l=Math.abs,a=Math.round,c=Math.sin,g=Math.ceil,h=i.Image.filters,v=i.util.createClass;h.Resize=v(h.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(_,y){return{uDelta:_.getUniformLocation(y,"uDelta"),uTaps:_.getUniformLocation(y,"uTaps")}},sendUniformData:function(_,y){_.uniform2fv(y.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),_.uniform1fv(y.uTaps,this.taps)},retrieveShader:function(_){var y=this.getFilterWindow(),b=this.type+"_"+y;if(!_.programCache.hasOwnProperty(b)){var w=this.generateShader(y);_.programCache[b]=this.createProgram(_.context,w)}return _.programCache[b]},getFilterWindow:function(){var _=this.tempScale;return Math.ceil(this.lanczosLobes/_)},getTaps:function(){for(var _=this.lanczosCreate(this.lanczosLobes),y=this.tempScale,b=this.getFilterWindow(),w=new Array(b),C=1;C<=b;C++)w[C-1]=_(C*y);return w},generateShader:function(w){for(var y=new Array(w),b=this.fragmentSourceTOP,w,C=1;C<=w;C++)y[C-1]=C+".0 * uDelta";return b+="uniform float uTaps["+w+`];
`,b+=`void main() {
`,b+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,b+=`  float sum = 1.0;
`,y.forEach(function(S,O){b+="  color += texture2D(uTexture, vTexCoord + "+S+") * uTaps["+O+`];
`,b+="  color += texture2D(uTexture, vTexCoord - "+S+") * uTaps["+O+`];
`,b+="  sum += 2.0 * uTaps["+O+`];
`}),b+=`  gl_FragColor = color / sum;
`,b+="}",b},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(_){_.webgl?(_.passes++,this.width=_.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=_.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),_.destinationWidth=this.dW,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceWidth=_.destinationWidth,this.height=_.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),_.destinationHeight=this.dH,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceHeight=_.destinationHeight):this.applyTo2d(_)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(_){return function(y){if(y>=_||y<=-_)return 0;if(y<11920929e-14&&y>-11920929e-14)return 1;y*=Math.PI;var b=y/_;return c(y)/y*c(b)/b}},applyTo2d:function(_){var y=_.imageData,b=this.scaleX,w=this.scaleY;this.rcpScaleX=1/b,this.rcpScaleY=1/w;var C=y.width,S=y.height,O=a(C*b),j=a(S*w),Y;this.resizeType==="sliceHack"?Y=this.sliceByTwo(_,C,S,O,j):this.resizeType==="hermite"?Y=this.hermiteFastResize(_,C,S,O,j):this.resizeType==="bilinear"?Y=this.bilinearFiltering(_,C,S,O,j):this.resizeType==="lanczos"&&(Y=this.lanczosResize(_,C,S,O,j)),_.imageData=Y},sliceByTwo:function(_,y,b,w,C){var S=_.imageData,O=.5,j=!1,Y=!1,G=y*O,U=b*O,ee=i.filterBackend.resources,oe,le,ce=0,X=0,J=y,x=0;for(ee.sliceByTwo||(ee.sliceByTwo=document.createElement("canvas")),oe=ee.sliceByTwo,(oe.width<y*1.5||oe.height<b)&&(oe.width=y*1.5,oe.height=b),le=oe.getContext("2d"),le.clearRect(0,0,y*1.5,b),le.putImageData(S,0,0),w=f(w),C=f(C);!j||!Y;)y=G,b=U,w<f(G*O)?G=f(G*O):(G=w,j=!0),C<f(U*O)?U=f(U*O):(U=C,Y=!0),le.drawImage(oe,ce,X,y,b,J,x,G,U),ce=J,X=x,x+=U;return le.getImageData(ce,X,w,C)},lanczosResize:function(_,y,b,w,C){function S(R){var I,Z,M,E,H,A,L,$,K,ie,k;for(x.x=(R+.5)*U,D.x=f(x.x),I=0;I<C;I++){for(x.y=(I+.5)*ee,D.y=f(x.y),H=0,A=0,L=0,$=0,K=0,Z=D.x-ce;Z<=D.x+ce;Z++)if(!(Z<0||Z>=y)){ie=f(1e3*l(Z-x.x)),J[ie]||(J[ie]={});for(var T=D.y-X;T<=D.y+X;T++)T<0||T>=b||(k=f(1e3*l(T-x.y)),J[ie][k]||(J[ie][k]=G(o(d(ie*oe,2)+d(k*le,2))/1e3)),M=J[ie][k],M>0&&(E=(T*y+Z)*4,H+=M,A+=M*O[E],L+=M*O[E+1],$+=M*O[E+2],K+=M*O[E+3]))}E=(I*w+R)*4,Y[E]=A/H,Y[E+1]=L/H,Y[E+2]=$/H,Y[E+3]=K/H}return++R<w?S(R):j}var O=_.imageData.data,j=_.ctx.createImageData(w,C),Y=j.data,G=this.lanczosCreate(this.lanczosLobes),U=this.rcpScaleX,ee=this.rcpScaleY,oe=2/this.rcpScaleX,le=2/this.rcpScaleY,ce=g(U*this.lanczosLobes/2),X=g(ee*this.lanczosLobes/2),J={},x={},D={};return S(0)},bilinearFiltering:function(_,y,b,w,C){var S,O,j,Y,G,U,ee,oe,le,ce,X,J,x=0,D,R=this.rcpScaleX,I=this.rcpScaleY,Z=4*(y-1),M=_.imageData,E=M.data,H=_.ctx.createImageData(w,C),A=H.data;for(ee=0;ee<C;ee++)for(oe=0;oe<w;oe++)for(G=f(R*oe),U=f(I*ee),le=R*oe-G,ce=I*ee-U,D=4*(U*y+G),X=0;X<4;X++)S=E[D+X],O=E[D+4+X],j=E[D+Z+X],Y=E[D+Z+4+X],J=S*(1-le)*(1-ce)+O*le*(1-ce)+j*ce*(1-le)+Y*le*ce,A[x++]=J;return H},hermiteFastResize:function(_,y,b,w,C){for(var S=this.rcpScaleX,O=this.rcpScaleY,j=g(S/2),Y=g(O/2),G=_.imageData,U=G.data,ee=_.ctx.createImageData(w,C),oe=ee.data,le=0;le<C;le++)for(var ce=0;ce<w;ce++){for(var X=(ce+le*w)*4,J=0,x=0,D=0,R=0,I=0,Z=0,M=0,E=(le+.5)*O,H=f(le*O);H<(le+1)*O;H++)for(var A=l(E-(H+.5))/Y,L=(ce+.5)*S,$=A*A,K=f(ce*S);K<(ce+1)*S;K++){var ie=l(L-(K+.5))/j,k=o($+ie*ie);k>1&&k<-1||(J=2*k*k*k-3*k*k+1,J>0&&(ie=4*(K+H*y),M+=J*U[ie+3],D+=J,U[ie+3]<255&&(J=J*U[ie+3]/250),R+=J*U[ie],I+=J*U[ie+1],Z+=J*U[ie+2],x+=J))}oe[X]=R/x,oe[X+1]=I/x,oe[X+2]=Z/x,oe[X+3]=M/D}return ee},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.Image.filters,f=i.util.createClass;d.Contrast=f(d.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(o){if(this.contrast!==0){var l=o.imageData,a,g,c=l.data,g=c.length,h=Math.floor(this.contrast*255),v=259*(h+255)/(255*(259-h));for(a=0;a<g;a+=4)c[a]=v*(c[a]-128)+128,c[a+1]=v*(c[a+1]-128)+128,c[a+2]=v*(c[a+2]-128)+128}},getUniformLocations:function(o,l){return{uContrast:o.getUniformLocation(l,"uContrast")}},sendUniformData:function(o,l){o.uniform1f(l.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.Image.filters,f=i.util.createClass;d.Saturation=f(d.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(o){if(this.saturation!==0){var l=o.imageData,a=l.data,c=a.length,g=-this.saturation,h,v;for(h=0;h<c;h+=4)v=Math.max(a[h],a[h+1],a[h+2]),a[h]+=v!==a[h]?(v-a[h])*g:0,a[h+1]+=v!==a[h+1]?(v-a[h+1])*g:0,a[h+2]+=v!==a[h+2]?(v-a[h+2])*g:0}},getUniformLocations:function(o,l){return{uSaturation:o.getUniformLocation(l,"uSaturation")}},sendUniformData:function(o,l){o.uniform1f(l.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.Image.filters,f=i.util.createClass;d.Vibrance=f(d.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(o){if(this.vibrance!==0){var l=o.imageData,a=l.data,c=a.length,g=-this.vibrance,h,v,_,y;for(h=0;h<c;h+=4)v=Math.max(a[h],a[h+1],a[h+2]),_=(a[h]+a[h+1]+a[h+2])/3,y=Math.abs(v-_)*2/255*g,a[h]+=v!==a[h]?(v-a[h])*y:0,a[h+1]+=v!==a[h+1]?(v-a[h+1])*y:0,a[h+2]+=v!==a[h+2]?(v-a[h+2])*y:0}},getUniformLocations:function(o,l){return{uVibrance:o.getUniformLocation(l,"uVibrance")}},sendUniformData:function(o,l){o.uniform1f(l.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.Image.filters,f=i.util.createClass;d.Blur=f(d.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(o){o.webgl?(this.aspectRatio=o.sourceWidth/o.sourceHeight,o.passes++,this._setupFrameBuffer(o),this.horizontal=!0,this.applyToWebGL(o),this._swapTextures(o),this._setupFrameBuffer(o),this.horizontal=!1,this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},applyTo2d:function(o){o.imageData=this.simpleBlur(o)},simpleBlur:function(o){var l=o.filterBackend.resources,a,c,g=o.imageData.width,h=o.imageData.height;l.blurLayer1||(l.blurLayer1=i.util.createCanvasElement(),l.blurLayer2=i.util.createCanvasElement()),a=l.blurLayer1,c=l.blurLayer2,(a.width!==g||a.height!==h)&&(c.width=a.width=g,c.height=a.height=h);var v=a.getContext("2d"),_=c.getContext("2d"),y=15,b,w,C,S,O=this.blur*.06*.5;for(v.putImageData(o.imageData,0,0),_.clearRect(0,0,g,h),S=-y;S<=y;S++)b=(Math.random()-.5)/4,w=S/y,C=O*w*g+b,_.globalAlpha=1-Math.abs(w),_.drawImage(a,C,b),v.drawImage(c,0,0),_.globalAlpha=1,_.clearRect(0,0,c.width,c.height);for(S=-y;S<=y;S++)b=(Math.random()-.5)/4,w=S/y,C=O*w*h+b,_.globalAlpha=1-Math.abs(w),_.drawImage(a,b,C),v.drawImage(c,0,0),_.globalAlpha=1,_.clearRect(0,0,c.width,c.height);o.ctx.drawImage(a,0,0);var j=o.ctx.getImageData(0,0,a.width,a.height);return v.globalAlpha=1,v.clearRect(0,0,a.width,a.height),j},getUniformLocations:function(o,l){return{delta:o.getUniformLocation(l,"uDelta")}},sendUniformData:function(o,l){var a=this.chooseRightDelta();o.uniform2fv(l.delta,a)},chooseRightDelta:function(){var o=1,l=[0,0],a;return this.horizontal?this.aspectRatio>1&&(o=1/this.aspectRatio):this.aspectRatio<1&&(o=this.aspectRatio),a=o*this.blur*.12,this.horizontal?l[0]=a:l[1]=a,l}}),d.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.Image.filters,f=i.util.createClass;d.Gamma=f(d.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(o){this.gamma=[1,1,1],d.BaseFilter.prototype.initialize.call(this,o)},applyTo2d:function(o){var l=o.imageData,a=l.data,c=this.gamma,g=a.length,h=1/c[0],v=1/c[1],_=1/c[2],y;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),y=0,g=256;y<g;y++)this.rVals[y]=Math.pow(y/255,h)*255,this.gVals[y]=Math.pow(y/255,v)*255,this.bVals[y]=Math.pow(y/255,_)*255;for(y=0,g=a.length;y<g;y+=4)a[y]=this.rVals[a[y]],a[y+1]=this.gVals[a[y+1]],a[y+2]=this.bVals[a[y+2]]},getUniformLocations:function(o,l){return{uGamma:o.getUniformLocation(l,"uGamma")}},sendUniformData:function(o,l){o.uniform3fv(l.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.Image.filters,f=i.util.createClass;d.Composed=f(d.BaseFilter,{type:"Composed",subFilters:[],initialize:function(o){this.callSuper("initialize",o),this.subFilters=this.subFilters.slice(0)},applyTo:function(o){o.passes+=this.subFilters.length-1,this.subFilters.forEach(function(l){l.applyTo(o)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(o){return o.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(o){return!o.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(o,l){var a=o.subFilters||[],c=a.map(function(h){return new i.Image.filters[h.type](h)}),g=new i.Image.filters.Composed({subFilters:c});return l&&l(g),g}}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.Image.filters,f=i.util.createClass;d.HueRotation=f(d.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var o=this.rotation*Math.PI,l=i.util.cos(o),a=i.util.sin(o),c=1/3,g=Math.sqrt(c)*a,h=1-l;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=l+h/3,this.matrix[1]=c*h-g,this.matrix[2]=c*h+g,this.matrix[5]=c*h+g,this.matrix[6]=l+c*h,this.matrix[7]=c*h-g,this.matrix[10]=c*h-g,this.matrix[11]=c*h+g,this.matrix[12]=l+c*h},isNeutralState:function(o){return this.calculateMatrix(),d.BaseFilter.prototype.isNeutralState.call(this,o)},applyTo:function(o){this.calculateMatrix(),d.BaseFilter.prototype.applyTo.call(this,o)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),d=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(f),cacheProperties:i.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(o,l){this.styles=l?l.styles||{}:{},this.text=o,this.__skipDimension=!0,this.callSuper("initialize",l),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var o=this.path;o&&(o.segmentsInfo=i.util.getPathSegmentsInfo(o.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var o=this._splitTextIntoLines(this.text);return this.textLines=o.lines,this._textLines=o.graphemeLines,this._unwrappedTextLines=o._unwrappedLines,this._text=o.graphemeText,o},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var o,l,a,c,g,h,v,_=0,y=this._textLines.length;_<y;_++)if(!(this.textAlign!=="justify"&&(_===y-1||this.isEndOfWrapping(_)))&&(c=0,g=this._textLines[_],l=this.getLineWidth(_),l<this.width&&(v=this.textLines[_].match(this._reSpacesAndTabs)))){a=v.length,o=(this.width-l)/a;for(var b=0,w=g.length;b<=w;b++)h=this.__charBounds[_][b],this._reSpaceAndTab.test(g[b])?(h.width+=o,h.kernedWidth+=o,h.left+=c,c+=o):h.left+=c}},isEndOfWrapping:function(o){return o===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var o=this.callSuper("_getCacheCanvasDimensions"),l=this.fontSize;return o.width+=l*o.zoomX,o.height+=l*o.zoomY,o},_render:function(o){var l=this.path;l&&!l.isNotVisible()&&l._render(o),this._setTextStyles(o),this._renderTextLinesBackground(o),this._renderTextDecoration(o,"underline"),this._renderText(o),this._renderTextDecoration(o,"overline"),this._renderTextDecoration(o,"linethrough")},_renderText:function(o){this.paintFirst==="stroke"?(this._renderTextStroke(o),this._renderTextFill(o)):(this._renderTextFill(o),this._renderTextStroke(o))},_setTextStyles:function(o,l,a){if(o.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":o.textBaseline="middle";break;case"ascender":o.textBaseline="top";break;case"descender":o.textBaseline="bottom";break}o.font=this._getFontDeclaration(l,a)},calcTextWidth:function(){for(var o=this.getLineWidth(0),l=1,a=this._textLines.length;l<a;l++){var c=this.getLineWidth(l);c>o&&(o=c)}return o},_renderTextLine:function(o,l,a,c,g,h){this._renderChars(o,l,a,c,g,h)},_renderTextLinesBackground:function(o){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var l,a,c=o.fillStyle,g,h,v=this._getLeftOffset(),_=this._getTopOffset(),y=0,b=0,w,C,S=this.path,O,j=0,Y=this._textLines.length;j<Y;j++){if(l=this.getHeightOfLine(j),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",j)){_+=l;continue}g=this._textLines[j],a=this._getLineLeftOffset(j),b=0,y=0,h=this.getValueOfPropertyAt(j,0,"textBackgroundColor");for(var G=0,U=g.length;G<U;G++)w=this.__charBounds[j][G],C=this.getValueOfPropertyAt(j,G,"textBackgroundColor"),S?(o.save(),o.translate(w.renderLeft,w.renderTop),o.rotate(w.angle),o.fillStyle=C,C&&o.fillRect(-w.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),w.width,l/this.lineHeight),o.restore()):C!==h?(O=v+a+y,this.direction==="rtl"&&(O=this.width-O-b),o.fillStyle=h,h&&o.fillRect(O,_,b,l/this.lineHeight),y=w.left,b=w.width,h=C):b+=w.kernedWidth;C&&!S&&(O=v+a+y,this.direction==="rtl"&&(O=this.width-O-b),o.fillStyle=C,o.fillRect(O,_,b,l/this.lineHeight)),_+=l}o.fillStyle=c,this._removeShadow(o)}},getFontCache:function(o){var l=o.fontFamily.toLowerCase();i.charWidthsCache[l]||(i.charWidthsCache[l]={});var a=i.charWidthsCache[l],c=o.fontStyle.toLowerCase()+"_"+(o.fontWeight+"").toLowerCase();return a[c]||(a[c]={}),a[c]},_measureChar:function(o,l,a,c){var g=this.getFontCache(l),h=this._getFontDeclaration(l),v=this._getFontDeclaration(c),_=a+o,y=h===v,b,w,C,S=l.fontSize/this.CACHE_FONT_SIZE,O;if(a&&g[a]!==void 0&&(C=g[a]),g[o]!==void 0&&(O=b=g[o]),y&&g[_]!==void 0&&(w=g[_],O=w-C),b===void 0||C===void 0||w===void 0){var j=this.getMeasuringContext();this._setTextStyles(j,l,!0)}return b===void 0&&(O=b=j.measureText(o).width,g[o]=b),C===void 0&&y&&a&&(C=j.measureText(a).width,g[a]=C),y&&w===void 0&&(w=j.measureText(_).width,g[_]=w,O=w-C),{width:b*S,kernedWidth:O*S}},getHeightOfChar:function(o,l){return this.getValueOfPropertyAt(o,l,"fontSize")},measureLine:function(o){var l=this._measureLine(o);return this.charSpacing!==0&&(l.width-=this._getWidthOfCharSpacing()),l.width<0&&(l.width=0),l},_measureLine:function(o){var l=0,a,c,g=this._textLines[o],h,v,_=0,y=new Array(g.length),b=0,w,C,S=this.path,O=this.pathSide==="right";for(this.__charBounds[o]=y,a=0;a<g.length;a++)c=g[a],v=this._getGraphemeBox(c,o,a,h),y[a]=v,l+=v.kernedWidth,h=c;if(y[a]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},S){switch(C=S.segmentsInfo[S.segmentsInfo.length-1].length,w=i.util.getPointOnPath(S.path,0,S.segmentsInfo),w.x+=S.pathOffset.x,w.y+=S.pathOffset.y,this.textAlign){case"left":b=O?C-l:0;break;case"center":b=(C-l)/2;break;case"right":b=O?0:C-l;break}for(b+=this.pathStartOffset*(O?-1:1),a=O?g.length-1:0;O?a>=0:a<g.length;O?a--:a++)v=y[a],b>C?b%=C:b<0&&(b+=C),this._setGraphemeOnPath(b,v,w),b+=v.kernedWidth}return{width:l,numOfSpaces:_}},_setGraphemeOnPath:function(o,l,a){var c=o+l.kernedWidth/2,g=this.path,h=i.util.getPointOnPath(g.path,c,g.segmentsInfo);l.renderLeft=h.x-a.x,l.renderTop=h.y-a.y,l.angle=h.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(o,l,a,c,g){var h=this.getCompleteStyleDeclaration(l,a),v=c?this.getCompleteStyleDeclaration(l,a-1):{},_=this._measureChar(o,h,c,v),y=_.kernedWidth,b=_.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),b+=w,y+=w);var C={width:b,left:0,height:h.fontSize,kernedWidth:y,deltaY:h.deltaY};if(a>0&&!g){var S=this.__charBounds[l][a-1];C.left=S.left+S.width+_.kernedWidth-_.width}return C},getHeightOfLine:function(o){if(this.__lineHeights[o])return this.__lineHeights[o];for(var l=this._textLines[o],a=this.getHeightOfChar(o,0),c=1,g=l.length;c<g;c++)a=Math.max(this.getHeightOfChar(o,c),a);return this.__lineHeights[o]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var o,l=0,a=0,c=this._textLines.length;a<c;a++)o=this.getHeightOfLine(a),l+=a===c-1?o/this.lineHeight:o;return l},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(o,l){o.save();for(var a=0,c=this._getLeftOffset(),g=this._getTopOffset(),h=0,v=this._textLines.length;h<v;h++){var _=this.getHeightOfLine(h),y=_/this.lineHeight,b=this._getLineLeftOffset(h);this._renderTextLine(l,o,this._textLines[h],c+b,g+a+y,h),a+=_}o.restore()},_renderTextFill:function(o){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(o,"fillText")},_renderTextStroke:function(o){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this._setLineDash(o,this.strokeDashArray),o.beginPath(),this._renderTextCommon(o,"strokeText"),o.closePath(),o.restore())},_renderChars:function(o,l,a,c,g,h){var v=this.getHeightOfLine(h),_=this.textAlign.indexOf("justify")!==-1,y,b,w="",C,S=0,O,j=this.path,Y=!_&&this.charSpacing===0&&this.isEmptyStyles(h)&&!j,G=this.direction==="ltr",U=this.direction==="ltr"?1:-1,ee,oe=l.canvas.getAttribute("dir");if(l.save(),oe!==this.direction&&(l.canvas.setAttribute("dir",G?"ltr":"rtl"),l.direction=G?"ltr":"rtl",l.textAlign=G?"left":"right"),g-=v*this._fontSizeFraction/this.lineHeight,Y){this._renderChar(o,l,h,0,a.join(""),c,g,v),l.restore();return}for(var le=0,ce=a.length-1;le<=ce;le++)O=le===ce||this.charSpacing||j,w+=a[le],C=this.__charBounds[h][le],S===0?(c+=U*(C.kernedWidth-C.width),S+=C.width):S+=C.kernedWidth,_&&!O&&this._reSpaceAndTab.test(a[le])&&(O=!0),O||(y=y||this.getCompleteStyleDeclaration(h,le),b=this.getCompleteStyleDeclaration(h,le+1),O=i.util.hasStyleChanged(y,b,!1)),O&&(j?(l.save(),l.translate(C.renderLeft,C.renderTop),l.rotate(C.angle),this._renderChar(o,l,h,le,w,-S/2,0,v),l.restore()):(ee=c,this._renderChar(o,l,h,le,w,ee,g,v)),w="",y=b,c+=U*S,S=0);l.restore()},_applyPatternGradientTransformText:function(o){var l=i.util.createCanvasElement(),a,c=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return l.width=c,l.height=g,a=l.getContext("2d"),a.beginPath(),a.moveTo(0,0),a.lineTo(c,0),a.lineTo(c,g),a.lineTo(0,g),a.closePath(),a.translate(c/2,g/2),a.fillStyle=o.toLive(a),this._applyPatternGradientTransform(a,o),a.fill(),a.createPattern(l,"no-repeat")},handleFiller:function(o,l,a){var c,g;return a.toLive?a.gradientUnits==="percentage"||a.gradientTransform||a.patternTransform?(c=-this.width/2,g=-this.height/2,o.translate(c,g),o[l]=this._applyPatternGradientTransformText(a),{offsetX:c,offsetY:g}):(o[l]=a.toLive(o,this),this._applyPatternGradientTransform(o,a)):(o[l]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(o,l){return o.lineWidth=l.strokeWidth,o.lineCap=this.strokeLineCap,o.lineDashOffset=this.strokeDashOffset,o.lineJoin=this.strokeLineJoin,o.miterLimit=this.strokeMiterLimit,this.handleFiller(o,"strokeStyle",l.stroke)},_setFillStyles:function(o,l){return this.handleFiller(o,"fillStyle",l.fill)},_renderChar:function(o,l,a,c,g,h,v){var _=this._getStyleDeclaration(a,c),y=this.getCompleteStyleDeclaration(a,c),b=o==="fillText"&&y.fill,w=o==="strokeText"&&y.stroke&&y.strokeWidth,C,S;!w&&!b||(l.save(),b&&(C=this._setFillStyles(l,y)),w&&(S=this._setStrokeStyles(l,y)),l.font=this._getFontDeclaration(y),_&&_.textBackgroundColor&&this._removeShadow(l),_&&_.deltaY&&(v+=_.deltaY),b&&l.fillText(g,h-C.offsetX,v-C.offsetY),w&&l.strokeText(g,h-S.offsetX,v-S.offsetY),l.restore())},setSuperscript:function(o,l){return this._setScript(o,l,this.superscript)},setSubscript:function(o,l){return this._setScript(o,l,this.subscript)},_setScript:function(o,l,a){var c=this.get2DCursorLocation(o,!0),g=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"fontSize"),h=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"deltaY"),v={fontSize:g*a.size,deltaY:h+g*a.baseline};return this.setSelectionStyles(v,o,l),this},_getLineLeftOffset:function(o){var l=this.getLineWidth(o),a=this.width-l,c=this.textAlign,g=this.direction,v,h=0,v=this.isEndOfWrapping(o);return c==="justify"||c==="justify-center"&&!v||c==="justify-right"&&!v||c==="justify-left"&&!v?0:(c==="center"&&(h=a/2),c==="right"&&(h=a),c==="justify-center"&&(h=a/2),c==="justify-right"&&(h=a),g==="rtl"&&(h-=a),h)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var o=this._forceClearCache;return o||(o=this.hasStateChanged("_dimensionAffectingProps")),o&&(this.dirty=!0,this._forceClearCache=!1),o},getLineWidth:function(o){if(this.__lineWidths[o]!==void 0)return this.__lineWidths[o];var l=this.measureLine(o),a=l.width;return this.__lineWidths[o]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(o,l,a){var c=this._getStyleDeclaration(o,l);return c&&typeof c[a]<"u"?c[a]:this[a]},_renderTextDecoration:function(o,l){if(!(!this[l]&&!this.styleHas(l))){for(var a,c,g,h,v,_,y,b,w=this._getLeftOffset(),C=this._getTopOffset(),S,O,j,Y,G,U,ee,oe,le=this.path,ce=this._getWidthOfCharSpacing(),X=this.offsets[l],J=0,x=this._textLines.length;J<x;J++){if(a=this.getHeightOfLine(J),!this[l]&&!this.styleHas(l,J)){C+=a;continue}y=this._textLines[J],U=a/this.lineHeight,h=this._getLineLeftOffset(J),O=0,j=0,b=this.getValueOfPropertyAt(J,0,l),oe=this.getValueOfPropertyAt(J,0,"fill"),S=C+U*(1-this._fontSizeFraction),c=this.getHeightOfChar(J,0),v=this.getValueOfPropertyAt(J,0,"deltaY");for(var D=0,R=y.length;D<R;D++)if(Y=this.__charBounds[J][D],G=this.getValueOfPropertyAt(J,D,l),ee=this.getValueOfPropertyAt(J,D,"fill"),g=this.getHeightOfChar(J,D),_=this.getValueOfPropertyAt(J,D,"deltaY"),le&&G&&ee)o.save(),o.fillStyle=oe,o.translate(Y.renderLeft,Y.renderTop),o.rotate(Y.angle),o.fillRect(-Y.kernedWidth/2,X*g+_,Y.kernedWidth,this.fontSize/15),o.restore();else if((G!==b||ee!==oe||g!==c||_!==v)&&j>0){var I=w+h+O;this.direction==="rtl"&&(I=this.width-I-j),b&&oe&&(o.fillStyle=oe,o.fillRect(I,S+X*c+v,j,this.fontSize/15)),O=Y.left,j=Y.width,b=G,oe=ee,c=g,v=_}else j+=Y.kernedWidth;var I=w+h+O;this.direction==="rtl"&&(I=this.width-I-j),o.fillStyle=ee,G&&ee&&o.fillRect(I,S+X*c+v,j-ce,this.fontSize/15),C+=a}this._removeShadow(o)}},_getFontDeclaration:function(o,l){var a=o||this,c=this.fontFamily,g=i.Text.genericFonts.indexOf(c.toLowerCase())>-1,h=c===void 0||c.indexOf("'")>-1||c.indexOf(",")>-1||c.indexOf('"')>-1||g?a.fontFamily:'"'+a.fontFamily+'"';return[i.isLikelyNode?a.fontWeight:a.fontStyle,i.isLikelyNode?a.fontStyle:a.fontWeight,l?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",h].join(" ")},render:function(o){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",o)))},_splitTextIntoLines:function(o){for(var l=o.split(this._reNewline),a=new Array(l.length),c=[`
`],g=[],h=0;h<l.length;h++)a[h]=i.util.string.graphemeSplit(l[h]),g=g.concat(a[h],c);return g.pop(),{_unwrappedLines:a,lines:l,graphemeText:g,graphemeLines:a}},toObject:function(o){var l=f.concat(o),a=this.callSuper("toObject",l);return a.styles=i.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(o,l){this.callSuper("set",o,l);var a=!1,c=!1;if(typeof o=="object")for(var g in o)g==="path"&&this.setPathInfo(),a=a||this._dimensionAffectingProps.indexOf(g)!==-1,c=c||g==="path";else a=this._dimensionAffectingProps.indexOf(o)!==-1,c=o==="path";return c&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(o,l,a){if(!o)return l(null);var c=i.parseAttributes(o,i.Text.ATTRIBUTE_NAMES),g=c.textAnchor||"left";if(a=i.util.object.extend(a?d(a):{},c),a.top=a.top||0,a.left=a.left||0,c.textDecoration){var h=c.textDecoration;h.indexOf("underline")!==-1&&(a.underline=!0),h.indexOf("overline")!==-1&&(a.overline=!0),h.indexOf("line-through")!==-1&&(a.linethrough=!0),delete a.textDecoration}"dx"in c&&(a.left+=c.dx),"dy"in c&&(a.top+=c.dy),"fontSize"in a||(a.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in o?v=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(v=o.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var _=a.strokeWidth;a.strokeWidth=0;var y=new i.Text(v,a),b=y.getScaledHeight()/y.height,w=(y.height+y.strokeWidth)*y.lineHeight-y.height,C=w*b,S=y.getScaledHeight()+C,O=0;g==="center"&&(O=y.getScaledWidth()/2),g==="right"&&(O=y.getScaledWidth()),y.set({left:y.left-O,top:y.top-(S-y.fontSize*(.07+y._fontSizeFraction))/y.lineHeight,strokeWidth:typeof _<"u"?_:1}),l(y)},i.Text.fromObject=function(o,l){var a=d(o),c=o.path;return delete a.path,i.Object._fromObject("Text",a,function(g){g.styles=i.util.stylesFromArray(o.styles,o.text),c?i.Object._fromObject("Path",c,function(h){g.set("path",h),l(g)},"path"):l(g)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(u){if(!this.styles||typeof u<"u"&&!this.styles[u])return!0;var i=typeof u>"u"?this.styles:{line:this.styles[u]};for(var d in i)for(var f in i[d])for(var o in i[d][f])return!1;return!0},styleHas:function(u,i){if(!this.styles||!u||u===""||typeof i<"u"&&!this.styles[i])return!1;var d=typeof i>"u"?this.styles:{0:this.styles[i]};for(var f in d)for(var o in d[f])if(typeof d[f][o][u]<"u")return!0;return!1},cleanStyle:function(u){if(!this.styles||!u||u==="")return!1;var i=this.styles,d=0,f,o,l=!0,a=0,c;for(var g in i){f=0;for(var h in i[g]){var c=i[g][h],v=c.hasOwnProperty(u);d++,v?(o?c[u]!==o&&(l=!1):o=c[u],c[u]===this[u]&&delete c[u]):l=!1,Object.keys(c).length!==0?f++:delete i[g][h]}f===0&&delete i[g]}for(var _=0;_<this._textLines.length;_++)a+=this._textLines[_].length;l&&d===a&&(this[u]=o,this.removeStyle(u))},removeStyle:function(u){if(!(!this.styles||!u||u==="")){var i=this.styles,d,f,o;for(f in i){d=i[f];for(o in d)delete d[o][u],Object.keys(d[o]).length===0&&delete d[o];Object.keys(d).length===0&&delete i[f]}}},_extendStyles:function(u,i){var d=this.get2DCursorLocation(u);this._getLineStyle(d.lineIndex)||this._setLineStyle(d.lineIndex),this._getStyleDeclaration(d.lineIndex,d.charIndex)||this._setStyleDeclaration(d.lineIndex,d.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(d.lineIndex,d.charIndex),i)},get2DCursorLocation:function(u,i){typeof u>"u"&&(u=this.selectionStart);for(var d=i?this._unwrappedTextLines:this._textLines,f=d.length,o=0;o<f;o++){if(u<=d[o].length)return{lineIndex:o,charIndex:u};u-=d[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:d[o-1].length<u?d[o-1].length:u}},getSelectionStyles:function(u,i,d){typeof u>"u"&&(u=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||u);for(var f=[],o=u;o<i;o++)f.push(this.getStyleAtPosition(o,d));return f},getStyleAtPosition:function(u,i){var d=this.get2DCursorLocation(u),f=i?this.getCompleteStyleDeclaration(d.lineIndex,d.charIndex):this._getStyleDeclaration(d.lineIndex,d.charIndex);return f||{}},setSelectionStyles:function(u,i,d){typeof i>"u"&&(i=this.selectionStart||0),typeof d>"u"&&(d=this.selectionEnd||i);for(var f=i;f<d;f++)this._extendStyles(f,u);return this._forceClearCache=!0,this},_getStyleDeclaration:function(u,i){var d=this.styles&&this.styles[u];return d?d[i]:null},getCompleteStyleDeclaration:function(u,i){for(var d=this._getStyleDeclaration(u,i)||{},f={},o,l=0;l<this._styleProperties.length;l++)o=this._styleProperties[l],f[o]=typeof d[o]>"u"?this[o]:d[o];return f},_setStyleDeclaration:function(u,i,d){this.styles[u][i]=d},_deleteStyleDeclaration:function(u,i){delete this.styles[u][i]},_getLineStyle:function(u){return!!this.styles[u]},_setLineStyle:function(u){this.styles[u]={}},_deleteLineStyle:function(u){delete this.styles[u]}})}(),function(){function u(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,d){this.callSuper("initialize",i,d),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,d){this[i]!==d&&(this._fireSelectionChanged(),this[i]=d),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var d=this.canvas.contextTop,f=this.canvas.viewportTransform;d.save(),d.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(d),this._clearTextArea(d),i||d.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),d=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,d):this.renderSelection(i,d),d.restore()}},_clearTextArea:function(i){var d=this.width+4,f=this.height+4;i.clearRect(-d/2,-f/2,d,f)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var d=this._getLeftOffset(),f=this._getTopOffset(),o=this._getCursorBoundariesOffsets(i);return{left:d,top:f,leftOffset:o.left,topOffset:o.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var d,f,o,l=0,a=0,c,g=this.get2DCursorLocation(i);o=g.charIndex,f=g.lineIndex;for(var h=0;h<f;h++)l+=this.getHeightOfLine(h);d=this._getLineLeftOffset(f);var v=this.__charBounds[f][o];return v&&(a=v.left),this.charSpacing!==0&&o===this._textLines[f].length&&(a-=this._getWidthOfCharSpacing()),c={top:l,left:d+(a>0?a:0)},this.direction==="rtl"&&(c.left*=-1),this.cursorOffsetCache=c,this.cursorOffsetCache},renderCursor:function(i,d){var f=this.get2DCursorLocation(),o=f.lineIndex,l=f.charIndex>0?f.charIndex-1:0,a=this.getValueOfPropertyAt(o,l,"fontSize"),c=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/c,h=i.topOffset,v=this.getValueOfPropertyAt(o,l,"deltaY");h+=(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,d),d.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,l,"fill"),d.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,d.fillRect(i.left+i.leftOffset-g/2,h+i.top+v,g,a)},renderSelection:function(i,d){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,o=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,l=this.textAlign.indexOf("justify")!==-1,a=this.get2DCursorLocation(f),c=this.get2DCursorLocation(o),g=a.lineIndex,h=c.lineIndex,v=a.charIndex<0?0:a.charIndex,_=c.charIndex<0?0:c.charIndex,y=g;y<=h;y++){var b=this._getLineLeftOffset(y)||0,w=this.getHeightOfLine(y),C=0,S=0,O=0;if(y===g&&(S=this.__charBounds[g][v].left),y>=g&&y<h)O=l&&!this.isEndOfWrapping(y)?this.width:this.getLineWidth(y)||5;else if(y===h)if(_===0)O=this.__charBounds[h][_].left;else{var j=this._getWidthOfCharSpacing();O=this.__charBounds[h][_-1].left+this.__charBounds[h][_-1].width-j}C=w,(this.lineHeight<1||y===h&&this.lineHeight>1)&&(w/=this.lineHeight);var Y=i.left+b+S,G=O-S,U=w,ee=0;this.inCompositionMode?(d.fillStyle=this.compositionColor||"black",U=1,ee=w):d.fillStyle=this.selectionColor,this.direction==="rtl"&&(Y=this.width-Y-G),d.fillRect(Y,i.top+i.topOffset+ee,G,U),i.topOffset+=C}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),d=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:d}}}),t.IText.fromObject=function(i,d){var f=t.util.stylesFromArray(i.styles,i.text),o=Object.assign({},i,{styles:f});if(u(o),o.styles)for(var l in o.styles)for(var a in o.styles[l])u(o.styles[l][a]);t.Object._fromObject("IText",o,d,"text")}}(),function(){var u=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var d=i.canvas;d&&(d._hasITextHandlers||(d._hasITextHandlers=!0,i._initCanvasHandlers(d)),d._iTextInstances=d._iTextInstances||[],d._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var d=i.canvas;d&&(d._iTextInstances=d._iTextInstances||[],t.util.removeFromArray(d._iTextInstances,i),d._iTextInstances.length===0&&(d._hasITextHandlers=!1,i._removeCanvasHandlers(d)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(d){d.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,d,f,o){var l;return l={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",d,{duration:f,onComplete:function(){l.isAborted||i[o]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return l.isAborted}}),l},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var d=this,f=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){d._tick()},f)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,d=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&d&&d.clearContext(d.contextTop||d.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var d=0,f=i-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)d++,f--;for(;/\S/.test(this._text[f])&&f>-1;)d++,f--;return i-d},findWordBoundaryRight:function(i){var d=0,f=i;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)d++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)d++,f++;return i+d},findLineBoundaryLeft:function(i){for(var d=0,f=i-1;!/\n/.test(this._text[f])&&f>-1;)d++,f--;return i-d},findLineBoundaryRight:function(i){for(var d=0,f=i;!/\n/.test(this._text[f])&&f<this._text.length;)d++,f++;return i+d},searchWordBoundary:function(i,d){for(var f=this._text,o=this._reSpace.test(f[i])?i-1:i,l=f[o],a=t.reNonWord;!a.test(l)&&o>0&&o<f.length;)o+=d,l=f[o];return a.test(l)&&(o+=d===1?0:1),o},selectWord:function(i){i=i||this.selectionStart;var d=this.searchWordBoundary(i,-1),f=this.searchWordBoundary(i,1);this.selectionStart=d,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var d=this.findLineBoundaryLeft(i),f=this.findLineBoundaryRight(i);return this.selectionStart=d,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(d){d.selected=!1,d.isEditing&&d.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var d=this.getSelectionStartFromPointer(i.e),f=this.selectionStart,o=this.selectionEnd;(d!==this.__selectionStartOnMouseDown||f===o)&&(f===d||o===d)||(d>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=d):(this.selectionStart=d,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==o)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,d,f){var o=f.slice(0,i),l=t.util.string.graphemeSplit(o).length;if(i===d)return{selectionStart:l,selectionEnd:l};var a=f.slice(i,d),c=t.util.string.graphemeSplit(a).length;return{selectionStart:l,selectionEnd:l+c}},fromGraphemeToStringSelection:function(i,d,f){var o=f.slice(0,i),l=o.join("").length;if(i===d)return{selectionStart:l,selectionEnd:l};var a=f.slice(i,d),c=a.join("").length;return{selectionStart:l,selectionEnd:l+c}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,d=this._getCursorBoundaries(i),f=this.get2DCursorLocation(i),o=f.lineIndex,l=f.charIndex,a=this.getValueOfPropertyAt(o,l,"fontSize")*this.lineHeight,c=d.leftOffset,g=this.calcTransformMatrix(),h={x:d.left+c,y:d.top+d.topOffset+a},v=this.canvas.getRetinaScaling(),_=this.canvas.upperCanvasEl,y=_.width/v,b=_.height/v,w=y-a,C=b-a,S=_.clientWidth/y,O=_.clientHeight/b;return h=t.util.transformPoint(h,g),h=t.util.transformPoint(h,this.canvas.viewportTransform),h.x*=S,h.y*=O,h.x<0&&(h.x=0),h.x>w&&(h.x=w),h.y<0&&(h.y=0),h.y>C&&(h.y=C),h.x+=this.canvas._offset.left,h.y+=this.canvas._offset.top,{left:h.x+"px",top:h.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,d=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,d&&(d.blur&&d.blur(),d.parentNode&&d.parentNode.removeChild(d)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,d){var f=this.get2DCursorLocation(i,!0),o=this.get2DCursorLocation(d,!0),l=f.lineIndex,a=f.charIndex,c=o.lineIndex,g=o.charIndex,h,v;if(l!==c){if(this.styles[l])for(h=a;h<this._unwrappedTextLines[l].length;h++)delete this.styles[l][h];if(this.styles[c])for(h=g;h<this._unwrappedTextLines[c].length;h++)v=this.styles[c][h],v&&(this.styles[l]||(this.styles[l]={}),this.styles[l][a+h-g]=v);for(h=l+1;h<=c;h++)delete this.styles[h];this.shiftLineStyles(c,l-c)}else if(this.styles[l]){v=this.styles[l];var _=g-a,y,b;for(h=a;h<g;h++)delete v[h];for(b in this.styles[l])y=parseInt(b,10),y>=g&&(v[y-_]=v[b],delete v[b])}},shiftLineStyles:function(i,d){var f=u(this.styles);for(var o in this.styles){var l=parseInt(o,10);l>i&&(this.styles[l+d]=f[l],f[l-d]||delete this.styles[l])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,d,f,o){var l,a={},c=!1,g=this._unwrappedTextLines[i].length===d;f||(f=1),this.shiftLineStyles(i,f),this.styles[i]&&(l=this.styles[i][d===0?d:d-1]);for(var h in this.styles[i]){var v=parseInt(h,10);v>=d&&(c=!0,a[v-d]=this.styles[i][h],g&&d===0||delete this.styles[i][h])}var _=!1;for(c&&!g&&(this.styles[i+f]=a,_=!0),_&&f--;f>0;)o&&o[f-1]?this.styles[i+f]={0:u(o[f-1])}:l?this.styles[i+f]={0:u(l)}:delete this.styles[i+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(i,d,f,o){this.styles||(this.styles={});var l=this.styles[i],a=l?u(l):{};f||(f=1);for(var c in a){var g=parseInt(c,10);g>=d&&(l[g+f]=a[g],a[g-f]||delete l[g])}if(this._forceClearCache=!0,o){for(;f--;)Object.keys(o[f]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][d+f]=u(o[f]));return}if(l)for(var h=l[d?d-1:1];h&&f--;)this.styles[i][d+f]=u(h)},insertNewStyleBlock:function(i,d,f){for(var o=this.get2DCursorLocation(d,!0),l=[0],a=0,c=0;c<i.length;c++)i[c]===`
`?(a++,l[a]=0):l[a]++;l[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,l[0],f),f=f&&f.slice(l[0]+1)),a&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+l[0],a);for(var c=1;c<a;c++)l[c]>0?this.insertCharStyleObject(o.lineIndex+c,0,l[c],f):f&&this.styles[o.lineIndex+c]&&f[0]&&(this.styles[o.lineIndex+c][0]=f[0]),f=f&&f.slice(l[c]+1);l[c]>0&&this.insertCharStyleObject(o.lineIndex+c,0,l[c],f)},setSelectionStartEndWithShift:function(i,d,f){f<=i?(d===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=f):f>i&&f<d?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(d===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=d),this.selectionEnd=f)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(u){if(this.canvas){this.__newClickTime=+new Date;var i=u.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",u),this._stopEvent(u.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(u){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===u.x&&this.__lastPointer.y===u.y},_stopEvent:function(u){u.preventDefault&&u.preventDefault(),u.stopPropagation&&u.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(u){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(u.e))},tripleClickHandler:function(u){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(u.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(u.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(u){if(this.__isMousedown=!1,!(!this.editable||this.group||u.transform&&u.transform.actionPerformed||u.e.button&&u.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(u.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(u){var i=this.getSelectionStartFromPointer(u),d=this.selectionStart,f=this.selectionEnd;u.shiftKey?this.setSelectionStartEndWithShift(d,f,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(u){for(var i=this.getLocalPointer(u),d=0,f=0,o=0,l=0,a=0,c,g,h=0,v=this._textLines.length;h<v&&o<=i.y;h++)o+=this.getHeightOfLine(h)*this.scaleY,a=h,h>0&&(l+=this._textLines[h-1].length+this.missingNewlineOffset(h-1));c=this._getLineLeftOffset(a),f=c*this.scaleX,g=this._textLines[a],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+f);for(var _=0,y=g.length;_<y&&(d=f,f+=this.__charBounds[a][_].kernedWidth*this.scaleX,f<=i.x);_++)l++;return this._getNewSelectionStartFromOffset(i,d,f,l,y)},_getNewSelectionStartFromOffset:function(u,i,d,f,o){var l=u.x-i,a=d-u.x,c=a>l||a<0?0:1,g=f+c;return this.flipX&&(g=o-g),g>this._text.length&&(g=this._text.length),g}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var u=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+u.top+"; left: "+u.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+u.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(u){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(u.keyCode in i)this[i[u.keyCode]](u);else if(u.keyCode in this.ctrlKeysMapDown&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapDown[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),u.keyCode>=33&&u.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(u){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(u.keyCode in this.ctrlKeysMapUp&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapUp[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(u){var i=this.fromPaste;if(this.fromPaste=!1,u&&u.stopPropagation(),!!this.isEditing){var d=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,o=d.length,l,a,c=o-f,g=this.selectionStart,h=this.selectionEnd,v=g!==h,_,y,b;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),C=g>w.selectionStart;v?(l=this._text.slice(g,h),c+=h-g):o<f&&(C?l=this._text.slice(h+c,h):l=this._text.slice(g,g-c)),a=d.slice(w.selectionEnd-c,w.selectionEnd),l&&l.length&&(a.length&&(_=this.getSelectionStyles(g,g+1,!1),_=a.map(function(){return _[0]})),v?(y=g,b=h):C?(y=h-l.length,b=h):(y=h,b=h+l.length),this.removeStyleFromTo(y,b)),a.length&&(i&&a.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(_=t.copiedTextStyle),this.insertNewStyleBlock(a,g,_)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(u){this.compositionStart=u.target.selectionStart,this.compositionEnd=u.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(u){return u&&u.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(u,i){var d=this._getLineLeftOffset(u),f;return i>0&&(f=this.__charBounds[u][i-1],d+=f.left+f.width),d},getDownCursorOffset:function(u,i){var d=this._getSelectionForOffset(u,i),f=this.get2DCursorLocation(d),o=f.lineIndex;if(o===this._textLines.length-1||u.metaKey||u.keyCode===34)return this._text.length-d;var l=f.charIndex,a=this._getWidthBeforeCursor(o,l),c=this._getIndexOnLine(o+1,a),g=this._textLines[o].slice(l);return g.length+c+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(u,i){return u.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(u,i){var d=this._getSelectionForOffset(u,i),f=this.get2DCursorLocation(d),o=f.lineIndex;if(o===0||u.metaKey||u.keyCode===33)return-d;var l=f.charIndex,a=this._getWidthBeforeCursor(o,l),c=this._getIndexOnLine(o-1,a),g=this._textLines[o].slice(0,l),h=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+c-g.length+(1-h)},_getIndexOnLine:function(u,i){for(var d=this._textLines[u],f=this._getLineLeftOffset(u),o=f,l=0,a,c,g=0,h=d.length;g<h;g++)if(a=this.__charBounds[u][g].width,o+=a,o>i){c=!0;var v=o-a,_=o,y=Math.abs(v-i),b=Math.abs(_-i);l=b<y?g:g-1;break}return c||(l=d.length-1),l},moveCursorDown:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",u)},moveCursorUp:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",u)},_moveCursorUpOrDown:function(u,i){var d="get"+u+"CursorOffset",f=this[d](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(u){var i=this._selectionDirection==="left"?this.selectionStart+u:this.selectionEnd+u;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),u!==0},moveCursorWithoutShift:function(u){return u<0?(this.selectionStart+=u,this.selectionEnd=this.selectionStart):(this.selectionEnd+=u,this.selectionStart=this.selectionEnd),u!==0},moveCursorLeft:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",u)},_move:function(u,i,d){var f;if(u.altKey)f=this["findWordBoundary"+d](this[i]);else if(u.metaKey||u.keyCode===35||u.keyCode===36)f=this["findLineBoundary"+d](this[i]);else return this[i]+=d==="Left"?-1:1,!0;if(typeof f<"u"&&this[i]!==f)return this[i]=f,!0},_moveLeft:function(u,i){return this._move(u,i,"Left")},_moveRight:function(u,i){return this._move(u,i,"Right")},moveCursorLeftWithoutShift:function(u){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(u,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(u){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(u,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(u,"selectionStart")},moveCursorRight:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",u)},_moveCursorLeftOrRight:function(u,i){var d="moveCursor"+u+"With";this._currentCursorOpacity=1,i.shiftKey?d+="Shift":d+="outShift",this[d](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(u){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(u,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(u,"selectionEnd")},moveCursorRightWithoutShift:function(u){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(u,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(u,i){typeof i>"u"&&(i=u+1),this.removeStyleFromTo(u,i),this._text.splice(u,i-u),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(u,i,d,f){typeof f>"u"&&(f=d),f>d&&this.removeStyleFromTo(d,f);var o=t.util.string.graphemeSplit(u);this.insertNewStyleBlock(o,d,i),this._text=[].concat(this._text.slice(0,d),o,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var u=t.util.toFixed,i=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var d=this._getSVGLeftTopOffsets(),f=this._getSVGTextAndBg(d.textTop,d.textLeft);return this._wrapSVGTextAndBg(f)},toSVG:function(d){return this._createBaseSVGMarkup(this._toSVG(),{reviver:d,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(d){var f=!0,o=this.getSvgTextDecoration(this);return[d.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(f),'"',this.addPaintOrder()," >",d.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(d,f){var o=[],l=[],a=d,c;this._setSVGBg(l);for(var g=0,h=this._textLines.length;g<h;g++)c=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(l,g,f+c,a),this._setSVGTextLineText(o,g,f+c,a),a+=this.getHeightOfLine(g);return{textSpans:o,textBgRects:l}},_createTextCharSpan:function(d,f,o,l){var a=d!==d.trim()||d.match(i),c=this.getSvgSpanStyles(f,a),g=c?'style="'+c+'"':"",h=f.deltaY,v="",_=t.Object.NUM_FRACTION_DIGITS;return h&&(v=' dy="'+u(h,_)+'" '),['<tspan x="',u(o,_),'" y="',u(l,_),'" ',v,g,">",t.util.string.escapeXml(d),"</tspan>"].join("")},_setSVGTextLineText:function(d,f,o,l){var a=this.getHeightOfLine(f),c=this.textAlign.indexOf("justify")!==-1,g,h,v="",_,y,b=0,w=this._textLines[f],C;l+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var S=0,O=w.length-1;S<=O;S++)C=S===O||this.charSpacing,v+=w[S],_=this.__charBounds[f][S],b===0?(o+=_.kernedWidth-_.width,b+=_.width):b+=_.kernedWidth,c&&!C&&this._reSpaceAndTab.test(w[S])&&(C=!0),C||(g=g||this.getCompleteStyleDeclaration(f,S),h=this.getCompleteStyleDeclaration(f,S+1),C=t.util.hasStyleChanged(g,h,!0)),C&&(y=this._getStyleDeclaration(f,S)||{},d.push(this._createTextCharSpan(v,y,o,l)),v="",g=h,o+=b,b=0)},_pushTextBgRect:function(d,f,o,l,a,c){var g=t.Object.NUM_FRACTION_DIGITS;d.push("		<rect ",this._getFillAttributes(f),' x="',u(o,g),'" y="',u(l,g),'" width="',u(a,g),'" height="',u(c,g),`"></rect>
`)},_setSVGTextLineBg:function(d,f,o,l){for(var a=this._textLines[f],c=this.getHeightOfLine(f)/this.lineHeight,g=0,h=0,v,_,y=this.getValueOfPropertyAt(f,0,"textBackgroundColor"),b=0,w=a.length;b<w;b++)v=this.__charBounds[f][b],_=this.getValueOfPropertyAt(f,b,"textBackgroundColor"),_!==y?(y&&this._pushTextBgRect(d,y,o+h,l,g,c),h=v.left,g=v.width,y=_):g+=v.kernedWidth;_&&this._pushTextBgRect(d,_,o+h,l,g,c)},_getFillAttributes:function(d){var f=d&&typeof d=="string"?new t.Color(d):"";return!f||!f.getSource()||f.getAlpha()===1?'fill="'+d+'"':'opacity="'+f.getAlpha()+'" fill="'+f.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(d){for(var f=0,o=0,l=0;l<d;l++)f+=this.getHeightOfLine(l);return o=this.getHeightOfLine(l),{lineTop:f,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(d){var f=t.Object.prototype.getSvgStyles.call(this,d);return f+" white-space: pre;"}})}(),function(u){var i=u.fabric||(u.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(d){for(var f=0,o=0,l=0,a={},c=0;c<d.graphemeLines.length;c++)d.graphemeText[l]===`
`&&c>0?(o=0,l++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(d.graphemeText[l])&&c>0&&(o++,l++),a[c]={line:f,offset:o},l+=d.graphemeLines[c].length,o+=d.graphemeLines[c].length;return a},styleHas:function(d,f){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[f];o&&(f=o.line)}return i.Text.prototype.styleHas.call(this,d,f)},isEmptyStyles:function(d){if(!this.styles)return!0;var f=0,o=d+1,l,a,c=!1,g=this._styleMap[d],h=this._styleMap[d+1];g&&(d=g.line,f=g.offset),h&&(o=h.line,c=o===d,l=h.offset),a=typeof d>"u"?this.styles:{line:this.styles[d]};for(var v in a)for(var _ in a[v])if(_>=f&&(!c||_<l))for(var y in a[v][_])return!1;return!0},_getStyleDeclaration:function(d,f){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[d];if(!o)return null;d=o.line,f=o.offset+f}return this.callSuper("_getStyleDeclaration",d,f)},_setStyleDeclaration:function(d,f,o){var l=this._styleMap[d];d=l.line,f=l.offset+f,this.styles[d][f]=o},_deleteStyleDeclaration:function(d,f){var o=this._styleMap[d];d=o.line,f=o.offset+f,delete this.styles[d][f]},_getLineStyle:function(d){var f=this._styleMap[d];return!!this.styles[f.line]},_setLineStyle:function(d){var f=this._styleMap[d];this.styles[f.line]={}},_wrapText:function(d,f){var o=[],l;for(this.isWrapping=!0,l=0;l<d.length;l++)o=o.concat(this._wrapLine(d[l],l,f));return this.isWrapping=!1,o},_measureWord:function(d,f,o){var l=0,a,c=!0;o=o||0;for(var g=0,h=d.length;g<h;g++){var v=this._getGraphemeBox(d[g],f,g+o,a,c);l+=v.kernedWidth,a=d[g]}return l},_wrapLine:function(d,f,o,Y){var a=0,c=this.splitByGrapheme,g=[],h=[],v=c?i.util.string.graphemeSplit(d):d.split(this._wordJoiners),_="",y=0,b=c?"":" ",w=0,C=0,S=0,O=!0,j=this._getWidthOfCharSpacing(),Y=Y||0;v.length===0&&v.push([]),o-=Y;for(var G=0;G<v.length;G++)_=c?v[G]:i.util.string.graphemeSplit(v[G]),w=this._measureWord(_,f,y),y+=_.length,a+=C+w-j,a>o&&!O?(g.push(h),h=[],a=w,O=!0):a+=j,!O&&!c&&h.push(b),h=h.concat(_),C=c?0:this._measureWord([b],f,y),y++,O=!1,w>S&&(S=w);return G&&g.push(h),S+Y>this.dynamicMinWidth&&(this.dynamicMinWidth=S-j+Y),g},isEndOfWrapping:function(d){return!this._styleMap[d+1]||this._styleMap[d+1].line!==this._styleMap[d].line},missingNewlineOffset:function(d){return this.splitByGrapheme?this.isEndOfWrapping(d)?1:0:1},_splitTextIntoLines:function(d){for(var f=i.Text.prototype._splitTextIntoLines.call(this,d),o=this._wrapText(f.lines,this.width),l=new Array(o.length),a=0;a<o.length;a++)l[a]=o[a].join("");return f.lines=l,f.graphemeLines=o,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var d={};for(var f in this._styleMap)this._textLines[f]&&(d[this._styleMap[f].line]=1);for(var f in this.styles)d[f]||delete this.styles[f]},toObject:function(d){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(d))}}),i.Textbox.fromObject=function(d,f){var o=i.util.stylesFromArray(d.styles,d.text),l=Object.assign({},d,{styles:o});return i.Object._fromObject("Textbox",l,f,"text")}}(e),function(){var u=t.controlsUtils,i=u.scaleSkewCursorStyleHandler,d=u.scaleCursorStyleHandler,f=u.scalingEqually,o=u.scalingYOrSkewingX,l=u.scalingXOrSkewingY,a=u.scaleOrSkewActionName,c=t.Object.prototype.controls;if(c.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),c.mr=new t.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),c.mb=new t.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),c.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),c.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:d,actionHandler:f}),c.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:d,actionHandler:f}),c.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:d,actionHandler:f}),c.br=new t.Control({x:.5,y:.5,cursorStyleHandler:d,actionHandler:f}),c.mtr=new t.Control({x:0,y:-.5,actionHandler:u.rotationWithSnapping,cursorStyleHandler:u.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var g=t.Textbox.prototype.controls={};g.mtr=c.mtr,g.tr=c.tr,g.br=c.br,g.tl=c.tl,g.bl=c.bl,g.mt=c.mt,g.mb=c.mb,g.mr=new t.Control({x:.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),g.ml=new t.Control({x:-.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(we);class LA{constructor(t){$e(this,"canvas");$e(this,"workspaceEl");$e(this,"workspace");$e(this,"option");$e(this,"handler");this.handler=t,this.canvas=t.canvas;const n=t.container;if(!n)throw new Error("element #workspace is missing, plz check!");this.workspaceEl=n,this.workspace=null,this.option=t.workareaOption,this.initialize()}initialize(){this._initBackground(),this._initWorkspace(),this._initResizeObserve()}_initBackground(){this.canvas.backgroundImage="",this.canvas.setWidth(this.workspaceEl.offsetWidth).setHeight(this.workspaceEl.offsetHeight)}_initWorkspace(){const t=new we.fabric.Rect(this.option);this.canvas.add(t),this.canvas.renderAll(),this.workspace=t,this.auto()}setCenterFromObject(t){const{canvas:n}=this,r=t.getCenterPoint(),s=n.viewportTransform;if(n.width===void 0||n.height===void 0||!s)return;const p=20;s[4]=n.width/2-r.x*s[0]+p,s[5]=n.height/2-r.y*s[3],n.setViewportTransform(s),n.renderAll()}_initResizeObserve(){new ResizeObserver(()=>{this.auto()}).observe(this.workspaceEl)}setSize(t,n){this._initBackground(),this.option.width=t,this.option.height=n,this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("width",t),this.workspace.set("height",n),this.auto()}setZoomAuto(t,n){const{workspaceEl:r}=this,s=r.offsetWidth,p=r.offsetHeight;this.canvas.setWidth(s),this.canvas.setHeight(p);const m=this.canvas.getCenter();this.canvas.setViewportTransform(we.fabric.iMatrix.concat()),this.canvas.zoomToPoint(new we.fabric.Point(m.left,m.top),t),this.workspace&&(this.setCenterFromObject(this.workspace),this.workspace.clone(u=>{this.canvas.clipPath=u,this.canvas.requestRenderAll()}),n&&n(this.workspace.left,this.workspace.top))}_getScale(){const t=this.workspaceEl.offsetWidth,n=this.workspaceEl.offsetHeight;return t/n<this.option.width/this.option.height?t/this.option.width:n/this.option.height}big(){let t=this.canvas.getZoom();t+=.05;const n=this.canvas.getCenter();this.canvas.zoomToPoint(new we.fabric.Point(n.left,n.top),t>5?5:t)}small(){let t=this.canvas.getZoom();t-=.05;const n=this.canvas.getCenter();this.canvas.zoomToPoint(new we.fabric.Point(n.left,n.top),t<0?.01:t)}auto(){const t=this._getScale();this.setZoomAuto(t-.08)}one(){this.setZoomAuto(.8-.08),this.canvas.requestRenderAll()}}class BA{constructor(t){$e(this,"handler");this.handler=t}async Image(t){const n=this.handler.utils.getFileType(t.src)||this.handler.utils.getBase64ImageType(t.src);if(n=="svg")return t.type="svg",this.addSvg(t);if(n&&["jpg","png","jpeg"].includes(n))return this.addImage(t)}addSvg(t){return new Promise(n=>{const{src:r,path:s,...p}=t,{width:m}=this.handler.workareaHandler.option;if(r)r&&we.fabric.loadSVGFromURL(r,(u,i)=>{const d=we.fabric.util.groupSVGElements(u,i);if(d.width>m){const f=m/d.width;d.set({scaleX:f,scaleY:f})}d.set({crossOrigin:"Anonymous",src:r,...p}),n(d)});else{const u=new we.fabric.Path(s);n(u)}})}async addImage(t){const{src:n,...r}=t,{objectOption:s}=this.handler,p=new Image;p.crossOrigin="Anonymous";const m=new we.fabric.Image(p,{clipPath:null,...JSON.parse(JSON.stringify(s)),...r});return m.crossOrigin="Anonymous",await this.handler.setImage(m,n),m}}class jA{constructor(t){$e(this,"handler");$e(this,"find",t=>this.findById(t.id));$e(this,"findById",t=>{let n=null;return this.handler.canvas.getObjects().some(s=>s.id===t?(n=s,!0):!1)?n:null});this.handler=t}getFileType(t){if(t){if(t=t.split("?")[0],t){const n=t.lastIndexOf(".");return t.substring(n+1)}return""}}getBase64ImageType(t){if(!t)return;const n=/data:image\/([a-zA-Z]*);/,r=t.match(n);return r&&r[1]?r[1]:"png"}uuid(){return vc()}}class NA{constructor(t){$e(this,"handler");this.handler=t}}const $A="/vue-design-editor/assets/middlecontrol-a163c615.svg",zA="/vue-design-editor/assets/middlecontrolhoz-9b7cc4b3.svg",HA="/vue-design-editor/assets/edgecontrol-dbe38ac6.svg",UA="/vue-design-editor/assets/rotateicon-ec6729f2.svg";we.fabric.Object.NUM_FRACTION_DIGITS=4;function Xs(e,t,n,r,s,p,m){m!==void 0&&(e.save(),e.translate(t,n),e.rotate(we.fabric.util.degreesToRadians(m)),e.drawImage(r,-s/2,-p/2,s,p),e.restore())}function WA(){const e=document.createElement("img");e.src=$A;const t=document.createElement("img");t.src=zA;function n(s,p,m,u,i){Xs(s,p,m,e,20,25,i.angle)}function r(s,p,m,u,i){Xs(s,p,m,t,25,20,i.angle)}we.fabric.Object.prototype.controls.ml=new we.fabric.Control({x:-.5,y:0,offsetX:-1,cursorStyleHandler:we.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingXOrSkewingY,getActionName:we.fabric.controlsUtils.scaleOrSkewActionName,render:n}),we.fabric.Object.prototype.controls.mr=new we.fabric.Control({x:.5,y:0,offsetX:1,cursorStyleHandler:we.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingXOrSkewingY,getActionName:we.fabric.controlsUtils.scaleOrSkewActionName,render:n}),we.fabric.Object.prototype.controls.mb=new we.fabric.Control({x:0,y:.5,offsetY:1,cursorStyleHandler:we.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingYOrSkewingX,getActionName:we.fabric.controlsUtils.scaleOrSkewActionName,render:r}),we.fabric.Object.prototype.controls.mt=new we.fabric.Control({x:0,y:-.5,offsetY:-1,cursorStyleHandler:we.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingYOrSkewingX,getActionName:we.fabric.controlsUtils.scaleOrSkewActionName,render:r})}function YA(){const e=document.createElement("img");e.src=HA;function t(n,r,s,p,m){Xs(n,r,s,e,25,25,m.angle)}we.fabric.Object.prototype.controls.tl=new we.fabric.Control({x:-.5,y:-.5,cursorStyleHandler:we.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingEqually,render:t}),we.fabric.Object.prototype.controls.bl=new we.fabric.Control({x:-.5,y:.5,cursorStyleHandler:we.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingEqually,render:t}),we.fabric.Object.prototype.controls.tr=new we.fabric.Control({x:.5,y:-.5,cursorStyleHandler:we.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingEqually,render:t}),we.fabric.Object.prototype.controls.br=new we.fabric.Control({x:.5,y:.5,cursorStyleHandler:we.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingEqually,render:t})}function XA(){const e=document.createElement("img");e.src=UA;function t(n,r,s,p,m){Xs(n,r,s,e,40,40,m.angle)}we.fabric.Object.prototype.controls.mtr=new we.fabric.Control({x:0,y:.5,cursorStyleHandler:we.fabric.controlsUtils.rotationStyleHandler,actionHandler:we.fabric.controlsUtils.rotationWithSnapping,offsetY:30,actionName:"rotate",render:t})}class VA{constructor(){this.init()}init(){YA(),WA(),XA(),we.fabric.Object.prototype.set({transparentCorners:!1,borderColor:"#51B9F9",cornerColor:"#FFF",borderScaleFactor:2.5,cornerStyle:"circle",cornerStrokeColor:"#0E98FC",borderOpacityWhenMoving:1})}destroy(){console.log("pluginDestroy")}}const GA={debounce(e,t){let n=null;return function(){n!==null&&clearTimeout(n),n=setTimeout(e,t)}},deepClone(e){let t;if(typeof e=="object")if(Array.isArray(e)){t=[];for(let n=0;n<e.length;n++)Object.prototype.hasOwnProperty.call(e,n)&&t.push(this.deepClone(e[n]))}else if(e===null)t=null;else if(e.constructor===RegExp)t=e;else{t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=this.deepClone(e[n]))}else t=e;return t},isPromise(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}};class KA{constructor(t){$e(this,"workareaOption");$e(this,"workareaHandler");$e(this,"fabricObjects");$e(this,"utils");$e(this,"imageHandler");$e(this,"objectOption");$e(this,"control");$e(this,"canvas");$e(this,"onAdd");$e(this,"init");$e(this,"editable");$e(this,"container");$e(this,"initOption",t=>{this.setObjectOption(t.objectOption)});$e(this,"setObjectOption",t=>{this.objectOption=Object.assign({},this.objectOption,t)});$e(this,"select",(t,n=!1)=>{let r=t;n&&(r=this.utils.find(t)),r&&(this.canvas.discardActiveObject(),this.canvas.setActiveObject(r),this.canvas.requestRenderAll())});$e(this,"setImage",(t,n)=>new Promise(r=>{if(this.canvas.contextTop)if(n instanceof File){const s=new FileReader;s.onload=()=>{t.set("file",n),t.set("src",null),t.setSrc(s.result,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0})},s.readAsDataURL(n)}else t.set("file",null),t.set("src",n),t.setSrc(n,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0,crossOrigin:"Anonymous"})}));$e(this,"add",async t=>{const{editable:n}=this,r={editable:n,hasControls:n,hasBorders:n,selectable:n,lockMovementX:!n,lockMovementY:!n},s=Object.assign({},JSON.parse(JSON.stringify(this.objectOption)),t,r,{container:this.container});let p;t.type=="material"&&(t.type="Image");try{p=this.fabricObjects[t.type](s)}catch(m){console.error(m);return}if(GA.isPromise(p)){const m=await p;p=this.addContent(m)}else p&&(p=this.addContent(p));return p});this.workareaOption=t.workareaOption,this.canvas=t.canvas,this.container=t.container,this.editable=t.editable,this.onAdd=t.onAdd,this.init=t.init,this.workareaHandler=new LA(this),this.fabricObjects=new BA(this),this.utils=new jA(this),this.imageHandler=new NA(this),this.control=new VA,this.initialize(t)}async initialize(t){const{init:n}=this;this.initOption(t),n&&n()}addContent(t){const{onAdd:n}=this;return t&&(t.id||(t.id=this.utils.uuid()),this.canvas.add(t),n&&n(t)),this.canvas.renderAll(),t}}const jf=12,qA={props:{workareaOption:{type:Object,default:()=>({})},editable:{type:Boolean,default:!0},objectOption:{type:Object,default:()=>({})},onAdd:{type:Function},init:{type:Function}},setup(e){const t=fe(vc());let n;const r=fe(),s=fe();return Je(()=>{const{offsetWidth:p,offsetHeight:m}=r.value.parentElement.parentElement,u=Object.assign({height:m-jf,width:p-jf,fireRightClick:!0,stopContextMenu:!0,enableRetinaScaling:!0,controlsAboveOverlay:!0});n=new we.fabric.Canvas(`canvas_${t.value}`,u),n.renderAll(),s.value=new KA({id:t.value,canvas:n,container:r.value,...e}),n.selectionColor="rgba(196,235,255,0.3)",n.selectionBorderColor="#6ccfff",n.selectionLineWidth=1}),{id:t,parentCanvas:r,handler:s}}},JA=["id"],ZA=["id"];function QA(e,t,n,r,s,p){return re(),de("div",{style:{width:"100%",height:"100%"},ref:"parentCanvas",class:"parentCanvas",id:r.id},[te("canvas",{id:`canvas_${r.id}`},null,8,ZA)],8,JA)}const eM=ht(qA,[["render",QA]]),tM={trigger:"color",width:260,height:641,lockScalingX:!0,lockScalingY:!0,scaleX:1,scaleY:1,fill:"#fff",hasBorders:!1,hasControls:!1,selectable:!1,lockMovementX:!0,lockMovementY:!0,hoverCursor:"default",name:"",id:"workarea",isElement:!1};var nM=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const rM={name:"AtomSpinner",props:{animationDuration:{type:Number,default:1e3},size:{type:Number,default:60},color:{type:String,default:"#fff"}},computed:{spinnerStyle(){return{height:`${this.size}px`,width:`${this.size}px`}},circleStyle(){return{color:this.color,fontSize:`${this.size*.24}px`}},lineStyle(){return{animationDuration:`${this.animationDuration}ms`,borderLeftWidth:`${this.size/25}px`,borderTopWidth:`${this.size/25}px`,borderLeftColor:this.color}}}},iM={class:"spinner-inner"};function sM(e,t,n,r,s,p){return re(),de("div",{class:"atom-spinner",style:Xe(p.spinnerStyle)},[te("div",iM,[te("div",{class:"spinner-line",style:Xe(p.lineStyle)},null,4),te("div",{class:"spinner-line",style:Xe(p.lineStyle)},null,4),te("div",{class:"spinner-line",style:Xe(p.lineStyle)},null,4),te("div",{class:"spinner-circle",style:Xe(p.circleStyle)},"",4)])],4)}var oM=nM(rM,[["render",sM]]);const aM={__name:"editor",setup(e){const{dispatch:t,state:n,commit:r}=qr(),s=fe(),p=fe(),m=fe(),u=fe({filters:[]}),i=fe();qe("handler",p),qe("canvas",i);const d=ne(()=>n.loadOk);let f;const o=new Promise(h=>{f=h});Ae(d,async h=>{var v;h&&(await Xt(),m.value.$el.addEventListener("drop",l,!1),p.value=(v=s.value)==null?void 0:v.handler,i.value=p.value.canvas,f())}),Je(async()=>{t("getMaterial")});function l(h){if(h.dataTransfer.getData("item")){let v=JSON.parse(h.dataTransfer.getData("item"));const{layerX:_,layerY:y}=h,b=p.value.canvas.restorePointerVpt({x:_,y}),w={option:{name:v.templateName,type:v.type,data:v,src:v.url||v.src,left:b.x,top:b.y}};v.width&&v.height&&(w.option.width=v.width,w.option.height=v.height);let C=Object.assign({},w);a(C)}}function a(h){const v=vc(),_=Object.assign({},h.option,{id:v});p.value.add(_)}function c(h){r("setActivateItem",h),p.value.select(h)}async function g(){var h;await o,r("setWorkarea",(h=p.value)==null?void 0:h.workareaHandler.workspace)}return(h,v)=>(re(),ke(K_,null,{header:ve(()=>[pe(kA)]),module:ve(()=>[mt(pe(ty,{onModule:h.selectedModule},null,8,["onModule"]),[[Tt,d.value]])]),left:ve(()=>[pe(VO)]),workspace:ve(()=>[d.value?(re(),ke(fk,{key:0,ref_key:"workspace",ref:m},{canvas:ve(()=>[pe(eM,{workareaOption:F(tM),ref_key:"canvasRef",ref:s,objectOption:u.value,onAdd:c,init:g},null,8,["workareaOption","objectOption"])]),_:1},512)):(re(),ke(F(oM),{key:1,"animation-duration":1e3,size:60,color:"#2254f4",class:"spinner"}))]),propsPanel:ve(()=>[pe(CA)]),_:1}))}},lM=ht(aM,[["__scopeId","data-v-28e4ba62"]]),cM=[{path:"/",name:"home",component:lM}],uM=T_({history:z0(),routes:cM});function ag(e,t){return function(){return e.apply(t,arguments)}}const{toString:fM}=Object.prototype,{getPrototypeOf:mc}=Object,Eo=(e=>t=>{const n=fM.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_n=e=>(e=e.toLowerCase(),t=>Eo(t)===e),Po=e=>t=>typeof t===e,{isArray:Qr}=Array,zi=Po("undefined");function hM(e){return e!==null&&!zi(e)&&e.constructor!==null&&!zi(e.constructor)&&Yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lg=_n("ArrayBuffer");function dM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&lg(e.buffer),t}const pM=Po("string"),Yt=Po("function"),cg=Po("number"),ko=e=>e!==null&&typeof e=="object",gM=e=>e===!0||e===!1,Ts=e=>{if(Eo(e)!=="object")return!1;const t=mc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vM=_n("Date"),mM=_n("File"),_M=_n("Blob"),yM=_n("FileList"),bM=e=>ko(e)&&Yt(e.pipe),wM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Yt(e.append)&&((t=Eo(e))==="formdata"||t==="object"&&Yt(e.toString)&&e.toString()==="[object FormData]"))},CM=_n("URLSearchParams"),SM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qi(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Qr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const p=n?Object.getOwnPropertyNames(e):Object.keys(e),m=p.length;let u;for(r=0;r<m;r++)u=p[r],t.call(null,e[u],u,e)}}function ug(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const fg=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),hg=e=>!zi(e)&&e!==fg;function Qa(){const{caseless:e}=hg(this)&&this||{},t={},n=(r,s)=>{const p=e&&ug(t,s)||s;Ts(t[p])&&Ts(r)?t[p]=Qa(t[p],r):Ts(r)?t[p]=Qa({},r):Qr(r)?t[p]=r.slice():t[p]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&qi(arguments[r],n);return t}const xM=(e,t,n,{allOwnKeys:r}={})=>(qi(t,(s,p)=>{n&&Yt(s)?e[p]=ag(s,n):e[p]=s},{allOwnKeys:r}),e),TM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),OM=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},EM=(e,t,n,r)=>{let s,p,m;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),p=s.length;p-- >0;)m=s[p],(!r||r(m,e,t))&&!u[m]&&(t[m]=e[m],u[m]=!0);e=n!==!1&&mc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},PM=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},kM=e=>{if(!e)return null;if(Qr(e))return e;let t=e.length;if(!cg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},AM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&mc(Uint8Array)),MM=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const p=s.value;t.call(e,p[0],p[1])}},DM=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},RM=_n("HTMLFormElement"),IM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Nf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),FM=_n("RegExp"),dg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};qi(n,(s,p)=>{let m;(m=t(s,p,e))!==!1&&(r[p]=m||s)}),Object.defineProperties(e,r)},LM=e=>{dg(e,(t,n)=>{if(Yt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Yt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},BM=(e,t)=>{const n={},r=s=>{s.forEach(p=>{n[p]=!0})};return Qr(e)?r(e):r(String(e).split(t)),n},jM=()=>{},NM=(e,t)=>(e=+e,Number.isFinite(e)?e:t),da="abcdefghijklmnopqrstuvwxyz",$f="0123456789",pg={DIGIT:$f,ALPHA:da,ALPHA_DIGIT:da+da.toUpperCase()+$f},$M=(e=16,t=pg.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function zM(e){return!!(e&&Yt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const HM=e=>{const t=new Array(10),n=(r,s)=>{if(ko(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const p=Qr(r)?[]:{};return qi(r,(m,u)=>{const i=n(m,s+1);!zi(i)&&(p[u]=i)}),t[s]=void 0,p}}return r};return n(e,0)},UM=_n("AsyncFunction"),WM=e=>e&&(ko(e)||Yt(e))&&Yt(e.then)&&Yt(e.catch),ue={isArray:Qr,isArrayBuffer:lg,isBuffer:hM,isFormData:wM,isArrayBufferView:dM,isString:pM,isNumber:cg,isBoolean:gM,isObject:ko,isPlainObject:Ts,isUndefined:zi,isDate:vM,isFile:mM,isBlob:_M,isRegExp:FM,isFunction:Yt,isStream:bM,isURLSearchParams:CM,isTypedArray:AM,isFileList:yM,forEach:qi,merge:Qa,extend:xM,trim:SM,stripBOM:TM,inherits:OM,toFlatObject:EM,kindOf:Eo,kindOfTest:_n,endsWith:PM,toArray:kM,forEachEntry:MM,matchAll:DM,isHTMLForm:RM,hasOwnProperty:Nf,hasOwnProp:Nf,reduceDescriptors:dg,freezeMethods:LM,toObjectSet:BM,toCamelCase:IM,noop:jM,toFiniteNumber:NM,findKey:ug,global:fg,isContextDefined:hg,ALPHABET:pg,generateString:$M,isSpecCompliantForm:zM,toJSONObject:HM,isAsyncFn:UM,isThenable:WM};function Ie(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}ue.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const gg=Ie.prototype,vg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{vg[e]={value:e}});Object.defineProperties(Ie,vg);Object.defineProperty(gg,"isAxiosError",{value:!0});Ie.from=(e,t,n,r,s,p)=>{const m=Object.create(gg);return ue.toFlatObject(e,m,function(i){return i!==Error.prototype},u=>u!=="isAxiosError"),Ie.call(m,e.message,t,n,r,s),m.cause=e,m.name=e.name,p&&Object.assign(m,p),m};const YM=null;function el(e){return ue.isPlainObject(e)||ue.isArray(e)}function mg(e){return ue.endsWith(e,"[]")?e.slice(0,-2):e}function zf(e,t,n){return e?e.concat(t).map(function(s,p){return s=mg(s),!n&&p?"["+s+"]":s}).join(n?".":""):t}function XM(e){return ue.isArray(e)&&!e.some(el)}const VM=ue.toFlatObject(ue,{},null,function(t){return/^is[A-Z]/.test(t)});function Ao(e,t,n){if(!ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,h){return!ue.isUndefined(h[g])});const r=n.metaTokens,s=n.visitor||f,p=n.dots,m=n.indexes,i=(n.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(t);if(!ue.isFunction(s))throw new TypeError("visitor must be a function");function d(c){if(c===null)return"";if(ue.isDate(c))return c.toISOString();if(!i&&ue.isBlob(c))throw new Ie("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(c)||ue.isTypedArray(c)?i&&typeof Blob=="function"?new Blob([c]):Buffer.from(c):c}function f(c,g,h){let v=c;if(c&&!h&&typeof c=="object"){if(ue.endsWith(g,"{}"))g=r?g:g.slice(0,-2),c=JSON.stringify(c);else if(ue.isArray(c)&&XM(c)||(ue.isFileList(c)||ue.endsWith(g,"[]"))&&(v=ue.toArray(c)))return g=mg(g),v.forEach(function(y,b){!(ue.isUndefined(y)||y===null)&&t.append(m===!0?zf([g],b,p):m===null?g:g+"[]",d(y))}),!1}return el(c)?!0:(t.append(zf(h,g,p),d(c)),!1)}const o=[],l=Object.assign(VM,{defaultVisitor:f,convertValue:d,isVisitable:el});function a(c,g){if(!ue.isUndefined(c)){if(o.indexOf(c)!==-1)throw Error("Circular reference detected in "+g.join("."));o.push(c),ue.forEach(c,function(v,_){(!(ue.isUndefined(v)||v===null)&&s.call(t,v,ue.isString(_)?_.trim():_,g,l))===!0&&a(v,g?g.concat(_):[_])}),o.pop()}}if(!ue.isObject(e))throw new TypeError("data must be an object");return a(e),t}function Hf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function _c(e,t){this._pairs=[],e&&Ao(e,this,t)}const _g=_c.prototype;_g.append=function(t,n){this._pairs.push([t,n])};_g.toString=function(t){const n=t?function(r){return t.call(this,r,Hf)}:Hf;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function GM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yg(e,t,n){if(!t)return e;const r=n&&n.encode||GM,s=n&&n.serialize;let p;if(s?p=s(t,n):p=ue.isURLSearchParams(t)?t.toString():new _c(t,n).toString(r),p){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class KM{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ue.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Uf=KM,bg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qM=typeof URLSearchParams<"u"?URLSearchParams:_c,JM=typeof FormData<"u"?FormData:null,ZM=typeof Blob<"u"?Blob:null,QM=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),eD=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),hn={isBrowser:!0,classes:{URLSearchParams:qM,FormData:JM,Blob:ZM},isStandardBrowserEnv:QM,isStandardBrowserWebWorkerEnv:eD,protocols:["http","https","file","blob","url","data"]};function tD(e,t){return Ao(e,new hn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,p){return hn.isNode&&ue.isBuffer(n)?(this.append(r,n.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)}},t))}function nD(e){return ue.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rD(e){const t={},n=Object.keys(e);let r;const s=n.length;let p;for(r=0;r<s;r++)p=n[r],t[p]=e[p];return t}function wg(e){function t(n,r,s,p){let m=n[p++];const u=Number.isFinite(+m),i=p>=n.length;return m=!m&&ue.isArray(s)?s.length:m,i?(ue.hasOwnProp(s,m)?s[m]=[s[m],r]:s[m]=r,!u):((!s[m]||!ue.isObject(s[m]))&&(s[m]=[]),t(n,r,s[m],p)&&ue.isArray(s[m])&&(s[m]=rD(s[m])),!u)}if(ue.isFormData(e)&&ue.isFunction(e.entries)){const n={};return ue.forEachEntry(e,(r,s)=>{t(nD(r),s,n,0)}),n}return null}function iD(e,t,n){if(ue.isString(e))try{return(t||JSON.parse)(e),ue.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const yc={transitional:bg,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,p=ue.isObject(t);if(p&&ue.isHTMLForm(t)&&(t=new FormData(t)),ue.isFormData(t))return s&&s?JSON.stringify(wg(t)):t;if(ue.isArrayBuffer(t)||ue.isBuffer(t)||ue.isStream(t)||ue.isFile(t)||ue.isBlob(t))return t;if(ue.isArrayBufferView(t))return t.buffer;if(ue.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(p){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tD(t,this.formSerializer).toString();if((u=ue.isFileList(t))||r.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return Ao(u?{"files[]":t}:t,i&&new i,this.formSerializer)}}return p||s?(n.setContentType("application/json",!1),iD(t)):t}],transformResponse:[function(t){const n=this.transitional||yc.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(t&&ue.isString(t)&&(r&&!this.responseType||s)){const m=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(u){if(m)throw u.name==="SyntaxError"?Ie.from(u,Ie.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hn.classes.FormData,Blob:hn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],e=>{yc.headers[e]={}});const bc=yc,sD=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oD=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(m){s=m.indexOf(":"),n=m.substring(0,s).trim().toLowerCase(),r=m.substring(s+1).trim(),!(!n||t[n]&&sD[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Wf=Symbol("internals");function ci(e){return e&&String(e).trim().toLowerCase()}function Os(e){return e===!1||e==null?e:ue.isArray(e)?e.map(Os):String(e)}function aD(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const lD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function pa(e,t,n,r,s){if(ue.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!ue.isString(t)){if(ue.isString(r))return t.indexOf(r)!==-1;if(ue.isRegExp(r))return r.test(t)}}function cD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function uD(e,t){const n=ue.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,p,m){return this[r].call(this,t,s,p,m)},configurable:!0})})}class Mo{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function p(u,i,d){const f=ci(i);if(!f)throw new Error("header name must be a non-empty string");const o=ue.findKey(s,f);(!o||s[o]===void 0||d===!0||d===void 0&&s[o]!==!1)&&(s[o||i]=Os(u))}const m=(u,i)=>ue.forEach(u,(d,f)=>p(d,f,i));return ue.isPlainObject(t)||t instanceof this.constructor?m(t,n):ue.isString(t)&&(t=t.trim())&&!lD(t)?m(oD(t),n):t!=null&&p(n,t,r),this}get(t,n){if(t=ci(t),t){const r=ue.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return aD(s);if(ue.isFunction(n))return n.call(this,s,r);if(ue.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ci(t),t){const r=ue.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||pa(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function p(m){if(m=ci(m),m){const u=ue.findKey(r,m);u&&(!n||pa(r,r[u],u,n))&&(delete r[u],s=!0)}}return ue.isArray(t)?t.forEach(p):p(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const p=n[r];(!t||pa(this,this[p],p,t,!0))&&(delete this[p],s=!0)}return s}normalize(t){const n=this,r={};return ue.forEach(this,(s,p)=>{const m=ue.findKey(r,p);if(m){n[m]=Os(s),delete n[p];return}const u=t?cD(p):String(p).trim();u!==p&&delete n[p],n[u]=Os(s),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ue.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&ue.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Wf]=this[Wf]={accessors:{}}).accessors,s=this.prototype;function p(m){const u=ci(m);r[u]||(uD(s,m),r[u]=!0)}return ue.isArray(t)?t.forEach(p):p(t),this}}Mo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(Mo.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ue.freezeMethods(Mo);const On=Mo;function ga(e,t){const n=this||bc,r=t||n,s=On.from(r.headers);let p=r.data;return ue.forEach(e,function(u){p=u.call(n,p,s.normalize(),t?t.status:void 0)}),s.normalize(),p}function Cg(e){return!!(e&&e.__CANCEL__)}function Ji(e,t,n){Ie.call(this,e??"canceled",Ie.ERR_CANCELED,t,n),this.name="CanceledError"}ue.inherits(Ji,Ie,{__CANCEL__:!0});function fD(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ie("Request failed with status code "+n.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const hD=hn.isStandardBrowserEnv?function(){return{write:function(n,r,s,p,m,u){const i=[];i.push(n+"="+encodeURIComponent(r)),ue.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),ue.isString(p)&&i.push("path="+p),ue.isString(m)&&i.push("domain="+m),u===!0&&i.push("secure"),document.cookie=i.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function dD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pD(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Sg(e,t){return e&&!dD(t)?pD(e,t):t}const gD=hn.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(p){let m=p;return t&&(n.setAttribute("href",m),m=n.href),n.setAttribute("href",m),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(m){const u=ue.isString(m)?s(m):m;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}();function vD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mD(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,p=0,m;return t=t!==void 0?t:1e3,function(i){const d=Date.now(),f=r[p];m||(m=d),n[s]=i,r[s]=d;let o=p,l=0;for(;o!==s;)l+=n[o++],o=o%e;if(s=(s+1)%e,s===p&&(p=(p+1)%e),d-m<t)return;const a=f&&d-f;return a?Math.round(l*1e3/a):void 0}}function Yf(e,t){let n=0;const r=mD(50,250);return s=>{const p=s.loaded,m=s.lengthComputable?s.total:void 0,u=p-n,i=r(u),d=p<=m;n=p;const f={loaded:p,total:m,progress:m?p/m:void 0,bytes:u,rate:i||void 0,estimated:i&&m&&d?(m-p)/i:void 0,event:s};f[t?"download":"upload"]=!0,e(f)}}const _D=typeof XMLHttpRequest<"u",yD=_D&&function(e){return new Promise(function(n,r){let s=e.data;const p=On.from(e.headers).normalize(),m=e.responseType;let u;function i(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}let d;ue.isFormData(s)&&(hn.isStandardBrowserEnv||hn.isStandardBrowserWebWorkerEnv?p.setContentType(!1):p.getContentType(/^\s*multipart\/form-data/)?ue.isString(d=p.getContentType())&&p.setContentType(d.replace(/^\s*(multipart\/form-data);+/,"$1")):p.setContentType("multipart/form-data"));let f=new XMLHttpRequest;if(e.auth){const c=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.set("Authorization","Basic "+btoa(c+":"+g))}const o=Sg(e.baseURL,e.url);f.open(e.method.toUpperCase(),yg(o,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function l(){if(!f)return;const c=On.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),h={data:!m||m==="text"||m==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:c,config:e,request:f};fD(function(_){n(_),i()},function(_){r(_),i()},h),f=null}if("onloadend"in f?f.onloadend=l:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(l)},f.onabort=function(){f&&(r(new Ie("Request aborted",Ie.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new Ie("Network Error",Ie.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let g=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const h=e.transitional||bg;e.timeoutErrorMessage&&(g=e.timeoutErrorMessage),r(new Ie(g,h.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,e,f)),f=null},hn.isStandardBrowserEnv){const c=(e.withCredentials||gD(o))&&e.xsrfCookieName&&hD.read(e.xsrfCookieName);c&&p.set(e.xsrfHeaderName,c)}s===void 0&&p.setContentType(null),"setRequestHeader"in f&&ue.forEach(p.toJSON(),function(g,h){f.setRequestHeader(h,g)}),ue.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),m&&m!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",Yf(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Yf(e.onUploadProgress)),(e.cancelToken||e.signal)&&(u=c=>{f&&(r(!c||c.type?new Ji(null,e,f):c),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u)));const a=vD(o);if(a&&hn.protocols.indexOf(a)===-1){r(new Ie("Unsupported protocol "+a+":",Ie.ERR_BAD_REQUEST,e));return}f.send(s||null)})},tl={http:YM,xhr:yD};ue.forEach(tl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Xf=e=>`- ${e}`,bD=e=>ue.isFunction(e)||e===null||e===!1,xg={getAdapter:e=>{e=ue.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let p=0;p<t;p++){n=e[p];let m;if(r=n,!bD(n)&&(r=tl[(m=String(n)).toLowerCase()],r===void 0))throw new Ie(`Unknown adapter '${m}'`);if(r)break;s[m||"#"+p]=r}if(!r){const p=Object.entries(s).map(([u,i])=>`adapter ${u} `+(i===!1?"is not supported by the environment":"is not available in the build"));let m=t?p.length>1?`since :
`+p.map(Xf).join(`
`):" "+Xf(p[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return r},adapters:tl};function va(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ji(null,e)}function Vf(e){return va(e),e.headers=On.from(e.headers),e.data=ga.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xg.getAdapter(e.adapter||bc.adapter)(e).then(function(r){return va(e),r.data=ga.call(e,e.transformResponse,r),r.headers=On.from(r.headers),r},function(r){return Cg(r)||(va(e),r&&r.response&&(r.response.data=ga.call(e,e.transformResponse,r.response),r.response.headers=On.from(r.response.headers))),Promise.reject(r)})}const Gf=e=>e instanceof On?e.toJSON():e;function Yr(e,t){t=t||{};const n={};function r(d,f,o){return ue.isPlainObject(d)&&ue.isPlainObject(f)?ue.merge.call({caseless:o},d,f):ue.isPlainObject(f)?ue.merge({},f):ue.isArray(f)?f.slice():f}function s(d,f,o){if(ue.isUndefined(f)){if(!ue.isUndefined(d))return r(void 0,d,o)}else return r(d,f,o)}function p(d,f){if(!ue.isUndefined(f))return r(void 0,f)}function m(d,f){if(ue.isUndefined(f)){if(!ue.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function u(d,f,o){if(o in t)return r(d,f);if(o in e)return r(void 0,d)}const i={url:p,method:p,data:p,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:u,headers:(d,f)=>s(Gf(d),Gf(f),!0)};return ue.forEach(Object.keys(Object.assign({},e,t)),function(f){const o=i[f]||s,l=o(e[f],t[f],f);ue.isUndefined(l)&&o!==u||(n[f]=l)}),n}const Tg="1.5.1",wc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Kf={};wc.transitional=function(t,n,r){function s(p,m){return"[Axios v"+Tg+"] Transitional option '"+p+"'"+m+(r?". "+r:"")}return(p,m,u)=>{if(t===!1)throw new Ie(s(m," has been removed"+(n?" in "+n:"")),Ie.ERR_DEPRECATED);return n&&!Kf[m]&&(Kf[m]=!0,console.warn(s(m," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(p,m,u):!0}};function wD(e,t,n){if(typeof e!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const p=r[s],m=t[p];if(m){const u=e[p],i=u===void 0||m(u,p,e);if(i!==!0)throw new Ie("option "+p+" must be "+i,Ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ie("Unknown option "+p,Ie.ERR_BAD_OPTION)}}const nl={assertOptions:wD,validators:wc},Bn=nl.validators;class Vs{constructor(t){this.defaults=t,this.interceptors={request:new Uf,response:new Uf}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Yr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:p}=n;r!==void 0&&nl.assertOptions(r,{silentJSONParsing:Bn.transitional(Bn.boolean),forcedJSONParsing:Bn.transitional(Bn.boolean),clarifyTimeoutError:Bn.transitional(Bn.boolean)},!1),s!=null&&(ue.isFunction(s)?n.paramsSerializer={serialize:s}:nl.assertOptions(s,{encode:Bn.function,serialize:Bn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let m=p&&ue.merge(p.common,p[n.method]);p&&ue.forEach(["delete","get","head","post","put","patch","common"],c=>{delete p[c]}),n.headers=On.concat(m,p);const u=[];let i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(i=i&&g.synchronous,u.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let f,o=0,l;if(!i){const c=[Vf.bind(this),void 0];for(c.unshift.apply(c,u),c.push.apply(c,d),l=c.length,f=Promise.resolve(n);o<l;)f=f.then(c[o++],c[o++]);return f}l=u.length;let a=n;for(o=0;o<l;){const c=u[o++],g=u[o++];try{a=c(a)}catch(h){g.call(this,h);break}}try{f=Vf.call(this,a)}catch(c){return Promise.reject(c)}for(o=0,l=d.length;o<l;)f=f.then(d[o++],d[o++]);return f}getUri(t){t=Yr(this.defaults,t);const n=Sg(t.baseURL,t.url);return yg(n,t.params,t.paramsSerializer)}}ue.forEach(["delete","get","head","options"],function(t){Vs.prototype[t]=function(n,r){return this.request(Yr(r||{},{method:t,url:n,data:(r||{}).data}))}});ue.forEach(["post","put","patch"],function(t){function n(r){return function(p,m,u){return this.request(Yr(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:p,data:m}))}}Vs.prototype[t]=n(),Vs.prototype[t+"Form"]=n(!0)});const Es=Vs;class Cc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(p){n=p});const r=this;this.promise.then(s=>{if(!r._listeners)return;let p=r._listeners.length;for(;p-- >0;)r._listeners[p](s);r._listeners=null}),this.promise.then=s=>{let p;const m=new Promise(u=>{r.subscribe(u),p=u}).then(s);return m.cancel=function(){r.unsubscribe(p)},m},t(function(p,m,u){r.reason||(r.reason=new Ji(p,m,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Cc(function(s){t=s}),cancel:t}}}const CD=Cc;function SD(e){return function(n){return e.apply(null,n)}}function xD(e){return ue.isObject(e)&&e.isAxiosError===!0}const rl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rl).forEach(([e,t])=>{rl[t]=e});const TD=rl;function Og(e){const t=new Es(e),n=ag(Es.prototype.request,t);return ue.extend(n,Es.prototype,t,{allOwnKeys:!0}),ue.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Og(Yr(e,s))},n}const tt=Og(bc);tt.Axios=Es;tt.CanceledError=Ji;tt.CancelToken=CD;tt.isCancel=Cg;tt.VERSION=Tg;tt.toFormData=Ao;tt.AxiosError=Ie;tt.Cancel=tt.CanceledError;tt.all=function(t){return Promise.all(t)};tt.spread=SD;tt.isAxiosError=xD;tt.mergeConfig=Yr;tt.AxiosHeaders=On;tt.formToJSON=e=>wg(ue.isHTMLForm(e)?new FormData(e):e);tt.getAdapter=xg.getAdapter;tt.HttpStatusCode=TD;tt.default=tt;const Eg=tt,Sc=Eg.create({timeout:5e3});Eg.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)});Sc.interceptors.request.use(e=>e,e=>(console.log(e),Promise.reject(e)));Sc.interceptors.response.use(e=>{if(e)return e.data;debugger;throw console.log(""),new Error("")},e=>(console.log("err"+e),CO({message:e.message,type:"error",duration:3*1e3,showClose:!0}),Promise.reject(e)));function Pg(e,t,n,r){Sc(e).then(s=>{e.retry&&(s.retry=t-e.retry),n(s)}).catch(s=>{e.retry--,e.retry>=0?setTimeout(()=>{Pg(e,t,n,r)},10):(s.retry=t,r(s))})}function qf(e){return new Promise((t,n)=>{(!e||!e.url)&&n({errorMsg:""}),e.type||(e.type="get"),e.timeout||(e.timeout=5e3),typeof e.retry!="number"&&(e.retry=3),Pg(e,e.retry,t,n)}).then(t=>t)}const OD=W_({state:{isClose:!0,activeModule:null,imageList:[],loadOk:!1,icons:[],selectedItem:null,workspace:null},getters:{},mutations:{setClose(e,t){e.isClose=t},setActiveModule(e,t){e.activeModule=t},Ok(e,t){e.loadOk=!0,e.imageList=t},COMMIT_ICONS(e,t){e.icons=t},setActivateItem(e,t){e.selectedItem=t},setWorkarea(e,t){e.workspace=t}},actions:{getMaterial({commit:e}){const t=[];t.push(qf({url:"https://haixin-fang.github.io/vue-design-editor-static/imglist.json",timeout:1e4}).catch(n=>console.error(n))),t.push(qf({url:"https://haixin-fang.github.io/icons/bootstrap-icons.json",timeout:1e4}).catch(n=>console.error(n))),Promise.all(t).then(n=>{if(Array.isArray(n)&&(n[0]&&e("Ok",n[0]),n[1])){const r=Object.keys(n[1]),s=[];r.forEach(p=>{const m=`https://haixin-fang.github.io/icons/icons/${p}.svg`;s.push({url:m})}),e("COMMIT_ICONS",s)}})}},modules:{}});const ED={class:"gda-popover-content"},PD={key:0,class:"gda-popover-arrow"},kD={class:"gda-popover-inner"},AD={__name:"popover",props:{to:{type:String,default:"body"},arrow:{type:Boolean,default:!1},dom:{type:HTMLElement,default:null},show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e;let r=null,s=null;const p=fe();Ae(()=>n.show,d=>{d&&Xt(()=>{u()})}),Je(()=>{window.addEventListener("click",d=>{n.show&&(Array.from(d.path||d.composedPath()).find(o=>{if(o.className&&o.className.indexOf("popover")!=-1)return o})||t("close"))})}),Wi(()=>{window.removeEventListener("resize",u)});const m=()=>{window.addEventListener("resize",u),s=new ResizeObserver(ws(()=>{u()},50)),s.observe(r)};function u(){var w;s||m();const{width:d,height:f,left:o,top:l,bottom:a,right:c}=(w=n.dom)==null?void 0:w.getBoundingClientRect(),{offsetWidth:g,offsetHeight:h}=r;let v=0,_=0,y=0,b=0;l>h+10?(v=l-h-10,b=h+10,g<c?(_=o+d-g,y=g):(_=o,y=0)):a>h+10&&(v=l+f+10,b=10,g<c?(_=o+d-g,y=g):(_=o,y=0)),p.value.style.left=_+"px",p.value.style.top=v+"px",p.value.style.transformOrigin=`${y}px ${b}px`}const i=d=>{r=d};return(d,f)=>(re(),ke(Cl,{to:e.to},[pe(vn,{name:"fade"},{default:ve(()=>[mt(te("div",{class:"gda-popover",ref_key:"popover",ref:p},[te("div",ED,[e.arrow?(re(),de("div",PD)):De("",!0),te("div",kD,[Ee(d.$slots,"default",{setSlotRef:i},void 0,!0)])])],512),[[Tt,e.show]])]),_:3})],8,["to"]))}},MD=ht(AD,[["__scopeId","data-v-3097868d"]]),DD=u0(p0);DD.use(OD).use(uM).component("popover",MD).mount("#app");
