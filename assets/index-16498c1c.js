var Ag=Object.defineProperty;var Mg=(e,t,n)=>t in e?Ag(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $e=(e,t,n)=>(Mg(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const p of s)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(s){const p={};return s.integrity&&(p.integrity=s.integrity),s.referrerPolicy&&(p.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?p.credentials="include":s.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function r(s){if(s.ep)return;s.ep=!0;const p=n(s);fetch(s.href,p)}})();function nl(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Ue={},Or=[],Ct=()=>{},Dg=()=>!1,Rg=/^on[^a-z]/,Ws=e=>Rg.test(e),rl=e=>e.startsWith("onUpdate:"),Qe=Object.assign,il=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ig=Object.prototype.hasOwnProperty,De=(e,t)=>Ig.call(e,t),ye=Array.isArray,Er=e=>Ni(e)==="[object Map]",Ys=e=>Ni(e)==="[object Set]",Tc=e=>Ni(e)==="[object Date]",Ce=e=>typeof e=="function",ze=e=>typeof e=="string",Si=e=>typeof e=="symbol",Be=e=>e!==null&&typeof e=="object",Gf=e=>Be(e)&&Ce(e.then)&&Ce(e.catch),Kf=Object.prototype.toString,Ni=e=>Kf.call(e),Fg=e=>Ni(e).slice(8,-1),qf=e=>Ni(e)==="[object Object]",sl=e=>ze(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,hs=nl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xs=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Lg=/-(\w)/g,Zt=Xs(e=>e.replace(Lg,(t,n)=>n?n.toUpperCase():"")),Bg=/\B([A-Z])/g,Yr=Xs(e=>e.replace(Bg,"-$1").toLowerCase()),Vs=Xs(e=>e.charAt(0).toUpperCase()+e.slice(1)),Do=Xs(e=>e?`on${Vs(e)}`:""),xi=(e,t)=>!Object.is(e,t),ds=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Cs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},jg=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Ng=e=>{const t=ze(e)?Number(e):NaN;return isNaN(t)?e:t};let Oc;const ga=()=>Oc||(Oc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ye(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=ze(r)?Ug(r):Ye(r);if(s)for(const p in s)t[p]=s[p]}return t}else{if(ze(e))return e;if(Be(e))return e}}const zg=/;(?![^(]*\))/g,$g=/:([^]+)/,Hg=/\/\*[^]*?\*\//g;function Ug(e){const t={};return e.replace(Hg,"").split(zg).forEach(n=>{if(n){const r=n.split($g);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Se(e){let t="";if(ze(e))t=e;else if(ye(e))for(let n=0;n<e.length;n++){const r=Se(e[n]);r&&(t+=r+" ")}else if(Be(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Wg(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ze(t)&&(e.class=Se(t)),n&&(e.style=Ye(n)),e}const Yg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xg=nl(Yg);function Jf(e){return!!e||e===""}function Vg(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Gs(e[r],t[r]);return n}function Gs(e,t){if(e===t)return!0;let n=Tc(e),r=Tc(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Si(e),r=Si(t),n||r)return e===t;if(n=ye(e),r=ye(t),n||r)return n&&r?Vg(e,t):!1;if(n=Be(e),r=Be(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,p=Object.keys(t).length;if(s!==p)return!1;for(const m in e){const c=e.hasOwnProperty(m),i=t.hasOwnProperty(m);if(c&&!i||!c&&i||!Gs(e[m],t[m]))return!1}}return String(e)===String(t)}function Qf(e,t){return e.findIndex(n=>Gs(n,t))}const ct=e=>ze(e)?e:e==null?"":ye(e)||Be(e)&&(e.toString===Kf||!Ce(e.toString))?JSON.stringify(e,Zf,2):String(e),Zf=(e,t)=>t&&t.__v_isRef?Zf(e,t.value):Er(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Ys(t)?{[`Set(${t.size})`]:[...t.values()]}:Be(t)&&!ye(t)&&!qf(t)?String(t):t;let It;class eh{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=It,!t&&It&&(this.index=(It.scopes||(It.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=It;try{return It=this,t()}finally{It=n}}}on(){It=this}off(){It=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function th(e){return new eh(e)}function Gg(e,t=It){t&&t.active&&t.effects.push(e)}function nh(){return It}function Kg(e){It&&It.cleanups.push(e)}const ol=e=>{const t=new Set(e);return t.w=0,t.n=0,t},rh=e=>(e.w&Yn)>0,ih=e=>(e.n&Yn)>0,qg=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Yn},Jg=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];rh(s)&&!ih(s)?s.delete(e):t[n++]=s,s.w&=~Yn,s.n&=~Yn}t.length=n}},Ss=new WeakMap;let li=0,Yn=1;const va=30;let qt;const sr=Symbol(""),ma=Symbol("");class al{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Gg(this,r)}run(){if(!this.active)return this.fn();let t=qt,n=Un;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=qt,qt=this,Un=!0,Yn=1<<++li,li<=va?qg(this):Ec(this),this.fn()}finally{li<=va&&Jg(this),Yn=1<<--li,qt=this.parent,Un=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){qt===this?this.deferStop=!0:this.active&&(Ec(this),this.onStop&&this.onStop(),this.active=!1)}}function Ec(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Un=!0;const sh=[];function Xr(){sh.push(Un),Un=!1}function Vr(){const e=sh.pop();Un=e===void 0?!0:e}function At(e,t,n){if(Un&&qt){let r=Ss.get(e);r||Ss.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=ol()),oh(s)}}function oh(e,t){let n=!1;li<=va?ih(e)||(e.n|=Yn,n=!rh(e)):n=!e.has(qt),n&&(e.add(qt),qt.deps.push(e))}function Tn(e,t,n,r,s,p){const m=Ss.get(e);if(!m)return;let c=[];if(t==="clear")c=[...m.values()];else if(n==="length"&&ye(e)){const i=Number(r);m.forEach((h,f)=>{(f==="length"||f>=i)&&c.push(h)})}else switch(n!==void 0&&c.push(m.get(n)),t){case"add":ye(e)?sl(n)&&c.push(m.get("length")):(c.push(m.get(sr)),Er(e)&&c.push(m.get(ma)));break;case"delete":ye(e)||(c.push(m.get(sr)),Er(e)&&c.push(m.get(ma)));break;case"set":Er(e)&&c.push(m.get(sr));break}if(c.length===1)c[0]&&_a(c[0]);else{const i=[];for(const h of c)h&&i.push(...h);_a(ol(i))}}function _a(e,t){const n=ye(e)?e:[...e];for(const r of n)r.computed&&Pc(r);for(const r of n)r.computed||Pc(r)}function Pc(e,t){(e!==qt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Qg(e,t){var n;return(n=Ss.get(e))==null?void 0:n.get(t)}const Zg=nl("__proto__,__v_isRef,__isVue"),ah=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Si)),ev=ll(),tv=ll(!1,!0),nv=ll(!0),kc=rv();function rv(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Fe(this);for(let p=0,m=this.length;p<m;p++)At(r,"get",p+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(Fe)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Xr();const r=Fe(this)[t].apply(this,n);return Vr(),r}}),e}function iv(e){const t=Fe(this);return At(t,"has",e),t.hasOwnProperty(e)}function ll(e=!1,t=!1){return function(r,s,p){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&p===(e?t?bv:hh:t?fh:uh).get(r))return r;const m=ye(r);if(!e){if(m&&De(kc,s))return Reflect.get(kc,s,p);if(s==="hasOwnProperty")return iv}const c=Reflect.get(r,s,p);return(Si(s)?ah.has(s):Zg(s))||(e||At(r,"get",s),t)?c:tt(c)?m&&sl(s)?c:c.value:Be(c)?e?zi(c):hr(c):c}}const sv=lh(),ov=lh(!0);function lh(e=!1){return function(n,r,s,p){let m=n[r];if(Ar(m)&&tt(m)&&!tt(s))return!1;if(!e&&(!xs(s)&&!Ar(s)&&(m=Fe(m),s=Fe(s)),!ye(n)&&tt(m)&&!tt(s)))return m.value=s,!0;const c=ye(n)&&sl(r)?Number(r)<n.length:De(n,r),i=Reflect.set(n,r,s,p);return n===Fe(p)&&(c?xi(s,m)&&Tn(n,"set",r,s):Tn(n,"add",r,s)),i}}function av(e,t){const n=De(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Tn(e,"delete",t,void 0),r}function lv(e,t){const n=Reflect.has(e,t);return(!Si(t)||!ah.has(t))&&At(e,"has",t),n}function cv(e){return At(e,"iterate",ye(e)?"length":sr),Reflect.ownKeys(e)}const ch={get:ev,set:sv,deleteProperty:av,has:lv,ownKeys:cv},uv={get:nv,set(e,t){return!0},deleteProperty(e,t){return!0}},fv=Qe({},ch,{get:tv,set:ov}),cl=e=>e,Ks=e=>Reflect.getPrototypeOf(e);function Ki(e,t,n=!1,r=!1){e=e.__v_raw;const s=Fe(e),p=Fe(t);n||(t!==p&&At(s,"get",t),At(s,"get",p));const{has:m}=Ks(s),c=r?cl:n?dl:Ti;if(m.call(s,t))return c(e.get(t));if(m.call(s,p))return c(e.get(p));e!==s&&e.get(t)}function qi(e,t=!1){const n=this.__v_raw,r=Fe(n),s=Fe(e);return t||(e!==s&&At(r,"has",e),At(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Ji(e,t=!1){return e=e.__v_raw,!t&&At(Fe(e),"iterate",sr),Reflect.get(e,"size",e)}function Ac(e){e=Fe(e);const t=Fe(this);return Ks(t).has.call(t,e)||(t.add(e),Tn(t,"add",e,e)),this}function Mc(e,t){t=Fe(t);const n=Fe(this),{has:r,get:s}=Ks(n);let p=r.call(n,e);p||(e=Fe(e),p=r.call(n,e));const m=s.call(n,e);return n.set(e,t),p?xi(t,m)&&Tn(n,"set",e,t):Tn(n,"add",e,t),this}function Dc(e){const t=Fe(this),{has:n,get:r}=Ks(t);let s=n.call(t,e);s||(e=Fe(e),s=n.call(t,e)),r&&r.call(t,e);const p=t.delete(e);return s&&Tn(t,"delete",e,void 0),p}function Rc(){const e=Fe(this),t=e.size!==0,n=e.clear();return t&&Tn(e,"clear",void 0,void 0),n}function Qi(e,t){return function(r,s){const p=this,m=p.__v_raw,c=Fe(m),i=t?cl:e?dl:Ti;return!e&&At(c,"iterate",sr),m.forEach((h,f)=>r.call(s,i(h),i(f),p))}}function Zi(e,t,n){return function(...r){const s=this.__v_raw,p=Fe(s),m=Er(p),c=e==="entries"||e===Symbol.iterator&&m,i=e==="keys"&&m,h=s[e](...r),f=n?cl:t?dl:Ti;return!t&&At(p,"iterate",i?ma:sr),{next(){const{value:o,done:l}=h.next();return l?{value:o,done:l}:{value:c?[f(o[0]),f(o[1])]:f(o),done:l}},[Symbol.iterator](){return this}}}}function Mn(e){return function(...t){return e==="delete"?!1:this}}function hv(){const e={get(p){return Ki(this,p)},get size(){return Ji(this)},has:qi,add:Ac,set:Mc,delete:Dc,clear:Rc,forEach:Qi(!1,!1)},t={get(p){return Ki(this,p,!1,!0)},get size(){return Ji(this)},has:qi,add:Ac,set:Mc,delete:Dc,clear:Rc,forEach:Qi(!1,!0)},n={get(p){return Ki(this,p,!0)},get size(){return Ji(this,!0)},has(p){return qi.call(this,p,!0)},add:Mn("add"),set:Mn("set"),delete:Mn("delete"),clear:Mn("clear"),forEach:Qi(!0,!1)},r={get(p){return Ki(this,p,!0,!0)},get size(){return Ji(this,!0)},has(p){return qi.call(this,p,!0)},add:Mn("add"),set:Mn("set"),delete:Mn("delete"),clear:Mn("clear"),forEach:Qi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(p=>{e[p]=Zi(p,!1,!1),n[p]=Zi(p,!0,!1),t[p]=Zi(p,!1,!0),r[p]=Zi(p,!0,!0)}),[e,n,t,r]}const[dv,pv,gv,vv]=hv();function ul(e,t){const n=t?e?vv:gv:e?pv:dv;return(r,s,p)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(De(n,s)&&s in r?n:r,s,p)}const mv={get:ul(!1,!1)},_v={get:ul(!1,!0)},yv={get:ul(!0,!1)},uh=new WeakMap,fh=new WeakMap,hh=new WeakMap,bv=new WeakMap;function wv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cv(e){return e.__v_skip||!Object.isExtensible(e)?0:wv(Fg(e))}function hr(e){return Ar(e)?e:hl(e,!1,ch,mv,uh)}function fl(e){return hl(e,!1,fv,_v,fh)}function zi(e){return hl(e,!0,uv,yv,hh)}function hl(e,t,n,r,s){if(!Be(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const p=s.get(e);if(p)return p;const m=Cv(e);if(m===0)return e;const c=new Proxy(e,m===2?r:n);return s.set(e,c),c}function Pr(e){return Ar(e)?Pr(e.__v_raw):!!(e&&e.__v_isReactive)}function Ar(e){return!!(e&&e.__v_isReadonly)}function xs(e){return!!(e&&e.__v_isShallow)}function dh(e){return Pr(e)||Ar(e)}function Fe(e){const t=e&&e.__v_raw;return t?Fe(t):e}function Ts(e){return Cs(e,"__v_skip",!0),e}const Ti=e=>Be(e)?hr(e):e,dl=e=>Be(e)?zi(e):e;function ph(e){Un&&qt&&(e=Fe(e),oh(e.dep||(e.dep=ol())))}function gh(e,t){e=Fe(e);const n=e.dep;n&&_a(n)}function tt(e){return!!(e&&e.__v_isRef===!0)}function fe(e){return vh(e,!1)}function Oi(e){return vh(e,!0)}function vh(e,t){return tt(e)?e:new Sv(e,t)}class Sv{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Fe(t),this._value=n?t:Ti(t)}get value(){return ph(this),this._value}set value(t){const n=this.__v_isShallow||xs(t)||Ar(t);t=n?t:Fe(t),xi(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ti(t),gh(this))}}function B(e){return tt(e)?e.value:e}const xv={get:(e,t,n)=>B(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return tt(s)&&!tt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function mh(e){return Pr(e)?e:new Proxy(e,xv)}class Tv{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Qg(Fe(this._object),this._key)}}class Ov{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ot(e,t,n){return tt(e)?e:Ce(e)?new Ov(e):Be(e)&&arguments.length>1?Ev(e,t,n):fe(e)}function Ev(e,t,n){const r=e[t];return tt(r)?r:new Tv(e,t,n)}class Pv{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new al(t,()=>{this._dirty||(this._dirty=!0,gh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=Fe(this);return ph(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function kv(e,t,n=!1){let r,s;const p=Ce(e);return p?(r=e,s=Ct):(r=e.get,s=e.set),new Pv(r,s,p||!s,n)}function Av(e,...t){}function Wn(e,t,n,r){let s;try{s=r?e(...r):e()}catch(p){qs(p,t,n)}return s}function $t(e,t,n,r){if(Ce(e)){const p=Wn(e,t,n,r);return p&&Gf(p)&&p.catch(m=>{qs(m,t,n)}),p}const s=[];for(let p=0;p<e.length;p++)s.push($t(e[p],t,n,r));return s}function qs(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let p=t.parent;const m=t.proxy,c=n;for(;p;){const h=p.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](e,m,c)===!1)return}p=p.parent}const i=t.appContext.config.errorHandler;if(i){Wn(i,null,10,[e,m,c]);return}}Mv(e,n,s,r)}function Mv(e,t,n,r=!0){console.error(e)}let Ei=!1,ya=!1;const vt=[];let cn=0;const kr=[];let Cn=null,er=0;const _h=Promise.resolve();let pl=null;function Wt(e){const t=pl||_h;return e?t.then(this?e.bind(this):e):t}function Dv(e){let t=cn+1,n=vt.length;for(;t<n;){const r=t+n>>>1;Pi(vt[r])<e?t=r+1:n=r}return t}function gl(e){(!vt.length||!vt.includes(e,Ei&&e.allowRecurse?cn+1:cn))&&(e.id==null?vt.push(e):vt.splice(Dv(e.id),0,e),yh())}function yh(){!Ei&&!ya&&(ya=!0,pl=_h.then(wh))}function Rv(e){const t=vt.indexOf(e);t>cn&&vt.splice(t,1)}function Iv(e){ye(e)?kr.push(...e):(!Cn||!Cn.includes(e,e.allowRecurse?er+1:er))&&kr.push(e),yh()}function Ic(e,t=Ei?cn+1:0){for(;t<vt.length;t++){const n=vt[t];n&&n.pre&&(vt.splice(t,1),t--,n())}}function bh(e){if(kr.length){const t=[...new Set(kr)];if(kr.length=0,Cn){Cn.push(...t);return}for(Cn=t,Cn.sort((n,r)=>Pi(n)-Pi(r)),er=0;er<Cn.length;er++)Cn[er]();Cn=null,er=0}}const Pi=e=>e.id==null?1/0:e.id,Fv=(e,t)=>{const n=Pi(e)-Pi(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function wh(e){ya=!1,Ei=!0,vt.sort(Fv);const t=Ct;try{for(cn=0;cn<vt.length;cn++){const n=vt[cn];n&&n.active!==!1&&Wn(n,null,14)}}finally{cn=0,vt.length=0,bh(),Ei=!1,pl=null,(vt.length||kr.length)&&wh()}}function Lv(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ue;let s=n;const p=t.startsWith("update:"),m=p&&t.slice(7);if(m&&m in r){const f=`${m==="modelValue"?"model":m}Modifiers`,{number:o,trim:l}=r[f]||Ue;l&&(s=n.map(a=>ze(a)?a.trim():a)),o&&(s=n.map(jg))}let c,i=r[c=Do(t)]||r[c=Do(Zt(t))];!i&&p&&(i=r[c=Do(Yr(t))]),i&&$t(i,e,6,s);const h=r[c+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,$t(h,e,6,s)}}function Ch(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const p=e.emits;let m={},c=!1;if(!Ce(e)){const i=h=>{const f=Ch(h,t,!0);f&&(c=!0,Qe(m,f))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return!p&&!c?(Be(e)&&r.set(e,null),null):(ye(p)?p.forEach(i=>m[i]=null):Qe(m,p),Be(e)&&r.set(e,m),m)}function Js(e,t){return!e||!Ws(t)?!1:(t=t.slice(2).replace(/Once$/,""),De(e,t[0].toLowerCase()+t.slice(1))||De(e,Yr(t))||De(e,t))}let ut=null,Qs=null;function Os(e){const t=ut;return ut=e,Qs=e&&e.type.__scopeId||null,t}function Zs(e){Qs=e}function eo(){Qs=null}function ve(e,t=ut,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Vc(-1);const p=Os(t);let m;try{m=e(...s)}finally{Os(p),r._d&&Vc(1)}return m};return r._n=!0,r._c=!0,r._d=!0,r}function Ro(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:p,propsOptions:[m],slots:c,attrs:i,emit:h,render:f,renderCache:o,data:l,setupState:a,ctx:u,inheritAttrs:g}=e;let d,v;const _=Os(e);try{if(n.shapeFlag&4){const b=s||r;d=ln(f.call(b,b,o,p,a,l,u)),v=i}else{const b=t;d=ln(b.length>1?b(p,{attrs:i,slots:c,emit:h}):b(p,null)),v=t.props?i:Bv(i)}}catch(b){pi.length=0,qs(b,e,1),d=de(Ft)}let y=d;if(v&&g!==!1){const b=Object.keys(v),{shapeFlag:w}=y;b.length&&w&7&&(m&&b.some(rl)&&(v=jv(v,m)),y=On(y,v))}return n.dirs&&(y=On(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),d=y,Os(_),d}const Bv=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ws(n))&&((t||(t={}))[n]=e[n]);return t},jv=(e,t)=>{const n={};for(const r in e)(!rl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Nv(e,t,n){const{props:r,children:s,component:p}=e,{props:m,children:c,patchFlag:i}=t,h=p.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&i>=0){if(i&1024)return!0;if(i&16)return r?Fc(r,m,h):!!m;if(i&8){const f=t.dynamicProps;for(let o=0;o<f.length;o++){const l=f[o];if(m[l]!==r[l]&&!Js(h,l))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===m?!1:r?m?Fc(r,m,h):!0:!!m;return!1}function Fc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const p=r[s];if(t[p]!==e[p]&&!Js(n,p))return!0}return!1}function zv({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const $v=e=>e.__isSuspense;function Hv(e,t){t&&t.pendingBranch?ye(e)?t.effects.push(...e):t.effects.push(e):Iv(e)}const es={};function Ae(e,t,n){return Sh(e,t,n)}function Sh(e,t,{immediate:n,deep:r,flush:s,onTrack:p,onTrigger:m}=Ue){var c;const i=nh()===((c=rt)==null?void 0:c.scope)?rt:null;let h,f=!1,o=!1;if(tt(e)?(h=()=>e.value,f=xs(e)):Pr(e)?(h=()=>e,r=!0):ye(e)?(o=!0,f=e.some(b=>Pr(b)||xs(b)),h=()=>e.map(b=>{if(tt(b))return b.value;if(Pr(b))return rr(b);if(Ce(b))return Wn(b,i,2)})):Ce(e)?t?h=()=>Wn(e,i,2):h=()=>{if(!(i&&i.isUnmounted))return l&&l(),$t(e,i,3,[a])}:h=Ct,t&&r){const b=h;h=()=>rr(b())}let l,a=b=>{l=_.onStop=()=>{Wn(b,i,4)}},u;if(Mi)if(a=Ct,t?n&&$t(t,i,3,[h(),o?[]:void 0,a]):h(),s==="sync"){const b=Rm();u=b.__watcherHandles||(b.__watcherHandles=[])}else return Ct;let g=o?new Array(e.length).fill(es):es;const d=()=>{if(_.active)if(t){const b=_.run();(r||f||(o?b.some((w,C)=>xi(w,g[C])):xi(b,g)))&&(l&&l(),$t(t,i,3,[b,g===es?void 0:o&&g[0]===es?[]:g,a]),g=b)}else _.run()};d.allowRecurse=!!t;let v;s==="sync"?v=d:s==="post"?v=()=>Tt(d,i&&i.suspense):(d.pre=!0,i&&(d.id=i.uid),v=()=>gl(d));const _=new al(h,v);t?n?d():g=_.run():s==="post"?Tt(_.run.bind(_),i&&i.suspense):_.run();const y=()=>{_.stop(),i&&i.scope&&il(i.scope.effects,_)};return u&&u.push(y),y}function Uv(e,t,n){const r=this.proxy,s=ze(e)?e.includes(".")?xh(r,e):()=>r[e]:e.bind(r,r);let p;Ce(t)?p=t:(p=t.handler,n=t);const m=rt;Dr(this);const c=Sh(s,p.bind(r),n);return m?Dr(m):ar(),c}function xh(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function rr(e,t){if(!Be(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),tt(e))rr(e.value,t);else if(ye(e))for(let n=0;n<e.length;n++)rr(e[n],t);else if(Ys(e)||Er(e))e.forEach(n=>{rr(n,t)});else if(qf(e))for(const n in e)rr(e[n],t);return e}function lt(e,t){const n=ut;if(n===null)return e;const r=so(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let p=0;p<t.length;p++){let[m,c,i,h=Ue]=t[p];m&&(Ce(m)&&(m={mounted:m,updated:m}),m.deep&&rr(c),s.push({dir:m,instance:r,value:c,oldValue:void 0,arg:i,modifiers:h}))}return e}function Kn(e,t,n,r){const s=e.dirs,p=t&&t.dirs;for(let m=0;m<s.length;m++){const c=s[m];p&&(c.oldValue=p[m].value);let i=c.dir[r];i&&(Xr(),$t(i,n,8,[e.el,c,e,t]),Vr())}}function Wv(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return nt(()=>{e.isMounted=!0}),Lt(()=>{e.isUnmounting=!0}),e}const Nt=[Function,Array],Th={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Nt,onEnter:Nt,onAfterEnter:Nt,onEnterCancelled:Nt,onBeforeLeave:Nt,onLeave:Nt,onAfterLeave:Nt,onLeaveCancelled:Nt,onBeforeAppear:Nt,onAppear:Nt,onAfterAppear:Nt,onAppearCancelled:Nt},Yv={name:"BaseTransition",props:Th,setup(e,{slots:t}){const n=Bt(),r=Wv();let s;return()=>{const p=t.default&&Eh(t.default(),!0);if(!p||!p.length)return;let m=p[0];if(p.length>1){for(const g of p)if(g.type!==Ft){m=g;break}}const c=Fe(e),{mode:i}=c;if(r.isLeaving)return Io(m);const h=Lc(m);if(!h)return Io(m);const f=ba(h,c,r,n);wa(h,f);const o=n.subTree,l=o&&Lc(o);let a=!1;const{getTransitionKey:u}=h.type;if(u){const g=u();s===void 0?s=g:g!==s&&(s=g,a=!0)}if(l&&l.type!==Ft&&(!tr(h,l)||a)){const g=ba(l,c,r,n);if(wa(l,g),i==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Io(m);i==="in-out"&&h.type!==Ft&&(g.delayLeave=(d,v,_)=>{const y=Oh(r,l);y[String(l.key)]=l,d._leaveCb=()=>{v(),d._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=_})}return m}}},Xv=Yv;function Oh(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ba(e,t,n,r){const{appear:s,mode:p,persisted:m=!1,onBeforeEnter:c,onEnter:i,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:o,onLeave:l,onAfterLeave:a,onLeaveCancelled:u,onBeforeAppear:g,onAppear:d,onAfterAppear:v,onAppearCancelled:_}=t,y=String(e.key),b=Oh(n,e),w=(O,j)=>{O&&$t(O,r,9,j)},C=(O,j)=>{const Y=j[1];w(O,j),ye(O)?O.every(G=>G.length<=1)&&Y():O.length<=1&&Y()},S={mode:p,persisted:m,beforeEnter(O){let j=c;if(!n.isMounted)if(s)j=g||c;else return;O._leaveCb&&O._leaveCb(!0);const Y=b[y];Y&&tr(e,Y)&&Y.el._leaveCb&&Y.el._leaveCb(),w(j,[O])},enter(O){let j=i,Y=h,G=f;if(!n.isMounted)if(s)j=d||i,Y=v||h,G=_||f;else return;let U=!1;const ee=O._enterCb=ie=>{U||(U=!0,ie?w(G,[O]):w(Y,[O]),S.delayedLeave&&S.delayedLeave(),O._enterCb=void 0)};j?C(j,[O,ee]):ee()},leave(O,j){const Y=String(e.key);if(O._enterCb&&O._enterCb(!0),n.isUnmounting)return j();w(o,[O]);let G=!1;const U=O._leaveCb=ee=>{G||(G=!0,j(),ee?w(u,[O]):w(a,[O]),O._leaveCb=void 0,b[Y]===e&&delete b[Y])};b[Y]=e,l?C(l,[O,U]):U()},clone(O){return ba(O,t,n,r)}};return S}function Io(e){if(to(e))return e=On(e),e.children=null,e}function Lc(e){return to(e)?e.children?e.children[0]:void 0:e}function wa(e,t){e.shapeFlag&6&&e.component?wa(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Eh(e,t=!1,n){let r=[],s=0;for(let p=0;p<e.length;p++){let m=e[p];const c=n==null?m.key:String(n)+String(m.key!=null?m.key:p);m.type===Me?(m.patchFlag&128&&s++,r=r.concat(Eh(m.children,t,c))):(t||m.type!==Ft)&&r.push(c!=null?On(m,{key:c}):m)}if(s>1)for(let p=0;p<r.length;p++)r[p].patchFlag=-2;return r}function Te(e,t){return Ce(e)?(()=>Qe({name:e.name},t,{setup:e}))():e}const fi=e=>!!e.type.__asyncLoader,to=e=>e.type.__isKeepAlive;function Vv(e,t){kh(e,"a",t)}function Ph(e,t){kh(e,"da",t)}function kh(e,t,n=rt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(no(t,r,n),n){let s=n.parent;for(;s&&s.parent;)to(s.parent.vnode)&&Gv(r,t,n,s),s=s.parent}}function Gv(e,t,n,r){const s=no(t,e,r,!0);ro(()=>{il(r[t],s)},n)}function no(e,t,n=rt,r=!1){if(n){const s=n[e]||(n[e]=[]),p=t.__weh||(t.__weh=(...m)=>{if(n.isUnmounted)return;Xr(),Dr(n);const c=$t(t,n,e,m);return ar(),Vr(),c});return r?s.unshift(p):s.push(p),p}}const Pn=e=>(t,n=rt)=>(!Mi||e==="sp")&&no(e,(...r)=>t(...r),n),Ah=Pn("bm"),nt=Pn("m"),Kv=Pn("bu"),Mh=Pn("u"),Lt=Pn("bum"),ro=Pn("um"),qv=Pn("sp"),Jv=Pn("rtg"),Qv=Pn("rtc");function Zv(e,t=rt){no("ec",e,t)}const vl="components";function je(e,t){return Rh(vl,e,!0,t)||e}const Dh=Symbol.for("v-ndc");function or(e){return ze(e)?Rh(vl,e,!1)||e:e||Dh}function Rh(e,t,n=!0,r=!1){const s=ut||rt;if(s){const p=s.type;if(e===vl){const c=Am(p,!1);if(c&&(c===t||c===Zt(t)||c===Vs(Zt(t))))return p}const m=Bc(s[e]||p[e],t)||Bc(s.appContext[e],t);return!m&&r?p:m}}function Bc(e,t){return e&&(e[t]||e[Zt(t)]||e[Vs(Zt(t))])}function gt(e,t,n,r){let s;const p=n&&n[r];if(ye(e)||ze(e)){s=new Array(e.length);for(let m=0,c=e.length;m<c;m++)s[m]=t(e[m],m,void 0,p&&p[m])}else if(typeof e=="number"){s=new Array(e);for(let m=0;m<e;m++)s[m]=t(m+1,m,void 0,p&&p[m])}else if(Be(e))if(e[Symbol.iterator])s=Array.from(e,(m,c)=>t(m,c,void 0,p&&p[c]));else{const m=Object.keys(e);s=new Array(m.length);for(let c=0,i=m.length;c<i;c++){const h=m[c];s[c]=t(e[h],h,c,p&&p[c])}}else s=[];return n&&(n[r]=s),s}function em(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(ye(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const p=r.fn(...s);return p&&(p.key=r.key),p}:r.fn)}return e}function Ee(e,t,n={},r,s){if(ut.isCE||ut.parent&&fi(ut.parent)&&ut.parent.isCE)return t!=="default"&&(n.name=t),de("slot",n,r&&r());let p=e[t];p&&p._c&&(p._d=!1),se();const m=p&&Ih(p(n)),c=ke(Me,{key:n.key||m&&m.key||`_${t}`},m||(r?r():[]),m&&e._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),p&&p._c&&(p._d=!0),c}function Ih(e){return e.some(t=>Mr(t)?!(t.type===Ft||t.type===Me&&!Ih(t.children)):!0)?e:null}const Ca=e=>e?Gh(e)?so(e)||e.proxy:Ca(e.parent):null,hi=Qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ca(e.parent),$root:e=>Ca(e.root),$emit:e=>e.emit,$options:e=>ml(e),$forceUpdate:e=>e.f||(e.f=()=>gl(e.update)),$nextTick:e=>e.n||(e.n=Wt.bind(e.proxy)),$watch:e=>Uv.bind(e)}),Fo=(e,t)=>e!==Ue&&!e.__isScriptSetup&&De(e,t),tm={get({_:e},t){const{ctx:n,setupState:r,data:s,props:p,accessCache:m,type:c,appContext:i}=e;let h;if(t[0]!=="$"){const a=m[t];if(a!==void 0)switch(a){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return p[t]}else{if(Fo(r,t))return m[t]=1,r[t];if(s!==Ue&&De(s,t))return m[t]=2,s[t];if((h=e.propsOptions[0])&&De(h,t))return m[t]=3,p[t];if(n!==Ue&&De(n,t))return m[t]=4,n[t];Sa&&(m[t]=0)}}const f=hi[t];let o,l;if(f)return t==="$attrs"&&At(e,"get",t),f(e);if((o=c.__cssModules)&&(o=o[t]))return o;if(n!==Ue&&De(n,t))return m[t]=4,n[t];if(l=i.config.globalProperties,De(l,t))return l[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:p}=e;return Fo(s,t)?(s[t]=n,!0):r!==Ue&&De(r,t)?(r[t]=n,!0):De(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(p[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:p}},m){let c;return!!n[m]||e!==Ue&&De(e,m)||Fo(t,m)||(c=p[0])&&De(c,m)||De(r,m)||De(hi,m)||De(s.config.globalProperties,m)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:De(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function nm(){return Lh().slots}function Fh(){return Lh().attrs}function Lh(){const e=Bt();return e.setupContext||(e.setupContext=qh(e))}function jc(e){return ye(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Sa=!0;function rm(e){const t=ml(e),n=e.proxy,r=e.ctx;Sa=!1,t.beforeCreate&&Nc(t.beforeCreate,e,"bc");const{data:s,computed:p,methods:m,watch:c,provide:i,inject:h,created:f,beforeMount:o,mounted:l,beforeUpdate:a,updated:u,activated:g,deactivated:d,beforeDestroy:v,beforeUnmount:_,destroyed:y,unmounted:b,render:w,renderTracked:C,renderTriggered:S,errorCaptured:O,serverPrefetch:j,expose:Y,inheritAttrs:G,components:U,directives:ee,filters:ie}=t;if(h&&im(h,r,null),m)for(const X in m){const J=m[X];Ce(J)&&(r[X]=J.bind(n))}if(s){const X=s.call(n,n);Be(X)&&(e.data=hr(X))}if(Sa=!0,p)for(const X in p){const J=p[X],x=Ce(J)?J.bind(n,n):Ce(J.get)?J.get.bind(n,n):Ct,D=!Ce(J)&&Ce(J.set)?J.set.bind(n):Ct,R=oe({get:x,set:D});Object.defineProperty(r,X,{enumerable:!0,configurable:!0,get:()=>R.value,set:I=>R.value=I})}if(c)for(const X in c)Bh(c[X],r,n,X);if(i){const X=Ce(i)?i.call(n):i;Reflect.ownKeys(X).forEach(J=>{Je(J,X[J])})}f&&Nc(f,e,"c");function ce(X,J){ye(J)?J.forEach(x=>X(x.bind(n))):J&&X(J.bind(n))}if(ce(Ah,o),ce(nt,l),ce(Kv,a),ce(Mh,u),ce(Vv,g),ce(Ph,d),ce(Zv,O),ce(Qv,C),ce(Jv,S),ce(Lt,_),ce(ro,b),ce(qv,j),ye(Y))if(Y.length){const X=e.exposed||(e.exposed={});Y.forEach(J=>{Object.defineProperty(X,J,{get:()=>n[J],set:x=>n[J]=x})})}else e.exposed||(e.exposed={});w&&e.render===Ct&&(e.render=w),G!=null&&(e.inheritAttrs=G),U&&(e.components=U),ee&&(e.directives=ee)}function im(e,t,n=Ct){ye(e)&&(e=xa(e));for(const r in e){const s=e[r];let p;Be(s)?"default"in s?p=xe(s.from||r,s.default,!0):p=xe(s.from||r):p=xe(s),tt(p)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>p.value,set:m=>p.value=m}):t[r]=p}}function Nc(e,t,n){$t(ye(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Bh(e,t,n,r){const s=r.includes(".")?xh(n,r):()=>n[r];if(ze(e)){const p=t[e];Ce(p)&&Ae(s,p)}else if(Ce(e))Ae(s,e.bind(n));else if(Be(e))if(ye(e))e.forEach(p=>Bh(p,t,n,r));else{const p=Ce(e.handler)?e.handler.bind(n):t[e.handler];Ce(p)&&Ae(s,p,e)}}function ml(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:p,config:{optionMergeStrategies:m}}=e.appContext,c=p.get(t);let i;return c?i=c:!s.length&&!n&&!r?i=t:(i={},s.length&&s.forEach(h=>Es(i,h,m,!0)),Es(i,t,m)),Be(t)&&p.set(t,i),i}function Es(e,t,n,r=!1){const{mixins:s,extends:p}=t;p&&Es(e,p,n,!0),s&&s.forEach(m=>Es(e,m,n,!0));for(const m in t)if(!(r&&m==="expose")){const c=sm[m]||n&&n[m];e[m]=c?c(e[m],t[m]):t[m]}return e}const sm={data:zc,props:$c,emits:$c,methods:ci,computed:ci,beforeCreate:_t,created:_t,beforeMount:_t,mounted:_t,beforeUpdate:_t,updated:_t,beforeDestroy:_t,beforeUnmount:_t,destroyed:_t,unmounted:_t,activated:_t,deactivated:_t,errorCaptured:_t,serverPrefetch:_t,components:ci,directives:ci,watch:am,provide:zc,inject:om};function zc(e,t){return t?e?function(){return Qe(Ce(e)?e.call(this,this):e,Ce(t)?t.call(this,this):t)}:t:e}function om(e,t){return ci(xa(e),xa(t))}function xa(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function _t(e,t){return e?[...new Set([].concat(e,t))]:t}function ci(e,t){return e?Qe(Object.create(null),e,t):t}function $c(e,t){return e?ye(e)&&ye(t)?[...new Set([...e,...t])]:Qe(Object.create(null),jc(e),jc(t??{})):t}function am(e,t){if(!e)return t;if(!t)return e;const n=Qe(Object.create(null),e);for(const r in t)n[r]=_t(e[r],t[r]);return n}function jh(){return{app:null,config:{isNativeTag:Dg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lm=0;function cm(e,t){return function(r,s=null){Ce(r)||(r=Qe({},r)),s!=null&&!Be(s)&&(s=null);const p=jh(),m=new Set;let c=!1;const i=p.app={_uid:lm++,_component:r,_props:s,_container:null,_context:p,_instance:null,version:Im,get config(){return p.config},set config(h){},use(h,...f){return m.has(h)||(h&&Ce(h.install)?(m.add(h),h.install(i,...f)):Ce(h)&&(m.add(h),h(i,...f))),i},mixin(h){return p.mixins.includes(h)||p.mixins.push(h),i},component(h,f){return f?(p.components[h]=f,i):p.components[h]},directive(h,f){return f?(p.directives[h]=f,i):p.directives[h]},mount(h,f,o){if(!c){const l=de(r,s);return l.appContext=p,f&&t?t(l,h):e(l,h,o),c=!0,i._container=h,h.__vue_app__=i,so(l.component)||l.component.proxy}},unmount(){c&&(e(null,i._container),delete i._container.__vue_app__)},provide(h,f){return p.provides[h]=f,i},runWithContext(h){Ps=i;try{return h()}finally{Ps=null}}};return i}}let Ps=null;function Je(e,t){if(rt){let n=rt.provides;const r=rt.parent&&rt.parent.provides;r===n&&(n=rt.provides=Object.create(r)),n[e]=t}}function xe(e,t,n=!1){const r=rt||ut;if(r||Ps){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Ps._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Ce(t)?t.call(r&&r.proxy):t}}function um(e,t,n,r=!1){const s={},p={};Cs(p,io,1),e.propsDefaults=Object.create(null),Nh(e,t,s,p);for(const m in e.propsOptions[0])m in s||(s[m]=void 0);n?e.props=r?s:fl(s):e.type.props?e.props=s:e.props=p,e.attrs=p}function fm(e,t,n,r){const{props:s,attrs:p,vnode:{patchFlag:m}}=e,c=Fe(s),[i]=e.propsOptions;let h=!1;if((r||m>0)&&!(m&16)){if(m&8){const f=e.vnode.dynamicProps;for(let o=0;o<f.length;o++){let l=f[o];if(Js(e.emitsOptions,l))continue;const a=t[l];if(i)if(De(p,l))a!==p[l]&&(p[l]=a,h=!0);else{const u=Zt(l);s[u]=Ta(i,c,u,a,e,!1)}else a!==p[l]&&(p[l]=a,h=!0)}}}else{Nh(e,t,s,p)&&(h=!0);let f;for(const o in c)(!t||!De(t,o)&&((f=Yr(o))===o||!De(t,f)))&&(i?n&&(n[o]!==void 0||n[f]!==void 0)&&(s[o]=Ta(i,c,o,void 0,e,!0)):delete s[o]);if(p!==c)for(const o in p)(!t||!De(t,o))&&(delete p[o],h=!0)}h&&Tn(e,"set","$attrs")}function Nh(e,t,n,r){const[s,p]=e.propsOptions;let m=!1,c;if(t)for(let i in t){if(hs(i))continue;const h=t[i];let f;s&&De(s,f=Zt(i))?!p||!p.includes(f)?n[f]=h:(c||(c={}))[f]=h:Js(e.emitsOptions,i)||(!(i in r)||h!==r[i])&&(r[i]=h,m=!0)}if(p){const i=Fe(n),h=c||Ue;for(let f=0;f<p.length;f++){const o=p[f];n[o]=Ta(s,i,o,h[o],e,!De(h,o))}}return m}function Ta(e,t,n,r,s,p){const m=e[n];if(m!=null){const c=De(m,"default");if(c&&r===void 0){const i=m.default;if(m.type!==Function&&!m.skipFactory&&Ce(i)){const{propsDefaults:h}=s;n in h?r=h[n]:(Dr(s),r=h[n]=i.call(null,t),ar())}else r=i}m[0]&&(p&&!c?r=!1:m[1]&&(r===""||r===Yr(n))&&(r=!0))}return r}function zh(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const p=e.props,m={},c=[];let i=!1;if(!Ce(e)){const f=o=>{i=!0;const[l,a]=zh(o,t,!0);Qe(m,l),a&&c.push(...a)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!p&&!i)return Be(e)&&r.set(e,Or),Or;if(ye(p))for(let f=0;f<p.length;f++){const o=Zt(p[f]);Hc(o)&&(m[o]=Ue)}else if(p)for(const f in p){const o=Zt(f);if(Hc(o)){const l=p[f],a=m[o]=ye(l)||Ce(l)?{type:l}:Qe({},l);if(a){const u=Yc(Boolean,a.type),g=Yc(String,a.type);a[0]=u>-1,a[1]=g<0||u<g,(u>-1||De(a,"default"))&&c.push(o)}}}const h=[m,c];return Be(e)&&r.set(e,h),h}function Hc(e){return e[0]!=="$"}function Uc(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Wc(e,t){return Uc(e)===Uc(t)}function Yc(e,t){return ye(t)?t.findIndex(n=>Wc(n,e)):Ce(t)&&Wc(t,e)?0:-1}const $h=e=>e[0]==="_"||e==="$stable",_l=e=>ye(e)?e.map(ln):[ln(e)],hm=(e,t,n)=>{if(t._n)return t;const r=ve((...s)=>_l(t(...s)),n);return r._c=!1,r},Hh=(e,t,n)=>{const r=e._ctx;for(const s in e){if($h(s))continue;const p=e[s];if(Ce(p))t[s]=hm(s,p,r);else if(p!=null){const m=_l(p);t[s]=()=>m}}},Uh=(e,t)=>{const n=_l(t);e.slots.default=()=>n},dm=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Fe(t),Cs(t,"_",n)):Hh(t,e.slots={})}else e.slots={},t&&Uh(e,t);Cs(e.slots,io,1)},pm=(e,t,n)=>{const{vnode:r,slots:s}=e;let p=!0,m=Ue;if(r.shapeFlag&32){const c=t._;c?n&&c===1?p=!1:(Qe(s,t),!n&&c===1&&delete s._):(p=!t.$stable,Hh(t,s)),m=t}else t&&(Uh(e,t),m={default:1});if(p)for(const c in s)!$h(c)&&!(c in m)&&delete s[c]};function Oa(e,t,n,r,s=!1){if(ye(e)){e.forEach((l,a)=>Oa(l,t&&(ye(t)?t[a]:t),n,r,s));return}if(fi(r)&&!s)return;const p=r.shapeFlag&4?so(r.component)||r.component.proxy:r.el,m=s?null:p,{i:c,r:i}=e,h=t&&t.r,f=c.refs===Ue?c.refs={}:c.refs,o=c.setupState;if(h!=null&&h!==i&&(ze(h)?(f[h]=null,De(o,h)&&(o[h]=null)):tt(h)&&(h.value=null)),Ce(i))Wn(i,c,12,[m,f]);else{const l=ze(i),a=tt(i);if(l||a){const u=()=>{if(e.f){const g=l?De(o,i)?o[i]:f[i]:i.value;s?ye(g)&&il(g,p):ye(g)?g.includes(p)||g.push(p):l?(f[i]=[p],De(o,i)&&(o[i]=f[i])):(i.value=[p],e.k&&(f[e.k]=i.value))}else l?(f[i]=m,De(o,i)&&(o[i]=m)):a&&(i.value=m,e.k&&(f[e.k]=m))};m?(u.id=-1,Tt(u,n)):u()}}}const Tt=Hv;function gm(e){return vm(e)}function vm(e,t){const n=ga();n.__VUE__=!0;const{insert:r,remove:s,patchProp:p,createElement:m,createText:c,createComment:i,setText:h,setElementText:f,parentNode:o,nextSibling:l,setScopeId:a=Ct,insertStaticContent:u}=e,g=(k,T,P,L=null,$=null,N=null,W=!1,q=null,re=!!T.dynamicChildren)=>{if(k===T)return;k&&!tr(k,T)&&(L=A(k),I(k,$,N,!0),k=null),T.patchFlag===-2&&(re=!1,T.dynamicChildren=null);const{type:Z,ref:V,shapeFlag:ae}=T;switch(Z){case Gr:d(k,T,P,L);break;case Ft:v(k,T,P,L);break;case ps:k==null&&_(T,P,L,W);break;case Me:U(k,T,P,L,$,N,W,q,re);break;default:ae&1?w(k,T,P,L,$,N,W,q,re):ae&6?ee(k,T,P,L,$,N,W,q,re):(ae&64||ae&128)&&Z.process(k,T,P,L,$,N,W,q,re,z)}V!=null&&$&&Oa(V,k&&k.ref,N,T||k,!T)},d=(k,T,P,L)=>{if(k==null)r(T.el=c(T.children),P,L);else{const $=T.el=k.el;T.children!==k.children&&h($,T.children)}},v=(k,T,P,L)=>{k==null?r(T.el=i(T.children||""),P,L):T.el=k.el},_=(k,T,P,L)=>{[k.el,k.anchor]=u(k.children,T,P,L,k.el,k.anchor)},y=({el:k,anchor:T},P,L)=>{let $;for(;k&&k!==T;)$=l(k),r(k,P,L),k=$;r(T,P,L)},b=({el:k,anchor:T})=>{let P;for(;k&&k!==T;)P=l(k),s(k),k=P;s(T)},w=(k,T,P,L,$,N,W,q,re)=>{W=W||T.type==="svg",k==null?C(T,P,L,$,N,W,q,re):j(k,T,$,N,W,q,re)},C=(k,T,P,L,$,N,W,q)=>{let re,Z;const{type:V,props:ae,shapeFlag:he,transition:ge,dirs:me}=k;if(re=k.el=m(k.type,N,ae&&ae.is,ae),he&8?f(re,k.children):he&16&&O(k.children,re,null,L,$,N&&V!=="foreignObject",W,q),me&&Kn(k,null,L,"created"),S(re,k,k.scopeId,W,L),ae){for(const be in ae)be!=="value"&&!hs(be)&&p(re,be,null,ae[be],N,k.children,L,$,H);"value"in ae&&p(re,"value",null,ae.value),(Z=ae.onVnodeBeforeMount)&&an(Z,L,k)}me&&Kn(k,null,L,"beforeMount");const _e=(!$||$&&!$.pendingBranch)&&ge&&!ge.persisted;_e&&ge.beforeEnter(re),r(re,T,P),((Z=ae&&ae.onVnodeMounted)||_e||me)&&Tt(()=>{Z&&an(Z,L,k),_e&&ge.enter(re),me&&Kn(k,null,L,"mounted")},$)},S=(k,T,P,L,$)=>{if(P&&a(k,P),L)for(let N=0;N<L.length;N++)a(k,L[N]);if($){let N=$.subTree;if(T===N){const W=$.vnode;S(k,W,W.scopeId,W.slotScopeIds,$.parent)}}},O=(k,T,P,L,$,N,W,q,re=0)=>{for(let Z=re;Z<k.length;Z++){const V=k[Z]=q?jn(k[Z]):ln(k[Z]);g(null,V,T,P,L,$,N,W,q)}},j=(k,T,P,L,$,N,W)=>{const q=T.el=k.el;let{patchFlag:re,dynamicChildren:Z,dirs:V}=T;re|=k.patchFlag&16;const ae=k.props||Ue,he=T.props||Ue;let ge;P&&qn(P,!1),(ge=he.onVnodeBeforeUpdate)&&an(ge,P,T,k),V&&Kn(T,k,P,"beforeUpdate"),P&&qn(P,!0);const me=$&&T.type!=="foreignObject";if(Z?Y(k.dynamicChildren,Z,q,P,L,me,N):W||J(k,T,q,null,P,L,me,N,!1),re>0){if(re&16)G(q,T,ae,he,P,L,$);else if(re&2&&ae.class!==he.class&&p(q,"class",null,he.class,$),re&4&&p(q,"style",ae.style,he.style,$),re&8){const _e=T.dynamicProps;for(let be=0;be<_e.length;be++){const Oe=_e[be],Ge=ae[Oe],mt=he[Oe];(mt!==Ge||Oe==="value")&&p(q,Oe,Ge,mt,$,k.children,P,L,H)}}re&1&&k.children!==T.children&&f(q,T.children)}else!W&&Z==null&&G(q,T,ae,he,P,L,$);((ge=he.onVnodeUpdated)||V)&&Tt(()=>{ge&&an(ge,P,T,k),V&&Kn(T,k,P,"updated")},L)},Y=(k,T,P,L,$,N,W)=>{for(let q=0;q<T.length;q++){const re=k[q],Z=T[q],V=re.el&&(re.type===Me||!tr(re,Z)||re.shapeFlag&70)?o(re.el):P;g(re,Z,V,null,L,$,N,W,!0)}},G=(k,T,P,L,$,N,W)=>{if(P!==L){if(P!==Ue)for(const q in P)!hs(q)&&!(q in L)&&p(k,q,P[q],null,W,T.children,$,N,H);for(const q in L){if(hs(q))continue;const re=L[q],Z=P[q];re!==Z&&q!=="value"&&p(k,q,Z,re,W,T.children,$,N,H)}"value"in L&&p(k,"value",P.value,L.value)}},U=(k,T,P,L,$,N,W,q,re)=>{const Z=T.el=k?k.el:c(""),V=T.anchor=k?k.anchor:c("");let{patchFlag:ae,dynamicChildren:he,slotScopeIds:ge}=T;ge&&(q=q?q.concat(ge):ge),k==null?(r(Z,P,L),r(V,P,L),O(T.children,P,V,$,N,W,q,re)):ae>0&&ae&64&&he&&k.dynamicChildren?(Y(k.dynamicChildren,he,P,$,N,W,q),(T.key!=null||$&&T===$.subTree)&&yl(k,T,!0)):J(k,T,P,V,$,N,W,q,re)},ee=(k,T,P,L,$,N,W,q,re)=>{T.slotScopeIds=q,k==null?T.shapeFlag&512?$.ctx.activate(T,P,L,W,re):ie(T,P,L,$,N,W,re):le(k,T,re)},ie=(k,T,P,L,$,N,W)=>{const q=k.component=Om(k,L,$);if(to(k)&&(q.ctx.renderer=z),Em(q),q.asyncDep){if($&&$.registerDep(q,ce),!k.el){const re=q.subTree=de(Ft);v(null,re,T,P)}return}ce(q,k,T,P,$,N,W)},le=(k,T,P)=>{const L=T.component=k.component;if(Nv(k,T,P))if(L.asyncDep&&!L.asyncResolved){X(L,T,P);return}else L.next=T,Rv(L.update),L.update();else T.el=k.el,L.vnode=T},ce=(k,T,P,L,$,N,W)=>{const q=()=>{if(k.isMounted){let{next:V,bu:ae,u:he,parent:ge,vnode:me}=k,_e=V,be;qn(k,!1),V?(V.el=me.el,X(k,V,W)):V=me,ae&&ds(ae),(be=V.props&&V.props.onVnodeBeforeUpdate)&&an(be,ge,V,me),qn(k,!0);const Oe=Ro(k),Ge=k.subTree;k.subTree=Oe,g(Ge,Oe,o(Ge.el),A(Ge),k,$,N),V.el=Oe.el,_e===null&&zv(k,Oe.el),he&&Tt(he,$),(be=V.props&&V.props.onVnodeUpdated)&&Tt(()=>an(be,ge,V,me),$)}else{let V;const{el:ae,props:he}=T,{bm:ge,m:me,parent:_e}=k,be=fi(T);if(qn(k,!1),ge&&ds(ge),!be&&(V=he&&he.onVnodeBeforeMount)&&an(V,_e,T),qn(k,!0),ae&&ne){const Oe=()=>{k.subTree=Ro(k),ne(ae,k.subTree,k,$,null)};be?T.type.__asyncLoader().then(()=>!k.isUnmounted&&Oe()):Oe()}else{const Oe=k.subTree=Ro(k);g(null,Oe,P,L,k,$,N),T.el=Oe.el}if(me&&Tt(me,$),!be&&(V=he&&he.onVnodeMounted)){const Oe=T;Tt(()=>an(V,_e,Oe),$)}(T.shapeFlag&256||_e&&fi(_e.vnode)&&_e.vnode.shapeFlag&256)&&k.a&&Tt(k.a,$),k.isMounted=!0,T=P=L=null}},re=k.effect=new al(q,()=>gl(Z),k.scope),Z=k.update=()=>re.run();Z.id=k.uid,qn(k,!0),Z()},X=(k,T,P)=>{T.component=k;const L=k.vnode.props;k.vnode=T,k.next=null,fm(k,T.props,L,P),pm(k,T.children,P),Xr(),Ic(),Vr()},J=(k,T,P,L,$,N,W,q,re=!1)=>{const Z=k&&k.children,V=k?k.shapeFlag:0,ae=T.children,{patchFlag:he,shapeFlag:ge}=T;if(he>0){if(he&128){D(Z,ae,P,L,$,N,W,q,re);return}else if(he&256){x(Z,ae,P,L,$,N,W,q,re);return}}ge&8?(V&16&&H(Z,$,N),ae!==Z&&f(P,ae)):V&16?ge&16?D(Z,ae,P,L,$,N,W,q,re):H(Z,$,N,!0):(V&8&&f(P,""),ge&16&&O(ae,P,L,$,N,W,q,re))},x=(k,T,P,L,$,N,W,q,re)=>{k=k||Or,T=T||Or;const Z=k.length,V=T.length,ae=Math.min(Z,V);let he;for(he=0;he<ae;he++){const ge=T[he]=re?jn(T[he]):ln(T[he]);g(k[he],ge,P,null,$,N,W,q,re)}Z>V?H(k,$,N,!0,!1,ae):O(T,P,L,$,N,W,q,re,ae)},D=(k,T,P,L,$,N,W,q,re)=>{let Z=0;const V=T.length;let ae=k.length-1,he=V-1;for(;Z<=ae&&Z<=he;){const ge=k[Z],me=T[Z]=re?jn(T[Z]):ln(T[Z]);if(tr(ge,me))g(ge,me,P,null,$,N,W,q,re);else break;Z++}for(;Z<=ae&&Z<=he;){const ge=k[ae],me=T[he]=re?jn(T[he]):ln(T[he]);if(tr(ge,me))g(ge,me,P,null,$,N,W,q,re);else break;ae--,he--}if(Z>ae){if(Z<=he){const ge=he+1,me=ge<V?T[ge].el:L;for(;Z<=he;)g(null,T[Z]=re?jn(T[Z]):ln(T[Z]),P,me,$,N,W,q,re),Z++}}else if(Z>he)for(;Z<=ae;)I(k[Z],$,N,!0),Z++;else{const ge=Z,me=Z,_e=new Map;for(Z=me;Z<=he;Z++){const We=T[Z]=re?jn(T[Z]):ln(T[Z]);We.key!=null&&_e.set(We.key,Z)}let be,Oe=0;const Ge=he-me+1;let mt=!1,pt=0;const rn=new Array(Ge);for(Z=0;Z<Ge;Z++)rn[Z]=0;for(Z=ge;Z<=ae;Z++){const We=k[Z];if(Oe>=Ge){I(We,$,N,!0);continue}let st;if(We.key!=null)st=_e.get(We.key);else for(be=me;be<=he;be++)if(rn[be-me]===0&&tr(We,T[be])){st=be;break}st===void 0?I(We,$,N,!0):(rn[st-me]=Z+1,st>=pt?pt=st:mt=!0,g(We,T[st],P,null,$,N,W,q,re),Oe++)}const Vn=mt?mm(rn):Or;for(be=Vn.length-1,Z=Ge-1;Z>=0;Z--){const We=me+Z,st=T[We],Qr=We+1<V?T[We+1].el:L;rn[Z]===0?g(null,st,P,Qr,$,N,W,q,re):mt&&(be<0||Z!==Vn[be]?R(st,P,Qr,2):be--)}}},R=(k,T,P,L,$=null)=>{const{el:N,type:W,transition:q,children:re,shapeFlag:Z}=k;if(Z&6){R(k.component.subTree,T,P,L);return}if(Z&128){k.suspense.move(T,P,L);return}if(Z&64){W.move(k,T,P,z);return}if(W===Me){r(N,T,P);for(let ae=0;ae<re.length;ae++)R(re[ae],T,P,L);r(k.anchor,T,P);return}if(W===ps){y(k,T,P);return}if(L!==2&&Z&1&&q)if(L===0)q.beforeEnter(N),r(N,T,P),Tt(()=>q.enter(N),$);else{const{leave:ae,delayLeave:he,afterLeave:ge}=q,me=()=>r(N,T,P),_e=()=>{ae(N,()=>{me(),ge&&ge()})};he?he(N,me,_e):_e()}else r(N,T,P)},I=(k,T,P,L=!1,$=!1)=>{const{type:N,props:W,ref:q,children:re,dynamicChildren:Z,shapeFlag:V,patchFlag:ae,dirs:he}=k;if(q!=null&&Oa(q,null,P,k,!0),V&256){T.ctx.deactivate(k);return}const ge=V&1&&he,me=!fi(k);let _e;if(me&&(_e=W&&W.onVnodeBeforeUnmount)&&an(_e,T,k),V&6)E(k.component,P,L);else{if(V&128){k.suspense.unmount(P,L);return}ge&&Kn(k,null,T,"beforeUnmount"),V&64?k.type.remove(k,T,P,$,z,L):Z&&(N!==Me||ae>0&&ae&64)?H(Z,T,P,!1,!0):(N===Me&&ae&384||!$&&V&16)&&H(re,T,P),L&&Q(k)}(me&&(_e=W&&W.onVnodeUnmounted)||ge)&&Tt(()=>{_e&&an(_e,T,k),ge&&Kn(k,null,T,"unmounted")},P)},Q=k=>{const{type:T,el:P,anchor:L,transition:$}=k;if(T===Me){M(P,L);return}if(T===ps){b(k);return}const N=()=>{s(P),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(k.shapeFlag&1&&$&&!$.persisted){const{leave:W,delayLeave:q}=$,re=()=>W(P,N);q?q(k.el,N,re):re()}else N()},M=(k,T)=>{let P;for(;k!==T;)P=l(k),s(k),k=P;s(T)},E=(k,T,P)=>{const{bum:L,scope:$,update:N,subTree:W,um:q}=k;L&&ds(L),$.stop(),N&&(N.active=!1,I(W,k,T,P)),q&&Tt(q,T),Tt(()=>{k.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},H=(k,T,P,L=!1,$=!1,N=0)=>{for(let W=N;W<k.length;W++)I(k[W],T,P,L,$)},A=k=>k.shapeFlag&6?A(k.component.subTree):k.shapeFlag&128?k.suspense.next():l(k.anchor||k.el),F=(k,T,P)=>{k==null?T._vnode&&I(T._vnode,null,null,!0):g(T._vnode||null,k,T,null,null,null,P),Ic(),bh(),T._vnode=k},z={p:g,um:I,m:R,r:Q,mt:ie,mc:O,pc:J,pbc:Y,n:A,o:e};let K,ne;return t&&([K,ne]=t(z)),{render:F,hydrate:K,createApp:cm(F,K)}}function qn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function yl(e,t,n=!1){const r=e.children,s=t.children;if(ye(r)&&ye(s))for(let p=0;p<r.length;p++){const m=r[p];let c=s[p];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[p]=jn(s[p]),c.el=m.el),n||yl(m,c)),c.type===Gr&&(c.el=m.el)}}function mm(e){const t=e.slice(),n=[0];let r,s,p,m,c;const i=e.length;for(r=0;r<i;r++){const h=e[r];if(h!==0){if(s=n[n.length-1],e[s]<h){t[r]=s,n.push(r);continue}for(p=0,m=n.length-1;p<m;)c=p+m>>1,e[n[c]]<h?p=c+1:m=c;h<e[n[p]]&&(p>0&&(t[r]=n[p-1]),n[p]=r)}}for(p=n.length,m=n[p-1];p-- >0;)n[p]=m,m=t[m];return n}const _m=e=>e.__isTeleport,di=e=>e&&(e.disabled||e.disabled===""),Xc=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Ea=(e,t)=>{const n=e&&e.to;return ze(n)?t?t(n):null:n},ym={__isTeleport:!0,process(e,t,n,r,s,p,m,c,i,h){const{mc:f,pc:o,pbc:l,o:{insert:a,querySelector:u,createText:g,createComment:d}}=h,v=di(t.props);let{shapeFlag:_,children:y,dynamicChildren:b}=t;if(e==null){const w=t.el=g(""),C=t.anchor=g("");a(w,n,r),a(C,n,r);const S=t.target=Ea(t.props,u),O=t.targetAnchor=g("");S&&(a(O,S),m=m||Xc(S));const j=(Y,G)=>{_&16&&f(y,Y,G,s,p,m,c,i)};v?j(n,C):S&&j(S,O)}else{t.el=e.el;const w=t.anchor=e.anchor,C=t.target=e.target,S=t.targetAnchor=e.targetAnchor,O=di(e.props),j=O?n:C,Y=O?w:S;if(m=m||Xc(C),b?(l(e.dynamicChildren,b,j,s,p,m,c),yl(e,t,!0)):i||o(e,t,j,Y,s,p,m,c,!1),v)O||ts(t,n,w,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const G=t.target=Ea(t.props,u);G&&ts(t,G,null,h,0)}else O&&ts(t,C,S,h,1)}Wh(t)},remove(e,t,n,r,{um:s,o:{remove:p}},m){const{shapeFlag:c,children:i,anchor:h,targetAnchor:f,target:o,props:l}=e;if(o&&p(f),(m||!di(l))&&(p(h),c&16))for(let a=0;a<i.length;a++){const u=i[a];s(u,t,n,!0,!!u.dynamicChildren)}},move:ts,hydrate:bm};function ts(e,t,n,{o:{insert:r},m:s},p=2){p===0&&r(e.targetAnchor,t,n);const{el:m,anchor:c,shapeFlag:i,children:h,props:f}=e,o=p===2;if(o&&r(m,t,n),(!o||di(f))&&i&16)for(let l=0;l<h.length;l++)s(h[l],t,n,2);o&&r(c,t,n)}function bm(e,t,n,r,s,p,{o:{nextSibling:m,parentNode:c,querySelector:i}},h){const f=t.target=Ea(t.props,i);if(f){const o=f._lpa||f.firstChild;if(t.shapeFlag&16)if(di(t.props))t.anchor=h(m(e),t,c(e),n,r,s,p),t.targetAnchor=o;else{t.anchor=m(e);let l=o;for(;l;)if(l=m(l),l&&l.nodeType===8&&l.data==="teleport anchor"){t.targetAnchor=l,f._lpa=t.targetAnchor&&m(t.targetAnchor);break}h(o,t,f,n,r,s,p)}Wh(t)}return t.anchor&&m(t.anchor)}const bl=ym;function Wh(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Me=Symbol.for("v-fgt"),Gr=Symbol.for("v-txt"),Ft=Symbol.for("v-cmt"),ps=Symbol.for("v-stc"),pi=[];let Jt=null;function se(e=!1){pi.push(Jt=e?null:[])}function wm(){pi.pop(),Jt=pi[pi.length-1]||null}let ki=1;function Vc(e){ki+=e}function Yh(e){return e.dynamicChildren=ki>0?Jt||Or:null,wm(),ki>0&&Jt&&Jt.push(e),e}function pe(e,t,n,r,s,p){return Yh(te(e,t,n,r,s,p,!0))}function ke(e,t,n,r,s){return Yh(de(e,t,n,r,s,!0))}function Mr(e){return e?e.__v_isVNode===!0:!1}function tr(e,t){return e.type===t.type&&e.key===t.key}const io="__vInternal",Xh=({key:e})=>e??null,gs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ze(e)||tt(e)||Ce(e)?{i:ut,r:e,k:t,f:!!n}:e:null);function te(e,t=null,n=null,r=0,s=null,p=e===Me?0:1,m=!1,c=!1){const i={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Xh(t),ref:t&&gs(t),scopeId:Qs,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ut};return c?(wl(i,n),p&128&&e.normalize(i)):n&&(i.shapeFlag|=ze(n)?8:16),ki>0&&!m&&Jt&&(i.patchFlag>0||p&6)&&i.patchFlag!==32&&Jt.push(i),i}const de=Cm;function Cm(e,t=null,n=null,r=0,s=null,p=!1){if((!e||e===Dh)&&(e=Ft),Mr(e)){const c=On(e,t,!0);return n&&wl(c,n),ki>0&&!p&&Jt&&(c.shapeFlag&6?Jt[Jt.indexOf(e)]=c:Jt.push(c)),c.patchFlag|=-2,c}if(Mm(e)&&(e=e.__vccOpts),t){t=Vh(t);let{class:c,style:i}=t;c&&!ze(c)&&(t.class=Se(c)),Be(i)&&(dh(i)&&!ye(i)&&(i=Qe({},i)),t.style=Ye(i))}const m=ze(e)?1:$v(e)?128:_m(e)?64:Be(e)?4:Ce(e)?2:0;return te(e,t,n,r,s,m,p,!0)}function Vh(e){return e?dh(e)||io in e?Qe({},e):e:null}function On(e,t,n=!1){const{props:r,ref:s,patchFlag:p,children:m}=e,c=t?Yt(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Xh(c),ref:t&&t.ref?n&&s?ye(s)?s.concat(gs(t)):[s,gs(t)]:gs(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:m,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?p===-1?16:p|16:p,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&On(e.ssContent),ssFallback:e.ssFallback&&On(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ai(e=" ",t=0){return de(Gr,null,e,t)}function Sm(e,t){const n=de(ps,null,e);return n.staticCount=t,n}function Ie(e="",t=!1){return t?(se(),ke(Ft,null,e)):de(Ft,null,e)}function ln(e){return e==null||typeof e=="boolean"?de(Ft):ye(e)?de(Me,null,e.slice()):typeof e=="object"?jn(e):de(Gr,null,String(e))}function jn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:On(e)}function wl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ye(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),wl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(io in t)?t._ctx=ut:s===3&&ut&&(ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ce(t)?(t={default:t,_ctx:ut},n=32):(t=String(t),r&64?(n=16,t=[Ai(t)]):n=8);e.children=t,e.shapeFlag|=n}function Yt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Se([t.class,r.class]));else if(s==="style")t.style=Ye([t.style,r.style]);else if(Ws(s)){const p=t[s],m=r[s];m&&p!==m&&!(ye(p)&&p.includes(m))&&(t[s]=p?[].concat(p,m):m)}else s!==""&&(t[s]=r[s])}return t}function an(e,t,n,r=null){$t(e,t,7,[n,r])}const xm=jh();let Tm=0;function Om(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||xm,p={uid:Tm++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new eh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zh(r,s),emitsOptions:Ch(r,s),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:r.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=t?t.root:p,p.emit=Lv.bind(null,p),e.ce&&e.ce(p),p}let rt=null;const Bt=()=>rt||ut;let Cl,_r,Gc="__VUE_INSTANCE_SETTERS__";(_r=ga()[Gc])||(_r=ga()[Gc]=[]),_r.push(e=>rt=e),Cl=e=>{_r.length>1?_r.forEach(t=>t(e)):_r[0](e)};const Dr=e=>{Cl(e),e.scope.on()},ar=()=>{rt&&rt.scope.off(),Cl(null)};function Gh(e){return e.vnode.shapeFlag&4}let Mi=!1;function Em(e,t=!1){Mi=t;const{props:n,children:r}=e.vnode,s=Gh(e);um(e,n,s,t),dm(e,r);const p=s?Pm(e,t):void 0;return Mi=!1,p}function Pm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ts(new Proxy(e.ctx,tm));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?qh(e):null;Dr(e),Xr();const p=Wn(r,e,0,[e.props,s]);if(Vr(),ar(),Gf(p)){if(p.then(ar,ar),t)return p.then(m=>{Kc(e,m,t)}).catch(m=>{qs(m,e,0)});e.asyncDep=p}else Kc(e,p,t)}else Kh(e,t)}function Kc(e,t,n){Ce(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Be(t)&&(e.setupState=mh(t)),Kh(e,n)}let qc;function Kh(e,t,n){const r=e.type;if(!e.render){if(!t&&qc&&!r.render){const s=r.template||ml(e).template;if(s){const{isCustomElement:p,compilerOptions:m}=e.appContext.config,{delimiters:c,compilerOptions:i}=r,h=Qe(Qe({isCustomElement:p,delimiters:c},m),i);r.render=qc(s,h)}}e.render=r.render||Ct}Dr(e),Xr(),rm(e),Vr(),ar()}function km(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return At(e,"get","$attrs"),t[n]}}))}function qh(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return km(e)},slots:e.slots,emit:e.emit,expose:t}}function so(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(mh(Ts(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in hi)return hi[n](e)},has(t,n){return n in t||n in hi}}))}function Am(e,t=!0){return Ce(e)?e.displayName||e.name:e.name||t&&e.__name}function Mm(e){return Ce(e)&&"__vccOpts"in e}const oe=(e,t)=>kv(e,t,Mi);function Sl(e,t,n){const r=arguments.length;return r===2?Be(t)&&!ye(t)?Mr(t)?de(e,null,[t]):de(e,t):de(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Mr(n)&&(n=[n]),de(e,t,n))}const Dm=Symbol.for("v-scx"),Rm=()=>xe(Dm),Im="3.3.4",Fm="http://www.w3.org/2000/svg",nr=typeof document<"u"?document:null,Jc=nr&&nr.createElement("template"),Lm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?nr.createElementNS(Fm,e):nr.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>nr.createTextNode(e),createComment:e=>nr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>nr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,p){const m=n?n.previousSibling:t.lastChild;if(s&&(s===p||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===p||!(s=s.nextSibling)););else{Jc.innerHTML=r?`<svg>${e}</svg>`:e;const c=Jc.content;if(r){const i=c.firstChild;for(;i.firstChild;)c.appendChild(i.firstChild);c.removeChild(i)}t.insertBefore(c,n)}return[m?m.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Bm(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function jm(e,t,n){const r=e.style,s=ze(n);if(n&&!s){if(t&&!ze(t))for(const p in t)n[p]==null&&Pa(r,p,"");for(const p in n)Pa(r,p,n[p])}else{const p=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=p)}}const Qc=/\s*!important$/;function Pa(e,t,n){if(ye(n))n.forEach(r=>Pa(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Nm(e,t);Qc.test(n)?e.setProperty(Yr(r),n.replace(Qc,""),"important"):e[r]=n}}const Zc=["Webkit","Moz","ms"],Lo={};function Nm(e,t){const n=Lo[t];if(n)return n;let r=Zt(t);if(r!=="filter"&&r in e)return Lo[t]=r;r=Vs(r);for(let s=0;s<Zc.length;s++){const p=Zc[s]+r;if(p in e)return Lo[t]=p}return t}const eu="http://www.w3.org/1999/xlink";function zm(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(eu,t.slice(6,t.length)):e.setAttributeNS(eu,t,n);else{const p=Xg(t);n==null||p&&!Jf(n)?e.removeAttribute(t):e.setAttribute(t,p?"":n)}}function $m(e,t,n,r,s,p,m){if(t==="innerHTML"||t==="textContent"){r&&m(r,s,p),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=n;const h=c==="OPTION"?e.getAttribute("value"):e.value,f=n??"";h!==f&&(e.value=f),n==null&&e.removeAttribute(t);return}let i=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=Jf(n):n==null&&h==="string"?(n="",i=!0):h==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(t)}function Jh(e,t,n,r){e.addEventListener(t,n,r)}function Hm(e,t,n,r){e.removeEventListener(t,n,r)}function Um(e,t,n,r,s=null){const p=e._vei||(e._vei={}),m=p[t];if(r&&m)m.value=r;else{const[c,i]=Wm(t);if(r){const h=p[t]=Vm(r,s);Jh(e,c,h,i)}else m&&(Hm(e,c,m,i),p[t]=void 0)}}const tu=/(?:Once|Passive|Capture)$/;function Wm(e){let t;if(tu.test(e)){t={};let r;for(;r=e.match(tu);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yr(e.slice(2)),t]}let Bo=0;const Ym=Promise.resolve(),Xm=()=>Bo||(Ym.then(()=>Bo=0),Bo=Date.now());function Vm(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;$t(Gm(r,n.value),t,5,[r])};return n.value=e,n.attached=Xm(),n}function Gm(e,t){if(ye(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const nu=/^on[a-z]/,Km=(e,t,n,r,s=!1,p,m,c,i)=>{t==="class"?Bm(e,r,s):t==="style"?jm(e,n,r):Ws(t)?rl(t)||Um(e,t,n,r,m):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):qm(e,t,r,s))?$m(e,t,r,p,m,c,i):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),zm(e,t,r,s))};function qm(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&nu.test(t)&&Ce(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nu.test(t)&&ze(n)?!1:t in e}const Dn="transition",ti="animation",gn=(e,{slots:t})=>Sl(Xv,Jm(e),t);gn.displayName="Transition";const Qh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};gn.props=Qe({},Th,Qh);const Jn=(e,t=[])=>{ye(e)?e.forEach(n=>n(...t)):e&&e(...t)},ru=e=>e?ye(e)?e.some(t=>t.length>1):e.length>1:!1;function Jm(e){const t={};for(const U in e)U in Qh||(t[U]=e[U]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:p=`${n}-enter-from`,enterActiveClass:m=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:i=p,appearActiveClass:h=m,appearToClass:f=c,leaveFromClass:o=`${n}-leave-from`,leaveActiveClass:l=`${n}-leave-active`,leaveToClass:a=`${n}-leave-to`}=e,u=Qm(s),g=u&&u[0],d=u&&u[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:y,onLeave:b,onLeaveCancelled:w,onBeforeAppear:C=v,onAppear:S=_,onAppearCancelled:O=y}=t,j=(U,ee,ie)=>{Qn(U,ee?f:c),Qn(U,ee?h:m),ie&&ie()},Y=(U,ee)=>{U._isLeaving=!1,Qn(U,o),Qn(U,a),Qn(U,l),ee&&ee()},G=U=>(ee,ie)=>{const le=U?S:_,ce=()=>j(ee,U,ie);Jn(le,[ee,ce]),iu(()=>{Qn(ee,U?i:p),Rn(ee,U?f:c),ru(le)||su(ee,r,g,ce)})};return Qe(t,{onBeforeEnter(U){Jn(v,[U]),Rn(U,p),Rn(U,m)},onBeforeAppear(U){Jn(C,[U]),Rn(U,i),Rn(U,h)},onEnter:G(!1),onAppear:G(!0),onLeave(U,ee){U._isLeaving=!0;const ie=()=>Y(U,ee);Rn(U,o),t0(),Rn(U,l),iu(()=>{U._isLeaving&&(Qn(U,o),Rn(U,a),ru(b)||su(U,r,d,ie))}),Jn(b,[U,ie])},onEnterCancelled(U){j(U,!1),Jn(y,[U])},onAppearCancelled(U){j(U,!0),Jn(O,[U])},onLeaveCancelled(U){Y(U),Jn(w,[U])}})}function Qm(e){if(e==null)return null;if(Be(e))return[jo(e.enter),jo(e.leave)];{const t=jo(e);return[t,t]}}function jo(e){return Ng(e)}function Rn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Qn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function iu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Zm=0;function su(e,t,n,r){const s=e._endId=++Zm,p=()=>{s===e._endId&&r()};if(n)return setTimeout(p,n);const{type:m,timeout:c,propCount:i}=e0(e,t);if(!m)return r();const h=m+"end";let f=0;const o=()=>{e.removeEventListener(h,l),p()},l=a=>{a.target===e&&++f>=i&&o()};setTimeout(()=>{f<i&&o()},c+1),e.addEventListener(h,l)}function e0(e,t){const n=window.getComputedStyle(e),r=u=>(n[u]||"").split(", "),s=r(`${Dn}Delay`),p=r(`${Dn}Duration`),m=ou(s,p),c=r(`${ti}Delay`),i=r(`${ti}Duration`),h=ou(c,i);let f=null,o=0,l=0;t===Dn?m>0&&(f=Dn,o=m,l=p.length):t===ti?h>0&&(f=ti,o=h,l=i.length):(o=Math.max(m,h),f=o>0?m>h?Dn:ti:null,l=f?f===Dn?p.length:i.length:0);const a=f===Dn&&/\b(transform|all)(,|$)/.test(r(`${Dn}Property`).toString());return{type:f,timeout:o,propCount:l,hasTransform:a}}function ou(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>au(n)+au(e[r])))}function au(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function t0(){return document.body.offsetHeight}const lu=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ye(t)?n=>ds(t,n):t},n0={deep:!0,created(e,t,n){e._assign=lu(n),Jh(e,"change",()=>{const r=e._modelValue,s=r0(e),p=e.checked,m=e._assign;if(ye(r)){const c=Qf(r,s),i=c!==-1;if(p&&!i)m(r.concat(s));else if(!p&&i){const h=[...r];h.splice(c,1),m(h)}}else if(Ys(r)){const c=new Set(r);p?c.add(s):c.delete(s),m(c)}else m(Zh(e,p))})},mounted:cu,beforeUpdate(e,t,n){e._assign=lu(n),cu(e,t,n)}};function cu(e,{value:t,oldValue:n},r){e._modelValue=t,ye(t)?e.checked=Qf(t,r.props.value)>-1:Ys(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Gs(t,Zh(e,!0)))}function r0(e){return"_value"in e?e._value:e.value}function Zh(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const i0=["ctrl","shift","alt","meta"],s0={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>i0.some(n=>e[`${n}Key`]&&!t.includes(n))},cr=(e,t)=>(n,...r)=>{for(let s=0;s<t.length;s++){const p=s0[t[s]];if(p&&p(n,t))return}return e(n,...r)},bt={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ni(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ni(e,!0),r.enter(e)):r.leave(e,()=>{ni(e,!1)}):ni(e,t))},beforeUnmount(e,{value:t}){ni(e,t)}};function ni(e,t){e.style.display=t?e._vod:"none"}const o0=Qe({patchProp:Km},Lm);let uu;function ed(){return uu||(uu=gm(o0))}const fu=(...e)=>{ed().render(...e)},a0=(...e)=>{const t=ed().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=l0(r);if(!s)return;const p=t._component;!Ce(p)&&!p.render&&!p.template&&(p.template=s.innerHTML),s.innerHTML="";const m=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),m},t};function l0(e){return ze(e)?document.querySelector(e):e}const ht=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},c0={};function u0(e,t,n,r,s,p){const m=je("router-view");return se(),ke(m)}const f0=ht(c0,[["render",u0]]);function h0(){return td().__VUE_DEVTOOLS_GLOBAL_HOOK__}function td(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const d0=typeof Proxy=="function",p0="devtools-plugin:setup",g0="plugin:settings:set";let yr,ka;function v0(){var e;return yr!==void 0||(typeof window<"u"&&window.performance?(yr=!0,ka=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(yr=!0,ka=global.perf_hooks.performance):yr=!1),yr}function m0(){return v0()?ka.now():Date.now()}class _0{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const m in t.settings){const c=t.settings[m];r[m]=c.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let p=Object.assign({},r);try{const m=localStorage.getItem(s),c=JSON.parse(m);Object.assign(p,c)}catch{}this.fallbacks={getSettings(){return p},setSettings(m){try{localStorage.setItem(s,JSON.stringify(m))}catch{}p=m},now(){return m0()}},n&&n.on(g0,(m,c)=>{m===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(m,c)=>this.target?this.target.on[c]:(...i)=>{this.onQueue.push({method:c,args:i})}}),this.proxiedTarget=new Proxy({},{get:(m,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...i)=>(this.targetQueue.push({method:c,args:i,resolve:()=>{}}),this.fallbacks[c](...i)):(...i)=>new Promise(h=>{this.targetQueue.push({method:c,args:i,resolve:h})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function y0(e,t){const n=e,r=td(),s=h0(),p=d0&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!p))s.emit(p0,e,t);else{const m=p?new _0(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:m}),m&&t(m.proxiedTarget)}}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Cr=typeof window<"u";function b0(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ne=Object.assign;function No(e,t){const n={};for(const r in t){const s=t[r];n[r]=en(s)?s.map(e):e(s)}return n}const gi=()=>{},en=Array.isArray,w0=/\/$/,C0=e=>e.replace(w0,"");function zo(e,t,n="/"){let r,s={},p="",m="";const c=t.indexOf("#");let i=t.indexOf("?");return c<i&&c>=0&&(i=-1),i>-1&&(r=t.slice(0,i),p=t.slice(i+1,c>-1?c:t.length),s=e(p)),c>-1&&(r=r||t.slice(0,c),m=t.slice(c,t.length)),r=O0(r??t,n),{fullPath:r+(p&&"?")+p+m,path:r,query:s,hash:m}}function S0(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function hu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function x0(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Rr(t.matched[r],n.matched[s])&&nd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Rr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function nd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!T0(e[n],t[n]))return!1;return!0}function T0(e,t){return en(e)?du(e,t):en(t)?du(t,e):e===t}function du(e,t){return en(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function O0(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let p=n.length-1,m,c;for(m=0;m<r.length;m++)if(c=r[m],c!==".")if(c==="..")p>1&&p--;else break;return n.slice(0,p).join("/")+"/"+r.slice(m-(m===r.length?1:0)).join("/")}var Di;(function(e){e.pop="pop",e.push="push"})(Di||(Di={}));var vi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(vi||(vi={}));function E0(e){if(!e)if(Cr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),C0(e)}const P0=/^[^#]+#/;function k0(e,t){return e.replace(P0,"#")+t}function A0(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const oo=()=>({left:window.pageXOffset,top:window.pageYOffset});function M0(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=A0(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function pu(e,t){return(history.state?history.state.position-t:-1)+e}const Aa=new Map;function D0(e,t){Aa.set(e,t)}function R0(e){const t=Aa.get(e);return Aa.delete(e),t}let I0=()=>location.protocol+"//"+location.host;function rd(e,t){const{pathname:n,search:r,hash:s}=t,p=e.indexOf("#");if(p>-1){let c=s.includes(e.slice(p))?e.slice(p).length:1,i=s.slice(c);return i[0]!=="/"&&(i="/"+i),hu(i,"")}return hu(n,e)+r+s}function F0(e,t,n,r){let s=[],p=[],m=null;const c=({state:l})=>{const a=rd(e,location),u=n.value,g=t.value;let d=0;if(l){if(n.value=a,t.value=l,m&&m===u){m=null;return}d=g?l.position-g.position:0}else r(a);s.forEach(v=>{v(n.value,u,{delta:d,type:Di.pop,direction:d?d>0?vi.forward:vi.back:vi.unknown})})};function i(){m=n.value}function h(l){s.push(l);const a=()=>{const u=s.indexOf(l);u>-1&&s.splice(u,1)};return p.push(a),a}function f(){const{history:l}=window;l.state&&l.replaceState(Ne({},l.state,{scroll:oo()}),"")}function o(){for(const l of p)l();p=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:i,listen:h,destroy:o}}function gu(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?oo():null}}function L0(e){const{history:t,location:n}=window,r={value:rd(e,n)},s={value:t.state};s.value||p(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function p(i,h,f){const o=e.indexOf("#"),l=o>-1?(n.host&&document.querySelector("base")?e:e.slice(o))+i:I0()+e+i;try{t[f?"replaceState":"pushState"](h,"",l),s.value=h}catch(a){console.error(a),n[f?"replace":"assign"](l)}}function m(i,h){const f=Ne({},t.state,gu(s.value.back,i,s.value.forward,!0),h,{position:s.value.position});p(i,f,!0),r.value=i}function c(i,h){const f=Ne({},s.value,t.state,{forward:i,scroll:oo()});p(f.current,f,!0);const o=Ne({},gu(r.value,i,null),{position:f.position+1},h);p(i,o,!1),r.value=i}return{location:r,state:s,push:c,replace:m}}function B0(e){e=E0(e);const t=L0(e),n=F0(e,t.state,t.location,t.replace);function r(p,m=!0){m||n.pauseListeners(),history.go(p)}const s=Ne({location:"",base:e,go:r,createHref:k0.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function j0(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),B0(e)}function N0(e){return typeof e=="string"||e&&typeof e=="object"}function id(e){return typeof e=="string"||typeof e=="symbol"}const In={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},sd=Symbol("");var vu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(vu||(vu={}));function Ir(e,t){return Ne(new Error,{type:e,[sd]:!0},t)}function bn(e,t){return e instanceof Error&&sd in e&&(t==null||!!(e.type&t))}const mu="[^/]+?",z0={sensitive:!1,strict:!1,start:!0,end:!0},$0=/[.+*?^${}()[\]/\\]/g;function H0(e,t){const n=Ne({},z0,t),r=[];let s=n.start?"^":"";const p=[];for(const h of e){const f=h.length?[]:[90];n.strict&&!h.length&&(s+="/");for(let o=0;o<h.length;o++){const l=h[o];let a=40+(n.sensitive?.25:0);if(l.type===0)o||(s+="/"),s+=l.value.replace($0,"\\$&"),a+=40;else if(l.type===1){const{value:u,repeatable:g,optional:d,regexp:v}=l;p.push({name:u,repeatable:g,optional:d});const _=v||mu;if(_!==mu){a+=10;try{new RegExp(`(${_})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${u}" (${_}): `+b.message)}}let y=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;o||(y=d&&h.length<2?`(?:/${y})`:"/"+y),d&&(y+="?"),s+=y,a+=20,d&&(a+=-8),g&&(a+=-20),_===".*"&&(a+=-50)}f.push(a)}r.push(f)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const m=new RegExp(s,n.sensitive?"":"i");function c(h){const f=h.match(m),o={};if(!f)return null;for(let l=1;l<f.length;l++){const a=f[l]||"",u=p[l-1];o[u.name]=a&&u.repeatable?a.split("/"):a}return o}function i(h){let f="",o=!1;for(const l of e){(!o||!f.endsWith("/"))&&(f+="/"),o=!1;for(const a of l)if(a.type===0)f+=a.value;else if(a.type===1){const{value:u,repeatable:g,optional:d}=a,v=u in h?h[u]:"";if(en(v)&&!g)throw new Error(`Provided param "${u}" is an array but it is not repeatable (* or + modifiers)`);const _=en(v)?v.join("/"):v;if(!_)if(d)l.length<2&&(f.endsWith("/")?f=f.slice(0,-1):o=!0);else throw new Error(`Missing required param "${u}"`);f+=_}}return f||"/"}return{re:m,score:r,keys:p,parse:c,stringify:i}}function U0(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function W0(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const p=U0(r[n],s[n]);if(p)return p;n++}if(Math.abs(s.length-r.length)===1){if(_u(r))return 1;if(_u(s))return-1}return s.length-r.length}function _u(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Y0={type:0,value:""},X0=/[a-zA-Z0-9_]/;function V0(e){if(!e)return[[]];if(e==="/")return[[Y0]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(a){throw new Error(`ERR (${n})/"${h}": ${a}`)}let n=0,r=n;const s=[];let p;function m(){p&&s.push(p),p=[]}let c=0,i,h="",f="";function o(){h&&(n===0?p.push({type:0,value:h}):n===1||n===2||n===3?(p.length>1&&(i==="*"||i==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),p.push({type:1,value:h,regexp:f,repeatable:i==="*"||i==="+",optional:i==="*"||i==="?"})):t("Invalid state to consume buffer"),h="")}function l(){h+=i}for(;c<e.length;){if(i=e[c++],i==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:i==="/"?(h&&o(),m()):i===":"?(o(),n=1):l();break;case 4:l(),n=r;break;case 1:i==="("?n=2:X0.test(i)?l():(o(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&c--);break;case 2:i===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+i:n=3:f+=i;break;case 3:o(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&c--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),o(),m(),s}function G0(e,t,n){const r=H0(V0(e.path),n),s=Ne(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function K0(e,t){const n=[],r=new Map;t=wu({strict:!1,end:!0,sensitive:!1},t);function s(f){return r.get(f)}function p(f,o,l){const a=!l,u=q0(f);u.aliasOf=l&&l.record;const g=wu(t,f),d=[u];if("alias"in f){const y=typeof f.alias=="string"?[f.alias]:f.alias;for(const b of y)d.push(Ne({},u,{components:l?l.record.components:u.components,path:b,aliasOf:l?l.record:u}))}let v,_;for(const y of d){const{path:b}=y;if(o&&b[0]!=="/"){const w=o.record.path,C=w[w.length-1]==="/"?"":"/";y.path=o.record.path+(b&&C+b)}if(v=G0(y,o,g),l?l.alias.push(v):(_=_||v,_!==v&&_.alias.push(v),a&&f.name&&!bu(v)&&m(f.name)),u.children){const w=u.children;for(let C=0;C<w.length;C++)p(w[C],v,l&&l.children[C])}l=l||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&i(v)}return _?()=>{m(_)}:gi}function m(f){if(id(f)){const o=r.get(f);o&&(r.delete(f),n.splice(n.indexOf(o),1),o.children.forEach(m),o.alias.forEach(m))}else{const o=n.indexOf(f);o>-1&&(n.splice(o,1),f.record.name&&r.delete(f.record.name),f.children.forEach(m),f.alias.forEach(m))}}function c(){return n}function i(f){let o=0;for(;o<n.length&&W0(f,n[o])>=0&&(f.record.path!==n[o].record.path||!od(f,n[o]));)o++;n.splice(o,0,f),f.record.name&&!bu(f)&&r.set(f.record.name,f)}function h(f,o){let l,a={},u,g;if("name"in f&&f.name){if(l=r.get(f.name),!l)throw Ir(1,{location:f});g=l.record.name,a=Ne(yu(o.params,l.keys.filter(_=>!_.optional).map(_=>_.name)),f.params&&yu(f.params,l.keys.map(_=>_.name))),u=l.stringify(a)}else if("path"in f)u=f.path,l=n.find(_=>_.re.test(u)),l&&(a=l.parse(u),g=l.record.name);else{if(l=o.name?r.get(o.name):n.find(_=>_.re.test(o.path)),!l)throw Ir(1,{location:f,currentLocation:o});g=l.record.name,a=Ne({},o.params,f.params),u=l.stringify(a)}const d=[];let v=l;for(;v;)d.unshift(v.record),v=v.parent;return{name:g,path:u,params:a,matched:d,meta:Q0(d)}}return e.forEach(f=>p(f)),{addRoute:p,resolve:h,removeRoute:m,getRoutes:c,getRecordMatcher:s}}function yu(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function q0(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:J0(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function J0(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function bu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Q0(e){return e.reduce((t,n)=>Ne(t,n.meta),{})}function wu(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function od(e,t){return t.children.some(n=>n===e||od(e,n))}const ad=/#/g,Z0=/&/g,e_=/\//g,t_=/=/g,n_=/\?/g,ld=/\+/g,r_=/%5B/g,i_=/%5D/g,cd=/%5E/g,s_=/%60/g,ud=/%7B/g,o_=/%7C/g,fd=/%7D/g,a_=/%20/g;function xl(e){return encodeURI(""+e).replace(o_,"|").replace(r_,"[").replace(i_,"]")}function l_(e){return xl(e).replace(ud,"{").replace(fd,"}").replace(cd,"^")}function Ma(e){return xl(e).replace(ld,"%2B").replace(a_,"+").replace(ad,"%23").replace(Z0,"%26").replace(s_,"`").replace(ud,"{").replace(fd,"}").replace(cd,"^")}function c_(e){return Ma(e).replace(t_,"%3D")}function u_(e){return xl(e).replace(ad,"%23").replace(n_,"%3F")}function f_(e){return e==null?"":u_(e).replace(e_,"%2F")}function ks(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function h_(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const p=r[s].replace(ld," "),m=p.indexOf("="),c=ks(m<0?p:p.slice(0,m)),i=m<0?null:ks(p.slice(m+1));if(c in t){let h=t[c];en(h)||(h=t[c]=[h]),h.push(i)}else t[c]=i}return t}function Cu(e){let t="";for(let n in e){const r=e[n];if(n=c_(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(en(r)?r.map(p=>p&&Ma(p)):[r&&Ma(r)]).forEach(p=>{p!==void 0&&(t+=(t.length?"&":"")+n,p!=null&&(t+="="+p))})}return t}function d_(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=en(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const p_=Symbol(""),Su=Symbol(""),Tl=Symbol(""),hd=Symbol(""),Da=Symbol("");function ri(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Nn(e,t,n,r,s){const p=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((m,c)=>{const i=o=>{o===!1?c(Ir(4,{from:n,to:t})):o instanceof Error?c(o):N0(o)?c(Ir(2,{from:t,to:o})):(p&&r.enterCallbacks[s]===p&&typeof o=="function"&&p.push(o),m())},h=e.call(r&&r.instances[s],t,n,i);let f=Promise.resolve(h);e.length<3&&(f=f.then(i)),f.catch(o=>c(o))})}function $o(e,t,n,r){const s=[];for(const p of e)for(const m in p.components){let c=p.components[m];if(!(t!=="beforeRouteEnter"&&!p.instances[m]))if(g_(c)){const h=(c.__vccOpts||c)[t];h&&s.push(Nn(h,n,r,p,m))}else{let i=c();s.push(()=>i.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${m}" at "${p.path}"`));const f=b0(h)?h.default:h;p.components[m]=f;const l=(f.__vccOpts||f)[t];return l&&Nn(l,n,r,p,m)()}))}}return s}function g_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function xu(e){const t=xe(Tl),n=xe(hd),r=oe(()=>t.resolve(B(e.to))),s=oe(()=>{const{matched:i}=r.value,{length:h}=i,f=i[h-1],o=n.matched;if(!f||!o.length)return-1;const l=o.findIndex(Rr.bind(null,f));if(l>-1)return l;const a=Tu(i[h-2]);return h>1&&Tu(f)===a&&o[o.length-1].path!==a?o.findIndex(Rr.bind(null,i[h-2])):l}),p=oe(()=>s.value>-1&&y_(n.params,r.value.params)),m=oe(()=>s.value>-1&&s.value===n.matched.length-1&&nd(n.params,r.value.params));function c(i={}){return __(i)?t[B(e.replace)?"replace":"push"](B(e.to)).catch(gi):Promise.resolve()}return{route:r,href:oe(()=>r.value.href),isActive:p,isExactActive:m,navigate:c}}const v_=Te({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:xu,setup(e,{slots:t}){const n=hr(xu(e)),{options:r}=xe(Tl),s=oe(()=>({[Ou(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Ou(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const p=t.default&&t.default(n);return e.custom?p:Sl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},p)}}}),m_=v_;function __(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function y_(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!en(s)||s.length!==r.length||r.some((p,m)=>p!==s[m]))return!1}return!0}function Tu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ou=(e,t,n)=>e??t??n,b_=Te({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=xe(Da),s=oe(()=>e.route||r.value),p=xe(Su,0),m=oe(()=>{let h=B(p);const{matched:f}=s.value;let o;for(;(o=f[h])&&!o.components;)h++;return h}),c=oe(()=>s.value.matched[m.value]);Je(Su,oe(()=>m.value+1)),Je(p_,c),Je(Da,s);const i=fe();return Ae(()=>[i.value,c.value,e.name],([h,f,o],[l,a,u])=>{f&&(f.instances[o]=h,a&&a!==f&&h&&h===l&&(f.leaveGuards.size||(f.leaveGuards=a.leaveGuards),f.updateGuards.size||(f.updateGuards=a.updateGuards))),h&&f&&(!a||!Rr(f,a)||!l)&&(f.enterCallbacks[o]||[]).forEach(g=>g(h))},{flush:"post"}),()=>{const h=s.value,f=e.name,o=c.value,l=o&&o.components[f];if(!l)return Eu(n.default,{Component:l,route:h});const a=o.props[f],u=a?a===!0?h.params:typeof a=="function"?a(h):a:null,d=Sl(l,Ne({},u,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(o.instances[f]=null)},ref:i}));return Eu(n.default,{Component:d,route:h})||d}}});function Eu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const w_=b_;function C_(e){const t=K0(e.routes,e),n=e.parseQuery||h_,r=e.stringifyQuery||Cu,s=e.history,p=ri(),m=ri(),c=ri(),i=Oi(In);let h=In;Cr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=No.bind(null,A=>""+A),o=No.bind(null,f_),l=No.bind(null,ks);function a(A,F){let z,K;return id(A)?(z=t.getRecordMatcher(A),K=F):K=A,t.addRoute(K,z)}function u(A){const F=t.getRecordMatcher(A);F&&t.removeRoute(F)}function g(){return t.getRoutes().map(A=>A.record)}function d(A){return!!t.getRecordMatcher(A)}function v(A,F){if(F=Ne({},F||i.value),typeof A=="string"){const P=zo(n,A,F.path),L=t.resolve({path:P.path},F),$=s.createHref(P.fullPath);return Ne(P,L,{params:l(L.params),hash:ks(P.hash),redirectedFrom:void 0,href:$})}let z;if("path"in A)z=Ne({},A,{path:zo(n,A.path,F.path).path});else{const P=Ne({},A.params);for(const L in P)P[L]==null&&delete P[L];z=Ne({},A,{params:o(P)}),F.params=o(F.params)}const K=t.resolve(z,F),ne=A.hash||"";K.params=f(l(K.params));const k=S0(r,Ne({},A,{hash:l_(ne),path:K.path})),T=s.createHref(k);return Ne({fullPath:k,hash:ne,query:r===Cu?d_(A.query):A.query||{}},K,{redirectedFrom:void 0,href:T})}function _(A){return typeof A=="string"?zo(n,A,i.value.path):Ne({},A)}function y(A,F){if(h!==A)return Ir(8,{from:F,to:A})}function b(A){return S(A)}function w(A){return b(Ne(_(A),{replace:!0}))}function C(A){const F=A.matched[A.matched.length-1];if(F&&F.redirect){const{redirect:z}=F;let K=typeof z=="function"?z(A):z;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=_(K):{path:K},K.params={}),Ne({query:A.query,hash:A.hash,params:"path"in K?{}:A.params},K)}}function S(A,F){const z=h=v(A),K=i.value,ne=A.state,k=A.force,T=A.replace===!0,P=C(z);if(P)return S(Ne(_(P),{state:typeof P=="object"?Ne({},ne,P.state):ne,force:k,replace:T}),F||z);const L=z;L.redirectedFrom=F;let $;return!k&&x0(r,K,z)&&($=Ir(16,{to:L,from:K}),R(K,K,!0,!1)),($?Promise.resolve($):Y(L,K)).catch(N=>bn(N)?bn(N,2)?N:D(N):J(N,L,K)).then(N=>{if(N){if(bn(N,2))return S(Ne({replace:T},_(N.to),{state:typeof N.to=="object"?Ne({},ne,N.to.state):ne,force:k}),F||L)}else N=U(L,K,!0,T,ne);return G(L,K,N),N})}function O(A,F){const z=y(A,F);return z?Promise.reject(z):Promise.resolve()}function j(A){const F=M.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(A):A()}function Y(A,F){let z;const[K,ne,k]=S_(A,F);z=$o(K.reverse(),"beforeRouteLeave",A,F);for(const P of K)P.leaveGuards.forEach(L=>{z.push(Nn(L,A,F))});const T=O.bind(null,A,F);return z.push(T),H(z).then(()=>{z=[];for(const P of p.list())z.push(Nn(P,A,F));return z.push(T),H(z)}).then(()=>{z=$o(ne,"beforeRouteUpdate",A,F);for(const P of ne)P.updateGuards.forEach(L=>{z.push(Nn(L,A,F))});return z.push(T),H(z)}).then(()=>{z=[];for(const P of k)if(P.beforeEnter)if(en(P.beforeEnter))for(const L of P.beforeEnter)z.push(Nn(L,A,F));else z.push(Nn(P.beforeEnter,A,F));return z.push(T),H(z)}).then(()=>(A.matched.forEach(P=>P.enterCallbacks={}),z=$o(k,"beforeRouteEnter",A,F),z.push(T),H(z))).then(()=>{z=[];for(const P of m.list())z.push(Nn(P,A,F));return z.push(T),H(z)}).catch(P=>bn(P,8)?P:Promise.reject(P))}function G(A,F,z){c.list().forEach(K=>j(()=>K(A,F,z)))}function U(A,F,z,K,ne){const k=y(A,F);if(k)return k;const T=F===In,P=Cr?history.state:{};z&&(K||T?s.replace(A.fullPath,Ne({scroll:T&&P&&P.scroll},ne)):s.push(A.fullPath,ne)),i.value=A,R(A,F,z,T),D()}let ee;function ie(){ee||(ee=s.listen((A,F,z)=>{if(!E.listening)return;const K=v(A),ne=C(K);if(ne){S(Ne(ne,{replace:!0}),K).catch(gi);return}h=K;const k=i.value;Cr&&D0(pu(k.fullPath,z.delta),oo()),Y(K,k).catch(T=>bn(T,12)?T:bn(T,2)?(S(T.to,K).then(P=>{bn(P,20)&&!z.delta&&z.type===Di.pop&&s.go(-1,!1)}).catch(gi),Promise.reject()):(z.delta&&s.go(-z.delta,!1),J(T,K,k))).then(T=>{T=T||U(K,k,!1),T&&(z.delta&&!bn(T,8)?s.go(-z.delta,!1):z.type===Di.pop&&bn(T,20)&&s.go(-1,!1)),G(K,k,T)}).catch(gi)}))}let le=ri(),ce=ri(),X;function J(A,F,z){D(A);const K=ce.list();return K.length?K.forEach(ne=>ne(A,F,z)):console.error(A),Promise.reject(A)}function x(){return X&&i.value!==In?Promise.resolve():new Promise((A,F)=>{le.add([A,F])})}function D(A){return X||(X=!A,ie(),le.list().forEach(([F,z])=>A?z(A):F()),le.reset()),A}function R(A,F,z,K){const{scrollBehavior:ne}=e;if(!Cr||!ne)return Promise.resolve();const k=!z&&R0(pu(A.fullPath,0))||(K||!z)&&history.state&&history.state.scroll||null;return Wt().then(()=>ne(A,F,k)).then(T=>T&&M0(T)).catch(T=>J(T,A,F))}const I=A=>s.go(A);let Q;const M=new Set,E={currentRoute:i,listening:!0,addRoute:a,removeRoute:u,hasRoute:d,getRoutes:g,resolve:v,options:e,push:b,replace:w,go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:p.add,beforeResolve:m.add,afterEach:c.add,onError:ce.add,isReady:x,install(A){const F=this;A.component("RouterLink",m_),A.component("RouterView",w_),A.config.globalProperties.$router=F,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>B(i)}),Cr&&!Q&&i.value===In&&(Q=!0,b(s.location).catch(ne=>{}));const z={};for(const ne in In)Object.defineProperty(z,ne,{get:()=>i.value[ne],enumerable:!0});A.provide(Tl,F),A.provide(hd,fl(z)),A.provide(Da,i);const K=A.unmount;M.add(A),A.unmount=function(){M.delete(A),M.size<1&&(h=In,ee&&ee(),ee=null,i.value=In,Q=!1,X=!1),K()}}};function H(A){return A.reduce((F,z)=>F.then(()=>j(z)),Promise.resolve())}return E}function S_(e,t){const n=[],r=[],s=[],p=Math.max(t.matched.length,e.matched.length);for(let m=0;m<p;m++){const c=t.matched[m];c&&(e.matched.find(h=>Rr(h,c))?r.push(c):n.push(c));const i=e.matched[m];i&&(t.matched.find(h=>Rr(h,i))||s.push(i))}return[n,r,s]}const x_="/vue-design-editor/assets/module-close-b3f3c06c.svg";/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var dd="store";function ao(e){return e===void 0&&(e=null),xe(e!==null?e:dd)}function Kr(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function T_(e){return e!==null&&typeof e=="object"}function O_(e){return e&&typeof e.then=="function"}function E_(e,t){return function(){return e(t)}}function pd(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function gd(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;lo(e,n,[],e._modules.root,!0),Ol(e,n,t)}function Ol(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var p=e._wrappedGetters,m={},c={},i=th(!0);i.run(function(){Kr(p,function(h,f){m[f]=E_(h,e),c[f]=oe(function(){return m[f]()}),Object.defineProperty(e.getters,f,{get:function(){return c[f].value},enumerable:!0})})}),e._state=hr({data:t}),e._scope=i,e.strict&&D_(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function lo(e,t,n,r,s){var p=!n.length,m=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[m],e._modulesNamespaceMap[m]=r),!p&&!s){var c=El(t,n.slice(0,-1)),i=n[n.length-1];e._withCommit(function(){c[i]=r.state})}var h=r.context=P_(e,m,n);r.forEachMutation(function(f,o){var l=m+o;k_(e,l,f,h)}),r.forEachAction(function(f,o){var l=f.root?o:m+o,a=f.handler||f;A_(e,l,a,h)}),r.forEachGetter(function(f,o){var l=m+o;M_(e,l,f,h)}),r.forEachChild(function(f,o){lo(e,t,n.concat(o),f,s)})}function P_(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(p,m,c){var i=As(p,m,c),h=i.payload,f=i.options,o=i.type;return(!f||!f.root)&&(o=t+o),e.dispatch(o,h)},commit:r?e.commit:function(p,m,c){var i=As(p,m,c),h=i.payload,f=i.options,o=i.type;(!f||!f.root)&&(o=t+o),e.commit(o,h,f)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return vd(e,t)}},state:{get:function(){return El(e.state,n)}}}),s}function vd(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var p=s.slice(r);Object.defineProperty(n,p,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function k_(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(m){n.call(e,r.state,m)})}function A_(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(m){var c=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},m);return O_(c)||(c=Promise.resolve(c)),e._devtoolHook?c.catch(function(i){throw e._devtoolHook.emit("vuex:error",i),i}):c})}function M_(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(p){return n(r.state,r.getters,p.state,p.getters)})}function D_(e){Ae(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function El(e,t){return t.reduce(function(n,r){return n[r]},e)}function As(e,t,n){return T_(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var R_="vuex bindings",Pu="vuex:mutations",Ho="vuex:actions",br="vuex",I_=0;function F_(e,t){y0({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[R_]},function(n){n.addTimelineLayer({id:Pu,label:"Vuex Mutations",color:ku}),n.addTimelineLayer({id:Ho,label:"Vuex Actions",color:ku}),n.addInspector({id:br,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===br)if(r.filter){var s=[];bd(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[yd(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===br){var s=r.nodeId;vd(t,s),r.state=j_(z_(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===br){var s=r.nodeId,p=r.path;s!=="root"&&(p=s.split("/").filter(Boolean).concat(p)),t._withCommit(function(){r.set(t._state.data,p,r.state.value)})}}),t.subscribe(function(r,s){var p={};r.payload&&(p.payload=r.payload),p.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(br),n.sendInspectorState(br),n.addTimelineEvent({layerId:Pu,event:{time:Date.now(),title:r.type,data:p}})}),t.subscribeAction({before:function(r,s){var p={};r.payload&&(p.payload=r.payload),r._id=I_++,r._time=Date.now(),p.state=s,n.addTimelineEvent({layerId:Ho,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:p}})},after:function(r,s){var p={},m=Date.now()-r._time;p.duration={_custom:{type:"duration",display:m+"ms",tooltip:"Action duration",value:m}},r.payload&&(p.payload=r.payload),p.state=s,n.addTimelineEvent({layerId:Ho,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:p}})}})})}var ku=8702998,L_=6710886,B_=16777215,md={label:"namespaced",textColor:B_,backgroundColor:L_};function _d(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function yd(e,t){return{id:t||"root",label:_d(t),tags:e.namespaced?[md]:[],children:Object.keys(e._children).map(function(n){return yd(e._children[n],t+n+"/")})}}function bd(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[md]:[]}),Object.keys(t._children).forEach(function(s){bd(e,t._children[s],n,r+s+"/")})}function j_(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(m){return{key:m,editable:!0,value:e.state[m]}})};if(r.length){var p=N_(t);s.getters=Object.keys(p).map(function(m){return{key:m.endsWith("/")?_d(m):m,editable:!1,value:Ra(function(){return p[m]})}})}return s}function N_(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,p=r.pop();r.forEach(function(m){s[m]||(s[m]={_custom:{value:{},display:m,tooltip:"Module",abstract:!0}}),s=s[m]._custom.value}),s[p]=Ra(function(){return e[n]})}else t[n]=Ra(function(){return e[n]})}),t}function z_(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,p){var m=r[s];if(!m)throw new Error('Missing module "'+s+'" for path "'+t+'".');return p===n.length-1?m:m._children},t==="root"?e:e.root._children)}function Ra(e){try{return e()}catch(t){return t}}var tn=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},wd={namespaced:{configurable:!0}};wd.namespaced.get=function(){return!!this._rawModule.namespaced};tn.prototype.addChild=function(t,n){this._children[t]=n};tn.prototype.removeChild=function(t){delete this._children[t]};tn.prototype.getChild=function(t){return this._children[t]};tn.prototype.hasChild=function(t){return t in this._children};tn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};tn.prototype.forEachChild=function(t){Kr(this._children,t)};tn.prototype.forEachGetter=function(t){this._rawModule.getters&&Kr(this._rawModule.getters,t)};tn.prototype.forEachAction=function(t){this._rawModule.actions&&Kr(this._rawModule.actions,t)};tn.prototype.forEachMutation=function(t){this._rawModule.mutations&&Kr(this._rawModule.mutations,t)};Object.defineProperties(tn.prototype,wd);var dr=function(t){this.register([],t,!1)};dr.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};dr.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};dr.prototype.update=function(t){Cd([],this.root,t)};dr.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var p=new tn(n,r);if(t.length===0)this.root=p;else{var m=this.get(t.slice(0,-1));m.addChild(t[t.length-1],p)}n.modules&&Kr(n.modules,function(c,i){s.register(t.concat(i),c,r)})};dr.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};dr.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function Cd(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;Cd(e.concat(r),t.getChild(r),n.modules[r])}}function $_(e){return new Mt(e)}var Mt=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var p=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new dr(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=p;var m=this,c=this,i=c.dispatch,h=c.commit;this.dispatch=function(l,a){return i.call(m,l,a)},this.commit=function(l,a,u){return h.call(m,l,a,u)},this.strict=s;var f=this._modules.root.state;lo(this,f,[],this._modules.root),Ol(this,f),r.forEach(function(o){return o(n)})},Pl={state:{configurable:!0}};Mt.prototype.install=function(t,n){t.provide(n||dd,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&F_(t,this)};Pl.state.get=function(){return this._state.data};Pl.state.set=function(e){};Mt.prototype.commit=function(t,n,r){var s=this,p=As(t,n,r),m=p.type,c=p.payload,i={type:m,payload:c},h=this._mutations[m];h&&(this._withCommit(function(){h.forEach(function(o){o(c)})}),this._subscribers.slice().forEach(function(f){return f(i,s.state)}))};Mt.prototype.dispatch=function(t,n){var r=this,s=As(t,n),p=s.type,m=s.payload,c={type:p,payload:m},i=this._actions[p];if(i){try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(c,r.state)})}catch{}var h=i.length>1?Promise.all(i.map(function(f){return f(m)})):i[0](m);return new Promise(function(f,o){h.then(function(l){try{r._actionSubscribers.filter(function(a){return a.after}).forEach(function(a){return a.after(c,r.state)})}catch{}f(l)},function(l){try{r._actionSubscribers.filter(function(a){return a.error}).forEach(function(a){return a.error(c,r.state,l)})}catch{}o(l)})})}};Mt.prototype.subscribe=function(t,n){return pd(t,this._subscribers,n)};Mt.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return pd(r,this._actionSubscribers,n)};Mt.prototype.watch=function(t,n,r){var s=this;return Ae(function(){return t(s.state,s.getters)},n,Object.assign({},r))};Mt.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Mt.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),lo(this,this.state,t,this._modules.get(t),r.preserveState),Ol(this,this.state)};Mt.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=El(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),gd(this)};Mt.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Mt.prototype.hotUpdate=function(t){this._modules.update(t),gd(this,!0)};Mt.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Mt.prototype,Pl);const H_={class:"material-editor-header"},U_={class:"material-editor-content"},W_={class:"material-editor-framework-left"},Uo=313,Wo=265,Yo=72,Y_=Te({__name:"Framework",setup(e){const{state:t,commit:n}=ao(),r=fe(),s=fe({module:Yo,left:Uo,center:window.document.body.clientWidth-Uo-Wo-Yo,right:Wo}),p=oe(()=>t.activeModule),m=oe(()=>t.isClose),c=oe(()=>p.value&&!p.value.drag&&JSON.stringify(p.value)!="{}");nt(()=>{s.value.center=r.value.offsetWidth-Uo-Wo-Yo});function i(f){n("setClose",f)}async function h(){i(!0),n("setActiveModule",null)}return(f,o)=>{const l=je("el-tooltip");return se(),pe("div",{class:"material-editor",ref_key:"editor",ref:r},[te("div",H_,[Ee(f.$slots,"header",{},void 0,!0)]),te("div",U_,[te("div",{class:"material-editor-framework-module",style:Ye(`width:${s.value.module}px`)},[Ee(f.$slots,"module",{},void 0,!0)],4),te("div",{class:Se(["material-editor-framework--collapsed",[!c.value||m.value?"material-editor-framework-transition":""]]),style:Ye({width:`${s.value.left}px`,"--width":-s.value.left+"px"})},[te("div",W_,[Ee(f.$slots,"left",{},void 0,!0)]),de(l,{class:"item",effect:"dark",content:"",placement:"right"},{default:ve(()=>[lt(te("img",{src:x_,class:"material-editor-framework-close",onClick:h,alt:""},null,512),[[bt,s.value.left!=0&&!m.value]])]),_:1})],6),te("div",{class:"material-editor-framework-center",style:Ye(`width:${s.value.center}px`)},[Ee(f.$slots,"navlist",{},void 0,!0),Ee(f.$slots,"workspace",{},void 0,!0)],4),te("div",{class:"material-editor-framework-right",style:Ye(`width:${s.value.right}px`)},[Ee(f.$slots,"color",{},void 0,!0),Ee(f.$slots,"propsPanel",{},void 0,!0)],4)])],512)}}});const X_=ht(Y_,[["__scopeId","data-v-755bb6ef"]]),V_=[{type:"add",text:"",drag:!1,icon:"icon-tianjia"},{type:"template",text:"",drag:!1,icon:"icon-templet-"},{type:"material",text:"",drag:!1,show:!0,icon:"icon-xingzhuang",fileType:["jpg","png","gif","svg"]},{type:"text",text:"",drag:!1,icon:"icon-text",options:{type:"FontCustom",text:"",width:60,height:30,fontSize:32,name:"New text"}},{type:"Image",text:"",drag:!1,icon:"icon-editor-background",fileType:["jpg","png","gif","svg"]},{type:"Video",text:"",drag:!1,icon:"icon-shipinbofang",fileType:["mp4"]},{type:"qrcode",text:"",drag:!1,icon:"icon-erweima1"}];const G_={setup(){const e=fe(V_),{state:t,commit:n}=ao(),r=oe(()=>t.activeModule),s=oe(()=>t.isClose);function p(c){n("setClose",c)}function m(c){n("setActiveModule",c)}return e.value.find(c=>{c.show&&(m(c),p(!1))}),{modulelist:e,activeModule:r,isClose:s,setActiveModule:m,selectModule(c){r.value&&c.type==r.value.type&&!c.drag?(p(!s.value),m(null)):(["text","qrcode"].includes(c.type)?p(!0):p(!1),m(c))}}}},K_={class:"module-aside-body"},q_=["onClick"];function J_(e,t,n,r,s,p){return se(),pe("div",K_,[(se(!0),pe(Me,null,gt(r.modulelist,(m,c)=>(se(),pe("button",{class:Se(["module-aside-button",r.activeModule&&r.activeModule.type==m.type?"actived":""]),key:c,onClick:i=>r.selectModule(m)},[te("i",{class:Se([m.icon,"iconfont"])},null,2),te("span",null,ct(m.text),1)],10,q_))),128))])}const Q_=ht(G_,[["render",J_],["__scopeId","data-v-5f6581ef"]]),Z_=[{type:"image",title:"//psd",list:[{type:"upload",icon:"/src/assets/upload.svg",title:""}]},{type:"text",title:"",list:[{type:"h1",icon:"/src/assets/h1.svg",title:""},{type:"h2",icon:"/src/assets/h2.svg",title:""},{type:"Aa",icon:"/src/assets/Aa.svg",title:""},{type:"Aa",icon:"/src/assets/3d.svg",title:"3D"}]},{type:"shape",title:"",list:[{type:"square",icon:"/src/assets/square.svg"},{type:"triangle",icon:"/src/assets/triangle.svg"},{type:"circle",icon:"/src/assets/circle.svg"},{type:"line",icon:"/src/assets/line.svg"}]},{type:"component",title:"",list:[{type:"qrcode",icon:"/src/assets/qrcode.svg",title:""}]}],ey=[{title:"",interval:[460,489]},{title:"",interval:[386,409]},{title:"",interval:[410,459]},{title:"",interval:[40,49]},{title:"icons"},{title:"",interval:[50,75]},{title:"",interval:[76,89]},{title:"",interval:[89,136]},{title:"",interval:[137,151]},{title:"",interval:[152,181]},{title:"",interval:[182,201]},{title:"",interval:[202,222]},{title:"",interval:[223,252]},{title:"",interval:[253,261]},{title:"",interval:[262,270]},{title:"",interval:[271,300]},{title:"",interval:[301,350]},{title:"",interval:[351,385]},{title:"",interval:[490,519]}];/*! Element Plus Icons Vue v2.1.0 */var dt=(e,t)=>{let n=e.__vccOpts||e;for(let[r,s]of t)n[r]=s;return n},ty={name:"ArrowDown"},ny={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ry=te("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),iy=[ry];function sy(e,t,n,r,s,p){return se(),pe("svg",ny,iy)}var Sd=dt(ty,[["render",sy],["__file","arrow-down.vue"]]),oy={name:"ArrowLeft"},ay={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ly=te("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),cy=[ly];function uy(e,t,n,r,s,p){return se(),pe("svg",ay,cy)}var xd=dt(oy,[["render",uy],["__file","arrow-left.vue"]]),fy={name:"ArrowRight"},hy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},dy=te("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),py=[dy];function gy(e,t,n,r,s,p){return se(),pe("svg",hy,py)}var vy=dt(fy,[["render",gy],["__file","arrow-right.vue"]]),my={name:"ArrowUp"},_y={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yy=te("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),by=[yy];function wy(e,t,n,r,s,p){return se(),pe("svg",_y,by)}var Cy=dt(my,[["render",wy],["__file","arrow-up.vue"]]),Sy={name:"CircleCloseFilled"},xy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ty=te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),Oy=[Ty];function Ey(e,t,n,r,s,p){return se(),pe("svg",xy,Oy)}var Td=dt(Sy,[["render",Ey],["__file","circle-close-filled.vue"]]),Py={name:"Close"},ky={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ay=te("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),My=[Ay];function Dy(e,t,n,r,s,p){return se(),pe("svg",ky,My)}var Od=dt(Py,[["render",Dy],["__file","close.vue"]]),Ry={name:"FullScreen"},Iy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Fy=te("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),Ly=[Fy];function By(e,t,n,r,s,p){return se(),pe("svg",Iy,Ly)}var jy=dt(Ry,[["render",By],["__file","full-screen.vue"]]),Ny={name:"InfoFilled"},zy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$y=te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),Hy=[$y];function Uy(e,t,n,r,s,p){return se(),pe("svg",zy,Hy)}var Ed=dt(Ny,[["render",Uy],["__file","info-filled.vue"]]),Wy={name:"Loading"},Yy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Xy=te("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),Vy=[Xy];function Gy(e,t,n,r,s,p){return se(),pe("svg",Yy,Vy)}var Ky=dt(Wy,[["render",Gy],["__file","loading.vue"]]),qy={name:"RefreshLeft"},Jy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Qy=te("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),Zy=[Qy];function eb(e,t,n,r,s,p){return se(),pe("svg",Jy,Zy)}var tb=dt(qy,[["render",eb],["__file","refresh-left.vue"]]),nb={name:"RefreshRight"},rb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ib=te("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),sb=[ib];function ob(e,t,n,r,s,p){return se(),pe("svg",rb,sb)}var ab=dt(nb,[["render",ob],["__file","refresh-right.vue"]]),lb={name:"ScaleToOriginal"},cb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ub=te("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),fb=[ub];function hb(e,t,n,r,s,p){return se(),pe("svg",cb,fb)}var db=dt(lb,[["render",hb],["__file","scale-to-original.vue"]]),pb={name:"Select"},gb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},vb=te("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"},null,-1),mb=[vb];function _b(e,t,n,r,s,p){return se(),pe("svg",gb,mb)}var Xo=dt(pb,[["render",_b],["__file","select.vue"]]),yb={name:"SuccessFilled"},bb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},wb=te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),Cb=[wb];function Sb(e,t,n,r,s,p){return se(),pe("svg",bb,Cb)}var Pd=dt(yb,[["render",Sb],["__file","success-filled.vue"]]),xb={name:"WarningFilled"},Tb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ob=te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),Eb=[Ob];function Pb(e,t,n,r,s,p){return se(),pe("svg",Tb,Eb)}var kd=dt(xb,[["render",Pb],["__file","warning-filled.vue"]]),kb={name:"ZoomIn"},Ab={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Mb=te("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),Db=[Mb];function Rb(e,t,n,r,s,p){return se(),pe("svg",Ab,Db)}var Ib=dt(kb,[["render",Rb],["__file","zoom-in.vue"]]),Fb={name:"ZoomOut"},Lb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Bb=te("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),jb=[Bb];function Nb(e,t,n,r,s,p){return se(),pe("svg",Lb,jb)}var zb=dt(Fb,[["render",Nb],["__file","zoom-out.vue"]]);const $b={class:"panel-block__header"},Hb={class:"panel-block__header-title"},Ub={class:"panel-block__header-action"},Wb={__name:"panel-block",props:{title:String,subTitle:String},emits:["change"],setup(e,{emit:t}){function n(){t("change")}return(r,s)=>(se(),pe("div",$b,[te("div",Hb,ct(e.title),1),te("div",Ub,[te("span",{onClick:n},[Ee(r.$slots,"default",{},()=>[Ai(ct(e.subTitle),1)],!0)])])]))}},Yb=ht(Wb,[["__scopeId","data-v-2e948f55"]]);const Xb={props:{list:{type:Array,required:!0},column:{type:Number,default:4},height:{type:Number,default:225}},data(){return{itemWidth:0,columnData:[]}},watch:{list(){this.renderList()}},mounted(){this.renderList(),window.addEventListener("resize",this.renderList)},methods:{renderList(){this.row||(this.columnData=[],this.itemWidth=`${100/this.column}%`,this.$refs.container&&this.$nextTick(()=>{const e=this.$refs.container.getElementsByClassName("column-item");for(let t=0;t<e.length;t++)this.setElementStyle(e[t],this.list[t],t)}))},setElementStyle(e,t,n){const s=(this.$refs.container.offsetWidth/this.column-6)/t.width*t.height+6;if(n<this.column)e.style.left=`${n*(100/this.column)}%`,this.columnData[n]=this.columnData[n]?this.columnData[n]+s:s;else{let p={};for(let m=0;m<this.columnData.length;m++)Object.prototype.hasOwnProperty.call(p,"index")?this.columnData[m]<p.value&&(p={index:m,value:this.columnData[m]}):p={index:m,value:this.columnData[m]};e.style.left=`${p.index*(100/this.column)}%`,e.style.top=`${p.value}px`,this.columnData[p.index]+=s}e.style.width=this.itemWidth}}},Vb={class:Se({"waterfall-wrap":!0}),ref:"container"};function Gb(e,t,n,r,s,p){return se(),pe("div",Vb,[(se(!0),pe(Me,null,gt(n.list,(m,c)=>(se(),pe("div",{key:c,class:"column-item"},[Ee(e.$slots,"default",{item:m},void 0,!0)]))),128))],512)}const Kb=ht(Xb,[["render",Gb],["__scopeId","data-v-61d1b56b"]]),qe=(e,t,{checkForDefaultPrevented:n=!0}={})=>s=>{const p=e==null?void 0:e(s);if(n===!1||!p)return t==null?void 0:t(s)},Au=e=>t=>t.pointerType==="mouse"?e(t):void 0;var Mu;const Xe=typeof window<"u",qb=e=>typeof e=="string",Ms=()=>{},Jb=Xe&&((Mu=window==null?void 0:window.navigator)==null?void 0:Mu.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function co(e){return typeof e=="function"?e():B(e)}function Qb(e,t){function n(...r){return new Promise((s,p)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(p)})}return n}function Zb(e,t=!0,n=!0,r=!1){let s=0,p,m=!0,c=Ms,i;const h=()=>{p&&(clearTimeout(p),p=void 0,c(),c=Ms)};return o=>{const l=co(e),a=Date.now()-s,u=()=>i=o();return h(),l<=0?(s=Date.now(),u()):(a>l&&(n||!m)?(s=Date.now(),u()):t&&(i=new Promise((g,d)=>{c=r?d:g,p=setTimeout(()=>{s=Date.now(),m=!0,g(u()),h()},Math.max(0,l-a))})),!n&&!p&&(p=setTimeout(()=>m=!0,l)),m=!1,i)}}function ew(e){return e}function uo(e){return nh()?(Kg(e),!0):!1}function tw(e,t=200,n=!1,r=!0,s=!1){return Qb(Zb(t,n,r,s),e)}function nw(e,t=!0){Bt()?nt(e):t?e():Wt(e)}function rw(e,t,n={}){const{immediate:r=!0}=n,s=fe(!1);let p=null;function m(){p&&(clearTimeout(p),p=null)}function c(){s.value=!1,m()}function i(...h){m(),s.value=!0,p=setTimeout(()=>{s.value=!1,p=null,e(...h)},co(t))}return r&&(s.value=!0,Xe&&i()),uo(c),{isPending:zi(s),start:i,stop:c}}function $n(e){var t;const n=co(e);return(t=n==null?void 0:n.$el)!=null?t:n}const kl=Xe?window:void 0;function Et(...e){let t,n,r,s;if(qb(e[0])||Array.isArray(e[0])?([n,r,s]=e,t=kl):[t,n,r,s]=e,!t)return Ms;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const p=[],m=()=>{p.forEach(f=>f()),p.length=0},c=(f,o,l,a)=>(f.addEventListener(o,l,a),()=>f.removeEventListener(o,l,a)),i=Ae(()=>[$n(t),co(s)],([f,o])=>{m(),f&&p.push(...n.flatMap(l=>r.map(a=>c(f,l,a,o))))},{immediate:!0,flush:"post"}),h=()=>{i(),m()};return uo(h),h}let Du=!1;function iw(e,t,n={}){const{window:r=kl,ignore:s=[],capture:p=!0,detectIframe:m=!1}=n;if(!r)return;Jb&&!Du&&(Du=!0,Array.from(r.document.body.children).forEach(l=>l.addEventListener("click",Ms)));let c=!0;const i=l=>s.some(a=>{if(typeof a=="string")return Array.from(r.document.querySelectorAll(a)).some(u=>u===l.target||l.composedPath().includes(u));{const u=$n(a);return u&&(l.target===u||l.composedPath().includes(u))}}),f=[Et(r,"click",l=>{const a=$n(e);if(!(!a||a===l.target||l.composedPath().includes(a))){if(l.detail===0&&(c=!i(l)),!c){c=!0;return}t(l)}},{passive:!0,capture:p}),Et(r,"pointerdown",l=>{const a=$n(e);a&&(c=!l.composedPath().includes(a)&&!i(l))},{passive:!0}),m&&Et(r,"blur",l=>{var a;const u=$n(e);((a=r.document.activeElement)==null?void 0:a.tagName)==="IFRAME"&&!(u!=null&&u.contains(r.document.activeElement))&&t(l)})].filter(Boolean);return()=>f.forEach(l=>l())}function sw(e,t=!1){const n=fe(),r=()=>n.value=!!e();return r(),nw(r,t),n}const Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Iu="__vueuse_ssr_handlers__";Ru[Iu]=Ru[Iu]||{};var Fu=Object.getOwnPropertySymbols,ow=Object.prototype.hasOwnProperty,aw=Object.prototype.propertyIsEnumerable,lw=(e,t)=>{var n={};for(var r in e)ow.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fu)for(var r of Fu(e))t.indexOf(r)<0&&aw.call(e,r)&&(n[r]=e[r]);return n};function Ad(e,t,n={}){const r=n,{window:s=kl}=r,p=lw(r,["window"]);let m;const c=sw(()=>s&&"ResizeObserver"in s),i=()=>{m&&(m.disconnect(),m=void 0)},h=Ae(()=>$n(e),o=>{i(),c.value&&s&&o&&(m=new ResizeObserver(t),m.observe(o,p))},{immediate:!0,flush:"post"}),f=()=>{i(),h()};return uo(f),{isSupported:c,stop:f}}var Lu;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Lu||(Lu={}));var cw=Object.defineProperty,Bu=Object.getOwnPropertySymbols,uw=Object.prototype.hasOwnProperty,fw=Object.prototype.propertyIsEnumerable,ju=(e,t,n)=>t in e?cw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hw=(e,t)=>{for(var n in t||(t={}))uw.call(t,n)&&ju(e,n,t[n]);if(Bu)for(var n of Bu(t))fw.call(t,n)&&ju(e,n,t[n]);return e};const dw={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};hw({linear:ew},dw);const pw=(e,t)=>{if(!Xe||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right};var gw=typeof global=="object"&&global&&global.Object===Object&&global;const vw=gw;var mw=typeof self=="object"&&self&&self.Object===Object&&self,_w=vw||mw||Function("return this")();const fo=_w;var yw=fo.Symbol;const Fr=yw;var Md=Object.prototype,bw=Md.hasOwnProperty,ww=Md.toString,ii=Fr?Fr.toStringTag:void 0;function Cw(e){var t=bw.call(e,ii),n=e[ii];try{e[ii]=void 0;var r=!0}catch{}var s=ww.call(e);return r&&(t?e[ii]=n:delete e[ii]),s}var Sw=Object.prototype,xw=Sw.toString;function Tw(e){return xw.call(e)}var Ow="[object Null]",Ew="[object Undefined]",Nu=Fr?Fr.toStringTag:void 0;function Dd(e){return e==null?e===void 0?Ew:Ow:Nu&&Nu in Object(e)?Cw(e):Tw(e)}function Pw(e){return e!=null&&typeof e=="object"}var kw="[object Symbol]";function ho(e){return typeof e=="symbol"||Pw(e)&&Dd(e)==kw}function Aw(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var Mw=Array.isArray;const po=Mw;var Dw=1/0,zu=Fr?Fr.prototype:void 0,$u=zu?zu.toString:void 0;function Rd(e){if(typeof e=="string")return e;if(po(e))return Aw(e,Rd)+"";if(ho(e))return $u?$u.call(e):"";var t=e+"";return t=="0"&&1/e==-Dw?"-0":t}var Rw=/\s/;function Iw(e){for(var t=e.length;t--&&Rw.test(e.charAt(t)););return t}var Fw=/^\s+/;function Lw(e){return e&&e.slice(0,Iw(e)+1).replace(Fw,"")}function Lr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Hu=0/0,Bw=/^[-+]0x[0-9a-f]+$/i,jw=/^0b[01]+$/i,Nw=/^0o[0-7]+$/i,zw=parseInt;function Uu(e){if(typeof e=="number")return e;if(ho(e))return Hu;if(Lr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Lr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Lw(e);var n=jw.test(e);return n||Nw.test(e)?zw(e.slice(2),n?2:8):Bw.test(e)?Hu:+e}var $w="[object AsyncFunction]",Hw="[object Function]",Uw="[object GeneratorFunction]",Ww="[object Proxy]";function Yw(e){if(!Lr(e))return!1;var t=Dd(e);return t==Hw||t==Uw||t==$w||t==Ww}var Xw=fo["__core-js_shared__"];const Vo=Xw;var Wu=function(){var e=/[^.]+$/.exec(Vo&&Vo.keys&&Vo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Vw(e){return!!Wu&&Wu in e}var Gw=Function.prototype,Kw=Gw.toString;function qw(e){if(e!=null){try{return Kw.call(e)}catch{}try{return e+""}catch{}}return""}var Jw=/[\\^$.*+?()[\]{}|]/g,Qw=/^\[object .+?Constructor\]$/,Zw=Function.prototype,eC=Object.prototype,tC=Zw.toString,nC=eC.hasOwnProperty,rC=RegExp("^"+tC.call(nC).replace(Jw,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iC(e){if(!Lr(e)||Vw(e))return!1;var t=Yw(e)?rC:Qw;return t.test(qw(e))}function sC(e,t){return e==null?void 0:e[t]}function Id(e,t){var n=sC(e,t);return iC(n)?n:void 0}function oC(e,t){return e===t||e!==e&&t!==t}var aC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lC=/^\w*$/;function cC(e,t){if(po(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ho(e)?!0:lC.test(e)||!aC.test(e)||t!=null&&e in Object(t)}var uC=Id(Object,"create");const Ri=uC;function fC(){this.__data__=Ri?Ri(null):{},this.size=0}function hC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var dC="__lodash_hash_undefined__",pC=Object.prototype,gC=pC.hasOwnProperty;function vC(e){var t=this.__data__;if(Ri){var n=t[e];return n===dC?void 0:n}return gC.call(t,e)?t[e]:void 0}var mC=Object.prototype,_C=mC.hasOwnProperty;function yC(e){var t=this.__data__;return Ri?t[e]!==void 0:_C.call(t,e)}var bC="__lodash_hash_undefined__";function wC(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ri&&t===void 0?bC:t,this}function ur(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ur.prototype.clear=fC;ur.prototype.delete=hC;ur.prototype.get=vC;ur.prototype.has=yC;ur.prototype.set=wC;function CC(){this.__data__=[],this.size=0}function go(e,t){for(var n=e.length;n--;)if(oC(e[n][0],t))return n;return-1}var SC=Array.prototype,xC=SC.splice;function TC(e){var t=this.__data__,n=go(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():xC.call(t,n,1),--this.size,!0}function OC(e){var t=this.__data__,n=go(t,e);return n<0?void 0:t[n][1]}function EC(e){return go(this.__data__,e)>-1}function PC(e,t){var n=this.__data__,r=go(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function qr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qr.prototype.clear=CC;qr.prototype.delete=TC;qr.prototype.get=OC;qr.prototype.has=EC;qr.prototype.set=PC;var kC=Id(fo,"Map");const AC=kC;function MC(){this.size=0,this.__data__={hash:new ur,map:new(AC||qr),string:new ur}}function DC(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function vo(e,t){var n=e.__data__;return DC(t)?n[typeof t=="string"?"string":"hash"]:n.map}function RC(e){var t=vo(this,e).delete(e);return this.size-=t?1:0,t}function IC(e){return vo(this,e).get(e)}function FC(e){return vo(this,e).has(e)}function LC(e,t){var n=vo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function pr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pr.prototype.clear=MC;pr.prototype.delete=RC;pr.prototype.get=IC;pr.prototype.has=FC;pr.prototype.set=LC;var BC="Expected a function";function Al(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(BC);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],p=n.cache;if(p.has(s))return p.get(s);var m=e.apply(this,r);return n.cache=p.set(s,m)||p,m};return n.cache=new(Al.Cache||pr),n}Al.Cache=pr;var jC=500;function NC(e){var t=Al(e,function(r){return n.size===jC&&n.clear(),r}),n=t.cache;return t}var zC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$C=/\\(\\)?/g,HC=NC(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zC,function(n,r,s,p){t.push(s?p.replace($C,"$1"):r||n)}),t});const UC=HC;function WC(e){return e==null?"":Rd(e)}function YC(e,t){return po(e)?e:cC(e,t)?[e]:UC(WC(e))}var XC=1/0;function VC(e){if(typeof e=="string"||ho(e))return e;var t=e+"";return t=="0"&&1/e==-XC?"-0":t}function GC(e,t){t=YC(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[VC(t[n++])];return n&&n==r?e:void 0}function KC(e,t,n){var r=e==null?void 0:GC(e,t);return r===void 0?n:r}function qC(){if(!arguments.length)return[];var e=arguments[0];return po(e)?e:[e]}var JC=function(){return fo.Date.now()};const Go=JC;var QC="Expected a function",ZC=Math.max,e1=Math.min;function t1(e,t,n){var r,s,p,m,c,i,h=0,f=!1,o=!1,l=!0;if(typeof e!="function")throw new TypeError(QC);t=Uu(t)||0,Lr(n)&&(f=!!n.leading,o="maxWait"in n,p=o?ZC(Uu(n.maxWait)||0,t):p,l="trailing"in n?!!n.trailing:l);function a(C){var S=r,O=s;return r=s=void 0,h=C,m=e.apply(O,S),m}function u(C){return h=C,c=setTimeout(v,t),f?a(C):m}function g(C){var S=C-i,O=C-h,j=t-S;return o?e1(j,p-O):j}function d(C){var S=C-i,O=C-h;return i===void 0||S>=t||S<0||o&&O>=p}function v(){var C=Go();if(d(C))return _(C);c=setTimeout(v,g(C))}function _(C){return c=void 0,l&&r?a(C):(r=s=void 0,m)}function y(){c!==void 0&&clearTimeout(c),h=0,r=i=s=c=void 0}function b(){return c===void 0?m:_(Go())}function w(){var C=Go(),S=d(C);if(r=arguments,s=this,i=C,S){if(c===void 0)return u(i);if(o)return clearTimeout(c),c=setTimeout(v,t),a(i)}return c===void 0&&(c=setTimeout(v,t)),m}return w.cancel=y,w.flush=b,w}function Ds(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function Ml(e){return e==null}function n1(e){return e===void 0}var r1="Expected a function";function vs(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(r1);return Lr(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),t1(e,t,{leading:r,maxWait:t,trailing:s})}const i1=e=>e===void 0,Fd=e=>typeof e=="boolean",wt=e=>typeof e=="number",Br=e=>typeof Element>"u"?!1:e instanceof Element,s1=e=>ze(e)?!Number.isNaN(Number(e)):!1,Ia=e=>Object.keys(e);class o1 extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function a1(e,t){throw new o1(`[${e}] ${t}`)}const l1=(e,t)=>{var n;if(!Xe||!e||!t)return"";let r=Zt(t);r==="float"&&(r="cssFloat");try{const s=e.style[r];if(s)return s;const p=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return p?p[r]:""}catch{return e.style[r]}};function Rs(e,t="px"){if(!e)return"";if(wt(e)||s1(e))return`${e}${t}`;if(ze(e))return e}const c1=(e,t)=>{if(!Xe)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=l1(e,n);return["scroll","auto","overlay"].some(s=>r.includes(s))},u1=(e,t)=>{if(!Xe)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(c1(n,t))return n;n=n.parentNode}return n},Ld="__epPropKey",Pe=e=>e,f1=e=>Be(e)&&!!e[Ld],mo=(e,t)=>{if(!Be(e)||f1(e))return e;const{values:n,required:r,default:s,type:p,validator:m}=e,i={type:p,required:!!r,validator:n||m?h=>{let f=!1,o=[];if(n&&(o=Array.from(n),De(e,"default")&&o.push(s),f||(f=o.includes(h))),m&&(f||(f=m(h))),!f&&o.length>0){const l=[...new Set(o)].map(a=>JSON.stringify(a)).join(", ");Av(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${l}], got value ${JSON.stringify(h)}.`)}return f}:void 0,[Ld]:!0};return De(e,"default")&&(i.default=s),i},Ve=e=>Ds(Object.entries(e).map(([t,n])=>[t,mo(n,t)])),Is=Pe([String,Object,Function]),h1={Close:Od,SuccessFilled:Pd,InfoFilled:Ed,WarningFilled:kd,CircleCloseFilled:Td},Yu={success:Pd,warning:kd,error:Td,info:Ed},kn=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},d1=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),Dl=e=>(e.install=Ct,e),Bd=(...e)=>t=>{e.forEach(n=>{Ce(n)?n(t):n.value=t})},Le={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},p1=["","default","small","large"],Rl=e=>e,g1=["class","style"],v1=/^on[A-Z]/,m1=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=oe(()=>((n==null?void 0:n.value)||[]).concat(g1)),s=Bt();return oe(s?()=>{var p;return Ds(Object.entries((p=s.proxy)==null?void 0:p.$attrs).filter(([m])=>!r.value.includes(m)&&!(t&&v1.test(m))))}:()=>({}))},_1=({from:e,replacement:t,scope:n,version:r,ref:s,type:p="API"},m)=>{Ae(()=>B(m),c=>{},{immediate:!0})};var y1={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const b1=e=>(t,n)=>w1(t,n,B(e)),w1=(e,t,n)=>KC(n,e,e).replace(/\{(\w+)\}/g,(r,s)=>{var p;return`${(p=t==null?void 0:t[s])!=null?p:`{${s}}`}`}),C1=e=>{const t=oe(()=>B(e).name),n=tt(e)?e:fe(e);return{lang:t,locale:n,t:b1(e)}},jd=Symbol("localeContextKey"),_o=e=>{const t=e||xe(jd,fe());return C1(oe(()=>t.value||y1))},ms="el",S1="is-",Zn=(e,t,n,r,s)=>{let p=`${e}-${t}`;return n&&(p+=`-${n}`),r&&(p+=`__${r}`),s&&(p+=`--${s}`),p},Nd=Symbol("namespaceContextKey"),Il=e=>{const t=e||(Bt()?xe(Nd,fe(ms)):fe(ms));return oe(()=>B(t)||ms)},it=(e,t)=>{const n=Il(t);return{namespace:n,b:(g="")=>Zn(n.value,e,g,"",""),e:g=>g?Zn(n.value,e,"",g,""):"",m:g=>g?Zn(n.value,e,"","",g):"",be:(g,d)=>g&&d?Zn(n.value,e,g,d,""):"",em:(g,d)=>g&&d?Zn(n.value,e,"",g,d):"",bm:(g,d)=>g&&d?Zn(n.value,e,g,"",d):"",bem:(g,d,v)=>g&&d&&v?Zn(n.value,e,g,d,v):"",is:(g,...d)=>{const v=d.length>=1?d[0]:!0;return g&&v?`${S1}${g}`:""},cssVar:g=>{const d={};for(const v in g)g[v]&&(d[`--${n.value}-${v}`]=g[v]);return d},cssVarName:g=>`--${n.value}-${g}`,cssVarBlock:g=>{const d={};for(const v in g)g[v]&&(d[`--${n.value}-${e}-${v}`]=g[v]);return d},cssVarBlockName:g=>`--${n.value}-${e}-${g}`}},x1=mo({type:Pe(Boolean),default:null}),T1=mo({type:Pe(Function)}),zd=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],s={[e]:x1,[n]:T1};return{useModelToggle:({indicator:m,toggleReason:c,shouldHideWhenRouteChanges:i,shouldProceed:h,onShow:f,onHide:o})=>{const l=Bt(),{emit:a}=l,u=l.props,g=oe(()=>Ce(u[n])),d=oe(()=>u[e]===null),v=S=>{m.value!==!0&&(m.value=!0,c&&(c.value=S),Ce(f)&&f(S))},_=S=>{m.value!==!1&&(m.value=!1,c&&(c.value=S),Ce(o)&&o(S))},y=S=>{if(u.disabled===!0||Ce(h)&&!h())return;const O=g.value&&Xe;O&&a(t,!0),(d.value||!O)&&v(S)},b=S=>{if(u.disabled===!0||!Xe)return;const O=g.value&&Xe;O&&a(t,!1),(d.value||!O)&&_(S)},w=S=>{Fd(S)&&(u.disabled&&S?g.value&&a(t,!1):m.value!==S&&(S?v():_()))},C=()=>{m.value?b():y()};return Ae(()=>u[e],w),i&&l.appContext.config.globalProperties.$route!==void 0&&Ae(()=>({...l.proxy.$route}),()=>{i.value&&m.value&&b()}),nt(()=>{w(u[e])}),{hide:b,show:y,toggle:C,hasUpdateHandler:g}},useModelToggleProps:s,useModelToggleEmits:r}};zd("modelValue");const $d=e=>{const t=Bt();return oe(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})};var Pt="top",Xt="bottom",Vt="right",kt="left",Fl="auto",$i=[Pt,Xt,Vt,kt],jr="start",Ii="end",O1="clippingParents",Hd="viewport",si="popper",E1="reference",Xu=$i.reduce(function(e,t){return e.concat([t+"-"+jr,t+"-"+Ii])},[]),Ll=[].concat($i,[Fl]).reduce(function(e,t){return e.concat([t,t+"-"+jr,t+"-"+Ii])},[]),P1="beforeRead",k1="read",A1="afterRead",M1="beforeMain",D1="main",R1="afterMain",I1="beforeWrite",F1="write",L1="afterWrite",B1=[P1,k1,A1,M1,D1,R1,I1,F1,L1];function dn(e){return e?(e.nodeName||"").toLowerCase():null}function nn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Nr(e){var t=nn(e).Element;return e instanceof t||e instanceof Element}function Ht(e){var t=nn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Bl(e){if(typeof ShadowRoot>"u")return!1;var t=nn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function j1(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},p=t.elements[n];!Ht(p)||!dn(p)||(Object.assign(p.style,r),Object.keys(s).forEach(function(m){var c=s[m];c===!1?p.removeAttribute(m):p.setAttribute(m,c===!0?"":c)}))})}function N1(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],p=t.attributes[r]||{},m=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=m.reduce(function(i,h){return i[h]="",i},{});!Ht(s)||!dn(s)||(Object.assign(s.style,c),Object.keys(p).forEach(function(i){s.removeAttribute(i)}))})}}var Ud={name:"applyStyles",enabled:!0,phase:"write",fn:j1,effect:N1,requires:["computeStyles"]};function hn(e){return e.split("-")[0]}var lr=Math.max,Fs=Math.min,zr=Math.round;function $r(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,s=1;if(Ht(e)&&t){var p=e.offsetHeight,m=e.offsetWidth;m>0&&(r=zr(n.width)/m||1),p>0&&(s=zr(n.height)/p||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function jl(e){var t=$r(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Wd(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Bl(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function En(e){return nn(e).getComputedStyle(e)}function z1(e){return["table","td","th"].indexOf(dn(e))>=0}function Xn(e){return((Nr(e)?e.ownerDocument:e.document)||window.document).documentElement}function yo(e){return dn(e)==="html"?e:e.assignedSlot||e.parentNode||(Bl(e)?e.host:null)||Xn(e)}function Vu(e){return!Ht(e)||En(e).position==="fixed"?null:e.offsetParent}function $1(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Ht(e)){var r=En(e);if(r.position==="fixed")return null}var s=yo(e);for(Bl(s)&&(s=s.host);Ht(s)&&["html","body"].indexOf(dn(s))<0;){var p=En(s);if(p.transform!=="none"||p.perspective!=="none"||p.contain==="paint"||["transform","perspective"].indexOf(p.willChange)!==-1||t&&p.willChange==="filter"||t&&p.filter&&p.filter!=="none")return s;s=s.parentNode}return null}function Hi(e){for(var t=nn(e),n=Vu(e);n&&z1(n)&&En(n).position==="static";)n=Vu(n);return n&&(dn(n)==="html"||dn(n)==="body"&&En(n).position==="static")?t:n||$1(e)||t}function Nl(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function mi(e,t,n){return lr(e,Fs(t,n))}function H1(e,t,n){var r=mi(e,t,n);return r>n?n:r}function Yd(){return{top:0,right:0,bottom:0,left:0}}function Xd(e){return Object.assign({},Yd(),e)}function Vd(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var U1=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Xd(typeof e!="number"?e:Vd(e,$i))};function W1(e){var t,n=e.state,r=e.name,s=e.options,p=n.elements.arrow,m=n.modifiersData.popperOffsets,c=hn(n.placement),i=Nl(c),h=[kt,Vt].indexOf(c)>=0,f=h?"height":"width";if(!(!p||!m)){var o=U1(s.padding,n),l=jl(p),a=i==="y"?Pt:kt,u=i==="y"?Xt:Vt,g=n.rects.reference[f]+n.rects.reference[i]-m[i]-n.rects.popper[f],d=m[i]-n.rects.reference[i],v=Hi(p),_=v?i==="y"?v.clientHeight||0:v.clientWidth||0:0,y=g/2-d/2,b=o[a],w=_-l[f]-o[u],C=_/2-l[f]/2+y,S=mi(b,C,w),O=i;n.modifiersData[r]=(t={},t[O]=S,t.centerOffset=S-C,t)}}function Y1(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!Wd(t.elements.popper,s)||(t.elements.arrow=s))}var X1={name:"arrow",enabled:!0,phase:"main",fn:W1,effect:Y1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Hr(e){return e.split("-")[1]}var V1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function G1(e){var t=e.x,n=e.y,r=window,s=r.devicePixelRatio||1;return{x:zr(t*s)/s||0,y:zr(n*s)/s||0}}function Gu(e){var t,n=e.popper,r=e.popperRect,s=e.placement,p=e.variation,m=e.offsets,c=e.position,i=e.gpuAcceleration,h=e.adaptive,f=e.roundOffsets,o=e.isFixed,l=m.x,a=l===void 0?0:l,u=m.y,g=u===void 0?0:u,d=typeof f=="function"?f({x:a,y:g}):{x:a,y:g};a=d.x,g=d.y;var v=m.hasOwnProperty("x"),_=m.hasOwnProperty("y"),y=kt,b=Pt,w=window;if(h){var C=Hi(n),S="clientHeight",O="clientWidth";if(C===nn(n)&&(C=Xn(n),En(C).position!=="static"&&c==="absolute"&&(S="scrollHeight",O="scrollWidth")),C=C,s===Pt||(s===kt||s===Vt)&&p===Ii){b=Xt;var j=o&&C===w&&w.visualViewport?w.visualViewport.height:C[S];g-=j-r.height,g*=i?1:-1}if(s===kt||(s===Pt||s===Xt)&&p===Ii){y=Vt;var Y=o&&C===w&&w.visualViewport?w.visualViewport.width:C[O];a-=Y-r.width,a*=i?1:-1}}var G=Object.assign({position:c},h&&V1),U=f===!0?G1({x:a,y:g}):{x:a,y:g};if(a=U.x,g=U.y,i){var ee;return Object.assign({},G,(ee={},ee[b]=_?"0":"",ee[y]=v?"0":"",ee.transform=(w.devicePixelRatio||1)<=1?"translate("+a+"px, "+g+"px)":"translate3d("+a+"px, "+g+"px, 0)",ee))}return Object.assign({},G,(t={},t[b]=_?g+"px":"",t[y]=v?a+"px":"",t.transform="",t))}function K1(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,p=n.adaptive,m=p===void 0?!0:p,c=n.roundOffsets,i=c===void 0?!0:c,h={placement:hn(t.placement),variation:Hr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Gu(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:m,roundOffsets:i})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Gu(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Gd={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:K1,data:{}},ns={passive:!0};function q1(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,p=s===void 0?!0:s,m=r.resize,c=m===void 0?!0:m,i=nn(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return p&&h.forEach(function(f){f.addEventListener("scroll",n.update,ns)}),c&&i.addEventListener("resize",n.update,ns),function(){p&&h.forEach(function(f){f.removeEventListener("scroll",n.update,ns)}),c&&i.removeEventListener("resize",n.update,ns)}}var Kd={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:q1,data:{}},J1={left:"right",right:"left",bottom:"top",top:"bottom"};function _s(e){return e.replace(/left|right|bottom|top/g,function(t){return J1[t]})}var Q1={start:"end",end:"start"};function Ku(e){return e.replace(/start|end/g,function(t){return Q1[t]})}function zl(e){var t=nn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function $l(e){return $r(Xn(e)).left+zl(e).scrollLeft}function Z1(e){var t=nn(e),n=Xn(e),r=t.visualViewport,s=n.clientWidth,p=n.clientHeight,m=0,c=0;return r&&(s=r.width,p=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(m=r.offsetLeft,c=r.offsetTop)),{width:s,height:p,x:m+$l(e),y:c}}function eS(e){var t,n=Xn(e),r=zl(e),s=(t=e.ownerDocument)==null?void 0:t.body,p=lr(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),m=lr(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-r.scrollLeft+$l(e),i=-r.scrollTop;return En(s||n).direction==="rtl"&&(c+=lr(n.clientWidth,s?s.clientWidth:0)-p),{width:p,height:m,x:c,y:i}}function Hl(e){var t=En(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function qd(e){return["html","body","#document"].indexOf(dn(e))>=0?e.ownerDocument.body:Ht(e)&&Hl(e)?e:qd(yo(e))}function _i(e,t){var n;t===void 0&&(t=[]);var r=qd(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),p=nn(r),m=s?[p].concat(p.visualViewport||[],Hl(r)?r:[]):r,c=t.concat(m);return s?c:c.concat(_i(yo(m)))}function Fa(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function tS(e){var t=$r(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function qu(e,t){return t===Hd?Fa(Z1(e)):Nr(t)?tS(t):Fa(eS(Xn(e)))}function nS(e){var t=_i(yo(e)),n=["absolute","fixed"].indexOf(En(e).position)>=0,r=n&&Ht(e)?Hi(e):e;return Nr(r)?t.filter(function(s){return Nr(s)&&Wd(s,r)&&dn(s)!=="body"}):[]}function rS(e,t,n){var r=t==="clippingParents"?nS(e):[].concat(t),s=[].concat(r,[n]),p=s[0],m=s.reduce(function(c,i){var h=qu(e,i);return c.top=lr(h.top,c.top),c.right=Fs(h.right,c.right),c.bottom=Fs(h.bottom,c.bottom),c.left=lr(h.left,c.left),c},qu(e,p));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function Jd(e){var t=e.reference,n=e.element,r=e.placement,s=r?hn(r):null,p=r?Hr(r):null,m=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,i;switch(s){case Pt:i={x:m,y:t.y-n.height};break;case Xt:i={x:m,y:t.y+t.height};break;case Vt:i={x:t.x+t.width,y:c};break;case kt:i={x:t.x-n.width,y:c};break;default:i={x:t.x,y:t.y}}var h=s?Nl(s):null;if(h!=null){var f=h==="y"?"height":"width";switch(p){case jr:i[h]=i[h]-(t[f]/2-n[f]/2);break;case Ii:i[h]=i[h]+(t[f]/2-n[f]/2);break}}return i}function Fi(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,p=n.boundary,m=p===void 0?O1:p,c=n.rootBoundary,i=c===void 0?Hd:c,h=n.elementContext,f=h===void 0?si:h,o=n.altBoundary,l=o===void 0?!1:o,a=n.padding,u=a===void 0?0:a,g=Xd(typeof u!="number"?u:Vd(u,$i)),d=f===si?E1:si,v=e.rects.popper,_=e.elements[l?d:f],y=rS(Nr(_)?_:_.contextElement||Xn(e.elements.popper),m,i),b=$r(e.elements.reference),w=Jd({reference:b,element:v,strategy:"absolute",placement:s}),C=Fa(Object.assign({},v,w)),S=f===si?C:b,O={top:y.top-S.top+g.top,bottom:S.bottom-y.bottom+g.bottom,left:y.left-S.left+g.left,right:S.right-y.right+g.right},j=e.modifiersData.offset;if(f===si&&j){var Y=j[s];Object.keys(O).forEach(function(G){var U=[Vt,Xt].indexOf(G)>=0?1:-1,ee=[Pt,Xt].indexOf(G)>=0?"y":"x";O[G]+=Y[ee]*U})}return O}function iS(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,p=n.rootBoundary,m=n.padding,c=n.flipVariations,i=n.allowedAutoPlacements,h=i===void 0?Ll:i,f=Hr(r),o=f?c?Xu:Xu.filter(function(u){return Hr(u)===f}):$i,l=o.filter(function(u){return h.indexOf(u)>=0});l.length===0&&(l=o);var a=l.reduce(function(u,g){return u[g]=Fi(e,{placement:g,boundary:s,rootBoundary:p,padding:m})[hn(g)],u},{});return Object.keys(a).sort(function(u,g){return a[u]-a[g]})}function sS(e){if(hn(e)===Fl)return[];var t=_s(e);return[Ku(e),t,Ku(t)]}function oS(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,p=s===void 0?!0:s,m=n.altAxis,c=m===void 0?!0:m,i=n.fallbackPlacements,h=n.padding,f=n.boundary,o=n.rootBoundary,l=n.altBoundary,a=n.flipVariations,u=a===void 0?!0:a,g=n.allowedAutoPlacements,d=t.options.placement,v=hn(d),_=v===d,y=i||(_||!u?[_s(d)]:sS(d)),b=[d].concat(y).reduce(function(M,E){return M.concat(hn(E)===Fl?iS(t,{placement:E,boundary:f,rootBoundary:o,padding:h,flipVariations:u,allowedAutoPlacements:g}):E)},[]),w=t.rects.reference,C=t.rects.popper,S=new Map,O=!0,j=b[0],Y=0;Y<b.length;Y++){var G=b[Y],U=hn(G),ee=Hr(G)===jr,ie=[Pt,Xt].indexOf(U)>=0,le=ie?"width":"height",ce=Fi(t,{placement:G,boundary:f,rootBoundary:o,altBoundary:l,padding:h}),X=ie?ee?Vt:kt:ee?Xt:Pt;w[le]>C[le]&&(X=_s(X));var J=_s(X),x=[];if(p&&x.push(ce[U]<=0),c&&x.push(ce[X]<=0,ce[J]<=0),x.every(function(M){return M})){j=G,O=!1;break}S.set(G,x)}if(O)for(var D=u?3:1,R=function(M){var E=b.find(function(H){var A=S.get(H);if(A)return A.slice(0,M).every(function(F){return F})});if(E)return j=E,"break"},I=D;I>0;I--){var Q=R(I);if(Q==="break")break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}}var aS={name:"flip",enabled:!0,phase:"main",fn:oS,requiresIfExists:["offset"],data:{_skip:!1}};function Ju(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Qu(e){return[Pt,Vt,Xt,kt].some(function(t){return e[t]>=0})}function lS(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,p=t.modifiersData.preventOverflow,m=Fi(t,{elementContext:"reference"}),c=Fi(t,{altBoundary:!0}),i=Ju(m,r),h=Ju(c,s,p),f=Qu(i),o=Qu(h);t.modifiersData[n]={referenceClippingOffsets:i,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:o},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":o})}var cS={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:lS};function uS(e,t,n){var r=hn(e),s=[kt,Pt].indexOf(r)>=0?-1:1,p=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,m=p[0],c=p[1];return m=m||0,c=(c||0)*s,[kt,Vt].indexOf(r)>=0?{x:c,y:m}:{x:m,y:c}}function fS(e){var t=e.state,n=e.options,r=e.name,s=n.offset,p=s===void 0?[0,0]:s,m=Ll.reduce(function(f,o){return f[o]=uS(o,t.rects,p),f},{}),c=m[t.placement],i=c.x,h=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=m}var hS={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fS};function dS(e){var t=e.state,n=e.name;t.modifiersData[n]=Jd({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Qd={name:"popperOffsets",enabled:!0,phase:"read",fn:dS,data:{}};function pS(e){return e==="x"?"y":"x"}function gS(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,p=s===void 0?!0:s,m=n.altAxis,c=m===void 0?!1:m,i=n.boundary,h=n.rootBoundary,f=n.altBoundary,o=n.padding,l=n.tether,a=l===void 0?!0:l,u=n.tetherOffset,g=u===void 0?0:u,d=Fi(t,{boundary:i,rootBoundary:h,padding:o,altBoundary:f}),v=hn(t.placement),_=Hr(t.placement),y=!_,b=Nl(v),w=pS(b),C=t.modifiersData.popperOffsets,S=t.rects.reference,O=t.rects.popper,j=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,Y=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),G=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(C){if(p){var ee,ie=b==="y"?Pt:kt,le=b==="y"?Xt:Vt,ce=b==="y"?"height":"width",X=C[b],J=X+d[ie],x=X-d[le],D=a?-O[ce]/2:0,R=_===jr?S[ce]:O[ce],I=_===jr?-O[ce]:-S[ce],Q=t.elements.arrow,M=a&&Q?jl(Q):{width:0,height:0},E=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Yd(),H=E[ie],A=E[le],F=mi(0,S[ce],M[ce]),z=y?S[ce]/2-D-F-H-Y.mainAxis:R-F-H-Y.mainAxis,K=y?-S[ce]/2+D+F+A+Y.mainAxis:I+F+A+Y.mainAxis,ne=t.elements.arrow&&Hi(t.elements.arrow),k=ne?b==="y"?ne.clientTop||0:ne.clientLeft||0:0,T=(ee=G==null?void 0:G[b])!=null?ee:0,P=X+z-T-k,L=X+K-T,$=mi(a?Fs(J,P):J,X,a?lr(x,L):x);C[b]=$,U[b]=$-X}if(c){var N,W=b==="x"?Pt:kt,q=b==="x"?Xt:Vt,re=C[w],Z=w==="y"?"height":"width",V=re+d[W],ae=re-d[q],he=[Pt,kt].indexOf(v)!==-1,ge=(N=G==null?void 0:G[w])!=null?N:0,me=he?V:re-S[Z]-O[Z]-ge+Y.altAxis,_e=he?re+S[Z]+O[Z]-ge-Y.altAxis:ae,be=a&&he?H1(me,re,_e):mi(a?me:V,re,a?_e:ae);C[w]=be,U[w]=be-re}t.modifiersData[r]=U}}var vS={name:"preventOverflow",enabled:!0,phase:"main",fn:gS,requiresIfExists:["offset"]};function mS(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function _S(e){return e===nn(e)||!Ht(e)?zl(e):mS(e)}function yS(e){var t=e.getBoundingClientRect(),n=zr(t.width)/e.offsetWidth||1,r=zr(t.height)/e.offsetHeight||1;return n!==1||r!==1}function bS(e,t,n){n===void 0&&(n=!1);var r=Ht(t),s=Ht(t)&&yS(t),p=Xn(t),m=$r(e,s),c={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(r||!r&&!n)&&((dn(t)!=="body"||Hl(p))&&(c=_S(t)),Ht(t)?(i=$r(t,!0),i.x+=t.clientLeft,i.y+=t.clientTop):p&&(i.x=$l(p))),{x:m.left+c.scrollLeft-i.x,y:m.top+c.scrollTop-i.y,width:m.width,height:m.height}}function wS(e){var t=new Map,n=new Set,r=[];e.forEach(function(p){t.set(p.name,p)});function s(p){n.add(p.name);var m=[].concat(p.requires||[],p.requiresIfExists||[]);m.forEach(function(c){if(!n.has(c)){var i=t.get(c);i&&s(i)}}),r.push(p)}return e.forEach(function(p){n.has(p.name)||s(p)}),r}function CS(e){var t=wS(e);return B1.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function SS(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function xS(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Zu={placement:"bottom",modifiers:[],strategy:"absolute"};function ef(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ul(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,p=s===void 0?Zu:s;return function(m,c,i){i===void 0&&(i=p);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zu,p),modifiersData:{},elements:{reference:m,popper:c},attributes:{},styles:{}},f=[],o=!1,l={state:h,setOptions:function(g){var d=typeof g=="function"?g(h.options):g;u(),h.options=Object.assign({},p,h.options,d),h.scrollParents={reference:Nr(m)?_i(m):m.contextElement?_i(m.contextElement):[],popper:_i(c)};var v=CS(xS([].concat(r,h.options.modifiers)));return h.orderedModifiers=v.filter(function(_){return _.enabled}),a(),l.update()},forceUpdate:function(){if(!o){var g=h.elements,d=g.reference,v=g.popper;if(ef(d,v)){h.rects={reference:bS(d,Hi(v),h.options.strategy==="fixed"),popper:jl(v)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(O){return h.modifiersData[O.name]=Object.assign({},O.data)});for(var _=0;_<h.orderedModifiers.length;_++){if(h.reset===!0){h.reset=!1,_=-1;continue}var y=h.orderedModifiers[_],b=y.fn,w=y.options,C=w===void 0?{}:w,S=y.name;typeof b=="function"&&(h=b({state:h,options:C,name:S,instance:l})||h)}}}},update:SS(function(){return new Promise(function(g){l.forceUpdate(),g(h)})}),destroy:function(){u(),o=!0}};if(!ef(m,c))return l;l.setOptions(i).then(function(g){!o&&i.onFirstUpdate&&i.onFirstUpdate(g)});function a(){h.orderedModifiers.forEach(function(g){var d=g.name,v=g.options,_=v===void 0?{}:v,y=g.effect;if(typeof y=="function"){var b=y({state:h,name:d,instance:l,options:_}),w=function(){};f.push(b||w)}})}function u(){f.forEach(function(g){return g()}),f=[]}return l}}Ul();var TS=[Kd,Qd,Gd,Ud];Ul({defaultModifiers:TS});var OS=[Kd,Qd,Gd,Ud,hS,aS,vS,X1,cS],ES=Ul({defaultModifiers:OS});const PS=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:i})=>{const h=kS(i);Object.assign(m.value,h)},requires:["computeStyles"]},s=oe(()=>{const{onFirstUpdate:i,placement:h,strategy:f,modifiers:o}=B(n);return{onFirstUpdate:i,placement:h||"bottom",strategy:f||"absolute",modifiers:[...o||[],r,{name:"applyStyles",enabled:!1}]}}),p=Oi(),m=fe({styles:{popper:{position:B(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=()=>{p.value&&(p.value.destroy(),p.value=void 0)};return Ae(s,i=>{const h=B(p);h&&h.setOptions(i)},{deep:!0}),Ae([e,t],([i,h])=>{c(),!(!i||!h)&&(p.value=ES(i,h,B(s)))}),Lt(()=>{c()}),{state:oe(()=>{var i;return{...((i=B(p))==null?void 0:i.state)||{}}}),styles:oe(()=>B(m).styles),attributes:oe(()=>B(m).attributes),update:()=>{var i;return(i=B(p))==null?void 0:i.update()},forceUpdate:()=>{var i;return(i=B(p))==null?void 0:i.forceUpdate()},instanceRef:oe(()=>B(p))}};function kS(e){const t=Object.keys(e.elements),n=Ds(t.map(s=>[s,e.styles[s]||{}])),r=Ds(t.map(s=>[s,e.attributes[s]]));return{styles:n,attributes:r}}function tf(){let e;const t=(r,s)=>{n(),e=window.setTimeout(r,s)},n=()=>window.clearTimeout(e);return uo(()=>n()),{registerTimeout:t,cancelTimeout:n}}const nf={prefix:Math.floor(Math.random()*1e4),current:0},AS=Symbol("elIdInjection"),Zd=()=>Bt()?xe(AS,nf):nf,Wl=e=>{const t=Zd(),n=Il();return oe(()=>B(e)||`${n.value}-id-${t.prefix}-${t.current++}`)};let Sr=[];const rf=e=>{const t=e;t.key===Le.esc&&Sr.forEach(n=>n(t))},MS=e=>{nt(()=>{Sr.length===0&&document.addEventListener("keydown",rf),Xe&&Sr.push(e)}),Lt(()=>{Sr=Sr.filter(t=>t!==e),Sr.length===0&&Xe&&document.removeEventListener("keydown",rf)})};let sf;const ep=()=>{const e=Il(),t=Zd(),n=oe(()=>`${e.value}-popper-container-${t.prefix}`),r=oe(()=>`#${n.value}`);return{id:n,selector:r}},DS=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},RS=()=>{const{id:e,selector:t}=ep();return Ah(()=>{Xe&&!sf&&!document.body.querySelector(t.value)&&(sf=DS(e.value))}),{id:e,selector:t}},IS=Ve({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),FS=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:s})=>{const{registerTimeout:p}=tf(),{registerTimeout:m,cancelTimeout:c}=tf();return{onOpen:f=>{p(()=>{r(f);const o=B(n);wt(o)&&o>0&&m(()=>{s(f)},o)},B(e))},onClose:f=>{c(),p(()=>{s(f)},B(t))}}},tp=Symbol("elForwardRef"),LS=e=>{Je(tp,{setForwardRef:n=>{e.value=n}})},BS=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),of=fe(0),np=2e3,rp=Symbol("zIndexContextKey"),Yl=e=>{const t=e||(Bt()?xe(rp,void 0):void 0),n=oe(()=>{const p=B(t);return wt(p)?p:np}),r=oe(()=>n.value+of.value);return{initialZIndex:n,currentZIndex:r,nextZIndex:()=>(of.value++,r.value)}},jS=mo({type:String,values:p1,required:!1}),ip=Symbol("size"),NS=()=>{const e=xe(ip,{});return oe(()=>B(e.size)||"")},sp=Symbol(),Ls=fe();function Xl(e,t=void 0){const n=Bt()?xe(sp,Ls):Ls;return e?oe(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[e])!=null?s:t}):n}function zS(e,t){const n=Xl(),r=it(e,oe(()=>{var c;return((c=n.value)==null?void 0:c.namespace)||ms})),s=_o(oe(()=>{var c;return(c=n.value)==null?void 0:c.locale})),p=Yl(oe(()=>{var c;return((c=n.value)==null?void 0:c.zIndex)||np})),m=oe(()=>{var c;return B(t)||((c=n.value)==null?void 0:c.size)||""});return $S(oe(()=>B(n)||{})),{ns:r,locale:s,zIndex:p,size:m}}const $S=(e,t,n=!1)=>{var r;const s=!!Bt(),p=s?Xl():void 0,m=(r=t==null?void 0:t.provide)!=null?r:s?Je:void 0;if(!m)return;const c=oe(()=>{const i=B(e);return p!=null&&p.value?HS(p.value,i):i});return m(sp,c),m(jd,oe(()=>c.value.locale)),m(Nd,oe(()=>c.value.namespace)),m(rp,oe(()=>c.value.zIndex)),m(ip,{size:oe(()=>c.value.size||"")}),(n||!Ls.value)&&(Ls.value=c.value),c},HS=(e,t)=>{var n;const r=[...new Set([...Ia(e),...Ia(t)])],s={};for(const p of r)s[p]=(n=t[p])!=null?n:e[p];return s},af={};var He=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const US=Ve({size:{type:Pe([Number,String])},color:{type:String}}),WS=Te({name:"ElIcon",inheritAttrs:!1}),YS=Te({...WS,props:US,setup(e){const t=e,n=it("icon"),r=oe(()=>{const{size:s,color:p}=t;return!s&&!p?{}:{fontSize:i1(s)?void 0:Rs(s),"--color":p}});return(s,p)=>(se(),pe("i",Yt({class:B(n).b(),style:B(r)},s.$attrs),[Ee(s.$slots,"default")],16))}});var XS=He(YS,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const yt=kn(XS),Vl=Symbol("formContextKey"),Bs=Symbol("formItemContextKey"),op=(e,t={})=>{const n=fe(void 0),r=t.prop?n:$d("size"),s=t.global?n:NS(),p=t.form?{size:void 0}:xe(Vl,void 0),m=t.formItem?{size:void 0}:xe(Bs,void 0);return oe(()=>r.value||B(e)||(m==null?void 0:m.size)||(p==null?void 0:p.size)||s.value||"")},ap=e=>{const t=$d("disabled"),n=xe(Vl,void 0);return oe(()=>t.value||B(e)||(n==null?void 0:n.disabled)||!1)},VS=()=>{const e=xe(Vl,void 0),t=xe(Bs,void 0);return{form:e,formItem:t}},xr=4,GS={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},KS=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),lp=Symbol("scrollbarContextKey"),qS=Ve({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),JS="Thumb",QS=Te({__name:"thumb",props:qS,setup(e){const t=e,n=xe(lp),r=it("scrollbar");n||a1(JS,"can not inject scrollbar context");const s=fe(),p=fe(),m=fe({}),c=fe(!1);let i=!1,h=!1,f=Xe?document.onselectstart:null;const o=oe(()=>GS[t.vertical?"vertical":"horizontal"]),l=oe(()=>KS({size:t.size,move:t.move,bar:o.value})),a=oe(()=>s.value[o.value.offset]**2/n.wrapElement[o.value.scrollSize]/t.ratio/p.value[o.value.offset]),u=C=>{var S;if(C.stopPropagation(),C.ctrlKey||[1,2].includes(C.button))return;(S=window.getSelection())==null||S.removeAllRanges(),d(C);const O=C.currentTarget;O&&(m.value[o.value.axis]=O[o.value.offset]-(C[o.value.client]-O.getBoundingClientRect()[o.value.direction]))},g=C=>{if(!p.value||!s.value||!n.wrapElement)return;const S=Math.abs(C.target.getBoundingClientRect()[o.value.direction]-C[o.value.client]),O=p.value[o.value.offset]/2,j=(S-O)*100*a.value/s.value[o.value.offset];n.wrapElement[o.value.scroll]=j*n.wrapElement[o.value.scrollSize]/100},d=C=>{C.stopImmediatePropagation(),i=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",_),f=document.onselectstart,document.onselectstart=()=>!1},v=C=>{if(!s.value||!p.value||i===!1)return;const S=m.value[o.value.axis];if(!S)return;const O=(s.value.getBoundingClientRect()[o.value.direction]-C[o.value.client])*-1,j=p.value[o.value.offset]-S,Y=(O-j)*100*a.value/s.value[o.value.offset];n.wrapElement[o.value.scroll]=Y*n.wrapElement[o.value.scrollSize]/100},_=()=>{i=!1,m.value[o.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",_),w(),h&&(c.value=!1)},y=()=>{h=!1,c.value=!!t.size},b=()=>{h=!0,c.value=i};Lt(()=>{w(),document.removeEventListener("mouseup",_)});const w=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return Et(Ot(n,"scrollbarElement"),"mousemove",y),Et(Ot(n,"scrollbarElement"),"mouseleave",b),(C,S)=>(se(),ke(gn,{name:B(r).b("fade"),persisted:""},{default:ve(()=>[lt(te("div",{ref_key:"instance",ref:s,class:Se([B(r).e("bar"),B(r).is(B(o).key)]),onMousedown:g},[te("div",{ref_key:"thumb",ref:p,class:Se(B(r).e("thumb")),style:Ye(B(l)),onMousedown:u},null,38)],34),[[bt,C.always||c.value]])]),_:1},8,["name"]))}});var lf=He(QS,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const ZS=Ve({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),ex=Te({__name:"bar",props:ZS,setup(e,{expose:t}){const n=e,r=fe(0),s=fe(0);return t({handleScroll:m=>{if(m){const c=m.offsetHeight-xr,i=m.offsetWidth-xr;s.value=m.scrollTop*100/c*n.ratioY,r.value=m.scrollLeft*100/i*n.ratioX}}}),(m,c)=>(se(),pe(Me,null,[de(lf,{move:r.value,ratio:m.ratioX,size:m.width,always:m.always},null,8,["move","ratio","size","always"]),de(lf,{move:s.value,ratio:m.ratioY,size:m.height,vertical:"",always:m.always},null,8,["move","ratio","size","always"])],64))}});var tx=He(ex,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const nx=Ve({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Pe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),rx={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(wt)},ix="ElScrollbar",sx=Te({name:ix}),ox=Te({...sx,props:nx,emits:rx,setup(e,{expose:t,emit:n}){const r=e,s=it("scrollbar");let p,m;const c=fe(),i=fe(),h=fe(),f=fe("0"),o=fe("0"),l=fe(),a=fe(1),u=fe(1),g=oe(()=>{const S={};return r.height&&(S.height=Rs(r.height)),r.maxHeight&&(S.maxHeight=Rs(r.maxHeight)),[r.wrapStyle,S]}),d=oe(()=>[r.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!r.native}]),v=oe(()=>[s.e("view"),r.viewClass]),_=()=>{var S;i.value&&((S=l.value)==null||S.handleScroll(i.value),n("scroll",{scrollTop:i.value.scrollTop,scrollLeft:i.value.scrollLeft}))};function y(S,O){Be(S)?i.value.scrollTo(S):wt(S)&&wt(O)&&i.value.scrollTo(S,O)}const b=S=>{wt(S)&&(i.value.scrollTop=S)},w=S=>{wt(S)&&(i.value.scrollLeft=S)},C=()=>{if(!i.value)return;const S=i.value.offsetHeight-xr,O=i.value.offsetWidth-xr,j=S**2/i.value.scrollHeight,Y=O**2/i.value.scrollWidth,G=Math.max(j,r.minSize),U=Math.max(Y,r.minSize);a.value=j/(S-j)/(G/(S-G)),u.value=Y/(O-Y)/(U/(O-U)),o.value=G+xr<S?`${G}px`:"",f.value=U+xr<O?`${U}px`:""};return Ae(()=>r.noresize,S=>{S?(p==null||p(),m==null||m()):({stop:p}=Ad(h,C),m=Et("resize",C))},{immediate:!0}),Ae(()=>[r.maxHeight,r.height],()=>{r.native||Wt(()=>{var S;C(),i.value&&((S=l.value)==null||S.handleScroll(i.value))})}),Je(lp,hr({scrollbarElement:c,wrapElement:i})),nt(()=>{r.native||Wt(()=>{C()})}),Mh(()=>C()),t({wrapRef:i,update:C,scrollTo:y,setScrollTop:b,setScrollLeft:w,handleScroll:_}),(S,O)=>(se(),pe("div",{ref_key:"scrollbarRef",ref:c,class:Se(B(s).b())},[te("div",{ref_key:"wrapRef",ref:i,class:Se(B(d)),style:Ye(B(g)),onScroll:_},[(se(),ke(or(S.tag),{ref_key:"resizeRef",ref:h,class:Se(B(v)),style:Ye(S.viewStyle)},{default:ve(()=>[Ee(S.$slots,"default")]),_:3},8,["class","style"]))],38),S.native?Ie("v-if",!0):(se(),ke(tx,{key:0,ref_key:"barRef",ref:l,height:o.value,width:f.value,always:S.always,"ratio-x":u.value,"ratio-y":a.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var ax=He(ox,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const lx=kn(ax),Gl=Symbol("popper"),cp=Symbol("popperContent"),cx=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],up=Ve({role:{type:String,values:cx,default:"tooltip"}}),ux=Te({name:"ElPopper",inheritAttrs:!1}),fx=Te({...ux,props:up,setup(e,{expose:t}){const n=e,r=fe(),s=fe(),p=fe(),m=fe(),c=oe(()=>n.role),i={triggerRef:r,popperInstanceRef:s,contentRef:p,referenceRef:m,role:c};return t(i),Je(Gl,i),(h,f)=>Ee(h.$slots,"default")}});var hx=He(fx,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const fp=Ve({arrowOffset:{type:Number,default:5}}),dx=Te({name:"ElPopperArrow",inheritAttrs:!1}),px=Te({...dx,props:fp,setup(e,{expose:t}){const n=e,r=it("popper"),{arrowOffset:s,arrowRef:p,arrowStyle:m}=xe(cp,void 0);return Ae(()=>n.arrowOffset,c=>{s.value=c}),Lt(()=>{p.value=void 0}),t({arrowRef:p}),(c,i)=>(se(),pe("span",{ref_key:"arrowRef",ref:p,class:Se(B(r).e("arrow")),style:Ye(B(m)),"data-popper-arrow":""},null,6))}});var gx=He(px,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const vx="ElOnlyChild",hp=Te({name:vx,setup(e,{slots:t,attrs:n}){var r;const s=xe(tp),p=BS((r=s==null?void 0:s.setForwardRef)!=null?r:Ct);return()=>{var m;const c=(m=t.default)==null?void 0:m.call(t,n);if(!c||c.length>1)return null;const i=dp(c);return i?lt(On(i,n),[[p]]):null}}});function dp(e){if(!e)return null;const t=e;for(const n of t){if(Be(n))switch(n.type){case Ft:continue;case Gr:case"svg":return cf(n);case Me:return dp(n.children);default:return n}return cf(n)}return null}function cf(e){const t=it("only-child");return de("span",{class:t.e("content")},[e])}const pp=Ve({virtualRef:{type:Pe(Object)},virtualTriggering:Boolean,onMouseenter:{type:Pe(Function)},onMouseleave:{type:Pe(Function)},onClick:{type:Pe(Function)},onKeydown:{type:Pe(Function)},onFocus:{type:Pe(Function)},onBlur:{type:Pe(Function)},onContextmenu:{type:Pe(Function)},id:String,open:Boolean}),mx=Te({name:"ElPopperTrigger",inheritAttrs:!1}),_x=Te({...mx,props:pp,setup(e,{expose:t}){const n=e,{role:r,triggerRef:s}=xe(Gl,void 0);LS(s);const p=oe(()=>c.value?n.id:void 0),m=oe(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),c=oe(()=>{if(r&&r.value!=="tooltip")return r.value}),i=oe(()=>c.value?`${n.open}`:void 0);let h;return nt(()=>{Ae(()=>n.virtualRef,f=>{f&&(s.value=$n(f))},{immediate:!0}),Ae(s,(f,o)=>{h==null||h(),h=void 0,Br(f)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(l=>{var a;const u=n[l];u&&(f.addEventListener(l.slice(2).toLowerCase(),u),(a=o==null?void 0:o.removeEventListener)==null||a.call(o,l.slice(2).toLowerCase(),u))}),h=Ae([p,m,c,i],l=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((a,u)=>{Ml(l[u])?f.removeAttribute(a):f.setAttribute(a,l[u])})},{immediate:!0})),Br(o)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(l=>o.removeAttribute(l))},{immediate:!0})}),Lt(()=>{h==null||h(),h=void 0}),t({triggerRef:s}),(f,o)=>f.virtualTriggering?Ie("v-if",!0):(se(),ke(B(hp),Yt({key:0},f.$attrs,{"aria-controls":B(p),"aria-describedby":B(m),"aria-expanded":B(i),"aria-haspopup":B(c)}),{default:ve(()=>[Ee(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var yx=He(_x,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const Ko="focus-trap.focus-after-trapped",qo="focus-trap.focus-after-released",bx="focus-trap.focusout-prevented",uf={cancelable:!0,bubbles:!1},wx={cancelable:!0,bubbles:!1},ff="focusAfterTrapped",hf="focusAfterReleased",gp=Symbol("elFocusTrap"),Kl=fe(),bo=fe(0),ql=fe(0);let rs=0;const vp=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},df=(e,t)=>{for(const n of e)if(!Cx(n,t))return n},Cx=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Sx=e=>{const t=vp(e),n=df(t,e),r=df(t.reverse(),e);return[n,r]},xx=e=>e instanceof HTMLInputElement&&"select"in e,Bn=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),ql.value=window.performance.now(),e!==n&&xx(e)&&t&&e.select()}};function pf(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const Tx=()=>{let e=[];return{push:r=>{const s=e[0];s&&r!==s&&s.pause(),e=pf(e,r),e.unshift(r)},remove:r=>{var s,p;e=pf(e,r),(p=(s=e[0])==null?void 0:s.resume)==null||p.call(s)}}},Ox=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(Bn(r,t),document.activeElement!==n)return},gf=Tx(),Ex=()=>bo.value>ql.value,is=()=>{Kl.value="pointer",bo.value=window.performance.now()},vf=()=>{Kl.value="keyboard",bo.value=window.performance.now()},Px=()=>(nt(()=>{rs===0&&(document.addEventListener("mousedown",is),document.addEventListener("touchstart",is),document.addEventListener("keydown",vf)),rs++}),Lt(()=>{rs--,rs<=0&&(document.removeEventListener("mousedown",is),document.removeEventListener("touchstart",is),document.removeEventListener("keydown",vf))}),{focusReason:Kl,lastUserFocusTimestamp:bo,lastAutomatedFocusTimestamp:ql}),ss=e=>new CustomEvent(bx,{...wx,detail:e}),kx=Te({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ff,hf,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=fe();let r,s;const{focusReason:p}=Px();MS(u=>{e.trapped&&!m.paused&&t("release-requested",u)});const m={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},c=u=>{if(!e.loop&&!e.trapped||m.paused)return;const{key:g,altKey:d,ctrlKey:v,metaKey:_,currentTarget:y,shiftKey:b}=u,{loop:w}=e,C=g===Le.tab&&!d&&!v&&!_,S=document.activeElement;if(C&&S){const O=y,[j,Y]=Sx(O);if(j&&Y){if(!b&&S===Y){const U=ss({focusReason:p.value});t("focusout-prevented",U),U.defaultPrevented||(u.preventDefault(),w&&Bn(j,!0))}else if(b&&[j,O].includes(S)){const U=ss({focusReason:p.value});t("focusout-prevented",U),U.defaultPrevented||(u.preventDefault(),w&&Bn(Y,!0))}}else if(S===O){const U=ss({focusReason:p.value});t("focusout-prevented",U),U.defaultPrevented||u.preventDefault()}}};Je(gp,{focusTrapRef:n,onKeydown:c}),Ae(()=>e.focusTrapEl,u=>{u&&(n.value=u)},{immediate:!0}),Ae([n],([u],[g])=>{u&&(u.addEventListener("keydown",c),u.addEventListener("focusin",f),u.addEventListener("focusout",o)),g&&(g.removeEventListener("keydown",c),g.removeEventListener("focusin",f),g.removeEventListener("focusout",o))});const i=u=>{t(ff,u)},h=u=>t(hf,u),f=u=>{const g=B(n);if(!g)return;const d=u.target,v=u.relatedTarget,_=d&&g.contains(d);e.trapped||v&&g.contains(v)||(r=v),_&&t("focusin",u),!m.paused&&e.trapped&&(_?s=d:Bn(s,!0))},o=u=>{const g=B(n);if(!(m.paused||!g))if(e.trapped){const d=u.relatedTarget;!Ml(d)&&!g.contains(d)&&setTimeout(()=>{if(!m.paused&&e.trapped){const v=ss({focusReason:p.value});t("focusout-prevented",v),v.defaultPrevented||Bn(s,!0)}},0)}else{const d=u.target;d&&g.contains(d)||t("focusout",u)}};async function l(){await Wt();const u=B(n);if(u){gf.push(m);const g=u.contains(document.activeElement)?r:document.activeElement;if(r=g,!u.contains(g)){const v=new Event(Ko,uf);u.addEventListener(Ko,i),u.dispatchEvent(v),v.defaultPrevented||Wt(()=>{let _=e.focusStartEl;ze(_)||(Bn(_),document.activeElement!==_&&(_="first")),_==="first"&&Ox(vp(u),!0),(document.activeElement===g||_==="container")&&Bn(u)})}}}function a(){const u=B(n);if(u){u.removeEventListener(Ko,i);const g=new CustomEvent(qo,{...uf,detail:{focusReason:p.value}});u.addEventListener(qo,h),u.dispatchEvent(g),!g.defaultPrevented&&(p.value=="keyboard"||!Ex()||u.contains(document.activeElement))&&Bn(r??document.body),u.removeEventListener(qo,h),gf.remove(m)}}return nt(()=>{e.trapped&&l(),Ae(()=>e.trapped,u=>{u?l():a()})}),Lt(()=>{e.trapped&&a()}),{onKeydown:c}}});function Ax(e,t,n,r,s,p){return Ee(e.$slots,"default",{handleKeydown:e.onKeydown})}var Mx=He(kx,[["render",Ax],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const Dx=["fixed","absolute"],Rx=Ve({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Pe(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ll,default:"bottom"},popperOptions:{type:Pe(Object),default:()=>({})},strategy:{type:String,values:Dx,default:"absolute"}}),mp=Ve({...Rx,id:String,style:{type:Pe([String,Array,Object])},className:{type:Pe([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Pe([String,Array,Object])},popperStyle:{type:Pe([String,Array,Object])},referenceEl:{type:Pe(Object)},triggerTargetEl:{type:Pe(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),Ix={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},Fx=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:s}=e,p={placement:n,strategy:r,...s,modifiers:[...Bx(e),...t]};return jx(p,s==null?void 0:s.modifiers),p},Lx=e=>{if(Xe)return $n(e)};function Bx(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function jx(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const Nx=0,zx=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:s}=xe(Gl,void 0),p=fe(),m=fe(),c=oe(()=>({name:"eventListeners",enabled:!!e.visible})),i=oe(()=>{var v;const _=B(p),y=(v=B(m))!=null?v:Nx;return{name:"arrow",enabled:!n1(_),options:{element:_,padding:y}}}),h=oe(()=>({onFirstUpdate:()=>{u()},...Fx(e,[B(i),B(c)])})),f=oe(()=>Lx(e.referenceEl)||B(r)),{attributes:o,state:l,styles:a,update:u,forceUpdate:g,instanceRef:d}=PS(f,n,h);return Ae(d,v=>t.value=v),nt(()=>{Ae(()=>{var v;return(v=B(f))==null?void 0:v.getBoundingClientRect()},()=>{u()})}),{attributes:o,arrowRef:p,contentRef:n,instanceRef:d,state:l,styles:a,role:s,forceUpdate:g,update:u}},$x=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:s}=Yl(),p=it("popper"),m=oe(()=>B(t).popper),c=fe(e.zIndex||s()),i=oe(()=>[p.b(),p.is("pure",e.pure),p.is(e.effect),e.popperClass]),h=oe(()=>[{zIndex:B(c)},B(n).popper,e.popperStyle||{}]),f=oe(()=>r.value==="dialog"?"false":void 0),o=oe(()=>B(n).arrow||{});return{ariaModal:f,arrowStyle:o,contentAttrs:m,contentClass:i,contentStyle:h,contentZIndex:c,updateZIndex:()=>{c.value=e.zIndex||s()}}},Hx=(e,t)=>{const n=fe(!1),r=fe();return{focusStartRef:r,trapped:n,onFocusAfterReleased:h=>{var f;((f=h.detail)==null?void 0:f.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:h=>{e.visible&&!n.value&&(h.target&&(r.value=h.target),n.value=!0)},onFocusoutPrevented:h=>{e.trapping||(h.detail.focusReason==="pointer"&&h.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},Ux=Te({name:"ElPopperContent"}),Wx=Te({...Ux,props:mp,emits:Ix,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:s,trapped:p,onFocusAfterReleased:m,onFocusAfterTrapped:c,onFocusInTrap:i,onFocusoutPrevented:h,onReleaseRequested:f}=Hx(r,n),{attributes:o,arrowRef:l,contentRef:a,styles:u,instanceRef:g,role:d,update:v}=zx(r),{ariaModal:_,arrowStyle:y,contentAttrs:b,contentClass:w,contentStyle:C,updateZIndex:S}=$x(r,{styles:u,attributes:o,role:d}),O=xe(Bs,void 0),j=fe();Je(cp,{arrowStyle:y,arrowRef:l,arrowOffset:j}),O&&(O.addInputId||O.removeInputId)&&Je(Bs,{...O,addInputId:Ct,removeInputId:Ct});let Y;const G=(ee=!0)=>{v(),ee&&S()},U=()=>{G(!1),r.visible&&r.focusOnShow?p.value=!0:r.visible===!1&&(p.value=!1)};return nt(()=>{Ae(()=>r.triggerTargetEl,(ee,ie)=>{Y==null||Y(),Y=void 0;const le=B(ee||a.value),ce=B(ie||a.value);Br(le)&&(Y=Ae([d,()=>r.ariaLabel,_,()=>r.id],X=>{["role","aria-label","aria-modal","id"].forEach((J,x)=>{Ml(X[x])?le.removeAttribute(J):le.setAttribute(J,X[x])})},{immediate:!0})),ce!==le&&Br(ce)&&["role","aria-label","aria-modal","id"].forEach(X=>{ce.removeAttribute(X)})},{immediate:!0}),Ae(()=>r.visible,U,{immediate:!0})}),Lt(()=>{Y==null||Y(),Y=void 0}),t({popperContentRef:a,popperInstanceRef:g,updatePopper:G,contentStyle:C}),(ee,ie)=>(se(),pe("div",Yt({ref_key:"contentRef",ref:a},B(b),{style:B(C),class:B(w),tabindex:"-1",onMouseenter:ie[0]||(ie[0]=le=>ee.$emit("mouseenter",le)),onMouseleave:ie[1]||(ie[1]=le=>ee.$emit("mouseleave",le))}),[de(B(Mx),{trapped:B(p),"trap-on-focus-in":!0,"focus-trap-el":B(a),"focus-start-el":B(s),onFocusAfterTrapped:B(c),onFocusAfterReleased:B(m),onFocusin:B(i),onFocusoutPrevented:B(h),onReleaseRequested:B(f)},{default:ve(()=>[Ee(ee.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var Yx=He(Wx,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const Xx=kn(hx),Jl=Symbol("elTooltip"),js=Ve({...IS,...mp,appendTo:{type:Pe([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Pe(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),Ql=Ve({...pp,disabled:Boolean,trigger:{type:Pe([String,Array]),default:"hover"},triggerKeys:{type:Pe(Array),default:()=>[Le.enter,Le.space]}}),{useModelToggleProps:Vx,useModelToggleEmits:Gx,useModelToggle:Kx}=zd("visible"),qx=Ve({...up,...Vx,...js,...Ql,...fp,showArrow:{type:Boolean,default:!0}}),Jx=[...Gx,"before-show","before-hide","show","hide","open","close"],Qx=(e,t)=>ye(e)?e.includes(t):e===t,wr=(e,t,n)=>r=>{Qx(B(e),t)&&n(r)},Zx=Te({name:"ElTooltipTrigger"}),eT=Te({...Zx,props:Ql,setup(e,{expose:t}){const n=e,r=it("tooltip"),{controlled:s,id:p,open:m,onOpen:c,onClose:i,onToggle:h}=xe(Jl,void 0),f=fe(null),o=()=>{if(B(s)||n.disabled)return!0},l=Ot(n,"trigger"),a=qe(o,wr(l,"hover",c)),u=qe(o,wr(l,"hover",i)),g=qe(o,wr(l,"click",b=>{b.button===0&&h(b)})),d=qe(o,wr(l,"focus",c)),v=qe(o,wr(l,"focus",i)),_=qe(o,wr(l,"contextmenu",b=>{b.preventDefault(),h(b)})),y=qe(o,b=>{const{code:w}=b;n.triggerKeys.includes(w)&&(b.preventDefault(),h(b))});return t({triggerRef:f}),(b,w)=>(se(),ke(B(yx),{id:B(p),"virtual-ref":b.virtualRef,open:B(m),"virtual-triggering":b.virtualTriggering,class:Se(B(r).e("trigger")),onBlur:B(v),onClick:B(g),onContextmenu:B(_),onFocus:B(d),onMouseenter:B(a),onMouseleave:B(u),onKeydown:B(y)},{default:ve(()=>[Ee(b.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var tT=He(eT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const nT=Te({name:"ElTooltipContent",inheritAttrs:!1}),rT=Te({...nT,props:js,setup(e,{expose:t}){const n=e,{selector:r}=ep(),s=it("tooltip"),p=fe(null),m=fe(!1),{controlled:c,id:i,open:h,trigger:f,onClose:o,onOpen:l,onShow:a,onHide:u,onBeforeShow:g,onBeforeHide:d}=xe(Jl,void 0),v=oe(()=>n.transition||`${s.namespace.value}-fade-in-linear`),_=oe(()=>n.persistent);Lt(()=>{m.value=!0});const y=oe(()=>B(_)?!0:B(h)),b=oe(()=>n.disabled?!1:B(h)),w=oe(()=>n.appendTo||r.value),C=oe(()=>{var X;return(X=n.style)!=null?X:{}}),S=oe(()=>!B(h)),O=()=>{u()},j=()=>{if(B(c))return!0},Y=qe(j,()=>{n.enterable&&B(f)==="hover"&&l()}),G=qe(j,()=>{B(f)==="hover"&&o()}),U=()=>{var X,J;(J=(X=p.value)==null?void 0:X.updatePopper)==null||J.call(X),g==null||g()},ee=()=>{d==null||d()},ie=()=>{a(),ce=iw(oe(()=>{var X;return(X=p.value)==null?void 0:X.popperContentRef}),()=>{if(B(c))return;B(f)!=="hover"&&o()})},le=()=>{n.virtualTriggering||o()};let ce;return Ae(()=>B(h),X=>{X||ce==null||ce()},{flush:"post"}),Ae(()=>n.content,()=>{var X,J;(J=(X=p.value)==null?void 0:X.updatePopper)==null||J.call(X)}),t({contentRef:p}),(X,J)=>(se(),ke(bl,{disabled:!X.teleported,to:B(w)},[de(gn,{name:B(v),onAfterLeave:O,onBeforeEnter:U,onAfterEnter:ie,onBeforeLeave:ee},{default:ve(()=>[B(y)?lt((se(),ke(B(Yx),Yt({key:0,id:B(i),ref_key:"contentRef",ref:p},X.$attrs,{"aria-label":X.ariaLabel,"aria-hidden":B(S),"boundaries-padding":X.boundariesPadding,"fallback-placements":X.fallbackPlacements,"gpu-acceleration":X.gpuAcceleration,offset:X.offset,placement:X.placement,"popper-options":X.popperOptions,strategy:X.strategy,effect:X.effect,enterable:X.enterable,pure:X.pure,"popper-class":X.popperClass,"popper-style":[X.popperStyle,B(C)],"reference-el":X.referenceEl,"trigger-target-el":X.triggerTargetEl,visible:B(b),"z-index":X.zIndex,onMouseenter:B(Y),onMouseleave:B(G),onBlur:le,onClose:B(o)}),{default:ve(()=>[m.value?Ie("v-if",!0):Ee(X.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[bt,B(b)]]):Ie("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var iT=He(rT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const sT=["innerHTML"],oT={key:1},aT=Te({name:"ElTooltip"}),lT=Te({...aT,props:qx,emits:Jx,setup(e,{expose:t,emit:n}){const r=e;RS();const s=Wl(),p=fe(),m=fe(),c=()=>{var v;const _=B(p);_&&((v=_.popperInstanceRef)==null||v.update())},i=fe(!1),h=fe(),{show:f,hide:o,hasUpdateHandler:l}=Kx({indicator:i,toggleReason:h}),{onOpen:a,onClose:u}=FS({showAfter:Ot(r,"showAfter"),hideAfter:Ot(r,"hideAfter"),autoClose:Ot(r,"autoClose"),open:f,close:o}),g=oe(()=>Fd(r.visible)&&!l.value);Je(Jl,{controlled:g,id:s,open:zi(i),trigger:Ot(r,"trigger"),onOpen:v=>{a(v)},onClose:v=>{u(v)},onToggle:v=>{B(i)?u(v):a(v)},onShow:()=>{n("show",h.value)},onHide:()=>{n("hide",h.value)},onBeforeShow:()=>{n("before-show",h.value)},onBeforeHide:()=>{n("before-hide",h.value)},updatePopper:c}),Ae(()=>r.disabled,v=>{v&&i.value&&(i.value=!1)});const d=v=>{var _,y;const b=(y=(_=m.value)==null?void 0:_.contentRef)==null?void 0:y.popperContentRef,w=(v==null?void 0:v.relatedTarget)||document.activeElement;return b&&b.contains(w)};return Ph(()=>i.value&&o()),t({popperRef:p,contentRef:m,isFocusInsideContent:d,updatePopper:c,onOpen:a,onClose:u,hide:o}),(v,_)=>(se(),ke(B(Xx),{ref_key:"popperRef",ref:p,role:v.role},{default:ve(()=>[de(tT,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:ve(()=>[v.$slots.default?Ee(v.$slots,"default",{key:0}):Ie("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),de(iT,{ref_key:"contentRef",ref:m,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:ve(()=>[Ee(v.$slots,"content",{},()=>[v.rawContent?(se(),pe("span",{key:0,innerHTML:v.content},null,8,sT)):(se(),pe("span",oT,ct(v.content),1))]),v.showArrow?(se(),ke(B(gx),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):Ie("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var cT=He(lT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const uT=kn(cT),fT=Ve({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),hT=["textContent"],dT=Te({name:"ElBadge"}),pT=Te({...dT,props:fT,setup(e,{expose:t}){const n=e,r=it("badge"),s=oe(()=>n.isDot?"":wt(n.value)&&wt(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`);return t({content:s}),(p,m)=>(se(),pe("div",{class:Se(B(r).b())},[Ee(p.$slots,"default"),de(gn,{name:`${B(r).namespace.value}-zoom-in-center`,persisted:""},{default:ve(()=>[lt(te("sup",{class:Se([B(r).e("content"),B(r).em("content",p.type),B(r).is("fixed",!!p.$slots.default),B(r).is("dot",p.isDot)]),textContent:ct(B(s))},null,10,hT),[[bt,!p.hidden&&(B(s)||p.isDot)]])]),_:1},8,["name"])],2))}});var gT=He(pT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const vT=kn(gT),_p=Symbol("buttonGroupContextKey"),mT=(e,t)=>{_1({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},oe(()=>e.type==="text"));const n=xe(_p,void 0),r=Xl("button"),{form:s}=VS(),p=op(oe(()=>n==null?void 0:n.size)),m=ap(),c=fe(),i=nm(),h=oe(()=>e.type||(n==null?void 0:n.type)||""),f=oe(()=>{var u,g,d;return(d=(g=e.autoInsertSpace)!=null?g:(u=r.value)==null?void 0:u.autoInsertSpace)!=null?d:!1}),o=oe(()=>e.tag==="button"?{ariaDisabled:m.value||e.loading,disabled:m.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),l=oe(()=>{var u;const g=(u=i.default)==null?void 0:u.call(i);if(f.value&&(g==null?void 0:g.length)===1){const d=g[0];if((d==null?void 0:d.type)===Gr){const v=d.children;return/^\p{Unified_Ideograph}{2}$/u.test(v.trim())}}return!1});return{_disabled:m,_size:p,_type:h,_ref:c,_props:o,shouldAddSpace:l,handleClick:u=>{e.nativeType==="reset"&&(s==null||s.resetFields()),t("click",u)}}},_T=["default","primary","success","warning","info","danger","text",""],yT=["button","submit","reset"],La=Ve({size:jS,disabled:Boolean,type:{type:String,values:_T,default:""},icon:{type:Is},nativeType:{type:String,values:yT,default:"button"},loading:Boolean,loadingIcon:{type:Is,default:()=>Ky},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Pe([String,Object]),default:"button"}}),bT={click:e=>e instanceof MouseEvent};function ft(e,t){wT(e)&&(e="100%");var n=CT(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function os(e){return Math.min(1,Math.max(0,e))}function wT(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function CT(e){return typeof e=="string"&&e.indexOf("%")!==-1}function yp(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function as(e){return e<=1?"".concat(Number(e)*100,"%"):e}function ir(e){return e.length===1?"0"+e:String(e)}function ST(e,t,n){return{r:ft(e,255)*255,g:ft(t,255)*255,b:ft(n,255)*255}}function mf(e,t,n){e=ft(e,255),t=ft(t,255),n=ft(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),p=0,m=0,c=(r+s)/2;if(r===s)m=0,p=0;else{var i=r-s;switch(m=c>.5?i/(2-r-s):i/(r+s),r){case e:p=(t-n)/i+(t<n?6:0);break;case t:p=(n-e)/i+2;break;case n:p=(e-t)/i+4;break}p/=6}return{h:p,s:m,l:c}}function Jo(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xT(e,t,n){var r,s,p;if(e=ft(e,360),t=ft(t,100),n=ft(n,100),t===0)s=n,p=n,r=n;else{var m=n<.5?n*(1+t):n+t-n*t,c=2*n-m;r=Jo(c,m,e+1/3),s=Jo(c,m,e),p=Jo(c,m,e-1/3)}return{r:r*255,g:s*255,b:p*255}}function _f(e,t,n){e=ft(e,255),t=ft(t,255),n=ft(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),p=0,m=r,c=r-s,i=r===0?0:c/r;if(r===s)p=0;else{switch(r){case e:p=(t-n)/c+(t<n?6:0);break;case t:p=(n-e)/c+2;break;case n:p=(e-t)/c+4;break}p/=6}return{h:p,s:i,v:m}}function TT(e,t,n){e=ft(e,360)*6,t=ft(t,100),n=ft(n,100);var r=Math.floor(e),s=e-r,p=n*(1-t),m=n*(1-s*t),c=n*(1-(1-s)*t),i=r%6,h=[n,m,p,p,c,n][i],f=[c,n,n,m,p,p][i],o=[p,p,c,n,n,m][i];return{r:h*255,g:f*255,b:o*255}}function yf(e,t,n,r){var s=[ir(Math.round(e).toString(16)),ir(Math.round(t).toString(16)),ir(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function OT(e,t,n,r,s){var p=[ir(Math.round(e).toString(16)),ir(Math.round(t).toString(16)),ir(Math.round(n).toString(16)),ir(ET(r))];return s&&p[0].startsWith(p[0].charAt(1))&&p[1].startsWith(p[1].charAt(1))&&p[2].startsWith(p[2].charAt(1))&&p[3].startsWith(p[3].charAt(1))?p[0].charAt(0)+p[1].charAt(0)+p[2].charAt(0)+p[3].charAt(0):p.join("")}function ET(e){return Math.round(parseFloat(e)*255).toString(16)}function bf(e){return Dt(e)/255}function Dt(e){return parseInt(e,16)}function PT(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Ba={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function kT(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,p=null,m=!1,c=!1;return typeof e=="string"&&(e=DT(e)),typeof e=="object"&&(wn(e.r)&&wn(e.g)&&wn(e.b)?(t=ST(e.r,e.g,e.b),m=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):wn(e.h)&&wn(e.s)&&wn(e.v)?(r=as(e.s),s=as(e.v),t=TT(e.h,r,s),m=!0,c="hsv"):wn(e.h)&&wn(e.s)&&wn(e.l)&&(r=as(e.s),p=as(e.l),t=xT(e.h,r,p),m=!0,c="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=yp(n),{ok:m,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var AT="[-\\+]?\\d+%?",MT="[-\\+]?\\d*\\.\\d+%?",Hn="(?:".concat(MT,")|(?:").concat(AT,")"),Qo="[\\s|\\(]+(".concat(Hn,")[,|\\s]+(").concat(Hn,")[,|\\s]+(").concat(Hn,")\\s*\\)?"),Zo="[\\s|\\(]+(".concat(Hn,")[,|\\s]+(").concat(Hn,")[,|\\s]+(").concat(Hn,")[,|\\s]+(").concat(Hn,")\\s*\\)?"),Kt={CSS_UNIT:new RegExp(Hn),rgb:new RegExp("rgb"+Qo),rgba:new RegExp("rgba"+Zo),hsl:new RegExp("hsl"+Qo),hsla:new RegExp("hsla"+Zo),hsv:new RegExp("hsv"+Qo),hsva:new RegExp("hsva"+Zo),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function DT(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(Ba[e])e=Ba[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Kt.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Kt.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Kt.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Kt.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Kt.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Kt.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Kt.hex8.exec(e),n?{r:Dt(n[1]),g:Dt(n[2]),b:Dt(n[3]),a:bf(n[4]),format:t?"name":"hex8"}:(n=Kt.hex6.exec(e),n?{r:Dt(n[1]),g:Dt(n[2]),b:Dt(n[3]),format:t?"name":"hex"}:(n=Kt.hex4.exec(e),n?{r:Dt(n[1]+n[1]),g:Dt(n[2]+n[2]),b:Dt(n[3]+n[3]),a:bf(n[4]+n[4]),format:t?"name":"hex8"}:(n=Kt.hex3.exec(e),n?{r:Dt(n[1]+n[1]),g:Dt(n[2]+n[2]),b:Dt(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function wn(e){return!!Kt.CSS_UNIT.exec(String(e))}var RT=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=PT(t)),this.originalInput=t;var s=kT(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,s,p=t.r/255,m=t.g/255,c=t.b/255;return p<=.03928?n=p/12.92:n=Math.pow((p+.055)/1.055,2.4),m<=.03928?r=m/12.92:r=Math.pow((m+.055)/1.055,2.4),c<=.03928?s=c/12.92:s=Math.pow((c+.055)/1.055,2.4),.2126*n+.7152*r+.0722*s},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=yp(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=_f(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=_f(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=mf(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=mf(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),yf(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),OT(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(ft(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(ft(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+yf(this.r,this.g,this.b,!1),n=0,r=Object.entries(Ba);n<r.length;n++){var s=r[n],p=s[0],m=s[1];if(t===m)return p}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,s=this.a<1&&this.a>=0,p=!n&&s&&(t.startsWith("hex")||t==="name");return p?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=os(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=os(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=os(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=os(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),s=new e(t).toRgb(),p=n/100,m={r:(s.r-r.r)*p+r.r,g:(s.g-r.g)*p+r.g,b:(s.b-r.b)*p+r.b,a:(s.a-r.a)*p+r.a};return new e(m)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),s=360/n,p=[this];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,p.push(new e(r));return p},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,s=n.s,p=n.v,m=[],c=1/t;t--;)m.push(new e({h:r,s,v:p})),p=(p+c)%1;return m},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),s=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,s=[this],p=360/t,m=1;m<t;m++)s.push(new e({h:(r+m*p)%360,s:n.s,l:n.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Fn(e,t=20){return e.mix("#141414",t).toString()}function IT(e){const t=ap(),n=it("button");return oe(()=>{let r={};const s=e.color;if(s){const p=new RT(s),m=e.dark?p.tint(20).toString():Fn(p,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?Fn(p,90):p.tint(90).toString(),"text-color":s,"border-color":e.dark?Fn(p,50):p.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":m,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":m}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?Fn(p,90):p.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?Fn(p,50):p.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?Fn(p,80):p.tint(80).toString());else{const c=e.dark?Fn(p,30):p.tint(30).toString(),i=p.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":s,"text-color":i,"border-color":s,"hover-bg-color":c,"hover-text-color":i,"hover-border-color":c,"active-bg-color":m,"active-border-color":m}),t.value){const h=e.dark?Fn(p,50):p.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=h,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=h}}}return r})}const FT=Te({name:"ElButton"}),LT=Te({...FT,props:La,emits:bT,setup(e,{expose:t,emit:n}){const r=e,s=IT(r),p=it("button"),{_ref:m,_size:c,_type:i,_disabled:h,_props:f,shouldAddSpace:o,handleClick:l}=mT(r,n);return t({ref:m,size:c,type:i,disabled:h,shouldAddSpace:o}),(a,u)=>(se(),ke(or(a.tag),Yt({ref_key:"_ref",ref:m},B(f),{class:[B(p).b(),B(p).m(B(i)),B(p).m(B(c)),B(p).is("disabled",B(h)),B(p).is("loading",a.loading),B(p).is("plain",a.plain),B(p).is("round",a.round),B(p).is("circle",a.circle),B(p).is("text",a.text),B(p).is("link",a.link),B(p).is("has-bg",a.bg)],style:B(s),onClick:B(l)}),{default:ve(()=>[a.loading?(se(),pe(Me,{key:0},[a.$slots.loading?Ee(a.$slots,"loading",{key:0}):(se(),ke(B(yt),{key:1,class:Se(B(p).is("loading"))},{default:ve(()=>[(se(),ke(or(a.loadingIcon)))]),_:1},8,["class"]))],64)):a.icon||a.$slots.icon?(se(),ke(B(yt),{key:1},{default:ve(()=>[a.icon?(se(),ke(or(a.icon),{key:0})):Ee(a.$slots,"icon",{key:1})]),_:3})):Ie("v-if",!0),a.$slots.default?(se(),pe("span",{key:2,class:Se({[B(p).em("text","expand")]:B(o)})},[Ee(a.$slots,"default")],2)):Ie("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var BT=He(LT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const jT={size:La.size,type:La.type},NT=Te({name:"ElButtonGroup"}),zT=Te({...NT,props:jT,setup(e){const t=e;Je(_p,hr({size:Ot(t,"size"),type:Ot(t,"type")}));const n=it("button");return(r,s)=>(se(),pe("div",{class:Se(`${B(n).b("group")}`)},[Ee(r.$slots,"default")],2))}});var bp=He(zT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const wp=kn(BT,{ButtonGroup:bp});Dl(bp);function $T(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}const HT=Te({inheritAttrs:!1});function UT(e,t,n,r,s,p){return Ee(e.$slots,"default")}var WT=He(HT,[["render",UT],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const YT=Te({name:"ElCollectionItem",inheritAttrs:!1});function XT(e,t,n,r,s,p){return Ee(e.$slots,"default")}var VT=He(YT,[["render",XT],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Cp="data-el-collection-item",Sp=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),s=Symbol(n),p={...WT,name:t,setup(){const c=fe(null),i=new Map;Je(r,{itemMap:i,getItems:()=>{const f=B(c);if(!f)return[];const o=Array.from(f.querySelectorAll(`[${Cp}]`));return[...i.values()].sort((a,u)=>o.indexOf(a.ref)-o.indexOf(u.ref))},collectionRef:c})}},m={...VT,name:n,setup(c,{attrs:i}){const h=fe(null),f=xe(r,void 0);Je(s,{collectionItemRef:h}),nt(()=>{const o=B(h);o&&f.itemMap.set(o,{ref:o,...i})}),Lt(()=>{const o=B(h);f.itemMap.delete(o)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:p,ElCollectionItem:m}},GT=Ve({style:{type:Pe([String,Array,Object])},currentTabId:{type:Pe(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Pe(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:KT,ElCollectionItem:qT,COLLECTION_INJECTION_KEY:Zl,COLLECTION_ITEM_INJECTION_KEY:JT}=Sp("RovingFocusGroup"),ec=Symbol("elRovingFocusGroup"),xp=Symbol("elRovingFocusGroupItem"),QT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},ZT=(e,t)=>{if(t!=="rtl")return e;switch(e){case Le.right:return Le.left;case Le.left:return Le.right;default:return e}},e2=(e,t,n)=>{const r=ZT(e.key,n);if(!(t==="vertical"&&[Le.left,Le.right].includes(r))&&!(t==="horizontal"&&[Le.up,Le.down].includes(r)))return QT[r]},t2=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),tc=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},wf="currentTabIdChange",Cf="rovingFocusGroup.entryFocus",n2={bubbles:!1,cancelable:!0},r2=Te({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:GT,emits:[wf,"entryFocus"],setup(e,{emit:t}){var n;const r=fe((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),s=fe(!1),p=fe(!1),m=fe(null),{getItems:c}=xe(Zl,void 0),i=oe(()=>[{outline:"none"},e.style]),h=g=>{t(wf,g)},f=()=>{s.value=!0},o=qe(g=>{var d;(d=e.onMousedown)==null||d.call(e,g)},()=>{p.value=!0}),l=qe(g=>{var d;(d=e.onFocus)==null||d.call(e,g)},g=>{const d=!B(p),{target:v,currentTarget:_}=g;if(v===_&&d&&!B(s)){const y=new Event(Cf,n2);if(_==null||_.dispatchEvent(y),!y.defaultPrevented){const b=c().filter(j=>j.focusable),w=b.find(j=>j.active),C=b.find(j=>j.id===B(r)),O=[w,C,...b].filter(Boolean).map(j=>j.ref);tc(O)}}p.value=!1}),a=qe(g=>{var d;(d=e.onBlur)==null||d.call(e,g)},()=>{s.value=!1}),u=(...g)=>{t("entryFocus",...g)};Je(ec,{currentTabbedId:zi(r),loop:Ot(e,"loop"),tabIndex:oe(()=>B(s)?-1:0),rovingFocusGroupRef:m,rovingFocusGroupRootStyle:i,orientation:Ot(e,"orientation"),dir:Ot(e,"dir"),onItemFocus:h,onItemShiftTab:f,onBlur:a,onFocus:l,onMousedown:o}),Ae(()=>e.currentTabId,g=>{r.value=g??null}),Et(m,Cf,u)}});function i2(e,t,n,r,s,p){return Ee(e.$slots,"default")}var s2=He(r2,[["render",i2],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const o2=Te({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:KT,ElRovingFocusGroupImpl:s2}});function a2(e,t,n,r,s,p){const m=je("el-roving-focus-group-impl"),c=je("el-focus-group-collection");return se(),ke(c,null,{default:ve(()=>[de(m,Wg(Vh(e.$attrs)),{default:ve(()=>[Ee(e.$slots,"default")]),_:3},16)]),_:3})}var l2=He(o2,[["render",a2],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const c2=Te({components:{ElRovingFocusCollectionItem:qT},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:s,onItemShiftTab:p}=xe(ec,void 0),{getItems:m}=xe(Zl,void 0),c=Wl(),i=fe(null),h=qe(a=>{t("mousedown",a)},a=>{e.focusable?s(B(c)):a.preventDefault()}),f=qe(a=>{t("focus",a)},()=>{s(B(c))}),o=qe(a=>{t("keydown",a)},a=>{const{key:u,shiftKey:g,target:d,currentTarget:v}=a;if(u===Le.tab&&g){p();return}if(d!==v)return;const _=e2(a);if(_){a.preventDefault();let b=m().filter(w=>w.focusable).map(w=>w.ref);switch(_){case"last":{b.reverse();break}case"prev":case"next":{_==="prev"&&b.reverse();const w=b.indexOf(v);b=r.value?t2(b,w+1):b.slice(w+1);break}}Wt(()=>{tc(b)})}}),l=oe(()=>n.value===B(c));return Je(xp,{rovingFocusGroupItemRef:i,tabIndex:oe(()=>B(l)?0:-1),handleMousedown:h,handleFocus:f,handleKeydown:o}),{id:c,handleKeydown:o,handleFocus:f,handleMousedown:h}}});function u2(e,t,n,r,s,p){const m=je("el-roving-focus-collection-item");return se(),ke(m,{id:e.id,focusable:e.focusable,active:e.active},{default:ve(()=>[Ee(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var f2=He(c2,[["render",u2],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const h2=Ve({trigger:Ql.trigger,effect:{...js.effect,default:"light"},type:{type:Pe(String)},placement:{type:Pe(String),default:"bottom"},popperOptions:{type:Pe(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Pe([Number,String]),default:0},maxHeight:{type:Pe([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:Pe(Object)},teleported:js.teleported}),Tp=Ve({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Is}}),d2=Ve({onKeydown:{type:Pe(Function)}}),p2=[Le.down,Le.pageDown,Le.home],Op=[Le.up,Le.pageUp,Le.end],g2=[...p2,...Op],{ElCollection:v2,ElCollectionItem:m2,COLLECTION_INJECTION_KEY:_2,COLLECTION_ITEM_INJECTION_KEY:y2}=Sp("Dropdown"),wo=Symbol("elDropdown"),{ButtonGroup:b2}=wp,w2=Te({name:"ElDropdown",components:{ElButton:wp,ElButtonGroup:b2,ElScrollbar:lx,ElDropdownCollection:v2,ElTooltip:uT,ElRovingFocusGroup:l2,ElOnlyChild:hp,ElIcon:yt,ArrowDown:Sd},props:h2,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=Bt(),r=it("dropdown"),{t:s}=_o(),p=fe(),m=fe(),c=fe(null),i=fe(null),h=fe(null),f=fe(null),o=fe(!1),l=[Le.enter,Le.space,Le.down],a=oe(()=>({maxHeight:Rs(e.maxHeight)})),u=oe(()=>[r.m(w.value)]),g=oe(()=>qC(e.trigger)),d=Wl().value,v=oe(()=>e.id||d);Ae([p,g],([X,J],[x])=>{var D,R,I;(D=x==null?void 0:x.$el)!=null&&D.removeEventListener&&x.$el.removeEventListener("pointerenter",S),(R=X==null?void 0:X.$el)!=null&&R.removeEventListener&&X.$el.removeEventListener("pointerenter",S),(I=X==null?void 0:X.$el)!=null&&I.addEventListener&&J.includes("hover")&&X.$el.addEventListener("pointerenter",S)},{immediate:!0}),Lt(()=>{var X,J;(J=(X=p.value)==null?void 0:X.$el)!=null&&J.removeEventListener&&p.value.$el.removeEventListener("pointerenter",S)});function _(){y()}function y(){var X;(X=c.value)==null||X.onClose()}function b(){var X;(X=c.value)==null||X.onOpen()}const w=op();function C(...X){t("command",...X)}function S(){var X,J;(J=(X=p.value)==null?void 0:X.$el)==null||J.focus()}function O(){}function j(){const X=B(i);g.value.includes("hover")&&(X==null||X.focus()),f.value=null}function Y(X){f.value=X}function G(X){o.value||(X.preventDefault(),X.stopImmediatePropagation())}function U(){t("visible-change",!0)}function ee(X){(X==null?void 0:X.type)==="keydown"&&i.value.focus()}function ie(){t("visible-change",!1)}return Je(wo,{contentRef:i,role:oe(()=>e.role),triggerId:v,isUsingKeyboard:o,onItemEnter:O,onItemLeave:j}),Je("elDropdown",{instance:n,dropdownSize:w,handleClick:_,commandHandler:C,trigger:Ot(e,"trigger"),hideOnClick:Ot(e,"hideOnClick")}),{t:s,ns:r,scrollbar:h,wrapStyle:a,dropdownTriggerKls:u,dropdownSize:w,triggerId:v,triggerKeys:l,currentTabId:f,handleCurrentTabIdChange:Y,handlerMainButtonClick:X=>{t("click",X)},handleEntryFocus:G,handleClose:y,handleOpen:b,handleBeforeShowTooltip:U,handleShowTooltip:ee,handleBeforeHideTooltip:ie,onFocusAfterTrapped:X=>{var J,x;X.preventDefault(),(x=(J=i.value)==null?void 0:J.focus)==null||x.call(J,{preventScroll:!0})},popperRef:c,contentRef:i,triggeringElementRef:p,referenceElementRef:m}}});function C2(e,t,n,r,s,p){var m;const c=je("el-dropdown-collection"),i=je("el-roving-focus-group"),h=je("el-scrollbar"),f=je("el-only-child"),o=je("el-tooltip"),l=je("el-button"),a=je("arrow-down"),u=je("el-icon"),g=je("el-button-group");return se(),pe("div",{class:Se([e.ns.b(),e.ns.is("disabled",e.disabled)])},[de(o,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(m=e.referenceElementRef)==null?void 0:m.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},em({content:ve(()=>[de(h,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:ve(()=>[de(i,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:ve(()=>[de(c,null,{default:ve(()=>[Ee(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:ve(()=>[de(f,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:ve(()=>[Ee(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(se(),ke(g,{key:0},{default:ve(()=>[de(l,Yt({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:ve(()=>[Ee(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),de(l,Yt({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:ve(()=>[de(u,{class:Se(e.ns.e("icon"))},{default:ve(()=>[de(a)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Ie("v-if",!0)],2)}var S2=He(w2,[["render",C2],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const x2=Te({name:"DropdownItemImpl",components:{ElIcon:yt},props:Tp,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=it("dropdown"),{role:r}=xe(wo,void 0),{collectionItemRef:s}=xe(y2,void 0),{collectionItemRef:p}=xe(JT,void 0),{rovingFocusGroupItemRef:m,tabIndex:c,handleFocus:i,handleKeydown:h,handleMousedown:f}=xe(xp,void 0),o=Bd(s,p,m),l=oe(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),a=qe(u=>{const{code:g}=u;if(g===Le.enter||g===Le.space)return u.preventDefault(),u.stopImmediatePropagation(),t("clickimpl",u),!0},h);return{ns:n,itemRef:o,dataset:{[Cp]:""},role:l,tabIndex:c,handleFocus:i,handleKeydown:a,handleMousedown:f}}}),T2=["aria-disabled","tabindex","role"];function O2(e,t,n,r,s,p){const m=je("el-icon");return se(),pe(Me,null,[e.divided?(se(),pe("li",Yt({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):Ie("v-if",!0),te("li",Yt({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=c=>e.$emit("clickimpl",c)),onFocus:t[1]||(t[1]=(...c)=>e.handleFocus&&e.handleFocus(...c)),onKeydown:t[2]||(t[2]=cr((...c)=>e.handleKeydown&&e.handleKeydown(...c),["self"])),onMousedown:t[3]||(t[3]=(...c)=>e.handleMousedown&&e.handleMousedown(...c)),onPointermove:t[4]||(t[4]=c=>e.$emit("pointermove",c)),onPointerleave:t[5]||(t[5]=c=>e.$emit("pointerleave",c))}),[e.icon?(se(),ke(m,{key:0},{default:ve(()=>[(se(),ke(or(e.icon)))]),_:1})):Ie("v-if",!0),Ee(e.$slots,"default")],16,T2)],64)}var E2=He(x2,[["render",O2],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const Ep=()=>{const e=xe("elDropdown",{}),t=oe(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},P2=Te({name:"ElDropdownItem",components:{ElDropdownCollectionItem:m2,ElRovingFocusItem:f2,ElDropdownItemImpl:E2},inheritAttrs:!1,props:Tp,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=Ep(),s=Bt(),p=fe(null),m=oe(()=>{var a,u;return(u=(a=B(p))==null?void 0:a.textContent)!=null?u:""}),{onItemEnter:c,onItemLeave:i}=xe(wo,void 0),h=qe(a=>(t("pointermove",a),a.defaultPrevented),Au(a=>{if(e.disabled){i(a);return}const u=a.currentTarget;u===document.activeElement||u.contains(document.activeElement)||(c(a),a.defaultPrevented||u==null||u.focus())})),f=qe(a=>(t("pointerleave",a),a.defaultPrevented),Au(a=>{i(a)})),o=qe(a=>{if(!e.disabled)return t("click",a),a.type!=="keydown"&&a.defaultPrevented},a=>{var u,g,d;if(e.disabled){a.stopImmediatePropagation();return}(u=r==null?void 0:r.hideOnClick)!=null&&u.value&&((g=r.handleClick)==null||g.call(r)),(d=r.commandHandler)==null||d.call(r,e.command,s,a)}),l=oe(()=>({...e,...n}));return{handleClick:o,handlePointerMove:h,handlePointerLeave:f,textContent:m,propsAndAttrs:l}}});function k2(e,t,n,r,s,p){var m;const c=je("el-dropdown-item-impl"),i=je("el-roving-focus-item"),h=je("el-dropdown-collection-item");return se(),ke(h,{disabled:e.disabled,"text-value":(m=e.textValue)!=null?m:e.textContent},{default:ve(()=>[de(i,{focusable:!e.disabled},{default:ve(()=>[de(c,Yt(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:ve(()=>[Ee(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Pp=He(P2,[["render",k2],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const A2=Te({name:"ElDropdownMenu",props:d2,setup(e){const t=it("dropdown"),{_elDropdownSize:n}=Ep(),r=n.value,{focusTrapRef:s,onKeydown:p}=xe(gp,void 0),{contentRef:m,role:c,triggerId:i}=xe(wo,void 0),{collectionRef:h,getItems:f}=xe(_2,void 0),{rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,tabIndex:a,onBlur:u,onFocus:g,onMousedown:d}=xe(ec,void 0),{collectionRef:v}=xe(Zl,void 0),_=oe(()=>[t.b("menu"),t.bm("menu",r==null?void 0:r.value)]),y=Bd(m,h,s,o,v),b=qe(C=>{var S;(S=e.onKeydown)==null||S.call(e,C)},C=>{const{currentTarget:S,code:O,target:j}=C;if(S.contains(j),Le.tab===O&&C.stopImmediatePropagation(),C.preventDefault(),j!==B(m)||!g2.includes(O))return;const G=f().filter(U=>!U.disabled).map(U=>U.ref);Op.includes(O)&&G.reverse(),tc(G)});return{size:r,rovingFocusGroupRootStyle:l,tabIndex:a,dropdownKls:_,role:c,triggerId:i,dropdownListWrapperRef:y,handleKeydown:C=>{b(C),p(C)},onBlur:u,onFocus:g,onMousedown:d}}}),M2=["role","aria-labelledby"];function D2(e,t,n,r,s,p){return se(),pe("ul",{ref:e.dropdownListWrapperRef,class:Se(e.dropdownKls),style:Ye(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...m)=>e.onBlur&&e.onBlur(...m)),onFocus:t[1]||(t[1]=(...m)=>e.onFocus&&e.onFocus(...m)),onKeydown:t[2]||(t[2]=cr((...m)=>e.handleKeydown&&e.handleKeydown(...m),["self"])),onMousedown:t[3]||(t[3]=cr((...m)=>e.onMousedown&&e.onMousedown(...m),["self"]))},[Ee(e.$slots,"default")],46,M2)}var kp=He(A2,[["render",D2],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const R2=kn(S2,{DropdownItem:Pp,DropdownMenu:kp}),I2=Dl(Pp),F2=Dl(kp),L2=Ve({urlList:{type:Pe(Array),default:()=>Rl([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),B2={close:()=>!0,switch:e=>wt(e),rotate:e=>wt(e)},j2=["src"],N2=Te({name:"ElImageViewer"}),z2=Te({...N2,props:L2,emits:B2,setup(e,{expose:t,emit:n}){const r=e,s={CONTAIN:{name:"contain",icon:Ts(jy)},ORIGINAL:{name:"original",icon:Ts(db)}},{t:p}=_o(),m=it("image-viewer"),{nextZIndex:c}=Yl(),i=fe(),h=fe([]),f=th(),o=fe(!0),l=fe(r.initialIndex),a=Oi(s.CONTAIN),u=fe({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=oe(()=>{const{urlList:x}=r;return x.length<=1}),d=oe(()=>l.value===0),v=oe(()=>l.value===r.urlList.length-1),_=oe(()=>r.urlList[l.value]),y=oe(()=>[m.e("btn"),m.e("prev"),m.is("disabled",!r.infinite&&d.value)]),b=oe(()=>[m.e("btn"),m.e("next"),m.is("disabled",!r.infinite&&v.value)]),w=oe(()=>{const{scale:x,deg:D,offsetX:R,offsetY:I,enableTransition:Q}=u.value;let M=R/x,E=I/x;switch(D%360){case 90:case-270:[M,E]=[E,-M];break;case 180:case-180:[M,E]=[-M,-E];break;case 270:case-90:[M,E]=[-E,M];break}const H={transform:`scale(${x}) rotate(${D}deg) translate(${M}px, ${E}px)`,transition:Q?"transform .3s":""};return a.value.name===s.CONTAIN.name&&(H.maxWidth=H.maxHeight="100%"),H}),C=oe(()=>wt(r.zIndex)?r.zIndex:c());function S(){j(),n("close")}function O(){const x=vs(R=>{switch(R.code){case Le.esc:r.closeOnPressEscape&&S();break;case Le.space:ie();break;case Le.left:ce();break;case Le.up:J("zoomIn");break;case Le.right:X();break;case Le.down:J("zoomOut");break}}),D=vs(R=>{const I=R.deltaY||R.deltaX;J(I<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});f.run(()=>{Et(document,"keydown",x),Et(document,"wheel",D)})}function j(){f.stop()}function Y(){o.value=!1}function G(x){o.value=!1,x.target.alt=p("el.image.error")}function U(x){if(o.value||x.button!==0||!i.value)return;u.value.enableTransition=!1;const{offsetX:D,offsetY:R}=u.value,I=x.pageX,Q=x.pageY,M=vs(H=>{u.value={...u.value,offsetX:D+H.pageX-I,offsetY:R+H.pageY-Q}}),E=Et(document,"mousemove",M);Et(document,"mouseup",()=>{E()}),x.preventDefault()}function ee(){u.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ie(){if(o.value)return;const x=Ia(s),D=Object.values(s),R=a.value.name,Q=(D.findIndex(M=>M.name===R)+1)%x.length;a.value=s[x[Q]],ee()}function le(x){const D=r.urlList.length;l.value=(x+D)%D}function ce(){d.value&&!r.infinite||le(l.value-1)}function X(){v.value&&!r.infinite||le(l.value+1)}function J(x,D={}){if(o.value)return;const{zoomRate:R,rotateDeg:I,enableTransition:Q}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...D};switch(x){case"zoomOut":u.value.scale>.2&&(u.value.scale=Number.parseFloat((u.value.scale/R).toFixed(3)));break;case"zoomIn":u.value.scale<7&&(u.value.scale=Number.parseFloat((u.value.scale*R).toFixed(3)));break;case"clockwise":u.value.deg+=I,n("rotate",u.value.deg);break;case"anticlockwise":u.value.deg-=I,n("rotate",u.value.deg);break}u.value.enableTransition=Q}return Ae(_,()=>{Wt(()=>{const x=h.value[0];x!=null&&x.complete||(o.value=!0)})}),Ae(l,x=>{ee(),n("switch",x)}),nt(()=>{var x,D;O(),(D=(x=i.value)==null?void 0:x.focus)==null||D.call(x)}),t({setActiveItem:le}),(x,D)=>(se(),ke(bl,{to:"body",disabled:!x.teleported},[de(gn,{name:"viewer-fade",appear:""},{default:ve(()=>[te("div",{ref_key:"wrapper",ref:i,tabindex:-1,class:Se(B(m).e("wrapper")),style:Ye({zIndex:B(C)})},[te("div",{class:Se(B(m).e("mask")),onClick:D[0]||(D[0]=cr(R=>x.hideOnClickModal&&S(),["self"]))},null,2),Ie(" CLOSE "),te("span",{class:Se([B(m).e("btn"),B(m).e("close")]),onClick:S},[de(B(yt),null,{default:ve(()=>[de(B(Od))]),_:1})],2),Ie(" ARROW "),B(g)?Ie("v-if",!0):(se(),pe(Me,{key:0},[te("span",{class:Se(B(y)),onClick:ce},[de(B(yt),null,{default:ve(()=>[de(B(xd))]),_:1})],2),te("span",{class:Se(B(b)),onClick:X},[de(B(yt),null,{default:ve(()=>[de(B(vy))]),_:1})],2)],64)),Ie(" ACTIONS "),te("div",{class:Se([B(m).e("btn"),B(m).e("actions")])},[te("div",{class:Se(B(m).e("actions__inner"))},[de(B(yt),{onClick:D[1]||(D[1]=R=>J("zoomOut"))},{default:ve(()=>[de(B(zb))]),_:1}),de(B(yt),{onClick:D[2]||(D[2]=R=>J("zoomIn"))},{default:ve(()=>[de(B(Ib))]),_:1}),te("i",{class:Se(B(m).e("actions__divider"))},null,2),de(B(yt),{onClick:ie},{default:ve(()=>[(se(),ke(or(B(a).icon)))]),_:1}),te("i",{class:Se(B(m).e("actions__divider"))},null,2),de(B(yt),{onClick:D[3]||(D[3]=R=>J("anticlockwise"))},{default:ve(()=>[de(B(tb))]),_:1}),de(B(yt),{onClick:D[4]||(D[4]=R=>J("clockwise"))},{default:ve(()=>[de(B(ab))]),_:1})],2)],2),Ie(" CANVAS "),te("div",{class:Se(B(m).e("canvas"))},[(se(!0),pe(Me,null,gt(x.urlList,(R,I)=>lt((se(),pe("img",{ref_for:!0,ref:Q=>h.value[I]=Q,key:R,src:R,style:Ye(B(w)),class:Se(B(m).e("img")),onLoad:Y,onError:G,onMousedown:U},null,46,j2)),[[bt,I===l.value]])),128))],2),Ee(x.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var $2=He(z2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const H2=kn($2),U2=Ve({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Pe([String,Object])},previewSrcList:{type:Pe(Array),default:()=>Rl([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),W2={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>wt(e),close:()=>!0,show:()=>!0},Y2=["src","loading"],X2={key:0},V2=Te({name:"ElImage",inheritAttrs:!1}),G2=Te({...V2,props:U2,emits:W2,setup(e,{emit:t}){const n=e;let r="";const{t:s}=_o(),p=it("image"),m=Fh(),c=m1(),i=fe(),h=fe(!1),f=fe(!0),o=fe(!1),l=fe(),a=fe(),u=Xe&&"loading"in HTMLImageElement.prototype;let g,d;const v=oe(()=>[p.e("inner"),b.value&&p.e("preview"),f.value&&p.is("loading")]),_=oe(()=>m.style),y=oe(()=>{const{fit:J}=n;return Xe&&J?{objectFit:J}:{}}),b=oe(()=>{const{previewSrcList:J}=n;return Array.isArray(J)&&J.length>0}),w=oe(()=>{const{previewSrcList:J,initialIndex:x}=n;let D=x;return x>J.length-1&&(D=0),D}),C=oe(()=>n.loading==="eager"?!1:!u&&n.loading==="lazy"||n.lazy),S=()=>{Xe&&(f.value=!0,h.value=!1,i.value=n.src)};function O(J){f.value=!1,h.value=!1,t("load",J)}function j(J){f.value=!1,h.value=!0,t("error",J)}function Y(){pw(l.value,a.value)&&(S(),ee())}const G=tw(Y,200,!0);async function U(){var J;if(!Xe)return;await Wt();const{scrollContainer:x}=n;Br(x)?a.value=x:ze(x)&&x!==""?a.value=(J=document.querySelector(x))!=null?J:void 0:l.value&&(a.value=u1(l.value)),a.value&&(g=Et(a,"scroll",G),setTimeout(()=>Y(),100))}function ee(){!Xe||!a.value||!G||(g==null||g(),a.value=void 0)}function ie(J){if(J.ctrlKey){if(J.deltaY<0)return J.preventDefault(),!1;if(J.deltaY>0)return J.preventDefault(),!1}}function le(){b.value&&(d=Et("wheel",ie,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",o.value=!0,t("show"))}function ce(){d==null||d(),document.body.style.overflow=r,o.value=!1,t("close")}function X(J){t("switch",J)}return Ae(()=>n.src,()=>{C.value?(f.value=!0,h.value=!1,ee(),U()):S()}),nt(()=>{C.value?U():S()}),(J,x)=>(se(),pe("div",{ref_key:"container",ref:l,class:Se([B(p).b(),J.$attrs.class]),style:Ye(B(_))},[h.value?Ee(J.$slots,"error",{key:0},()=>[te("div",{class:Se(B(p).e("error"))},ct(B(s)("el.image.error")),3)]):(se(),pe(Me,{key:1},[i.value!==void 0?(se(),pe("img",Yt({key:0},B(c),{src:i.value,loading:J.loading,style:B(y),class:B(v),onClick:le,onLoad:O,onError:j}),null,16,Y2)):Ie("v-if",!0),f.value?(se(),pe("div",{key:1,class:Se(B(p).e("wrapper"))},[Ee(J.$slots,"placeholder",{},()=>[te("div",{class:Se(B(p).e("placeholder"))},null,2)])],2)):Ie("v-if",!0)],64)),B(b)?(se(),pe(Me,{key:2},[o.value?(se(),ke(B(H2),{key:0,"z-index":J.zIndex,"initial-index":B(w),infinite:J.infinite,"zoom-rate":J.zoomRate,"url-list":J.previewSrcList,"hide-on-click-modal":J.hideOnClickModal,teleported:J.previewTeleported,"close-on-press-escape":J.closeOnPressEscape,onClose:ce,onSwitch:X},{default:ve(()=>[J.$slots.viewer?(se(),pe("div",X2,[Ee(J.$slots,"viewer")])):Ie("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):Ie("v-if",!0)],64)):Ie("v-if",!0)],6))}});var K2=He(G2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const oi=kn(K2),Ap=["success","info","warning","error"],xt=Rl({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Xe?document.body:void 0}),q2=Ve({customClass:{type:String,default:xt.customClass},center:{type:Boolean,default:xt.center},dangerouslyUseHTMLString:{type:Boolean,default:xt.dangerouslyUseHTMLString},duration:{type:Number,default:xt.duration},icon:{type:Is,default:xt.icon},id:{type:String,default:xt.id},message:{type:Pe([String,Object,Function]),default:xt.message},onClose:{type:Pe(Function),required:!1},showClose:{type:Boolean,default:xt.showClose},type:{type:String,values:Ap,default:xt.type},offset:{type:Number,default:xt.offset},zIndex:{type:Number,default:xt.zIndex},grouping:{type:Boolean,default:xt.grouping},repeatNum:{type:Number,default:xt.repeatNum}}),J2={destroy:()=>!0},Qt=fl([]),Q2=e=>{const t=Qt.findIndex(s=>s.id===e),n=Qt[t];let r;return t>0&&(r=Qt[t-1]),{current:n,prev:r}},Z2=e=>{const{prev:t}=Q2(e);return t?t.vm.exposed.bottom.value:0},eO=(e,t)=>Qt.findIndex(r=>r.id===e)>0?20:t,tO=["id"],nO=["innerHTML"],rO=Te({name:"ElMessage"}),iO=Te({...rO,props:q2,emits:J2,setup(e,{expose:t}){const n=e,{Close:r}=h1,{ns:s,zIndex:p}=zS("message"),{currentZIndex:m,nextZIndex:c}=p,i=fe(),h=fe(!1),f=fe(0);let o;const l=oe(()=>n.type?n.type==="error"?"danger":n.type:"info"),a=oe(()=>{const S=n.type;return{[s.bm("icon",S)]:S&&Yu[S]}}),u=oe(()=>n.icon||Yu[n.type]||""),g=oe(()=>Z2(n.id)),d=oe(()=>eO(n.id,n.offset)+g.value),v=oe(()=>f.value+d.value),_=oe(()=>({top:`${d.value}px`,zIndex:m.value}));function y(){n.duration!==0&&({stop:o}=rw(()=>{w()},n.duration))}function b(){o==null||o()}function w(){h.value=!1}function C({code:S}){S===Le.esc&&w()}return nt(()=>{y(),c(),h.value=!0}),Ae(()=>n.repeatNum,()=>{b(),y()}),Et(document,"keydown",C),Ad(i,()=>{f.value=i.value.getBoundingClientRect().height}),t({visible:h,bottom:v,close:w}),(S,O)=>(se(),ke(gn,{name:B(s).b("fade"),onBeforeLeave:S.onClose,onAfterLeave:O[0]||(O[0]=j=>S.$emit("destroy")),persisted:""},{default:ve(()=>[lt(te("div",{id:S.id,ref_key:"messageRef",ref:i,class:Se([B(s).b(),{[B(s).m(S.type)]:S.type&&!S.icon},B(s).is("center",S.center),B(s).is("closable",S.showClose),S.customClass]),style:Ye(B(_)),role:"alert",onMouseenter:b,onMouseleave:y},[S.repeatNum>1?(se(),ke(B(vT),{key:0,value:S.repeatNum,type:B(l),class:Se(B(s).e("badge"))},null,8,["value","type","class"])):Ie("v-if",!0),B(u)?(se(),ke(B(yt),{key:1,class:Se([B(s).e("icon"),B(a)])},{default:ve(()=>[(se(),ke(or(B(u))))]),_:1},8,["class"])):Ie("v-if",!0),Ee(S.$slots,"default",{},()=>[S.dangerouslyUseHTMLString?(se(),pe(Me,{key:1},[Ie(" Caution here, message could've been compromised, never use user's input as message "),te("p",{class:Se(B(s).e("content")),innerHTML:S.message},null,10,nO)],2112)):(se(),pe("p",{key:0,class:Se(B(s).e("content"))},ct(S.message),3))]),S.showClose?(se(),ke(B(yt),{key:2,class:Se(B(s).e("closeBtn")),onClick:cr(w,["stop"])},{default:ve(()=>[de(B(r))]),_:1},8,["class","onClick"])):Ie("v-if",!0)],46,tO),[[bt,h.value]])]),_:3},8,["name","onBeforeLeave"]))}});var sO=He(iO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let oO=1;const Mp=e=>{const t=!e||ze(e)||Mr(e)||Ce(e)?{message:e}:e,n={...xt,...t};if(!n.appendTo)n.appendTo=document.body;else if(ze(n.appendTo)){let r=document.querySelector(n.appendTo);Br(r)||(r=document.body),n.appendTo=r}return n},aO=e=>{const t=Qt.indexOf(e);if(t===-1)return;Qt.splice(t,1);const{handler:n}=e;n.close()},lO=({appendTo:e,...t},n)=>{const r=`message_${oO++}`,s=t.onClose,p=document.createElement("div"),m={...t,id:r,onClose:()=>{s==null||s(),aO(f)},onDestroy:()=>{fu(null,p)}},c=de(sO,m,Ce(m.message)||Mr(m.message)?{default:Ce(m.message)?m.message:()=>m.message}:null);c.appContext=n||Ur._context,fu(c,p),e.appendChild(p.firstElementChild);const i=c.component,f={id:r,vnode:c,vm:i,handler:{close:()=>{i.exposed.visible.value=!1}},props:c.component.props};return f},Ur=(e={},t)=>{if(!Xe)return{close:()=>{}};if(wt(af.max)&&Qt.length>=af.max)return{close:()=>{}};const n=Mp(e);if(n.grouping&&Qt.length){const s=Qt.find(({vnode:p})=>{var m;return((m=p.props)==null?void 0:m.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}const r=lO(n,t);return Qt.push(r),r.handler};Ap.forEach(e=>{Ur[e]=(t={},n)=>{const r=Mp(t);return Ur({...r,type:e},n)}});function cO(e){for(const t of Qt)(!e||e===t.props.type)&&t.handler.close()}Ur.closeAll=cO;Ur._context=null;const uO=d1(Ur,"$message");const fO=e=>(Zs("data-v-5080f873"),e=e(),eo(),e),hO={key:0,class:"resource-station__panel page-scrollbar_container"},dO={key:0,class:"add"},pO={class:"header"},gO={class:"title"},vO={class:"container"},mO={class:"list"},_O={class:"content"},yO=["src"],bO={key:0,class:"name"},wO={key:1,class:"material"},CO={class:"nav-container"},SO={class:"navlist"},xO=["onClick"],TO={class:"el-dropdown-link"},OO={class:"material-container"},EO={class:"container page-scrollbar_container"},PO={class:"panel-content"},kO={key:0,class:"panel-batch"},AO={key:1,class:"panel-batch"},MO={key:0,class:"detail-list page-scrollbar_container"},DO={key:2,class:"Image"},RO=fO(()=>te("div",{class:"image-slot"},null,-1)),IO={__name:"resource",setup(e){const{state:t}=ao(),n=fe("https://haixin-fang.github.io/vue-design-editor-static/"),r=fe(),s=oe(()=>t.activeModule),p=oe(()=>t.imageList?(t.imageList.forEach(l=>{l.url=n.value+"image/"+l.url}),t.imageList):[]),m=oe(()=>t.icons),c=Oi(Z_),i=Oi(ey.map((l,a)=>({...l,id:a})));function h(l){r.value=l}const f=([l,a])=>Array(a-(l-1)).fill("").map((g,d)=>d+l);function o(l,a,u){a.type=s.value.type,a.interval&&(a.url=`${n.value}svg/${u}.svg`),l.dataTransfer.setData("item",JSON.stringify(a))}return(l,a)=>s.value?(se(),pe("div",hO,[s.value.type=="add"?(se(),pe("div",dO,[(se(!0),pe(Me,null,gt(c.value,(u,g)=>(se(),pe("div",{class:"addList",key:g},[te("div",pO,[te("div",gO,ct(u.title),1)]),te("div",vO,[te("div",mO,[te("div",_O,[(se(!0),pe(Me,null,gt(u.list,(d,v)=>(se(),pe("div",{class:"addItem",key:v},[te("img",{src:d.icon,alt:""},null,8,yO),d.title?(se(),pe("div",bO,ct(d.title),1)):Ie("",!0)]))),128))])])])]))),128))])):Ie("",!0),s.value.type=="material"?(se(),pe("div",wO,[te("div",CO,[te("div",SO,[te("div",{class:Se(["navItem",r.value?"":"navItemActive"]),onClick:a[0]||(a[0]=u=>r.value=null)},"  ",2),(se(!0),pe(Me,null,gt(i.value.slice(0,4),u=>(se(),pe("div",{class:Se(["navItem",r.value&&r.value.title==u.title?"navItemActive":""]),key:u.id,onClick:g=>h(u)},ct(u.title),11,xO))),128)),i.value.length>4?(se(),ke(B(R2),{key:0,onCommand:h,class:"navItem","popper-class":"navItem",trigger:"click",teleported:!1},{dropdown:ve(()=>[de(B(F2),null,{default:ve(()=>[(se(!0),pe(Me,null,gt(i.value.slice(4),u=>(se(),ke(B(I2),{command:u,key:u.id},{default:ve(()=>[Ai(ct(u.title),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:ve(()=>[te("span",TO,[Ai("  "),de(B(yt),{class:"el-icon--right"},{default:ve(()=>[de(B(Sd))]),_:1})])]),_:1})):Ie("",!0)])]),te("div",OO,[te("div",EO,[(se(!0),pe(Me,null,gt(i.value,u=>(se(),pe("div",{class:"panel-block",key:u.id},[de(Yb,{title:u.title,subTitle:"",onChange:g=>h(u)},null,8,["title","onChange"]),te("div",PO,[u.interval?(se(),pe("div",kO,[(se(!0),pe(Me,null,gt(f(u.interval).slice(0,8),g=>(se(),pe("div",{class:"material-detail",key:g},[de(B(oi),{src:`${n.value}svg/${g}.svg`,lazy:"",draggable:!0,onDragstart:d=>o(d,u,g)},null,8,["src","onDragstart"])]))),128))])):(se(),pe("div",AO,[(se(!0),pe(Me,null,gt(m.value.slice(0,8),(g,d)=>(se(),pe("div",{class:"material-detail",style:{width:"60px",height:"60px"},key:d},[de(B(oi),{src:g.url,lazy:"",draggable:!0,onDragstart:v=>o(v,g)},null,8,["src","onDragstart"])]))),128))]))])]))),128))]),de(gn,{name:"anime"},{default:ve(()=>[r.value?(se(),pe("div",MO,[r.value.interval?(se(!0),pe(Me,{key:0},gt(f(r.value.interval),u=>(se(),pe("div",{class:"detail-item",key:u},[de(B(oi),{style:{width:"88px",height:"88px"},src:`${n.value}svg/${u}.svg`,draggable:!0,onDragstart:g=>o(g,u),lazy:""},null,8,["src","onDragstart"])]))),128)):(se(!0),pe(Me,{key:1},gt(m.value,(u,g)=>(se(),pe("div",{class:"detail-item",key:g},[de(B(oi),{style:{width:"88px",height:"88px"},src:u.url,draggable:!0,onDragstart:d=>o(d,u),lazy:""},null,8,["src","onDragstart"])]))),128))])):Ie("",!0)]),_:1})])])):Ie("",!0),s.value.type=="Image"?(se(),pe("div",DO,[de(Kb,{list:p.value,column:2},{default:ve(({item:u})=>[de(B(oi),{src:u.url,loading:"lazy",lazy:"",onDragstart:g=>o(g,u)},{placeholder:ve(()=>[RO]),_:2},1032,["src","onDragstart"])]),_:1},8,["list"])])):Ie("",!0)])):Ie("",!0)}},FO=ht(IO,[["__scopeId","data-v-5080f873"]]);function LO(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(r){return r.split(" ").map(function(s){return s?""+e+s:""}).join(" ")}).join(" ")}function BO(e,t){return t.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function zn(e,t){return function(n){n&&(e[t]=n)}}function jO(e,t,n){return function(r){r&&(e[t][n]=r)}}function Sf(e,t){return function(n){var r=n.prototype;e.forEach(function(s){t(r,s)})}}var NO="function",zO="object",$O="string",HO="number",Dp="undefined",UO=typeof document!==Dp&&document,WO=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],ea=1e-7,ls={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,t){return e*t/100},vw:function(e,t){return t===void 0&&(t=window.innerWidth),e/100*t},vh:function(e,t){return t===void 0&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function YO(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,c=p.length;m<c;m++,s++)r[s]=p[m];return r}function Rp(e){return typeof e===Dp}function pn(e){return e&&typeof e===zO}function Ip(e){return Array.isArray(e)}function fr(e){return typeof e===$O}function XO(e){return typeof e===HO}function Fp(e){return typeof e===NO}function VO(e,t){var n=e===""||e==" ",r=t===""||t==" ";return r&&n||e===t}function Lp(e,t,n,r,s){var p=nc(e,t,n);return p?n:GO(e,t,n+1,r,s)}function nc(e,t,n){if(!e.ignore)return null;var r=t.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(r)}function GO(e,t,n,r,s){for(var p=function(h){var f=t[h].trim();if(f===e.close&&!nc(e,t,h))return{value:h};var o=h,l=Ns(s,function(a){var u=a.open;return u===f});if(l&&(o=Lp(l,t,h,r,s)),o===-1)return m=h,"break";h=o,m=h},m,c=n;c<r;++c){var i=p(c);if(c=m,typeof i=="object")return i.value;if(i==="break")break}return-1}function rc(e,t){var n=fr(t)?{separator:t}:t,r=n.separator,s=r===void 0?",":r,p=n.isSeparateFirst,m=n.isSeparateOnlyOpenClose,c=n.isSeparateOpenClose,i=c===void 0?m:c,h=n.openCloseCharacters,f=h===void 0?WO:h,o=f.map(function(S){var O=S.open,j=S.close;return O===j?O:O+"|"+j}).join("|"),l="(\\s*"+s+"\\s*|"+o+"|\\s+)",a=new RegExp(l,"g"),u=e.split(a).filter(function(S){return S&&S!=="undefined"}),g=u.length,d=[],v=[];function _(){return v.length?(d.push(v.join("")),v=[],!0):!1}for(var y=function(S){var O=u[S].trim(),j=S,Y=Ns(f,function(ee){var ie=ee.open;return ie===O}),G=Ns(f,function(ee){var ie=ee.close;return ie===O});if(Y){if(j=Lp(Y,u,S,g,f),j!==-1&&i)return _()&&p||(d.push(u.slice(S,j+1).join("")),S=j,p)?(b=S,"break"):(b=S,"continue")}else if(G&&!nc(G,u,S)){var U=YO(f);return U.splice(f.indexOf(G),1),{value:rc(e,{separator:s,isSeparateFirst:p,isSeparateOnlyOpenClose:m,isSeparateOpenClose:i,openCloseCharacters:U})}}else if(VO(O,s)&&!m)return _(),p?(b=S,"break"):(b=S,"continue");j===-1&&(j=g-1),v.push(u.slice(S,j+1).join("")),S=j,b=S},b,w=0;w<g;++w){var C=y(w);if(w=b,typeof C=="object")return C.value;if(C==="break")break}return v.length&&d.push(v.join("")),d}function KO(e){return rc(e,"")}function ui(e){return rc(e,",")}function qO(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function Bp(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2],s=t[3];return{prefix:n,unit:s,value:parseFloat(r)}}function JO(e){return e.replace(/[\s-_]+([^\s-_])/g,function(t,n){return n.toUpperCase()})}function ta(e,t){return t===void 0&&(t="-"),e.replace(/([a-z])([A-Z])/g,function(n,r,s){return""+r+t+s.toLowerCase()})}function ja(){return Date.now?Date.now():new Date().getTime()}function Co(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=0;s<r;++s)if(t(e[s],s,e))return s;return n}function QO(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=r-1;s>=0;--s)if(t(e[s],s,e))return s;return n}function ZO(e,t,n){var r=QO(e,t);return r>-1?e[r]:n}function Ns(e,t,n){var r=Co(e,t);return r>-1?e[r]:n}function Na(e){return Object.keys(e)}function eE(e){var t=Na(e);return t.map(function(n){return e[n]})}function yi(e,t){var n=Bp(e),r=n.value,s=n.unit;if(pn(t)){var p=t[s];if(p){if(Fp(p))return p(r);if(ls[s])return ls[s](r,p)}}else if(s==="%")return r*t/100;return ls[s]?ls[s](r):r}function na(e,t){if(!t)return e;var n=1/t;return Math.round(e/t)/n}function tE(e){return e.reduce(function(t,n){return t.concat(n)},[])}function nE(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function rE(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function iE(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function ot(e,t,n,r){e.addEventListener(t,n,r)}function et(e,t,n,r){e.removeEventListener(t,n,r)}function ic(e){return(e==null?void 0:e.ownerDocument)||UO}function ra(e){var t;return((t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function sE(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function sc(e){return pn(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}var oE=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(n){return this.values[this.keys.indexOf(n)]},t.set=function(n,r){var s=this.keys,p=this.values,m=s.indexOf(n),c=m===-1?s.length:m;s[c]=n,p[c]=r},e}(),aE=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(n){return this.object[n]},t.set=function(n,r){this.object[n]=r},e}(),lE=typeof Map=="function",cE=function(){function e(){}var t=e.prototype;return t.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},t.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},t.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},e}();function uE(e,t){var n=[],r=[];return e.forEach(function(s){var p=s[0],m=s[1],c=new cE;n[p]=c,r[m]=c}),n.forEach(function(s,p){s.connect(n[p-1])}),e.filter(function(s,p){return!t[p]}).map(function(s,p){var m=s[0],c=s[1];if(m===c)return[0,0];var i=n[m],h=r[c-1],f=i.getIndex();i.disconnect(),h?i.connect(h,h.next):i.connect(void 0,n[0]);var o=i.getIndex();return[f,o]})}var fE=function(){function e(n,r,s,p,m,c,i,h){this.prevList=n,this.list=r,this.added=s,this.removed=p,this.changed=m,this.maintained=c,this.changedBeforeAdded=i,this.fixed=h}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var n=uE(this.changedBeforeAdded,this.fixed),r=this.changed,s=[];this.cacheOrdered=n.filter(function(p,m){var c=p[0],i=p[1],h=r[m],f=h[0],o=h[1];if(c!==i)return s.push([f,o]),!0}),this.cachePureChanged=s},e}();function jp(e,t,n){var r=lE?Map:n?aE:oE,s=n||function(_){return _},p=[],m=[],c=[],i=e.map(s),h=t.map(s),f=new r,o=new r,l=[],a=[],u={},g=[],d=0,v=0;return i.forEach(function(_,y){f.set(_,y)}),h.forEach(function(_,y){o.set(_,y)}),i.forEach(function(_,y){var b=o.get(_);typeof b>"u"?(++v,m.push(y)):u[b]=v}),h.forEach(function(_,y){var b=f.get(_);typeof b>"u"?(p.push(y),++d):(c.push([b,y]),v=u[y]||0,l.push([b-v,y-d]),a.push(y===b),b!==y&&g.push([b,y]))}),m.reverse(),new fE(e,t,p,m,g,c,l,a)}var za=function(e,t){return za=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},za(e,t)};function Ui(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");za(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var un=function(){return un=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},un.apply(this,arguments)};function Np(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function xf(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,p;r<s;r++)(p||!(r in t))&&(p||(p=Array.prototype.slice.call(t,0,r)),p[r]=t[r]);return e.concat(p||Array.prototype.slice.call(t))}function Tf(e){var t=0;return e.map(function(n){return n==null?"$compat".concat(++t):"".concat(n)})}function zp(e){var t=[];return e.forEach(function(n){t=t.concat(Ip(n)?zp(n):n)}),t}function ia(e,t){if(!t)return e;for(var n in t)Rp(e[n])&&(e[n]=t[n]);return e}function zs(e,t){if(e===t)return!1;for(var n in e)if(!(n in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function Of(e){var t=e.className,n=Np(e,["className"]);return t!=null&&(n.class=t),delete n.style,delete n.children,n}function Ef(e){var t={},n={};for(var r in e)r.indexOf("on")===0?n[r]=e[r]:t[r]=e[r];return[t,n]}function So(e){if(!e)return null;var t=e.b;return sc(t)?t:So(e.c)}function $p(e){var t=e.parentNode;t&&t.removeChild(e)}function Hp(e){e.forEach(function(t){t()})}function hE(){return this.constructor(this.props,this.context)}var oc=0,xo=function(){function e(n,r,s,p,m,c,i){i===void 0&&(i={}),this.t=n,this.d=r,this.k=s,this.i=p,this.c=m,this.ref=c,this.ps=i,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var t=e.prototype;return t.s=function(){return!0},t.u=function(n,r,s,p,m){var c=this,i=c.d,h=eE(r).filter(function(u){return u.$_req}),f=zp(h.map(function(u){return u.$_subs})),o=Ns(f,function(u){return u.d===i});if(c.b&&!fr(s)&&!m&&!c.s(s.props,p)&&!o){var l=f.reduce(function(u,g){var d=g.d;return u[0]?u[0].d===d&&u.push(g):d>i&&u.push(g),u},[]);return l.forEach(function(u){Wi(u,u._ps,[u.o],n,r,!0)}),!1}c.o=s,c.ss(p);var a=c.ps;return fr(s)||(c.ps=s.props,c.ref=s.ref),ac(this),c.r(n,r,c.b?a:{},p),!0},t.md=function(){this.rr()},t.ss=function(){},t.ud=function(){this.rr()},t.rr=function(){var n=this,r=n.ref,s=n.fr;r&&r(s?s.current:n.b)},e}();function Up(){return Object.__CROACT_CURRENT_INSTNACE__}function dE(){return oc}function pE(e){oc=e}function ac(e){return Object.__CROACT_CURRENT_INSTNACE__=e,oc=0,e}var lc=function(){function e(n,r){n===void 0&&(n={}),this.props=n,this.context=r,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var t=e.prototype;return t.render=function(){return null},t.shouldComponentUpdate=function(n,r){return this.props!==n||this.state!==r},t.setState=function(n,r,s){var p=this;p.$_timer||(p.$_state={}),clearTimeout(p.$_timer),p.$_timer=0,p.$_state=un(un({},p.$_state),n),s?p.$_setState(r,s):p.$_timer=window.setTimeout(function(){p.$_timer=0,p.$_setState(r,s)})},t.forceUpdate=function(n){this.setState({},n,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(n,r){},t.componentWillUnmount=function(){},t.$_setState=function(n,r){var s=[],p=this.$_p,m=Wi(p.c,[p],[p.o],s,p._cs,un(un({},this.state),this.$_state),r);m&&(n&&s.push(n),Hp(s),ac(null))},e}(),Wp=function(e){Ui(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,s){return zs(this.props,r)||zs(this.state,s)},t}(lc);function cc(e){var t=function(n){t.current=n};return t.current=e,t}function gE(e){return e._fr=!0,e}function vE(e,t,n,r){var s,p;return!((s=e==null?void 0:e.prototype)===null||s===void 0)&&s.render?p=new e(t,n):(p=new lc(t,n),p.constructor=e,e._fr?(r.fr=cc(),p.render=function(){return this.constructor(this.props,r.fr)}):p.render=hE),p.$_p=r,p}var mE=function(e){Ui(t,e);function t(r,s,p,m,c,i,h){h===void 0&&(h={});var f=e.call(this,r,s,p,m,c,i,ia(h,r.defaultProps))||this;return f.typ="comp",f._usefs=[],f._uefs=[],f._defs=[],f}var n=t.prototype;return n.s=function(r,s){var p=this.b;return p.shouldComponentUpdate(ia(r,this.t.defaultProps),s||p.state)!==!1},n.r=function(r,s,p){var m,c,i=this,h=i.t;i.ps=ia(i.ps,i.t.defaultProps);var f=i.ps,o=!i.b,l=h.contextType,a=i.b,u=l==null?void 0:l.get(i);i._cs=s,o?(a=vE(h,f,u,i),i.b=a):(a.props=f,a.context=u);var g=a.state;i._usefs=[],i._uefs=[];var d=a.render();((c=(m=d==null?void 0:d.props)===null||m===void 0?void 0:m.children)===null||c===void 0?void 0:c.length)===0&&(d.props.children=i.ps.children);var v=un(un({},s),a.$_cs);Wi(i,i._ps,d?[d]:[],r,v),o?i._uefs.push(function(){l==null||l.register(i),a.componentDidMount()}):i._uefs.push(function(){a.componentDidUpdate(p,g)}),r.push(function(){i._usefs.forEach(function(_){_()}),o?i.md():i.ud(),i._defs=i._uefs.map(function(_){return _()})})},n.ss=function(r){var s=this.b;!s||!r||(s.state=r)},n.un=function(){var r,s=this;s._ps.forEach(function(m){m.un()});var p=s.t;(r=p.contextType)===null||r===void 0||r.unregister(s),clearTimeout(s.b.$_timer),s._defs.forEach(function(m){m&&m()}),s.b.componentWillUnmount()},t}(xo);function _E(e,t,n){var r=uc(Of(e),Of(t)),s=r.added,p=r.removed,m=r.changed;for(var c in s)n.setAttribute(c,s[c]);for(var i in m)n.setAttribute(i,m[i][1]);for(var h in p)n.removeAttribute(h)}function yE(e,t,n){var r=uc(e,t),s=r.added,p=r.removed;for(var m in p)n.e(m,!0);for(var c in s)n.e(c)}function uc(e,t){var n=Na(e),r=Na(t),s=jp(n,r,function(i){return i}),p={},m={},c={};return s.added.forEach(function(i){var h=r[i];p[h]=t[h]}),s.removed.forEach(function(i){var h=n[i];m[h]=e[h]}),s.maintained.forEach(function(i){var h=i[0],f=n[h],o=[e[f],t[f]];e[f]!==t[f]&&(c[f]=o)}),{added:p,removed:m,changed:c}}function bE(e,t,n){var r=n.style,s=uc(e,t),p=s.added,m=s.removed,c=s.changed;for(var i in p){var h=ta(i,"-");r.setProperty(h,p[i])}for(var i in c){var f=ta(i,"-");r.setProperty(f,c[i][1])}for(var i in m){var o=ta(i,"-");r.removeProperty(o)}}function wE(e){return e.replace(/^on/g,"").toLowerCase()}var CE=function(e){Ui(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="elem",r._es={},r._svg=!1,r}var n=t.prototype;return n.e=function(r,s){var p=this,m=p._es,c=p.b,i=wE(r);s?(et(c,i,m[r]),delete m[r]):(m[r]=function(h){var f,o;(o=(f=p.ps)[r])===null||o===void 0||o.call(f,h)},ot(c,i,m[r]))},n.s=function(r){return zs(this.ps,r)},n.r=function(r,s,p){var m,c=this,i=!c.b,h=c.ps;if(i){var f=So(c.c),o=!1;c._svg||c.t==="svg"?o=!0:o=f&&f.ownerSVGElement,c._svg=o;var l=(m=c._hyd)===null||m===void 0?void 0:m.splice(0,1)[0],a=c.t;if(l)c._hyd=[].slice.call(l.children||[]);else{var u=ic(f);o?l=u.createElementNS("http://www.w3.org/2000/svg",a):l=u.createElement(a)}c.b=l}Wi(c,c._ps,h.children,r,s);var g=c.b,d=Ef(p),v=d[0],_=d[1],y=Ef(h),b=y[0],w=y[1];return _E(v,b,g),yE(_,w,c),bE(p.style||{},h.style||{},g),r.push(function(){i?c.md():c.ud()}),!0},n.un=function(){var r=this,s=r._es,p=r.b;for(var m in s)et(p,m,s[m]);r._ps.forEach(function(c){c.un()}),r._es={},r._sel||$p(p)},t}(xo);function Li(e){if(!e||sc(e))return e;var t=e.$_p._ps;return t.length?Li(t[0].b):null}function Yp(e){if(e){if(e.b&&sc(e.b))return e;var t=e._ps;return t.length?Yp(t[0]):null}}function zt(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=t||{},p=s.key,m=s.ref,c=Np(s,["key","ref"]);return{type:e,key:p,ref:m,props:un(un({},c),{children:tE(n).filter(function(i){return i!=null&&i!==!1})})}}var Xp=function(e){Ui(t,e);function t(r,s){s===void 0&&(s=0);var p=e.call(this,"container",s,"container",0,null)||this;return p.typ="container",p.b=r,p}var n=t.prototype;return n.r=function(){return!0},n.un=function(){},t}(xo),SE=function(e){Ui(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="text",r}var n=t.prototype;return n.r=function(r){var s,p=this,m=!p.b;if(m){var c=So(p.c),i=(s=p._hyd)===null||s===void 0?void 0:s.splice(0,1)[0];p.b=i||ic(c).createTextNode(p.t.replace("text_",""))}return r.push(function(){m?p.md():p.ud()}),!0},n.un=function(){$p(this.b)},t}(xo);function xE(e,t,n){var r=n.map(function(i){return fr(i)?null:i.key}),s=Tf(t.map(function(i){return i.k})),p=Tf(r),m=jp(s,p,function(i){return i});m.removed.forEach(function(i){t.splice(i,1)[0].un()}),m.ordered.forEach(function(i){var h=i[0],f=i[1],o=t.splice(h,1)[0];t.splice(f,0,o);var l=Li(o.b),a=Li(t[f+1]&&t[f+1].b);l&&l.parentNode.insertBefore(l,a)}),m.added.forEach(function(i){t.splice(i,0,Pf(n[i],r[i],i,e))});var c=m.maintained.filter(function(i){i[0];var h=i[1],f=n[h],o=t[h],l=fr(f)?"text_".concat(f):f.type;return l!==o.t?(o.un(),t.splice(h,1,Pf(f,r[h],h,e)),!0):(o.i=h,!1)});return xf(xf([],m.added,!0),c.map(function(i){i[0];var h=i[1];return h}),!0)}function TE(e,t){for(var n=e._ps,r=n.length,s=t.i+1;s<r;++s){var p=Li(n[s].b);if(p)return p}return null}function Pf(e,t,n,r){var s=r.d+1;if(fr(e)||XO(e))return new SE("text_".concat(e),s,t,n,r,null,{});var p=e.type,m=typeof p=="string"?CE:mE;return new m(p,s,t,n,r,e.ref,e.props)}function Wi(e,t,n,r,s,p,m){var c=xE(e,t,n),i=e._hyd,h=t.filter(function(o,l){return o._hyd=i,o.u(r,s,n[l],p,m)});e.typ==="container"&&e._sel&&t.forEach(function(o){var l=Yp(o);l&&(l._sel=!0)}),e._hyd=null;var f=So(e);return f&&c.reverse().forEach(function(o){var l=t[o],a=Li(l.b);if(a&&f!==a&&!a.parentNode){var u=TE(e,l);f.insertBefore(a,u)}}),h.length>0}function OE(e,t,n,r){n===void 0&&(n=t.__CROACT__),r===void 0&&(r={});var s=!!n;n||(n=new Xp(t));var p=[];return Wi(n,n._ps,e?[e]:[],p,r,void 0,void 0),Hp(p),ac(null),s||(t.__CROACT__=n),n}function kf(e,t,n){return!n&&e&&(n=new Xp(t.parentElement),n._hyd=[t],n._sel=!0),OE(e,t,n),n}function Vp(e){var t=Up(),n=t._hs||(t._hs=[]),r=dE(),s=n[r];if(pE(r+1),s){if(!zs(s.deps,e.deps))return s.updated=!1,s;n[r]=e}else n.push(e);return e.value=e.func(),e.updated=!0,e}function EE(e,t){var n=Vp({func:e,deps:t});return n.value}function PE(e){return EE(function(){return cc(e)},[])}function Gp(e,t,n){var r=Up(),s=Vp({func:function(){return e},deps:t}),p=n?r._usefs:r._uefs;s.updated?p.push(function(){return s.effect&&s.effect(),s.effect=e(),s.effect}):p.push(function(){return s.effect})}function kE(e,t,n){Gp(function(){e==null||e(t())},n,!0)}var $a=function(e,t){return $a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},$a(e,t)};function AE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ME=function(e){AE(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={scrollPos:0},r.width=0,r.height=0,r._zoom=0,r._rulerScale=0,r._observer=null,r._checkResize=function(){r.resize()},r}var n=t.prototype;return n.render=function(){var r=this.props;return this._zoom=r.zoom,zt("canvas",{ref:zn(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var r=this.props;this.state.scrollPos=r.defaultScrollPos||0;var s=this.canvasElement,p=s.getContext("2d",{alpha:!0});this.canvasContext=p,r.useResizeObserver?(this._observer=new ResizeObserver(this._checkResize),this._observer.observe(s,{box:"border-box"})):this.resize()},n.componentDidUpdate=function(){this.resize()},n.componentWillUnmount=function(){var r;this.state.scrollPos=0,(r=this._observer)===null||r===void 0||r.disconnect()},n.getScrollPos=function(){return this.state.scrollPos},n.scroll=function(r,s){this.draw({scrollPos:r,zoom:s})},n.resize=function(r){var s=this.canvasElement,p=this.props,m=p.width,c=p.height,i=p.scrollPos,h=this._getRulerScale();this.width=m||s.offsetWidth,this.height=c||s.offsetHeight,s.width=this.width*h,s.height=this.height*h,this.draw({scrollPos:i,zoom:r})},n.draw=function(r){r===void 0&&(r={});var s=this.props,p=r.zoom,m=p===void 0?this._zoom:p,c=r.scrollPos,i=c===void 0?this.state.scrollPos:c,h=r.marks,f=h===void 0?s.marks:h,o=r.selectedRanges,l=o===void 0?s.selectedRanges:o,a=r.segment,u=a===void 0?s.segment||10:a,g=r.unit,d=g===void 0?s.unit:g;this._zoom=m;var v=s,_=v.type,y=v.backgroundColor,b=v.lineColor,w=v.textColor,C=v.textBackgroundColor,S=v.direction,O=v.negativeRuler,j=O===void 0?!0:O,Y=v.textFormat,G=v.range,U=G===void 0?[-1/0,1/0]:G,ee=v.rangeBackgroundColor,ie=v.selectedBackgroundColor,le=v.lineWidth,ce=le===void 0?1:le,X=v.selectedRangesText,J=v.selectedRangesTextColor,x=J===void 0?"#44aaff":J,D=v.selectedRangesTextOffset,R=D===void 0?[0,0]:D,I=v.markColor,Q=I===void 0?"#ff5":I,M=this._getRulerScale(),E=this.width,H=this.height,A=this.state;A.scrollPos=i;var F=this.canvasContext,z=_==="horizontal",K=j!==!1,ne=s.font||"10px sans-serif",k=s.textAlign||"left",T=s.textOffset||[0,0],P=z?H:E,L=yi("".concat(s.mainLineSize||"100%"),P),$=yi("".concat(s.longLineSize||10),P),N=yi("".concat(s.shortLineSize||7),P),W=s.lineOffset||[0,0];switch(y==="transparent"?F.clearRect(0,0,E*M,H*M):(F.rect(0,0,E*M,H*M),F.fillStyle=y,F.fill()),F.save(),F.scale(M,M),F.strokeStyle=b,F.lineWidth=ce,F.font=ne,F.fillStyle=w,F.textAlign=k,S){case"start":F.textBaseline="top";break;case"center":F.textBaseline="middle";break;case"end":F.textBaseline="bottom";break}F.translate(.5,0),F.beginPath();for(var q=z?E:H,re=m*d,Z=Math.floor(i*m/re),V=Math.ceil((i*m+q)/re),ae=V-Z,he=Math.max(["left","center","right"].indexOf(k)-1,-1),ge=z?H:E,me=[],_e=0;_e<=ae;++_e){var be=(_e+Z)*d,Oe="".concat(be);Y&&(Oe=Y(be));var Ge=F.measureText(Oe).width;me.push({color:w,offset:T,backgroundColor:C,value:be,text:Oe,textSize:Ge})}if(ie!=="transparent"&&(l!=null&&l.length)&&l.forEach(function(St){var jt=Math.max(St[0],U[0],j?-1/0:0),Gt=Math.min(St[1],U[1]),mn=(jt-i)*m,_n=(Gt-jt)*m;X&&St.forEach(function(sn){var on="".concat(sn);Y&&(on=Y(sn));var yn=F.measureText(on).width,An=sn*m,Gi=An+yn;ZO(me,function(mr,ei){var Gn=mr.value,Pg=mr.textSize,xc=Gn*m,kg=xc+Pg;xc<=Gi&&An<=kg&&me.splice(ei,1)}),me.push({value:sn,color:x,offset:R,text:on,textSize:yn})}),!(_n<=0)&&(F.save(),F.fillStyle=ie,z?F.fillRect(mn,0,_n,ge):F.fillRect(0,mn,ge,_n),F.restore())}),ee!=="transparent"&&U[0]!==-1/0&&U[1]!==1/0){var mt=(U[0]-i)*m,pt=(U[1]-U[0])*m;F.save(),F.fillStyle=ee,z?F.fillRect(mt,0,pt,ge):F.fillRect(0,mt,ge,pt),F.restore()}for(var _e=0;_e<=ae;++_e){var be=_e+Z;if(!(!K&&be<0))for(var rn=be*d,Vn=(rn-i)*m,We=0;We<u;++We){var st=Vn+We/u*re,Qr=rn+We/u*d;if(!(st<0||st>=q||Qr<U[0]||Qr>U[1])){var Vi=We===0?L:We%2===0?$:N,Zr=0;switch(S){case"start":Zr=0;break;case"center":Zr=ge/2-Vi/2;break;case"end":Zr=ge-Vi;break}var Cc=z?[st+W[0],Zr+W[1]]:[Zr+W[0],st+W[1]],Ao=Cc[0],Mo=Cc[1],Sc=z?[Ao,Mo+Vi]:[Ao+Vi,Mo],Og=Sc[0],Eg=Sc[1];F.moveTo(Ao+W[0],Mo+W[1]),F.lineTo(Og+W[0],Eg+W[1])}}}F.stroke(),F.beginPath(),F.strokeStyle=Q,F.lineWidth=1,(f||[]).forEach(function(St){var jt=(-i+St)*m;if(!(jt<0||jt>=q||St<U[0]||St>U[1])){var Gt=z?[jt+W[0],W[1]]:[W[0],jt+W[1]],mn=Gt[0],_n=Gt[1],sn=z?[mn,_n+P]:[mn+P,_n],on=sn[0],yn=sn[1];F.moveTo(mn+W[0],_n+W[1]),F.lineTo(on+W[0],yn+W[1])}}),F.stroke(),me.forEach(function(St){var jt=St.value,Gt=St.offset,mn=St.backgroundColor,_n=St.color,sn=St.text,on=St.textSize;if(!(!K&&jt<0)){var yn=(jt-i)*m;if(!(yn<-re||yn>=q+d*m||jt<U[0]||jt>U[1])){var An=0;switch(S){case"start":An=17;break;case"center":An=ge/2;break;case"end":An=ge-17;break}var Gi=z?[yn+he*-3,An]:[An,yn+he*3],mr=Gi[0],ei=Gi[1];if(mn){var Gn=0;switch(k){case"left":Gn=0;break;case"center":Gn=-on/2;break;case"right":Gn=-on;break}F.save(),F.fillStyle=mn,z?F.fillRect(mr+Gt[0]+Gn,0,on,L):(F.translate(0,ei+Gt[1]),F.rotate(-Math.PI/2),F.fillRect(Gn,0,on,L)),F.restore()}F.save(),F.fillStyle=_n,z?F.fillText(sn,mr+Gt[0],ei+Gt[1]):(F.translate(mr+Gt[0],ei+Gt[1]),F.rotate(-Math.PI/2),F.fillText(sn,0,0)),F.restore()}}}),F.restore()},n._getRulerScale=function(){var r=this.props.defaultPixelScale||2;if(!this._rulerScale){var s=window.devicePixelRatio>1;if(!s&&window.matchMedia){var p=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");s=p&&p.matches}this._rulerScale=s?3:r}return this._rulerScale},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555",defaultScrollPos:0,markColor:"#f55",marks:[]},t}(Wp),Kp=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","defaultScrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat","warpSelf","selectedBackgroundColor","selectedRanges","defaultPixelScale","useResizeObserver","selectedRangesText","selectedRangesTextColor","selectedRangesTextOffset","marks","markColor"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ha=function(){return Ha=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Ha.apply(this,arguments)};function DE(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,c=p.length;m<c;m++,s++)r[s]=p[m];return r}var RE=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(pn(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(pn(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=Co(p,function(c){return c.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,DE(p).forEach(function(c){c.listener(r),c.once&&s.off(n,c.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(Ha({listener:r},s))},e}();const IE=RE;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ua=function(e,t){return Ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Ua(e,t)};function FE(e,t){Ua(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ke=function(){return Ke=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Ke.apply(this,arguments)};function LE(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=Math.atan2(r,n);return s>=0?s:s+Math.PI*2}function sa(e){return LE([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function BE(e){return e.touches&&e.touches.length>=2}function cs(e){return e?e.touches?NE(e.touches):[qp(e)]:[]}function jE(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function Af(e,t,n){var r=n.length,s=bi(e,r),p=s.clientX,m=s.clientY,c=s.originalClientX,i=s.originalClientY,h=bi(t,r),f=h.clientX,o=h.clientY,l=bi(n,r),a=l.clientX,u=l.clientY,g=p-f,d=m-o,v=p-a,_=m-u;return{clientX:c,clientY:i,deltaX:g,deltaY:d,distX:v,distY:_}}function oa(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function NE(e){for(var t=Math.min(e.length,2),n=[],r=0;r<t;++r)n.push(qp(e[r]));return n}function qp(e){return{clientX:e.clientX,clientY:e.clientY}}function bi(e,t){t===void 0&&(t=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(e.length,t),s=0;s<r;++s){var p=e[s];n.originalClientX+="originalClientX"in p?p.originalClientX:p.clientX,n.originalClientY+="originalClientY"in p?p.originalClientY:p.clientY,n.clientX+=p.clientX,n.clientY+=p.clientY}return t?{clientX:n.clientX/t,clientY:n.clientY/t,originalClientX:n.originalClientX/t,originalClientY:n.originalClientY/t}:n}var aa=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return e.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),sa(t)},e.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),sa(t)-sa(this.startClients)},e.prototype.getPosition=function(t,n){t===void 0&&(t=this.prevClients);var r=Af(t||this.prevClients,this.prevClients,this.startClients),s=r.deltaX,p=r.deltaY;return this.movement+=Math.sqrt(s*s+p*p),this.prevClients=t,r},e.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var n=this.prevClients,r=this.startClients,s=Math.min(this.length,n.length),p=[],m=0;m<s;++m)p[m]=Af([t[m]],[n[m]],[r[m]]);return p},e.prototype.getMovement=function(t){var n=this.movement;if(!t)return n;var r=bi(t,this.length),s=bi(this.prevClients,this.length),p=r.clientX-s.clientX,m=r.clientY-s.clientY;return Math.sqrt(p*p+m*m)+n},e.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),oa(t)},e.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),oa(t)/oa(this.startClients)},e.prototype.move=function(t,n){this.startClients.forEach(function(r){r.clientX-=t,r.clientY-=n}),this.prevClients.forEach(function(r){r.clientX-=t,r.clientY-=n})},e}(),Mf=["textarea","input"],zE=function(e){FE(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this)||this;s.options={},s.flag=!1,s.pinchFlag=!1,s.data={},s.isDrag=!1,s.isPinch=!1,s.clientStores=[],s.targets=[],s.prevTime=0,s.doubleFlag=!1,s._useMouse=!1,s._useTouch=!1,s._useDrag=!1,s._dragFlag=!1,s._isTrusted=!1,s._isMouseEvent=!1,s._isSecondaryButton=!1,s._preventMouseEvent=!1,s._prevInputEvent=null,s._isDragAPI=!1,s._isIdle=!0,s._window=window,s.onDragStart=function(l,a){if(a===void 0&&(a=!0),!(!s.flag&&l.cancelable===!1)){var u=l.type.indexOf("drag")>=-1;if(!(s.flag&&u)){s._isDragAPI=!0;var g=s.options,d=g.container,v=g.pinchOutside,_=g.preventWheelClick,y=g.preventRightClick,b=g.preventDefault,w=g.checkInput,C=g.dragFocusedInput,S=g.preventClickEventOnDragStart,O=g.preventClickEventOnDrag,j=g.preventClickEventByCondition,Y=s._useTouch,G=!s.flag;if(s._isSecondaryButton=l.which===3||l.button===2,_&&(l.which===2||l.button===1)||y&&(l.which===3||l.button===2))return s.stop(),!1;if(G){var U=s._window.document.activeElement,ee=l.target;if(ee){var ie=ee.tagName.toLowerCase(),le=Mf.indexOf(ie)>-1,ce=ee.isContentEditable;if(le||ce){if(w||!C&&U===ee)return!1;if(U&&(U===ee||ce&&U.isContentEditable&&U.contains(ee)))if(C)ee.blur();else return!1}else if((b||l.type==="touchstart")&&U){var X=U.tagName.toLowerCase();(U.isContentEditable||Mf.indexOf(X)>-1)&&U.blur()}(S||O||j)&&ot(s._window,"click",s._onClick,!0)}s.clientStores=[new aa(cs(l))],s._isIdle=!1,s.flag=!0,s.isDrag=!1,s._isTrusted=a,s._dragFlag=!0,s._prevInputEvent=l,s.data={},s.doubleFlag=ja()-s.prevTime<200,s._isMouseEvent=jE(l),!s._isMouseEvent&&s._preventMouseEvent&&(s._preventMouseEvent=!1);var J=s._preventMouseEvent||s.emit("dragStart",Ke(Ke({data:s.data,datas:s.data,inputEvent:l,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,isTrusted:a,isDouble:s.doubleFlag},s.getCurrentStore().getPosition()),{preventDefault:function(){l.preventDefault()},preventDrag:function(){s._dragFlag=!1}}));J===!1&&s.stop(),s._isMouseEvent&&s.flag&&b&&l.preventDefault()}if(!s.flag)return!1;var x=0;if(G?(s._attchDragEvent(),Y&&v&&(x=setTimeout(function(){ot(d,"touchstart",s.onDragStart,{passive:!1})}))):Y&&v&&et(d,"touchstart",s.onDragStart),s.flag&&BE(l)){if(clearTimeout(x),G&&l.touches.length!==l.changedTouches.length)return;s.pinchFlag||s.onPinchStart(l)}}}},s.onDrag=function(l,a){if(s.flag){var u=s.options.preventDefault;!s._isMouseEvent&&u&&l.preventDefault(),s._prevInputEvent=l;var g=cs(l),d=s.moveClients(g,l,!1);if(s._dragFlag){if(s.pinchFlag||d.deltaX||d.deltaY){var v=s._preventMouseEvent||s.emit("drag",Ke(Ke({},d),{isScroll:!!a,inputEvent:l}));if(v===!1){s.stop();return}}s.pinchFlag&&s.onPinch(l,g)}s.getCurrentStore().getPosition(g,!0)}},s.onDragEnd=function(l){if(s.flag){var a=s.options,u=a.pinchOutside,g=a.container,d=a.preventClickEventOnDrag,v=a.preventClickEventOnDragStart,_=a.preventClickEventByCondition,y=s.isDrag;(d||v||_)&&requestAnimationFrame(function(){s._allowClickEvent()}),!_&&!v&&d&&!y&&s._allowClickEvent(),s._useTouch&&u&&et(g,"touchstart",s.onDragStart),s.pinchFlag&&s.onPinchEnd(l);var b=l!=null&&l.touches?cs(l):[],w=b.length;w===0||!s.options.keepDragging?s.flag=!1:s._addStore(new aa(b));var C=s._getPosition(),S=ja(),O=!y&&s.doubleFlag;s._prevInputEvent=null,s.prevTime=y||O?0:S,s.flag||(s._dettachDragEvent(),s._preventMouseEvent||s.emit("dragEnd",Ke({data:s.data,datas:s.data,isDouble:O,isDrag:y,isClick:!y,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,inputEvent:l,isTrusted:s._isTrusted},C)),s.clientStores=[],s._isMouseEvent||(s._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){s._preventMouseEvent=!1})})),s._isIdle=!0)}},s.onBlur=function(){s.onDragEnd()},s._allowClickEvent=function(){et(s._window,"click",s._onClick,!0)},s._onClick=function(l){s._allowClickEvent(),s._preventMouseEvent=!1;var a=s.options.preventClickEventByCondition;a!=null&&a(l)||(l.stopPropagation(),l.preventDefault())},s._onContextMenu=function(l){var a=s.options;a.preventRightClick?s.onDragEnd(l):l.preventDefault()},s._passCallback=function(){};var p=[].concat(n),m=p[0];s._window=sE(m)?m:ra(m),s.options=Ke({checkInput:!1,container:m&&!("document"in m)?ra(m):m,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},r);var c=s.options,i=c.container,h=c.events,f=c.checkWindowBlur;if(s._useDrag=h.indexOf("drag")>-1,s._useTouch=h.indexOf("touch")>-1,s._useMouse=h.indexOf("mouse")>-1,s.targets=p,s._useDrag&&p.forEach(function(l){ot(l,"dragstart",s.onDragStart)}),s._useMouse&&(p.forEach(function(l){ot(l,"mousedown",s.onDragStart),ot(l,"mousemove",s._passCallback)}),ot(i,"contextmenu",s._onContextMenu)),f&&ot(ra(),"blur",s.onBlur),s._useTouch){var o={passive:!1};p.forEach(function(l){ot(l,"touchstart",s.onDragStart,o),ot(l,"touchmove",s._passCallback,o)})}return s}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(r,s){return r+s.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(n,r,s,p){p===void 0&&(p=!0),this.flag&&(this.clientStores[0].move(n,r),p&&this.onDrag(s,!0))},t.prototype.move=function(n,r){var s=n[0],p=n[1],m=this.getCurrentStore(),c=m.prevClients;return this.moveClients(c.map(function(i){var h=i.clientX,f=i.clientY;return{clientX:h+s,clientY:f+p,originalClientX:h,originalClientY:f}}),r,!0)},t.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},t.prototype.setEventData=function(n){var r=this.data;for(var s in n)r[s]=n[s];return this},t.prototype.setEventDatas=function(n){return this.setEventData(n)},t.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),Ke(Ke({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var n=this,r=this.targets,s=this.options.container;this.off(),et(this._window,"blur",this.onBlur),this._useDrag&&r.forEach(function(p){et(p,"dragstart",n.onDragStart)}),this._useMouse&&(r.forEach(function(p){et(p,"mousedown",n.onDragStart)}),et(s,"contextmenu",this._onContextMenu)),this._useTouch&&(r.forEach(function(p){et(p,"touchstart",n.onDragStart)}),et(s,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(n){var r=this,s=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>s)){var p=new aa(cs(n));this.pinchFlag=!0,this._addStore(p);var m=this.emit("pinchStart",Ke(Ke({data:this.data,datas:this.data,angle:p.getAngle(),touches:this.getCurrentStore().getPositions()},p.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){r._dragFlag=!1}}));m===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(n,r){if(!(!this.flag||!this.pinchFlag||r.length<2)){var s=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Ke(Ke({data:this.data,datas:this.data,movement:this.getMovement(r),angle:s.getAngle(r),rotation:s.getRotation(r),touches:s.getPositions(r),scale:s.getScale(r),distance:s.getDistance(r)},s.getPosition(r)),{inputEvent:n,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(n){if(this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var s=this.getCurrentStore();this.emit("pinchEnd",Ke(Ke({data:this.data,datas:this.data,isPinch:r,touches:s.getPositions()},s.getPosition()),{inputEvent:n}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(n,r,s){var p=this._getPosition(n,s),m=this.isDrag;(p.deltaX||p.deltaY)&&(this.isDrag=!0);var c=!1;return!m&&this.isDrag&&(c=!0),Ke(Ke({data:this.data,datas:this.data},p),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:r,isTrusted:this._isTrusted,isFirstDrag:c})},t.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},t.prototype._getPosition=function(n,r){var s=this.getCurrentStore(),p=s.getPosition(n,r),m=this.clientStores.slice(1).reduce(function(h,f){var o=f.getPosition();return h.distX+=o.distX,h.distY+=o.distY,h},p),c=m.distX,i=m.distY;return Ke(Ke({},p),{distX:c,distY:i})},t.prototype._attchDragEvent=function(){var n=this._window,r=this.options.container,s={passive:!1};this._isDragAPI&&(ot(r,"dragover",this.onDrag,s),ot(n,"dragend",this.onDragEnd)),this._useMouse&&(ot(r,"mousemove",this.onDrag),ot(n,"mouseup",this.onDragEnd)),this._useTouch&&(ot(r,"touchmove",this.onDrag,s),ot(n,"touchend",this.onDragEnd,s),ot(n,"touchcancel",this.onDragEnd,s))},t.prototype._dettachDragEvent=function(){var n=this._window,r=this.options.container;this._isDragAPI&&(et(r,"dragover",this.onDrag),et(n,"dragend",this.onDragEnd)),this._useMouse&&(et(r,"mousemove",this.onDrag),et(n,"mouseup",this.onDragEnd)),this._useTouch&&(et(r,"touchstart",this.onDragStart),et(r,"touchmove",this.onDrag),et(n,"touchend",this.onDragEnd),et(n,"touchcancel",this.onDragEnd))},t}(IE);function $E(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var HE=$E;function UE(e){return HE(e).toString(36)}function WE(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function YE(e,t,n){return n.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,s){var p=s.trim();return(p?ui(p):[""]).map(function(m){var c=m.trim();return c.indexOf("@")===0?c:c.indexOf(":global")>-1?c.replace(/\:global/g,""):c.indexOf(":host")>-1?"".concat(c.replace(/\:host/g,".".concat(e))):c?".".concat(e," ").concat(c):".".concat(e)}).join(", ")+" {"})}function XE(e,t,n,r,s){var p=ic(r),m=p.createElement("style");return m.setAttribute("type","text/css"),m.setAttribute("data-styled-id",e),m.setAttribute("data-styled-count","1"),n.nonce&&m.setAttribute("nonce",n.nonce),m.innerHTML=YE(e,t,n),(s||p.head||p.body).appendChild(m),m}function VE(e){var t="rCS"+UE(e);return{className:t,inject:function(n,r){r===void 0&&(r={});var s=WE(n),p=(s||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!p)p=XE(t,e,r,n,s);else{var m=parseFloat(p.getAttribute("data-styled-count"))||0;p.setAttribute("data-styled-count","".concat(m+1))}return{destroy:function(){var c,i=parseFloat(p.getAttribute("data-styled-count"))||0;i<=1?(p.remove?p.remove():(c=p.parentNode)===null||c===void 0||c.removeChild(p),p=null):p.setAttribute("data-styled-count","".concat(i-1))}}}}}var Wa=function(){return Wa=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Wa.apply(this,arguments)};function GE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function KE(e,t){var n=VE(t),r=n.className;return gE(function(s,p){var m=s.className,c=m===void 0?"":m;s.cspNonce;var i=GE(s,["className","cspNonce"]),h=PE();return kE(p,function(){return h.current},[]),Gp(function(){var f=n.inject(h.current,{nonce:s.cspNonce});return function(){f.destroy()}},[]),zt(e,Wa({ref:h,"data-styled-id":r,className:"".concat(c," ").concat(r)},i))})}function qE(e,t,n,r,s,p){for(var m=0;m<s;++m){var c=n+m*s,i=r+m*s;e[c]+=e[i]*p,t[c]+=t[i]*p}}function JE(e,t,n,r,s){for(var p=0;p<s;++p){var m=n+p*s,c=r+p*s,i=e[m],h=t[m];e[m]=e[c],e[c]=i,t[m]=t[c],t[c]=h}}function QE(e,t,n,r,s){for(var p=0;p<r;++p){var m=n+p*r;e[m]/=s,t[m]/=s}}function ZE(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var n=e.slice(),r=Jp(t),s=0;s<t;++s){var p=t*s+s;if(!na(n[p],ea)){for(var m=s+1;m<t;++m)if(n[t*s+m]){JE(n,r,s,m,t);break}}if(!na(n[p],ea))return[];QE(n,r,s,t,n[p]);for(var m=0;m<t;++m){var c=m,i=m+s*t,h=n[i];!na(h,ea)||s===m||qE(n,r,c,s,t,-h)}}return r}function gr(e,t,n){n===void 0&&(n=Math.sqrt(e.length));var r=[],s=e.length/n,p=t.length/s;if(s){if(!p)return e}else return t;for(var m=0;m<n;++m)for(var c=0;c<p;++c){r[c*n+m]=0;for(var i=0;i<s;++i)r[c*n+m]+=e[i*n+m]*t[c*s+i]}return r}function eP(e,t,n){n===void 0&&(n=t.length);var r=gr(e,t,n),s=r[n-1];return r.map(function(p){return p/s})}function tP(e,t){return gr(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function nP(e,t){return gr(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function rP(e,t){return gr(e,iP(t,4))}function us(e,t){var n=t[0],r=n===void 0?1:n,s=t[1],p=s===void 0?1:s,m=t[2],c=m===void 0?1:m;return gr(e,[r,0,0,0,0,p,0,0,0,0,c,0,0,0,0,1],4)}function la(e,t){var n=t[0],r=n===void 0?0:n,s=t[1],p=s===void 0?0:s,m=t[2],c=m===void 0?0:m;return gr(e,[1,0,0,0,0,1,0,0,0,0,1,0,r,p,c,1],4)}function Ya(e,t){return gr(e,t,4)}function iP(e,t){var n=Math.cos(e),r=Math.sin(e),s=Jp(t);return s[0]=n,s[1]=r,s[t]=-r,s[t+1]=n,s}function Jp(e){for(var t=e*e,n=[],r=0;r<t;++r)n[r]=r%(e+1)?0:1;return n}var wi=function(){return wi=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},wi.apply(this,arguments)};function Qp(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function sP(e,t){return t===void 0&&(t=0),aP(lP(e,t))}function Df(e,t){var n=eP(e,[t[0],t[1]||0,t[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function oP(e,t){t===void 0&&(t=document.body);for(var n=e,r=Qp();n;){var s=getComputedStyle(n).transform;if(r=Ya(sP(s),r),n===t)break;n=n.parentElement}return r=ZE(r,4),r[12]=0,r[13]=0,r[14]=0,r}function aP(e){var t=Qp();return e.forEach(function(n){var r=n.matrixFunction,s=n.functionValue;r&&(t=r(t,s))}),t}function lP(e,t){t===void 0&&(t=0);var n=Ip(e)?e:KO(e);return n.map(function(r){var s=qO(r),p=s.prefix,m=s.value,c=null,i=p,h="";if(p==="translate"||p==="translateX"||p==="translate3d"){var f=pn(t)?wi(wi({},t),{"o%":t["%"]}):{"%":t,"o%":t},o=ui(m).map(function(ee,ie){return ie===0&&"x%"in f?f["%"]=t["x%"]:ie===1&&"y%"in f?f["%"]=t["y%"]:f["%"]=t["o%"],yi(ee,f)}),l=o[0],a=o[1],u=a===void 0?0:a,g=o[2],d=g===void 0?0:g;c=la,h=[l,u,d]}else if(p==="translateY"){var v=pn(t)?wi({"%":t["y%"]},t):{"%":t},u=yi(m,v);c=la,h=[0,u,0]}else if(p==="translateZ"){var d=parseFloat(m);c=la,h=[0,0,d]}else if(p==="scale"||p==="scale3d"){var _=ui(m).map(function(ee){return parseFloat(ee)}),y=_[0],b=_[1],w=b===void 0?y:b,C=_[2],S=C===void 0?1:C;c=us,h=[y,w,S]}else if(p==="scaleX"){var y=parseFloat(m);c=us,h=[y,1,1]}else if(p==="scaleY"){var w=parseFloat(m);c=us,h=[1,w,1]}else if(p==="scaleZ"){var S=parseFloat(m);c=us,h=[1,1,S]}else if(p==="rotate"||p==="rotateZ"||p==="rotateX"||p==="rotateY"){var O=Bp(m),j=O.unit,Y=O.value,G=j==="rad"?Y:Y*Math.PI/180;p==="rotate"||p==="rotateZ"?(i="rotateZ",c=rP):p==="rotateX"?c=tP:p==="rotateY"&&(c=nP),h=G}else if(p==="matrix3d")c=Ya,h=ui(m).map(function(ee){return parseFloat(ee)});else if(p==="matrix"){var U=ui(m).map(function(ee){return parseFloat(ee)});c=Ya,h=[U[0],U[1],0,0,U[2],U[3],0,0,0,0,1,0,U[4],U[5],0,1]}else i="";return{name:p,functionName:i,value:m,matrixFunction:c,functionValue:h}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xa=function(){return Xa=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Xa.apply(this,arguments)};function cP(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,c=p.length;m<c;m++,s++)r[s]=p[m];return r}var uP=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(pn(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(pn(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=Co(p,function(c){return c.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,cP(p).forEach(function(c){c.listener(r),c.once&&s.off(n,c.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(Xa({listener:r},s))},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Va=function(e,t){return Va=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Va(e,t)};function fP(e,t){Va(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Tr=function(){return Tr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Tr.apply(this,arguments)};function hP(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function ca(e){if(e){if(fr(e))return document.querySelector(e)}else return null;if(Fp(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var dP=function(e){fP(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r}var n=t.prototype;return n.dragStart=function(r,s){var p=ca(s.container);if(!p){this._flag=!1;return}var m=0,c=0,i=0,h=0;if(p===document.body)i=window.innerWidth,h=window.innerHeight;else{var f=p.getBoundingClientRect();m=f.top,c=f.left,i=f.width,h=f.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:m,left:c,width:i,height:h},this._prevScrollPos=this._getScrollPosition([0,0],s)},n.drag=function(r,s){if(clearTimeout(this._timer),!!this._flag){var p=r.clientX,m=r.clientY,c=s.threshold,i=c===void 0?0:c,h=this,f=h._startRect,o=h._startPos,l=[0,0];return f.top>m-i?(o[1]>f.top||m<o[1])&&(l[1]=-1):f.top+f.height<m+i&&(o[1]<f.top+f.height||m>o[1])&&(l[1]=1),f.left>p-i?(o[0]>f.left||p<o[0])&&(l[0]=-1):f.left+f.width<p+i&&(o[0]<f.left+f.width||p>o[0])&&(l[0]=1),!l[0]&&!l[1]?!1:this._continueDrag(Tr(Tr({},s),{direction:l,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var s=this;if(this._isWait)return!1;var p=r.prevScrollPos,m=p===void 0?this._prevScrollPos:p,c=r.direction,i=r.throttleTime,h=i===void 0?0:i,f=r.inputEvent,o=r.isDrag,l=this._getScrollPosition(c||[0,0],r),a=l[0]-m[0],u=l[1]-m[1],g=c||[a?Math.abs(a)/a:0,u?Math.abs(u)/u:0];return this._prevScrollPos=l,!a&&!u?!1:(this.trigger("move",{offsetX:g[0]?a:0,offsetY:g[1]?u:0,inputEvent:f}),h&&o&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},h)),!0)},n.dragEnd=function(){this._flag=!1,clearTimeout(this._timer)},n._getScrollPosition=function(r,s){var p=s.container,m=s.getScrollPosition,c=m===void 0?hP:m;return c({container:ca(p),direction:r})},n._continueDrag=function(r){var s=this,p,m,c=r.container,i=r.direction,h=r.throttleTime,f=r.useScroll,o=r.isDrag,l=r.inputEvent;if(!(!this._flag||o&&this._isWait)){var a=ja(),u=Math.max(h+this._prevTime-a,0);if(u>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},u),!1;this._prevTime=a;var g=this._getScrollPosition(i,r);this._prevScrollPos=g,o&&(this._isWait=!0);var d={container:ca(c),direction:i,inputEvent:l};return(m=(p=r).requestScroll)===null||m===void 0||m.call(p,d),this.trigger("scroll",d),this._isWait=!1,f||this.checkScroll(Tr(Tr({},r),{prevScrollPos:g,direction:i,inputEvent:l}))}},t}(uP),Ga=function(e,t){return Ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ga(e,t)};function pP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ga(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Rt=function(){return Rt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Rt.apply(this,arguments)};function Ci(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,p;r<s;r++)(p||!(r in t))&&(p||(p=Array.prototype.slice.call(t,0,r)),p[r]=t[r]);return e.concat(p||Array.prototype.slice.call(t))}function Sn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return LO.apply(void 0,Ci(["scena-guides-"],e,!1))}var gP=Sn("guide","adder"),vP=Sn("guides"),mP=Sn("guide"),Rf=Sn("dragging"),_P=Sn("display-drag"),yP=BO("scena-guides-",`
{
    position: relative;
    width: 100%;
    height: 100%;
}
canvas {
    position: relative;
}
.guide-origin {
    position: absolute;
    width: 1px;
    height: 1px;
    top: 0;
    left: 0;
    opacity: 0;
}
.guides {
    position: absolute;
    bottom: 0;
    right: 0;
    will-change: transform;
    z-index: 2000;
}
.guide-pos {
    position: absolute;
    font-weight: bold;
    font-size: 12px;
    color: #f33;
}
.horizontal .guide-pos {
    bottom: 100%;
    left: 50%;
    transform: translate(-50%);
}
.vertical .guide-pos {
    left: calc(100% + 2px);
    top: 50%;
    transform: translateY(-50%);
}
.display-drag {
    position: absolute;
    will-change: transform;
    z-index: 2000;
    font-weight: bold;
    font-size: 12px;
    display: none;
    left: 20px;
    top: -20px;
    color: #f33;
}
:host.horizontal .guides {
    width: 100%;
    height: 0;
}
:host.vertical .guides {
    height: 100%;
    width: 0;
}
:host.horizontal canvas {
    cursor: ns-resize;
}
:host.vertical canvas {
    cursor: ew-resize;
}
.guide {
    position: absolute;
    background: #f33;
    z-index: 2;
}
.guide.dragging:before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
:host.horizontal .guide {
    width: 100%;
    height: 1px;
    cursor: row-resize;
}
:host.vertical .guide {
    width: 1px;
    height: 100%;
    cursor: col-resize;
}
.mobile :host.horizontal .guide {
    transform: scale(1, 2);
}
.mobile :host.vertical .guide {
    transform: scale(2, 1);
}
:host.horizontal .guide:before {
    height: 20px;
}
:host.vertical .guide:before {
    width: 20px;
}
.adder {
    display: none;
}
.adder.dragging {
    display: block;
}
`),bP=Ci(["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides","scrollOptions","guideStyle","guidesOffset","digit","defaultGuidesPos","dragGuideStyle","displayGuidePos","guidePosFormat","guidePosStyle","lockGuides"],Kp,!0),wP=["getGuides","loadGuides","scroll","scrollGuides","resize","getElement","getRulerElement","forceUpdate","getRulerScrollPos","getGuideScrollPos","zoomTo","drawRuler"],CP=["changeGuides","requestScroll","dragStart","drag","dragEnd","clickRuler"],SP=KE("div",yP),xP=function(e){pP(t,e);function t(r){var s=e.call(this,r)||this;return s.state={guides:[]},s.scrollPos=0,s.managerRef=cc(),s.guideElements=[],s._isFirstMove=!1,s._zoom=1,s._observer=null,s.onDragStart=function(p){var m=p.datas,c=p.inputEvent;s._isFirstMove=!0,s.movePos(p),s.props.onDragStart(Rt(Rt({},p),{dragElement:m.target})),s.gesto.isFlag()&&(c.stopPropagation(),c.preventDefault(),s._startDragScroll(p))},s._onDrag=function(p){s._isFirstMove&&(s._isFirstMove=!1,rE(p.datas.target,Rf));var m=s.movePos(p);if(s.props.onDrag(Rt(Rt({},p),{dragElement:p.datas.target})),!s.gesto.isFlag()){s._endDragScroll(p);return}return s._dragScroll(p),m},s.onDragEnd=function(p){var m=p.datas,c=p.isDouble,i=p.distX,h=p.distY,f=s.movePos(p),o=s.state.guides,l=s.props,a=l.onChangeGuides,u=l.displayDragPos,g=l.digit,d=l.lockGuides,v=l.guidesOffset,_=s._zoom,y=parseFloat((f/_).toFixed(g||0)),b=s.scrollPos-(v||0);if(u&&(s.displayElement.style.cssText+="display: none;"),iE(m.target,Rf),s.props.onDragEnd(Rt(Rt({},p),{dragElement:m.target})),s._endDragScroll(p),m.fromRuler)s._isFirstMove&&s.props.onClickRuler(Rt(Rt({},p),{pos:0})),y>=b&&o.indexOf(y)<0&&s.setState({guides:Ci(Ci([],o,!0),[y],!1)},function(){a({guides:s.state.guides,distX:i,distY:h,index:o.length,isAdd:!0,isRemove:!1,isChange:!1})});else{var w=parseFloat(m.target.getAttribute("data-index")),C=!1,S=!1;o=Ci([],o,!0);var O=o.indexOf(y);if(c||y<b||O>-1&&O!==w){if(d&&(d===!0||d.indexOf("remove")>-1))return;o.splice(w,1),C=!0}else{if(O>-1)return;if(d&&(d===!0||d.indexOf("change")>-1))return;o[w]=y,S=!0}s.setState({guides:o},function(){var j=s.state.guides;a({distX:i,distY:h,guides:j,isAdd:!1,index:w,isChange:S,isRemove:C})})}},s._onCheck=function(){s.resize()},s.state.guides=r.defaultGuides||[],s.scrollPos=r.defaultGuidesPos||0,s}var n=t.prototype;return n.render=function(){var r=this.props,s=r.className,p=r.type,m=r.zoom,c=r.style,i=r.rulerStyle,h=r.displayDragPos,f=r.cspNonce,o=r.dragGuideStyle,l=r.guidePosStyle,a=l===void 0?{}:l,u=this.props,g=this.getTranslateName(),d={};return Kp.forEach(function(v){v==="style"||v==="warpSelf"||v==="useResizeObserver"||(d[v]=u[v])}),this._zoom=m,zt(SP,{ref:this.managerRef,cspNonce:f,className:"".concat(Sn("manager",p)," ").concat(s),style:c},zt("div",{className:Sn("guide-origin"),ref:zn(this,"originElement")}),zt(ME,Rt({ref:zn(this,"ruler"),style:i},d)),zt("div",{className:vP,ref:zn(this,"guidesElement"),style:{transform:"".concat(g,"(").concat(-this.scrollPos*m,"px)")}},h&&zt("div",{className:_P,ref:zn(this,"displayElement"),style:a||{}}),zt("div",{className:gP,ref:zn(this,"adderElement"),style:o}),this.renderGuides()))},n.drawRuler=function(r){this.ruler.draw(r)},n.renderGuides=function(){var r=this,s=this.props,p=s,m=p.type,c=p.showGuides,i=p.guideStyle,h=p.displayGuidePos,f=p.guidePosStyle,o=f===void 0?{}:f,l=p.guidesOffset,a=this._zoom,u=this.getTranslateName(),g=this.state.guides,d=s.guidePosFormat||s.dragPosFormat||function(v){return v};if(this.guideElements=[],c)return g.map(function(v,_){var y=v+(l||0);return zt("div",{className:Sn("guide",m),ref:jO(r,"guideElements",_),key:_,"data-index":_,"data-pos":v,style:Rt(Rt({},i),{transform:"".concat(u,"(").concat(y*a,"px) translateZ(0px)")})},h&&zt("div",{className:Sn("guide-pos"),style:o||{}},d(v)))})},n.componentDidMount=function(){var r=this;this.gesto=new zE(this.managerRef.current,{container:document.body}).on("dragStart",function(s){var p=r.props,m=p.type,c=p.lockGuides,i=r._zoom;if(c===!0){s.stop();return}var h=s.inputEvent,f=h.target,o=s.datas,l=r.ruler.canvasElement,a=r.guidesElement,u=m==="horizontal",g=r.originElement.getBoundingClientRect(),d=oP(r.managerRef.current),v=Df(d,[s.clientX-g.left,s.clientY-g.top]);v[0]-=a.offsetLeft,v[1]-=a.offsetTop,v[u?1:0]+=r.scrollPos*i,o.offsetPos=v,o.matrix=d;var _=c&&c.indexOf("add")>-1,y=c&&c.indexOf("remove")>-1,b=c&&c.indexOf("change")>-1;if(f===l){if(_){s.stop();return}o.fromRuler=!0,o.target=r.adderElement}else if(nE(f,mP)){if(y&&b){s.stop();return}o.target=f}else return s.stop(),!1;r.onDragStart(s)}).on("drag",this._onDrag).on("dragEnd",this.onDragEnd),this.props.useResizeObserver?(this._observer=new ResizeObserver(this._onCheck),this._observer.observe(this.guidesElement,{box:"border-box"}),this._observer.observe(this.getRulerElement(),{box:"border-box"})):this._onCheck()},n.componentWillUnmount=function(){var r;this.gesto.unset(),(r=this._observer)===null||r===void 0||r.disconnect()},n.componentDidUpdate=function(r){var s=this.props.defaultGuides;r.defaultGuides!==s&&this.setState({guides:s||[]})},n.loadGuides=function(r){this.setState({guides:r})},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(r,s){s===void 0&&(s=this._zoom),this._zoom=s;var p=this.getTranslateName(),m=this.guidesElement;this.scrollPos=r,m.style.transform="".concat(p,"(").concat(-r*s,"px)");var c=this.state.guides,i=this.props.guidesOffset||0;this.guideElements.forEach(function(h,f){if(h){var o=c[f]+(i||0);h.style.transform="".concat(p,"(").concat(o*s,"px) translateZ(0px)"),h.style.display=-r+o<0?"none":"block"}})},n.zoomTo=function(r){this.scroll(this.getRulerScrollPos(),r),this.scrollGuides(this.getGuideScrollPos(),r)},n.getElement=function(){return this.managerRef.current},n.getRulerElement=function(){return this.ruler.canvasElement},n.getGuideScrollPos=function(){return this.scrollPos},n.getRulerScrollPos=function(){return this.ruler.getScrollPos()},n.scroll=function(r,s){s===void 0&&(s=this._zoom),this._zoom=s,this.ruler.scroll(r,s)},n.resize=function(r){r===void 0&&(r=this._zoom),this.ruler.resize(r)},n.movePos=function(r){var s=r.datas,p=r.distX,m=r.distY,c=this.props,i=c.type,h=c.snaps,f=c.snapThreshold,o=c.displayDragPos,l=c.digit,a=c.guidesOffset||0,u=this._zoom,g=c.dragPosFormat||function(G){return G},d=i==="horizontal",v=Df(s.matrix,[p,m]),_=s.offsetPos,y=v[0]+_[0],b=v[1]+_[1],w=a*u,C=Math.round(d?b:y)-a,S=parseFloat((C/u).toFixed(l||0)),O=h.slice().sort(function(G,U){return Math.abs(S-G)-Math.abs(S-U)});if(O.length&&Math.abs(O[0]*u-C)<f&&(S=O[0],C=S*u),!s.fromRuler||!this._isFirstMove){if(o){var j=i==="horizontal"?[y,C+w]:[C+w,b];this.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) "+"translate(".concat(j.map(function(G){return"".concat(G,"px")}).join(", "),")"),this.displayElement.innerHTML="".concat(g(S))}var Y=s.target;Y.setAttribute("data-pos",S),Y.style.transform="".concat(this.getTranslateName(),"(").concat(C+a*u,"px)")}return C},n.getTranslateName=function(){return this.props.type==="horizontal"?"translateY":"translateX"},n._startDragScroll=function(r){var s=this,p=this.props.scrollOptions;if(p){var m=r.datas,c=new dP;m.dragScroll=c,c.on("scroll",function(i){var h,f,o=i.container,l=i.direction;(f=(h=s.props).onRequestScroll)===null||f===void 0||f.call(h,{container:o,direction:l})}).on("move",function(i){var h=i.offsetX,f=i.offsetY,o=i.inputEvent;s.gesto.scrollBy(h,f,o.inputEvent,!0)}),c.dragStart(r,{container:p.container})}},n._dragScroll=function(r){var s=this.props.scrollOptions;if(s){var p=r.datas.dragScroll;p.drag(r,s)}},n._endDragScroll=function(r){var s;(s=r.datas.dragScroll)===null||s===void 0||s.dragEnd(),r.datas.dragScroll=null},t.defaultProps={className:"",type:"horizontal",zoom:1,style:{},snapThreshold:5,snaps:[],digit:0,onClickRuler:function(){},onChangeGuides:function(){},onRequestScroll:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(r){return r},defaultGuides:[],lockGuides:!1,showGuides:!0,guideStyle:{},dragGuideStyle:{},guidePosStyle:{},defaultGuidesPos:0},t}(Wp),Ka=function(e,t){return Ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ka(e,t)};function fc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ka(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var $s=function(){return $s=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},$s.apply(this,arguments)};function TP(e,t,n,r){var s=arguments.length,p=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(m=e[c])&&(p=(s<3?m(p):s>3?m(t,n,p):m(t,n))||p);return s>3&&p&&Object.defineProperty(t,n,p),p}var Zp=bP,eg=wP,tg=CP,OP=function(e){fc(t,e);function t(r){var s=e.call(this,r)||this;return s.state={},s.state=s.props,s}var n=t.prototype;return n.render=function(){return zt(xP,$s({ref:zn(this,"guides")},this.state))},t}(lc);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qa=function(){return qa=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},qa.apply(this,arguments)};function EP(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,c=p.length;m<c;m++,s++)r[s]=p[m];return r}var PP=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(pn(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(pn(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=Co(p,function(c){return c.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,EP(p).forEach(function(c){c.listener(r),c.once&&s.off(n,c.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(qa({listener:r},s))},e}(),kP=function(e){fc(t,e);function t(r,s){s===void 0&&(s={});var p=e.call(this)||this;p.containerProvider=null,p.selfElement=null,p._warp=!1;var m={};tg.forEach(function(i){m[JO("on ".concat(i))]=function(h){return p.trigger(i,h)}});var c;return s.warpSelf?(delete s.warpSelf,p._warp=!0,c=r):(c=document.createElement("div"),r.appendChild(c)),p.containerProvider=kf(zt(OP,$s({ref:zn(p,"innerGuides")},m,s)),c),p}var n=t.prototype;return n.setState=function(r,s){this.innerGuides.setState(r,s)},n.forceUpdate=function(r){this.innerGuides.forceUpdate(r)},n.destroy=function(){var r,s=this.selfElement;kf(null,s,this.containerProvider),this._warp||(r=s==null?void 0:s.parentElement)===null||r===void 0||r.removeChild(s),this.selfElement=null,this.innerGuides=null},n.getInnerGuides=function(){return this.innerGuides.guides},t=TP([Sf(eg,function(r,s){r[s]||(r[s]=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var c=this.getInnerGuides();if(!(!c||!c[s]))return c[s].apply(c,p)})}),Sf(Zp,function(r,s){Object.defineProperty(r,s,{get:function(){return this.getInnerGuides().props[s]},set:function(p){var m;this.innerGuides.setState((m={},m[s]=p,m))},enumerable:!0,configurable:!0})})],t),t}(PP),AP=function(e){fc(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(kP);const Bi=[...Zp];Bi.splice(Bi.indexOf("style"),1);const ng={},hc={};Bi.forEach(e=>{hc[e]=function(t){this.$_guides[e]=t}});hc.vueStyle=function(e){this.$_guides.style=e};eg.forEach(e=>{ng[e]=function(...t){return this.$_guides[e](...t)}});const MP={name:"guides",methods:ng,watch:hc,props:[...Bi,"vueStyle"],mounted(){const e={},t=this.$props;Bi.forEach(p=>{const m=t[p];Rp(m)||(e[p]=t[p])});const r=this.$refs.container;e.style=t.vueStyle,e.warpSelf=!0,this.$_guides=new AP(r,e);const s=this.$_guides;tg.forEach(p=>{s.on(p,m=>{this.$emit(p,{...m})})})},beforeUnmount(){this.$_guides.destroy()}},DP={ref:"container"};function RP(e,t,n,r,s,p){return se(),pe("div",DP,null,512)}const IP=ht(MP,[["render",RP]]);const dc=e=>(Zs("data-v-7cc70429"),e=e(),eo(),e),FP=dc(()=>te("svg",{role:"img","aria-label":"minus",focusable:"false","data-icon":"minus","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-minus"},[te("path",{d:"M12.75 12.75H21V11.25H12.75H11.25H3V12.75H11.25H12.75Z",fill:"currentColor"})],-1)),LP=dc(()=>te("svg",{role:"img","aria-label":"add",focusable:"false","data-icon":"add","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-add"},[te("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.25 12.75V21H12.75V12.75H21V11.25H12.75V3H11.25V11.25H3V12.75H11.25Z",fill:"currentColor"})],-1)),BP={class:"dc-layout-scale-bar-item__menu__item--main"},jP=dc(()=>te("hr",null,null,-1)),NP={__name:"scale-bar",setup(e){const t=fe(!1),n=fe(),r=fe([[{type:"showRule",title:"",status:!0}],[{type:"lock",title:"",status:()=>{}},{type:"showRule",title:"",status:()=>{}}],[{type:"size",title:"400%",value:4,status:()=>{}},{type:"size",title:"200%",value:2,status:()=>{}},{type:"size",title:"100%",value:1,status:()=>{}},{type:"size",title:"50%",value:4,status:()=>{}}],[{type:"fullscreen",title:"",status:()=>{}},{type:"fullscreen",title:"",status:()=>{}}]]);function s(){t.value=!t.value}return(p,m)=>{const c=je("popover");return se(),pe("div",{class:"dc-layout-scale-bar",ref_key:"scaleDom",ref:n},[FP,LP,te("span",{class:"dc-layout-scale-bar__percent gda-popover-open",onClick:s}," 32% "),de(c,{dom:n.value,show:t.value},{default:ve(({setSlotRef:i})=>[te("div",{class:"content",ref:h=>i(h)},[(se(!0),pe(Me,null,gt(r.value,(h,f)=>(se(),pe(Me,{key:f},[(se(!0),pe(Me,null,gt(h,o=>(se(),pe("div",{key:o.type,class:"dc-layout-scale-bar-item__menu__item"},[te("span",BP,ct(o.title),1)]))),128)),jP],64))),128))],512)]),_:1},8,["dom","show"])],512)}}},zP=ht(NP,[["__scopeId","data-v-7cc70429"]]);const $P={components:{Guides:IP,ScaleBar:zP},setup(){const e=fe(),t=fe(),n=fe(),r=fe(null),s=fe(),p=xe("handler"),m=oe(()=>{var u,g,d,v;const l=(g=(u=p.value)==null?void 0:u.canvas)==null?void 0:g.viewportTransform,a=(v=(d=p.value)==null?void 0:d.workareaHandler)==null?void 0:v.workspace;return l&&a?{left:parseInt(l[4]),top:parseInt(l[5]),zoom:l[0],width:a.width,height:a.height}:{left:0,x:1,y:1,top:0}});Ae(()=>m,()=>{o()},{deep:!0}),nt(()=>{o(),window.addEventListener("resize",h),s.value.addEventListener("scroll",f)}),ro(()=>{window.removeEventListener("resize",h)});const c=oe(()=>r.value?[[r.value.left,r.value.left+r.value.width]]:[]),i=oe(()=>r.value?[[r.value.top,r.value.top+r.value.height]]:[]);oe(()=>r.value?r.value.width-r.value.width*(1-r.value.zoom)/2:0);function h(){e.value.resize(),t.value.resize(),m.value&&o()}function f(){const l=s.value.scrollTop,a=s.value.scrollLeft;e.value.scroll(a),t.value.scrollGuides(a),t.value.scroll(l),e.value.scrollGuides(l)}function o(){m.value&&(r.value={left:m.value.left,top:m.value.top,width:m.value.width,height:m.value.height,zoom:m.value.zoom})}return{guides1:e,guides2:t,horRange:c,verRange:i,shell:n,shellPoi:r,container:s,textFormat(l){if(r.value){if(l==r.value.left)return 0;if(l==r.value.left+r.value.width)return r.value.width;if(l>=r.value.left&&l<=r.value.left+r.value.width)return l-r.value.left;if(l<=r.value.left)return Math.abs(l-r.value.left);if(l>=r.value.left+r.value.width)return l-r.value.width}return""},verTextFormat(l){if(r.value){if(l==r.value.top)return 0;if(l==r.value.top+r.value.height)return r.value.height;if(l>=r.value.top&&l<=r.value.top+r.value.height)return l-r.value.top;if(l<=r.value.top)return Math.abs(l-r.value.top);if(l>=r.value.top+r.value.height)return l-r.value.top}return""},DragPosFormat(l){return console.log("value",l),l}}}},HP={class:"main"},UP={class:"ruler horizontal"},WP={class:"ruler vertical"},YP={class:"editor-container",ref:"container"},XP={class:"editor-shell-wrap",ref:"shell"},VP={class:"edit-bottom"};function GP(e,t,n,r,s,p){const m=je("Guides"),c=je("ScaleBar");return se(),pe("div",HP,[te("div",{class:"box",onClick:t[0]||(t[0]=(...i)=>e.onRestore&&e.onRestore(...i)),ref:"box"},null,512),te("div",UP,[de(m,{ref:"guides1",type:"horizontal",direction:"start",textAlign:"right",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[0,-8],selectedRangesTextOffset:[0,-8],longLineSize:5,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",defaultPixelScale:1,scrollPos:20,selectedRangesText:!0,textColor:"#7f8792",selectedRangesTextColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,markColor:"red",segment:2,displayDragPos:!1,rulerStyle:{left:"10px",width:"calc(100% - 20px)",height:"20px"}},null,8,["zoom","rulerStyle"])]),te("div",WP,[de(m,{ref:"guides2",type:"vertical",direction:"start",textAlign:"right",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[-8,0],selectedRangesTextOffset:[-8,0],longLineSize:5,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",selectedRangesText:!0,textColor:"#7f8792",selectedRangesTextColor:"red",markColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,segment:1,displayDragPos:!0,rulerStyle:{top:"20px",height:"calc(100% - 20px)",width:"20px"}},null,8,["zoom","rulerStyle"])]),te("div",YP,[te("div",XP,[Ee(e.$slots,"canvas",{},void 0,!0)],512)],512),te("div",VP,[de(c)])])}const KP=ht($P,[["render",GP],["__scopeId","data-v-cb9a3b92"]]),qP=[{text:"",type:"design"}];const JP={class:"common-checkbox"},QP=["id"],ZP=["for"],ek={__name:"checkbox",props:{className:{type:String,default:""},initValue:{type:Object,default:()=>({})},typeKey:{type:String,default:""},content:{type:String,default:""},disabled:{type:Boolean,default:!1},activeName:{type:String,default:""},effect:{type:String,default:"dark"},placement:{type:String,default:"bottom"}},setup(e){const t=e,{emit:n}=Fh(),r=oe({get(){return t.initValue[t.typeKey]},set(s){n("change",s)}});return(s,p)=>{const m=je("el-tooltip");return se(),ke(m,{class:"item",effect:e.effect,content:e.content,placement:e.placement},{default:ve(()=>[te("div",JP,[lt(te("input",{type:"checkbox",id:"toggle_"+e.typeKey,"onUpdate:modelValue":p[0]||(p[0]=c=>r.value=c)},null,8,QP),[[n0,r.value]]),te("label",{for:"toggle_"+e.typeKey,class:Se(["switch",[e.className,r.value?"switch-active":"",r.value?e.activeName:"",e.disabled?"switch-disabeld":""]])},[Ee(s.$slots,"default",{},void 0,!0)],10,ZP)])]),_:3},8,["effect","content","placement"])}}},tk=ht(ek,[["__scopeId","data-v-037d29d3"]]);const nk={components:{Checkbox:tk},props:{onChange:{type:Function,default:()=>{}},canvasRef:{type:Object,default:{}},barShow:{type:Array,default:()=>["locked","layer","flip","copy","delete"]},poi:{type:String,default:"bottom"}},computed:{islocked(){return!1}},methods:{myCheck(){},getBarShow(e){return this.barShow.includes(e)},copy(){},handleDelete(){}}},rk={class:"bar"},ik={class:"func-content"},sk={class:"func-content"},ok={class:"func-content"},ak={class:"func-content"},lk={class:"func-content"};function ck(e,t,n,r,s,p){const m=je("el-tooltip"),c=je("Checkbox");return se(),pe("div",rk,[lt(te("div",ik,[de(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:ve(()=>[te("i",{class:"iconfont icon-cengji",onClick:t[0]||(t[0]=cr((...i)=>e.onLayerShow&&e.onLayerShow(...i),["stop"]))})]),_:1},8,["disabled"])],512),[[bt,p.getBarShow("layer")]]),lt(te("div",sk,[de(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:ve(()=>[te("i",{class:"iconfont icon-zuoyoufanzhuan",onClick:t[1]||(t[1]=cr((...i)=>e.handleFlip&&e.handleFlip(...i),["stop"]))})]),_:1},8,["disabled"])],512),[[bt,p.getBarShow("flip")]]),lt(te("div",ok,[de(c,{className:"iconfont icon-unlock",activeName:"icon-suoding_huaban",content:"",initValue:{locked:!1},typeKey:"locked",effect:"dark",placement:"top",onChange:p.myCheck},null,8,["onChange"])],512),[[bt,p.getBarShow("locked")]]),lt(te("div",ak,[de(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:ve(()=>[te("i",{class:"iconfont icon-fuzhi",onClick:t[2]||(t[2]=(...i)=>p.copy&&p.copy(...i))})]),_:1},8,["disabled"])],512),[[bt,p.getBarShow("copy")]]),lt(te("div",lk,[de(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:ve(()=>[te("i",{class:Se(["iconfont icon-delete",p.islocked?"icon_noactive":""]),onClick:t[3]||(t[3]=(...i)=>p.handleDelete&&p.handleDelete(...i))},null,2)]),_:1},8,["disabled"])],512),[[bt,p.getBarShow("delete")]])])}const uk=ht(nk,[["render",ck],["__scopeId","data-v-688426f9"]]),fk=[{material_type:"canvas_size",id:2931,title:"",material:{unit:"px",name:"",width:"1242",height:"2208"}},{material_type:"canvas_size",id:2932,title:" ",material:{unit:"px",name:" ",width:"900",height:"383"}},{material_type:"canvas_size",id:2933,title:"",material:{unit:"px",name:"",width:"500",height:"500"}},{material_type:"canvas_size",id:12425,title:"",material:{unit:"px",name:"",width:"1242",height:"1660"}},{material_type:"canvas_size",id:2934,title:"",material:{unit:"px",name:"",width:"800",height:"800"}},{material_type:"canvas_size",id:2935,title:"",material:{unit:"px",name:"",width:"520",height:"416"}},{material_type:"canvas_size",id:2936,title:"",material:{unit:"px",name:"",width:"1200",height:"675"}},{material_type:"canvas_size",id:2937,title:"",material:{unit:"px",name:"",width:"1200",height:"1920"}},{material_type:"canvas_size",id:2938,title:"",material:{unit:"px",name:"",width:"1920",height:"700"}},{material_type:"canvas_size",id:2939,title:"",material:{unit:"px",name:"",width:"1920",height:"150"}},{material_type:"canvas_size",id:2940,title:" ",material:{unit:"px",name:" ",width:"750",height:"1000"}},{material_type:"canvas_size",id:12427,title:"",material:{unit:"px",name:"",width:"1920",height:"1080"}},{material_type:"canvas_size",id:12428,title:"",material:{unit:"px",name:"",width:"1080",height:"1260"}},{material_type:"canvas_size",id:12426,title:"",material:{unit:"px",name:"",width:"1242",height:"2690"}},{material_type:"canvas_size",id:2941,title:"PPT16:9",material:{unit:"px",name:"PPT16:9",width:"1920",height:"1080"}},{material_type:"canvas_size",id:2942,title:"",material:{unit:"mm",name:"",width:"96",dpi:"300",height:"60"}},{material_type:"canvas_size",id:2949,title:"",material:{unit:"mm",name:"",width:"426",dpi:"300",height:"576"}},{material_type:"canvas_size",id:2948,title:"2m",material:{unit:"cm",name:"2m",width:"80",dpi:"150",height:"200"}},{material_type:"canvas_size",id:2947,title:"1.8m",material:{unit:"cm",name:"1.8m",width:"80",dpi:"150",height:"180"}},{material_type:"canvas_size",id:2946,title:"",material:{unit:"mm",name:"",width:"168",dpi:"300",height:"66"}},{material_type:"canvas_size",id:2945,title:"",material:{unit:"mm",name:"",width:"206",dpi:"300",height:"86"}},{material_type:"canvas_size",id:2944,title:"",material:{unit:"mm",name:"",width:"291",dpi:"300",height:"216"}},{material_type:"canvas_size",id:2943,title:"",material:{unit:"mm",name:"",width:"426",dpi:"300",height:"291"}},{material_type:"canvas_size",id:2950,title:"A3",material:{unit:"mm",name:"A3",width:"291",dpi:"300",height:"420"}},{material_type:"canvas_size",id:2951,title:"A4",material:{unit:"mm",name:"A4",width:"210",dpi:"300",height:"297"}},{material_type:"canvas_size",id:2952,title:"A5",material:{unit:"mm",name:"A5",width:"148",dpi:"300",height:"210"}}];const vr=e=>(Zs("data-v-743e5cd9"),e=e(),eo(),e),hk={class:"workspace-size"},dk={class:"size-header"},pk=vr(()=>te("span",null,"",-1)),gk={class:"header_toolbar"},vk={class:"custom-size"},mk={class:"input-number-group"},_k={class:"input-number",type:"number"},yk={class:"input-number",type:"number"},bk={class:"input-number-group__suffix"},wk=vr(()=>te("button",{type:"button"},[te("i",{class:"iconfont icon-link-outline"})],-1)),Ck={type:"button",class:"btn-px"},Sk=vr(()=>te("span",{class:"dbu-resize-panel__unit-select__text"},"px",-1)),xk={class:"unit-menu-list"},Tk={class:"unit-menu-item"},Ok={class:"unit-menu-item-select"},Ek=vr(()=>te("div",{class:"unit-menu-item"},[te("div",null,"cm()")],-1)),Pk=vr(()=>te("div",{class:"unit-menu-item"},[te("div",null,"mm()")],-1)),kk={class:"size-body"},Ak={class:"size-list"},Mk={class:"size-item size-item-select"},Dk=vr(()=>te("div",{class:"size-name"},"",-1)),Rk={class:"size-name"},Ik={class:"size-info"},Fk=vr(()=>te("span",{class:"m03"},"",-1)),Lk={class:"m03"},Bk={__name:"workspace-size",setup(e){const t=fe(fk),n=fe(),r=fe();return(s,p)=>{const m=je("el-input"),c=je("el-tooltip"),i=je("el-icon"),h=je("el-popover");return se(),pe("div",hk,[te("div",dk,[te("div",{class:"header_back",onClick:p[0]||(p[0]=f=>s.$emit("back"))},[de(B(xd),{style:{width:"16px",height:"16px"}}),pk]),te("div",gk,[te("div",vk,[te("div",mk,[te("div",_k,[de(m,{modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=f=>n.value=f)},null,8,["modelValue"])]),te("div",yk,[de(m,{modelValue:r.value,"onUpdate:modelValue":p[2]||(p[2]=f=>r.value=f)},null,8,["modelValue"])]),te("div",bk,[de(c,{class:"item",effect:"dark",content:"",placement:"top"},{default:ve(()=>[wk]),_:1})])]),de(h,{placement:"bottom-start","popper-class":"unit-menu",width:200,offset:2,trigger:"hover","show-arrow":!1},{reference:ve(()=>[te("button",Ck,[Sk,de(i,{size:12},{default:ve(()=>[de(B(Cy))]),_:1})])]),default:ve(()=>[te("div",xk,[te("div",Tk,[te("div",Ok,[Ai(" px() "),de(i,{style:{width:"1em",height:"1em"}},{default:ve(()=>[de(B(Xo))]),_:1})])]),Ek,Pk])]),_:1})])])]),te("div",kk,[te("div",Ak,[te("div",Mk,[de(i,{style:{width:"1em",height:"1em"}},{default:ve(()=>[de(B(Xo))]),_:1}),Dk]),(se(!0),pe(Me,null,gt(t.value,(f,o)=>(se(),pe("div",{class:"size-item",key:o},[lt(de(i,{style:{width:"1em",height:"1em"}},{default:ve(()=>[de(B(Xo))]),_:1},512),[[bt,!1]]),te("div",Rk,ct(f.title),1),te("div",Ik,[te("span",null,ct(f.material.width),1),Fk,te("span",null,ct(f.material.height),1),te("span",Lk,ct(f.material.unit),1)])]))),128))])])])}}},jk=ht(Bk,[["__scopeId","data-v-743e5cd9"]]);const Nk={components:{Bar:uk,WorkspaceSize:jk},setup(){const e=fe(qP),t=fe("design"),n=fe(!1);return{headtool:e,sizeShow:n,getActiveClass(r){return Array.isArray(r.type)?r.type.includes(t.value)?"tabActive":"":r.type==t.value?"tabActive":""},selectTabs(r){t.value=r.type},getActiveTab(r){return r.type==t.value}}}},rg=e=>(Zs("data-v-f5dcd34d"),e=e(),eo(),e),zk={class:"editor-props-panel"},$k={class:"tab-panel-header"},Hk={class:"tab-panel-block__header"},Uk=["onClick"],Wk={class:"tab-button"},Yk={class:"tab-panel-bloack_content"},Xk={class:"tab-panel"},Vk={class:"tab-scrollbar__container"},Gk={class:"panel-block"},Kk=rg(()=>te("div",{class:"panel-block__header"},[te("div",{class:"panel-block__header-title"},"")],-1)),qk={class:"panel-block__content"},Jk={class:"gda-space-item"},Qk=rg(()=>te("div",{class:"panel-row"},[te("div",{class:"panel-row__label"},""),te("div",{class:"panel-row__content"},"900  3300 px")],-1)),Zk={class:"gda-space-item"},eA={class:"panel-row"},tA={class:"panel-row__content"},nA=Sm('<div class="panel-block" data-v-f5dcd34d><div class="panel-block__header" data-v-f5dcd34d><div class="panel-block__header-title" data-v-f5dcd34d></div></div><div class="panel-block__content" data-v-f5dcd34d><div class="gda-space-item" data-v-f5dcd34d><div class="gda-space-item" data-v-f5dcd34d><div class="panel-row" data-v-f5dcd34d><div class="panel-row__content" data-v-f5dcd34d><button class="right-canvas-resize-btn" data-v-f5dcd34d></button></div></div></div></div></div></div><div class="panel-block" data-v-f5dcd34d><div class="panel-block__header" data-v-f5dcd34d><div class="panel-block__header-title" data-v-f5dcd34d></div><div class="panel-block__header-action" data-v-f5dcd34d><div class="popup" data-v-f5dcd34d><div class="swatch--shape-round" data-v-f5dcd34d></div></div></div></div></div>',2);function rA(e,t,n,r,s,p){const m=je("Bar"),c=je("workspace-size");return se(),pe("div",zk,[te("div",$k,[te("div",Hk,[(se(!0),pe(Me,null,gt(r.headtool,i=>lt((se(),pe("div",{key:i.text,onClick:h=>r.selectTabs(i)},[te("button",Wk,[te("div",{class:Se(["tab-content",r.getActiveClass(i)])},ct(i.text),3)])],8,Uk)),[[bt,r.getActiveTab(i)]])),128))]),te("div",Yk,[de(m)])]),te("div",Xk,[te("div",Vk,[te("div",Gk,[Kk,te("div",qk,[te("div",Jk,[Qk,te("div",Zk,[te("div",eA,[te("div",tA,[te("button",{class:"right-canvas-resize-btn",onClick:t[0]||(t[0]=i=>r.sizeShow=!0)},"  ")])])])])])]),nA])]),de(gn,{name:"anime"},{default:ve(()=>[r.sizeShow?(se(),ke(c,{key:0,onBack:t[1]||(t[1]=i=>r.sizeShow=!1)})):Ie("",!0)]),_:1})])}const iA=ht(Nk,[["render",rA],["__scopeId","data-v-f5dcd34d"]]);const sA={},oA={class:"header_nav"},aA=te("div",{class:"logo"},null,-1),lA=te("div",{class:"starfish-link"},[te("a",{href:"https://github.com/haixin-fang/vue-design-editor",target:"_black"},[te("i",{class:"iconfont icon-GitHub"})])],-1),cA=[aA,lA];function uA(e,t){return se(),pe("div",oA,cA)}const fA=ht(sA,[["render",uA]]);let fs;const hA=new Uint8Array(16);function dA(){if(!fs&&(fs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!fs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fs(hA)}const at=[];for(let e=0;e<256;++e)at.push((e+256).toString(16).slice(1));function pA(e,t=0){return at[e[t+0]]+at[e[t+1]]+at[e[t+2]]+at[e[t+3]]+"-"+at[e[t+4]]+at[e[t+5]]+"-"+at[e[t+6]]+at[e[t+7]]+"-"+at[e[t+8]]+at[e[t+9]]+"-"+at[e[t+10]]+at[e[t+11]]+at[e[t+12]]+at[e[t+13]]+at[e[t+14]]+at[e[t+15]]}const gA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),If={randomUUID:gA};function pc(e,t,n){if(If.randomUUID&&!t&&!e)return If.randomUUID();e=e||{};const r=e.random||(e.rng||dA)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return pA(r)}var we={};const vA={},mA=Object.freeze(Object.defineProperty({__proto__:null,default:vA},Symbol.toStringTag,{value:"Module"})),ua=$T(mA);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=ua,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=ua.implForWrapper,t.nodeCanvas=ua.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function c(a,u){if(this.__eventListeners[a]){var g=this.__eventListeners[a];u?g[g.indexOf(u)]=!1:t.util.array.fill(g,!1)}}function i(a,u){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in a)this.on(g,a[g]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(u);return this}function h(a,u){var g=(function(){u.apply(this,arguments),this.off(a,g)}).bind(this);this.on(a,g)}function f(a,u){if(arguments.length===1)for(var g in a)h.call(this,g,a[g]);else h.call(this,a,u);return this}function o(a,u){if(!this.__eventListeners)return this;if(arguments.length===0)for(a in this.__eventListeners)c.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in a)c.call(this,g,a[g]);else c.call(this,a,u);return this}function l(a,u){if(!this.__eventListeners)return this;var g=this.__eventListeners[a];if(!g)return this;for(var d=0,v=g.length;d<v;d++)g[d]&&g[d].call(this,u||{});return this.__eventListeners[a]=g.filter(function(_){return _!==!1}),this}t.Observable={fire:l,on:i,once:f,off:o}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var c=0,i=arguments.length;c<i;c++)this._onObjectAdded(arguments[c]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(c,i,h){var f=this._objects;return h?f[i]=c:f.splice(i,0,c),this._onObjectAdded&&this._onObjectAdded(c),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var c=this._objects,i,h=!1,f=0,o=arguments.length;f<o;f++)i=c.indexOf(arguments[f]),i!==-1&&(h=!0,c.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(c,i){for(var h=this.getObjects(),f=0,o=h.length;f<o;f++)c.call(i,h[f],f,h);return this},getObjects:function(c){return typeof c>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===c})},item:function(c){return this._objects[c]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(c,i){return this._objects.indexOf(c)>-1?!0:i?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(c,!0)}):!1},complexity:function(){return this._objects.reduce(function(c,i){return c+=i.complexity?i.complexity():0,c},0)}},t.CommonMethods={_setOptions:function(c){for(var i in c)this.set(i,c[i])},_initGradient:function(c,i){c&&c.colorStops&&!(c instanceof t.Gradient)&&this.set(i,new t.Gradient(c))},_initPattern:function(c,i,h){c&&c.source&&!(c instanceof t.Pattern)?this.set(i,new t.Pattern(c,h)):h&&h()},_setObject:function(c){for(var i in c)this._set(i,c[i])},set:function(c,i){return typeof c=="object"?this._setObject(c):this._set(c,i),this},_set:function(c,i){this[c]=i},toggle:function(c){var i=this.get(c);return typeof i=="boolean"&&this.set(c,!i),this},get:function(c){return this[c]}},function(c){var i=Math.sqrt,h=Math.atan2,f=Math.pow,o=Math.PI/180,l=Math.PI/2;t.util={cos:function(a){if(a===0)return 1;a<0&&(a=-a);var u=a/l;switch(u){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(a===0)return 0;var u=a/l,g=1;switch(a<0&&(g=-1),u){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(a)},removeFromArray:function(a,u){var g=a.indexOf(u);return g!==-1&&a.splice(g,1),a},getRandomInt:function(a,u){return Math.floor(Math.random()*(u-a+1))+a},degreesToRadians:function(a){return a*o},radiansToDegrees:function(a){return a/o},rotatePoint:function(a,u,g){var d=new t.Point(a.x-u.x,a.y-u.y),v=t.util.rotateVector(d,g);return new t.Point(v.x,v.y).addEquals(u)},rotateVector:function(a,u){var g=t.util.sin(u),d=t.util.cos(u),v=a.x*d-a.y*g,_=a.x*g+a.y*d;return{x:v,y:_}},createVector:function(a,u){return new t.Point(u.x-a.x,u.y-a.y)},calcAngleBetweenVectors:function(a,u){return Math.acos((a.x*u.x+a.y*u.y)/(Math.hypot(a.x,a.y)*Math.hypot(u.x,u.y)))},getHatVector:function(a){return new t.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,u,g){var d=t.util.createVector(a,u),v=t.util.createVector(a,g),_=t.util.calcAngleBetweenVectors(d,v),y=t.util.calcAngleBetweenVectors(t.util.rotateVector(d,_),v),b=_*(y===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(d,b)),angle:_}},projectStrokeOnPoints:function(a,u,g){var d=[],v=u.strokeWidth/2,_=u.strokeUniform?new t.Point(1/u.scaleX,1/u.scaleY):new t.Point(1,1),y=function(b){var w=v/Math.hypot(b.x,b.y);return new t.Point(b.x*w*_.x,b.y*w*_.y)};return a.length<=1||a.forEach(function(b,w){var C=new t.Point(b.x,b.y),S,O;w===0?(O=a[w+1],S=g?y(t.util.createVector(O,C)).addEquals(C):a[a.length-1]):w===a.length-1?(S=a[w-1],O=g?y(t.util.createVector(S,C)).addEquals(C):a[0]):(S=a[w-1],O=a[w+1]);var j=t.util.getBisector(C,S,O),Y=j.vector,G=j.angle,U,ee;if(u.strokeLineJoin==="miter"&&(U=-v/Math.sin(G/2),ee=new t.Point(Y.x*U*_.x,Y.y*U*_.y),Math.hypot(ee.x,ee.y)/v<=u.strokeMiterLimit)){d.push(C.add(ee)),d.push(C.subtract(ee));return}U=-v*Math.SQRT2,ee=new t.Point(Y.x*U*_.x,Y.y*U*_.y),d.push(C.add(ee)),d.push(C.subtract(ee))}),d},transformPoint:function(a,u,g){return g?new t.Point(u[0]*a.x+u[2]*a.y,u[1]*a.x+u[3]*a.y):new t.Point(u[0]*a.x+u[2]*a.y+u[4],u[1]*a.x+u[3]*a.y+u[5])},makeBoundingBoxFromPoints:function(a,u){if(u)for(var g=0;g<a.length;g++)a[g]=t.util.transformPoint(a[g],u);var d=[a[0].x,a[1].x,a[2].x,a[3].x],v=t.util.array.min(d),_=t.util.array.max(d),y=_-v,b=[a[0].y,a[1].y,a[2].y,a[3].y],w=t.util.array.min(b),C=t.util.array.max(b),S=C-w;return{left:v,top:w,width:y,height:S}},invertTransform:function(a){var u=1/(a[0]*a[3]-a[1]*a[2]),g=[u*a[3],-u*a[1],-u*a[2],u*a[0]],d=t.util.transformPoint({x:a[4],y:a[5]},g,!0);return g[4]=-d.x,g[5]=-d.y,g},toFixed:function(a,u){return parseFloat(Number(a).toFixed(u))},parseUnit:function(a,u){var g=/\D{0,2}$/.exec(a),d=parseFloat(a);switch(u||(u=t.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return d*t.DPI/25.4;case"cm":return d*t.DPI/2.54;case"in":return d*t.DPI;case"pt":return d*t.DPI/72;case"pc":return d*t.DPI/72*12;case"em":return d*u;default:return d}},falseFunction:function(){return!1},getKlass:function(a,u){return a=t.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),t.util.resolveNamespace(u)[a]},getSvgAttributes:function(a){var u=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":u=u.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":u=u.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":u=u.concat(["offset","stop-color","stop-opacity"]);break}return u},resolveNamespace:function(a){if(!a)return t;var u=a.split("."),g=u.length,d,v=c||t.window;for(d=0;d<g;++d)v=v[u[d]];return v},loadImage:function(a,u,g,d){if(!a){u&&u.call(g,a);return}var v=t.util.createImage(),_=function(){u&&u.call(g,v,!1),v=v.onload=v.onerror=null};v.onload=_,v.onerror=function(){t.log("Error loading "+v.src),u&&u.call(g,null,!0),v=v.onload=v.onerror=null},a.indexOf("data")!==0&&d!==void 0&&d!==null&&(v.crossOrigin=d),a.substring(0,14)==="data:image/svg"&&(v.onload=null,t.util.loadImageInDom(v,_)),v.src=a},loadImageInDom:function(a,u){var g=t.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(a),t.document.querySelector("body").appendChild(g),a.onload=function(){u(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(a,u,g,d){a=a||[];var v=[],_=0,y=a.length;function b(){++_===y&&u&&u(v.filter(function(w){return w}))}if(!y){u&&u(v);return}a.forEach(function(w,C){if(!w||!w.type){b();return}var S=t.util.getKlass(w.type,g);S.fromObject(w,function(O,j){j||(v[C]=O),d&&d(w,O,j),b()})})},enlivenObjectEnlivables:function(a,u,g){var d=t.Object.ENLIVEN_PROPS.filter(function(v){return!!a[v]});t.util.enlivenObjects(d.map(function(v){return a[v]}),function(v){var _={};d.forEach(function(y,b){_[y]=v[b],u&&(u[y]=v[b])}),g&&g(_)})},enlivenPatterns:function(a,u){a=a||[];function g(){++v===_&&u&&u(d)}var d=[],v=0,_=a.length;if(!_){u&&u(d);return}a.forEach(function(y,b){y&&y.source?new t.Pattern(y,function(w){d[b]=w,g()}):(d[b]=y,g())})},groupSVGElements:function(a,u,g){var d;return a&&a.length===1?(typeof g<"u"&&(a[0].sourcePath=g),a[0]):(u&&(u.width&&u.height?u.centerPoint={x:u.width/2,y:u.height/2}:(delete u.width,delete u.height)),d=new t.Group(a,u),typeof g<"u"&&(d.sourcePath=g),d)},populateWithProperties:function(a,u,g){if(g&&Array.isArray(g))for(var d=0,v=g.length;d<v;d++)g[d]in a&&(u[g[d]]=a[g[d]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(a){var u=t.util.createCanvasElement();return u.width=a.width,u.height=a.height,u.getContext("2d").drawImage(a,0,0),u},toDataURL:function(a,u,g){return a.toDataURL("image/"+u,g)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(a,u,g){return[a[0]*u[0]+a[2]*u[1],a[1]*u[0]+a[3]*u[1],a[0]*u[2]+a[2]*u[3],a[1]*u[2]+a[3]*u[3],g?0:a[0]*u[4]+a[2]*u[5]+a[4],g?0:a[1]*u[4]+a[3]*u[5]+a[5]]},qrDecompose:function(a){var u=h(a[1],a[0]),g=f(a[0],2)+f(a[1],2),d=i(g),v=(a[0]*a[3]-a[2]*a[1])/d,_=h(a[0]*a[2]+a[1]*a[3],g);return{angle:u/o,scaleX:d,scaleY:v,skewX:_/o,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return t.iMatrix.concat();var u=t.util.degreesToRadians(a.angle),g=t.util.cos(u),d=t.util.sin(u);return[g,d,-d,g,0,0]},calcDimensionsMatrix:function(a){var u=typeof a.scaleX>"u"?1:a.scaleX,g=typeof a.scaleY>"u"?1:a.scaleY,d=[a.flipX?-u:u,0,0,a.flipY?-g:g,0,0],v=t.util.multiplyTransformMatrices,_=t.util.degreesToRadians;return a.skewX&&(d=v(d,[1,0,Math.tan(_(a.skewX)),1],!0)),a.skewY&&(d=v(d,[1,Math.tan(_(a.skewY)),0,1],!0)),d},composeMatrix:function(a){var u=[1,0,0,1,a.translateX||0,a.translateY||0],g=t.util.multiplyTransformMatrices;return a.angle&&(u=g(u,t.util.calcRotateMatrix(a))),(a.scaleX!==1||a.scaleY!==1||a.skewX||a.skewY||a.flipX||a.flipY)&&(u=g(u,t.util.calcDimensionsMatrix(a))),u},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,u,g,d){d>0&&(u>d?u-=d:u=0,g>d?g-=d:g=0);var v=!0,_,y,b=a.getImageData(u,g,d*2||1,d*2||1),w=b.data.length;for(_=3;_<w&&(y=b.data[_],v=y<=0,v!==!1);_+=4);return b=null,v},parsePreserveAspectRatioAttribute:function(a){var u="meet",g="Mid",d="Mid",v=a.split(" "),_;return v&&v.length&&(u=v.pop(),u!=="meet"&&u!=="slice"?(_=u,u="meet"):v.length&&(_=v.pop())),g=_!=="none"?_.slice(1,4):"none",d=_!=="none"?_.slice(5,8):"none",{meetOrSlice:u,alignX:g,alignY:d}},clearFabricFontCache:function(a){a=(a||"").toLowerCase(),a?t.charWidthsCache[a]&&delete t.charWidthsCache[a]:t.charWidthsCache={}},limitDimsByArea:function(a,u){var g=Math.sqrt(u*a),d=Math.floor(u/g);return{x:Math.floor(g),y:d}},capValue:function(a,u,g){return Math.max(a,Math.min(u,g))},findScaleToFit:function(a,u){return Math.min(u.width/a.width,u.height/a.height)},findScaleToCover:function(a,u){return Math.max(u.width/a.width,u.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(u){return t.util.toFixed(u,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,u){var g=t.util.invertTransform(u),d=t.util.multiplyTransformMatrices(g,a.calcOwnMatrix());t.util.applyTransformToObject(a,d)},addTransformToObject:function(a,u){t.util.applyTransformToObject(a,t.util.multiplyTransformMatrices(u,a.calcOwnMatrix()))},applyTransformToObject:function(a,u){var g=t.util.qrDecompose(u),d=new t.Point(g.translateX,g.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",g.scaleX),a.set("scaleY",g.scaleY),a.skewX=g.skewX,a.skewY=g.skewY,a.angle=g.angle,a.setPositionByOrigin(d,"center","center")},sizeAfterTransform:function(a,u,g){var d=a/2,v=u/2,_=[{x:-d,y:-v},{x:d,y:-v},{x:-d,y:v},{x:d,y:v}],y=t.util.calcDimensionsMatrix(g),b=t.util.makeBoundingBoxFromPoints(_,y);return{x:b.width,y:b.height}},mergeClipPaths:function(a,u){var g=a,d=u;g.inverted&&!d.inverted&&(g=u,d=a),t.util.applyTransformToObject(d,t.util.multiplyTransformMatrices(t.util.invertTransform(g.calcTransformMatrix()),d.calcTransformMatrix()));var v=g.inverted&&d.inverted;return v&&(g.inverted=d.inverted=!1),new t.Group([g],{clipPath:d,inverted:v})},hasStyleChanged:function(a,u,g){return g=g||!1,a.fill!==u.fill||a.stroke!==u.stroke||a.strokeWidth!==u.strokeWidth||a.fontSize!==u.fontSize||a.fontFamily!==u.fontFamily||a.fontWeight!==u.fontWeight||a.fontStyle!==u.fontStyle||a.textBackgroundColor!==u.textBackgroundColor||a.deltaY!==u.deltaY||g&&(a.overline!==u.overline||a.underline!==u.underline||a.linethrough!==u.linethrough)},stylesToArray:function(g,u){for(var g=t.util.object.clone(g,!0),d=u.split(`
`),v=-1,_={},y=[],b=0;b<d.length;b++){if(!g[b]){v+=d[b].length;continue}for(var w=0;w<d[b].length;w++){v++;var C=g[b][w];if(C&&Object.keys(C).length>0){var S=t.util.hasStyleChanged(_,C,!0);S?y.push({start:v,end:v+1,style:C}):y[y.length-1].end++}_=C||{}}}return y},stylesFromArray:function(a,u){if(!Array.isArray(a))return a;for(var g=u.split(`
`),d=-1,v=0,_={},y=0;y<g.length;y++)for(var b=0;b<g[y].length;b++)d++,a[v]&&a[v].start<=d&&d<a[v].end&&(_[y]=_[y]||{},_[y][b]=Object.assign({},a[v].style),d===a[v].end-1&&v++);return _}}}(e),function(){var c=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function f(x,D,R,I,Q,M,E,H,A,F,z){var K=t.util.cos(x),ne=t.util.sin(x),k=t.util.cos(D),T=t.util.sin(D),P=R*Q*k-I*M*T+E,L=I*Q*k+R*M*T+H,$=F+A*(-R*Q*ne-I*M*K),N=z+A*(-I*Q*ne+R*M*K),W=P+A*(R*Q*T+I*M*k),q=L+A*(I*Q*T-R*M*k);return["C",$,N,W,q,P,L]}function o(x,D,R,I,Q,M,E){var H=Math.PI,A=E*H/180,F=t.util.sin(A),z=t.util.cos(A),K=0,ne=0;R=Math.abs(R),I=Math.abs(I);var k=-z*x*.5-F*D*.5,T=-z*D*.5+F*x*.5,P=R*R,L=I*I,$=T*T,N=k*k,W=P*L-P*$-L*N,q=0;if(W<0){var re=Math.sqrt(1-W/(P*L));R*=re,I*=re}else q=(Q===M?-1:1)*Math.sqrt(W/(P*$+L*N));var Z=q*R*T/I,V=-q*I*k/R,ae=z*Z-F*V+x*.5,he=F*Z+z*V+D*.5,ge=l(1,0,(k-Z)/R,(T-V)/I),me=l((k-Z)/R,(T-V)/I,(-k-Z)/R,(-T-V)/I);M===0&&me>0?me-=2*H:M===1&&me<0&&(me+=2*H);for(var _e=Math.ceil(Math.abs(me/H*2)),be=[],Oe=me/_e,Ge=8/3*Math.sin(Oe/4)*Math.sin(Oe/4)/Math.sin(Oe/2),mt=ge+Oe,pt=0;pt<_e;pt++)be[pt]=f(ge,mt,z,F,R,I,ae,he,Ge,K,ne),K=be[pt][5],ne=be[pt][6],ge=mt,mt+=Oe;return be}function l(x,D,R,I){var Q=Math.atan2(D,x),M=Math.atan2(I,R);return M>=Q?M-Q:2*Math.PI-(Q-M)}function a(x,D,R,I,Q,M,E,H){var A;if(t.cachesBoundsOfCurve&&(A=c.call(arguments),t.boundsOfCurveCache[A]))return t.boundsOfCurveCache[A];var F=Math.sqrt,z=Math.min,K=Math.max,ne=Math.abs,k=[],T=[[],[]],P,L,$,N,W,q,re,Z;L=6*x-12*R+6*Q,P=-3*x+9*R-9*Q+3*E,$=3*R-3*x;for(var V=0;V<2;++V){if(V>0&&(L=6*D-12*I+6*M,P=-3*D+9*I-9*M+3*H,$=3*I-3*D),ne(P)<1e-12){if(ne(L)<1e-12)continue;N=-$/L,0<N&&N<1&&k.push(N);continue}re=L*L-4*$*P,!(re<0)&&(Z=F(re),W=(-L+Z)/(2*P),0<W&&W<1&&k.push(W),q=(-L-Z)/(2*P),0<q&&q<1&&k.push(q))}for(var ae,he,ge=k.length,me=ge,_e;ge--;)N=k[ge],_e=1-N,ae=_e*_e*_e*x+3*_e*_e*N*R+3*_e*N*N*Q+N*N*N*E,T[0][ge]=ae,he=_e*_e*_e*D+3*_e*_e*N*I+3*_e*N*N*M+N*N*N*H,T[1][ge]=he;T[0][me]=x,T[1][me]=D,T[0][me+1]=E,T[1][me+1]=H;var be=[{x:z.apply(null,T[0]),y:z.apply(null,T[1])},{x:K.apply(null,T[0]),y:K.apply(null,T[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[A]=be),be}function u(x,D,R){for(var I=R[1],Q=R[2],M=R[3],E=R[4],H=R[5],A=R[6],F=R[7],z=o(A-x,F-D,I,Q,E,H,M),K=0,ne=z.length;K<ne;K++)z[K][1]+=x,z[K][2]+=D,z[K][3]+=x,z[K][4]+=D,z[K][5]+=x,z[K][6]+=D;return z}function g(x){var D=0,R=0,I=x.length,Q=0,M=0,E,H,A,F=[],z,K,ne;for(H=0;H<I;++H){switch(A=!1,E=x[H].slice(0),E[0]){case"l":E[0]="L",E[1]+=D,E[2]+=R;case"L":D=E[1],R=E[2];break;case"h":E[1]+=D;case"H":E[0]="L",E[2]=R,D=E[1];break;case"v":E[1]+=R;case"V":E[0]="L",R=E[1],E[1]=D,E[2]=R;break;case"m":E[0]="M",E[1]+=D,E[2]+=R;case"M":D=E[1],R=E[2],Q=E[1],M=E[2];break;case"c":E[0]="C",E[1]+=D,E[2]+=R,E[3]+=D,E[4]+=R,E[5]+=D,E[6]+=R;case"C":K=E[3],ne=E[4],D=E[5],R=E[6];break;case"s":E[0]="S",E[1]+=D,E[2]+=R,E[3]+=D,E[4]+=R;case"S":z==="C"?(K=2*D-K,ne=2*R-ne):(K=D,ne=R),D=E[3],R=E[4],E[0]="C",E[5]=E[3],E[6]=E[4],E[3]=E[1],E[4]=E[2],E[1]=K,E[2]=ne,K=E[3],ne=E[4];break;case"q":E[0]="Q",E[1]+=D,E[2]+=R,E[3]+=D,E[4]+=R;case"Q":K=E[1],ne=E[2],D=E[3],R=E[4];break;case"t":E[0]="T",E[1]+=D,E[2]+=R;case"T":z==="Q"?(K=2*D-K,ne=2*R-ne):(K=D,ne=R),E[0]="Q",D=E[1],R=E[2],E[1]=K,E[2]=ne,E[3]=D,E[4]=R;break;case"a":E[0]="A",E[6]+=D,E[7]+=R;case"A":A=!0,F=F.concat(u(D,R,E)),D=E[6],R=E[7];break;case"z":case"Z":D=Q,R=M;break}A||F.push(E),z=E[0]}return F}function d(x,D,R,I){return Math.sqrt((R-x)*(R-x)+(I-D)*(I-D))}function v(x){return x*x*x}function _(x){return 3*x*x*(1-x)}function y(x){return 3*x*(1-x)*(1-x)}function b(x){return(1-x)*(1-x)*(1-x)}function w(x,D,R,I,Q,M,E,H){return function(A){var F=v(A),z=_(A),K=y(A),ne=b(A);return{x:E*F+Q*z+R*K+x*ne,y:H*F+M*z+I*K+D*ne}}}function C(x,D,R,I,Q,M,E,H){return function(A){var F=1-A,z=3*F*F*(R-x)+6*F*A*(Q-R)+3*A*A*(E-Q),K=3*F*F*(I-D)+6*F*A*(M-I)+3*A*A*(H-M);return Math.atan2(K,z)}}function S(x){return x*x}function O(x){return 2*x*(1-x)}function j(x){return(1-x)*(1-x)}function Y(x,D,R,I,Q,M){return function(E){var H=S(E),A=O(E),F=j(E);return{x:Q*H+R*A+x*F,y:M*H+I*A+D*F}}}function G(x,D,R,I,Q,M){return function(E){var H=1-E,A=2*H*(R-x)+2*E*(Q-R),F=2*H*(I-D)+2*E*(M-I);return Math.atan2(F,A)}}function U(x,D,R){var I={x:D,y:R},Q,M=0,E;for(E=1;E<=100;E+=1)Q=x(E/100),M+=d(I.x,I.y,Q.x,Q.y),I=Q;return M}function ee(x,D){for(var R=0,I=0,Q=x.iterator,M={x:x.x,y:x.y},E,H,A=.01,F=x.angleFinder,z;I<D&&A>1e-4;)E=Q(R),z=R,H=d(M.x,M.y,E.x,E.y),H+I>D?(R-=A,A/=2):(M=E,R+=A,I+=H);return E.angle=F(z),E}function ie(x){for(var D=0,R=x.length,I,Q=0,M=0,E=0,H=0,A=[],F,z,K,ne=0;ne<R;ne++){switch(I=x[ne],z={x:Q,y:M,command:I[0]},I[0]){case"M":z.length=0,E=Q=I[1],H=M=I[2];break;case"L":z.length=d(Q,M,I[1],I[2]),Q=I[1],M=I[2];break;case"C":F=w(Q,M,I[1],I[2],I[3],I[4],I[5],I[6]),K=C(Q,M,I[1],I[2],I[3],I[4],I[5],I[6]),z.iterator=F,z.angleFinder=K,z.length=U(F,Q,M),Q=I[5],M=I[6];break;case"Q":F=Y(Q,M,I[1],I[2],I[3],I[4]),K=G(Q,M,I[1],I[2],I[3],I[4]),z.iterator=F,z.angleFinder=K,z.length=U(F,Q,M),Q=I[3],M=I[4];break;case"Z":case"z":z.destX=E,z.destY=H,z.length=d(Q,M,E,H),Q=E,M=H;break}D+=z.length,A.push(z)}return A.push({length:D,x:Q,y:M}),A}function le(x,D,R){R||(R=ie(x));for(var I=0;D-R[I].length>0&&I<R.length-2;)D-=R[I].length,I++;var Q=R[I],M=D/Q.length,E=Q.command,H=x[I],A;switch(E){case"M":return{x:Q.x,y:Q.y,angle:0};case"Z":case"z":return A=new t.Point(Q.x,Q.y).lerp(new t.Point(Q.destX,Q.destY),M),A.angle=Math.atan2(Q.destY-Q.y,Q.destX-Q.x),A;case"L":return A=new t.Point(Q.x,Q.y).lerp(new t.Point(H[1],H[2]),M),A.angle=Math.atan2(H[2]-Q.y,H[1]-Q.x),A;case"C":return ee(Q,D);case"Q":return ee(Q,D)}}function ce(x){var D=[],R=[],I,Q,M=t.rePathCommand,E="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",H="("+E+")"+t.commaWsp,A="([01])"+t.commaWsp+"?",F=H+"?"+H+"?"+H+A+A+H+"?("+E+")",z=new RegExp(F,"g"),K,ne,k;if(!x||!x.match)return D;k=x.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var T=0,P,L=k.length;T<L;T++){I=k[T],ne=I.slice(1).trim(),R.length=0;var $=I.charAt(0);if(P=[$],$.toLowerCase()==="a")for(var N;N=z.exec(ne);)for(var W=1;W<N.length;W++)R.push(N[W]);else for(;K=M.exec(ne);)R.push(K[0]);for(var W=0,q=R.length;W<q;W++)Q=parseFloat(R[W]),isNaN(Q)||P.push(Q);var re=i[$.toLowerCase()],Z=h[$]||$;if(P.length-1>re)for(var V=1,ae=P.length;V<ae;V+=re)D.push([$].concat(P.slice(V,V+re))),$=Z;else D.push(P)}return D}function X(x,D){var R=[],I,Q=new t.Point(x[0].x,x[0].y),M=new t.Point(x[1].x,x[1].y),E=x.length,H=1,A=0,F=E>2;for(D=D||0,F&&(H=x[2].x<M.x?-1:x[2].x===M.x?0:1,A=x[2].y<M.y?-1:x[2].y===M.y?0:1),R.push(["M",Q.x-H*D,Q.y-A*D]),I=1;I<E;I++){if(!Q.eq(M)){var z=Q.midPointFrom(M);R.push(["Q",Q.x,Q.y,z.x,z.y])}Q=x[I],I+1<x.length&&(M=x[I+1])}return F&&(H=Q.x>x[I-2].x?1:Q.x===x[I-2].x?0:-1,A=Q.y>x[I-2].y?1:Q.y===x[I-2].y?0:-1),R.push(["L",Q.x+H*D,Q.y+A*D]),R}function J(x,D,R){return R&&(D=t.util.multiplyTransformMatrices(D,[1,0,0,1,-R.x,-R.y])),x.map(function(I){for(var Q=I.slice(0),M={},E=1;E<I.length-1;E+=2)M.x=I[E],M.y=I[E+1],M=t.util.transformPoint(M,D),Q[E]=M.x,Q[E+1]=M.y;return Q})}t.util.joinPath=function(x){return x.map(function(D){return D.join(" ")}).join(" ")},t.util.parsePath=ce,t.util.makePathSimpler=g,t.util.getSmoothPathFromPoints=X,t.util.getPathSegmentsInfo=ie,t.util.getBoundsOfCurve=a,t.util.getPointOnPath=le,t.util.transformPath=J}(),function(){var c=Array.prototype.slice;function i(a,u){for(var g=c.call(arguments,2),d=[],v=0,_=a.length;v<_;v++)d[v]=g.length?a[v][u].apply(a[v],g):a[v][u].call(a[v]);return d}function h(a,u){return l(a,u,function(g,d){return g>=d})}function f(a,u){return l(a,u,function(g,d){return g<d})}function o(a,u){for(var g=a.length;g--;)a[g]=u;return a}function l(a,u,g){if(!(!a||a.length===0)){var d=a.length-1,v=u?a[d][u]:a[d];if(u)for(;d--;)g(a[d][u],v)&&(v=a[d][u]);else for(;d--;)g(a[d],v)&&(v=a[d]);return v}}t.util.array={fill:o,invoke:i,min:f,max:h}}(),function(){function c(h,f,o){if(o)if(!t.isLikelyNode&&f instanceof Element)h=f;else if(f instanceof Array){h=[];for(var l=0,a=f.length;l<a;l++)h[l]=c({},f[l],o)}else if(f&&typeof f=="object")for(var u in f)u==="canvas"||u==="group"?h[u]=null:f.hasOwnProperty(u)&&(h[u]=c({},f[u],o));else h=f;else for(var u in f)h[u]=f[u];return h}function i(h,f){return c({},h,f)}t.util.object={extend:c,clone:i},t.util.object.extend(t.util,t.Observable)}(),function(){function c(l){return l.replace(/-+(.)?/g,function(a,u){return u?u.toUpperCase():""})}function i(l,a){return l.charAt(0).toUpperCase()+(a?l.slice(1):l.slice(1).toLowerCase())}function h(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(l){var a=0,u,g=[];for(a=0,u;a<l.length;a++)(u=o(l,a))!==!1&&g.push(u);return g}function o(l,a){var u=l.charCodeAt(a);if(isNaN(u))return"";if(u<55296||u>57343)return l.charAt(a);if(55296<=u&&u<=56319){if(l.length<=a+1)throw"High surrogate without following low surrogate";var g=l.charCodeAt(a+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return l.charAt(a)+l.charAt(a+1)}if(a===0)throw"Low surrogate without preceding high surrogate";var d=l.charCodeAt(a-1);if(55296>d||d>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:c,capitalize:i,escapeXml:h,graphemeSplit:f}}(),function(){var c=Array.prototype.slice,i=function(){},h=function(){for(var u in{toString:1})if(u==="toString")return!1;return!0}(),f=function(u,g,d){for(var v in g)v in u.prototype&&typeof u.prototype[v]=="function"&&(g[v]+"").indexOf("callSuper")>-1?u.prototype[v]=function(_){return function(){var y=this.constructor.superclass;this.constructor.superclass=d;var b=g[_].apply(this,arguments);if(this.constructor.superclass=y,_!=="initialize")return b}}(v):u.prototype[v]=g[v],h&&(g.toString!==Object.prototype.toString&&(u.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(u.prototype.valueOf=g.valueOf))};function o(){}function l(u){for(var g=null,d=this;d.constructor.superclass;){var v=d.constructor.superclass.prototype[u];if(d[u]!==v){g=v;break}d=d.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,c.call(arguments,1)):g.call(this):console.log("tried to callSuper "+u+", method not found in prototype chain",this)}function a(){var u=null,g=c.call(arguments,0);typeof g[0]=="function"&&(u=g.shift());function d(){this.initialize.apply(this,arguments)}d.superclass=u,d.subclasses=[],u&&(o.prototype=u.prototype,d.prototype=new o,u.subclasses.push(d));for(var v=0,_=g.length;v<_;v++)f(d,g[v],u);return d.prototype.initialize||(d.prototype.initialize=i),d.prototype.constructor=d,d.prototype.callSuper=l,d}t.util.createClass=a}(),function(){var c=!!t.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];t.util.addListener=function(f,o,l,a){f&&f.addEventListener(o,l,c?!1:a)},t.util.removeListener=function(f,o,l,a){f&&f.removeEventListener(o,l,c?!1:a)};function h(f){var o=f.changedTouches;return o&&o[0]?o[0]:f}t.util.getPointer=function(f){var o=f.target,l=t.util.getScrollLeftTop(o),a=h(f);return{x:a.clientX+l.left,y:a.clientY+l.top}},t.util.isTouchEvent=function(f){return i.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function c(a,u){var g=a.style;if(!g)return a;if(typeof u=="string")return a.style.cssText+=";"+u,u.indexOf("opacity")>-1?l(a,u.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var d in u)if(d==="opacity")l(a,u[d]);else{var v=d==="float"||d==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":d;g.setProperty(v,u[d])}return a}var i=t.document.createElement("div"),h=typeof i.style.opacity=="string",f=typeof i.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,l=function(a){return a};h?l=function(a,u){return a.style.opacity=u,a}:f&&(l=function(a,u){var g=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(g.zoom=1),o.test(g.filter)?(u=u>=.9999?"":"alpha(opacity="+u*100+")",g.filter=g.filter.replace(o,u)):g.filter+=" alpha(opacity="+u*100+")",a}),t.util.setStyle=c}(),function(){var c=Array.prototype.slice;function i(b){return typeof b=="string"?t.document.getElementById(b):b}var h,f=function(b){return c.call(b,0)};try{h=f(t.document.childNodes)instanceof Array}catch{}h||(f=function(b){for(var w=new Array(b.length),C=b.length;C--;)w[C]=b[C];return w});function o(b,w){var C=t.document.createElement(b);for(var S in w)S==="class"?C.className=w[S]:S==="for"?C.htmlFor=w[S]:C.setAttribute(S,w[S]);return C}function l(b,w){b&&(" "+b.className+" ").indexOf(" "+w+" ")===-1&&(b.className+=(b.className?" ":"")+w)}function a(b,w,C){return typeof w=="string"&&(w=o(w,C)),b.parentNode&&b.parentNode.replaceChild(w,b),w.appendChild(b),w}function u(b){for(var w=0,C=0,S=t.document.documentElement,O=t.document.body||{scrollLeft:0,scrollTop:0};b&&(b.parentNode||b.host)&&(b=b.parentNode||b.host,b===t.document?(w=O.scrollLeft||S.scrollLeft||0,C=O.scrollTop||S.scrollTop||0):(w+=b.scrollLeft||0,C+=b.scrollTop||0),!(b.nodeType===1&&b.style.position==="fixed")););return{left:w,top:C}}function g(b){var w,C=b&&b.ownerDocument,S={left:0,top:0},O={left:0,top:0},j,Y={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!C)return O;for(var G in Y)O[Y[G]]+=parseInt(d(b,G),10)||0;return w=C.documentElement,typeof b.getBoundingClientRect<"u"&&(S=b.getBoundingClientRect()),j=u(b),{left:S.left+j.left-(w.clientLeft||0)+O.left,top:S.top+j.top-(w.clientTop||0)+O.top}}var d;t.document.defaultView&&t.document.defaultView.getComputedStyle?d=function(b,w){var C=t.document.defaultView.getComputedStyle(b,null);return C?C[w]:void 0}:d=function(b,w){var C=b.style[w];return!C&&b.currentStyle&&(C=b.currentStyle[w]),C},function(){var b=t.document.documentElement.style,w="userSelect"in b?"userSelect":"MozUserSelect"in b?"MozUserSelect":"WebkitUserSelect"in b?"WebkitUserSelect":"KhtmlUserSelect"in b?"KhtmlUserSelect":"";function C(O){return typeof O.onselectstart<"u"&&(O.onselectstart=t.util.falseFunction),w?O.style[w]="none":typeof O.unselectable=="string"&&(O.unselectable="on"),O}function S(O){return typeof O.onselectstart<"u"&&(O.onselectstart=null),w?O.style[w]="":typeof O.unselectable=="string"&&(O.unselectable=""),O}t.util.makeElementUnselectable=C,t.util.makeElementSelectable=S}();function v(b){var w=t.jsdomImplForWrapper(b);return w._canvas||w._image}function _(b){if(t.isLikelyNode){var w=t.jsdomImplForWrapper(b);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function y(b,w){b.imageSmoothingEnabled=b.imageSmoothingEnabled||b.webkitImageSmoothingEnabled||b.mozImageSmoothingEnabled||b.msImageSmoothingEnabled||b.oImageSmoothingEnabled,b.imageSmoothingEnabled=w}t.util.setImageSmoothing=y,t.util.getById=i,t.util.toArray=f,t.util.addClass=l,t.util.makeElement=o,t.util.wrapElement=a,t.util.getScrollLeftTop=u,t.util.getElementOffset=g,t.util.getNodeCanvas=v,t.util.cleanUpJsdomNode=_}(),function(){function c(f,o){return f+(/\?/.test(f)?"&":"?")+o}function i(){}function h(f,o){o||(o={});var l=o.method?o.method.toUpperCase():"GET",a=o.onComplete||function(){},u=new t.window.XMLHttpRequest,g=o.body||o.parameters;return u.onreadystatechange=function(){u.readyState===4&&(a(u),u.onreadystatechange=i)},l==="GET"&&(g=null,typeof o.parameters=="string"&&(f=c(f,o.parameters))),u.open(l,f,!0),(l==="POST"||l==="PUT")&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(g),u}t.util.request=h}(),t.log=console.log,t.warn=console.warn,function(){var c=t.util.object.extend,i=t.util.object.clone,h=[];t.util.object.extend(h,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(_){_.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var _=this.filter(function(y){return typeof y.target=="object"&&y.target.canvas===v});return _.forEach(function(y){y.cancel()}),_},cancelByTarget:function(v){var _=this.findAnimationsByTarget(v);return _.forEach(function(y){y.cancel()}),_},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(_){return _.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(_){return _.target===v}):[]}});function f(){return!1}function o(v,_,y,b){return-y*Math.cos(v/b*(Math.PI/2))+y+_}function l(v){v||(v={});var _=!1,y,b=function(){var w=t.runningAnimations.indexOf(y);return w>-1&&t.runningAnimations.splice(w,1)[0]};return y=c(i(v),{cancel:function(){return _=!0,b()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(y),g(function(w){var C=w||+new Date,S=v.duration||500,O=C+S,j,Y=v.onChange||f,G=v.abort||f,U=v.onComplete||f,ee=v.easing||o,ie="startValue"in v?v.startValue.length>0:!1,le="startValue"in v?v.startValue:0,ce="endValue"in v?v.endValue:100,X=v.byValue||(ie?le.map(function(J,x){return ce[x]-le[x]}):ce-le);v.onStart&&v.onStart(),function J(x){j=x||+new Date;var D=j>O?S:j-C,R=D/S,I=ie?le.map(function(M,E){return ee(D,le[E],X[E],S)}):ee(D,le,X,S),Q=Math.abs(ie?(I[0]-le[0])/X[0]:(I-le)/X);if(y.currentValue=ie?I.slice():I,y.completionRate=Q,y.durationRate=R,!_){if(G(I,Q,R)){b();return}if(j>O){y.currentValue=ie?ce.slice():ce,y.completionRate=1,y.durationRate=1,Y(ie?ce.slice():ce,1,1),U(ce,1,1),b();return}else Y(I,Q,R),g(J)}}(C)}),y.cancel}var a=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(v){return t.window.setTimeout(v,1e3/60)},u=t.window.cancelAnimationFrame||t.window.clearTimeout;function g(){return a.apply(t.window,arguments)}function d(){return u.apply(t.window,arguments)}t.util.animate=l,t.util.requestAnimFrame=g,t.util.cancelAnimFrame=d,t.runningAnimations=h}(),function(){function c(h,f,o){var l="rgba("+parseInt(h[0]+o*(f[0]-h[0]),10)+","+parseInt(h[1]+o*(f[1]-h[1]),10)+","+parseInt(h[2]+o*(f[2]-h[2]),10);return l+=","+(h&&f?parseFloat(h[3]+o*(f[3]-h[3])):1),l+=")",l}function i(h,f,o,l){var a=new t.Color(h).getSource(),u=new t.Color(f).getSource(),g=l.onComplete,d=l.onChange;return l=l||{},t.util.animate(t.util.object.extend(l,{duration:o||500,startValue:a,endValue:u,byValue:u,easing:function(v,_,y,b){var w=l.colorEasing?l.colorEasing(v,b):1-Math.cos(v/b*(Math.PI/2));return c(_,y,w)},onComplete:function(v,_,y){if(g)return g(c(u,u,0),_,y)},onChange:function(v,_,y){if(d){if(Array.isArray(v))return d(c(v,v,0),_,y);d(v,_,y)}}}))}t.util.animateColor=i}(),function(){function c(x,D,R,I){return x<Math.abs(D)?(x=D,I=R/4):D===0&&x===0?I=R/(2*Math.PI)*Math.asin(1):I=R/(2*Math.PI)*Math.asin(D/x),{a:x,c:D,p:R,s:I}}function i(x,D,R){return x.a*Math.pow(2,10*(D-=1))*Math.sin((D*R-x.s)*(2*Math.PI)/x.p)}function h(x,D,R,I){return R*((x=x/I-1)*x*x+1)+D}function f(x,D,R,I){return x/=I/2,x<1?R/2*x*x*x+D:R/2*((x-=2)*x*x+2)+D}function o(x,D,R,I){return R*(x/=I)*x*x*x+D}function l(x,D,R,I){return-R*((x=x/I-1)*x*x*x-1)+D}function a(x,D,R,I){return x/=I/2,x<1?R/2*x*x*x*x+D:-R/2*((x-=2)*x*x*x-2)+D}function u(x,D,R,I){return R*(x/=I)*x*x*x*x+D}function g(x,D,R,I){return R*((x=x/I-1)*x*x*x*x+1)+D}function d(x,D,R,I){return x/=I/2,x<1?R/2*x*x*x*x*x+D:R/2*((x-=2)*x*x*x*x+2)+D}function v(x,D,R,I){return-R*Math.cos(x/I*(Math.PI/2))+R+D}function _(x,D,R,I){return R*Math.sin(x/I*(Math.PI/2))+D}function y(x,D,R,I){return-R/2*(Math.cos(Math.PI*x/I)-1)+D}function b(x,D,R,I){return x===0?D:R*Math.pow(2,10*(x/I-1))+D}function w(x,D,R,I){return x===I?D+R:R*(-Math.pow(2,-10*x/I)+1)+D}function C(x,D,R,I){return x===0?D:x===I?D+R:(x/=I/2,x<1?R/2*Math.pow(2,10*(x-1))+D:R/2*(-Math.pow(2,-10*--x)+2)+D)}function S(x,D,R,I){return-R*(Math.sqrt(1-(x/=I)*x)-1)+D}function O(x,D,R,I){return R*Math.sqrt(1-(x=x/I-1)*x)+D}function j(x,D,R,I){return x/=I/2,x<1?-R/2*(Math.sqrt(1-x*x)-1)+D:R/2*(Math.sqrt(1-(x-=2)*x)+1)+D}function Y(x,D,R,I){var Q=1.70158,M=0,E=R;if(x===0)return D;if(x/=I,x===1)return D+R;M||(M=I*.3);var H=c(E,R,M,Q);return-i(H,x,I)+D}function G(x,D,R,I){var Q=1.70158,M=0,E=R;if(x===0)return D;if(x/=I,x===1)return D+R;M||(M=I*.3);var H=c(E,R,M,Q);return H.a*Math.pow(2,-10*x)*Math.sin((x*I-H.s)*(2*Math.PI)/H.p)+H.c+D}function U(x,D,R,I){var Q=1.70158,M=0,E=R;if(x===0)return D;if(x/=I/2,x===2)return D+R;M||(M=I*(.3*1.5));var H=c(E,R,M,Q);return x<1?-.5*i(H,x,I)+D:H.a*Math.pow(2,-10*(x-=1))*Math.sin((x*I-H.s)*(2*Math.PI)/H.p)*.5+H.c+D}function ee(x,D,R,I,Q){return Q===void 0&&(Q=1.70158),R*(x/=I)*x*((Q+1)*x-Q)+D}function ie(x,D,R,I,Q){return Q===void 0&&(Q=1.70158),R*((x=x/I-1)*x*((Q+1)*x+Q)+1)+D}function le(x,D,R,I,Q){return Q===void 0&&(Q=1.70158),x/=I/2,x<1?R/2*(x*x*(((Q*=1.525)+1)*x-Q))+D:R/2*((x-=2)*x*(((Q*=1.525)+1)*x+Q)+2)+D}function ce(x,D,R,I){return R-X(I-x,0,R,I)+D}function X(x,D,R,I){return(x/=I)<1/2.75?R*(7.5625*x*x)+D:x<2/2.75?R*(7.5625*(x-=1.5/2.75)*x+.75)+D:x<2.5/2.75?R*(7.5625*(x-=2.25/2.75)*x+.9375)+D:R*(7.5625*(x-=2.625/2.75)*x+.984375)+D}function J(x,D,R,I){return x<I/2?ce(x*2,0,R,I)*.5+D:X(x*2-I,0,R,I)*.5+R*.5+D}t.util.ease={easeInQuad:function(x,D,R,I){return R*(x/=I)*x+D},easeOutQuad:function(x,D,R,I){return-R*(x/=I)*(x-2)+D},easeInOutQuad:function(x,D,R,I){return x/=I/2,x<1?R/2*x*x+D:-R/2*(--x*(x-2)-1)+D},easeInCubic:function(x,D,R,I){return R*(x/=I)*x*x+D},easeOutCubic:h,easeInOutCubic:f,easeInQuart:o,easeOutQuart:l,easeInOutQuart:a,easeInQuint:u,easeOutQuint:g,easeInOutQuint:d,easeInSine:v,easeOutSine:_,easeInOutSine:y,easeInExpo:b,easeOutExpo:w,easeInOutExpo:C,easeInCirc:S,easeOutCirc:O,easeInOutCirc:j,easeInElastic:Y,easeOutElastic:G,easeInOutElastic:U,easeInBack:ee,easeOutBack:ie,easeInOutBack:le,easeInBounce:ce,easeOutBounce:X,easeInOutBounce:J}}(),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.util.object.clone,o=i.util.toFixed,l=i.util.parseUnit,a=i.util.multiplyTransformMatrices,u=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],d=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],_={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},y={stroke:"strokeOpacity",fill:"fillOpacity"},b="font-size",w="clip-path";i.svgValidTagNamesRegEx=O(u),i.svgViewBoxElementsRegEx=O(g),i.svgInvalidAncestorsRegEx=O(d),i.svgValidParentsRegEx=O(v),i.cssRules={},i.gradientDefs={},i.clipPaths={};function C(M){return M in _?_[M]:M}function S(M,E,H,A){var F=Array.isArray(E),z;if((M==="fill"||M==="stroke")&&E==="none")E="";else{if(M==="strokeUniform")return E==="non-scaling-stroke";if(M==="strokeDashArray")E==="none"?E=null:E=E.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(M==="transformMatrix")H&&H.transformMatrix?E=a(H.transformMatrix,i.parseTransformAttribute(E)):E=i.parseTransformAttribute(E);else if(M==="visible")E=E!=="none"&&E!=="hidden",H&&H.visible===!1&&(E=!1);else if(M==="opacity")E=parseFloat(E),H&&typeof H.opacity<"u"&&(E*=H.opacity);else if(M==="textAnchor")E=E==="start"?"left":E==="end"?"right":"center";else if(M==="charSpacing")z=l(E,A)/A*1e3;else if(M==="paintFirst"){var K=E.indexOf("fill"),ne=E.indexOf("stroke"),E="fill";(K>-1&&ne>-1&&ne<K||K===-1&&ne>-1)&&(E="stroke")}else{if(M==="href"||M==="xlink:href"||M==="font")return E;if(M==="imageSmoothing")return E==="optimizeQuality";z=F?E.map(l):l(E,A)}}return!F&&isNaN(z)?E:z}function O(M){return new RegExp("^("+M.join("|")+")\\b","i")}function j(M){for(var E in y)if(!(typeof M[y[E]]>"u"||M[E]==="")){if(typeof M[E]>"u"){if(!i.Object.prototype[E])continue;M[E]=i.Object.prototype[E]}if(M[E].indexOf("url(")!==0){var H=new i.Color(M[E]);M[E]=H.setAlpha(o(H.getAlpha()*M[y[E]],2)).toRgba()}}return M}function Y(M,E){var H,A=[],F,z,K;for(z=0,K=E.length;z<K;z++)H=E[z],F=M.getElementsByTagName(H),A=A.concat(Array.prototype.slice.call(F));return A}i.parseTransformAttribute=function(){function M(V,ae){var he=i.util.cos(ae[0]),ge=i.util.sin(ae[0]),me=0,_e=0;ae.length===3&&(me=ae[1],_e=ae[2]),V[0]=he,V[1]=ge,V[2]=-ge,V[3]=he,V[4]=me-(he*me-ge*_e),V[5]=_e-(ge*me+he*_e)}function E(V,ae){var he=ae[0],ge=ae.length===2?ae[1]:ae[0];V[0]=he,V[3]=ge}function H(V,ae,he){V[he]=Math.tan(i.util.degreesToRadians(ae[0]))}function A(V,ae){V[4]=ae[0],ae.length===2&&(V[5]=ae[1])}var F=i.iMatrix,z=i.reNum,K=i.commaWsp,ne="(?:(skewX)\\s*\\(\\s*("+z+")\\s*\\))",k="(?:(skewY)\\s*\\(\\s*("+z+")\\s*\\))",T="(?:(rotate)\\s*\\(\\s*("+z+")(?:"+K+"("+z+")"+K+"("+z+"))?\\s*\\))",P="(?:(scale)\\s*\\(\\s*("+z+")(?:"+K+"("+z+"))?\\s*\\))",L="(?:(translate)\\s*\\(\\s*("+z+")(?:"+K+"("+z+"))?\\s*\\))",$="(?:(matrix)\\s*\\(\\s*("+z+")"+K+"("+z+")"+K+"("+z+")"+K+"("+z+")"+K+"("+z+")"+K+"("+z+")\\s*\\))",N="(?:"+$+"|"+L+"|"+P+"|"+T+"|"+ne+"|"+k+")",W="(?:"+N+"(?:"+K+"*"+N+")*)",q="^\\s*(?:"+W+"?)\\s*$",re=new RegExp(q),Z=new RegExp(N,"g");return function(V){var ae=F.concat(),he=[];if(!V||V&&!re.test(V))return ae;V.replace(Z,function(me){var _e=new RegExp(N).exec(me).filter(function(Ge){return!!Ge}),be=_e[1],Oe=_e.slice(2).map(parseFloat);switch(be){case"translate":A(ae,Oe);break;case"rotate":Oe[0]=i.util.degreesToRadians(Oe[0]),M(ae,Oe);break;case"scale":E(ae,Oe);break;case"skewX":H(ae,Oe,2);break;case"skewY":H(ae,Oe,1);break;case"matrix":ae=Oe;break}he.push(ae.concat()),ae=F.concat()});for(var ge=he[0];he.length>1;)he.shift(),ge=i.util.multiplyTransformMatrices(ge,he[0]);return ge}}();function G(M,E){var H,A;M.replace(/;\s*$/,"").split(";").forEach(function(F){var z=F.split(":");H=z[0].trim().toLowerCase(),A=z[1].trim(),E[H]=A})}function U(M,E){var H,A;for(var F in M)typeof M[F]>"u"||(H=F.toLowerCase(),A=M[F],E[H]=A)}function ee(M,E){var H={};for(var A in i.cssRules[E])if(ie(M,A.split(" ")))for(var F in i.cssRules[E][A])H[F]=i.cssRules[E][A][F];return H}function ie(M,E){var H,A=!0;return H=ce(M,E.pop()),H&&E.length&&(A=le(M,E)),H&&A&&E.length===0}function le(M,E){for(var H,A=!0;M.parentNode&&M.parentNode.nodeType===1&&E.length;)A&&(H=E.pop()),M=M.parentNode,A=ce(M,H);return E.length===0}function ce(M,E){var H=M.nodeName,A=M.getAttribute("class"),F=M.getAttribute("id"),z,K;if(z=new RegExp("^"+H,"i"),E=E.replace(z,""),F&&E.length&&(z=new RegExp("#"+F+"(?![a-zA-Z\\-]+)","i"),E=E.replace(z,"")),A&&E.length)for(A=A.split(" "),K=A.length;K--;)z=new RegExp("\\."+A[K]+"(?![a-zA-Z\\-]+)","i"),E=E.replace(z,"");return E.length===0}function X(M,E){var H;if(M.getElementById&&(H=M.getElementById(E)),H)return H;var A,F,z,K=M.getElementsByTagName("*");for(F=0,z=K.length;F<z;F++)if(A=K[F],E===A.getAttribute("id"))return A}function J(M){for(var E=Y(M,["use","svg:use"]),H=0;E.length&&H<E.length;){var A=E[H],F=A.getAttribute("xlink:href")||A.getAttribute("href");if(F===null)return;var z=F.slice(1),K=A.getAttribute("x")||0,ne=A.getAttribute("y")||0,k=X(M,z).cloneNode(!0),T=(k.getAttribute("transform")||"")+" translate("+K+", "+ne+")",P,L=E.length,$,N,W,q,re=i.svgNS;if(D(k),/^svg$/i.test(k.nodeName)){var Z=k.ownerDocument.createElementNS(re,"g");for(N=0,W=k.attributes,q=W.length;N<q;N++)$=W.item(N),Z.setAttributeNS(re,$.nodeName,$.nodeValue);for(;k.firstChild;)Z.appendChild(k.firstChild);k=Z}for(N=0,W=A.attributes,q=W.length;N<q;N++)$=W.item(N),!($.nodeName==="x"||$.nodeName==="y"||$.nodeName==="xlink:href"||$.nodeName==="href")&&($.nodeName==="transform"?T=$.nodeValue+" "+T:k.setAttribute($.nodeName,$.nodeValue));k.setAttribute("transform",T),k.setAttribute("instantiated_by_use","1"),k.removeAttribute("id"),P=A.parentNode,P.replaceChild(k,A),E.length===L&&H++}}var x=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function D(M){if(!i.svgViewBoxElementsRegEx.test(M.nodeName))return{};var E=M.getAttribute("viewBox"),H=1,A=1,F=0,z=0,K,ne,k,T,P=M.getAttribute("width"),L=M.getAttribute("height"),$=M.getAttribute("x")||0,N=M.getAttribute("y")||0,W=M.getAttribute("preserveAspectRatio")||"",q=!E||!(E=E.match(x)),re=!P||!L||P==="100%"||L==="100%",Z=q&&re,V={},ae="",he=0,ge=0;if(V.width=0,V.height=0,V.toBeParsed=Z,q&&($||N)&&M.parentNode&&M.parentNode.nodeName!=="#document"&&(ae=" translate("+l($)+" "+l(N)+") ",k=(M.getAttribute("transform")||"")+ae,M.setAttribute("transform",k),M.removeAttribute("x"),M.removeAttribute("y")),Z)return V;if(q)return V.width=l(P),V.height=l(L),V;if(F=-parseFloat(E[1]),z=-parseFloat(E[2]),K=parseFloat(E[3]),ne=parseFloat(E[4]),V.minX=F,V.minY=z,V.viewBoxWidth=K,V.viewBoxHeight=ne,re?(V.width=K,V.height=ne):(V.width=l(P),V.height=l(L),H=V.width/K,A=V.height/ne),W=i.util.parsePreserveAspectRatioAttribute(W),W.alignX!=="none"&&(W.meetOrSlice==="meet"&&(A=H=H>A?A:H),W.meetOrSlice==="slice"&&(A=H=H>A?H:A),he=V.width-K*H,ge=V.height-ne*H,W.alignX==="Mid"&&(he/=2),W.alignY==="Mid"&&(ge/=2),W.alignX==="Min"&&(he=0),W.alignY==="Min"&&(ge=0)),H===1&&A===1&&F===0&&z===0&&$===0&&N===0)return V;if(($||N)&&M.parentNode.nodeName!=="#document"&&(ae=" translate("+l($)+" "+l(N)+") "),k=ae+" matrix("+H+" 0 0 "+A+" "+(F*H+he)+" "+(z*A+ge)+") ",M.nodeName==="svg"){for(T=M.ownerDocument.createElementNS(i.svgNS,"g");M.firstChild;)T.appendChild(M.firstChild);M.appendChild(T)}else T=M,T.removeAttribute("x"),T.removeAttribute("y"),k=T.getAttribute("transform")+k;return T.setAttribute("transform",k),V}function R(M,E){for(;M&&(M=M.parentNode);)if(M.nodeName&&E.test(M.nodeName.replace("svg:",""))&&!M.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(M,E,H,A){if(M){J(M);var F=i.Object.__uid++,z,K,ne=D(M),k=i.util.toArray(M.getElementsByTagName("*"));if(ne.crossOrigin=A&&A.crossOrigin,ne.svgUid=F,k.length===0&&i.isLikelyNode){k=M.selectNodes('//*[name(.)!="svg"]');var T=[];for(z=0,K=k.length;z<K;z++)T[z]=k[z];k=T}var P=k.filter(function($){return D($),i.svgValidTagNamesRegEx.test($.nodeName.replace("svg:",""))&&!R($,i.svgInvalidAncestorsRegEx)});if(!P||P&&!P.length){E&&E([],{});return}var L={};k.filter(function($){return $.nodeName.replace("svg:","")==="clipPath"}).forEach(function($){var N=$.getAttribute("id");L[N]=i.util.toArray($.getElementsByTagName("*")).filter(function(W){return i.svgValidTagNamesRegEx.test(W.nodeName.replace("svg:",""))})}),i.gradientDefs[F]=i.getGradientDefs(M),i.cssRules[F]=i.getCSSRules(M),i.clipPaths[F]=L,i.parseElements(P,function($,N){E&&(E($,ne,N,k),delete i.gradientDefs[F],delete i.cssRules[F],delete i.clipPaths[F])},f(ne),H,A)}};function I(M,E){var H=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],A="xlink:href",F=E.getAttribute(A).slice(1),z=X(M,F);if(z&&z.getAttribute(A)&&I(M,z),H.forEach(function(ne){z&&!E.hasAttribute(ne)&&z.hasAttribute(ne)&&E.setAttribute(ne,z.getAttribute(ne))}),!E.children.length)for(var K=z.cloneNode(!0);K.firstChild;)E.appendChild(K.firstChild);E.removeAttribute(A)}var Q=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");h(i,{parseFontDeclaration:function(M,E){var H=M.match(Q);if(H){var A=H[1],F=H[3],z=H[4],K=H[5],ne=H[6];A&&(E.fontStyle=A),F&&(E.fontWeight=isNaN(parseFloat(F))?F:parseFloat(F)),z&&(E.fontSize=l(z)),ne&&(E.fontFamily=ne),K&&(E.lineHeight=K==="normal"?1:K)}},getGradientDefs:function(M){var E=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],H=Y(M,E),A,F=0,z={};for(F=H.length;F--;)A=H[F],A.getAttribute("xlink:href")&&I(M,A),z[A.getAttribute("id")]=A;return z},parseAttributes:function(M,E,H){if(M){var A,F={},z,K;typeof H>"u"&&(H=M.getAttribute("svgUid")),M.parentNode&&i.svgValidParentsRegEx.test(M.parentNode.nodeName)&&(F=i.parseAttributes(M.parentNode,E,H));var ne=E.reduce(function(W,q){return A=M.getAttribute(q),A&&(W[q]=A),W},{}),k=h(ee(M,H),i.parseStyleAttribute(M));ne=h(ne,k),k[w]&&M.setAttribute(w,k[w]),z=K=F.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,ne[b]&&(ne[b]=z=l(ne[b],K));var T,P,L={};for(var $ in ne)T=C($),P=S(T,ne[$],F,z),L[T]=P;L&&L.font&&i.parseFontDeclaration(L.font,L);var N=h(F,L);return i.svgValidParentsRegEx.test(M.nodeName)?N:j(N)}},parseElements:function(M,E,H,A,F){new i.ElementsParser(M,E,H,A,F).parse()},parseStyleAttribute:function(M){var E={},H=M.getAttribute("style");return H&&(typeof H=="string"?G(H,E):U(H,E)),E},parsePointsAttribute:function(M){if(!M)return null;M=M.replace(/,/g," ").trim(),M=M.split(/\s+/);var E=[],H,A;for(H=0,A=M.length;H<A;H+=2)E.push({x:parseFloat(M[H]),y:parseFloat(M[H+1])});return E},getCSSRules:function(M){var E=M.getElementsByTagName("style"),H,A,F={},z;for(H=0,A=E.length;H<A;H++){var K=E[H].textContent;K=K.replace(/\/\*[\s\S]*?\*\//g,""),K.trim()!==""&&(z=K.split("}"),z=z.filter(function(ne){return ne.trim()}),z.forEach(function(ne){var k=ne.split("{"),T={},P=k[1].trim(),L=P.split(";").filter(function(q){return q.trim()});for(H=0,A=L.length;H<A;H++){var $=L[H].split(":"),N=$[0].trim(),W=$[1].trim();T[N]=W}ne=k[0].trim(),ne.split(",").forEach(function(q){q=q.replace(/^svg/i,"").trim(),q!==""&&(F[q]?i.util.object.extend(F[q],T):F[q]=i.util.object.clone(T))})}))}return F},loadSVGFromURL:function(M,E,H,A){M=M.replace(/^\n\s*/,"").trim(),new i.util.request(M,{method:"get",onComplete:F});function F(z){var K=z.responseXML;if(!K||!K.documentElement)return E&&E(null),!1;i.parseSVGDocument(K.documentElement,function(ne,k,T,P){E&&E(ne,k,T,P)},H,A)}},loadSVGFromString:function(M,E,H,A){var F=new i.window.DOMParser,z=F.parseFromString(M.trim(),"text/xml");i.parseSVGDocument(z.documentElement,function(K,ne,k,T){E(K,ne,k,T)},H,A)}})}(e),t.ElementsParser=function(c,i,h,f,o,l){this.elements=c,this.callback=i,this.options=h,this.reviver=f,this.svgUid=h&&h.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=l},function(c){c.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},c.createObjects=function(){var i=this;this.elements.forEach(function(h,f){h.setAttribute("svgUid",i.svgUid),i.createObject(h,f)})},c.findTag=function(i){return t[t.util.string.capitalize(i.tagName.replace("svg:",""))]},c.createObject=function(i,h){var f=this.findTag(i);if(f&&f.fromElement)try{f.fromElement(i,this.createCallback(h,i),this.options)}catch(o){t.log(o)}else this.checkIfDone()},c.createCallback=function(i,h){var f=this;return function(o){var l;f.resolveGradient(o,h,"fill"),f.resolveGradient(o,h,"stroke"),o instanceof t.Image&&o._originalElement&&(l=o.parsePreserveAspectRatioAttribute(h)),o._removeTransformMatrix(l),f.resolveClipPath(o,h),f.reviver&&f.reviver(h,o),f.instances[i]=o,f.checkIfDone()}},c.extractPropertyDefinition=function(i,h,f){var o=i[h],l=this.regexUrl;if(l.test(o)){l.lastIndex=0;var a=l.exec(o)[1];return l.lastIndex=0,t[f][this.svgUid][a]}},c.resolveGradient=function(i,h,f){var o=this.extractPropertyDefinition(i,f,"gradientDefs");if(o){var l=h.getAttribute(f+"-opacity"),a=t.Gradient.fromElement(o,i,l,this.options);i.set(f,a)}},c.createClipPathCallback=function(i,h){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,h.push(f)}},c.resolveClipPath=function(i,h){var f=this.extractPropertyDefinition(i,"clipPath","clipPaths"),o,l,a,u,g,d;if(f){u=[],a=t.util.invertTransform(i.calcTransformMatrix());for(var v=f[0].parentNode,_=h;_.parentNode&&_.getAttribute("clip-path")!==i.clipPath;)_=_.parentNode;_.parentNode.appendChild(v);for(var y=0;y<f.length;y++)o=f[y],l=this.findTag(o),l.fromElement(o,this.createClipPathCallback(i,u),this.options);u.length===1?f=u[0]:f=new t.Group(u),g=t.util.multiplyTransformMatrices(a,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,_);var d=t.util.qrDecompose(g);f.flipX=!1,f.flipY=!1,f.set("scaleX",d.scaleX),f.set("scaleY",d.scaleY),f.angle=d.angle,f.skewX=d.skewX,f.skewY=0,f.setPositionByOrigin({x:d.translateX,y:d.translateY},"center","center"),i.clipPath=f}else delete i.clipPath},c.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(c){var i=c.fabric||(c.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=h;function h(f,o){this.x=f,this.y=o}h.prototype={type:"point",constructor:h,add:function(f){return new h(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new h(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new h(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new h(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new h(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new h(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,o){return typeof o>"u"&&(o=.5),o=Math.max(Math.min(1,o),0),new h(this.x+(f.x-this.x)*o,this.y+(f.y-this.y)*o)},distanceFrom:function(f){var o=this.x-f.x,l=this.y-f.y;return Math.sqrt(o*o+l*l)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new h(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new h(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,o){return this.x=f,this.y=o,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var o=this.x,l=this.y;this.x=f.x,this.y=f.y,f.x=o,f.y=l},clone:function(){return new h(this.x,this.y)}}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function h(f){this.status=f,this.points=[]}i.Intersection=h,i.Intersection.prototype={constructor:h,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},i.Intersection.intersectLineLine=function(f,o,l,a){var u,g=(a.x-l.x)*(f.y-l.y)-(a.y-l.y)*(f.x-l.x),d=(o.x-f.x)*(f.y-l.y)-(o.y-f.y)*(f.x-l.x),v=(a.y-l.y)*(o.x-f.x)-(a.x-l.x)*(o.y-f.y);if(v!==0){var _=g/v,y=d/v;0<=_&&_<=1&&0<=y&&y<=1?(u=new h("Intersection"),u.appendPoint(new i.Point(f.x+_*(o.x-f.x),f.y+_*(o.y-f.y)))):u=new h}else g===0||d===0?u=new h("Coincident"):u=new h("Parallel");return u},i.Intersection.intersectLinePolygon=function(f,o,l){var a=new h,u=l.length,g,d,v,_;for(_=0;_<u;_++)g=l[_],d=l[(_+1)%u],v=h.intersectLineLine(f,o,g,d),a.appendPoints(v.points);return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonPolygon=function(f,o){var l=new h,a=f.length,u;for(u=0;u<a;u++){var g=f[u],d=f[(u+1)%a],v=h.intersectLinePolygon(g,d,o);l.appendPoints(v.points)}return l.points.length>0&&(l.status="Intersection"),l},i.Intersection.intersectPolygonRectangle=function(f,o,l){var a=o.min(l),u=o.max(l),g=new i.Point(u.x,a.y),d=new i.Point(a.x,u.y),v=h.intersectLinePolygon(a,g,f),_=h.intersectLinePolygon(g,u,f),y=h.intersectLinePolygon(u,d,f),b=h.intersectLinePolygon(d,a,f),w=new h;return w.appendPoints(v.points),w.appendPoints(_.points),w.appendPoints(y.points),w.appendPoints(b.points),w.points.length>0&&(w.status="Intersection"),w}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function h(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}i.Color=h,i.Color.prototype={_tryParsingColor:function(o){var l;o in h.colorNameMap&&(o=h.colorNameMap[o]),o==="transparent"&&(l=[255,255,255,0]),l||(l=h.sourceFromHex(o)),l||(l=h.sourceFromRgb(o)),l||(l=h.sourceFromHsl(o)),l||(l=[0,0,0,1]),l&&this.setSource(l)},_rgbToHsl:function(o,l,a){o/=255,l/=255,a/=255;var u,g,d,v=i.util.array.max([o,l,a]),_=i.util.array.min([o,l,a]);if(d=(v+_)/2,v===_)u=g=0;else{var y=v-_;switch(g=d>.5?y/(2-v-_):y/(v+_),v){case o:u=(l-a)/y+(l<a?6:0);break;case l:u=(a-o)/y+2;break;case a:u=(o-l)/y+4;break}u/=6}return[Math.round(u*360),Math.round(g*100),Math.round(d*100)]},getSource:function(){return this._source},setSource:function(o){this._source=o},toRgb:function(){var o=this.getSource();return"rgb("+o[0]+","+o[1]+","+o[2]+")"},toRgba:function(){var o=this.getSource();return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},toHsl:function(){var o=this.getSource(),l=this._rgbToHsl(o[0],o[1],o[2]);return"hsl("+l[0]+","+l[1]+"%,"+l[2]+"%)"},toHsla:function(){var o=this.getSource(),l=this._rgbToHsl(o[0],o[1],o[2]);return"hsla("+l[0]+","+l[1]+"%,"+l[2]+"%,"+o[3]+")"},toHex:function(){var o=this.getSource(),l,a,u;return l=o[0].toString(16),l=l.length===1?"0"+l:l,a=o[1].toString(16),a=a.length===1?"0"+a:a,u=o[2].toString(16),u=u.length===1?"0"+u:u,l.toUpperCase()+a.toUpperCase()+u.toUpperCase()},toHexa:function(){var o=this.getSource(),l;return l=Math.round(o[3]*255),l=l.toString(16),l=l.length===1?"0"+l:l,this.toHex()+l.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(o){var l=this.getSource();return l[3]=o,this.setSource(l),this},toGrayscale:function(){var o=this.getSource(),l=parseInt((o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),10),a=o[3];return this.setSource([l,l,l,a]),this},toBlackWhite:function(o){var l=this.getSource(),a=(l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),u=l[3];return o=o||127,a=Number(a)<Number(o)?0:255,this.setSource([a,a,a,u]),this},overlayWith:function(o){o instanceof h||(o=new h(o));var l=[],a=this.getAlpha(),u=.5,g=this.getSource(),d=o.getSource(),v;for(v=0;v<3;v++)l.push(Math.round(g[v]*(1-u)+d[v]*u));return l[3]=a,this.setSource(l),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(o,l,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?o+(l-o)*6*a:a<1/2?l:a<2/3?o+(l-o)*(2/3-a)*6:o}i.Color.fromRgb=function(o){return h.fromSource(h.sourceFromRgb(o))},i.Color.sourceFromRgb=function(o){var l=o.match(h.reRGBa);if(l){var a=parseInt(l[1],10)/(/%$/.test(l[1])?100:1)*(/%$/.test(l[1])?255:1),u=parseInt(l[2],10)/(/%$/.test(l[2])?100:1)*(/%$/.test(l[2])?255:1),g=parseInt(l[3],10)/(/%$/.test(l[3])?100:1)*(/%$/.test(l[3])?255:1);return[parseInt(a,10),parseInt(u,10),parseInt(g,10),l[4]?parseFloat(l[4]):1]}},i.Color.fromRgba=h.fromRgb,i.Color.fromHsl=function(o){return h.fromSource(h.sourceFromHsl(o))},i.Color.sourceFromHsl=function(o){var l=o.match(h.reHSLa);if(l){var a=(parseFloat(l[1])%360+360)%360/360,u=parseFloat(l[2])/(/%$/.test(l[2])?100:1),g=parseFloat(l[3])/(/%$/.test(l[3])?100:1),d,v,_;if(u===0)d=v=_=g;else{var y=g<=.5?g*(u+1):g+u-g*u,b=g*2-y;d=f(b,y,a+1/3),v=f(b,y,a),_=f(b,y,a-1/3)}return[Math.round(d*255),Math.round(v*255),Math.round(_*255),l[4]?parseFloat(l[4]):1]}},i.Color.fromHsla=h.fromHsl,i.Color.fromHex=function(o){return h.fromSource(h.sourceFromHex(o))},i.Color.sourceFromHex=function(o){if(o.match(h.reHex)){var l=o.slice(o.indexOf("#")+1),a=l.length===3||l.length===4,u=l.length===8||l.length===4,g=a?l.charAt(0)+l.charAt(0):l.substring(0,2),d=a?l.charAt(1)+l.charAt(1):l.substring(2,4),v=a?l.charAt(2)+l.charAt(2):l.substring(4,6),_=u?a?l.charAt(3)+l.charAt(3):l.substring(6,8):"FF";return[parseInt(g,16),parseInt(d,16),parseInt(v,16),parseFloat((parseInt(_,16)/255).toFixed(2))]}},i.Color.fromSource=function(o){var l=new h;return l.setSource(o),l}}(e),function(c){var i=c.fabric||(c.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],o={},l="left",a="top",u="right",g="bottom",d="center",v={top:g,bottom:a,left:u,right:l,center:d},_=i.util.radiansToDegrees,y=Math.sign||function(T){return(T>0)-(T<0)||+T};function b(T,P){var L=T.angle+_(Math.atan2(P.y,P.x))+360;return Math.round(L%360/45)}function w(T,P){var L=P.transform.target,$=L.canvas,N=i.util.object.clone(P);N.target=L,$&&$.fire("object:"+T,N),L.fire(T,P)}function C(T,P){var L=P.canvas,$=L.uniScaleKey,N=T[$];return L.uniformScaling&&!N||!L.uniformScaling&&N}function S(T){return T.originX===d&&T.originY===d}function O(T,P,L){var $=T.lockScalingX,N=T.lockScalingY;return!!($&&N||!P&&($||N)&&L||$&&P==="x"||N&&P==="y")}function j(T,P,L){var $="not-allowed",N=C(T,L),W="";if(P.x!==0&&P.y===0?W="x":P.x===0&&P.y!==0&&(W="y"),O(L,W,N))return $;var q=b(L,P);return h[q]+"-resize"}function Y(T,P,L){var $="not-allowed";if(P.x!==0&&L.lockSkewingY||P.y!==0&&L.lockSkewingX)return $;var N=b(L,P)%4;return f[N]+"-resize"}function G(T,P,L){return T[L.canvas.altActionKey]?o.skewCursorStyleHandler(T,P,L):o.scaleCursorStyleHandler(T,P,L)}function U(T,P,L){var $=T[L.canvas.altActionKey];if(P.x===0)return $?"skewX":"scaleY";if(P.y===0)return $?"skewY":"scaleX"}function ee(T,P,L){return L.lockRotation?"not-allowed":P.cursorStyle}function ie(T,P,L,$){return{e:T,transform:P,pointer:{x:L,y:$}}}function le(T){return function(P,L,$,N){var W=L.target,q=W.getCenterPoint(),re=W.translateToOriginPoint(q,L.originX,L.originY),Z=T(P,L,$,N);return W.setPositionByOrigin(re,L.originX,L.originY),Z}}function ce(T,P){return function(L,$,N,W){var q=P(L,$,N,W);return q&&w(T,ie(L,$,N,W)),q}}function X(T,P,L,$,N){var W=T.target,q=W.controls[T.corner],re=W.canvas.getZoom(),Z=W.padding/re,V=W.toLocalPoint(new i.Point($,N),P,L);return V.x>=Z&&(V.x-=Z),V.x<=-Z&&(V.x+=Z),V.y>=Z&&(V.y-=Z),V.y<=Z&&(V.y+=Z),V.x-=q.offsetX,V.y-=q.offsetY,V}function J(T){return T.flipX!==T.flipY}function x(T,P,L,$,N){if(T[P]!==0){var W=T._getTransformedDimensions()[$],q=N/W*T[L];T.set(L,q)}}function D(T,P,L,$){var N=P.target,W=N._getTransformedDimensions(0,N.skewY),q=X(P,P.originX,P.originY,L,$),re=Math.abs(q.x*2)-W.x,Z=N.skewX,V;re<2?V=0:(V=_(Math.atan2(re/N.scaleX,W.y/N.scaleY)),P.originX===l&&P.originY===g&&(V=-V),P.originX===u&&P.originY===a&&(V=-V),J(N)&&(V=-V));var ae=Z!==V;if(ae){var he=N._getTransformedDimensions().y;N.set("skewX",V),x(N,"skewY","scaleY","y",he)}return ae}function R(T,P,L,$){var N=P.target,W=N._getTransformedDimensions(N.skewX,0),q=X(P,P.originX,P.originY,L,$),re=Math.abs(q.y*2)-W.y,Z=N.skewY,V;re<2?V=0:(V=_(Math.atan2(re/N.scaleY,W.x/N.scaleX)),P.originX===l&&P.originY===g&&(V=-V),P.originX===u&&P.originY===a&&(V=-V),J(N)&&(V=-V));var ae=Z!==V;if(ae){var he=N._getTransformedDimensions().x;N.set("skewY",V),x(N,"skewX","scaleX","x",he)}return ae}function I(T,P,L,$){var N=P.target,W=N.skewX,q,re=P.originY;if(N.lockSkewingX)return!1;if(W===0){var Z=X(P,d,d,L,$);Z.x>0?q=l:q=u}else W>0&&(q=re===a?l:u),W<0&&(q=re===a?u:l),J(N)&&(q=q===l?u:l);P.originX=q;var V=ce("skewing",le(D));return V(T,P,L,$)}function Q(T,P,L,$){var N=P.target,W=N.skewY,q,re=P.originX;if(N.lockSkewingY)return!1;if(W===0){var Z=X(P,d,d,L,$);Z.y>0?q=a:q=g}else W>0&&(q=re===l?a:g),W<0&&(q=re===l?g:a),J(N)&&(q=q===a?g:a);P.originY=q;var V=ce("skewing",le(R));return V(T,P,L,$)}function M(T,P,L,$){var N=P,W=N.target,q=W.translateToOriginPoint(W.getCenterPoint(),N.originX,N.originY);if(W.lockRotation)return!1;var re=Math.atan2(N.ey-q.y,N.ex-q.x),Z=Math.atan2($-q.y,L-q.x),V=_(Z-re+N.theta),ae=!0;if(W.snapAngle>0){var he=W.snapAngle,ge=W.snapThreshold||he,me=Math.ceil(V/he)*he,_e=Math.floor(V/he)*he;Math.abs(V-_e)<ge?V=_e:Math.abs(V-me)<ge&&(V=me)}return V<0&&(V=360+V),V%=360,ae=W.angle!==V,W.angle=V,ae}function E(T,P,L,$,N){N=N||{};var W=P.target,q=W.lockScalingX,re=W.lockScalingY,Z=N.by,V,ae,he,ge,me=C(T,W),_e=O(W,Z,me),be,Oe,Ge=P.gestureScale;if(_e)return!1;if(Ge)ae=P.scaleX*Ge,he=P.scaleY*Ge;else{if(V=X(P,P.originX,P.originY,L,$),be=Z!=="y"?y(V.x):1,Oe=Z!=="x"?y(V.y):1,P.signX||(P.signX=be),P.signY||(P.signY=Oe),W.lockScalingFlip&&(P.signX!==be||P.signY!==Oe))return!1;if(ge=W._getTransformedDimensions(),me&&!Z){var mt=Math.abs(V.x)+Math.abs(V.y),pt=P.original,rn=Math.abs(ge.x*pt.scaleX/W.scaleX)+Math.abs(ge.y*pt.scaleY/W.scaleY),Vn=mt/rn;ae=pt.scaleX*Vn,he=pt.scaleY*Vn}else ae=Math.abs(V.x*W.scaleX/ge.x),he=Math.abs(V.y*W.scaleY/ge.y);S(P)&&(ae*=2,he*=2),P.signX!==be&&Z!=="y"&&(P.originX=v[P.originX],ae*=-1,P.signX=be),P.signY!==Oe&&Z!=="x"&&(P.originY=v[P.originY],he*=-1,P.signY=Oe)}var We=W.scaleX,st=W.scaleY;return Z?(Z==="x"&&W.set("scaleX",ae),Z==="y"&&W.set("scaleY",he)):(!q&&W.set("scaleX",ae),!re&&W.set("scaleY",he)),We!==W.scaleX||st!==W.scaleY}function H(T,P,L,$){return E(T,P,L,$)}function A(T,P,L,$){return E(T,P,L,$,{by:"x"})}function F(T,P,L,$){return E(T,P,L,$,{by:"y"})}function z(T,P,L,$){return T[P.target.canvas.altActionKey]?o.skewHandlerX(T,P,L,$):o.scalingY(T,P,L,$)}function K(T,P,L,$){return T[P.target.canvas.altActionKey]?o.skewHandlerY(T,P,L,$):o.scalingX(T,P,L,$)}function ne(T,P,L,$){var N=P.target,W=X(P,P.originX,P.originY,L,$),q=N.strokeWidth/(N.strokeUniform?N.scaleX:1),re=S(P)?2:1,Z=N.width,V=Math.abs(W.x*re/N.scaleX)-q;return N.set("width",Math.max(V,0)),Z!==V}function k(T,P,L,$){var N=P.target,W=L-P.offsetX,q=$-P.offsetY,re=!N.get("lockMovementX")&&N.left!==W,Z=!N.get("lockMovementY")&&N.top!==q;return re&&N.set("left",W),Z&&N.set("top",q),(re||Z)&&w("moving",ie(T,P,L,$)),re||Z}o.scaleCursorStyleHandler=j,o.skewCursorStyleHandler=Y,o.scaleSkewCursorStyleHandler=G,o.rotationWithSnapping=ce("rotating",le(M)),o.scalingEqually=ce("scaling",le(H)),o.scalingX=ce("scaling",le(A)),o.scalingY=ce("scaling",le(F)),o.scalingYOrSkewingX=z,o.scalingXOrSkewingY=K,o.changeWidth=ce("resizing",le(ne)),o.skewHandlerX=I,o.skewHandlerY=Q,o.dragHandler=k,o.scaleOrSkewActionName=U,o.rotationStyleHandler=ee,o.fireEvent=w,o.wrapWithFixedAnchor=le,o.wrapWithFireEvent=ce,o.getLocalPoint=X,i.controlsUtils=o}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.degreesToRadians,f=i.controlsUtils;function o(a,u,g,d,v){d=d||{};var _=this.sizeX||d.cornerSize||v.cornerSize,y=this.sizeY||d.cornerSize||v.cornerSize,b=typeof d.transparentCorners<"u"?d.transparentCorners:v.transparentCorners,w=b?"stroke":"fill",C=!b&&(d.cornerStrokeColor||v.cornerStrokeColor),S=u,O=g,j;a.save(),a.fillStyle=d.cornerColor||v.cornerColor,a.strokeStyle=d.cornerStrokeColor||v.cornerStrokeColor,_>y?(j=_,a.scale(1,y/_),O=g*_/y):y>_?(j=y,a.scale(_/y,1),S=u*y/_):j=_,a.lineWidth=1,a.beginPath(),a.arc(S,O,j/2,0,2*Math.PI,!1),a[w](),C&&a.stroke(),a.restore()}function l(a,u,g,d,v){d=d||{};var _=this.sizeX||d.cornerSize||v.cornerSize,y=this.sizeY||d.cornerSize||v.cornerSize,b=typeof d.transparentCorners<"u"?d.transparentCorners:v.transparentCorners,w=b?"stroke":"fill",C=!b&&(d.cornerStrokeColor||v.cornerStrokeColor),S=_/2,O=y/2;a.save(),a.fillStyle=d.cornerColor||v.cornerColor,a.strokeStyle=d.cornerStrokeColor||v.cornerStrokeColor,a.lineWidth=1,a.translate(u,g),a.rotate(h(v.angle)),a[w+"Rect"](-S,-O,_,y),C&&a.strokeRect(-S,-O,_,y),a.restore()}f.renderCircleControl=o,f.renderSquareControl=l}(e),function(c){var i=c.fabric||(c.fabric={});function h(f){for(var o in f)this[o]=f[o]}i.Control=h,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,o){return o.cursorStyle},getActionName:function(f,o){return o.actionName},getVisibility:function(f,o){var l=f._controlsVisibility;return l&&typeof l[o]<"u"?l[o]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,o){var l=i.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},o);return l},calcCornerCoords:function(f,o,l,a,u){var g,d,v,_,y=u?this.touchSizeX:this.sizeX,b=u?this.touchSizeY:this.sizeY;if(y&&b&&y!==b){var w=Math.atan2(b,y),C=Math.sqrt(y*y+b*b)/2,S=w-i.util.degreesToRadians(f),O=Math.PI/2-w-i.util.degreesToRadians(f);g=C*i.util.cos(S),d=C*i.util.sin(S),v=C*i.util.cos(O),_=C*i.util.sin(O)}else{var j=y&&b?y:o;C=j*.7071067812;var S=i.util.degreesToRadians(45-f);g=v=C*i.util.cos(S),d=_=C*i.util.sin(S)}return{tl:{x:l-_,y:a-v},tr:{x:l+g,y:a-d},bl:{x:l-g,y:a+d},br:{x:l+_,y:a+v}}},render:function(f,o,l,a,u){switch(a=a||{},a.cornerStyle||u.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,f,o,l,a,u);break;default:i.controlsUtils.renderSquareControl.call(this,f,o,l,a,u)}}}}(e),function(){function c(l,a){var u=l.getAttribute("style"),g=l.getAttribute("offset")||0,d,v,_,y;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,u){var b=u.split(/\s*;\s*/);for(b[b.length-1]===""&&b.pop(),y=b.length;y--;){var w=b[y].split(/\s*:\s*/),C=w[0].trim(),S=w[1].trim();C==="stop-color"?d=S:C==="stop-opacity"&&(_=S)}}return d||(d=l.getAttribute("stop-color")||"rgb(0,0,0)"),_||(_=l.getAttribute("stop-opacity")),d=new t.Color(d),v=d.getAlpha(),_=isNaN(parseFloat(_))?1:parseFloat(_),_*=v*a,{offset:g,color:d.toRgb(),opacity:_}}function i(l){return{x1:l.getAttribute("x1")||0,y1:l.getAttribute("y1")||0,x2:l.getAttribute("x2")||"100%",y2:l.getAttribute("y2")||0}}function h(l){return{x1:l.getAttribute("fx")||l.getAttribute("cx")||"50%",y1:l.getAttribute("fy")||l.getAttribute("cy")||"50%",r1:0,x2:l.getAttribute("cx")||"50%",y2:l.getAttribute("cy")||"50%",r2:l.getAttribute("r")||"50%"}}var f=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(l){l||(l={}),l.coords||(l.coords={});var a,u=this;Object.keys(l).forEach(function(g){u[g]=l[g]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,a={x1:l.coords.x1||0,y1:l.coords.y1||0,x2:l.coords.x2||0,y2:l.coords.y2||0},this.type==="radial"&&(a.r1=l.coords.r1||0,a.r2=l.coords.r2||0),this.coords=a,this.colorStops=l.colorStops.slice()},addColorStop:function(l){for(var a in l){var u=new t.Color(l[a]);this.colorStops.push({offset:parseFloat(a),color:u.toRgb(),opacity:u.getAlpha()})}return this},toObject:function(l){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,a,l),a},toSVG:function(l,v){var u=f(this.coords,!0),g,d,v=v||{},_,y,b=f(this.colorStops,!0),w=u.r1>u.r2,C=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),S=-this.offsetX,O=-this.offsetY,j=!!v.additionalTransform,Y=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(b.sort(function(le,ce){return le.offset-ce.offset}),Y==="objectBoundingBox"?(S/=l.width,O/=l.height):(S+=l.width/2,O+=l.height/2),l.type==="path"&&this.gradientUnits!=="percentage"&&(S-=l.pathOffset.x,O-=l.pathOffset.y),C[4]-=S,C[5]-=O,y='id="SVGID_'+this.id+'" gradientUnits="'+Y+'"',y+=' gradientTransform="'+(j?v.additionalTransform+" ":"")+t.util.matrixToSVG(C)+'" ',this.type==="linear"?_=["<linearGradient ",y,' x1="',u.x1,'" y1="',u.y1,'" x2="',u.x2,'" y2="',u.y2,`">
`]:this.type==="radial"&&(_=["<radialGradient ",y,' cx="',w?u.x1:u.x2,'" cy="',w?u.y1:u.y2,'" r="',w?u.r1:u.r2,'" fx="',w?u.x2:u.x1,'" fy="',w?u.y2:u.y1,`">
`]),this.type==="radial"){if(w)for(b=b.concat(),b.reverse(),g=0,d=b.length;g<d;g++)b[g].offset=1-b[g].offset;var G=Math.min(u.r1,u.r2);if(G>0){var U=Math.max(u.r1,u.r2),ee=G/U;for(g=0,d=b.length;g<d;g++)b[g].offset+=ee*(1-b[g].offset)}}for(g=0,d=b.length;g<d;g++){var ie=b[g];_.push("<stop ",'offset="',ie.offset*100+"%",'" style="stop-color:',ie.color,typeof ie.opacity<"u"?";stop-opacity: "+ie.opacity:";",`"/>
`)}return _.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),_.join("")},toLive:function(l){var a,u=t.util.object.clone(this.coords),g,d;if(this.type){for(this.type==="linear"?a=l.createLinearGradient(u.x1,u.y1,u.x2,u.y2):this.type==="radial"&&(a=l.createRadialGradient(u.x1,u.y1,u.r1,u.x2,u.y2,u.r2)),g=0,d=this.colorStops.length;g<d;g++){var v=this.colorStops[g].color,_=this.colorStops[g].opacity,y=this.colorStops[g].offset;typeof _<"u"&&(v=new t.Color(v).setAlpha(_).toRgba()),a.addColorStop(y,v)}return a}}}),t.util.object.extend(t.Gradient,{fromElement:function(l,a,u,g){var d=parseFloat(u)/(/%$/.test(u)?100:1);d=d<0?0:d>1?1:d,isNaN(d)&&(d=1);var v=l.getElementsByTagName("stop"),_,y=l.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",b=l.getAttribute("gradientTransform")||"",w=[],C,S,O=0,j=0,Y;for(l.nodeName==="linearGradient"||l.nodeName==="LINEARGRADIENT"?(_="linear",C=i(l)):(_="radial",C=h(l)),S=v.length;S--;)w.push(c(v[S],d));Y=t.parseTransformAttribute(b),o(a,C,g,y),y==="pixels"&&(O=-a.left,j=-a.top);var G=new t.Gradient({id:l.getAttribute("id"),type:_,coords:C,colorStops:w,gradientUnits:y,gradientTransform:Y,offsetX:O,offsetY:j});return G}});function o(l,a,u,g){var d,v;Object.keys(a).forEach(function(_){d=a[_],d==="Infinity"?v=1:d==="-Infinity"?v=0:(v=parseFloat(a[_],10),typeof d=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(d)&&(v*=.01,g==="pixels"&&((_==="x1"||_==="x2"||_==="r2")&&(v*=u.viewBoxWidth||u.width),(_==="y1"||_==="y2")&&(v*=u.viewBoxHeight||u.height)))),a[_]=v})}}(),function(){var c=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,h){if(i||(i={}),this.id=t.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){h&&h(this);return}else{var f=this;this.source=t.util.createImage(),t.util.loadImage(i.source,function(o,l){f.source=o,h&&h(f,l)},null,this.crossOrigin)}},toObject:function(i){var h=t.Object.NUM_FRACTION_DIGITS,f,o;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),o={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:c(this.offsetX,h),offsetY:c(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,o,i),o},toSVG:function(i){var h=typeof this.source=="function"?this.source():this.source,f=h.width/i.width,o=h.height/i.height,l=this.offsetX/i.width,a=this.offsetY/i.height,u="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(o=1,a&&(o+=Math.abs(a))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,l&&(f+=Math.abs(l))),h.src?u=h.src:h.toDataURL&&(u=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+l+'" y="'+a+'" width="'+f+'" height="'+o+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+u+`"></image>
</pattern>
`},setOptions:function(i){for(var h in i)this[h]=i[h]},toLive:function(i){var h=this.source;return!h||typeof h.src<"u"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":i.createPattern(h,this.repeat)}})}(),function(c){var i=c.fabric||(c.fabric={}),h=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var o in f)this[o]=f[o];this.id=i.Object.__uid++},_parseShadow:function(f){var o=f.trim(),l=i.Shadow.reOffsetsAndBlur.exec(o)||[],a=o.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:a.trim(),offsetX:parseFloat(l[1],10)||0,offsetY:parseFloat(l[2],10)||0,blur:parseFloat(l[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var o=40,l=40,a=i.Object.NUM_FRACTION_DIGITS,u=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-f.angle)),g=20,d=new i.Color(this.color);return f.width&&f.height&&(o=h((Math.abs(u.x)+this.blur)/f.width,a)*100+g,l=h((Math.abs(u.y)+this.blur)/f.height,a)*100+g),f.flipX&&(u.x*=-1),f.flipY&&(u.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+l+'%" height="'+(100+2*l)+'%" x="-'+o+'%" width="'+(100+2*o)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,a)+`"></feGaussianBlur>
	<feOffset dx="`+h(u.x,a)+'" dy="'+h(u.y,a)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+d.toRgb()+'" flood-opacity="'+d.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},o=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(l){this[l]!==o[l]&&(f[l]=this[l])},this),f}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var c=t.util.object.extend,i=t.util.getElementOffset,h=t.util.removeFromArray,f=t.util.toFixed,o=t.util.transformPoint,l=t.util.invertTransform,a=t.util.getNodeCanvas,u=t.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(d,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(d,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(d,v){var _=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(d),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,_),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,_),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,_),v.overlayColor&&this.setOverlayColor(v.overlayColor,_),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var d=t.devicePixelRatio;this.__initRetinaScaling(d,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(d,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(d,v,_){v.setAttribute("width",this.width*d),v.setAttribute("height",this.height*d),_.scale(d,d)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(d,v,_){return this.__setBgOverlayImage("overlayImage",d,v,_)},setBackgroundImage:function(d,v,_){return this.__setBgOverlayImage("backgroundImage",d,v,_)},setOverlayColor:function(d,v){return this.__setBgOverlayColor("overlayColor",d,v)},setBackgroundColor:function(d,v){return this.__setBgOverlayColor("backgroundColor",d,v)},__setBgOverlayImage:function(d,v,_,y){return typeof v=="string"?t.util.loadImage(v,function(b,w){if(b){var C=new t.Image(b,y);this[d]=C,C.canvas=this}_&&_(b,w)},this,y&&y.crossOrigin):(y&&v.setOptions(y),this[d]=v,v&&(v.canvas=this),_&&_(v,!1)),this},__setBgOverlayColor:function(d,v,_){return this[d]=v,this._initGradient(v,d),this._initPattern(v,d,_),this},_createCanvasElement:function(){var d=u();if(!d||(d.style||(d.style={}),typeof d.getContext>"u"))throw g;return d},_initOptions:function(d){var v=this.lowerCanvasEl;this._setOptions(d),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(d){d&&d.getContext?this.lowerCanvasEl=d:this.lowerCanvasEl=t.util.getById(d)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(d,v){return this.setDimensions({width:d},v)},setHeight:function(d,v){return this.setDimensions({height:d},v)},setDimensions:function(d,v){var _;v=v||{};for(var y in d)_=d[y],v.cssOnly||(this._setBackstoreDimension(y,d[y]),_+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(y,_);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(d,v){return this.lowerCanvasEl[d]=v,this.upperCanvasEl&&(this.upperCanvasEl[d]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[d]=v),this[d]=v,this},_setCssDimension:function(d,v){return this.lowerCanvasEl.style[d]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[d]=v),this.wrapperEl&&(this.wrapperEl.style[d]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(d){var v=this._activeObject,_=this.backgroundImage,y=this.overlayImage,b,w,C;for(this.viewportTransform=d,w=0,C=this._objects.length;w<C;w++)b=this._objects[w],b.group||b.setCoords(!0);return v&&v.setCoords(),_&&_.setCoords(!0),y&&y.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(d,v){var _=d,y=this.viewportTransform.slice(0);d=o(d,l(this.viewportTransform)),y[0]=v,y[3]=v;var b=o(d,y);return y[4]+=_.x-b.x,y[5]+=_.y-b.y,this.setViewportTransform(y)},setZoom:function(d){return this.zoomToPoint(new t.Point(0,0),d),this},absolutePan:function(d){var v=this.viewportTransform.slice(0);return v[4]=-d.x,v[5]=-d.y,this.setViewportTransform(v)},relativePan:function(d){return this.absolutePan(new t.Point(-d.x-this.viewportTransform[4],-d.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(d){this.stateful&&d.setupState(),d._set("canvas",this),d.setCoords(),this.fire("object:added",{target:d}),d.fire("added")},_onObjectRemoved:function(d){this.fire("object:removed",{target:d}),d.fire("removed"),delete d.canvas},clearContext:function(d){return d.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var d=this.contextContainer;return this.renderCanvas(d,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var d={},v=this.width,_=this.height,y=l(this.viewportTransform);return d.tl=o({x:0,y:0},y),d.br=o({x:v,y:_},y),d.tr=new t.Point(d.br.x,d.tl.y),d.bl=new t.Point(d.tl.x,d.br.y),this.vptCoords=d,d},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(d,v){var _=this.viewportTransform,y=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(d),t.util.setImageSmoothing(d,this.imageSmoothingEnabled),this.fire("before:render",{ctx:d}),this._renderBackground(d),d.save(),d.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._renderObjects(d,v),d.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(d),y&&(y.canvas=this,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(d)),this._renderOverlay(d),this.controlsAboveOverlay&&this.interactive&&this.drawControls(d),this.fire("after:render",{ctx:d})},drawClipPathOnCanvas:function(d){var v=this.viewportTransform,_=this.clipPath;d.save(),d.transform(v[0],v[1],v[2],v[3],v[4],v[5]),d.globalCompositeOperation="destination-in",_.transform(d),d.scale(1/_.zoomX,1/_.zoomY),d.drawImage(_._cacheCanvas,-_.cacheTranslationX,-_.cacheTranslationY),d.restore()},_renderObjects:function(d,v){var _,y;for(_=0,y=v.length;_<y;++_)v[_]&&v[_].render(d)},_renderBackgroundOrOverlay:function(d,v){var _=this[v+"Color"],y=this[v+"Image"],b=this.viewportTransform,w=this[v+"Vpt"];if(!(!_&&!y)){if(_){d.save(),d.beginPath(),d.moveTo(0,0),d.lineTo(this.width,0),d.lineTo(this.width,this.height),d.lineTo(0,this.height),d.closePath(),d.fillStyle=_.toLive?_.toLive(d,this):_,w&&d.transform(b[0],b[1],b[2],b[3],b[4],b[5]),d.transform(1,0,0,1,_.offsetX||0,_.offsetY||0);var C=_.gradientTransform||_.patternTransform;C&&d.transform(C[0],C[1],C[2],C[3],C[4],C[5]),d.fill(),d.restore()}y&&(d.save(),w&&d.transform(b[0],b[1],b[2],b[3],b[4],b[5]),y.render(d),d.restore())}},_renderBackground:function(d){this._renderBackgroundOrOverlay(d,"background")},_renderOverlay:function(d){this._renderBackgroundOrOverlay(d,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(d){return this._centerObject(d,new t.Point(this.getCenterPoint().x,d.getCenterPoint().y))},centerObjectV:function(d){return this._centerObject(d,new t.Point(d.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(d){var v=this.getCenterPoint();return this._centerObject(d,v)},viewportCenterObject:function(d){var v=this.getVpCenter();return this._centerObject(d,v)},viewportCenterObjectH:function(d){var v=this.getVpCenter();return this._centerObject(d,new t.Point(v.x,d.getCenterPoint().y)),this},viewportCenterObjectV:function(d){var v=this.getVpCenter();return this._centerObject(d,new t.Point(d.getCenterPoint().x,v.y))},getVpCenter:function(){var d=this.getCenterPoint(),v=l(this.viewportTransform);return o(d,v)},_centerObject:function(d,v){return d.setPositionByOrigin(v,"center","center"),d.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(d){return this.toDatalessObject(d)},toObject:function(d){return this._toObjectMethod("toObject",d)},toDatalessObject:function(d){return this._toObjectMethod("toDatalessObject",d)},_toObjectMethod:function(d,v){var _=this.clipPath,y={version:t.version,objects:this._toObjects(d,v)};return _&&!_.excludeFromExport&&(y.clipPath=this._toObject(this.clipPath,d,v)),c(y,this.__serializeBgOverlay(d,v)),t.util.populateWithProperties(this,y,v),y},_toObjects:function(d,v){return this._objects.filter(function(_){return!_.excludeFromExport}).map(function(_){return this._toObject(_,d,v)},this)},_toObject:function(d,v,_){var y;this.includeDefaultValues||(y=d.includeDefaultValues,d.includeDefaultValues=!1);var b=d[v](_);return this.includeDefaultValues||(d.includeDefaultValues=y),b},__serializeBgOverlay:function(d,v){var _={},y=this.backgroundImage,b=this.overlayImage,w=this.backgroundColor,C=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(_.background=w.toObject(v)):w&&(_.background=w),C&&C.toObject?C.excludeFromExport||(_.overlay=C.toObject(v)):C&&(_.overlay=C),y&&!y.excludeFromExport&&(_.backgroundImage=this._toObject(y,d,v)),b&&!b.excludeFromExport&&(_.overlayImage=this._toObject(b,d,v)),_},svgViewportTransformation:!0,toSVG:function(d,v){d||(d={}),d.reviver=v;var _=[];return this._setSVGPreamble(_,d),this._setSVGHeader(_,d),this.clipPath&&_.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(_,"background"),this._setSVGBgOverlayImage(_,"backgroundImage",v),this._setSVGObjects(_,v),this.clipPath&&_.push(`</g>
`),this._setSVGBgOverlayColor(_,"overlay"),this._setSVGBgOverlayImage(_,"overlayImage",v),_.push("</svg>"),_.join("")},_setSVGPreamble:function(d,v){v.suppressPreamble||d.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(d,v){var _=v.width||this.width,y=v.height||this.height,b,w='viewBox="0 0 '+this.width+" "+this.height+'" ',C=t.Object.NUM_FRACTION_DIGITS;v.viewBox?w='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(b=this.viewportTransform,w='viewBox="'+f(-b[4]/b[0],C)+" "+f(-b[5]/b[3],C)+" "+f(this.width/b[0],C)+" "+f(this.height/b[3],C)+'" '),d.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',_,'" ','height="',y,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(d){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(d.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var d=this,v=["background","overlay"].map(function(_){var y=d[_+"Color"];if(y&&y.toLive){var b=d[_+"Vpt"],w=d.viewportTransform,C={width:d.width/(b?w[0]:1),height:d.height/(b?w[3]:1)};return y.toSVG(C,{additionalTransform:b?t.util.matrixToSVG(w):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var d="",v={},_,y,b,w,C,S,O,j,Y,G=t.fontPaths,U=[];for(this._objects.forEach(function ie(le){U.push(le),le._objects&&le._objects.forEach(ie)}),j=0,Y=U.length;j<Y;j++)if(_=U[j],y=_.fontFamily,!(_.type.indexOf("text")===-1||v[y]||!G[y])&&(v[y]=!0,!!_.styles)){b=_.styles;for(C in b){w=b[C];for(O in w)S=w[O],y=S.fontFamily,!v[y]&&G[y]&&(v[y]=!0)}}for(var ee in v)d+=[`		@font-face {
`,"			font-family: '",ee,`';
`,"			src: url('",G[ee],`');
`,`		}
`].join("");return d&&(d=['	<style type="text/css">',`<![CDATA[
`,d,"]]>",`</style>
`].join("")),d},_setSVGObjects:function(d,v){var _,y,b,w=this._objects;for(y=0,b=w.length;y<b;y++)_=w[y],!_.excludeFromExport&&this._setSVGObject(d,_,v)},_setSVGObject:function(d,v,_){d.push(v.toSVG(_))},_setSVGBgOverlayImage:function(d,v,_){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&d.push(this[v].toSVG(_))},_setSVGBgOverlayColor:function(d,v){var _=this[v+"Color"],y=this.viewportTransform,b=this.width,w=this.height;if(_)if(_.toLive){var C=_.repeat,S=t.util.invertTransform(y),O=this[v+"Vpt"],j=O?t.util.matrixToSVG(S):"";d.push('<rect transform="'+j+" translate(",b/2,",",w/2,')"',' x="',_.offsetX-b/2,'" y="',_.offsetY-w/2,'" ','width="',C==="repeat-y"||C==="no-repeat"?_.source.width:b,'" height="',C==="repeat-x"||C==="no-repeat"?_.source.height:w,'" fill="url(#SVGID_'+_.id+')"',`></rect>
`)}else d.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',_,'"',`></rect>
`)},sendToBack:function(d){if(!d)return this;var v=this._activeObject,_,y,b;if(d===v&&d.type==="activeSelection")for(b=v._objects,_=b.length;_--;)y=b[_],h(this._objects,y),this._objects.unshift(y);else h(this._objects,d),this._objects.unshift(d);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(d){if(!d)return this;var v=this._activeObject,_,y,b;if(d===v&&d.type==="activeSelection")for(b=v._objects,_=0;_<b.length;_++)y=b[_],h(this._objects,y),this._objects.push(y);else h(this._objects,d),this._objects.push(d);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(d,v){if(!d)return this;var _=this._activeObject,y,b,w,C,S,O=0;if(d===_&&d.type==="activeSelection")for(S=_._objects,y=0;y<S.length;y++)b=S[y],w=this._objects.indexOf(b),w>0+O&&(C=w-1,h(this._objects,b),this._objects.splice(C,0,b)),O++;else w=this._objects.indexOf(d),w!==0&&(C=this._findNewLowerIndex(d,w,v),h(this._objects,d),this._objects.splice(C,0,d));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(d,v,_){var y,b;if(_)for(y=v,b=v-1;b>=0;--b){var w=d.intersectsWithObject(this._objects[b])||d.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(d);if(w){y=b;break}}else y=v-1;return y},bringForward:function(d,v){if(!d)return this;var _=this._activeObject,y,b,w,C,S,O=0;if(d===_&&d.type==="activeSelection")for(S=_._objects,y=S.length;y--;)b=S[y],w=this._objects.indexOf(b),w<this._objects.length-1-O&&(C=w+1,h(this._objects,b),this._objects.splice(C,0,b)),O++;else w=this._objects.indexOf(d),w!==this._objects.length-1&&(C=this._findNewUpperIndex(d,w,v),h(this._objects,d),this._objects.splice(C,0,d));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(d,v,_){var y,b,w;if(_)for(y=v,b=v+1,w=this._objects.length;b<w;++b){var C=d.intersectsWithObject(this._objects[b])||d.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(d);if(C){y=b;break}}else y=v+1;return y},moveTo:function(d,v){return h(this._objects,d),this._objects.splice(v,0,d),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(d){d.dispose&&d.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),c(t.StaticCanvas.prototype,t.Observable),c(t.StaticCanvas.prototype,t.Collection),c(t.StaticCanvas.prototype,t.DataURLExporter),c(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(d){var v=u();if(!v||!v.getContext)return null;var _=v.getContext("2d");if(!_)return null;switch(d){case"setLineDash":return typeof _.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var d=a(this.lowerCanvasEl);return d&&d.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(d){var v=a(this.lowerCanvasEl);return v&&v.createJPEGStream(d)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(c){c.strokeStyle=this.color,c.lineWidth=this.width,c.lineCap=this.strokeLineCap,c.miterLimit=this.strokeMiterLimit,c.lineJoin=this.strokeLineJoin,c.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(c){var i=this.canvas.viewportTransform;c.save(),c.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var c=this.canvas,i=this.shadow,h=c.contextTop,f=c.getZoom();c&&c._isRetinaScaling()&&(f*=t.devicePixelRatio),h.shadowColor=i.color,h.shadowBlur=i.blur*f,h.shadowOffsetX=i.offsetX*f,h.shadowOffsetY=i.offsetY*f}},needsFullRender:function(){var c=new t.Color(this.color);return c.getAlpha()<1||!!this.shadow},_resetShadow:function(){var c=this.canvas.contextTop;c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0},_isOutSideCanvas:function(c){return c.x<0||c.x>this.canvas.getWidth()||c.y<0||c.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(c){this.canvas=c,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(c,i,h){var f=i.midPointFrom(h);return c.quadraticCurveTo(i.x,i.y,f.x,f.y),f},onMouseDown:function(c,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(c),this._captureDrawingPath(c),this._render())},onMouseMove:function(c,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c))&&this._captureDrawingPath(c)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,f=h.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,h[f-2],h[f-1],!0),o.stroke(),o.restore()}},onMouseUp:function(c){return this.canvas._isMainEvent(c.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(c){var i=new t.Point(c.x,c.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(c){return this._points.length>1&&c.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(c),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(c){var i=new t.Point(c.x,c.y);return this._addPoint(i)},_render:function(c){var i,h,f=this._points[0],o=this._points[1];if(c=c||this.canvas.contextTop,this._saveAndTransform(c),c.beginPath(),this._points.length===2&&f.x===o.x&&f.y===o.y){var l=this.width/1e3;f=new t.Point(f.x,f.y),o=new t.Point(o.x,o.y),f.x-=l,o.x+=l}for(c.moveTo(f.x,f.y),i=1,h=this._points.length;i<h;i++)this._drawSegment(c,f,o),f=this._points[i],o=this._points[i+1];c.lineTo(f.x,f.y),c.stroke(),c.restore()},convertPointsToSVGPath:function(c){var i=this.width/1e3;return t.util.getSmoothPathFromPoints(c,i)},_isEmptySVGPath:function(c){var i=t.util.joinPath(c);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(c){var i=new t.Path(c,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new t.Shadow(this.shadow)),i},decimatePoints:function(c,i){if(c.length<=2)return c;var h=this.canvas.getZoom(),f=Math.pow(i/h,2),o,l=c.length-1,a=c[0],u=[a],g;for(o=1;o<l-1;o++)g=Math.pow(a.x-c[o].x,2)+Math.pow(a.y-c[o].y,2),g>=f&&(a=c[o],u.push(a));return u.push(c[l]),u},_finalizeAndAddPath:function(){var c=this.canvas.contextTop;c.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var h=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(c){this.canvas=c,this.points=[]},drawDot:function(c){var i=this.addPoint(c),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,i),h.restore()},dot:function(c,i){c.fillStyle=i.fill,c.beginPath(),c.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),c.closePath(),c.fill()},onMouseDown:function(c){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(c)},_render:function(){var c=this.canvas.contextTop,i,h,f=this.points;for(this._saveAndTransform(c),i=0,h=f.length;i<h;i++)this.dot(c,f[i]);c.restore()},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(c),this._render()):this.drawDot(c))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove,i,h;this.canvas.renderOnAddRemove=!1;var f=[];for(i=0,h=this.points.length;i<h;i++){var o=this.points[i],l=new t.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(l.shadow=new t.Shadow(this.shadow)),f.push(l)}var a=new t.Group(f);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},addPoint:function(c){var i=new t.Point(c.x,c.y),h=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return i.radius=h,i.fill=f,this.points.push(i),i}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(c){this.canvas=c,this.sprayChunks=[]},onMouseDown:function(c){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(c),this.render(this.sprayChunkPoints)},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.addSprayChunk(c),this.render(this.sprayChunkPoints))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],h=0,f=this.sprayChunks.length;h<f;h++)for(var o=this.sprayChunks[h],l=0,a=o.length;l<a;l++){var u=new t.Rect({width:o[l].width,height:o[l].width,left:o[l].x+1,top:o[l].y+1,originX:"center",originY:"center",fill:this.color});i.push(u)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var g=new t.Group(i);this.shadow&&g.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},_getOptimizedRects:function(c){var i={},h,f,o;for(f=0,o=c.length;f<o;f++)h=c[f].left+""+c[f].top,i[h]||(i[h]=c[f]);var l=[];for(h in i)l.push(i[h]);return l},render:function(c){var i=this.canvas.contextTop,h,f;for(i.fillStyle=this.color,this._saveAndTransform(i),h=0,f=c.length;h<f;h++){var o=c[h];typeof o.opacity<"u"&&(i.globalAlpha=o.opacity),i.fillRect(o.x,o.y,o.width,o.width)}i.restore()},_render:function(){var c=this.canvas.contextTop,i,h;for(c.fillStyle=this.color,this._saveAndTransform(c),i=0,h=this.sprayChunks.length;i<h;i++)this.render(this.sprayChunks[i]);c.restore()},addSprayChunk:function(c){this.sprayChunkPoints=[];var i,h,f,o=this.width/2,l;for(l=0;l<this.density;l++){i=t.util.getRandomInt(c.x-o,c.x+o),h=t.util.getRandomInt(c.y-o,c.y+o),this.dotWidthVariance?f=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var a=new t.Point(i,h);a.width=f,this.randomOpacity&&(a.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var c=20,i=5,h=t.util.createCanvasElement(),f=h.getContext("2d");return h.width=h.height=c+i,f.fillStyle=this.color,f.beginPath(),f.arc(c/2,c/2,c/2,0,Math.PI*2,!1),f.closePath(),f.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(c){return c.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(c){this.callSuper("_setBrushStyles",c),c.strokeStyle=this.getPattern(c)},createPath:function(c){var i=this.callSuper("createPath",c),h=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),i}}),function(){var c=t.util.getPointer,i=t.util.degreesToRadians,h=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(o,l){l||(l={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,l),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var o=this.getActiveObjects(),l,a,u;if(o.length>0&&!this.preserveObjectStacking){a=[],u=[];for(var g=0,d=this._objects.length;g<d;g++)l=this._objects[g],o.indexOf(l)===-1?a.push(l):u.push(l);o.length>1&&(this._activeObject._objects=u),a.push.apply(a,u)}else a=this._objects;return a},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var o=this.contextContainer;return this.renderCanvas(o,this._chooseObjectsToRender()),this},renderTopLayer:function(o){o.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(o),this.contextTopDirty=!0),o.restore()},renderTop:function(){var o=this.contextTop;return this.clearContext(o),this.renderTopLayer(o),this.fire("after:render"),this},_normalizePointer:function(o,l){var a=o.calcTransformMatrix(),u=t.util.invertTransform(a),g=this.restorePointerVpt(l);return t.util.transformPoint(g,u)},isTargetTransparent:function(o,l,a){if(o.shouldCache()&&o._cacheCanvas&&o!==this._activeObject){var u=this._normalizePointer(o,{x:l,y:a}),g=Math.max(o.cacheTranslationX+u.x*o.zoomX,0),d=Math.max(o.cacheTranslationY+u.y*o.zoomY,0),b=t.util.isTransparent(o._cacheContext,Math.round(g),Math.round(d),this.targetFindTolerance);return b}var v=this.contextCache,_=o.selectionBackgroundColor,y=this.viewportTransform;o.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(y[0],y[1],y[2],y[3],y[4],y[5]),o.render(v),v.restore(),o.selectionBackgroundColor=_;var b=t.util.isTransparent(v,l,a,this.targetFindTolerance);return b},_isSelectionKeyPressed:function(o){var l=!1;return Array.isArray(this.selectionKey)?l=!!this.selectionKey.find(function(a){return o[a]===!0}):l=o[this.selectionKey],l},_shouldClearSelection:function(o,l){var a=this.getActiveObjects(),u=this._activeObject;return!l||l&&u&&a.length>1&&a.indexOf(l)===-1&&u!==l&&!this._isSelectionKeyPressed(o)||l&&!l.evented||l&&!l.selectable&&u&&u!==l},_shouldCenterTransform:function(o,l,a){if(o){var u;return l==="scale"||l==="scaleX"||l==="scaleY"||l==="resizing"?u=this.centeredScaling||o.centeredScaling:l==="rotate"&&(u=this.centeredRotation||o.centeredRotation),u?!a:a}},_getOriginFromCorner:function(o,l){var a={x:o.originX,y:o.originY};return l==="ml"||l==="tl"||l==="bl"?a.x="right":(l==="mr"||l==="tr"||l==="br")&&(a.x="left"),l==="tl"||l==="mt"||l==="tr"?a.y="bottom":(l==="bl"||l==="mb"||l==="br")&&(a.y="top"),a},_getActionFromCorner:function(o,l,a,u){if(!l||!o)return"drag";var g=u.controls[l];return g.getActionName(a,g,u)},_setupCurrentTransform:function(o,l,a){if(l){var u=this.getPointer(o),g=l.__corner,d=l.controls[g],v=a&&g?d.getActionHandler(o,l,d):t.controlsUtils.dragHandler,_=this._getActionFromCorner(a,g,o,l),y=this._getOriginFromCorner(l,g),b=o[this.centeredKey],w={target:l,action:_,actionHandler:v,corner:g,scaleX:l.scaleX,scaleY:l.scaleY,skewX:l.skewX,skewY:l.skewY,offsetX:u.x-l.left,offsetY:u.y-l.top,originX:y.x,originY:y.y,ex:u.x,ey:u.y,lastX:u.x,lastY:u.y,theta:i(l.angle),width:l.width*l.scaleX,shiftKey:o.shiftKey,altKey:b,original:t.util.saveObjectTransform(l)};this._shouldCenterTransform(l,_,b)&&(w.originX="center",w.originY="center"),w.original.originX=y.x,w.original.originY=y.y,this._currentTransform=w,this._beforeTransform(o)}},setCursor:function(o){this.upperCanvasEl.style.cursor=o},_drawSelection:function(o){var l=this._groupSelector,a=new t.Point(l.ex,l.ey),u=t.util.transformPoint(a,this.viewportTransform),g=new t.Point(l.ex+l.left,l.ey+l.top),d=t.util.transformPoint(g,this.viewportTransform),v=Math.min(u.x,d.x),_=Math.min(u.y,d.y),y=Math.max(u.x,d.x),b=Math.max(u.y,d.y),w=this.selectionLineWidth/2;this.selectionColor&&(o.fillStyle=this.selectionColor,o.fillRect(v,_,y-v,b-_)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(o.lineWidth=this.selectionLineWidth,o.strokeStyle=this.selectionBorderColor,v+=w,_+=w,y-=w,b-=w,t.Object.prototype._setLineDash.call(this,o,this.selectionDashArray),o.strokeRect(v,_,y-v,b-_))},findTarget:function(o,l){if(!this.skipTargetFind){var a=!0,u=this.getPointer(o,a),g=this._activeObject,d=this.getActiveObjects(),v,_,y=h(o),b=d.length>1&&!l||d.length===1;if(this.targets=[],b&&g._findTargetCorner(u,y)||d.length>1&&!l&&g===this._searchPossibleTargets([g],u))return g;if(d.length===1&&g===this._searchPossibleTargets([g],u))if(this.preserveObjectStacking)v=g,_=this.targets,this.targets=[];else return g;var w=this._searchPossibleTargets(this._objects,u);return o[this.altSelectionKey]&&w&&v&&w!==v&&(w=v,this.targets=_),w}},_checkTarget:function(o,l,a){if(l&&l.visible&&l.evented&&l.containsPoint(o))if((this.perPixelTargetFind||l.perPixelTargetFind)&&!l.isEditing){var u=this.isTargetTransparent(l,a.x,a.y);if(!u)return!0}else return!0},_searchPossibleTargets:function(o,l){for(var a,u=o.length,g;u--;){var d=o[u],v=d.group?this._normalizePointer(d.group,l):l;if(this._checkTarget(v,d,l)){a=o[u],a.subTargetCheck&&a instanceof t.Group&&(g=this._searchPossibleTargets(a._objects,l),g&&this.targets.push(g));break}}return a},restorePointerVpt:function(o){return t.util.transformPoint(o,t.util.invertTransform(this.viewportTransform))},getPointer:function(o,l){if(this._absolutePointer&&!l)return this._absolutePointer;if(this._pointer&&l)return this._pointer;var a=c(o),u=this.upperCanvasEl,g=u.getBoundingClientRect(),d=g.width||0,v=g.height||0,_;(!d||!v)&&("top"in g&&"bottom"in g&&(v=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(d=Math.abs(g.right-g.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,l||(a=this.restorePointerVpt(a));var y=this.getRetinaScaling();return y!==1&&(a.x/=y,a.y/=y),d===0||v===0?_={width:1,height:1}:_={width:u.width/d,height:u.height/v},{x:a.x*_.width,y:a.y*_.height}},_createUpperCanvas:function(){var o=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),l=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),t.util.addClass(a,"upper-canvas "+o),this.wrapperEl.appendChild(a),this._copyCanvasStyle(l,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(o){var l=this.width||o.width,a=this.height||o.height;t.util.setStyle(o,{position:"absolute",width:l+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),o.width=l,o.height=a,t.util.makeElementUnselectable(o)},_copyCanvasStyle:function(o,l){l.style.cssText=o.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var o=this._activeObject;return o?o.type==="activeSelection"&&o._objects?o._objects.slice(0):[o]:[]},_onObjectRemoved:function(o){o===this._activeObject&&(this.fire("before:selection:cleared",{target:o}),this._discardActiveObject(),this.fire("selection:cleared",{target:o}),o.fire("deselected")),o===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",o)},_fireSelectionEvents:function(o,l){var a=!1,u=this.getActiveObjects(),g=[],d=[];o.forEach(function(v){u.indexOf(v)===-1&&(a=!0,v.fire("deselected",{e:l,target:v}),d.push(v))}),u.forEach(function(v){o.indexOf(v)===-1&&(a=!0,v.fire("selected",{e:l,target:v}),g.push(v))}),o.length>0&&u.length>0?a&&this.fire("selection:updated",{e:l,selected:g,deselected:d}):u.length>0?this.fire("selection:created",{e:l,selected:g}):o.length>0&&this.fire("selection:cleared",{e:l,deselected:d})},setActiveObject:function(o,l){var a=this.getActiveObjects();return this._setActiveObject(o,l),this._fireSelectionEvents(a,l),this},_setActiveObject:function(o,l){return this._activeObject===o||!this._discardActiveObject(l,o)||o.onSelect({e:l})?!1:(this._activeObject=o,!0)},_discardActiveObject:function(o,l){var a=this._activeObject;if(a){if(a.onDeselect({e:o,object:l}))return!1;this._activeObject=null}return!0},discardActiveObject:function(o){var l=this.getActiveObjects(),a=this.getActiveObject();return l.length&&this.fire("before:selection:cleared",{target:a,e:o}),this._discardActiveObject(o),this._fireSelectionEvents(l,o),this},dispose:function(){var o=this.wrapperEl;return this.removeListeners(),o.removeChild(this.upperCanvasEl),o.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(l){t.util.cleanUpJsdomNode(this[l]),this[l]=void 0}).bind(this)),o.parentNode&&o.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(o){var l=this._activeObject;l&&l._renderControls(o)},_toObject:function(o,l,a){var u=this._realizeGroupTransformOnObject(o),g=this.callSuper("_toObject",o,l,a);return this._unwindGroupTransformOnObject(o,u),g},_realizeGroupTransformOnObject:function(o){if(o.group&&o.group.type==="activeSelection"&&this._activeObject===o.group){var l=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],a={};return l.forEach(function(u){a[u]=o[u]}),t.util.addTransformToObject(o,this._activeObject.calcOwnMatrix()),a}else return null},_unwindGroupTransformOnObject:function(o,l){l&&o.set(l)},_setSVGObject:function(o,l,a){var u=this._realizeGroupTransformOnObject(l);this.callSuper("_setSVGObject",o,l,a),this._unwindGroupTransformOnObject(l,u)},setViewportTransform:function(o){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,o)}});for(var f in t.StaticCanvas)f!=="prototype"&&(t.Canvas[f]=t.StaticCanvas[f])}(),function(){var c=t.util.addListener,i=t.util.removeListener,h=3,f=2,o=1,l={passive:!1};function a(u,g){return u.button&&u.button===g-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(c,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(u,g){var d=this.upperCanvasEl,v=this._getEventPrefix();u(t.window,"resize",this._onResize),u(d,v+"down",this._onMouseDown),u(d,v+"move",this._onMouseMove,l),u(d,v+"out",this._onMouseOut),u(d,v+"enter",this._onMouseEnter),u(d,"wheel",this._onMouseWheel),u(d,"contextmenu",this._onContextMenu),u(d,"dblclick",this._onDoubleClick),u(d,"dragover",this._onDragOver),u(d,"dragenter",this._onDragEnter),u(d,"dragleave",this._onDragLeave),u(d,"drop",this._onDrop),this.enablePointerEvents||u(d,"touchstart",this._onTouchStart,l),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](d,"gesture",this._onGesture),eventjs[g](d,"drag",this._onDrag),eventjs[g](d,"orientation",this._onOrientationChange),eventjs[g](d,"shake",this._onShake),eventjs[g](d,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var u=this._getEventPrefix();i(t.document,u+"up",this._onMouseUp),i(t.document,"touchend",this._onTouchEnd,l),i(t.document,u+"move",this._onMouseMove,l),i(t.document,"touchmove",this._onMouseMove,l)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(u,g){this.__onTransformGesture&&this.__onTransformGesture(u,g)},_onDrag:function(u,g){this.__onDrag&&this.__onDrag(u,g)},_onMouseWheel:function(u){this.__onMouseWheel(u)},_onMouseOut:function(u){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:u}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:u});var d=this;this._hoveredTargets.forEach(function(v){d.fire("mouse:out",{target:g,e:u}),v&&g.fire("mouseout",{e:u})}),this._hoveredTargets=[]},_onMouseEnter:function(u){!this._currentTransform&&!this.findTarget(u)&&(this.fire("mouse:over",{target:null,e:u}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(u,g){this.__onOrientationChange&&this.__onOrientationChange(u,g)},_onShake:function(u,g){this.__onShake&&this.__onShake(u,g)},_onLongPress:function(u,g){this.__onLongPress&&this.__onLongPress(u,g)},_onDragOver:function(u){u.preventDefault();var g=this._simpleEventHandler("dragover",u);this._fireEnterLeaveEvents(g,u)},_onDrop:function(u){return this._simpleEventHandler("drop:before",u),this._simpleEventHandler("drop",u)},_onContextMenu:function(u){return this.stopContextMenu&&(u.stopPropagation(),u.preventDefault()),!1},_onDoubleClick:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"dblclick"),this._resetTransformEventData(u)},getPointerId:function(u){var g=u.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?u.pointerId:-1},_isMainEvent:function(u){return u.isPrimary===!0?!0:u.isPrimary===!1?!1:u.type==="touchend"&&u.touches.length===0?!0:u.changedTouches?u.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(u){u.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(u)),this.__onMouseDown(u),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();c(t.document,"touchend",this._onTouchEnd,l),c(t.document,"touchmove",this._onMouseMove,l),i(g,d+"down",this._onMouseDown)},_onMouseDown:function(u){this.__onMouseDown(u),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();i(g,d+"move",this._onMouseMove,l),c(t.document,d+"up",this._onMouseUp),c(t.document,d+"move",this._onMouseMove,l)},_onTouchEnd:function(u){if(!(u.touches.length>0)){this.__onMouseUp(u),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();i(t.document,"touchend",this._onTouchEnd,l),i(t.document,"touchmove",this._onMouseMove,l);var d=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){c(d.upperCanvasEl,g+"down",d._onMouseDown),d._willAddMouseDown=0},400)}},_onMouseUp:function(u){this.__onMouseUp(u),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();this._isMainEvent(u)&&(i(t.document,d+"up",this._onMouseUp),i(t.document,d+"move",this._onMouseMove,l),c(g,d+"move",this._onMouseMove,l))},_onMouseMove:function(u){!this.allowTouchScrolling&&u.preventDefault&&u.preventDefault(),this.__onMouseMove(u)},_onResize:function(){this.calcOffset()},_shouldRender:function(u){var g=this._activeObject;return!!g!=!!u||g&&u&&g!==u?!0:(g&&g.isEditing,!1)},__onMouseUp:function(u){var g,d=this._currentTransform,v=this._groupSelector,_=!1,y=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(u),g=this._target,this._handleEvent(u,"up:before"),a(u,h)){this.fireRightClick&&this._handleEvent(u,"up",h,y);return}if(a(u,f)){this.fireMiddleClick&&this._handleEvent(u,"up",f,y),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(u);return}if(this._isMainEvent(u)){if(d&&(this._finalizeCurrentTransform(u),_=d.actionPerformed),!y){var b=g===this._activeObject;this._maybeGroupObjects(u),_||(_=this._shouldRender(g)||!b&&g===this._activeObject)}var w,C;if(g){if(w=g._findTargetCorner(this.getPointer(u,!0),t.util.isTouchEvent(u)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,u),_=!0;else{var S=g.controls[w],O=S&&S.getMouseUpHandler(u,g,S);O&&(C=this.getPointer(u),O(u,d,C.x,C.y))}g.isMoving=!1}if(d&&(d.target!==g||d.corner!==w)){var j=d.target&&d.target.controls[d.corner],Y=j&&j.getMouseUpHandler(u,g,S);C=C||this.getPointer(u),Y&&Y(u,d,C.x,C.y)}this._setCursorFromEvent(u,g),this._handleEvent(u,"up",o,y),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),_?this.requestRenderAll():y||this.renderTop()}},_simpleEventHandler:function(u,g){var d=this.findTarget(g),v=this.targets,_={e:g,target:d,subTargets:v};if(this.fire(u,_),d&&d.fire(u,_),!v)return d;for(var y=0;y<v.length;y++)v[y].fire(u,_);return d},_handleEvent:function(u,g,d,v){var _=this._target,y=this.targets||[],b={e:u,target:_,subTargets:y,button:d||o,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(b.currentTarget=this.findTarget(u),b.currentSubTargets=this.targets),this.fire("mouse:"+g,b),_&&_.fire("mouse"+g,b);for(var w=0;w<y.length;w++)y[w].fire("mouse"+g,b)},_finalizeCurrentTransform:function(u){var g=this._currentTransform,d=g.target,v={e:u,target:d,transform:g,action:g.action};d._scaling&&(d._scaling=!1),d.setCoords(),(g.actionPerformed||this.stateful&&d.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(u){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(u).requestRenderAll();var g=this.getPointer(u);this.freeDrawingBrush.onMouseDown(g,{e:u,pointer:g}),this._handleEvent(u,"down")},_onMouseMoveInDrawingMode:function(u){if(this._isCurrentlyDrawing){var g=this.getPointer(u);this.freeDrawingBrush.onMouseMove(g,{e:u,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(u,"move")},_onMouseUpInDrawingMode:function(u){var g=this.getPointer(u);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:u,pointer:g}),this._handleEvent(u,"up")},__onMouseDown:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"down:before");var g=this._target;if(a(u,h)){this.fireRightClick&&this._handleEvent(u,"down",h);return}if(a(u,f)){this.fireMiddleClick&&this._handleEvent(u,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(u);return}if(this._isMainEvent(u)&&!this._currentTransform){var d=this._pointer;this._previousPointer=d;var v=this._shouldRender(g),_=this._shouldGroup(u,g);if(this._shouldClearSelection(u,g)?this.discardActiveObject(u):_&&(this._handleGrouping(u,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var y=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,u);var b=g._findTargetCorner(this.getPointer(u,!0),t.util.isTouchEvent(u));if(g.__corner=b,g===this._activeObject&&(b||!_)){this._setupCurrentTransform(u,g,y);var w=g.controls[b],d=this.getPointer(u),C=w&&w.getMouseDownHandler(u,g,w);C&&C(u,this._currentTransform,d.x,d.y)}}this._handleEvent(u,"down"),(v||_)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(u){this._resetTransformEventData(),this._pointer=this.getPointer(u,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(u)||null},_beforeTransform:function(u){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:u,transform:g})},__onMouseMove:function(u){this._handleEvent(u,"move:before"),this._cacheTransformEventData(u);var g,d;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(u);return}if(this._isMainEvent(u)){var v=this._groupSelector;v?(d=this._absolutePointer,v.left=d.x-v.ex,v.top=d.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(u):(g=this.findTarget(u)||null,this._setCursorFromEvent(u,g),this._fireOverOutEvents(g,u)),this._handleEvent(u,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(u,g){var d=this._hoveredTarget,v=this._hoveredTargets,_=this.targets,y=Math.max(v.length,_.length);this.fireSyntheticInOutEvents(u,g,{oldTarget:d,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var b=0;b<y;b++)this.fireSyntheticInOutEvents(_[b],g,{oldTarget:v[b],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=u,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(u,g){var d=this._draggedoverTarget,v=this._hoveredTargets,_=this.targets,y=Math.max(v.length,_.length);this.fireSyntheticInOutEvents(u,g,{oldTarget:d,evtOut:"dragleave",evtIn:"dragenter"});for(var b=0;b<y;b++)this.fireSyntheticInOutEvents(_[b],g,{oldTarget:v[b],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=u},fireSyntheticInOutEvents:function(u,g,d){var v,_,y=d.oldTarget,b,w,C=y!==u,S=d.canvasEvtIn,O=d.canvasEvtOut;C&&(v={e:g,target:u,previousTarget:y},_={e:g,target:y,nextTarget:u}),w=u&&C,b=y&&C,b&&(O&&this.fire(O,_),y.fire(d.evtOut,_)),w&&(S&&this.fire(S,v),u.fire(d.evtIn,v))},__onMouseWheel:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"wheel"),this._resetTransformEventData()},_transformObject:function(u){var g=this.getPointer(u),d=this._currentTransform;d.reset=!1,d.shiftKey=u.shiftKey,d.altKey=u[this.centeredKey],this._performTransformAction(u,d,g),d.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(u,g,d){var v=d.x,_=d.y,y=g.action,b=!1,w=g.actionHandler;w&&(b=w(u,g,v,_)),y==="drag"&&b&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||b},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(u,g){if(!g)return this.setCursor(this.defaultCursor),!1;var d=g.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,_=(!v||!v.contains(g))&&g._findTargetCorner(this.getPointer(u,!0));_?this.setCursor(this.getCornerCursor(_,g,u)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(y){d=y.hoverCursor||d}),this.setCursor(d))},getCornerCursor:function(u,g,d){var v=g.controls[u];return v.cursorStyleHandler(d,v,g)}})}(),function(){var c=Math.min,i=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(h,f){var o=this._activeObject;return o&&this._isSelectionKeyPressed(h)&&f&&f.selectable&&this.selection&&(o!==f||o.type==="activeSelection")&&!f.onSelect({e:h})},_handleGrouping:function(h,f){var o=this._activeObject;o.__corner||f===o&&(f=this.findTarget(h,!0),!f||!f.selectable)||(o&&o.type==="activeSelection"?this._updateActiveSelection(f,h):this._createActiveSelection(f,h))},_updateActiveSelection:function(h,f){var o=this._activeObject,l=o._objects.slice(0);o.contains(h)?(o.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),o.size()===1&&this._setActiveObject(o.item(0),f)):(o.addWithUpdate(h),this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(l,f)},_createActiveSelection:function(h,f){var o=this.getActiveObjects(),l=this._createGroup(h);this._hoveredTarget=l,this._setActiveObject(l,f),this._fireSelectionEvents(o,f)},_createGroup:function(h){var f=this._objects,o=f.indexOf(this._activeObject)<f.indexOf(h),l=o?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(l,{canvas:this})},_groupSelectedObjects:function(h){var f=this._collectObjects(h),o;f.length===1?this.setActiveObject(f[0],h):f.length>1&&(o=new t.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(o,h))},_collectObjects:function(h){for(var f=[],o,l=this._groupSelector.ex,a=this._groupSelector.ey,u=l+this._groupSelector.left,g=a+this._groupSelector.top,d=new t.Point(c(l,u),c(a,g)),v=new t.Point(i(l,u),i(a,g)),_=!this.selectionFullyContained,y=l===u&&a===g,b=this._objects.length;b--&&(o=this._objects[b],!(!(!o||!o.selectable||!o.visible)&&(_&&o.intersectsWithRect(d,v,!0)||o.isContainedWithinRect(d,v,!0)||_&&o.containsPoint(d,null,!0)||_&&o.containsPoint(v,null,!0))&&(f.push(o),y))););return f.length>1&&(f=f.filter(function(w){return!w.onSelect({e:h})})),f},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(c){c||(c={});var i=c.format||"png",h=c.quality||1,f=(c.multiplier||1)*(c.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(f,c);return t.util.toDataURL(o,i,h)},toCanvasElement:function(c,i){c=c||1,i=i||{};var h=(i.width||this.width)*c,f=(i.height||this.height)*c,o=this.getZoom(),l=this.width,a=this.height,u=o*c,g=this.viewportTransform,d=(g[4]-(i.left||0))*c,v=(g[5]-(i.top||0))*c,_=this.interactive,y=[u,0,0,u,d,v],b=this.enableRetinaScaling,w=t.util.createCanvasElement(),C=this.contextTop;return w.width=h,w.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=y,this.width=h,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=g,this.width=l,this.height=a,this.calcViewportBoundaries(),this.interactive=_,this.enableRetinaScaling=b,this.contextTop=C,w}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(c,i,h){if(c){var f=typeof c=="string"?JSON.parse(c):t.util.object.clone(c),o=this,l=f.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(u){o.clear(),o._setBgOverlay(f,function(){l?o._enlivenObjects([l],function(g){o.clipPath=g[0],o.__setupCanvas.call(o,f,u,a,i)}):o.__setupCanvas.call(o,f,u,a,i)})},h),this}},__setupCanvas:function(c,i,h,f){var o=this;i.forEach(function(l,a){o.insertAt(l,a)}),this.renderOnAddRemove=h,delete c.objects,delete c.backgroundImage,delete c.overlayImage,delete c.background,delete c.overlay,this._setOptions(c),this.renderAll(),f&&f()},_setBgOverlay:function(c,i){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!c.backgroundImage&&!c.overlayImage&&!c.background&&!c.overlay){i&&i();return}var f=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",c.backgroundImage,h,f),this.__setBgOverlay("overlayImage",c.overlayImage,h,f),this.__setBgOverlay("backgroundColor",c.background,h,f),this.__setBgOverlay("overlayColor",c.overlay,h,f)},__setBgOverlay:function(c,i,h,f){var o=this;if(!i){h[c]=!0,f&&f();return}c==="backgroundImage"||c==="overlayImage"?t.util.enlivenObjects([i],function(l){o[c]=l[0],h[c]=!0,f&&f()}):this["set"+t.util.string.capitalize(c,!0)](i,function(){h[c]=!0,f&&f()})},_enlivenObjects:function(c,i,h){if(!c||c.length===0){i&&i([]);return}t.util.enlivenObjects(c,function(f){i&&i(f)},null,h)},_toDataURL:function(c,i){this.clone(function(h){i(h.toDataURL(c))})},_toDataURLWithMultiplier:function(c,i,h){this.clone(function(f){h(f.toDataURLWithMultiplier(c,i))})},clone:function(c,i){var h=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(f){f.loadFromJSON(h,function(){c&&c(f)})})},cloneWithoutData:function(c){var i=t.util.createCanvasElement();i.width=this.width,i.height=this.height;var h=new t.Canvas(i);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),c&&c(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):c&&c(h)}}),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.util.object.clone,o=i.util.toFixed,l=i.util.string.capitalize,a=i.util.degreesToRadians,u=!i.isLikelyNode,g=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:u,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(d){d&&this.setOptions(d)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(d){var v=i.perfLimitSizeTotal,_=d.width,y=d.height,b=i.maxCacheSideLimit,w=i.minCacheSideLimit;if(_<=b&&y<=b&&_*y<=v)return _<w&&(d.width=w),y<w&&(d.height=w),d;var C=_/y,S=i.util.limitDimsByArea(C,v),O=i.util.capValue,j=O(w,S.x,b),Y=O(w,S.y,b);return _>j&&(d.zoomX/=_/j,d.width=j,d.capped=!0),y>Y&&(d.zoomY/=y/Y,d.height=Y,d.capped=!0),d},_getCacheCanvasDimensions:function(){var d=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),_=v.x*d.scaleX/this.scaleX,y=v.y*d.scaleY/this.scaleY;return{width:_+g,height:y+g,zoomX:d.scaleX,zoomY:d.scaleY,x:_,y}},_updateCacheCanvas:function(){var d=this.canvas;if(this.noScaleCache&&d&&d._currentTransform){var v=d._currentTransform.target,_=d._currentTransform.action;if(this===v&&_.slice&&_.slice(0,5)==="scale")return!1}var y=this._cacheCanvas,b=this._limitCacheSize(this._getCacheCanvasDimensions()),w=i.minCacheSideLimit,C=b.width,S=b.height,O,j,Y=b.zoomX,G=b.zoomY,U=C!==this.cacheWidth||S!==this.cacheHeight,ee=this.zoomX!==Y||this.zoomY!==G,ie=U||ee,le=0,ce=0,X=!1;if(U){var J=this._cacheCanvas.width,x=this._cacheCanvas.height,D=C>J||S>x,R=(C<J*.9||S<x*.9)&&J>w&&x>w;X=D||R,D&&!b.capped&&(C>w||S>w)&&(le=C*.1,ce=S*.1)}return this instanceof i.Text&&this.path&&(ie=!0,X=!0,le+=this.getHeightOfLine(0)*this.zoomX,ce+=this.getHeightOfLine(0)*this.zoomY),ie?(X?(y.width=Math.ceil(C+le),y.height=Math.ceil(S+ce)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,y.width,y.height)),O=b.x/2,j=b.y/2,this.cacheTranslationX=Math.round(y.width/2-O)+O,this.cacheTranslationY=Math.round(y.height/2-j)+j,this.cacheWidth=C,this.cacheHeight=S,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Y,G),this.zoomX=Y,this.zoomY=G,!0):!1},setOptions:function(d){this._setOptions(d),this._initGradient(d.fill,"fill"),this._initGradient(d.stroke,"stroke"),this._initPattern(d.fill,"fill"),this._initPattern(d.stroke,"stroke")},transform:function(d){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&d===this.canvas.contextTop,_=this.calcTransformMatrix(!v);d.transform(_[0],_[1],_[2],_[3],_[4],_[5])},toObject:function(d){var v=i.Object.NUM_FRACTION_DIGITS,_={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:o(this.left,v),top:o(this.top,v),width:o(this.width,v),height:o(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,v),scaleX:o(this.scaleX,v),scaleY:o(this.scaleY,v),angle:o(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,v),skewY:o(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(_.clipPath=this.clipPath.toObject(d),_.clipPath.inverted=this.clipPath.inverted,_.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,_,d),this.includeDefaultValues||(_=this._removeDefaultValues(_)),_},toDatalessObject:function(d){return this.toObject(d)},_removeDefaultValues:function(d){var v=i.util.getKlass(d.type).prototype,_=v.stateProperties;return _.forEach(function(y){y==="left"||y==="top"||(d[y]===v[y]&&delete d[y],Array.isArray(d[y])&&Array.isArray(v[y])&&d[y].length===0&&v[y].length===0&&delete d[y])}),d},toString:function(){return"#<fabric."+l(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var d=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(d.scaleX),scaleY:Math.abs(d.scaleY)}},getTotalObjectScaling:function(){var d=this.getObjectScaling(),v=d.scaleX,_=d.scaleY;if(this.canvas){var y=this.canvas.getZoom(),b=this.canvas.getRetinaScaling();v*=y*b,_*=y*b}return{scaleX:v,scaleY:_}},getObjectOpacity:function(){var d=this.opacity;return this.group&&(d*=this.group.getObjectOpacity()),d},_set:function(d,v){var _=d==="scaleX"||d==="scaleY",y=this[d]!==v,b=!1;return _&&(v=this._constrainScale(v)),d==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):d==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):d==="shadow"&&v&&!(v instanceof i.Shadow)?v=new i.Shadow(v):d==="dirty"&&this.group&&this.group.set("dirty",v),this[d]=v,y&&(b=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(d)>-1?(this.dirty=!0,b&&this.group.set("dirty",!0)):b&&this.stateProperties.indexOf(d)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(d){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(d.save(),this._setupCompositeOperation(d),this.drawSelectionBackground(d),this.transform(d),this._setOpacity(d),this._setShadow(d,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(d)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(d),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),d.restore())},renderCache:function(d){d=d||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,d.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(d,v){if(d.save(),v.inverted?d.globalCompositeOperation="destination-out":d.globalCompositeOperation="destination-in",v.absolutePositioned){var _=i.util.invertTransform(this.calcTransformMatrix());d.transform(_[0],_[1],_[2],_[3],_[4],_[5])}v.transform(d),d.scale(1/v.zoomX,1/v.zoomY),d.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),d.restore()},drawObject:function(d,v){var _=this.fill,y=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(d)):this._renderBackground(d),this._render(d),this._drawClipPath(d,this.clipPath),this.fill=_,this.stroke=y},_drawClipPath:function(d,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(d,v))},drawCacheOnCanvas:function(d){d.scale(1/this.zoomX,1/this.zoomY),d.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(d){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!d&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!d){var v=this.cacheWidth/this.zoomX,_=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-_/2,v,_)}return!0}return!1},_renderBackground:function(d){if(this.backgroundColor){var v=this._getNonTransformedDimensions();d.fillStyle=this.backgroundColor,d.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(d)}},_setOpacity:function(d){this.group&&!this.group._transformDone?d.globalAlpha=this.getObjectOpacity():d.globalAlpha*=this.opacity},_setStrokeStyles:function(d,v){var _=v.stroke;_&&(d.lineWidth=v.strokeWidth,d.lineCap=v.strokeLineCap,d.lineDashOffset=v.strokeDashOffset,d.lineJoin=v.strokeLineJoin,d.miterLimit=v.strokeMiterLimit,_.toLive?_.gradientUnits==="percentage"||_.gradientTransform||_.patternTransform?this._applyPatternForTransformedGradient(d,_):(d.strokeStyle=_.toLive(d,this),this._applyPatternGradientTransform(d,_)):d.strokeStyle=v.stroke)},_setFillStyles:function(d,v){var _=v.fill;_&&(_.toLive?(d.fillStyle=_.toLive(d,this),this._applyPatternGradientTransform(d,v.fill)):d.fillStyle=_)},_setClippingProperties:function(d){d.globalAlpha=1,d.strokeStyle="transparent",d.fillStyle="#000000"},_setLineDash:function(d,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),d.setLineDash(v))},_renderControls:function(d,v){var _=this.getViewportTransform(),y=this.calcTransformMatrix(),b,w,C;v=v||{},w=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,C=typeof v.hasControls<"u"?v.hasControls:this.hasControls,y=i.util.multiplyTransformMatrices(_,y),b=i.util.qrDecompose(y),d.save(),d.translate(b.translateX,b.translateY),d.lineWidth=1*this.borderScaleFactor,this.group||(d.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(b.angle-=180),d.rotate(a(this.group?b.angle:this.angle)),v.forActiveSelection||this.group?w&&this.drawBordersInGroup(d,b,v):w&&this.drawBorders(d,v),C&&this.drawControls(d,v),d.restore()},_setShadow:function(d){if(this.shadow){var v=this.shadow,_=this.canvas,y,b=_&&_.viewportTransform[0]||1,w=_&&_.viewportTransform[3]||1;v.nonScaling?y={scaleX:1,scaleY:1}:y=this.getObjectScaling(),_&&_._isRetinaScaling()&&(b*=i.devicePixelRatio,w*=i.devicePixelRatio),d.shadowColor=v.color,d.shadowBlur=v.blur*i.browserShadowBlurConstant*(b+w)*(y.scaleX+y.scaleY)/4,d.shadowOffsetX=v.offsetX*b*y.scaleX,d.shadowOffsetY=v.offsetY*w*y.scaleY}},_removeShadow:function(d){this.shadow&&(d.shadowColor="",d.shadowBlur=d.shadowOffsetX=d.shadowOffsetY=0)},_applyPatternGradientTransform:function(d,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var _=v.gradientTransform||v.patternTransform,y=-this.width/2+v.offsetX||0,b=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?d.transform(this.width,0,0,this.height,y,b):d.transform(1,0,0,1,y,b),_&&d.transform(_[0],_[1],_[2],_[3],_[4],_[5]),{offsetX:y,offsetY:b}},_renderPaintInOrder:function(d){this.paintFirst==="stroke"?(this._renderStroke(d),this._renderFill(d)):(this._renderFill(d),this._renderStroke(d))},_render:function(){},_renderFill:function(d){this.fill&&(d.save(),this._setFillStyles(d,this),this.fillRule==="evenodd"?d.fill("evenodd"):d.fill(),d.restore())},_renderStroke:function(d){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(d),d.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();d.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&d.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(d,this.strokeDashArray),this._setStrokeStyles(d,this),d.stroke(),d.restore()}},_applyPatternForTransformedGradient:function(d,v){var _=this._limitCacheSize(this._getCacheCanvasDimensions()),y=i.util.createCanvasElement(),b,w=this.canvas.getRetinaScaling(),C=_.x/this.scaleX/w,S=_.y/this.scaleY/w;y.width=C,y.height=S,b=y.getContext("2d"),b.beginPath(),b.moveTo(0,0),b.lineTo(C,0),b.lineTo(C,S),b.lineTo(0,S),b.closePath(),b.translate(C/2,S/2),b.scale(_.zoomX/this.scaleX/w,_.zoomY/this.scaleY/w),this._applyPatternGradientTransform(b,v),b.fillStyle=v.toLive(d),b.fill(),d.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),d.scale(w*this.scaleX/_.zoomX,w*this.scaleY/_.zoomY),d.strokeStyle=b.createPattern(y,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var d=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",d.scaleX),this.set("scaleY",d.scaleY),this.angle=d.angle,this.skewX=d.skewX,this.skewY=0}},_removeTransformMatrix:function(d){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=i.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,d&&(this.scaleX*=d.scaleX,this.scaleY*=d.scaleY,this.cropX=d.cropX,this.cropY=d.cropY,v.x+=d.offsetLeft,v.y+=d.offsetTop,this.width=d.width,this.height=d.height),this.setPositionByOrigin(v,"center","center")},clone:function(d,v){var _=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(_,d):i.Object._fromObject("Object",_,d)},cloneAsImage:function(d,v){var _=this.toCanvasElement(v);return d&&d(new i.Image(_)),this},toCanvasElement:function(d){d||(d={});var v=i.util,_=v.saveObjectTransform(this),y=this.group,b=this.shadow,w=Math.abs,C=(d.multiplier||1)*(d.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,d.withoutTransform&&v.resetObjectTransform(this),d.withoutShadow&&(this.shadow=null);var S=i.util.createCanvasElement(),O=this.getBoundingRect(!0,!0),j=this.shadow,Y,G={x:0,y:0},U,ee,ie;j&&(U=j.blur,j.nonScaling?Y={scaleX:1,scaleY:1}:Y=this.getObjectScaling(),G.x=2*Math.round(w(j.offsetX)+U)*w(Y.scaleX),G.y=2*Math.round(w(j.offsetY)+U)*w(Y.scaleY)),ee=O.width+G.x,ie=O.height+G.y,S.width=Math.ceil(ee),S.height=Math.ceil(ie);var le=new i.StaticCanvas(S,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});d.format==="jpeg"&&(le.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(le.width/2,le.height/2),"center","center");var ce=this.canvas;le.add(this);var X=le.toCanvasElement(C||1,d);return this.shadow=b,this.set("canvas",ce),y&&(this.group=y),this.set(_).setCoords(),le._objects=[],le.dispose(),le=null,X},toDataURL:function(d){return d||(d={}),i.util.toDataURL(this.toCanvasElement(d),d.format||"png",d.quality||1)},isType:function(d){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===d},complexity:function(){return 1},toJSON:function(d){return this.toObject(d)},rotate:function(d){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",d),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(d,v){v=v||this.canvas.getPointer(d);var _=new i.Point(v.x,v.y),y=this._getLeftTopCoords();return this.angle&&(_=i.util.rotatePoint(_,y,a(-this.angle))),{x:_.x-y.x,y:_.y-y.y}},_setupCompositeOperation:function(d){this.globalCompositeOperation&&(d.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),h(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(d,v,_,y){var b=i[d];v=f(v,!0),i.util.enlivenPatterns([v.fill,v.stroke],function(w){typeof w[0]<"u"&&(v.fill=w[0]),typeof w[1]<"u"&&(v.stroke=w[1]),i.util.enlivenObjectEnlivables(v,v,function(){var C=y?new b(v[y],v):new b(v);_&&_(C)})})},i.Object.__uid=0)}(e),function(){var c=t.util.degreesToRadians,i={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(f,o,l,a,u){var g=f.x,d=f.y,v,_,y;return typeof o=="string"?o=i[o]:o-=.5,typeof a=="string"?a=i[a]:a-=.5,v=a-o,typeof l=="string"?l=h[l]:l-=.5,typeof u=="string"?u=h[u]:u-=.5,_=u-l,(v||_)&&(y=this._getTransformedDimensions(),g=f.x+v*y.x,d=f.y+_*y.y),new t.Point(g,d)},translateToCenterPoint:function(f,o,l){var a=this.translateToGivenOrigin(f,o,l,"center","center");return this.angle?t.util.rotatePoint(a,f,c(this.angle)):a},translateToOriginPoint:function(f,o,l){var a=this.translateToGivenOrigin(f,"center","center",o,l);return this.angle?t.util.rotatePoint(a,f,c(this.angle)):a},getCenterPoint:function(){var f=new t.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,o){var l=this.getCenterPoint();return this.translateToOriginPoint(l,f,o)},toLocalPoint:function(f,o,l){var a=this.getCenterPoint(),u,g;return typeof o<"u"&&typeof l<"u"?u=this.translateToGivenOrigin(a,"center","center",o,l):u=new t.Point(this.left,this.top),g=new t.Point(f.x,f.y),this.angle&&(g=t.util.rotatePoint(g,a,-c(this.angle))),g.subtractEquals(u)},setPositionByOrigin:function(f,o,l){var a=this.translateToCenterPoint(f,o,l),u=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",u.x),this.set("top",u.y)},adjustPosition:function(f){var o=c(this.angle),l=this.getScaledWidth(),a=t.util.cos(o)*l,u=t.util.sin(o)*l,g,d;typeof this.originX=="string"?g=i[this.originX]:g=this.originX-.5,typeof f=="string"?d=i[f]:d=f-.5,this.left+=a*(d-g),this.top+=u*(d-g),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function c(l){return[new t.Point(l.tl.x,l.tl.y),new t.Point(l.tr.x,l.tr.y),new t.Point(l.br.x,l.br.y),new t.Point(l.bl.x,l.bl.y)]}var i=t.util,h=i.degreesToRadians,f=i.multiplyTransformMatrices,o=i.transformPoint;i.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(l,a){return a?l?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),l?this.aCoords:this.lineCoords)},getCoords:function(l,a){return c(this._getCoords(l,a))},intersectsWithRect:function(l,a,u,g){var d=this.getCoords(u,g),v=t.Intersection.intersectPolygonRectangle(d,l,a);return v.status==="Intersection"},intersectsWithObject:function(l,a,u){var g=t.Intersection.intersectPolygonPolygon(this.getCoords(a,u),l.getCoords(a,u));return g.status==="Intersection"||l.isContainedWithinObject(this,a,u)||this.isContainedWithinObject(l,a,u)},isContainedWithinObject:function(l,a,u){for(var g=this.getCoords(a,u),d=a?l.aCoords:l.lineCoords,v=0,_=l._getImageLines(d);v<4;v++)if(!l.containsPoint(g[v],_))return!1;return!0},isContainedWithinRect:function(l,a,u,g){var d=this.getBoundingRect(u,g);return d.left>=l.x&&d.left+d.width<=a.x&&d.top>=l.y&&d.top+d.height<=a.y},containsPoint:function(l,v,u,g){var d=this._getCoords(u,g),v=v||this._getImageLines(d),_=this._findCrossPoints(l,v);return _!==0&&_%2===1},isOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br,g=this.getCoords(!0,l);return g.some(function(d){return d.x<=u.x&&d.x>=a.x&&d.y<=u.y&&d.y>=a.y})||this.intersectsWithRect(a,u,!0,l)?!0:this._containsCenterOfCanvas(a,u,l)},_containsCenterOfCanvas:function(l,a,u){var g={x:(l.x+a.x)/2,y:(l.y+a.y)/2};return!!this.containsPoint(g,null,!0,u)},isPartiallyOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br;if(this.intersectsWithRect(a,u,!0,l))return!0;var g=this.getCoords(!0,l).every(function(d){return(d.x>=u.x||d.x<=a.x)&&(d.y>=u.y||d.y<=a.y)});return g&&this._containsCenterOfCanvas(a,u,l)},_getImageLines:function(l){var a={topline:{o:l.tl,d:l.tr},rightline:{o:l.tr,d:l.br},bottomline:{o:l.br,d:l.bl},leftline:{o:l.bl,d:l.tl}};return a},_findCrossPoints:function(l,a){var u,g,d,v,_,y=0,b;for(var w in a)if(b=a[w],!(b.o.y<l.y&&b.d.y<l.y)&&!(b.o.y>=l.y&&b.d.y>=l.y)&&(b.o.x===b.d.x&&b.o.x>=l.x?_=b.o.x:(u=0,g=(b.d.y-b.o.y)/(b.d.x-b.o.x),d=l.y-u*l.x,v=b.o.y-g*b.o.x,_=-(d-v)/(u-g)),_>=l.x&&(y+=1),y===2))break;return y},getBoundingRect:function(l,a){var u=this.getCoords(l,a);return i.makeBoundingBoxFromPoints(u)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(l){return Math.abs(l)<this.minScaleLimit?l<0?-this.minScaleLimit:this.minScaleLimit:l===0?1e-4:l},scale:function(l){return this._set("scaleX",l),this._set("scaleY",l),this.setCoords()},scaleToWidth:function(l,a){var u=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(l/this.width/u)},scaleToHeight:function(l,a){var u=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(l/this.height/u)},calcLineCoords:function(){var l=this.getViewportTransform(),a=this.padding,u=h(this.angle),g=i.cos(u),d=i.sin(u),v=g*a,_=d*a,y=v+_,b=v-_,w=this.calcACoords(),C={tl:o(w.tl,l),tr:o(w.tr,l),bl:o(w.bl,l),br:o(w.br,l)};return a&&(C.tl.x-=b,C.tl.y-=y,C.tr.x+=y,C.tr.y-=b,C.bl.x-=y,C.bl.y+=b,C.br.x+=b,C.br.y+=y),C},calcOCoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),u=this.getViewportTransform(),g=f(u,a),d=f(g,l),d=f(d,[1/u[0],0,0,1/u[3],0,0]),v=this._calculateCurrentDimensions(),_={};return this.forEachControl(function(y,b,w){_[b]=y.positionHandler(v,d,w)}),_},calcACoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),u=f(a,l),g=this._getTransformedDimensions(),d=g.x/2,v=g.y/2;return{tl:o({x:-d,y:-v},u),tr:o({x:d,y:-v},u),bl:o({x:-d,y:v},u),br:o({x:d,y:v},u)}},setCoords:function(l){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),l?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var l=this.getCenterPoint();return[1,0,0,1,l.x,l.y]},transformMatrixKey:function(l){var a="_",u="";return!l&&this.group&&(u=this.group.transformMatrixKey(l)+a),u+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(l){var a=this.calcOwnMatrix();if(l||!this.group)return a;var u=this.transformMatrixKey(l),g=this.matrixCache||(this.matrixCache={});return g.key===u?g.value:(this.group&&(a=f(this.group.calcTransformMatrix(!1),a)),g.key=u,g.value=a,a)},calcOwnMatrix:function(){var l=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===l)return a.value;var u=this._calcTranslateMatrix(),g={angle:this.angle,translateX:u[4],translateY:u[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=l,a.value=i.composeMatrix(g),a.value},_getNonTransformedDimensions:function(){var l=this.strokeWidth,a=this.width+l,u=this.height+l;return{x:a,y:u}},_getTransformedDimensions:function(l,a){typeof l>"u"&&(l=this.skewX),typeof a>"u"&&(a=this.skewY);var u,g,d,v=l===0&&a===0;if(this.strokeUniform?(g=this.width,d=this.height):(u=this._getNonTransformedDimensions(),g=u.x,d=u.y),v)return this._finalizeDimensions(g*this.scaleX,d*this.scaleY);var _=i.sizeAfterTransform(g,d,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:l,skewY:a});return this._finalizeDimensions(_.x,_.y)},_finalizeDimensions:function(l,a){return this.strokeUniform?{x:l+this.strokeWidth,y:a+this.strokeWidth}:{x:l,y:a}},_calculateCurrentDimensions:function(){var l=this.getViewportTransform(),a=this._getTransformedDimensions(),u=o(a,l,!0);return u.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(c){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,c):this.canvas&&this.canvas.sendBackwards(this,c),this},bringForward:function(c){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,c):this.canvas&&this.canvas.bringForward(this,c),this},moveTo:function(c){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,c):this.canvas&&this.canvas.moveTo(this,c),this}}),function(){function c(h,f){if(f){if(f.toLive)return h+": url(#SVGID_"+f.id+"); ";var o=new t.Color(f),l=h+": "+o.toRgb()+"; ",a=o.getAlpha();return a!==1&&(l+=h+"-opacity: "+a.toString()+"; "),l}else return h+": none; "}var i=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(h){var f=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",l=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",u=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",d=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",_=this.visible?"":" visibility: hidden;",y=h?"":this.getSvgFilter(),b=c("fill",this.fill),w=c("stroke",this.stroke);return[w,"stroke-width: ",o,"; ","stroke-dasharray: ",l,"; ","stroke-linecap: ",u,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",d,"; ",b,"fill-rule: ",f,"; ","opacity: ",v,";",y,_].join("")},getSvgSpanStyles:function(h,f){var o="; ",a=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+o:"",l=h.strokeWidth?"stroke-width: "+h.strokeWidth+o:"",a=a,u=h.fontSize?"font-size: "+h.fontSize+"px"+o:"",g=h.fontStyle?"font-style: "+h.fontStyle+o:"",d=h.fontWeight?"font-weight: "+h.fontWeight+o:"",v=h.fill?c("fill",h.fill):"",_=h.stroke?c("stroke",h.stroke):"",y=this.getSvgTextDecoration(h),b=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return y&&(y="text-decoration: "+y+o),[_,l,a,u,g,d,y,v,b,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(f){return h[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,f){var o=h?this.calcTransformMatrix():this.calcOwnMatrix(),l='transform="'+t.util.matrixToSVG(o);return l+(f||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var f=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,f),'" y="',i(-this.height/2,f),'" width="',i(this.width,f),'" height="',i(this.height,f),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,f){f=f||{};var o=f.reviver,l=f.additionalTransform||"",a=[this.getSvgTransform(!0,l),this.getSvgCommons()].join(""),u=h.indexOf("COMMON_PARTS");return h[u]=a,o?o(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,f){f=f||{};var o=f.noStyle,l=f.reviver,a=o?"":'style="'+this.getSvgStyles()+'" ',u=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,d=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=g&&g.absolutePositioned,_=this.stroke,y=this.fill,b=this.shadow,w,C=[],S,O=h.indexOf("COMMON_PARTS"),j=f.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+t.Object.__uid++,S='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(l)+`</clipPath>
`),v&&C.push("<g ",u,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),v?"":u+this.getSvgCommons(),` >
`),w=[a,d,o?"":this.addPaintOrder()," ",j?'transform="'+j+'" ':""].join(""),h[O]=w,y&&y.toLive&&C.push(y.toSVG(this)),_&&_.toLive&&C.push(_.toSVG(this)),b&&C.push(b.toSVG(this)),g&&C.push(S),C.push(h.join("")),C.push(`</g>
`),v&&C.push(`</g>
`),l?l(C.join("")):C.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var c=t.util.object.extend,i="stateProperties";function h(o,l,a){var u={},g=!0;a.forEach(function(d){u[d]=o[d]}),c(o[l],u,g)}function f(o,l,a){if(o===l)return!0;if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(var u=0,g=o.length;u<g;u++)if(!f(o[u],l[u]))return!1;return!0}else if(o&&typeof o=="object"){var d=Object.keys(o),v;if(!l||typeof l!="object"||!a&&d.length!==Object.keys(l).length)return!1;for(var u=0,g=d.length;u<g;u++)if(v=d[u],!(v==="canvas"||v==="group")&&!f(o[v],l[v]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(o){o=o||i;var l="_"+o;return Object.keys(this[l]).length<this[o].length?!0:!f(this[l],this,!0)},saveState:function(o){var l=o&&o.propertySet||i,a="_"+l;return this[a]?(h(this,a,this[l]),o&&o.stateProperties&&h(this,a,o.stateProperties),this):this.setupState(o)},setupState:function(o){o=o||{};var l=o.propertySet||i;return o.propertySet=l,this["_"+l]={},this.saveState(o),this}})}(),function(){var c=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(i,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=i.x,o=i.y,l,a,u=Object.keys(this.oCoords),g=u.length-1,d;for(this.__corner=0;g>=0;g--)if(d=u[g],!!this.isControlVisible(d)&&(a=this._getImageLines(h?this.oCoords[d].touchCorner:this.oCoords[d].corner),l=this._findCrossPoints({x:f,y:o},a),l!==0&&l%2===1))return this.__corner=d,d;return!1},forEachControl:function(i){for(var h in this.controls)i(this.controls[h],h,this)},_setCornerCoords:function(){var i=this.oCoords;for(var h in i){var f=this.controls[h];i[h].corner=f.calcCornerCoords(this.angle,this.cornerSize,i[h].x,i[h].y,!1),i[h].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,i[h].x,i[h].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var h=this.getCenterPoint(),f=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return i.translate(h.x,h.y),i.scale(1/o[0],1/o[3]),i.rotate(c(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-f.x/2,-f.y/2,f.x,f.y),i.restore(),this},drawBorders:function(i,h){h=h||{};var f=this._calculateCurrentDimensions(),o=this.borderScaleFactor,l=f.x+o,a=f.y+o,u=typeof h.hasControls<"u"?h.hasControls:this.hasControls,g=!1;return i.save(),i.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeRect(-l/2,-a/2,l,a),u&&(i.beginPath(),this.forEachControl(function(d,v,_){d.withConnection&&d.getVisibility(_,v)&&(g=!0,i.moveTo(d.x*l,d.y*a),i.lineTo(d.x*l+d.offsetX,d.y*a+d.offsetY))}),g&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,h,f){f=f||{};var o=t.util.sizeAfterTransform(this.width,this.height,h),l=this.strokeWidth,a=this.strokeUniform,u=this.borderScaleFactor,g=o.x+l*(a?this.canvas.getZoom():h.scaleX)+u,d=o.y+l*(a?this.canvas.getZoom():h.scaleY)+u;return i.save(),this._setLineDash(i,f.borderDashArray||this.borderDashArray),i.strokeStyle=f.borderColor||this.borderColor,i.strokeRect(-g/2,-d/2,g,d),i.restore(),this},drawControls:function(i,h){h=h||{},i.save();var f=this.canvas.getRetinaScaling(),o,l;return i.setTransform(f,0,0,f,0,0),i.strokeStyle=i.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(o=this.group.calcTransformMatrix()),this.forEachControl(function(a,u,g){l=g.oCoords[u],a.getVisibility(g,u)&&(o&&(l=t.util.transformPoint(l,o)),a.render(i,l.x,l.y,h,g))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=h,this},setControlsVisibility:function(i){i||(i={});for(var h in i)this.setControlVisible(h,i[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(c,i){i=i||{};var h=function(){},f=i.onComplete||h,o=i.onChange||h,l=this;return t.util.animate({target:this,startValue:c.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){c.set("left",a),l.requestRenderAll(),o()},onComplete:function(){c.setCoords(),f()}})},fxCenterObjectV:function(c,i){i=i||{};var h=function(){},f=i.onComplete||h,o=i.onChange||h,l=this;return t.util.animate({target:this,startValue:c.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){c.set("top",a),l.requestRenderAll(),o()},onComplete:function(){c.setCoords(),f()}})},fxRemove:function(c,i){i=i||{};var h=function(){},f=i.onComplete||h,o=i.onChange||h,l=this;return t.util.animate({target:this,startValue:c.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){c.set("opacity",a),l.requestRenderAll(),o()},onComplete:function(){l.remove(c),f()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var c=[],i,h,f=[];for(i in arguments[0])c.push(i);for(var o=0,l=c.length;o<l;o++)i=c[o],h=o!==l-1,f.push(this._animate(i,arguments[0][i],arguments[1],h));return f}else return this._animate.apply(this,arguments)},_animate:function(c,i,h,f){var o=this,l;i=i.toString(),h?h=t.util.object.clone(h):h={},~c.indexOf(".")&&(l=c.split("."));var a=o.colorProperties.indexOf(c)>-1||l&&o.colorProperties.indexOf(l[1])>-1,u=l?this.get(l[0])[l[1]]:this.get(c);"from"in h||(h.from=u),a||(~i.indexOf("=")?i=u+parseFloat(i.replace("=","")):i=parseFloat(i));var g={target:this,startValue:h.from,endValue:i,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(d,v,_){return h.abort.call(o,d,v,_)},onChange:function(d,v,_){l?o[l[0]][l[1]]=d:o.set(c,d),!f&&h.onChange&&h.onChange(d,v,_)},onComplete:function(d,v,_){f||(o.setCoords(),h.onComplete&&h.onComplete(d,v,_))}};return a?t.util.animateColor(g.startValue,g.endValue,g.duration,g):t.util.animate(g)}}),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,u){a||(a=[0,0,0,0]),this.callSuper("initialize",u),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(u)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,u){return this.callSuper("_set",a,u),typeof o[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:l({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:l({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var u=this.calcLinePoints();a.moveTo(u.x1,u.y1),a.lineTo(u.x2,u.y2),a.lineWidth=this.strokeWidth;var g=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return h(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(a.y-=this.strokeWidth),this.height===0&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,u=this.y1<=this.y2?-1:1,g=a*this.width*.5,d=u*this.height*.5,v=a*this.width*-.5,_=u*this.height*-.5;return{x1:g,x2:v,y1:d,y2:_}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(a,u,g){g=g||{};var d=i.parseAttributes(a,i.Line.ATTRIBUTE_NAMES),v=[d.x1||0,d.y1||0,d.x2||0,d.y2||0];u(new i.Line(v,h(d,g)))},i.Line.fromObject=function(a,u){function g(v){delete v.points,u&&u(v)}var d=f(a,!0);d.points=[a.x1,a.y1,a.x2,a.y2],i.Object._fromObject("Line",d,g,"points")};function l(a,u){var g=a.origin,d=a.axis1,v=a.axis2,_=a.dimension,y=u.nearest,b=u.center,w=u.farthest;return function(){switch(this.get(g)){case y:return Math.min(this.get(d),this.get(v));case b:return Math.min(this.get(d),this.get(v))+.5*this.get(_);case w:return Math.max(this.get(d),this.get(v))}}}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(o,l){return this.callSuper("_set",o,l),o==="radius"&&this.setRadius(l),this},toObject:function(o){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(o))},_toSVG:function(){var o,l=0,a=0,u=(this.endAngle-this.startAngle)%360;if(u===0)o=["<circle ","COMMON_PARTS",'cx="'+l+'" cy="'+a+'" ','r="',this.radius,`" />
`];else{var g=h(this.startAngle),d=h(this.endAngle),v=this.radius,_=i.util.cos(g)*v,y=i.util.sin(g)*v,b=i.util.cos(d)*v,w=i.util.sin(d)*v,C=u>180?"1":"0";o=['<path d="M '+_+" "+y," A "+v+" "+v," 0 ",+C+" 1"," "+b+" "+w,'" ',"COMMON_PARTS",` />
`]}return o},_render:function(o){o.beginPath(),o.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(o)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(o){return this.radius=o,this.set("width",o*2).set("height",o*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(o,l){var a=i.parseAttributes(o,i.Circle.ATTRIBUTE_NAMES);if(!f(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,l(new i.Circle(a))};function f(o){return"radius"in o&&o.radius>=0}i.Circle.fromObject=function(o,l){i.Object._fromObject("Circle",o,l)}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(h){var f=this.width/2,o=this.height/2;h.beginPath(),h.moveTo(-f,o),h.lineTo(0,-o),h.lineTo(f,o),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,f=this.height/2,o=[-h+" "+f,"0 "+-f,h+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',o,'" />']}}),i.Triangle.fromObject=function(h,f){return i.Object._fromObject("Triangle",h,f)}}(e),function(c){var i=c.fabric||(c.fabric={}),h=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,o){switch(this.callSuper("_set",f,o),f){case"rx":this.rx=o,this.set("width",o*2);break;case"ry":this.ry=o,this.set("height",o*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,h,!1),f.restore(),this._renderPaintInOrder(f)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(f,o){var l=i.parseAttributes(f,i.Ellipse.ATTRIBUTE_NAMES);l.left=(l.left||0)-l.rx,l.top=(l.top||0)-l.ry,o(new i.Ellipse(l))},i.Ellipse.fromObject=function(f,o){i.Object._fromObject("Ellipse",f,o)}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var o=this.rx?Math.min(this.rx,this.width/2):0,l=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,u=this.height,g=-this.width/2,d=-this.height/2,v=o!==0||l!==0,_=1-.5522847498;f.beginPath(),f.moveTo(g+o,d),f.lineTo(g+a-o,d),v&&f.bezierCurveTo(g+a-_*o,d,g+a,d+_*l,g+a,d+l),f.lineTo(g+a,d+u-l),v&&f.bezierCurveTo(g+a,d+u-_*l,g+a-_*o,d+u,g+a-o,d+u),f.lineTo(g+o,d+u),v&&f.bezierCurveTo(g+_*o,d+u,g,d+u-_*l,g,d+u-l),f.lineTo(g,d+l),v&&f.bezierCurveTo(g,d+_*l,g+_*o,d,g+o,d),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,o=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',o,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(f,o,l){if(!f)return o(null);l=l||{};var a=i.parseAttributes(f,i.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var u=new i.Rect(h(l?i.util.object.clone(l):{},a));u.visible=u.visible&&u.width>0&&u.height>0,o(u)},i.Rect.fromObject=function(f,o){return i.Object._fromObject("Rect",f,o)}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.util.array.min,o=i.util.array.max,l=i.util.toFixed,a=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(u,g){g=g||{},this.points=u||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(u){var g=this._calcDimensions(u),d,v=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-v,this.height=g.height-v,u.fromSVG||(d=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+v/2,y:g.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof u.left>"u"&&(this.left=u.fromSVG?g.left:d.x),typeof u.top>"u"&&(this.top=u.fromSVG?g.top:d.y),this.pathOffset={x:g.left+this.width/2+v/2,y:g.top+this.height/2+v/2}},_calcDimensions:function(){var u=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=f(u,"x")||0,d=f(u,"y")||0,v=o(u,"x")||0,_=o(u,"y")||0,y=v-g,b=_-d;return{left:g,top:d,width:y,height:b}},toObject:function(u){return h(this.callSuper("toObject",u),{points:this.points.concat()})},_toSVG:function(){for(var u=[],g=this.pathOffset.x,d=this.pathOffset.y,v=i.Object.NUM_FRACTION_DIGITS,_=0,y=this.points.length;_<y;_++)u.push(l(this.points[_].x-g,v),",",l(this.points[_].y-d,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',u.join(""),`" />
`]},commonRender:function(u){var g,d=this.points.length,v=this.pathOffset.x,_=this.pathOffset.y;if(!d||isNaN(this.points[d-1].y))return!1;u.beginPath(),u.moveTo(this.points[0].x-v,this.points[0].y-_);for(var y=0;y<d;y++)g=this.points[y],u.lineTo(g.x-v,g.y-_);return!0},_render:function(u){this.commonRender(u)&&this._renderPaintInOrder(u)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(u){return function(g,d,v){if(!g)return d(null);v||(v={});var _=i.parsePointsAttribute(g.getAttribute("points")),y=i.parseAttributes(g,i[u].ATTRIBUTE_NAMES);y.fromSVG=!0,d(new i[u](_,h(y,v)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(u,g){return i.Object._fromObject("Polyline",u,g,"points")}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(f){this.commonRender(f)&&(f.closePath(),this._renderPaintInOrder(f))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(f,o){i.Object._fromObject("Polygon",f,o,"points")}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.array.min,f=i.util.array.max,o=i.util.object.extend,l=i.util.object.clone,a=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(u,g){g=l(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(u||[],g)},_setPath:function(u,g){this.path=i.util.makePathSimpler(Array.isArray(u)?u:i.util.parsePath(u)),i.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(u){var g,d=0,v=0,_=0,y=0,b=0,w=0,C=-this.pathOffset.x,S=-this.pathOffset.y;u.beginPath();for(var O=0,j=this.path.length;O<j;++O)switch(g=this.path[O],g[0]){case"L":_=g[1],y=g[2],u.lineTo(_+C,y+S);break;case"M":_=g[1],y=g[2],d=_,v=y,u.moveTo(_+C,y+S);break;case"C":_=g[5],y=g[6],b=g[3],w=g[4],u.bezierCurveTo(g[1]+C,g[2]+S,b+C,w+S,_+C,y+S);break;case"Q":u.quadraticCurveTo(g[1]+C,g[2]+S,g[3]+C,g[4]+S),_=g[3],y=g[4],b=g[1],w=g[2];break;case"z":case"Z":_=d,y=v,u.closePath();break}},_render:function(u){this._renderPathCommands(u),this._renderPaintInOrder(u)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(u){return o(this.callSuper("toObject",u),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(u){var g=this.toObject(["sourcePath"].concat(u));return g.sourcePath&&delete g.path,g},_toSVG:function(){var u=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',u,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var u=i.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,u)+", "+a(-this.pathOffset.y,u)+")"},toClipPathSVG:function(u){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:g})},toSVG:function(u){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var u=[],g=[],d,v=0,_=0,y=0,b=0,w,C=0,S=this.path.length;C<S;++C){switch(d=this.path[C],d[0]){case"L":y=d[1],b=d[2],w=[];break;case"M":y=d[1],b=d[2],v=y,_=b,w=[];break;case"C":w=i.util.getBoundsOfCurve(y,b,d[1],d[2],d[3],d[4],d[5],d[6]),y=d[5],b=d[6];break;case"Q":w=i.util.getBoundsOfCurve(y,b,d[1],d[2],d[1],d[2],d[3],d[4]),y=d[3],b=d[4];break;case"z":case"Z":y=v,b=_;break}w.forEach(function(ie){u.push(ie.x),g.push(ie.y)}),u.push(y),g.push(b)}var O=h(u)||0,j=h(g)||0,Y=f(u)||0,G=f(g)||0,U=Y-O,ee=G-j;return{left:O,top:j,width:U,height:ee}}}),i.Path.fromObject=function(u,g){if(typeof u.sourcePath=="string"){var d=u.sourcePath;i.loadSVGFromURL(d,function(v){var _=v[0];_.setOptions(u),u.clipPath?i.util.enlivenObjects([u.clipPath],function(y){_.clipPath=y[0],g&&g(_)}):g&&g(_)})}else i.Object._fromObject("Path",u,g,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(u,g,d){var v=i.parseAttributes(u,i.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,g(new i.Path(v.d,o(v,d)))}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.array.min,f=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(o,l,a){l=l||{},this._objects=[],a&&this.callSuper("initialize",l),this._objects=o||[];for(var u=this._objects.length;u--;)this._objects[u].group=this;if(a)this._updateObjectsACoords();else{var g=l&&l.centerPoint;l.originX!==void 0&&(this.originX=l.originX),l.originY!==void 0&&(this.originY=l.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete l.centerPoint,this.callSuper("initialize",l)}this.setCoords()},_updateObjectsACoords:function(){for(var o=!0,l=this._objects.length;l--;)this._objects[l].setCoords(o)},_updateObjectsCoords:function(l){for(var l=l||this.getCenterPoint(),a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],l)},_updateObjectCoords:function(o,l){var a=o.left,u=o.top,g=!0;o.set({left:a-l.x,top:u-l.y}),o.group=this,o.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(o){var l=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),o&&(l&&i.util.removeTransformFromObject(o,this.group.calcTransformMatrix()),this._objects.push(o),o.group=this,o._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,l?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(o){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(o),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(o){this.dirty=!0,o.group=this,o._set("canvas",this.canvas)},_onObjectRemoved:function(o){this.dirty=!0,delete o.group},_set:function(o,l){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(o,l);if(o==="canvas")for(;a--;)this._objects[a]._set(o,l);i.Object.prototype._set.call(this,o,l)},toObject:function(o){var l=this.includeDefaultValues,a=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var d=g.includeDefaultValues;g.includeDefaultValues=l;var v=g.toObject(o);return g.includeDefaultValues=d,v}),u=i.Object.prototype.toObject.call(this,o);return u.objects=a,u},toDatalessObject:function(o){var l,a=this.sourcePath;if(a)l=a;else{var u=this.includeDefaultValues;l=this._objects.map(function(d){var v=d.includeDefaultValues;d.includeDefaultValues=u;var _=d.toDatalessObject(o);return d.includeDefaultValues=v,_})}var g=i.Object.prototype.toDatalessObject.call(this,o);return g.objects=l,g},render:function(o){this._transformDone=!0,this.callSuper("render",o),this._transformDone=!1},shouldCache:function(){var o=i.Object.prototype.shouldCache.call(this);if(o){for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].willDrawShadow())return this.ownCaching=!1,!1}return o},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var o=0,l=this._objects.length;o<l;o++)if(this._objects[o].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(o){for(var l=0,a=this._objects.length;l<a;l++)this._objects[l].render(o);this._drawClipPath(o,this.clipPath)},isCacheDirty:function(o){if(this.callSuper("isCacheDirty",o))return!0;if(!this.statefullCache)return!1;for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].isCacheDirty(!0)){if(this._cacheCanvas){var u=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-u/2,-g/2,u,g)}return!0}return!1},_restoreObjectsState:function(){var o=this.calcOwnMatrix();return this._objects.forEach(function(l){i.util.addTransformToObject(l,o),delete l.group,l.setCoords()}),this},destroy:function(){return this._objects.forEach(function(o){o.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var o=this._objects,l=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var u=new i.ActiveSelection([]);return u.set(a),u.type="activeSelection",l.remove(this),o.forEach(function(g){g.group=u,g.dirty=!0,l.add(g)}),u.canvas=l,u._objects=o,l._activeObject=u,u.setCoords(),u}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var o=!0;return this.forEachObject(function(l){l.setCoords(o)}),this},_calcBounds:function(o){for(var l=[],a=[],u,g,d,v=["tr","br","bl","tl"],_=0,y=this._objects.length,b,w=v.length;_<y;++_){for(u=this._objects[_],d=u.calcACoords(),b=0;b<w;b++)g=v[b],l.push(d[g].x),a.push(d[g].y);u.aCoords=d}this._getBounds(l,a,o)},_getBounds:function(o,l,a){var u=new i.Point(h(o),h(l)),g=new i.Point(f(o),f(l)),d=u.y||0,v=u.x||0,_=g.x-u.x||0,y=g.y-u.y||0;this.width=_,this.height=y,a||this.setPositionByOrigin({x:v,y:d},"left","top")},_toSVG:function(o){for(var l=["<g ","COMMON_PARTS",` >
`],a=0,u=this._objects.length;a<u;a++)l.push("		",this._objects[a].toSVG(o));return l.push(`</g>
`),l},getSvgStyles:function(){var o=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",l=this.visible?"":" visibility: hidden;";return[o,this.getSvgFilter(),l].join("")},toClipPathSVG:function(o){for(var l=[],a=0,u=this._objects.length;a<u;a++)l.push("	",this._objects[a].toClipPathSVG(o));return this._createBaseClipPathSVGMarkup(l,{reviver:o})}}),i.Group.fromObject=function(o,l){var a=o.objects,u=i.util.object.clone(o,!0);if(delete u.objects,typeof a=="string"){i.loadSVGFromURL(a,function(g){var d=i.util.groupSVGElements(g,o,a),v=u.clipPath;delete u.clipPath,d.set(u),v?i.util.enlivenObjects([v],function(_){d.clipPath=_[0],l&&l(d)}):l&&l(d)});return}i.util.enlivenObjects(a,function(g){i.util.enlivenObjectEnlivables(o,u,function(){l&&l(new i.Group(g,u,!0))})})})}(e),function(c){var i=c.fabric||(c.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(h,f){f=f||{},this._objects=h||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var f=i.Object.prototype.toObject.call(this),o=new i.Group([]);if(delete f.type,o.set(f),h.forEach(function(a){a.canvas.remove(a),a.group=o}),o._objects=h,!this.canvas)return o;var l=this.canvas;return l.add(o),l._activeObject=o,o.setCoords(),o},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,f,o){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,f),o=o||{},typeof o.hasControls>"u"&&(o.hasControls=!1),o.forActiveSelection=!0;for(var l=0,a=this._objects.length;l<a;l++)this._objects[l]._renderControls(h,o);h.restore()}}),i.ActiveSelection.fromObject=function(h,f){i.util.enlivenObjects(h.objects,function(o){delete h.objects,f&&f(new i.ActiveSelection(o,h,!0))})})}(e),function(c){var i=t.util.object.extend;if(c.fabric||(c.fabric={}),c.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,f){f||(f={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",f),this._initElement(h,f)},getElement:function(){return this._element||{}},setElement:function(h,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var f=t.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(h){t.util.cleanUpJsdomNode(this[h]),this[h]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,o=this.height/2;h.beginPath(),h.moveTo(-f,-o),h.lineTo(f,-o),h.lineTo(f,o),h.lineTo(-f,o),h.lineTo(-f,-o),h.closePath()}},toObject:function(h){var f=[];this.filters.forEach(function(l){l&&f.push(l.toObject())});var o=i(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(o.resizeFilter=this.resizeFilter.toObject()),o},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],f=[],o,l=this._element,a=-this.width/2,u=-this.height/2,g="",d="";if(!l)return[];if(this.hasCrop()){var v=t.Object.__uid++;h.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+a+'" y="'+u+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(d='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',u-this.cropY,'" width="',l.width||l.naturalWidth,'" height="',l.height||l.height,d,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var _=this.fill;this.fill=null,o=["	<rect ",'x="',a,'" y="',u,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=_}return this.paintFirst!=="fill"?h=h.concat(o,f):h=h.concat(f,o),h},getSrc:function(h){var f=h?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(h,f,o){return t.util.loadImage(h,function(l,a){this.setElement(l,o),this._setWidthHeight(),f&&f(this,a)},this,o&&o.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,f=this.minimumScaleTrigger,o=this.getTotalObjectScaling(),l=o.scaleX,a=o.scaleY,u=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||l>f&&a>f){this._element=u,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=l,this._lastScaleY=a;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var g=t.util.createCanvasElement(),d=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=u.width,_=u.height;g.width=v,g.height=_,this._element=g,this._lastScaleX=h.scaleX=l,this._lastScaleY=h.scaleY=a,t.filterBackend.applyFilters([h],u,v,_,this._element,d),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(u){return u&&!u.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,o=f.naturalWidth||f.width,l=f.naturalHeight||f.height;if(this._element===this._originalElement){var a=t.util.createCanvasElement();a.width=o,a.height=l,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,o,l),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(h,this._originalElement,o,l,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var f=this._element;if(f){var o=this._filterScalingX,l=this._filterScalingY,a=this.width,u=this.height,g=Math.min,d=Math.max,v=d(this.cropX,0),_=d(this.cropY,0),y=f.naturalWidth||f.width,b=f.naturalHeight||f.height,w=v*o,C=_*l,S=g(a*o,y-w),O=g(u*l,b-C),j=-a/2,Y=-u/2,G=g(a,y/o-v),U=g(u,b/l-_);f&&h.drawImage(f,w,C,S,O,j,Y,G,U)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,f){this.setElement(t.util.getById(h),f),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,f){h&&h.length?t.util.enlivenObjects(h,function(o){f&&f(o)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(h){h||(h={});var f=this.getElement();this.width=h.width||f.naturalWidth||f.width||0,this.height=h.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var h=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,o=this._element.height,l=1,a=1,u=0,g=0,d=0,v=0,_,y=this.width,b=this.height,w={width:y,height:b};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(l=a=t.util.findScaleToFit(this._element,w),_=(y-f*l)/2,h.alignX==="Min"&&(u=-_),h.alignX==="Max"&&(u=_),_=(b-o*a)/2,h.alignY==="Min"&&(g=-_),h.alignY==="Max"&&(g=_)),h.meetOrSlice==="slice"&&(l=a=t.util.findScaleToCover(this._element,w),_=f-y/l,h.alignX==="Mid"&&(d=_/2),h.alignX==="Max"&&(d=_),_=o-b/a,h.alignY==="Mid"&&(v=_/2),h.alignY==="Max"&&(v=_),f=y/l,o=b/a)):(l=y/f,a=b/o),{width:f,height:o,scaleX:l,scaleY:a,offsetLeft:u,offsetTop:g,cropX:d,cropY:v}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(h,f){var o=t.util.object.clone(h);t.util.loadImage(o.src,function(l,a){if(a){f&&f(null,!0);return}t.Image.prototype._initFilters.call(o,o.filters,function(u){o.filters=u||[],t.Image.prototype._initFilters.call(o,[o.resizeFilter],function(g){o.resizeFilter=g[0],t.util.enlivenObjectEnlivables(o,o,function(){var d=new t.Image(l,o);f(d,!1)})})})},null,o.crossOrigin)},t.Image.fromURL=function(h,f,o){t.util.loadImage(h,function(l,a){f&&f(new t.Image(l,o),a)},null,o&&o.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(h,f,o){var l=t.parseAttributes(h,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(l["xlink:href"],f,i(o?t.util.object.clone(o):{},l))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var c=this.angle%360;return c>0?Math.round((c-1)/90)*90:Math.round(c/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(c){c=c||{};var i=function(){},h=c.onComplete||i,f=c.onChange||i,o=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(l){o.rotate(l),f()},onComplete:function(){o.setCoords(),h()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(c){return c.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(c){return c.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function c(h,f){var o="precision "+f+` float;
void main(){}`,l=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(l,o),h.compileShader(l),!!h.getShaderParameter(l,h.COMPILE_STATUS)}t.isWebglSupported=function(h){if(t.isLikelyNode)return!1;h=h||t.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),o=f.getContext("webgl")||f.getContext("experimental-webgl"),l=!1;if(o){t.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),l=t.maxTextureSize>=h;for(var a=["highp","mediump","lowp"],u=0;u<3;u++)if(c(o,a[u])){t.webGlPrecision=a[u];break}}return this.isSupported=l,l},t.WebglFilterBackend=i;function i(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(h,f){this.dispose(),this.createWebGLCanvas(h,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,f)},chooseFastestCopyGLTo2DMethod:function(h,f){var o=typeof window.performance<"u",l;try{new ImageData(1,1),l=!0}catch{l=!1}var a=typeof ArrayBuffer<"u",u=typeof Uint8ClampedArray<"u";if(o&&l&&a&&u){var g=t.util.createCanvasElement(),d=new ArrayBuffer(h*f*4);if(t.forceGLPutImageData){this.imageBuffer=d,this.copyGLTo2D=m;return}var v={imageBuffer:d,destinationWidth:h,destinationHeight:f,targetCanvas:g},_,y,b;g.width=h,g.height=f,_=window.performance.now(),p.call(v,this.gl,v),y=window.performance.now()-_,_=window.performance.now(),m.call(v,this.gl,v),b=window.performance.now()-_,y>b?(this.imageBuffer=d,this.copyGLTo2D=m):this.copyGLTo2D=p}},createWebGLCanvas:function(h,f){var o=t.util.createCanvasElement();o.width=h,o.height=f;var l={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=o.getContext("webgl",l);a||(a=o.getContext("experimental-webgl",l)),a&&(a.clearColor(0,0,0,0),this.canvas=o,this.gl=a)},applyFilters:function(h,f,o,l,a,u){var g=this.gl,d;u&&(d=this.getCachedTexture(u,f));var v={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:o,sourceHeight:l,destinationWidth:o,destinationHeight:l,context:g,sourceTexture:this.createTexture(g,o,l,!d&&f),targetTexture:this.createTexture(g,o,l),originalTexture:d||this.createTexture(g,o,l,!d&&f),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},_=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,_),h.forEach(function(y){y&&y.applyTo(v)}),s(v),this.copyGLTo2D(g,v),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(v.sourceTexture),g.deleteTexture(v.targetTexture),g.deleteFramebuffer(_),a.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,f,o,l,a){var u=h.createTexture();return h.bindTexture(h.TEXTURE_2D,u),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,a||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,a||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),l?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,l):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,f,o,0,h.RGBA,h.UNSIGNED_BYTE,null),u},getCachedTexture:function(h,f){if(this.textureCache[h])return this.textureCache[h];var o=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[h]=o,o},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:p,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,f={renderer:"",vendor:""};if(!h)return f;var o=h.getExtension("WEBGL_debug_renderer_info");if(o){var l=h.getParameter(o.UNMASKED_RENDERER_WEBGL),a=h.getParameter(o.UNMASKED_VENDOR_WEBGL);l&&(f.renderer=l.toLowerCase()),a&&(f.vendor=a.toLowerCase())}return this.gpuInfo=f,f}}}();function s(c){var i=c.targetCanvas,h=i.width,f=i.height,o=c.destinationWidth,l=c.destinationHeight;(h!==o||f!==l)&&(i.width=o,i.height=l)}function p(c,i){var h=c.canvas,f=i.targetCanvas,o=f.getContext("2d");o.translate(0,f.height),o.scale(1,-1);var l=h.height-f.height;o.drawImage(h,0,l,f.width,f.height,0,0,f.width,f.height)}function m(c,i){var h=i.targetCanvas,f=h.getContext("2d"),o=i.destinationWidth,l=i.destinationHeight,a=o*l*4,u=new Uint8Array(this.imageBuffer,0,a),g=new Uint8ClampedArray(this.imageBuffer,0,a);c.readPixels(0,0,o,l,c.RGBA,c.UNSIGNED_BYTE,u);var d=new ImageData(g,o,l);f.putImageData(d,0,0)}(function(){var c=function(){};t.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:c,dispose:c,clearWebGLCaches:c,resources:{},applyFilters:function(h,f,o,l,a){var u=a.getContext("2d");u.drawImage(f,0,0,o,l);var g=u.getImageData(0,0,o,l),d=u.getImageData(0,0,o,l),v={sourceWidth:o,sourceHeight:l,imageData:g,originalEl:f,originalImageData:d,canvasEl:a,ctx:u,filterBackend:this};return h.forEach(function(_){_.applyTo(v)}),(v.imageData.width!==o||v.imageData.height!==l)&&(a.width=v.imageData.width,a.height=v.imageData.height),u.putImageData(v.imageData,0,0),v}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(c){c&&this.setOptions(c)},setOptions:function(c){for(var i in c)this[i]=c[i]},createProgram:function(c,i,h){i=i||this.fragmentSource,h=h||this.vertexSource,t.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var f=c.createShader(c.VERTEX_SHADER);if(c.shaderSource(f,h),c.compileShader(f),!c.getShaderParameter(f,c.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+c.getShaderInfoLog(f));var o=c.createShader(c.FRAGMENT_SHADER);if(c.shaderSource(o,i),c.compileShader(o),!c.getShaderParameter(o,c.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+c.getShaderInfoLog(o));var l=c.createProgram();if(c.attachShader(l,f),c.attachShader(l,o),c.linkProgram(l),!c.getProgramParameter(l,c.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+c.getProgramInfoLog(l));var a=this.getAttributeLocations(c,l),u=this.getUniformLocations(c,l)||{};return u.uStepW=c.getUniformLocation(l,"uStepW"),u.uStepH=c.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:a,uniformLocations:u}},getAttributeLocations:function(c,i){return{aPosition:c.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(c,i,h){var f=i.aPosition,o=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,o),c.enableVertexAttribArray(f),c.vertexAttribPointer(f,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,h,c.STATIC_DRAW)},_setupFrameBuffer:function(c){var i=c.context,h,f;c.passes>1?(h=c.destinationWidth,f=c.destinationHeight,(c.sourceWidth!==h||c.sourceHeight!==f)&&(i.deleteTexture(c.targetTexture),c.targetTexture=c.filterBackend.createTexture(i,h,f)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,c.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(c){c.passes--,c.pass++;var i=c.targetTexture;c.targetTexture=c.sourceTexture,c.sourceTexture=i},isNeutralState:function(){var c=this.mainParameter,i=t.Image.filters[this.type].prototype;if(c)if(Array.isArray(i[c])){for(var h=i[c].length;h--;)if(this[c][h]!==i[c][h])return!1;return!0}else return i[c]===this[c];else return!1},applyTo:function(c){c.webgl?(this._setupFrameBuffer(c),this.applyToWebGL(c),this._swapTextures(c)):this.applyTo2d(c)},retrieveShader:function(c){return c.programCache.hasOwnProperty(this.type)||(c.programCache[this.type]=this.createProgram(c.context)),c.programCache[this.type]},applyToWebGL:function(c){var i=c.context,h=this.retrieveShader(c);c.pass===0&&c.originalTexture?i.bindTexture(i.TEXTURE_2D,c.originalTexture):i.bindTexture(i.TEXTURE_2D,c.sourceTexture),i.useProgram(h.program),this.sendAttributeData(i,h.attributeLocations,c.aPosition),i.uniform1f(h.uniformLocations.uStepW,1/c.sourceWidth),i.uniform1f(h.uniformLocations.uStepH,1/c.sourceHeight),this.sendUniformData(i,h.uniformLocations),i.viewport(0,0,c.destinationWidth,c.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(c,i,h){c.activeTexture(h),c.bindTexture(c.TEXTURE_2D,i),c.activeTexture(c.TEXTURE0)},unbindAdditionalTexture:function(c,i){c.activeTexture(i),c.bindTexture(c.TEXTURE_2D,null),c.activeTexture(c.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(c){this[this.mainParameter]=c},sendUniformData:function(){},createHelpLayer:function(c){if(!c.helpLayer){var i=document.createElement("canvas");i.width=c.sourceWidth,i.height=c.sourceHeight,c.helpLayer=i}},toObject:function(){var c={type:this.type},i=this.mainParameter;return i&&(c[i]=this[i]),c},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(c,i){var h=new t.Image.filters[c.type](c);return i&&i(h),h},function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.ColorMatrix=f(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(o){this.callSuper("initialize",o),this.matrix=this.matrix.slice(0)},applyTo2d:function(o){var l=o.imageData,a=l.data,u=a.length,g=this.matrix,d,v,_,y,b,w=this.colorsOnly;for(b=0;b<u;b+=4)d=a[b],v=a[b+1],_=a[b+2],w?(a[b]=d*g[0]+v*g[1]+_*g[2]+g[4]*255,a[b+1]=d*g[5]+v*g[6]+_*g[7]+g[9]*255,a[b+2]=d*g[10]+v*g[11]+_*g[12]+g[14]*255):(y=a[b+3],a[b]=d*g[0]+v*g[1]+_*g[2]+y*g[3]+g[4]*255,a[b+1]=d*g[5]+v*g[6]+_*g[7]+y*g[8]+g[9]*255,a[b+2]=d*g[10]+v*g[11]+_*g[12]+y*g[13]+g[14]*255,a[b+3]=d*g[15]+v*g[16]+_*g[17]+y*g[18]+g[19]*255)},getUniformLocations:function(o,l){return{uColorMatrix:o.getUniformLocation(l,"uColorMatrix"),uConstants:o.getUniformLocation(l,"uConstants")}},sendUniformData:function(o,l){var a=this.matrix,u=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],g=[a[4],a[9],a[14],a[19]];o.uniformMatrix4fv(l.uColorMatrix,!1,u),o.uniform4fv(l.uConstants,g)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Brightness=f(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(o){if(this.brightness!==0){var l=o.imageData,a=l.data,u,g=a.length,d=Math.round(this.brightness*255);for(u=0;u<g;u+=4)a[u]=a[u]+d,a[u+1]=a[u+1]+d,a[u+2]=a[u+2]+d}},getUniformLocations:function(o,l){return{uBrightness:o.getUniformLocation(l,"uBrightness")}},sendUniformData:function(o,l){o.uniform1f(l.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.Convolute=o(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(l){var a=Math.sqrt(this.matrix.length),u=this.type+"_"+a+"_"+(this.opaque?1:0),g=this.fragmentSource[u];return l.programCache.hasOwnProperty(u)||(l.programCache[u]=this.createProgram(l.context,g)),l.programCache[u]},applyTo2d:function(l){var a=l.imageData,u=a.data,g=this.matrix,d=Math.round(Math.sqrt(g.length)),v=Math.floor(d/2),_=a.width,y=a.height,b=l.ctx.createImageData(_,y),w=b.data,C=this.opaque?1:0,S,O,j,Y,G,U,ee,ie,le,ce,X,J,x;for(X=0;X<y;X++)for(ce=0;ce<_;ce++){for(G=(X*_+ce)*4,S=0,O=0,j=0,Y=0,x=0;x<d;x++)for(J=0;J<d;J++)ee=X+x-v,U=ce+J-v,!(ee<0||ee>=y||U<0||U>=_)&&(ie=(ee*_+U)*4,le=g[x*d+J],S+=u[ie]*le,O+=u[ie+1]*le,j+=u[ie+2]*le,C||(Y+=u[ie+3]*le));w[G]=S,w[G+1]=O,w[G+2]=j,C?w[G+3]=u[G+3]:w[G+3]=Y}l.imageData=b},getUniformLocations:function(l,a){return{uMatrix:l.getUniformLocation(a,"uMatrix"),uOpaque:l.getUniformLocation(a,"uOpaque"),uHalfSize:l.getUniformLocation(a,"uHalfSize"),uSize:l.getUniformLocation(a,"uSize")}},sendUniformData:function(l,a){l.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Grayscale=f(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(o){var l=o.imageData,a=l.data,u,g=a.length,d,v=this.mode;for(u=0;u<g;u+=4)v==="average"?d=(a[u]+a[u+1]+a[u+2])/3:v==="lightness"?d=(Math.min(a[u],a[u+1],a[u+2])+Math.max(a[u],a[u+1],a[u+2]))/2:v==="luminosity"&&(d=.21*a[u]+.72*a[u+1]+.07*a[u+2]),a[u]=d,a[u+1]=d,a[u+2]=d},retrieveShader:function(o){var l=this.type+"_"+this.mode;if(!o.programCache.hasOwnProperty(l)){var a=this.fragmentSource[this.mode];o.programCache[l]=this.createProgram(o.context,a)}return o.programCache[l]},getUniformLocations:function(o,l){return{uMode:o.getUniformLocation(l,"uMode")}},sendUniformData:function(o,l){var a=1;o.uniform1i(l.uMode,a)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Invert=f(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(o){var l=o.imageData,a=l.data,u,g=a.length;for(u=0;u<g;u+=4)a[u]=255-a[u],a[u+1]=255-a[u+1],a[u+2]=255-a[u+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(o,l){return{uInvert:o.getUniformLocation(l,"uInvert")}},sendUniformData:function(o,l){o.uniform1i(l.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.Noise=o(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(l){if(this.noise!==0){var a=l.imageData,u=a.data,g,d=u.length,v=this.noise,_;for(g=0,d=u.length;g<d;g+=4)_=(.5-Math.random())*v,u[g]+=_,u[g+1]+=_,u[g+2]+=_}},getUniformLocations:function(l,a){return{uNoise:l.getUniformLocation(a,"uNoise"),uSeed:l.getUniformLocation(a,"uSeed")}},sendUniformData:function(l,a){l.uniform1f(a.uNoise,this.noise/255),l.uniform1f(a.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Pixelate=f(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(o){var l=o.imageData,a=l.data,u=l.height,g=l.width,d,v,_,y,b,w,C,S,O,j,Y;for(v=0;v<u;v+=this.blocksize)for(_=0;_<g;_+=this.blocksize)for(d=v*4*g+_*4,y=a[d],b=a[d+1],w=a[d+2],C=a[d+3],j=Math.min(v+this.blocksize,u),Y=Math.min(_+this.blocksize,g),S=v;S<j;S++)for(O=_;O<Y;O++)d=S*4*g+O*4,a[d]=y,a[d+1]=b,a[d+2]=w,a[d+3]=C},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(o,l){return{uBlocksize:o.getUniformLocation(l,"uBlocksize"),uStepW:o.getUniformLocation(l,"uStepW"),uStepH:o.getUniformLocation(l,"uStepH")}},sendUniformData:function(o,l){o.uniform1f(l.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.RemoveColor=o(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(l){var a=l.imageData,u=a.data,g,d=this.distance*255,v,_,y,b=new i.Color(this.color).getSource(),w=[b[0]-d,b[1]-d,b[2]-d],C=[b[0]+d,b[1]+d,b[2]+d];for(g=0;g<u.length;g+=4)v=u[g],_=u[g+1],y=u[g+2],v>w[0]&&_>w[1]&&y>w[2]&&v<C[0]&&_<C[1]&&y<C[2]&&(u[g+3]=0)},getUniformLocations:function(l,a){return{uLow:l.getUniformLocation(a,"uLow"),uHigh:l.getUniformLocation(a,"uHigh")}},sendUniformData:function(l,a){var u=new i.Color(this.color).getSource(),g=parseFloat(this.distance),d=[0+u[0]/255-g,0+u[1]/255-g,0+u[2]/255-g,1],v=[u[0]/255+g,u[1]/255+g,u[2]/255+g,1];l.uniform4fv(a.uLow,d),l.uniform4fv(a.uHigh,v)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var l in o)h[l]=f(h.ColorMatrix,{type:l,matrix:o[l],mainParameter:!1,colorsOnly:!0}),i.Image.filters[l].fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric,h=i.Image.filters,f=i.util.createClass;h.BlendColor=f(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(o){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[o]+`}
}`},retrieveShader:function(o){var l=this.type+"_"+this.mode,a;return o.programCache.hasOwnProperty(l)||(a=this.buildSource(this.mode),o.programCache[l]=this.createProgram(o.context,a)),o.programCache[l]},applyTo2d:function(o){var l=o.imageData,a=l.data,u=a.length,g,d,v,_,y,b,w,C=1-this.alpha;w=new i.Color(this.color).getSource(),g=w[0]*this.alpha,d=w[1]*this.alpha,v=w[2]*this.alpha;for(var S=0;S<u;S+=4)switch(_=a[S],y=a[S+1],b=a[S+2],this.mode){case"multiply":a[S]=_*g/255,a[S+1]=y*d/255,a[S+2]=b*v/255;break;case"screen":a[S]=255-(255-_)*(255-g)/255,a[S+1]=255-(255-y)*(255-d)/255,a[S+2]=255-(255-b)*(255-v)/255;break;case"add":a[S]=_+g,a[S+1]=y+d,a[S+2]=b+v;break;case"diff":case"difference":a[S]=Math.abs(_-g),a[S+1]=Math.abs(y-d),a[S+2]=Math.abs(b-v);break;case"subtract":a[S]=_-g,a[S+1]=y-d,a[S+2]=b-v;break;case"darken":a[S]=Math.min(_,g),a[S+1]=Math.min(y,d),a[S+2]=Math.min(b,v);break;case"lighten":a[S]=Math.max(_,g),a[S+1]=Math.max(y,d),a[S+2]=Math.max(b,v);break;case"overlay":a[S]=g<128?2*_*g/255:255-2*(255-_)*(255-g)/255,a[S+1]=d<128?2*y*d/255:255-2*(255-y)*(255-d)/255,a[S+2]=v<128?2*b*v/255:255-2*(255-b)*(255-v)/255;break;case"exclusion":a[S]=g+_-2*g*_/255,a[S+1]=d+y-2*d*y/255,a[S+2]=v+b-2*v*b/255;break;case"tint":a[S]=g+_*C,a[S+1]=d+y*C,a[S+2]=v+b*C}},getUniformLocations:function(o,l){return{uColor:o.getUniformLocation(l,"uColor")}},sendUniformData:function(o,l){var a=new i.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,o.uniform4fv(l.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric,h=i.Image.filters,f=i.util.createClass;h.BlendImage=f(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(o){var l=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return o.programCache.hasOwnProperty(l)||(o.programCache[l]=this.createProgram(o.context,a)),o.programCache[l]},applyToWebGL:function(o){var l=o.context,a=this.createTexture(o.filterBackend,this.image);this.bindAdditionalTexture(l,a,l.TEXTURE1),this.callSuper("applyToWebGL",o),this.unbindAdditionalTexture(l,l.TEXTURE1)},createTexture:function(o,l){return o.getCachedTexture(l.cacheKey,l._element)},calculateMatrix:function(){var o=this.image,l=o._element.width,a=o._element.height;return[1/o.scaleX,0,0,0,1/o.scaleY,0,-o.left/l,-o.top/a,1]},applyTo2d:function(o){var l=o.imageData,a=o.filterBackend.resources,u=l.data,g=u.length,d=l.width,v=l.height,_,y,b,w,C,S,O,j,Y,G,U=this.image,ee;a.blendImage||(a.blendImage=i.util.createCanvasElement()),Y=a.blendImage,G=Y.getContext("2d"),Y.width!==d||Y.height!==v?(Y.width=d,Y.height=v):G.clearRect(0,0,d,v),G.setTransform(U.scaleX,0,0,U.scaleY,U.left,U.top),G.drawImage(U._element,0,0,d,v),ee=G.getImageData(0,0,d,v).data;for(var ie=0;ie<g;ie+=4)switch(C=u[ie],S=u[ie+1],O=u[ie+2],j=u[ie+3],_=ee[ie],y=ee[ie+1],b=ee[ie+2],w=ee[ie+3],this.mode){case"multiply":u[ie]=C*_/255,u[ie+1]=S*y/255,u[ie+2]=O*b/255,u[ie+3]=j*w/255;break;case"mask":u[ie+3]=w;break}},getUniformLocations:function(o,l){return{uTransformMatrix:o.getUniformLocation(l,"uTransformMatrix"),uImage:o.getUniformLocation(l,"uImage")}},sendUniformData:function(o,l){var a=this.calculateMatrix();o.uniform1i(l.uImage,1),o.uniformMatrix3fv(l.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(o,l){i.Image.fromObject(o.image,function(a){var u=i.util.object.clone(o);u.image=a,l(new i.Image.filters.BlendImage(u))})}}(e),function(c){var i=c.fabric||(c.fabric={}),h=Math.pow,f=Math.floor,o=Math.sqrt,l=Math.abs,a=Math.round,u=Math.sin,g=Math.ceil,d=i.Image.filters,v=i.util.createClass;d.Resize=v(d.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(_,y){return{uDelta:_.getUniformLocation(y,"uDelta"),uTaps:_.getUniformLocation(y,"uTaps")}},sendUniformData:function(_,y){_.uniform2fv(y.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),_.uniform1fv(y.uTaps,this.taps)},retrieveShader:function(_){var y=this.getFilterWindow(),b=this.type+"_"+y;if(!_.programCache.hasOwnProperty(b)){var w=this.generateShader(y);_.programCache[b]=this.createProgram(_.context,w)}return _.programCache[b]},getFilterWindow:function(){var _=this.tempScale;return Math.ceil(this.lanczosLobes/_)},getTaps:function(){for(var _=this.lanczosCreate(this.lanczosLobes),y=this.tempScale,b=this.getFilterWindow(),w=new Array(b),C=1;C<=b;C++)w[C-1]=_(C*y);return w},generateShader:function(w){for(var y=new Array(w),b=this.fragmentSourceTOP,w,C=1;C<=w;C++)y[C-1]=C+".0 * uDelta";return b+="uniform float uTaps["+w+`];
`,b+=`void main() {
`,b+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,b+=`  float sum = 1.0;
`,y.forEach(function(S,O){b+="  color += texture2D(uTexture, vTexCoord + "+S+") * uTaps["+O+`];
`,b+="  color += texture2D(uTexture, vTexCoord - "+S+") * uTaps["+O+`];
`,b+="  sum += 2.0 * uTaps["+O+`];
`}),b+=`  gl_FragColor = color / sum;
`,b+="}",b},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(_){_.webgl?(_.passes++,this.width=_.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=_.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),_.destinationWidth=this.dW,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceWidth=_.destinationWidth,this.height=_.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),_.destinationHeight=this.dH,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceHeight=_.destinationHeight):this.applyTo2d(_)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(_){return function(y){if(y>=_||y<=-_)return 0;if(y<11920929e-14&&y>-11920929e-14)return 1;y*=Math.PI;var b=y/_;return u(y)/y*u(b)/b}},applyTo2d:function(_){var y=_.imageData,b=this.scaleX,w=this.scaleY;this.rcpScaleX=1/b,this.rcpScaleY=1/w;var C=y.width,S=y.height,O=a(C*b),j=a(S*w),Y;this.resizeType==="sliceHack"?Y=this.sliceByTwo(_,C,S,O,j):this.resizeType==="hermite"?Y=this.hermiteFastResize(_,C,S,O,j):this.resizeType==="bilinear"?Y=this.bilinearFiltering(_,C,S,O,j):this.resizeType==="lanczos"&&(Y=this.lanczosResize(_,C,S,O,j)),_.imageData=Y},sliceByTwo:function(_,y,b,w,C){var S=_.imageData,O=.5,j=!1,Y=!1,G=y*O,U=b*O,ee=i.filterBackend.resources,ie,le,ce=0,X=0,J=y,x=0;for(ee.sliceByTwo||(ee.sliceByTwo=document.createElement("canvas")),ie=ee.sliceByTwo,(ie.width<y*1.5||ie.height<b)&&(ie.width=y*1.5,ie.height=b),le=ie.getContext("2d"),le.clearRect(0,0,y*1.5,b),le.putImageData(S,0,0),w=f(w),C=f(C);!j||!Y;)y=G,b=U,w<f(G*O)?G=f(G*O):(G=w,j=!0),C<f(U*O)?U=f(U*O):(U=C,Y=!0),le.drawImage(ie,ce,X,y,b,J,x,G,U),ce=J,X=x,x+=U;return le.getImageData(ce,X,w,C)},lanczosResize:function(_,y,b,w,C){function S(R){var I,Q,M,E,H,A,F,z,K,ne,k;for(x.x=(R+.5)*U,D.x=f(x.x),I=0;I<C;I++){for(x.y=(I+.5)*ee,D.y=f(x.y),H=0,A=0,F=0,z=0,K=0,Q=D.x-ce;Q<=D.x+ce;Q++)if(!(Q<0||Q>=y)){ne=f(1e3*l(Q-x.x)),J[ne]||(J[ne]={});for(var T=D.y-X;T<=D.y+X;T++)T<0||T>=b||(k=f(1e3*l(T-x.y)),J[ne][k]||(J[ne][k]=G(o(h(ne*ie,2)+h(k*le,2))/1e3)),M=J[ne][k],M>0&&(E=(T*y+Q)*4,H+=M,A+=M*O[E],F+=M*O[E+1],z+=M*O[E+2],K+=M*O[E+3]))}E=(I*w+R)*4,Y[E]=A/H,Y[E+1]=F/H,Y[E+2]=z/H,Y[E+3]=K/H}return++R<w?S(R):j}var O=_.imageData.data,j=_.ctx.createImageData(w,C),Y=j.data,G=this.lanczosCreate(this.lanczosLobes),U=this.rcpScaleX,ee=this.rcpScaleY,ie=2/this.rcpScaleX,le=2/this.rcpScaleY,ce=g(U*this.lanczosLobes/2),X=g(ee*this.lanczosLobes/2),J={},x={},D={};return S(0)},bilinearFiltering:function(_,y,b,w,C){var S,O,j,Y,G,U,ee,ie,le,ce,X,J,x=0,D,R=this.rcpScaleX,I=this.rcpScaleY,Q=4*(y-1),M=_.imageData,E=M.data,H=_.ctx.createImageData(w,C),A=H.data;for(ee=0;ee<C;ee++)for(ie=0;ie<w;ie++)for(G=f(R*ie),U=f(I*ee),le=R*ie-G,ce=I*ee-U,D=4*(U*y+G),X=0;X<4;X++)S=E[D+X],O=E[D+4+X],j=E[D+Q+X],Y=E[D+Q+4+X],J=S*(1-le)*(1-ce)+O*le*(1-ce)+j*ce*(1-le)+Y*le*ce,A[x++]=J;return H},hermiteFastResize:function(_,y,b,w,C){for(var S=this.rcpScaleX,O=this.rcpScaleY,j=g(S/2),Y=g(O/2),G=_.imageData,U=G.data,ee=_.ctx.createImageData(w,C),ie=ee.data,le=0;le<C;le++)for(var ce=0;ce<w;ce++){for(var X=(ce+le*w)*4,J=0,x=0,D=0,R=0,I=0,Q=0,M=0,E=(le+.5)*O,H=f(le*O);H<(le+1)*O;H++)for(var A=l(E-(H+.5))/Y,F=(ce+.5)*S,z=A*A,K=f(ce*S);K<(ce+1)*S;K++){var ne=l(F-(K+.5))/j,k=o(z+ne*ne);k>1&&k<-1||(J=2*k*k*k-3*k*k+1,J>0&&(ne=4*(K+H*y),M+=J*U[ne+3],D+=J,U[ne+3]<255&&(J=J*U[ne+3]/250),R+=J*U[ne],I+=J*U[ne+1],Q+=J*U[ne+2],x+=J))}ie[X]=R/x,ie[X+1]=I/x,ie[X+2]=Q/x,ie[X+3]=M/D}return ee},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Contrast=f(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(o){if(this.contrast!==0){var l=o.imageData,a,g,u=l.data,g=u.length,d=Math.floor(this.contrast*255),v=259*(d+255)/(255*(259-d));for(a=0;a<g;a+=4)u[a]=v*(u[a]-128)+128,u[a+1]=v*(u[a+1]-128)+128,u[a+2]=v*(u[a+2]-128)+128}},getUniformLocations:function(o,l){return{uContrast:o.getUniformLocation(l,"uContrast")}},sendUniformData:function(o,l){o.uniform1f(l.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Saturation=f(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(o){if(this.saturation!==0){var l=o.imageData,a=l.data,u=a.length,g=-this.saturation,d,v;for(d=0;d<u;d+=4)v=Math.max(a[d],a[d+1],a[d+2]),a[d]+=v!==a[d]?(v-a[d])*g:0,a[d+1]+=v!==a[d+1]?(v-a[d+1])*g:0,a[d+2]+=v!==a[d+2]?(v-a[d+2])*g:0}},getUniformLocations:function(o,l){return{uSaturation:o.getUniformLocation(l,"uSaturation")}},sendUniformData:function(o,l){o.uniform1f(l.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Vibrance=f(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(o){if(this.vibrance!==0){var l=o.imageData,a=l.data,u=a.length,g=-this.vibrance,d,v,_,y;for(d=0;d<u;d+=4)v=Math.max(a[d],a[d+1],a[d+2]),_=(a[d]+a[d+1]+a[d+2])/3,y=Math.abs(v-_)*2/255*g,a[d]+=v!==a[d]?(v-a[d])*y:0,a[d+1]+=v!==a[d+1]?(v-a[d+1])*y:0,a[d+2]+=v!==a[d+2]?(v-a[d+2])*y:0}},getUniformLocations:function(o,l){return{uVibrance:o.getUniformLocation(l,"uVibrance")}},sendUniformData:function(o,l){o.uniform1f(l.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Blur=f(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(o){o.webgl?(this.aspectRatio=o.sourceWidth/o.sourceHeight,o.passes++,this._setupFrameBuffer(o),this.horizontal=!0,this.applyToWebGL(o),this._swapTextures(o),this._setupFrameBuffer(o),this.horizontal=!1,this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},applyTo2d:function(o){o.imageData=this.simpleBlur(o)},simpleBlur:function(o){var l=o.filterBackend.resources,a,u,g=o.imageData.width,d=o.imageData.height;l.blurLayer1||(l.blurLayer1=i.util.createCanvasElement(),l.blurLayer2=i.util.createCanvasElement()),a=l.blurLayer1,u=l.blurLayer2,(a.width!==g||a.height!==d)&&(u.width=a.width=g,u.height=a.height=d);var v=a.getContext("2d"),_=u.getContext("2d"),y=15,b,w,C,S,O=this.blur*.06*.5;for(v.putImageData(o.imageData,0,0),_.clearRect(0,0,g,d),S=-y;S<=y;S++)b=(Math.random()-.5)/4,w=S/y,C=O*w*g+b,_.globalAlpha=1-Math.abs(w),_.drawImage(a,C,b),v.drawImage(u,0,0),_.globalAlpha=1,_.clearRect(0,0,u.width,u.height);for(S=-y;S<=y;S++)b=(Math.random()-.5)/4,w=S/y,C=O*w*d+b,_.globalAlpha=1-Math.abs(w),_.drawImage(a,b,C),v.drawImage(u,0,0),_.globalAlpha=1,_.clearRect(0,0,u.width,u.height);o.ctx.drawImage(a,0,0);var j=o.ctx.getImageData(0,0,a.width,a.height);return v.globalAlpha=1,v.clearRect(0,0,a.width,a.height),j},getUniformLocations:function(o,l){return{delta:o.getUniformLocation(l,"uDelta")}},sendUniformData:function(o,l){var a=this.chooseRightDelta();o.uniform2fv(l.delta,a)},chooseRightDelta:function(){var o=1,l=[0,0],a;return this.horizontal?this.aspectRatio>1&&(o=1/this.aspectRatio):this.aspectRatio<1&&(o=this.aspectRatio),a=o*this.blur*.12,this.horizontal?l[0]=a:l[1]=a,l}}),h.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Gamma=f(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(o){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,o)},applyTo2d:function(o){var l=o.imageData,a=l.data,u=this.gamma,g=a.length,d=1/u[0],v=1/u[1],_=1/u[2],y;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),y=0,g=256;y<g;y++)this.rVals[y]=Math.pow(y/255,d)*255,this.gVals[y]=Math.pow(y/255,v)*255,this.bVals[y]=Math.pow(y/255,_)*255;for(y=0,g=a.length;y<g;y+=4)a[y]=this.rVals[a[y]],a[y+1]=this.gVals[a[y+1]],a[y+2]=this.bVals[a[y+2]]},getUniformLocations:function(o,l){return{uGamma:o.getUniformLocation(l,"uGamma")}},sendUniformData:function(o,l){o.uniform3fv(l.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Composed=f(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(o){this.callSuper("initialize",o),this.subFilters=this.subFilters.slice(0)},applyTo:function(o){o.passes+=this.subFilters.length-1,this.subFilters.forEach(function(l){l.applyTo(o)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(o){return o.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(o){return!o.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(o,l){var a=o.subFilters||[],u=a.map(function(d){return new i.Image.filters[d.type](d)}),g=new i.Image.filters.Composed({subFilters:u});return l&&l(g),g}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.HueRotation=f(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var o=this.rotation*Math.PI,l=i.util.cos(o),a=i.util.sin(o),u=1/3,g=Math.sqrt(u)*a,d=1-l;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=l+d/3,this.matrix[1]=u*d-g,this.matrix[2]=u*d+g,this.matrix[5]=u*d+g,this.matrix[6]=l+u*d,this.matrix[7]=u*d-g,this.matrix[10]=u*d-g,this.matrix[11]=u*d+g,this.matrix[12]=l+u*d},isNeutralState:function(o){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,o)},applyTo:function(o){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,o)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(f),cacheProperties:i.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(o,l){this.styles=l?l.styles||{}:{},this.text=o,this.__skipDimension=!0,this.callSuper("initialize",l),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var o=this.path;o&&(o.segmentsInfo=i.util.getPathSegmentsInfo(o.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var o=this._splitTextIntoLines(this.text);return this.textLines=o.lines,this._textLines=o.graphemeLines,this._unwrappedTextLines=o._unwrappedLines,this._text=o.graphemeText,o},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var o,l,a,u,g,d,v,_=0,y=this._textLines.length;_<y;_++)if(!(this.textAlign!=="justify"&&(_===y-1||this.isEndOfWrapping(_)))&&(u=0,g=this._textLines[_],l=this.getLineWidth(_),l<this.width&&(v=this.textLines[_].match(this._reSpacesAndTabs)))){a=v.length,o=(this.width-l)/a;for(var b=0,w=g.length;b<=w;b++)d=this.__charBounds[_][b],this._reSpaceAndTab.test(g[b])?(d.width+=o,d.kernedWidth+=o,d.left+=u,u+=o):d.left+=u}},isEndOfWrapping:function(o){return o===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var o=this.callSuper("_getCacheCanvasDimensions"),l=this.fontSize;return o.width+=l*o.zoomX,o.height+=l*o.zoomY,o},_render:function(o){var l=this.path;l&&!l.isNotVisible()&&l._render(o),this._setTextStyles(o),this._renderTextLinesBackground(o),this._renderTextDecoration(o,"underline"),this._renderText(o),this._renderTextDecoration(o,"overline"),this._renderTextDecoration(o,"linethrough")},_renderText:function(o){this.paintFirst==="stroke"?(this._renderTextStroke(o),this._renderTextFill(o)):(this._renderTextFill(o),this._renderTextStroke(o))},_setTextStyles:function(o,l,a){if(o.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":o.textBaseline="middle";break;case"ascender":o.textBaseline="top";break;case"descender":o.textBaseline="bottom";break}o.font=this._getFontDeclaration(l,a)},calcTextWidth:function(){for(var o=this.getLineWidth(0),l=1,a=this._textLines.length;l<a;l++){var u=this.getLineWidth(l);u>o&&(o=u)}return o},_renderTextLine:function(o,l,a,u,g,d){this._renderChars(o,l,a,u,g,d)},_renderTextLinesBackground:function(o){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var l,a,u=o.fillStyle,g,d,v=this._getLeftOffset(),_=this._getTopOffset(),y=0,b=0,w,C,S=this.path,O,j=0,Y=this._textLines.length;j<Y;j++){if(l=this.getHeightOfLine(j),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",j)){_+=l;continue}g=this._textLines[j],a=this._getLineLeftOffset(j),b=0,y=0,d=this.getValueOfPropertyAt(j,0,"textBackgroundColor");for(var G=0,U=g.length;G<U;G++)w=this.__charBounds[j][G],C=this.getValueOfPropertyAt(j,G,"textBackgroundColor"),S?(o.save(),o.translate(w.renderLeft,w.renderTop),o.rotate(w.angle),o.fillStyle=C,C&&o.fillRect(-w.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),w.width,l/this.lineHeight),o.restore()):C!==d?(O=v+a+y,this.direction==="rtl"&&(O=this.width-O-b),o.fillStyle=d,d&&o.fillRect(O,_,b,l/this.lineHeight),y=w.left,b=w.width,d=C):b+=w.kernedWidth;C&&!S&&(O=v+a+y,this.direction==="rtl"&&(O=this.width-O-b),o.fillStyle=C,o.fillRect(O,_,b,l/this.lineHeight)),_+=l}o.fillStyle=u,this._removeShadow(o)}},getFontCache:function(o){var l=o.fontFamily.toLowerCase();i.charWidthsCache[l]||(i.charWidthsCache[l]={});var a=i.charWidthsCache[l],u=o.fontStyle.toLowerCase()+"_"+(o.fontWeight+"").toLowerCase();return a[u]||(a[u]={}),a[u]},_measureChar:function(o,l,a,u){var g=this.getFontCache(l),d=this._getFontDeclaration(l),v=this._getFontDeclaration(u),_=a+o,y=d===v,b,w,C,S=l.fontSize/this.CACHE_FONT_SIZE,O;if(a&&g[a]!==void 0&&(C=g[a]),g[o]!==void 0&&(O=b=g[o]),y&&g[_]!==void 0&&(w=g[_],O=w-C),b===void 0||C===void 0||w===void 0){var j=this.getMeasuringContext();this._setTextStyles(j,l,!0)}return b===void 0&&(O=b=j.measureText(o).width,g[o]=b),C===void 0&&y&&a&&(C=j.measureText(a).width,g[a]=C),y&&w===void 0&&(w=j.measureText(_).width,g[_]=w,O=w-C),{width:b*S,kernedWidth:O*S}},getHeightOfChar:function(o,l){return this.getValueOfPropertyAt(o,l,"fontSize")},measureLine:function(o){var l=this._measureLine(o);return this.charSpacing!==0&&(l.width-=this._getWidthOfCharSpacing()),l.width<0&&(l.width=0),l},_measureLine:function(o){var l=0,a,u,g=this._textLines[o],d,v,_=0,y=new Array(g.length),b=0,w,C,S=this.path,O=this.pathSide==="right";for(this.__charBounds[o]=y,a=0;a<g.length;a++)u=g[a],v=this._getGraphemeBox(u,o,a,d),y[a]=v,l+=v.kernedWidth,d=u;if(y[a]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},S){switch(C=S.segmentsInfo[S.segmentsInfo.length-1].length,w=i.util.getPointOnPath(S.path,0,S.segmentsInfo),w.x+=S.pathOffset.x,w.y+=S.pathOffset.y,this.textAlign){case"left":b=O?C-l:0;break;case"center":b=(C-l)/2;break;case"right":b=O?0:C-l;break}for(b+=this.pathStartOffset*(O?-1:1),a=O?g.length-1:0;O?a>=0:a<g.length;O?a--:a++)v=y[a],b>C?b%=C:b<0&&(b+=C),this._setGraphemeOnPath(b,v,w),b+=v.kernedWidth}return{width:l,numOfSpaces:_}},_setGraphemeOnPath:function(o,l,a){var u=o+l.kernedWidth/2,g=this.path,d=i.util.getPointOnPath(g.path,u,g.segmentsInfo);l.renderLeft=d.x-a.x,l.renderTop=d.y-a.y,l.angle=d.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(o,l,a,u,g){var d=this.getCompleteStyleDeclaration(l,a),v=u?this.getCompleteStyleDeclaration(l,a-1):{},_=this._measureChar(o,d,u,v),y=_.kernedWidth,b=_.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),b+=w,y+=w);var C={width:b,left:0,height:d.fontSize,kernedWidth:y,deltaY:d.deltaY};if(a>0&&!g){var S=this.__charBounds[l][a-1];C.left=S.left+S.width+_.kernedWidth-_.width}return C},getHeightOfLine:function(o){if(this.__lineHeights[o])return this.__lineHeights[o];for(var l=this._textLines[o],a=this.getHeightOfChar(o,0),u=1,g=l.length;u<g;u++)a=Math.max(this.getHeightOfChar(o,u),a);return this.__lineHeights[o]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var o,l=0,a=0,u=this._textLines.length;a<u;a++)o=this.getHeightOfLine(a),l+=a===u-1?o/this.lineHeight:o;return l},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(o,l){o.save();for(var a=0,u=this._getLeftOffset(),g=this._getTopOffset(),d=0,v=this._textLines.length;d<v;d++){var _=this.getHeightOfLine(d),y=_/this.lineHeight,b=this._getLineLeftOffset(d);this._renderTextLine(l,o,this._textLines[d],u+b,g+a+y,d),a+=_}o.restore()},_renderTextFill:function(o){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(o,"fillText")},_renderTextStroke:function(o){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this._setLineDash(o,this.strokeDashArray),o.beginPath(),this._renderTextCommon(o,"strokeText"),o.closePath(),o.restore())},_renderChars:function(o,l,a,u,g,d){var v=this.getHeightOfLine(d),_=this.textAlign.indexOf("justify")!==-1,y,b,w="",C,S=0,O,j=this.path,Y=!_&&this.charSpacing===0&&this.isEmptyStyles(d)&&!j,G=this.direction==="ltr",U=this.direction==="ltr"?1:-1,ee,ie=l.canvas.getAttribute("dir");if(l.save(),ie!==this.direction&&(l.canvas.setAttribute("dir",G?"ltr":"rtl"),l.direction=G?"ltr":"rtl",l.textAlign=G?"left":"right"),g-=v*this._fontSizeFraction/this.lineHeight,Y){this._renderChar(o,l,d,0,a.join(""),u,g,v),l.restore();return}for(var le=0,ce=a.length-1;le<=ce;le++)O=le===ce||this.charSpacing||j,w+=a[le],C=this.__charBounds[d][le],S===0?(u+=U*(C.kernedWidth-C.width),S+=C.width):S+=C.kernedWidth,_&&!O&&this._reSpaceAndTab.test(a[le])&&(O=!0),O||(y=y||this.getCompleteStyleDeclaration(d,le),b=this.getCompleteStyleDeclaration(d,le+1),O=i.util.hasStyleChanged(y,b,!1)),O&&(j?(l.save(),l.translate(C.renderLeft,C.renderTop),l.rotate(C.angle),this._renderChar(o,l,d,le,w,-S/2,0,v),l.restore()):(ee=u,this._renderChar(o,l,d,le,w,ee,g,v)),w="",y=b,u+=U*S,S=0);l.restore()},_applyPatternGradientTransformText:function(o){var l=i.util.createCanvasElement(),a,u=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return l.width=u,l.height=g,a=l.getContext("2d"),a.beginPath(),a.moveTo(0,0),a.lineTo(u,0),a.lineTo(u,g),a.lineTo(0,g),a.closePath(),a.translate(u/2,g/2),a.fillStyle=o.toLive(a),this._applyPatternGradientTransform(a,o),a.fill(),a.createPattern(l,"no-repeat")},handleFiller:function(o,l,a){var u,g;return a.toLive?a.gradientUnits==="percentage"||a.gradientTransform||a.patternTransform?(u=-this.width/2,g=-this.height/2,o.translate(u,g),o[l]=this._applyPatternGradientTransformText(a),{offsetX:u,offsetY:g}):(o[l]=a.toLive(o,this),this._applyPatternGradientTransform(o,a)):(o[l]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(o,l){return o.lineWidth=l.strokeWidth,o.lineCap=this.strokeLineCap,o.lineDashOffset=this.strokeDashOffset,o.lineJoin=this.strokeLineJoin,o.miterLimit=this.strokeMiterLimit,this.handleFiller(o,"strokeStyle",l.stroke)},_setFillStyles:function(o,l){return this.handleFiller(o,"fillStyle",l.fill)},_renderChar:function(o,l,a,u,g,d,v){var _=this._getStyleDeclaration(a,u),y=this.getCompleteStyleDeclaration(a,u),b=o==="fillText"&&y.fill,w=o==="strokeText"&&y.stroke&&y.strokeWidth,C,S;!w&&!b||(l.save(),b&&(C=this._setFillStyles(l,y)),w&&(S=this._setStrokeStyles(l,y)),l.font=this._getFontDeclaration(y),_&&_.textBackgroundColor&&this._removeShadow(l),_&&_.deltaY&&(v+=_.deltaY),b&&l.fillText(g,d-C.offsetX,v-C.offsetY),w&&l.strokeText(g,d-S.offsetX,v-S.offsetY),l.restore())},setSuperscript:function(o,l){return this._setScript(o,l,this.superscript)},setSubscript:function(o,l){return this._setScript(o,l,this.subscript)},_setScript:function(o,l,a){var u=this.get2DCursorLocation(o,!0),g=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"fontSize"),d=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"deltaY"),v={fontSize:g*a.size,deltaY:d+g*a.baseline};return this.setSelectionStyles(v,o,l),this},_getLineLeftOffset:function(o){var l=this.getLineWidth(o),a=this.width-l,u=this.textAlign,g=this.direction,v,d=0,v=this.isEndOfWrapping(o);return u==="justify"||u==="justify-center"&&!v||u==="justify-right"&&!v||u==="justify-left"&&!v?0:(u==="center"&&(d=a/2),u==="right"&&(d=a),u==="justify-center"&&(d=a/2),u==="justify-right"&&(d=a),g==="rtl"&&(d-=a),d)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var o=this._forceClearCache;return o||(o=this.hasStateChanged("_dimensionAffectingProps")),o&&(this.dirty=!0,this._forceClearCache=!1),o},getLineWidth:function(o){if(this.__lineWidths[o]!==void 0)return this.__lineWidths[o];var l=this.measureLine(o),a=l.width;return this.__lineWidths[o]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(o,l,a){var u=this._getStyleDeclaration(o,l);return u&&typeof u[a]<"u"?u[a]:this[a]},_renderTextDecoration:function(o,l){if(!(!this[l]&&!this.styleHas(l))){for(var a,u,g,d,v,_,y,b,w=this._getLeftOffset(),C=this._getTopOffset(),S,O,j,Y,G,U,ee,ie,le=this.path,ce=this._getWidthOfCharSpacing(),X=this.offsets[l],J=0,x=this._textLines.length;J<x;J++){if(a=this.getHeightOfLine(J),!this[l]&&!this.styleHas(l,J)){C+=a;continue}y=this._textLines[J],U=a/this.lineHeight,d=this._getLineLeftOffset(J),O=0,j=0,b=this.getValueOfPropertyAt(J,0,l),ie=this.getValueOfPropertyAt(J,0,"fill"),S=C+U*(1-this._fontSizeFraction),u=this.getHeightOfChar(J,0),v=this.getValueOfPropertyAt(J,0,"deltaY");for(var D=0,R=y.length;D<R;D++)if(Y=this.__charBounds[J][D],G=this.getValueOfPropertyAt(J,D,l),ee=this.getValueOfPropertyAt(J,D,"fill"),g=this.getHeightOfChar(J,D),_=this.getValueOfPropertyAt(J,D,"deltaY"),le&&G&&ee)o.save(),o.fillStyle=ie,o.translate(Y.renderLeft,Y.renderTop),o.rotate(Y.angle),o.fillRect(-Y.kernedWidth/2,X*g+_,Y.kernedWidth,this.fontSize/15),o.restore();else if((G!==b||ee!==ie||g!==u||_!==v)&&j>0){var I=w+d+O;this.direction==="rtl"&&(I=this.width-I-j),b&&ie&&(o.fillStyle=ie,o.fillRect(I,S+X*u+v,j,this.fontSize/15)),O=Y.left,j=Y.width,b=G,ie=ee,u=g,v=_}else j+=Y.kernedWidth;var I=w+d+O;this.direction==="rtl"&&(I=this.width-I-j),o.fillStyle=ee,G&&ee&&o.fillRect(I,S+X*u+v,j-ce,this.fontSize/15),C+=a}this._removeShadow(o)}},_getFontDeclaration:function(o,l){var a=o||this,u=this.fontFamily,g=i.Text.genericFonts.indexOf(u.toLowerCase())>-1,d=u===void 0||u.indexOf("'")>-1||u.indexOf(",")>-1||u.indexOf('"')>-1||g?a.fontFamily:'"'+a.fontFamily+'"';return[i.isLikelyNode?a.fontWeight:a.fontStyle,i.isLikelyNode?a.fontStyle:a.fontWeight,l?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",d].join(" ")},render:function(o){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",o)))},_splitTextIntoLines:function(o){for(var l=o.split(this._reNewline),a=new Array(l.length),u=[`
`],g=[],d=0;d<l.length;d++)a[d]=i.util.string.graphemeSplit(l[d]),g=g.concat(a[d],u);return g.pop(),{_unwrappedLines:a,lines:l,graphemeText:g,graphemeLines:a}},toObject:function(o){var l=f.concat(o),a=this.callSuper("toObject",l);return a.styles=i.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(o,l){this.callSuper("set",o,l);var a=!1,u=!1;if(typeof o=="object")for(var g in o)g==="path"&&this.setPathInfo(),a=a||this._dimensionAffectingProps.indexOf(g)!==-1,u=u||g==="path";else a=this._dimensionAffectingProps.indexOf(o)!==-1,u=o==="path";return u&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(o,l,a){if(!o)return l(null);var u=i.parseAttributes(o,i.Text.ATTRIBUTE_NAMES),g=u.textAnchor||"left";if(a=i.util.object.extend(a?h(a):{},u),a.top=a.top||0,a.left=a.left||0,u.textDecoration){var d=u.textDecoration;d.indexOf("underline")!==-1&&(a.underline=!0),d.indexOf("overline")!==-1&&(a.overline=!0),d.indexOf("line-through")!==-1&&(a.linethrough=!0),delete a.textDecoration}"dx"in u&&(a.left+=u.dx),"dy"in u&&(a.top+=u.dy),"fontSize"in a||(a.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in o?v=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(v=o.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var _=a.strokeWidth;a.strokeWidth=0;var y=new i.Text(v,a),b=y.getScaledHeight()/y.height,w=(y.height+y.strokeWidth)*y.lineHeight-y.height,C=w*b,S=y.getScaledHeight()+C,O=0;g==="center"&&(O=y.getScaledWidth()/2),g==="right"&&(O=y.getScaledWidth()),y.set({left:y.left-O,top:y.top-(S-y.fontSize*(.07+y._fontSizeFraction))/y.lineHeight,strokeWidth:typeof _<"u"?_:1}),l(y)},i.Text.fromObject=function(o,l){var a=h(o),u=o.path;return delete a.path,i.Object._fromObject("Text",a,function(g){g.styles=i.util.stylesFromArray(o.styles,o.text),u?i.Object._fromObject("Path",u,function(d){g.set("path",d),l(g)},"path"):l(g)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(c){if(!this.styles||typeof c<"u"&&!this.styles[c])return!0;var i=typeof c>"u"?this.styles:{line:this.styles[c]};for(var h in i)for(var f in i[h])for(var o in i[h][f])return!1;return!0},styleHas:function(c,i){if(!this.styles||!c||c===""||typeof i<"u"&&!this.styles[i])return!1;var h=typeof i>"u"?this.styles:{0:this.styles[i]};for(var f in h)for(var o in h[f])if(typeof h[f][o][c]<"u")return!0;return!1},cleanStyle:function(c){if(!this.styles||!c||c==="")return!1;var i=this.styles,h=0,f,o,l=!0,a=0,u;for(var g in i){f=0;for(var d in i[g]){var u=i[g][d],v=u.hasOwnProperty(c);h++,v?(o?u[c]!==o&&(l=!1):o=u[c],u[c]===this[c]&&delete u[c]):l=!1,Object.keys(u).length!==0?f++:delete i[g][d]}f===0&&delete i[g]}for(var _=0;_<this._textLines.length;_++)a+=this._textLines[_].length;l&&h===a&&(this[c]=o,this.removeStyle(c))},removeStyle:function(c){if(!(!this.styles||!c||c==="")){var i=this.styles,h,f,o;for(f in i){h=i[f];for(o in h)delete h[o][c],Object.keys(h[o]).length===0&&delete h[o];Object.keys(h).length===0&&delete i[f]}}},_extendStyles:function(c,i){var h=this.get2DCursorLocation(c);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),i)},get2DCursorLocation:function(c,i){typeof c>"u"&&(c=this.selectionStart);for(var h=i?this._unwrappedTextLines:this._textLines,f=h.length,o=0;o<f;o++){if(c<=h[o].length)return{lineIndex:o,charIndex:c};c-=h[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:h[o-1].length<c?h[o-1].length:c}},getSelectionStyles:function(c,i,h){typeof c>"u"&&(c=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||c);for(var f=[],o=c;o<i;o++)f.push(this.getStyleAtPosition(o,h));return f},getStyleAtPosition:function(c,i){var h=this.get2DCursorLocation(c),f=i?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return f||{}},setSelectionStyles:function(c,i,h){typeof i>"u"&&(i=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||i);for(var f=i;f<h;f++)this._extendStyles(f,c);return this._forceClearCache=!0,this},_getStyleDeclaration:function(c,i){var h=this.styles&&this.styles[c];return h?h[i]:null},getCompleteStyleDeclaration:function(c,i){for(var h=this._getStyleDeclaration(c,i)||{},f={},o,l=0;l<this._styleProperties.length;l++)o=this._styleProperties[l],f[o]=typeof h[o]>"u"?this[o]:h[o];return f},_setStyleDeclaration:function(c,i,h){this.styles[c][i]=h},_deleteStyleDeclaration:function(c,i){delete this.styles[c][i]},_getLineStyle:function(c){return!!this.styles[c]},_setLineStyle:function(c){this.styles[c]={}},_deleteLineStyle:function(c){delete this.styles[c]}})}(),function(){function c(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,h){this.callSuper("initialize",i,h),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,h){this[i]!==h&&(this._fireSelectionChanged(),this[i]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,f=this.canvas.viewportTransform;h.save(),h.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(h),this._clearTextArea(h),i||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,h):this.renderSelection(i,h),h.restore()}},_clearTextArea:function(i){var h=this.width+4,f=this.height+4;i.clearRect(-h/2,-f/2,h,f)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var h=this._getLeftOffset(),f=this._getTopOffset(),o=this._getCursorBoundariesOffsets(i);return{left:h,top:f,leftOffset:o.left,topOffset:o.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,f,o,l=0,a=0,u,g=this.get2DCursorLocation(i);o=g.charIndex,f=g.lineIndex;for(var d=0;d<f;d++)l+=this.getHeightOfLine(d);h=this._getLineLeftOffset(f);var v=this.__charBounds[f][o];return v&&(a=v.left),this.charSpacing!==0&&o===this._textLines[f].length&&(a-=this._getWidthOfCharSpacing()),u={top:l,left:h+(a>0?a:0)},this.direction==="rtl"&&(u.left*=-1),this.cursorOffsetCache=u,this.cursorOffsetCache},renderCursor:function(i,h){var f=this.get2DCursorLocation(),o=f.lineIndex,l=f.charIndex>0?f.charIndex-1:0,a=this.getValueOfPropertyAt(o,l,"fontSize"),u=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/u,d=i.topOffset,v=this.getValueOfPropertyAt(o,l,"deltaY");d+=(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,l,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(i.left+i.leftOffset-g/2,d+i.top+v,g,a)},renderSelection:function(i,h){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,o=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,l=this.textAlign.indexOf("justify")!==-1,a=this.get2DCursorLocation(f),u=this.get2DCursorLocation(o),g=a.lineIndex,d=u.lineIndex,v=a.charIndex<0?0:a.charIndex,_=u.charIndex<0?0:u.charIndex,y=g;y<=d;y++){var b=this._getLineLeftOffset(y)||0,w=this.getHeightOfLine(y),C=0,S=0,O=0;if(y===g&&(S=this.__charBounds[g][v].left),y>=g&&y<d)O=l&&!this.isEndOfWrapping(y)?this.width:this.getLineWidth(y)||5;else if(y===d)if(_===0)O=this.__charBounds[d][_].left;else{var j=this._getWidthOfCharSpacing();O=this.__charBounds[d][_-1].left+this.__charBounds[d][_-1].width-j}C=w,(this.lineHeight<1||y===d&&this.lineHeight>1)&&(w/=this.lineHeight);var Y=i.left+b+S,G=O-S,U=w,ee=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",U=1,ee=w):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(Y=this.width-Y-G),h.fillRect(Y,i.top+i.topOffset+ee,G,U),i.topOffset+=C}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),h=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:h}}}),t.IText.fromObject=function(i,h){var f=t.util.stylesFromArray(i.styles,i.text),o=Object.assign({},i,{styles:f});if(c(o),o.styles)for(var l in o.styles)for(var a in o.styles[l])c(o.styles[l][a]);t.Object._fromObject("IText",o,h,"text")}}(),function(){var c=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var h=i.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,i._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var h=i.canvas;h&&(h._iTextInstances=h._iTextInstances||[],t.util.removeFromArray(h._iTextInstances,i),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,i._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,h,f,o){var l;return l={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",h,{duration:f,onComplete:function(){l.isAborted||i[o]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return l.isAborted}}),l},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var h=this,f=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},f)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var h=0,f=i-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)h++,f--;for(;/\S/.test(this._text[f])&&f>-1;)h++,f--;return i-h},findWordBoundaryRight:function(i){var h=0,f=i;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)h++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)h++,f++;return i+h},findLineBoundaryLeft:function(i){for(var h=0,f=i-1;!/\n/.test(this._text[f])&&f>-1;)h++,f--;return i-h},findLineBoundaryRight:function(i){for(var h=0,f=i;!/\n/.test(this._text[f])&&f<this._text.length;)h++,f++;return i+h},searchWordBoundary:function(i,h){for(var f=this._text,o=this._reSpace.test(f[i])?i-1:i,l=f[o],a=t.reNonWord;!a.test(l)&&o>0&&o<f.length;)o+=h,l=f[o];return a.test(l)&&(o+=h===1?0:1),o},selectWord:function(i){i=i||this.selectionStart;var h=this.searchWordBoundary(i,-1),f=this.searchWordBoundary(i,1);this.selectionStart=h,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var h=this.findLineBoundaryLeft(i),f=this.findLineBoundaryRight(i);return this.selectionStart=h,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var h=this.getSelectionStartFromPointer(i.e),f=this.selectionStart,o=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||f===o)&&(f===h||o===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==o)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,h,f){var o=f.slice(0,i),l=t.util.string.graphemeSplit(o).length;if(i===h)return{selectionStart:l,selectionEnd:l};var a=f.slice(i,h),u=t.util.string.graphemeSplit(a).length;return{selectionStart:l,selectionEnd:l+u}},fromGraphemeToStringSelection:function(i,h,f){var o=f.slice(0,i),l=o.join("").length;if(i===h)return{selectionStart:l,selectionEnd:l};var a=f.slice(i,h),u=a.join("").length;return{selectionStart:l,selectionEnd:l+u}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(i),f=this.get2DCursorLocation(i),o=f.lineIndex,l=f.charIndex,a=this.getValueOfPropertyAt(o,l,"fontSize")*this.lineHeight,u=h.leftOffset,g=this.calcTransformMatrix(),d={x:h.left+u,y:h.top+h.topOffset+a},v=this.canvas.getRetinaScaling(),_=this.canvas.upperCanvasEl,y=_.width/v,b=_.height/v,w=y-a,C=b-a,S=_.clientWidth/y,O=_.clientHeight/b;return d=t.util.transformPoint(d,g),d=t.util.transformPoint(d,this.canvas.viewportTransform),d.x*=S,d.y*=O,d.x<0&&(d.x=0),d.x>w&&(d.x=w),d.y<0&&(d.y=0),d.y>C&&(d.y=C),d.x+=this.canvas._offset.left,d.y+=this.canvas._offset.top,{left:d.x+"px",top:d.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,h){var f=this.get2DCursorLocation(i,!0),o=this.get2DCursorLocation(h,!0),l=f.lineIndex,a=f.charIndex,u=o.lineIndex,g=o.charIndex,d,v;if(l!==u){if(this.styles[l])for(d=a;d<this._unwrappedTextLines[l].length;d++)delete this.styles[l][d];if(this.styles[u])for(d=g;d<this._unwrappedTextLines[u].length;d++)v=this.styles[u][d],v&&(this.styles[l]||(this.styles[l]={}),this.styles[l][a+d-g]=v);for(d=l+1;d<=u;d++)delete this.styles[d];this.shiftLineStyles(u,l-u)}else if(this.styles[l]){v=this.styles[l];var _=g-a,y,b;for(d=a;d<g;d++)delete v[d];for(b in this.styles[l])y=parseInt(b,10),y>=g&&(v[y-_]=v[b],delete v[b])}},shiftLineStyles:function(i,h){var f=c(this.styles);for(var o in this.styles){var l=parseInt(o,10);l>i&&(this.styles[l+h]=f[l],f[l-h]||delete this.styles[l])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,h,f,o){var l,a={},u=!1,g=this._unwrappedTextLines[i].length===h;f||(f=1),this.shiftLineStyles(i,f),this.styles[i]&&(l=this.styles[i][h===0?h:h-1]);for(var d in this.styles[i]){var v=parseInt(d,10);v>=h&&(u=!0,a[v-h]=this.styles[i][d],g&&h===0||delete this.styles[i][d])}var _=!1;for(u&&!g&&(this.styles[i+f]=a,_=!0),_&&f--;f>0;)o&&o[f-1]?this.styles[i+f]={0:c(o[f-1])}:l?this.styles[i+f]={0:c(l)}:delete this.styles[i+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(i,h,f,o){this.styles||(this.styles={});var l=this.styles[i],a=l?c(l):{};f||(f=1);for(var u in a){var g=parseInt(u,10);g>=h&&(l[g+f]=a[g],a[g-f]||delete l[g])}if(this._forceClearCache=!0,o){for(;f--;)Object.keys(o[f]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][h+f]=c(o[f]));return}if(l)for(var d=l[h?h-1:1];d&&f--;)this.styles[i][h+f]=c(d)},insertNewStyleBlock:function(i,h,f){for(var o=this.get2DCursorLocation(h,!0),l=[0],a=0,u=0;u<i.length;u++)i[u]===`
`?(a++,l[a]=0):l[a]++;l[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,l[0],f),f=f&&f.slice(l[0]+1)),a&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+l[0],a);for(var u=1;u<a;u++)l[u]>0?this.insertCharStyleObject(o.lineIndex+u,0,l[u],f):f&&this.styles[o.lineIndex+u]&&f[0]&&(this.styles[o.lineIndex+u][0]=f[0]),f=f&&f.slice(l[u]+1);l[u]>0&&this.insertCharStyleObject(o.lineIndex+u,0,l[u],f)},setSelectionStartEndWithShift:function(i,h,f){f<=i?(h===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=f):f>i&&f<h?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(h===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=f)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(c){if(this.canvas){this.__newClickTime=+new Date;var i=c.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",c),this._stopEvent(c.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(c){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===c.x&&this.__lastPointer.y===c.y},_stopEvent:function(c){c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(c){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(c.e))},tripleClickHandler:function(c){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(c.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(c.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(c){if(this.__isMousedown=!1,!(!this.editable||this.group||c.transform&&c.transform.actionPerformed||c.e.button&&c.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(c.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(c){var i=this.getSelectionStartFromPointer(c),h=this.selectionStart,f=this.selectionEnd;c.shiftKey?this.setSelectionStartEndWithShift(h,f,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(c){for(var i=this.getLocalPointer(c),h=0,f=0,o=0,l=0,a=0,u,g,d=0,v=this._textLines.length;d<v&&o<=i.y;d++)o+=this.getHeightOfLine(d)*this.scaleY,a=d,d>0&&(l+=this._textLines[d-1].length+this.missingNewlineOffset(d-1));u=this._getLineLeftOffset(a),f=u*this.scaleX,g=this._textLines[a],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+f);for(var _=0,y=g.length;_<y&&(h=f,f+=this.__charBounds[a][_].kernedWidth*this.scaleX,f<=i.x);_++)l++;return this._getNewSelectionStartFromOffset(i,h,f,l,y)},_getNewSelectionStartFromOffset:function(c,i,h,f,o){var l=c.x-i,a=h-c.x,u=a>l||a<0?0:1,g=f+u;return this.flipX&&(g=o-g),g>this._text.length&&(g=this._text.length),g}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var c=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+c.top+"; left: "+c.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+c.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(c){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(c.keyCode in i)this[i[c.keyCode]](c);else if(c.keyCode in this.ctrlKeysMapDown&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapDown[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),c.keyCode>=33&&c.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(c){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(c.keyCode in this.ctrlKeysMapUp&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapUp[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(c){var i=this.fromPaste;if(this.fromPaste=!1,c&&c.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,o=h.length,l,a,u=o-f,g=this.selectionStart,d=this.selectionEnd,v=g!==d,_,y,b;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),C=g>w.selectionStart;v?(l=this._text.slice(g,d),u+=d-g):o<f&&(C?l=this._text.slice(d+u,d):l=this._text.slice(g,g-u)),a=h.slice(w.selectionEnd-u,w.selectionEnd),l&&l.length&&(a.length&&(_=this.getSelectionStyles(g,g+1,!1),_=a.map(function(){return _[0]})),v?(y=g,b=d):C?(y=d-l.length,b=d):(y=d,b=d+l.length),this.removeStyleFromTo(y,b)),a.length&&(i&&a.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(_=t.copiedTextStyle),this.insertNewStyleBlock(a,g,_)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(c){this.compositionStart=c.target.selectionStart,this.compositionEnd=c.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(c){return c&&c.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(c,i){var h=this._getLineLeftOffset(c),f;return i>0&&(f=this.__charBounds[c][i-1],h+=f.left+f.width),h},getDownCursorOffset:function(c,i){var h=this._getSelectionForOffset(c,i),f=this.get2DCursorLocation(h),o=f.lineIndex;if(o===this._textLines.length-1||c.metaKey||c.keyCode===34)return this._text.length-h;var l=f.charIndex,a=this._getWidthBeforeCursor(o,l),u=this._getIndexOnLine(o+1,a),g=this._textLines[o].slice(l);return g.length+u+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(c,i){return c.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(c,i){var h=this._getSelectionForOffset(c,i),f=this.get2DCursorLocation(h),o=f.lineIndex;if(o===0||c.metaKey||c.keyCode===33)return-h;var l=f.charIndex,a=this._getWidthBeforeCursor(o,l),u=this._getIndexOnLine(o-1,a),g=this._textLines[o].slice(0,l),d=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+u-g.length+(1-d)},_getIndexOnLine:function(c,i){for(var h=this._textLines[c],f=this._getLineLeftOffset(c),o=f,l=0,a,u,g=0,d=h.length;g<d;g++)if(a=this.__charBounds[c][g].width,o+=a,o>i){u=!0;var v=o-a,_=o,y=Math.abs(v-i),b=Math.abs(_-i);l=b<y?g:g-1;break}return u||(l=h.length-1),l},moveCursorDown:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",c)},moveCursorUp:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",c)},_moveCursorUpOrDown:function(c,i){var h="get"+c+"CursorOffset",f=this[h](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(c){var i=this._selectionDirection==="left"?this.selectionStart+c:this.selectionEnd+c;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),c!==0},moveCursorWithoutShift:function(c){return c<0?(this.selectionStart+=c,this.selectionEnd=this.selectionStart):(this.selectionEnd+=c,this.selectionStart=this.selectionEnd),c!==0},moveCursorLeft:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",c)},_move:function(c,i,h){var f;if(c.altKey)f=this["findWordBoundary"+h](this[i]);else if(c.metaKey||c.keyCode===35||c.keyCode===36)f=this["findLineBoundary"+h](this[i]);else return this[i]+=h==="Left"?-1:1,!0;if(typeof f<"u"&&this[i]!==f)return this[i]=f,!0},_moveLeft:function(c,i){return this._move(c,i,"Left")},_moveRight:function(c,i){return this._move(c,i,"Right")},moveCursorLeftWithoutShift:function(c){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(c,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(c){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(c,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(c,"selectionStart")},moveCursorRight:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",c)},_moveCursorLeftOrRight:function(c,i){var h="moveCursor"+c+"With";this._currentCursorOpacity=1,i.shiftKey?h+="Shift":h+="outShift",this[h](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(c){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(c,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(c,"selectionEnd")},moveCursorRightWithoutShift:function(c){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(c,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(c,i){typeof i>"u"&&(i=c+1),this.removeStyleFromTo(c,i),this._text.splice(c,i-c),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(c,i,h,f){typeof f>"u"&&(f=h),f>h&&this.removeStyleFromTo(h,f);var o=t.util.string.graphemeSplit(c);this.insertNewStyleBlock(o,h,i),this._text=[].concat(this._text.slice(0,h),o,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var c=t.util.toFixed,i=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),f=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(f)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var f=!0,o=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(f),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,f){var o=[],l=[],a=h,u;this._setSVGBg(l);for(var g=0,d=this._textLines.length;g<d;g++)u=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(l,g,f+u,a),this._setSVGTextLineText(o,g,f+u,a),a+=this.getHeightOfLine(g);return{textSpans:o,textBgRects:l}},_createTextCharSpan:function(h,f,o,l){var a=h!==h.trim()||h.match(i),u=this.getSvgSpanStyles(f,a),g=u?'style="'+u+'"':"",d=f.deltaY,v="",_=t.Object.NUM_FRACTION_DIGITS;return d&&(v=' dy="'+c(d,_)+'" '),['<tspan x="',c(o,_),'" y="',c(l,_),'" ',v,g,">",t.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,f,o,l){var a=this.getHeightOfLine(f),u=this.textAlign.indexOf("justify")!==-1,g,d,v="",_,y,b=0,w=this._textLines[f],C;l+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var S=0,O=w.length-1;S<=O;S++)C=S===O||this.charSpacing,v+=w[S],_=this.__charBounds[f][S],b===0?(o+=_.kernedWidth-_.width,b+=_.width):b+=_.kernedWidth,u&&!C&&this._reSpaceAndTab.test(w[S])&&(C=!0),C||(g=g||this.getCompleteStyleDeclaration(f,S),d=this.getCompleteStyleDeclaration(f,S+1),C=t.util.hasStyleChanged(g,d,!0)),C&&(y=this._getStyleDeclaration(f,S)||{},h.push(this._createTextCharSpan(v,y,o,l)),v="",g=d,o+=b,b=0)},_pushTextBgRect:function(h,f,o,l,a,u){var g=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(f),' x="',c(o,g),'" y="',c(l,g),'" width="',c(a,g),'" height="',c(u,g),`"></rect>
`)},_setSVGTextLineBg:function(h,f,o,l){for(var a=this._textLines[f],u=this.getHeightOfLine(f)/this.lineHeight,g=0,d=0,v,_,y=this.getValueOfPropertyAt(f,0,"textBackgroundColor"),b=0,w=a.length;b<w;b++)v=this.__charBounds[f][b],_=this.getValueOfPropertyAt(f,b,"textBackgroundColor"),_!==y?(y&&this._pushTextBgRect(h,y,o+d,l,g,u),d=v.left,g=v.width,y=_):g+=v.kernedWidth;_&&this._pushTextBgRect(h,_,o+d,l,g,u)},_getFillAttributes:function(h){var f=h&&typeof h=="string"?new t.Color(h):"";return!f||!f.getSource()||f.getAlpha()===1?'fill="'+h+'"':'opacity="'+f.getAlpha()+'" fill="'+f.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var f=0,o=0,l=0;l<h;l++)f+=this.getHeightOfLine(l);return o=this.getHeightOfLine(l),{lineTop:f,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var f=t.Object.prototype.getSvgStyles.call(this,h);return f+" white-space: pre;"}})}(),function(c){var i=c.fabric||(c.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var f=0,o=0,l=0,a={},u=0;u<h.graphemeLines.length;u++)h.graphemeText[l]===`
`&&u>0?(o=0,l++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[l])&&u>0&&(o++,l++),a[u]={line:f,offset:o},l+=h.graphemeLines[u].length,o+=h.graphemeLines[u].length;return a},styleHas:function(h,f){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[f];o&&(f=o.line)}return i.Text.prototype.styleHas.call(this,h,f)},isEmptyStyles:function(h){if(!this.styles)return!0;var f=0,o=h+1,l,a,u=!1,g=this._styleMap[h],d=this._styleMap[h+1];g&&(h=g.line,f=g.offset),d&&(o=d.line,u=o===h,l=d.offset),a=typeof h>"u"?this.styles:{line:this.styles[h]};for(var v in a)for(var _ in a[v])if(_>=f&&(!u||_<l))for(var y in a[v][_])return!1;return!0},_getStyleDeclaration:function(h,f){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[h];if(!o)return null;h=o.line,f=o.offset+f}return this.callSuper("_getStyleDeclaration",h,f)},_setStyleDeclaration:function(h,f,o){var l=this._styleMap[h];h=l.line,f=l.offset+f,this.styles[h][f]=o},_deleteStyleDeclaration:function(h,f){var o=this._styleMap[h];h=o.line,f=o.offset+f,delete this.styles[h][f]},_getLineStyle:function(h){var f=this._styleMap[h];return!!this.styles[f.line]},_setLineStyle:function(h){var f=this._styleMap[h];this.styles[f.line]={}},_wrapText:function(h,f){var o=[],l;for(this.isWrapping=!0,l=0;l<h.length;l++)o=o.concat(this._wrapLine(h[l],l,f));return this.isWrapping=!1,o},_measureWord:function(h,f,o){var l=0,a,u=!0;o=o||0;for(var g=0,d=h.length;g<d;g++){var v=this._getGraphemeBox(h[g],f,g+o,a,u);l+=v.kernedWidth,a=h[g]}return l},_wrapLine:function(h,f,o,Y){var a=0,u=this.splitByGrapheme,g=[],d=[],v=u?i.util.string.graphemeSplit(h):h.split(this._wordJoiners),_="",y=0,b=u?"":" ",w=0,C=0,S=0,O=!0,j=this._getWidthOfCharSpacing(),Y=Y||0;v.length===0&&v.push([]),o-=Y;for(var G=0;G<v.length;G++)_=u?v[G]:i.util.string.graphemeSplit(v[G]),w=this._measureWord(_,f,y),y+=_.length,a+=C+w-j,a>o&&!O?(g.push(d),d=[],a=w,O=!0):a+=j,!O&&!u&&d.push(b),d=d.concat(_),C=u?0:this._measureWord([b],f,y),y++,O=!1,w>S&&(S=w);return G&&g.push(d),S+Y>this.dynamicMinWidth&&(this.dynamicMinWidth=S-j+Y),g},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var f=i.Text.prototype._splitTextIntoLines.call(this,h),o=this._wrapText(f.lines,this.width),l=new Array(o.length),a=0;a<o.length;a++)l[a]=o[a].join("");return f.lines=l,f.graphemeLines=o,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var f in this._styleMap)this._textLines[f]&&(h[this._styleMap[f].line]=1);for(var f in this.styles)h[f]||delete this.styles[f]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),i.Textbox.fromObject=function(h,f){var o=i.util.stylesFromArray(h.styles,h.text),l=Object.assign({},h,{styles:o});return i.Object._fromObject("Textbox",l,f,"text")}}(e),function(){var c=t.controlsUtils,i=c.scaleSkewCursorStyleHandler,h=c.scaleCursorStyleHandler,f=c.scalingEqually,o=c.scalingYOrSkewingX,l=c.scalingXOrSkewingY,a=c.scaleOrSkewActionName,u=t.Object.prototype.controls;if(u.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),u.mr=new t.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),u.mb=new t.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),u.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),u.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:f}),u.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:f}),u.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:f}),u.br=new t.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:f}),u.mtr=new t.Control({x:0,y:-.5,actionHandler:c.rotationWithSnapping,cursorStyleHandler:c.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var g=t.Textbox.prototype.controls={};g.mtr=u.mtr,g.tr=u.tr,g.br=u.br,g.tl=u.tl,g.bl=u.bl,g.mt=u.mt,g.mb=u.mb,g.mr=new t.Control({x:.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),g.ml=new t.Control({x:-.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(we);class _A{constructor(t){$e(this,"canvas");$e(this,"workspaceEl");$e(this,"workspace");$e(this,"option");$e(this,"handler");this.handler=t,this.canvas=t.canvas;const n=t.container;if(!n)throw new Error("element #workspace is missing, plz check!");this.workspaceEl=n,this.workspace=null,this.option=t.workareaOption,this.initialize()}initialize(){this._initBackground(),this._initWorkspace(),this._initResizeObserve()}_initBackground(){this.canvas.backgroundImage="",this.canvas.setWidth(this.workspaceEl.offsetWidth).setHeight(this.workspaceEl.offsetHeight)}_initWorkspace(){const t=new we.fabric.Rect(this.option);this.canvas.add(t),this.canvas.renderAll(),this.workspace=t,this.auto()}setCenterFromObject(t){const{canvas:n}=this,r=t.getCenterPoint(),s=n.viewportTransform;if(n.width===void 0||n.height===void 0||!s)return;const p=20;s[4]=n.width/2-r.x*s[0]+p,s[5]=n.height/2-r.y*s[3],n.setViewportTransform(s),n.renderAll()}_initResizeObserve(){new ResizeObserver(()=>{this.auto()}).observe(this.workspaceEl)}setSize(t,n){this._initBackground(),this.option.width=t,this.option.height=n,this.workspace=this.canvas.getObjects().find(r=>r.id==="workspace"),this.workspace.set("width",t),this.workspace.set("height",n),this.auto()}setZoomAuto(t,n){const{workspaceEl:r}=this,s=r.offsetWidth,p=r.offsetHeight;this.canvas.setWidth(s),this.canvas.setHeight(p);const m=this.canvas.getCenter();this.canvas.setViewportTransform(we.fabric.iMatrix.concat()),this.canvas.zoomToPoint(new we.fabric.Point(m.left,m.top),t),this.workspace&&(this.setCenterFromObject(this.workspace),this.workspace.clone(c=>{this.canvas.clipPath=c,this.canvas.requestRenderAll()}),n&&n(this.workspace.left,this.workspace.top))}_getScale(){const t=this.workspaceEl.offsetWidth,n=this.workspaceEl.offsetHeight;return t/n<this.option.width/this.option.height?t/this.option.width:n/this.option.height}big(){let t=this.canvas.getZoom();t+=.05;const n=this.canvas.getCenter();this.canvas.zoomToPoint(new we.fabric.Point(n.left,n.top),t)}small(){let t=this.canvas.getZoom();t-=.05;const n=this.canvas.getCenter();this.canvas.zoomToPoint(new we.fabric.Point(n.left,n.top),t<0?.01:t)}auto(){const t=this._getScale();this.setZoomAuto(t-.08)}one(){this.setZoomAuto(.8-.08),this.canvas.requestRenderAll()}}class yA{constructor(t){$e(this,"handler");this.handler=t}async Image(t){const n=this.handler.utils.getFileType(t.src)||this.handler.utils.getBase64ImageType(t.src);if(n=="svg")return t.type="svg",this.addSvg(t);if(n&&["jpg","png","jpeg"].includes(n))return this.addImage(t)}addSvg(t){return new Promise(n=>{const{src:r,path:s,...p}=t,{width:m}=this.handler.workareaHandler.option;if(r)r&&we.fabric.loadSVGFromURL(r,(c,i)=>{const h=we.fabric.util.groupSVGElements(c,i);if(h.width>m){const f=m/h.width;h.set({scaleX:f,scaleY:f})}h.set({crossOrigin:"Anonymous",src:r,...p}),n(h)});else{const c=new we.fabric.Path(s);n(c)}})}async addImage(t){const{src:n,...r}=t,{objectOption:s}=this.handler,p=new Image;p.crossOrigin="Anonymous";const m=new we.fabric.Image(p,{clipPath:null,...JSON.parse(JSON.stringify(s)),...r});return m.crossOrigin="Anonymous",await this.handler.setImage(m,n),m}}class bA{constructor(t){$e(this,"handler");$e(this,"find",t=>this.findById(t.id));$e(this,"findById",t=>{let n=null;return this.handler.canvas.getObjects().some(s=>s.id===t?(n=s,!0):!1)?n:null});this.handler=t}getFileType(t){if(t){if(t=t.split("?")[0],t){const n=t.lastIndexOf(".");return t.substring(n+1)}return""}}getBase64ImageType(t){if(!t)return;const n=/data:image\/([a-zA-Z]*);/,r=t.match(n);return r&&r[1]?r[1]:"png"}uuid(){return pc()}}class wA{constructor(t){$e(this,"handler");this.handler=t}}const CA="/vue-design-editor/assets/middlecontrol-a163c615.svg",SA="/vue-design-editor/assets/middlecontrolhoz-9b7cc4b3.svg",xA="/vue-design-editor/assets/edgecontrol-dbe38ac6.svg",TA="/vue-design-editor/assets/rotateicon-ec6729f2.svg";we.fabric.Object.NUM_FRACTION_DIGITS=4;function Hs(e,t,n,r,s,p,m){m!==void 0&&(e.save(),e.translate(t,n),e.rotate(we.fabric.util.degreesToRadians(m)),e.drawImage(r,-s/2,-p/2,s,p),e.restore())}function OA(){const e=document.createElement("img");e.src=CA;const t=document.createElement("img");t.src=SA;function n(s,p,m,c,i){Hs(s,p,m,e,20,25,i.angle)}function r(s,p,m,c,i){Hs(s,p,m,t,25,20,i.angle)}we.fabric.Object.prototype.controls.ml=new we.fabric.Control({x:-.5,y:0,offsetX:-1,cursorStyleHandler:we.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingXOrSkewingY,getActionName:we.fabric.controlsUtils.scaleOrSkewActionName,render:n}),we.fabric.Object.prototype.controls.mr=new we.fabric.Control({x:.5,y:0,offsetX:1,cursorStyleHandler:we.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingXOrSkewingY,getActionName:we.fabric.controlsUtils.scaleOrSkewActionName,render:n}),we.fabric.Object.prototype.controls.mb=new we.fabric.Control({x:0,y:.5,offsetY:1,cursorStyleHandler:we.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingYOrSkewingX,getActionName:we.fabric.controlsUtils.scaleOrSkewActionName,render:r}),we.fabric.Object.prototype.controls.mt=new we.fabric.Control({x:0,y:-.5,offsetY:-1,cursorStyleHandler:we.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingYOrSkewingX,getActionName:we.fabric.controlsUtils.scaleOrSkewActionName,render:r})}function EA(){const e=document.createElement("img");e.src=xA;function t(n,r,s,p,m){Hs(n,r,s,e,25,25,m.angle)}we.fabric.Object.prototype.controls.tl=new we.fabric.Control({x:-.5,y:-.5,cursorStyleHandler:we.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingEqually,render:t}),we.fabric.Object.prototype.controls.bl=new we.fabric.Control({x:-.5,y:.5,cursorStyleHandler:we.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingEqually,render:t}),we.fabric.Object.prototype.controls.tr=new we.fabric.Control({x:.5,y:-.5,cursorStyleHandler:we.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingEqually,render:t}),we.fabric.Object.prototype.controls.br=new we.fabric.Control({x:.5,y:.5,cursorStyleHandler:we.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:we.fabric.controlsUtils.scalingEqually,render:t})}function PA(){const e=document.createElement("img");e.src=TA;function t(n,r,s,p,m){Hs(n,r,s,e,40,40,m.angle)}we.fabric.Object.prototype.controls.mtr=new we.fabric.Control({x:0,y:.5,cursorStyleHandler:we.fabric.controlsUtils.rotationStyleHandler,actionHandler:we.fabric.controlsUtils.rotationWithSnapping,offsetY:30,actionName:"rotate",render:t})}class kA{constructor(){this.init()}init(){EA(),OA(),PA(),we.fabric.Object.prototype.set({transparentCorners:!1,borderColor:"#51B9F9",cornerColor:"#FFF",borderScaleFactor:2.5,cornerStyle:"circle",cornerStrokeColor:"#0E98FC",borderOpacityWhenMoving:1})}destroy(){console.log("pluginDestroy")}}const AA={debounce(e,t){let n=null;return function(){n!==null&&clearTimeout(n),n=setTimeout(e,t)}},deepClone(e){let t;if(typeof e=="object")if(Array.isArray(e)){t=[];for(let n=0;n<e.length;n++)Object.prototype.hasOwnProperty.call(e,n)&&t.push(this.deepClone(e[n]))}else if(e===null)t=null;else if(e.constructor===RegExp)t=e;else{t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=this.deepClone(e[n]))}else t=e;return t},isPromise(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}};class MA{constructor(t){$e(this,"workareaOption");$e(this,"workareaHandler");$e(this,"fabricObjects");$e(this,"utils");$e(this,"imageHandler");$e(this,"workarea");$e(this,"objectOption");$e(this,"control");$e(this,"canvas");$e(this,"onAdd");$e(this,"editable");$e(this,"container");$e(this,"initOption",t=>{this.setObjectOption(t.objectOption)});$e(this,"setObjectOption",t=>{this.objectOption=Object.assign({},this.objectOption,t)});$e(this,"select",(t,n=!1)=>{let r=t;n&&(r=this.utils.find(t)),r&&(this.canvas.discardActiveObject(),this.canvas.setActiveObject(r),this.canvas.requestRenderAll())});$e(this,"setImage",(t,n)=>new Promise(r=>{if(this.canvas.contextTop)if(n instanceof File){const s=new FileReader;s.onload=()=>{t.set("file",n),t.set("src",null),t.setSrc(s.result,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0})},s.readAsDataURL(n)}else t.set("file",null),t.set("src",n),t.setSrc(n,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0,crossOrigin:"Anonymous"})}));$e(this,"add",async t=>{const{editable:n}=this,r={editable:n,hasControls:n,hasBorders:n,selectable:n,lockMovementX:!n,lockMovementY:!n},s=Object.assign({},JSON.parse(JSON.stringify(this.objectOption)),t,r,{container:this.container});let p;t.type=="material"&&(t.type="Image");try{p=this.fabricObjects[t.type](s)}catch(m){console.error(m);return}if(AA.isPromise(p)){const m=await p;p=this.addContent(m)}else p&&(p=this.addContent(p));return p});this.workareaOption=t.workareaOption,this.canvas=t.canvas,this.container=t.container,this.editable=t.editable,this.onAdd=t.onAdd,this.workareaHandler=new _A(this),this.fabricObjects=new yA(this),this.utils=new bA(this),this.imageHandler=new wA(this),this.control=new kA,this.initialize(t)}initialize(t){this.initOption(t)}addContent(t){const{onAdd:n}=this;return t&&(t.id||(t.id=this.utils.uuid()),this.canvas.add(t),n&&n(t)),this.canvas.renderAll(),t}}const Ff=12,DA={props:{workareaOption:{type:Object,default:()=>({})},editable:{type:Boolean,default:!0},objectOption:{type:Object,default:()=>({})},onAdd:{type:Function}},setup(e){const t=fe(pc());let n;const r=fe(),s=fe();return nt(()=>{const{offsetWidth:p,offsetHeight:m}=r.value.parentElement.parentElement,c=Object.assign({height:m-Ff,width:p-Ff,fireRightClick:!0,stopContextMenu:!0,enableRetinaScaling:!0,controlsAboveOverlay:!0});n=new we.fabric.Canvas(`canvas_${t.value}`,c),n.renderAll(),s.value=new MA({id:t.value,canvas:n,container:r.value,...e}),n.selectionColor="rgba(196,235,255,0.3)",n.selectionBorderColor="#6ccfff",n.selectionLineWidth=1}),{id:t,parentCanvas:r,handler:s}}},RA=["id"],IA=["id"];function FA(e,t,n,r,s,p){return se(),pe("div",{style:{width:"100%",height:"100%"},ref:"parentCanvas",class:"parentCanvas",id:r.id},[te("canvas",{id:`canvas_${r.id}`},null,8,IA)],8,RA)}const LA=ht(DA,[["render",FA]]),BA={trigger:"color",width:260,height:641,lockScalingX:!0,lockScalingY:!0,scaleX:1,scaleY:1,fill:"#fff",hasBorders:!1,hasControls:!1,selectable:!1,lockMovementX:!0,lockMovementY:!0,hoverCursor:"default",name:"",id:"workarea",isElement:!1};var jA=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const NA={name:"AtomSpinner",props:{animationDuration:{type:Number,default:1e3},size:{type:Number,default:60},color:{type:String,default:"#fff"}},computed:{spinnerStyle(){return{height:`${this.size}px`,width:`${this.size}px`}},circleStyle(){return{color:this.color,fontSize:`${this.size*.24}px`}},lineStyle(){return{animationDuration:`${this.animationDuration}ms`,borderLeftWidth:`${this.size/25}px`,borderTopWidth:`${this.size/25}px`,borderLeftColor:this.color}}}},zA={class:"spinner-inner"};function $A(e,t,n,r,s,p){return se(),pe("div",{class:"atom-spinner",style:Ye(p.spinnerStyle)},[te("div",zA,[te("div",{class:"spinner-line",style:Ye(p.lineStyle)},null,4),te("div",{class:"spinner-line",style:Ye(p.lineStyle)},null,4),te("div",{class:"spinner-line",style:Ye(p.lineStyle)},null,4),te("div",{class:"spinner-circle",style:Ye(p.circleStyle)},"",4)])],4)}var HA=jA(NA,[["render",$A]]);const UA={__name:"editor",setup(e){const{dispatch:t,state:n,commit:r}=ao(),s=fe(),p=fe(),m=fe(),c=fe({filters:[]});Je("handler",p);const i=oe(()=>n.loadOk);Ae(i,async l=>{var a;l&&(await Wt(),m.value.$el.addEventListener("drop",h,!1),p.value=(a=s.value)==null?void 0:a.handler)}),nt(async()=>{t("getMaterial")});function h(l){if(l.dataTransfer.getData("item")){let a=JSON.parse(l.dataTransfer.getData("item"));const{layerX:u,layerY:g}=l,d=p.value.canvas.restorePointerVpt({x:u,y:g}),v={option:{name:a.templateName,type:a.type,data:a,src:a.url||a.src,left:d.x,top:d.y}};a.width&&a.height&&(v.option.width=a.width,v.option.height=a.height);let _=Object.assign({},v);f(_)}}function f(l){const a=pc(),u=Object.assign({},l.option,{id:a});p.value.add(u)}function o(l){r("setActivateItem",l),p.value.select(l)}return(l,a)=>(se(),ke(X_,null,{header:ve(()=>[de(fA)]),module:ve(()=>[lt(de(Q_,{onModule:l.selectedModule},null,8,["onModule"]),[[bt,i.value]])]),left:ve(()=>[de(FO)]),workspace:ve(()=>[i.value?(se(),ke(KP,{key:0,ref_key:"workspace",ref:m},{canvas:ve(()=>[de(LA,{workareaOption:B(BA),ref_key:"canvasRef",ref:s,objectOption:c.value,onAdd:o},null,8,["workareaOption","objectOption"])]),_:1},512)):(se(),ke(B(HA),{key:1,"animation-duration":1e3,size:60,color:"#2254f4",class:"spinner"}))]),propsPanel:ve(()=>[de(iA)]),_:1}))}},WA=ht(UA,[["__scopeId","data-v-7716eabb"]]),YA=[{path:"/",name:"home",component:WA}],XA=C_({history:j0(),routes:YA});function ig(e,t){return function(){return e.apply(t,arguments)}}const{toString:VA}=Object.prototype,{getPrototypeOf:gc}=Object,To=(e=>t=>{const n=VA.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vn=e=>(e=e.toLowerCase(),t=>To(t)===e),Oo=e=>t=>typeof t===e,{isArray:Jr}=Array,ji=Oo("undefined");function GA(e){return e!==null&&!ji(e)&&e.constructor!==null&&!ji(e.constructor)&&Ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sg=vn("ArrayBuffer");function KA(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sg(e.buffer),t}const qA=Oo("string"),Ut=Oo("function"),og=Oo("number"),Eo=e=>e!==null&&typeof e=="object",JA=e=>e===!0||e===!1,ys=e=>{if(To(e)!=="object")return!1;const t=gc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},QA=vn("Date"),ZA=vn("File"),eM=vn("Blob"),tM=vn("FileList"),nM=e=>Eo(e)&&Ut(e.pipe),rM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ut(e.append)&&((t=To(e))==="formdata"||t==="object"&&Ut(e.toString)&&e.toString()==="[object FormData]"))},iM=vn("URLSearchParams"),sM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yi(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Jr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const p=n?Object.getOwnPropertyNames(e):Object.keys(e),m=p.length;let c;for(r=0;r<m;r++)c=p[r],t.call(null,e[c],c,e)}}function ag(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const lg=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),cg=e=>!ji(e)&&e!==lg;function Ja(){const{caseless:e}=cg(this)&&this||{},t={},n=(r,s)=>{const p=e&&ag(t,s)||s;ys(t[p])&&ys(r)?t[p]=Ja(t[p],r):ys(r)?t[p]=Ja({},r):Jr(r)?t[p]=r.slice():t[p]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Yi(arguments[r],n);return t}const oM=(e,t,n,{allOwnKeys:r}={})=>(Yi(t,(s,p)=>{n&&Ut(s)?e[p]=ig(s,n):e[p]=s},{allOwnKeys:r}),e),aM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),lM=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},cM=(e,t,n,r)=>{let s,p,m;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),p=s.length;p-- >0;)m=s[p],(!r||r(m,e,t))&&!c[m]&&(t[m]=e[m],c[m]=!0);e=n!==!1&&gc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},uM=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},fM=e=>{if(!e)return null;if(Jr(e))return e;let t=e.length;if(!og(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},hM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gc(Uint8Array)),dM=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const p=s.value;t.call(e,p[0],p[1])}},pM=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},gM=vn("HTMLFormElement"),vM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Lf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),mM=vn("RegExp"),ug=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Yi(n,(s,p)=>{let m;(m=t(s,p,e))!==!1&&(r[p]=m||s)}),Object.defineProperties(e,r)},_M=e=>{ug(e,(t,n)=>{if(Ut(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ut(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},yM=(e,t)=>{const n={},r=s=>{s.forEach(p=>{n[p]=!0})};return Jr(e)?r(e):r(String(e).split(t)),n},bM=()=>{},wM=(e,t)=>(e=+e,Number.isFinite(e)?e:t),fa="abcdefghijklmnopqrstuvwxyz",Bf="0123456789",fg={DIGIT:Bf,ALPHA:fa,ALPHA_DIGIT:fa+fa.toUpperCase()+Bf},CM=(e=16,t=fg.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function SM(e){return!!(e&&Ut(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const xM=e=>{const t=new Array(10),n=(r,s)=>{if(Eo(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const p=Jr(r)?[]:{};return Yi(r,(m,c)=>{const i=n(m,s+1);!ji(i)&&(p[c]=i)}),t[s]=void 0,p}}return r};return n(e,0)},TM=vn("AsyncFunction"),OM=e=>e&&(Eo(e)||Ut(e))&&Ut(e.then)&&Ut(e.catch),ue={isArray:Jr,isArrayBuffer:sg,isBuffer:GA,isFormData:rM,isArrayBufferView:KA,isString:qA,isNumber:og,isBoolean:JA,isObject:Eo,isPlainObject:ys,isUndefined:ji,isDate:QA,isFile:ZA,isBlob:eM,isRegExp:mM,isFunction:Ut,isStream:nM,isURLSearchParams:iM,isTypedArray:hM,isFileList:tM,forEach:Yi,merge:Ja,extend:oM,trim:sM,stripBOM:aM,inherits:lM,toFlatObject:cM,kindOf:To,kindOfTest:vn,endsWith:uM,toArray:fM,forEachEntry:dM,matchAll:pM,isHTMLForm:gM,hasOwnProperty:Lf,hasOwnProp:Lf,reduceDescriptors:ug,freezeMethods:_M,toObjectSet:yM,toCamelCase:vM,noop:bM,toFiniteNumber:wM,findKey:ag,global:lg,isContextDefined:cg,ALPHABET:fg,generateString:CM,isSpecCompliantForm:SM,toJSONObject:xM,isAsyncFn:TM,isThenable:OM};function Re(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}ue.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const hg=Re.prototype,dg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dg[e]={value:e}});Object.defineProperties(Re,dg);Object.defineProperty(hg,"isAxiosError",{value:!0});Re.from=(e,t,n,r,s,p)=>{const m=Object.create(hg);return ue.toFlatObject(e,m,function(i){return i!==Error.prototype},c=>c!=="isAxiosError"),Re.call(m,e.message,t,n,r,s),m.cause=e,m.name=e.name,p&&Object.assign(m,p),m};const EM=null;function Qa(e){return ue.isPlainObject(e)||ue.isArray(e)}function pg(e){return ue.endsWith(e,"[]")?e.slice(0,-2):e}function jf(e,t,n){return e?e.concat(t).map(function(s,p){return s=pg(s),!n&&p?"["+s+"]":s}).join(n?".":""):t}function PM(e){return ue.isArray(e)&&!e.some(Qa)}const kM=ue.toFlatObject(ue,{},null,function(t){return/^is[A-Z]/.test(t)});function Po(e,t,n){if(!ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,d){return!ue.isUndefined(d[g])});const r=n.metaTokens,s=n.visitor||f,p=n.dots,m=n.indexes,i=(n.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(t);if(!ue.isFunction(s))throw new TypeError("visitor must be a function");function h(u){if(u===null)return"";if(ue.isDate(u))return u.toISOString();if(!i&&ue.isBlob(u))throw new Re("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(u)||ue.isTypedArray(u)?i&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function f(u,g,d){let v=u;if(u&&!d&&typeof u=="object"){if(ue.endsWith(g,"{}"))g=r?g:g.slice(0,-2),u=JSON.stringify(u);else if(ue.isArray(u)&&PM(u)||(ue.isFileList(u)||ue.endsWith(g,"[]"))&&(v=ue.toArray(u)))return g=pg(g),v.forEach(function(y,b){!(ue.isUndefined(y)||y===null)&&t.append(m===!0?jf([g],b,p):m===null?g:g+"[]",h(y))}),!1}return Qa(u)?!0:(t.append(jf(d,g,p),h(u)),!1)}const o=[],l=Object.assign(kM,{defaultVisitor:f,convertValue:h,isVisitable:Qa});function a(u,g){if(!ue.isUndefined(u)){if(o.indexOf(u)!==-1)throw Error("Circular reference detected in "+g.join("."));o.push(u),ue.forEach(u,function(v,_){(!(ue.isUndefined(v)||v===null)&&s.call(t,v,ue.isString(_)?_.trim():_,g,l))===!0&&a(v,g?g.concat(_):[_])}),o.pop()}}if(!ue.isObject(e))throw new TypeError("data must be an object");return a(e),t}function Nf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function vc(e,t){this._pairs=[],e&&Po(e,this,t)}const gg=vc.prototype;gg.append=function(t,n){this._pairs.push([t,n])};gg.toString=function(t){const n=t?function(r){return t.call(this,r,Nf)}:Nf;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function AM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vg(e,t,n){if(!t)return e;const r=n&&n.encode||AM,s=n&&n.serialize;let p;if(s?p=s(t,n):p=ue.isURLSearchParams(t)?t.toString():new vc(t,n).toString(r),p){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class MM{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ue.forEach(this.handlers,function(r){r!==null&&t(r)})}}const zf=MM,mg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DM=typeof URLSearchParams<"u"?URLSearchParams:vc,RM=typeof FormData<"u"?FormData:null,IM=typeof Blob<"u"?Blob:null,FM=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),LM=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),fn={isBrowser:!0,classes:{URLSearchParams:DM,FormData:RM,Blob:IM},isStandardBrowserEnv:FM,isStandardBrowserWebWorkerEnv:LM,protocols:["http","https","file","blob","url","data"]};function BM(e,t){return Po(e,new fn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,p){return fn.isNode&&ue.isBuffer(n)?(this.append(r,n.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)}},t))}function jM(e){return ue.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function NM(e){const t={},n=Object.keys(e);let r;const s=n.length;let p;for(r=0;r<s;r++)p=n[r],t[p]=e[p];return t}function _g(e){function t(n,r,s,p){let m=n[p++];const c=Number.isFinite(+m),i=p>=n.length;return m=!m&&ue.isArray(s)?s.length:m,i?(ue.hasOwnProp(s,m)?s[m]=[s[m],r]:s[m]=r,!c):((!s[m]||!ue.isObject(s[m]))&&(s[m]=[]),t(n,r,s[m],p)&&ue.isArray(s[m])&&(s[m]=NM(s[m])),!c)}if(ue.isFormData(e)&&ue.isFunction(e.entries)){const n={};return ue.forEachEntry(e,(r,s)=>{t(jM(r),s,n,0)}),n}return null}function zM(e,t,n){if(ue.isString(e))try{return(t||JSON.parse)(e),ue.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const mc={transitional:mg,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,p=ue.isObject(t);if(p&&ue.isHTMLForm(t)&&(t=new FormData(t)),ue.isFormData(t))return s&&s?JSON.stringify(_g(t)):t;if(ue.isArrayBuffer(t)||ue.isBuffer(t)||ue.isStream(t)||ue.isFile(t)||ue.isBlob(t))return t;if(ue.isArrayBufferView(t))return t.buffer;if(ue.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(p){if(r.indexOf("application/x-www-form-urlencoded")>-1)return BM(t,this.formSerializer).toString();if((c=ue.isFileList(t))||r.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return Po(c?{"files[]":t}:t,i&&new i,this.formSerializer)}}return p||s?(n.setContentType("application/json",!1),zM(t)):t}],transformResponse:[function(t){const n=this.transitional||mc.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(t&&ue.isString(t)&&(r&&!this.responseType||s)){const m=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(m)throw c.name==="SyntaxError"?Re.from(c,Re.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],e=>{mc.headers[e]={}});const _c=mc,$M=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HM=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(m){s=m.indexOf(":"),n=m.substring(0,s).trim().toLowerCase(),r=m.substring(s+1).trim(),!(!n||t[n]&&$M[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},$f=Symbol("internals");function ai(e){return e&&String(e).trim().toLowerCase()}function bs(e){return e===!1||e==null?e:ue.isArray(e)?e.map(bs):String(e)}function UM(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const WM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ha(e,t,n,r,s){if(ue.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!ue.isString(t)){if(ue.isString(r))return t.indexOf(r)!==-1;if(ue.isRegExp(r))return r.test(t)}}function YM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function XM(e,t){const n=ue.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,p,m){return this[r].call(this,t,s,p,m)},configurable:!0})})}class ko{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function p(c,i,h){const f=ai(i);if(!f)throw new Error("header name must be a non-empty string");const o=ue.findKey(s,f);(!o||s[o]===void 0||h===!0||h===void 0&&s[o]!==!1)&&(s[o||i]=bs(c))}const m=(c,i)=>ue.forEach(c,(h,f)=>p(h,f,i));return ue.isPlainObject(t)||t instanceof this.constructor?m(t,n):ue.isString(t)&&(t=t.trim())&&!WM(t)?m(HM(t),n):t!=null&&p(n,t,r),this}get(t,n){if(t=ai(t),t){const r=ue.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return UM(s);if(ue.isFunction(n))return n.call(this,s,r);if(ue.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ai(t),t){const r=ue.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ha(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function p(m){if(m=ai(m),m){const c=ue.findKey(r,m);c&&(!n||ha(r,r[c],c,n))&&(delete r[c],s=!0)}}return ue.isArray(t)?t.forEach(p):p(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const p=n[r];(!t||ha(this,this[p],p,t,!0))&&(delete this[p],s=!0)}return s}normalize(t){const n=this,r={};return ue.forEach(this,(s,p)=>{const m=ue.findKey(r,p);if(m){n[m]=bs(s),delete n[p];return}const c=t?YM(p):String(p).trim();c!==p&&delete n[p],n[c]=bs(s),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ue.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&ue.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[$f]=this[$f]={accessors:{}}).accessors,s=this.prototype;function p(m){const c=ai(m);r[c]||(XM(s,m),r[c]=!0)}return ue.isArray(t)?t.forEach(p):p(t),this}}ko.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(ko.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ue.freezeMethods(ko);const xn=ko;function da(e,t){const n=this||_c,r=t||n,s=xn.from(r.headers);let p=r.data;return ue.forEach(e,function(c){p=c.call(n,p,s.normalize(),t?t.status:void 0)}),s.normalize(),p}function yg(e){return!!(e&&e.__CANCEL__)}function Xi(e,t,n){Re.call(this,e??"canceled",Re.ERR_CANCELED,t,n),this.name="CanceledError"}ue.inherits(Xi,Re,{__CANCEL__:!0});function VM(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Re("Request failed with status code "+n.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const GM=fn.isStandardBrowserEnv?function(){return{write:function(n,r,s,p,m,c){const i=[];i.push(n+"="+encodeURIComponent(r)),ue.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),ue.isString(p)&&i.push("path="+p),ue.isString(m)&&i.push("domain="+m),c===!0&&i.push("secure"),document.cookie=i.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function KM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function qM(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function bg(e,t){return e&&!KM(t)?qM(e,t):t}const JM=fn.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(p){let m=p;return t&&(n.setAttribute("href",m),m=n.href),n.setAttribute("href",m),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(m){const c=ue.isString(m)?s(m):m;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}();function QM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ZM(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,p=0,m;return t=t!==void 0?t:1e3,function(i){const h=Date.now(),f=r[p];m||(m=h),n[s]=i,r[s]=h;let o=p,l=0;for(;o!==s;)l+=n[o++],o=o%e;if(s=(s+1)%e,s===p&&(p=(p+1)%e),h-m<t)return;const a=f&&h-f;return a?Math.round(l*1e3/a):void 0}}function Hf(e,t){let n=0;const r=ZM(50,250);return s=>{const p=s.loaded,m=s.lengthComputable?s.total:void 0,c=p-n,i=r(c),h=p<=m;n=p;const f={loaded:p,total:m,progress:m?p/m:void 0,bytes:c,rate:i||void 0,estimated:i&&m&&h?(m-p)/i:void 0,event:s};f[t?"download":"upload"]=!0,e(f)}}const eD=typeof XMLHttpRequest<"u",tD=eD&&function(e){return new Promise(function(n,r){let s=e.data;const p=xn.from(e.headers).normalize(),m=e.responseType;let c;function i(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let h;ue.isFormData(s)&&(fn.isStandardBrowserEnv||fn.isStandardBrowserWebWorkerEnv?p.setContentType(!1):p.getContentType(/^\s*multipart\/form-data/)?ue.isString(h=p.getContentType())&&p.setContentType(h.replace(/^\s*(multipart\/form-data);+/,"$1")):p.setContentType("multipart/form-data"));let f=new XMLHttpRequest;if(e.auth){const u=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.set("Authorization","Basic "+btoa(u+":"+g))}const o=bg(e.baseURL,e.url);f.open(e.method.toUpperCase(),vg(o,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function l(){if(!f)return;const u=xn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),d={data:!m||m==="text"||m==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:u,config:e,request:f};VM(function(_){n(_),i()},function(_){r(_),i()},d),f=null}if("onloadend"in f?f.onloadend=l:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(l)},f.onabort=function(){f&&(r(new Re("Request aborted",Re.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new Re("Network Error",Re.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let g=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const d=e.transitional||mg;e.timeoutErrorMessage&&(g=e.timeoutErrorMessage),r(new Re(g,d.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,e,f)),f=null},fn.isStandardBrowserEnv){const u=(e.withCredentials||JM(o))&&e.xsrfCookieName&&GM.read(e.xsrfCookieName);u&&p.set(e.xsrfHeaderName,u)}s===void 0&&p.setContentType(null),"setRequestHeader"in f&&ue.forEach(p.toJSON(),function(g,d){f.setRequestHeader(d,g)}),ue.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),m&&m!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",Hf(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Hf(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=u=>{f&&(r(!u||u.type?new Xi(null,e,f):u),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const a=QM(o);if(a&&fn.protocols.indexOf(a)===-1){r(new Re("Unsupported protocol "+a+":",Re.ERR_BAD_REQUEST,e));return}f.send(s||null)})},Za={http:EM,xhr:tD};ue.forEach(Za,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Uf=e=>`- ${e}`,nD=e=>ue.isFunction(e)||e===null||e===!1,wg={getAdapter:e=>{e=ue.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let p=0;p<t;p++){n=e[p];let m;if(r=n,!nD(n)&&(r=Za[(m=String(n)).toLowerCase()],r===void 0))throw new Re(`Unknown adapter '${m}'`);if(r)break;s[m||"#"+p]=r}if(!r){const p=Object.entries(s).map(([c,i])=>`adapter ${c} `+(i===!1?"is not supported by the environment":"is not available in the build"));let m=t?p.length>1?`since :
`+p.map(Uf).join(`
`):" "+Uf(p[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return r},adapters:Za};function pa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xi(null,e)}function Wf(e){return pa(e),e.headers=xn.from(e.headers),e.data=da.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),wg.getAdapter(e.adapter||_c.adapter)(e).then(function(r){return pa(e),r.data=da.call(e,e.transformResponse,r),r.headers=xn.from(r.headers),r},function(r){return yg(r)||(pa(e),r&&r.response&&(r.response.data=da.call(e,e.transformResponse,r.response),r.response.headers=xn.from(r.response.headers))),Promise.reject(r)})}const Yf=e=>e instanceof xn?e.toJSON():e;function Wr(e,t){t=t||{};const n={};function r(h,f,o){return ue.isPlainObject(h)&&ue.isPlainObject(f)?ue.merge.call({caseless:o},h,f):ue.isPlainObject(f)?ue.merge({},f):ue.isArray(f)?f.slice():f}function s(h,f,o){if(ue.isUndefined(f)){if(!ue.isUndefined(h))return r(void 0,h,o)}else return r(h,f,o)}function p(h,f){if(!ue.isUndefined(f))return r(void 0,f)}function m(h,f){if(ue.isUndefined(f)){if(!ue.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function c(h,f,o){if(o in t)return r(h,f);if(o in e)return r(void 0,h)}const i={url:p,method:p,data:p,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:c,headers:(h,f)=>s(Yf(h),Yf(f),!0)};return ue.forEach(Object.keys(Object.assign({},e,t)),function(f){const o=i[f]||s,l=o(e[f],t[f],f);ue.isUndefined(l)&&o!==c||(n[f]=l)}),n}const Cg="1.5.1",yc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{yc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Xf={};yc.transitional=function(t,n,r){function s(p,m){return"[Axios v"+Cg+"] Transitional option '"+p+"'"+m+(r?". "+r:"")}return(p,m,c)=>{if(t===!1)throw new Re(s(m," has been removed"+(n?" in "+n:"")),Re.ERR_DEPRECATED);return n&&!Xf[m]&&(Xf[m]=!0,console.warn(s(m," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(p,m,c):!0}};function rD(e,t,n){if(typeof e!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const p=r[s],m=t[p];if(m){const c=e[p],i=c===void 0||m(c,p,e);if(i!==!0)throw new Re("option "+p+" must be "+i,Re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Re("Unknown option "+p,Re.ERR_BAD_OPTION)}}const el={assertOptions:rD,validators:yc},Ln=el.validators;class Us{constructor(t){this.defaults=t,this.interceptors={request:new zf,response:new zf}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Wr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:p}=n;r!==void 0&&el.assertOptions(r,{silentJSONParsing:Ln.transitional(Ln.boolean),forcedJSONParsing:Ln.transitional(Ln.boolean),clarifyTimeoutError:Ln.transitional(Ln.boolean)},!1),s!=null&&(ue.isFunction(s)?n.paramsSerializer={serialize:s}:el.assertOptions(s,{encode:Ln.function,serialize:Ln.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let m=p&&ue.merge(p.common,p[n.method]);p&&ue.forEach(["delete","get","head","post","put","patch","common"],u=>{delete p[u]}),n.headers=xn.concat(m,p);const c=[];let i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(i=i&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});const h=[];this.interceptors.response.forEach(function(g){h.push(g.fulfilled,g.rejected)});let f,o=0,l;if(!i){const u=[Wf.bind(this),void 0];for(u.unshift.apply(u,c),u.push.apply(u,h),l=u.length,f=Promise.resolve(n);o<l;)f=f.then(u[o++],u[o++]);return f}l=c.length;let a=n;for(o=0;o<l;){const u=c[o++],g=c[o++];try{a=u(a)}catch(d){g.call(this,d);break}}try{f=Wf.call(this,a)}catch(u){return Promise.reject(u)}for(o=0,l=h.length;o<l;)f=f.then(h[o++],h[o++]);return f}getUri(t){t=Wr(this.defaults,t);const n=bg(t.baseURL,t.url);return vg(n,t.params,t.paramsSerializer)}}ue.forEach(["delete","get","head","options"],function(t){Us.prototype[t]=function(n,r){return this.request(Wr(r||{},{method:t,url:n,data:(r||{}).data}))}});ue.forEach(["post","put","patch"],function(t){function n(r){return function(p,m,c){return this.request(Wr(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:p,data:m}))}}Us.prototype[t]=n(),Us.prototype[t+"Form"]=n(!0)});const ws=Us;class bc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(p){n=p});const r=this;this.promise.then(s=>{if(!r._listeners)return;let p=r._listeners.length;for(;p-- >0;)r._listeners[p](s);r._listeners=null}),this.promise.then=s=>{let p;const m=new Promise(c=>{r.subscribe(c),p=c}).then(s);return m.cancel=function(){r.unsubscribe(p)},m},t(function(p,m,c){r.reason||(r.reason=new Xi(p,m,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new bc(function(s){t=s}),cancel:t}}}const iD=bc;function sD(e){return function(n){return e.apply(null,n)}}function oD(e){return ue.isObject(e)&&e.isAxiosError===!0}const tl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tl).forEach(([e,t])=>{tl[t]=e});const aD=tl;function Sg(e){const t=new ws(e),n=ig(ws.prototype.request,t);return ue.extend(n,ws.prototype,t,{allOwnKeys:!0}),ue.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Sg(Wr(e,s))},n}const Ze=Sg(_c);Ze.Axios=ws;Ze.CanceledError=Xi;Ze.CancelToken=iD;Ze.isCancel=yg;Ze.VERSION=Cg;Ze.toFormData=Po;Ze.AxiosError=Re;Ze.Cancel=Ze.CanceledError;Ze.all=function(t){return Promise.all(t)};Ze.spread=sD;Ze.isAxiosError=oD;Ze.mergeConfig=Wr;Ze.AxiosHeaders=xn;Ze.formToJSON=e=>_g(ue.isHTMLForm(e)?new FormData(e):e);Ze.getAdapter=wg.getAdapter;Ze.HttpStatusCode=aD;Ze.default=Ze;const xg=Ze,wc=xg.create({timeout:5e3});xg.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)});wc.interceptors.request.use(e=>e,e=>(console.log(e),Promise.reject(e)));wc.interceptors.response.use(e=>{if(e)return e.data;debugger;throw console.log(""),new Error("")},e=>(console.log("err"+e),uO({message:e.message,type:"error",duration:3*1e3,showClose:!0}),Promise.reject(e)));function Tg(e,t,n,r){wc(e).then(s=>{e.retry&&(s.retry=t-e.retry),n(s)}).catch(s=>{e.retry--,e.retry>=0?setTimeout(()=>{Tg(e,t,n,r)},10):(s.retry=t,r(s))})}function Vf(e){return new Promise((t,n)=>{(!e||!e.url)&&n({errorMsg:""}),e.type||(e.type="get"),e.timeout||(e.timeout=5e3),typeof e.retry!="number"&&(e.retry=3),Tg(e,e.retry,t,n)}).then(t=>t)}const lD=$_({state:{isClose:!0,activeModule:null,imageList:[],loadOk:!1,icons:[],selectedItem:null},getters:{},mutations:{setClose(e,t){e.isClose=t},setActiveModule(e,t){e.activeModule=t},Ok(e,t){e.loadOk=!0,e.imageList=t},COMMIT_ICONS(e,t){e.icons=t},setActivateItem(e,t){e.selectedItem=t}},actions:{getMaterial({commit:e}){const t=[];t.push(Vf({url:"https://haixin-fang.github.io/vue-design-editor-static/imglist.json"}).catch(n=>console.error(n))),t.push(Vf({url:"https://haixin-fang.github.io/icons/bootstrap-icons.json"}).catch(n=>console.error(n))),Promise.all(t).then(n=>{if(Array.isArray(n)&&(n[0]&&e("Ok",n[0]),n[1])){const r=Object.keys(n[1]),s=[];r.forEach(p=>{const m=`https://haixin-fang.github.io/icons/icons/${p}.svg`;s.push({url:m})}),e("COMMIT_ICONS",s)}})}},modules:{}});const cD={class:"gda-popover-content"},uD={key:0,class:"gda-popover-arrow"},fD={class:"gda-popover-inner"},hD={__name:"popover",props:{to:{type:String,default:"body"},arrow:{type:Boolean,default:!1},dom:{type:HTMLElement,default:null},show:{type:Boolean,default:!1}},setup(e){const t=e;let n=null,r=null;const s=fe();Ae(()=>t.show,i=>{i&&Wt(()=>{m()})}),ro(()=>{window.removeEventListener("resize",m)});const p=()=>{window.addEventListener("resize",m),r=new ResizeObserver(vs(()=>{m()},50)),r.observe(n)};function m(){var b;r||p();const{width:i,height:h,left:f,top:o,bottom:l,right:a}=(b=t.dom)==null?void 0:b.getBoundingClientRect(),{offsetWidth:u,offsetHeight:g}=n;let d=0,v=0,_=0,y=0;o>g+10?(d=o-g-10,y=g+10,u<a?(v=f+i-u,_=u):(v=f,_=0)):l>g+10&&(d=o+h+10,y=10,u<a?(v=f+i-u,_=u):(v=f,_=0)),s.value.style.left=v+"px",s.value.style.top=d+"px",s.value.style.transformOrigin=`${_}px ${y}px`}const c=i=>{n=i};return(i,h)=>(se(),ke(bl,{to:e.to},[de(gn,{name:"fade"},{default:ve(()=>[lt(te("div",{class:"gda-popover",ref_key:"popover",ref:s},[te("div",cD,[e.arrow?(se(),pe("div",uD)):Ie("",!0),te("div",fD,[Ee(i.$slots,"default",{setSlotRef:c},void 0,!0)])])],512),[[bt,e.show]])]),_:3})],8,["to"]))}},dD=ht(hD,[["__scopeId","data-v-1b43f340"]]),pD=a0(f0);pD.use(lD).use(XA).component("popover",dD).mount("#app");
