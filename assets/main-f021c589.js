var Lm=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var uB=Lm((zt,Ht)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const p of s)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(s){const p={};return s.integrity&&(p.integrity=s.integrity),s.referrerPolicy&&(p.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?p.credentials="include":s.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function r(s){if(s.ep)return;s.ep=!0;const p=n(s);fetch(s.href,p)}})();function zl(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const qe={},Yr=[],Ne=()=>{},Bm=()=>!1,$m=/^on[^a-z]/,Co=e=>$m.test(e),Hl=e=>e.startsWith("onUpdate:"),rt=Object.assign,Ul=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},jm=Object.prototype.hasOwnProperty,Ie=(e,t)=>jm.call(e,t),Oe=Array.isArray,Xr=e=>us(e)==="[object Map]",So=e=>us(e)==="[object Set]",Tu=e=>us(e)==="[object Date]",Pe=e=>typeof e=="function",Be=e=>typeof e=="string",Wi=e=>typeof e=="symbol",$e=e=>e!==null&&typeof e=="object",Od=e=>$e(e)&&Pe(e.then)&&Pe(e.catch),Ed=Object.prototype.toString,us=e=>Ed.call(e),Nm=e=>us(e).slice(8,-1),Zs=e=>us(e)==="[object Object]",Wl=e=>Be(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ns=zl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xo=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},zm=/-(\w)/g,cn=xo(e=>e.replace(zm,(t,n)=>n?n.toUpperCase():"")),Hm=/\B([A-Z])/g,Pr=xo(e=>e.replace(Hm,"-$1").toLowerCase()),To=xo(e=>e.charAt(0).toUpperCase()+e.slice(1)),ca=xo(e=>e?`on${To(e)}`:""),Yi=(e,t)=>!Object.is(e,t),zs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Qs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Um=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Wm=e=>{const t=Be(e)?Number(e):NaN;return isNaN(t)?e:t};let Ou;const Ga=()=>Ou||(Ou=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ue(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Be(r)?Gm(r):Ue(r);if(s)for(const p in s)t[p]=s[p]}return t}else{if(Be(e))return e;if($e(e))return e}}const Ym=/;(?![^(]*\))/g,Xm=/:([^]+)/,Vm=/\/\*[^]*?\*\//g;function Gm(e){const t={};return e.replace(Vm,"").split(Ym).forEach(n=>{if(n){const r=n.split(Xm);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function me(e){let t="";if(Be(e))t=e;else if(Oe(e))for(let n=0;n<e.length;n++){const r=me(e[n]);r&&(t+=r+" ")}else if($e(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Km(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Be(t)&&(e.class=me(t)),n&&(e.style=Ue(n)),e}const qm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jm=zl(qm);function Pd(e){return!!e||e===""}function Zm(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Oo(e[r],t[r]);return n}function Oo(e,t){if(e===t)return!0;let n=Tu(e),r=Tu(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Wi(e),r=Wi(t),n||r)return e===t;if(n=Oe(e),r=Oe(t),n||r)return n&&r?Zm(e,t):!1;if(n=$e(e),r=$e(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,p=Object.keys(t).length;if(s!==p)return!1;for(const m in e){const c=e.hasOwnProperty(m),i=t.hasOwnProperty(m);if(c&&!i||!c&&i||!Oo(e[m],t[m]))return!1}}return String(e)===String(t)}function kd(e,t){return e.findIndex(n=>Oo(n,t))}const Le=e=>Be(e)?e:e==null?"":Oe(e)||$e(e)&&(e.toString===Ed||!Pe(e.toString))?JSON.stringify(e,Ad,2):String(e),Ad=(e,t)=>t&&t.__v_isRef?Ad(e,t.value):Xr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:So(t)?{[`Set(${t.size})`]:[...t.values()]}:$e(t)&&!Oe(t)&&!Zs(t)?String(t):t;let Nt;class Rd{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Nt,!t&&Nt&&(this.index=(Nt.scopes||(Nt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Nt;try{return Nt=this,t()}finally{Nt=n}}}on(){Nt=this}off(){Nt=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Md(e){return new Rd(e)}function Qm(e,t=Nt){t&&t.active&&t.effects.push(e)}function Id(){return Nt}function e0(e){Nt&&Nt.cleanups.push(e)}const Yl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Dd=e=>(e.w&ar)>0,Fd=e=>(e.n&ar)>0,t0=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ar},n0=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];Dd(s)&&!Fd(s)?s.delete(e):t[n++]=s,s.w&=~ar,s.n&=~ar}t.length=n}},eo=new WeakMap;let Pi=0,ar=1;const Ka=30;let on;const Cr=Symbol(""),qa=Symbol("");class Xl{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Qm(this,r)}run(){if(!this.active)return this.fn();let t=on,n=sr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=on,on=this,sr=!0,ar=1<<++Pi,Pi<=Ka?t0(this):Eu(this),this.fn()}finally{Pi<=Ka&&n0(this),ar=1<<--Pi,on=this.parent,sr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){on===this?this.deferStop=!0:this.active&&(Eu(this),this.onStop&&this.onStop(),this.active=!1)}}function Eu(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let sr=!0;const Ld=[];function ui(){Ld.push(sr),sr=!1}function fi(){const e=Ld.pop();sr=e===void 0?!0:e}function Ft(e,t,n){if(sr&&on){let r=eo.get(e);r||eo.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Yl()),Bd(s)}}function Bd(e,t){let n=!1;Pi<=Ka?Fd(e)||(e.n|=ar,n=!Dd(e)):n=!e.has(on),n&&(e.add(on),on.deps.push(e))}function $n(e,t,n,r,s,p){const m=eo.get(e);if(!m)return;let c=[];if(t==="clear")c=[...m.values()];else if(n==="length"&&Oe(e)){const i=Number(r);m.forEach((h,f)=>{(f==="length"||f>=i)&&c.push(h)})}else switch(n!==void 0&&c.push(m.get(n)),t){case"add":Oe(e)?Wl(n)&&c.push(m.get("length")):(c.push(m.get(Cr)),Xr(e)&&c.push(m.get(qa)));break;case"delete":Oe(e)||(c.push(m.get(Cr)),Xr(e)&&c.push(m.get(qa)));break;case"set":Xr(e)&&c.push(m.get(Cr));break}if(c.length===1)c[0]&&Ja(c[0]);else{const i=[];for(const h of c)h&&i.push(...h);Ja(Yl(i))}}function Ja(e,t){const n=Oe(e)?e:[...e];for(const r of n)r.computed&&Pu(r);for(const r of n)r.computed||Pu(r)}function Pu(e,t){(e!==on||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function r0(e,t){var n;return(n=eo.get(e))==null?void 0:n.get(t)}const i0=zl("__proto__,__v_isRef,__isVue"),$d=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Wi)),s0=Vl(),o0=Vl(!1,!0),a0=Vl(!0),ku=l0();function l0(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=De(this);for(let p=0,m=this.length;p<m;p++)Ft(r,"get",p+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(De)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ui();const r=De(this)[t].apply(this,n);return fi(),r}}),e}function c0(e){const t=De(this);return Ft(t,"has",e),t.hasOwnProperty(e)}function Vl(e=!1,t=!1){return function(r,s,p){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&p===(e?t?T0:Ud:t?Hd:zd).get(r))return r;const m=Oe(r);if(!e){if(m&&Ie(ku,s))return Reflect.get(ku,s,p);if(s==="hasOwnProperty")return c0}const c=Reflect.get(r,s,p);return(Wi(s)?$d.has(s):i0(s))||(e||Ft(r,"get",s),t)?c:ct(c)?m&&Wl(s)?c:c.value:$e(c)?e?fs(c):kr(c):c}}const u0=jd(),f0=jd(!0);function jd(e=!1){return function(n,r,s,p){let m=n[r];if(Kr(m)&&ct(m)&&!ct(s))return!1;if(!e&&(!to(s)&&!Kr(s)&&(m=De(m),s=De(s)),!Oe(n)&&ct(m)&&!ct(s)))return m.value=s,!0;const c=Oe(n)&&Wl(r)?Number(r)<n.length:Ie(n,r),i=Reflect.set(n,r,s,p);return n===De(p)&&(c?Yi(s,m)&&$n(n,"set",r,s):$n(n,"add",r,s)),i}}function h0(e,t){const n=Ie(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&$n(e,"delete",t,void 0),r}function d0(e,t){const n=Reflect.has(e,t);return(!Wi(t)||!$d.has(t))&&Ft(e,"has",t),n}function p0(e){return Ft(e,"iterate",Oe(e)?"length":Cr),Reflect.ownKeys(e)}const Nd={get:s0,set:u0,deleteProperty:h0,has:d0,ownKeys:p0},g0={get:a0,set(e,t){return!0},deleteProperty(e,t){return!0}},v0=rt({},Nd,{get:o0,set:f0}),Gl=e=>e,Eo=e=>Reflect.getPrototypeOf(e);function Cs(e,t,n=!1,r=!1){e=e.__v_raw;const s=De(e),p=De(t);n||(t!==p&&Ft(s,"get",t),Ft(s,"get",p));const{has:m}=Eo(s),c=r?Gl:n?Zl:Xi;if(m.call(s,t))return c(e.get(t));if(m.call(s,p))return c(e.get(p));e!==s&&e.get(t)}function Ss(e,t=!1){const n=this.__v_raw,r=De(n),s=De(e);return t||(e!==s&&Ft(r,"has",e),Ft(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function xs(e,t=!1){return e=e.__v_raw,!t&&Ft(De(e),"iterate",Cr),Reflect.get(e,"size",e)}function Au(e){e=De(e);const t=De(this);return Eo(t).has.call(t,e)||(t.add(e),$n(t,"add",e,e)),this}function Ru(e,t){t=De(t);const n=De(this),{has:r,get:s}=Eo(n);let p=r.call(n,e);p||(e=De(e),p=r.call(n,e));const m=s.call(n,e);return n.set(e,t),p?Yi(t,m)&&$n(n,"set",e,t):$n(n,"add",e,t),this}function Mu(e){const t=De(this),{has:n,get:r}=Eo(t);let s=n.call(t,e);s||(e=De(e),s=n.call(t,e)),r&&r.call(t,e);const p=t.delete(e);return s&&$n(t,"delete",e,void 0),p}function Iu(){const e=De(this),t=e.size!==0,n=e.clear();return t&&$n(e,"clear",void 0,void 0),n}function Ts(e,t){return function(r,s){const p=this,m=p.__v_raw,c=De(m),i=t?Gl:e?Zl:Xi;return!e&&Ft(c,"iterate",Cr),m.forEach((h,f)=>r.call(s,i(h),i(f),p))}}function Os(e,t,n){return function(...r){const s=this.__v_raw,p=De(s),m=Xr(p),c=e==="entries"||e===Symbol.iterator&&m,i=e==="keys"&&m,h=s[e](...r),f=n?Gl:t?Zl:Xi;return!t&&Ft(p,"iterate",i?qa:Cr),{next(){const{value:o,done:l}=h.next();return l?{value:o,done:l}:{value:c?[f(o[0]),f(o[1])]:f(o),done:l}},[Symbol.iterator](){return this}}}}function Vn(e){return function(...t){return e==="delete"?!1:this}}function m0(){const e={get(p){return Cs(this,p)},get size(){return xs(this)},has:Ss,add:Au,set:Ru,delete:Mu,clear:Iu,forEach:Ts(!1,!1)},t={get(p){return Cs(this,p,!1,!0)},get size(){return xs(this)},has:Ss,add:Au,set:Ru,delete:Mu,clear:Iu,forEach:Ts(!1,!0)},n={get(p){return Cs(this,p,!0)},get size(){return xs(this,!0)},has(p){return Ss.call(this,p,!0)},add:Vn("add"),set:Vn("set"),delete:Vn("delete"),clear:Vn("clear"),forEach:Ts(!0,!1)},r={get(p){return Cs(this,p,!0,!0)},get size(){return xs(this,!0)},has(p){return Ss.call(this,p,!0)},add:Vn("add"),set:Vn("set"),delete:Vn("delete"),clear:Vn("clear"),forEach:Ts(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(p=>{e[p]=Os(p,!1,!1),n[p]=Os(p,!0,!1),t[p]=Os(p,!1,!0),r[p]=Os(p,!0,!0)}),[e,n,t,r]}const[_0,y0,b0,w0]=m0();function Kl(e,t){const n=t?e?w0:b0:e?y0:_0;return(r,s,p)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Ie(n,s)&&s in r?n:r,s,p)}const C0={get:Kl(!1,!1)},S0={get:Kl(!1,!0)},x0={get:Kl(!0,!1)},zd=new WeakMap,Hd=new WeakMap,Ud=new WeakMap,T0=new WeakMap;function O0(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function E0(e){return e.__v_skip||!Object.isExtensible(e)?0:O0(Nm(e))}function kr(e){return Kr(e)?e:Jl(e,!1,Nd,C0,zd)}function ql(e){return Jl(e,!1,v0,S0,Hd)}function fs(e){return Jl(e,!0,g0,x0,Ud)}function Jl(e,t,n,r,s){if(!$e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const p=s.get(e);if(p)return p;const m=E0(e);if(m===0)return e;const c=new Proxy(e,m===2?r:n);return s.set(e,c),c}function Vr(e){return Kr(e)?Vr(e.__v_raw):!!(e&&e.__v_isReactive)}function Kr(e){return!!(e&&e.__v_isReadonly)}function to(e){return!!(e&&e.__v_isShallow)}function Wd(e){return Vr(e)||Kr(e)}function De(e){const t=e&&e.__v_raw;return t?De(t):e}function no(e){return Qs(e,"__v_skip",!0),e}const Xi=e=>$e(e)?kr(e):e,Zl=e=>$e(e)?fs(e):e;function Yd(e){sr&&on&&(e=De(e),Bd(e.dep||(e.dep=Yl())))}function Xd(e,t){e=De(e);const n=e.dep;n&&Ja(n)}function ct(e){return!!(e&&e.__v_isRef===!0)}function fe(e){return Vd(e,!1)}function qt(e){return Vd(e,!0)}function Vd(e,t){return ct(e)?e:new P0(e,t)}class P0{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:De(t),this._value=n?t:Xi(t)}get value(){return Yd(this),this._value}set value(t){const n=this.__v_isShallow||to(t)||Kr(t);t=n?t:De(t),Yi(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Xi(t),Xd(this))}}function x(e){return ct(e)?e.value:e}const k0={get:(e,t,n)=>x(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return ct(s)&&!ct(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Gd(e){return Vr(e)?e:new Proxy(e,k0)}class A0{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return r0(De(this._object),this._key)}}class R0{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function yt(e,t,n){return ct(e)?e:Pe(e)?new R0(e):$e(e)&&arguments.length>1?M0(e,t,n):fe(e)}function M0(e,t,n){const r=e[t];return ct(r)?r:new A0(e,t,n)}class I0{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Xl(t,()=>{this._dirty||(this._dirty=!0,Xd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=De(this);return Yd(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function D0(e,t,n=!1){let r,s;const p=Pe(e);return p?(r=e,s=Ne):(r=e.get,s=e.set),new I0(r,s,p||!s,n)}function F0(e,...t){}function or(e,t,n,r){let s;try{s=r?e(...r):e()}catch(p){Po(p,t,n)}return s}function Jt(e,t,n,r){if(Pe(e)){const p=or(e,t,n,r);return p&&Od(p)&&p.catch(m=>{Po(m,t,n)}),p}const s=[];for(let p=0;p<e.length;p++)s.push(Jt(e[p],t,n,r));return s}function Po(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let p=t.parent;const m=t.proxy,c=n;for(;p;){const h=p.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](e,m,c)===!1)return}p=p.parent}const i=t.appContext.config.errorHandler;if(i){or(i,null,10,[e,m,c]);return}}L0(e,n,s,r)}function L0(e,t,n,r=!0){console.error(e)}let Vi=!1,Za=!1;const St=[];let yn=0;const Gr=[];let Dn=null,mr=0;const Kd=Promise.resolve();let Ql=null;function ht(e){const t=Ql||Kd;return e?t.then(this?e.bind(this):e):t}function B0(e){let t=yn+1,n=St.length;for(;t<n;){const r=t+n>>>1;Gi(St[r])<e?t=r+1:n=r}return t}function ec(e){(!St.length||!St.includes(e,Vi&&e.allowRecurse?yn+1:yn))&&(e.id==null?St.push(e):St.splice(B0(e.id),0,e),qd())}function qd(){!Vi&&!Za&&(Za=!0,Ql=Kd.then(Zd))}function $0(e){const t=St.indexOf(e);t>yn&&St.splice(t,1)}function j0(e){Oe(e)?Gr.push(...e):(!Dn||!Dn.includes(e,e.allowRecurse?mr+1:mr))&&Gr.push(e),qd()}function Du(e,t=Vi?yn+1:0){for(;t<St.length;t++){const n=St[t];n&&n.pre&&(St.splice(t,1),t--,n())}}function Jd(e){if(Gr.length){const t=[...new Set(Gr)];if(Gr.length=0,Dn){Dn.push(...t);return}for(Dn=t,Dn.sort((n,r)=>Gi(n)-Gi(r)),mr=0;mr<Dn.length;mr++)Dn[mr]();Dn=null,mr=0}}const Gi=e=>e.id==null?1/0:e.id,N0=(e,t)=>{const n=Gi(e)-Gi(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Zd(e){Za=!1,Vi=!0,St.sort(N0);const t=Ne;try{for(yn=0;yn<St.length;yn++){const n=St[yn];n&&n.active!==!1&&or(n,null,14)}}finally{yn=0,St.length=0,Jd(),Vi=!1,Ql=null,(St.length||Gr.length)&&Zd()}}function z0(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||qe;let s=n;const p=t.startsWith("update:"),m=p&&t.slice(7);if(m&&m in r){const f=`${m==="modelValue"?"model":m}Modifiers`,{number:o,trim:l}=r[f]||qe;l&&(s=n.map(a=>Be(a)?a.trim():a)),o&&(s=n.map(Um))}let c,i=r[c=ca(t)]||r[c=ca(cn(t))];!i&&p&&(i=r[c=ca(Pr(t))]),i&&Jt(i,e,6,s);const h=r[c+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Jt(h,e,6,s)}}function Qd(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const p=e.emits;let m={},c=!1;if(!Pe(e)){const i=h=>{const f=Qd(h,t,!0);f&&(c=!0,rt(m,f))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return!p&&!c?($e(e)&&r.set(e,null),null):(Oe(p)?p.forEach(i=>m[i]=null):rt(m,p),$e(e)&&r.set(e,m),m)}function ko(e,t){return!e||!Co(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ie(e,t[0].toLowerCase()+t.slice(1))||Ie(e,Pr(t))||Ie(e,t))}let bt=null,Ao=null;function ro(e){const t=bt;return bt=e,Ao=e&&e.type.__scopeId||null,t}function Ro(e){Ao=e}function Mo(){Ao=null}function _e(e,t=bt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Vu(-1);const p=ro(t);let m;try{m=e(...s)}finally{ro(p),r._d&&Vu(1)}return m};return r._n=!0,r._c=!0,r._d=!0,r}function ua(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:p,propsOptions:[m],slots:c,attrs:i,emit:h,render:f,renderCache:o,data:l,setupState:a,ctx:u,inheritAttrs:g}=e;let d,v;const _=ro(e);try{if(n.shapeFlag&4){const b=s||r;d=_n(f.call(b,b,o,p,a,l,u)),v=i}else{const b=t;d=_n(b.length>1?b(p,{attrs:i,slots:c,emit:h}):b(p,null)),v=t.props?i:H0(i)}}catch(b){Di.length=0,Po(b,e,1),d=pe(Ut)}let y=d;if(v&&g!==!1){const b=Object.keys(v),{shapeFlag:w}=y;b.length&&w&7&&(m&&b.some(Hl)&&(v=U0(v,m)),y=jn(y,v))}return n.dirs&&(y=jn(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),d=y,ro(_),d}const H0=e=>{let t;for(const n in e)(n==="class"||n==="style"||Co(n))&&((t||(t={}))[n]=e[n]);return t},U0=(e,t)=>{const n={};for(const r in e)(!Hl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function W0(e,t,n){const{props:r,children:s,component:p}=e,{props:m,children:c,patchFlag:i}=t,h=p.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&i>=0){if(i&1024)return!0;if(i&16)return r?Fu(r,m,h):!!m;if(i&8){const f=t.dynamicProps;for(let o=0;o<f.length;o++){const l=f[o];if(m[l]!==r[l]&&!ko(h,l))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===m?!1:r?m?Fu(r,m,h):!0:!!m;return!1}function Fu(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const p=r[s];if(t[p]!==e[p]&&!ko(n,p))return!0}return!1}function Y0({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const X0=e=>e.__isSuspense;function V0(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):j0(e)}const Es={};function Ae(e,t,n){return ep(e,t,n)}function ep(e,t,{immediate:n,deep:r,flush:s,onTrack:p,onTrigger:m}=qe){var c;const i=Id()===((c=dt)==null?void 0:c.scope)?dt:null;let h,f=!1,o=!1;if(ct(e)?(h=()=>e.value,f=to(e)):Vr(e)?(h=()=>e,r=!0):Oe(e)?(o=!0,f=e.some(b=>Vr(b)||to(b)),h=()=>e.map(b=>{if(ct(b))return b.value;if(Vr(b))return br(b);if(Pe(b))return or(b,i,2)})):Pe(e)?t?h=()=>or(e,i,2):h=()=>{if(!(i&&i.isUnmounted))return l&&l(),Jt(e,i,3,[a])}:h=Ne,t&&r){const b=h;h=()=>br(b())}let l,a=b=>{l=_.onStop=()=>{or(b,i,4)}},u;if(Zi)if(a=Ne,t?n&&Jt(t,i,3,[h(),o?[]:void 0,a]):h(),s==="sync"){const b=F_();u=b.__watcherHandles||(b.__watcherHandles=[])}else return Ne;let g=o?new Array(e.length).fill(Es):Es;const d=()=>{if(_.active)if(t){const b=_.run();(r||f||(o?b.some((w,C)=>Yi(w,g[C])):Yi(b,g)))&&(l&&l(),Jt(t,i,3,[b,g===Es?void 0:o&&g[0]===Es?[]:g,a]),g=b)}else _.run()};d.allowRecurse=!!t;let v;s==="sync"?v=d:s==="post"?v=()=>Rt(d,i&&i.suspense):(d.pre=!0,i&&(d.id=i.uid),v=()=>ec(d));const _=new Xl(h,v);t?n?d():g=_.run():s==="post"?Rt(_.run.bind(_),i&&i.suspense):_.run();const y=()=>{_.stop(),i&&i.scope&&Ul(i.scope.effects,_)};return u&&u.push(y),y}function G0(e,t,n){const r=this.proxy,s=Be(e)?e.includes(".")?tp(r,e):()=>r[e]:e.bind(r,r);let p;Pe(t)?p=t:(p=t.handler,n=t);const m=dt;Jr(this);const c=ep(s,p.bind(r),n);return m?Jr(m):Sr(),c}function tp(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function br(e,t){if(!$e(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ct(e))br(e.value,t);else if(Oe(e))for(let n=0;n<e.length;n++)br(e[n],t);else if(So(e)||Xr(e))e.forEach(n=>{br(n,t)});else if(Zs(e))for(const n in e)br(e[n],t);return e}function ot(e,t){const n=bt;if(n===null)return e;const r=Lo(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let p=0;p<t.length;p++){let[m,c,i,h=qe]=t[p];m&&(Pe(m)&&(m={mounted:m,updated:m}),m.deep&&br(c),s.push({dir:m,instance:r,value:c,oldValue:void 0,arg:i,modifiers:h}))}return e}function hr(e,t,n,r){const s=e.dirs,p=t&&t.dirs;for(let m=0;m<s.length;m++){const c=s[m];p&&(c.oldValue=p[m].value);let i=c.dir[r];i&&(ui(),Jt(i,n,8,[e.el,c,e,t]),fi())}}function np(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qe(()=>{e.isMounted=!0}),Lt(()=>{e.isUnmounting=!0}),e}const Xt=[Function,Array],rp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Xt,onEnter:Xt,onAfterEnter:Xt,onEnterCancelled:Xt,onBeforeLeave:Xt,onLeave:Xt,onAfterLeave:Xt,onLeaveCancelled:Xt,onBeforeAppear:Xt,onAppear:Xt,onAfterAppear:Xt,onAppearCancelled:Xt},K0={name:"BaseTransition",props:rp,setup(e,{slots:t}){const n=xt(),r=np();let s;return()=>{const p=t.default&&tc(t.default(),!0);if(!p||!p.length)return;let m=p[0];if(p.length>1){for(const g of p)if(g.type!==Ut){m=g;break}}const c=De(e),{mode:i}=c;if(r.isLeaving)return fa(m);const h=Lu(m);if(!h)return fa(m);const f=Ki(h,c,r,n);qi(h,f);const o=n.subTree,l=o&&Lu(o);let a=!1;const{getTransitionKey:u}=h.type;if(u){const g=u();s===void 0?s=g:g!==s&&(s=g,a=!0)}if(l&&l.type!==Ut&&(!_r(h,l)||a)){const g=Ki(l,c,r,n);if(qi(l,g),i==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},fa(m);i==="in-out"&&h.type!==Ut&&(g.delayLeave=(d,v,_)=>{const y=ip(r,l);y[String(l.key)]=l,d._leaveCb=()=>{v(),d._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=_})}return m}}},q0=K0;function ip(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Ki(e,t,n,r){const{appear:s,mode:p,persisted:m=!1,onBeforeEnter:c,onEnter:i,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:o,onLeave:l,onAfterLeave:a,onLeaveCancelled:u,onBeforeAppear:g,onAppear:d,onAfterAppear:v,onAppearCancelled:_}=t,y=String(e.key),b=ip(n,e),w=(O,B)=>{O&&Jt(O,r,9,B)},C=(O,B)=>{const W=B[1];w(O,B),Oe(O)?O.every(K=>K.length<=1)&&W():O.length<=1&&W()},S={mode:p,persisted:m,beforeEnter(O){let B=c;if(!n.isMounted)if(s)B=g||c;else return;O._leaveCb&&O._leaveCb(!0);const W=b[y];W&&_r(e,W)&&W.el._leaveCb&&W.el._leaveCb(),w(B,[O])},enter(O){let B=i,W=h,K=f;if(!n.isMounted)if(s)B=d||i,W=v||h,K=_||f;else return;let z=!1;const re=O._enterCb=se=>{z||(z=!0,se?w(K,[O]):w(W,[O]),S.delayedLeave&&S.delayedLeave(),O._enterCb=void 0)};B?C(B,[O,re]):re()},leave(O,B){const W=String(e.key);if(O._enterCb&&O._enterCb(!0),n.isUnmounting)return B();w(o,[O]);let K=!1;const z=O._leaveCb=re=>{K||(K=!0,B(),re?w(u,[O]):w(a,[O]),O._leaveCb=void 0,b[W]===e&&delete b[W])};b[W]=e,l?C(l,[O,z]):z()},clone(O){return Ki(O,t,n,r)}};return S}function fa(e){if(Io(e))return e=jn(e),e.children=null,e}function Lu(e){return Io(e)?e.children?e.children[0]:void 0:e}function qi(e,t){e.shapeFlag&6&&e.component?qi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function tc(e,t=!1,n){let r=[],s=0;for(let p=0;p<e.length;p++){let m=e[p];const c=n==null?m.key:String(n)+String(m.key!=null?m.key:p);m.type===Me?(m.patchFlag&128&&s++,r=r.concat(tc(m.children,t,c))):(t||m.type!==Ut)&&r.push(c!=null?jn(m,{key:c}):m)}if(s>1)for(let p=0;p<r.length;p++)r[p].patchFlag=-2;return r}function xe(e,t){return Pe(e)?(()=>rt({name:e.name},t,{setup:e}))():e}const Ri=e=>!!e.type.__asyncLoader,Io=e=>e.type.__isKeepAlive;function J0(e,t){op(e,"a",t)}function sp(e,t){op(e,"da",t)}function op(e,t,n=dt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Do(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Io(s.parent.vnode)&&Z0(r,t,n,s),s=s.parent}}function Z0(e,t,n,r){const s=Do(t,e,r,!0);hi(()=>{Ul(r[t],s)},n)}function Do(e,t,n=dt,r=!1){if(n){const s=n[e]||(n[e]=[]),p=t.__weh||(t.__weh=(...m)=>{if(n.isUnmounted)return;ui(),Jr(n);const c=Jt(t,n,e,m);return Sr(),fi(),c});return r?s.unshift(p):s.push(p),p}}const Un=e=>(t,n=dt)=>(!Zi||e==="sp")&&Do(e,(...r)=>t(...r),n),ap=Un("bm"),Qe=Un("m"),Q0=Un("bu"),nc=Un("u"),Lt=Un("bum"),hi=Un("um"),e_=Un("sp"),t_=Un("rtg"),n_=Un("rtc");function r_(e,t=dt){Do("ec",e,t)}const rc="components";function Xe(e,t){return cp(rc,e,!0,t)||e}const lp=Symbol.for("v-ndc");function Kt(e){return Be(e)?cp(rc,e,!1)||e:e||lp}function cp(e,t,n=!0,r=!1){const s=bt||dt;if(s){const p=s.type;if(e===rc){const c=M_(p,!1);if(c&&(c===t||c===cn(t)||c===To(cn(t))))return p}const m=Bu(s[e]||p[e],t)||Bu(s.appContext[e],t);return!m&&r?p:m}}function Bu(e,t){return e&&(e[t]||e[cn(t)]||e[To(cn(t))])}function ft(e,t,n,r){let s;const p=n&&n[r];if(Oe(e)||Be(e)){s=new Array(e.length);for(let m=0,c=e.length;m<c;m++)s[m]=t(e[m],m,void 0,p&&p[m])}else if(typeof e=="number"){s=new Array(e);for(let m=0;m<e;m++)s[m]=t(m+1,m,void 0,p&&p[m])}else if($e(e))if(e[Symbol.iterator])s=Array.from(e,(m,c)=>t(m,c,void 0,p&&p[c]));else{const m=Object.keys(e);s=new Array(m.length);for(let c=0,i=m.length;c<i;c++){const h=m[c];s[c]=t(e[h],h,c,p&&p[c])}}else s=[];return n&&(n[r]=s),s}function Qa(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Oe(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const p=r.fn(...s);return p&&(p.key=r.key),p}:r.fn)}return e}function Ce(e,t,n={},r,s){if(bt.isCE||bt.parent&&Ri(bt.parent)&&bt.parent.isCE)return t!=="default"&&(n.name=t),pe("slot",n,r&&r());let p=e[t];p&&p._c&&(p._d=!1),X();const m=p&&up(p(n)),c=Se(Me,{key:n.key||m&&m.key||`_${t}`},m||(r?r():[]),m&&e._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),p&&p._c&&(p._d=!0),c}function up(e){return e.some(t=>qr(t)?!(t.type===Ut||t.type===Me&&!up(t.children)):!0)?e:null}const el=e=>e?xp(e)?Lo(e)||e.proxy:el(e.parent):null,Mi=rt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>el(e.parent),$root:e=>el(e.root),$emit:e=>e.emit,$options:e=>sc(e),$forceUpdate:e=>e.f||(e.f=()=>ec(e.update)),$nextTick:e=>e.n||(e.n=ht.bind(e.proxy)),$watch:e=>G0.bind(e)}),ha=(e,t)=>e!==qe&&!e.__isScriptSetup&&Ie(e,t),i_={get({_:e},t){const{ctx:n,setupState:r,data:s,props:p,accessCache:m,type:c,appContext:i}=e;let h;if(t[0]!=="$"){const a=m[t];if(a!==void 0)switch(a){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return p[t]}else{if(ha(r,t))return m[t]=1,r[t];if(s!==qe&&Ie(s,t))return m[t]=2,s[t];if((h=e.propsOptions[0])&&Ie(h,t))return m[t]=3,p[t];if(n!==qe&&Ie(n,t))return m[t]=4,n[t];tl&&(m[t]=0)}}const f=Mi[t];let o,l;if(f)return t==="$attrs"&&Ft(e,"get",t),f(e);if((o=c.__cssModules)&&(o=o[t]))return o;if(n!==qe&&Ie(n,t))return m[t]=4,n[t];if(l=i.config.globalProperties,Ie(l,t))return l[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:p}=e;return ha(s,t)?(s[t]=n,!0):r!==qe&&Ie(r,t)?(r[t]=n,!0):Ie(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(p[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:p}},m){let c;return!!n[m]||e!==qe&&Ie(e,m)||ha(t,m)||(c=p[0])&&Ie(c,m)||Ie(r,m)||Ie(Mi,m)||Ie(s.config.globalProperties,m)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ie(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function fp(){return hp().slots}function ic(){return hp().attrs}function hp(){const e=xt();return e.setupContext||(e.setupContext=Op(e))}function $u(e){return Oe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let tl=!0;function s_(e){const t=sc(e),n=e.proxy,r=e.ctx;tl=!1,t.beforeCreate&&ju(t.beforeCreate,e,"bc");const{data:s,computed:p,methods:m,watch:c,provide:i,inject:h,created:f,beforeMount:o,mounted:l,beforeUpdate:a,updated:u,activated:g,deactivated:d,beforeDestroy:v,beforeUnmount:_,destroyed:y,unmounted:b,render:w,renderTracked:C,renderTriggered:S,errorCaptured:O,serverPrefetch:B,expose:W,inheritAttrs:K,components:z,directives:re,filters:se}=t;if(h&&o_(h,r,null),m)for(const V in m){const Z=m[V];Pe(Z)&&(r[V]=Z.bind(n))}if(s){const V=s.call(n,n);$e(V)&&(e.data=kr(V))}if(tl=!0,p)for(const V in p){const Z=p[V],T=Pe(Z)?Z.bind(n,n):Pe(Z.get)?Z.get.bind(n,n):Ne,I=!Pe(Z)&&Pe(Z.set)?Z.set.bind(n):Ne,F=q({get:T,set:I});Object.defineProperty(r,V,{enumerable:!0,configurable:!0,get:()=>F.value,set:D=>F.value=D})}if(c)for(const V in c)dp(c[V],r,n,V);if(i){const V=Pe(i)?i.call(n):i;Reflect.ownKeys(V).forEach(Z=>{tt(Z,V[Z])})}f&&ju(f,e,"c");function he(V,Z){Oe(Z)?Z.forEach(T=>V(T.bind(n))):Z&&V(Z.bind(n))}if(he(ap,o),he(Qe,l),he(Q0,a),he(nc,u),he(J0,g),he(sp,d),he(r_,O),he(n_,C),he(t_,S),he(Lt,_),he(hi,b),he(e_,B),Oe(W))if(W.length){const V=e.exposed||(e.exposed={});W.forEach(Z=>{Object.defineProperty(V,Z,{get:()=>n[Z],set:T=>n[Z]=T})})}else e.exposed||(e.exposed={});w&&e.render===Ne&&(e.render=w),K!=null&&(e.inheritAttrs=K),z&&(e.components=z),re&&(e.directives=re)}function o_(e,t,n=Ne){Oe(e)&&(e=nl(e));for(const r in e){const s=e[r];let p;$e(s)?"default"in s?p=ke(s.from||r,s.default,!0):p=ke(s.from||r):p=ke(s),ct(p)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>p.value,set:m=>p.value=m}):t[r]=p}}function ju(e,t,n){Jt(Oe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function dp(e,t,n,r){const s=r.includes(".")?tp(n,r):()=>n[r];if(Be(e)){const p=t[e];Pe(p)&&Ae(s,p)}else if(Pe(e))Ae(s,e.bind(n));else if($e(e))if(Oe(e))e.forEach(p=>dp(p,t,n,r));else{const p=Pe(e.handler)?e.handler.bind(n):t[e.handler];Pe(p)&&Ae(s,p,e)}}function sc(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:p,config:{optionMergeStrategies:m}}=e.appContext,c=p.get(t);let i;return c?i=c:!s.length&&!n&&!r?i=t:(i={},s.length&&s.forEach(h=>io(i,h,m,!0)),io(i,t,m)),$e(t)&&p.set(t,i),i}function io(e,t,n,r=!1){const{mixins:s,extends:p}=t;p&&io(e,p,n,!0),s&&s.forEach(m=>io(e,m,n,!0));for(const m in t)if(!(r&&m==="expose")){const c=a_[m]||n&&n[m];e[m]=c?c(e[m],t[m]):t[m]}return e}const a_={data:Nu,props:zu,emits:zu,methods:ki,computed:ki,beforeCreate:Et,created:Et,beforeMount:Et,mounted:Et,beforeUpdate:Et,updated:Et,beforeDestroy:Et,beforeUnmount:Et,destroyed:Et,unmounted:Et,activated:Et,deactivated:Et,errorCaptured:Et,serverPrefetch:Et,components:ki,directives:ki,watch:c_,provide:Nu,inject:l_};function Nu(e,t){return t?e?function(){return rt(Pe(e)?e.call(this,this):e,Pe(t)?t.call(this,this):t)}:t:e}function l_(e,t){return ki(nl(e),nl(t))}function nl(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Et(e,t){return e?[...new Set([].concat(e,t))]:t}function ki(e,t){return e?rt(Object.create(null),e,t):t}function zu(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:rt(Object.create(null),$u(e),$u(t??{})):t}function c_(e,t){if(!e)return t;if(!t)return e;const n=rt(Object.create(null),e);for(const r in t)n[r]=Et(e[r],t[r]);return n}function pp(){return{app:null,config:{isNativeTag:Bm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let u_=0;function f_(e,t){return function(r,s=null){Pe(r)||(r=rt({},r)),s!=null&&!$e(s)&&(s=null);const p=pp(),m=new Set;let c=!1;const i=p.app={_uid:u_++,_component:r,_props:s,_container:null,_context:p,_instance:null,version:L_,get config(){return p.config},set config(h){},use(h,...f){return m.has(h)||(h&&Pe(h.install)?(m.add(h),h.install(i,...f)):Pe(h)&&(m.add(h),h(i,...f))),i},mixin(h){return p.mixins.includes(h)||p.mixins.push(h),i},component(h,f){return f?(p.components[h]=f,i):p.components[h]},directive(h,f){return f?(p.directives[h]=f,i):p.directives[h]},mount(h,f,o){if(!c){const l=pe(r,s);return l.appContext=p,f&&t?t(l,h):e(l,h,o),c=!0,i._container=h,h.__vue_app__=i,Lo(l.component)||l.component.proxy}},unmount(){c&&(e(null,i._container),delete i._container.__vue_app__)},provide(h,f){return p.provides[h]=f,i},runWithContext(h){so=i;try{return h()}finally{so=null}}};return i}}let so=null;function tt(e,t){if(dt){let n=dt.provides;const r=dt.parent&&dt.parent.provides;r===n&&(n=dt.provides=Object.create(r)),n[e]=t}}function ke(e,t,n=!1){const r=dt||bt;if(r||so){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:so._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Pe(t)?t.call(r&&r.proxy):t}}function h_(e,t,n,r=!1){const s={},p={};Qs(p,Fo,1),e.propsDefaults=Object.create(null),gp(e,t,s,p);for(const m in e.propsOptions[0])m in s||(s[m]=void 0);n?e.props=r?s:ql(s):e.type.props?e.props=s:e.props=p,e.attrs=p}function d_(e,t,n,r){const{props:s,attrs:p,vnode:{patchFlag:m}}=e,c=De(s),[i]=e.propsOptions;let h=!1;if((r||m>0)&&!(m&16)){if(m&8){const f=e.vnode.dynamicProps;for(let o=0;o<f.length;o++){let l=f[o];if(ko(e.emitsOptions,l))continue;const a=t[l];if(i)if(Ie(p,l))a!==p[l]&&(p[l]=a,h=!0);else{const u=cn(l);s[u]=rl(i,c,u,a,e,!1)}else a!==p[l]&&(p[l]=a,h=!0)}}}else{gp(e,t,s,p)&&(h=!0);let f;for(const o in c)(!t||!Ie(t,o)&&((f=Pr(o))===o||!Ie(t,f)))&&(i?n&&(n[o]!==void 0||n[f]!==void 0)&&(s[o]=rl(i,c,o,void 0,e,!0)):delete s[o]);if(p!==c)for(const o in p)(!t||!Ie(t,o))&&(delete p[o],h=!0)}h&&$n(e,"set","$attrs")}function gp(e,t,n,r){const[s,p]=e.propsOptions;let m=!1,c;if(t)for(let i in t){if(Ns(i))continue;const h=t[i];let f;s&&Ie(s,f=cn(i))?!p||!p.includes(f)?n[f]=h:(c||(c={}))[f]=h:ko(e.emitsOptions,i)||(!(i in r)||h!==r[i])&&(r[i]=h,m=!0)}if(p){const i=De(n),h=c||qe;for(let f=0;f<p.length;f++){const o=p[f];n[o]=rl(s,i,o,h[o],e,!Ie(h,o))}}return m}function rl(e,t,n,r,s,p){const m=e[n];if(m!=null){const c=Ie(m,"default");if(c&&r===void 0){const i=m.default;if(m.type!==Function&&!m.skipFactory&&Pe(i)){const{propsDefaults:h}=s;n in h?r=h[n]:(Jr(s),r=h[n]=i.call(null,t),Sr())}else r=i}m[0]&&(p&&!c?r=!1:m[1]&&(r===""||r===Pr(n))&&(r=!0))}return r}function vp(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const p=e.props,m={},c=[];let i=!1;if(!Pe(e)){const f=o=>{i=!0;const[l,a]=vp(o,t,!0);rt(m,l),a&&c.push(...a)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!p&&!i)return $e(e)&&r.set(e,Yr),Yr;if(Oe(p))for(let f=0;f<p.length;f++){const o=cn(p[f]);Hu(o)&&(m[o]=qe)}else if(p)for(const f in p){const o=cn(f);if(Hu(o)){const l=p[f],a=m[o]=Oe(l)||Pe(l)?{type:l}:rt({},l);if(a){const u=Yu(Boolean,a.type),g=Yu(String,a.type);a[0]=u>-1,a[1]=g<0||u<g,(u>-1||Ie(a,"default"))&&c.push(o)}}}const h=[m,c];return $e(e)&&r.set(e,h),h}function Hu(e){return e[0]!=="$"}function Uu(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Wu(e,t){return Uu(e)===Uu(t)}function Yu(e,t){return Oe(t)?t.findIndex(n=>Wu(n,e)):Pe(t)&&Wu(t,e)?0:-1}const mp=e=>e[0]==="_"||e==="$stable",oc=e=>Oe(e)?e.map(_n):[_n(e)],p_=(e,t,n)=>{if(t._n)return t;const r=_e((...s)=>oc(t(...s)),n);return r._c=!1,r},_p=(e,t,n)=>{const r=e._ctx;for(const s in e){if(mp(s))continue;const p=e[s];if(Pe(p))t[s]=p_(s,p,r);else if(p!=null){const m=oc(p);t[s]=()=>m}}},yp=(e,t)=>{const n=oc(t);e.slots.default=()=>n},g_=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=De(t),Qs(t,"_",n)):_p(t,e.slots={})}else e.slots={},t&&yp(e,t);Qs(e.slots,Fo,1)},v_=(e,t,n)=>{const{vnode:r,slots:s}=e;let p=!0,m=qe;if(r.shapeFlag&32){const c=t._;c?n&&c===1?p=!1:(rt(s,t),!n&&c===1&&delete s._):(p=!t.$stable,_p(t,s)),m=t}else t&&(yp(e,t),m={default:1});if(p)for(const c in s)!mp(c)&&!(c in m)&&delete s[c]};function il(e,t,n,r,s=!1){if(Oe(e)){e.forEach((l,a)=>il(l,t&&(Oe(t)?t[a]:t),n,r,s));return}if(Ri(r)&&!s)return;const p=r.shapeFlag&4?Lo(r.component)||r.component.proxy:r.el,m=s?null:p,{i:c,r:i}=e,h=t&&t.r,f=c.refs===qe?c.refs={}:c.refs,o=c.setupState;if(h!=null&&h!==i&&(Be(h)?(f[h]=null,Ie(o,h)&&(o[h]=null)):ct(h)&&(h.value=null)),Pe(i))or(i,c,12,[m,f]);else{const l=Be(i),a=ct(i);if(l||a){const u=()=>{if(e.f){const g=l?Ie(o,i)?o[i]:f[i]:i.value;s?Oe(g)&&Ul(g,p):Oe(g)?g.includes(p)||g.push(p):l?(f[i]=[p],Ie(o,i)&&(o[i]=f[i])):(i.value=[p],e.k&&(f[e.k]=i.value))}else l?(f[i]=m,Ie(o,i)&&(o[i]=m)):a&&(i.value=m,e.k&&(f[e.k]=m))};m?(u.id=-1,Rt(u,n)):u()}}}const Rt=V0;function m_(e){return __(e)}function __(e,t){const n=Ga();n.__VUE__=!0;const{insert:r,remove:s,patchProp:p,createElement:m,createText:c,createComment:i,setText:h,setElementText:f,parentNode:o,nextSibling:l,setScopeId:a=Ne,insertStaticContent:u}=e,g=(A,E,k,$=null,H=null,j=null,Y=!1,ee=null,ae=!!E.dynamicChildren)=>{if(A===E)return;A&&!_r(A,E)&&($=R(A),D(A,H,j,!0),A=null),E.patchFlag===-2&&(ae=!1,E.dynamicChildren=null);const{type:ie,ref:J,shapeFlag:ue}=E;switch(ie){case di:d(A,E,k,$);break;case Ut:v(A,E,k,$);break;case Hs:A==null&&_(E,k,$,Y);break;case Me:z(A,E,k,$,H,j,Y,ee,ae);break;default:ue&1?w(A,E,k,$,H,j,Y,ee,ae):ue&6?re(A,E,k,$,H,j,Y,ee,ae):(ue&64||ue&128)&&ie.process(A,E,k,$,H,j,Y,ee,ae,N)}J!=null&&H&&il(J,A&&A.ref,j,E||A,!E)},d=(A,E,k,$)=>{if(A==null)r(E.el=c(E.children),k,$);else{const H=E.el=A.el;E.children!==A.children&&h(H,E.children)}},v=(A,E,k,$)=>{A==null?r(E.el=i(E.children||""),k,$):E.el=A.el},_=(A,E,k,$)=>{[A.el,A.anchor]=u(A.children,E,k,$,A.el,A.anchor)},y=({el:A,anchor:E},k,$)=>{let H;for(;A&&A!==E;)H=l(A),r(A,k,$),A=H;r(E,k,$)},b=({el:A,anchor:E})=>{let k;for(;A&&A!==E;)k=l(A),s(A),A=k;s(E)},w=(A,E,k,$,H,j,Y,ee,ae)=>{Y=Y||E.type==="svg",A==null?C(E,k,$,H,j,Y,ee,ae):B(A,E,H,j,Y,ee,ae)},C=(A,E,k,$,H,j,Y,ee)=>{let ae,ie;const{type:J,props:ue,shapeFlag:ge,transition:te,dirs:ve}=A;if(ae=A.el=m(A.type,j,ue&&ue.is,ue),ge&8?f(ae,A.children):ge&16&&O(A.children,ae,null,$,H,j&&J!=="foreignObject",Y,ee),ve&&hr(A,null,$,"created"),S(ae,A,A.scopeId,Y,$),ue){for(const Te in ue)Te!=="value"&&!Ns(Te)&&p(ae,Te,null,ue[Te],j,A.children,$,H,U);"value"in ue&&p(ae,"value",null,ue.value),(ie=ue.onVnodeBeforeMount)&&mn(ie,$,A)}ve&&hr(A,null,$,"beforeMount");const ye=(!H||H&&!H.pendingBranch)&&te&&!te.persisted;ye&&te.beforeEnter(ae),r(ae,E,k),((ie=ue&&ue.onVnodeMounted)||ye||ve)&&Rt(()=>{ie&&mn(ie,$,A),ye&&te.enter(ae),ve&&hr(A,null,$,"mounted")},H)},S=(A,E,k,$,H)=>{if(k&&a(A,k),$)for(let j=0;j<$.length;j++)a(A,$[j]);if(H){let j=H.subTree;if(E===j){const Y=H.vnode;S(A,Y,Y.scopeId,Y.slotScopeIds,H.parent)}}},O=(A,E,k,$,H,j,Y,ee,ae=0)=>{for(let ie=ae;ie<A.length;ie++){const J=A[ie]=ee?er(A[ie]):_n(A[ie]);g(null,J,E,k,$,H,j,Y,ee)}},B=(A,E,k,$,H,j,Y)=>{const ee=E.el=A.el;let{patchFlag:ae,dynamicChildren:ie,dirs:J}=E;ae|=A.patchFlag&16;const ue=A.props||qe,ge=E.props||qe;let te;k&&dr(k,!1),(te=ge.onVnodeBeforeUpdate)&&mn(te,k,E,A),J&&hr(E,A,k,"beforeUpdate"),k&&dr(k,!0);const ve=H&&E.type!=="foreignObject";if(ie?W(A.dynamicChildren,ie,ee,k,$,ve,j):Y||Z(A,E,ee,null,k,$,ve,j,!1),ae>0){if(ae&16)K(ee,E,ue,ge,k,$,H);else if(ae&2&&ue.class!==ge.class&&p(ee,"class",null,ge.class,H),ae&4&&p(ee,"style",ue.style,ge.style,H),ae&8){const ye=E.dynamicProps;for(let Te=0;Te<ye.length;Te++){const Re=ye[Te],nt=ue[Re],Ot=ge[Re];(Ot!==nt||Re==="value")&&p(ee,Re,nt,Ot,H,A.children,k,$,U)}}ae&1&&A.children!==E.children&&f(ee,E.children)}else!Y&&ie==null&&K(ee,E,ue,ge,k,$,H);((te=ge.onVnodeUpdated)||J)&&Rt(()=>{te&&mn(te,k,E,A),J&&hr(E,A,k,"updated")},$)},W=(A,E,k,$,H,j,Y)=>{for(let ee=0;ee<E.length;ee++){const ae=A[ee],ie=E[ee],J=ae.el&&(ae.type===Me||!_r(ae,ie)||ae.shapeFlag&70)?o(ae.el):k;g(ae,ie,J,null,$,H,j,Y,!0)}},K=(A,E,k,$,H,j,Y)=>{if(k!==$){if(k!==qe)for(const ee in k)!Ns(ee)&&!(ee in $)&&p(A,ee,k[ee],null,Y,E.children,H,j,U);for(const ee in $){if(Ns(ee))continue;const ae=$[ee],ie=k[ee];ae!==ie&&ee!=="value"&&p(A,ee,ie,ae,Y,E.children,H,j,U)}"value"in $&&p(A,"value",k.value,$.value)}},z=(A,E,k,$,H,j,Y,ee,ae)=>{const ie=E.el=A?A.el:c(""),J=E.anchor=A?A.anchor:c("");let{patchFlag:ue,dynamicChildren:ge,slotScopeIds:te}=E;te&&(ee=ee?ee.concat(te):te),A==null?(r(ie,k,$),r(J,k,$),O(E.children,k,J,H,j,Y,ee,ae)):ue>0&&ue&64&&ge&&A.dynamicChildren?(W(A.dynamicChildren,ge,k,H,j,Y,ee),(E.key!=null||H&&E===H.subTree)&&ac(A,E,!0)):Z(A,E,k,J,H,j,Y,ee,ae)},re=(A,E,k,$,H,j,Y,ee,ae)=>{E.slotScopeIds=ee,A==null?E.shapeFlag&512?H.ctx.activate(E,k,$,Y,ae):se(E,k,$,H,j,Y,ae):ce(A,E,ae)},se=(A,E,k,$,H,j,Y)=>{const ee=A.component=P_(A,$,H);if(Io(A)&&(ee.ctx.renderer=N),k_(ee),ee.asyncDep){if(H&&H.registerDep(ee,he),!A.el){const ae=ee.subTree=pe(Ut);v(null,ae,E,k)}return}he(ee,A,E,k,H,j,Y)},ce=(A,E,k)=>{const $=E.component=A.component;if(W0(A,E,k))if($.asyncDep&&!$.asyncResolved){V($,E,k);return}else $.next=E,$0($.update),$.update();else E.el=A.el,$.vnode=E},he=(A,E,k,$,H,j,Y)=>{const ee=()=>{if(A.isMounted){let{next:J,bu:ue,u:ge,parent:te,vnode:ve}=A,ye=J,Te;dr(A,!1),J?(J.el=ve.el,V(A,J,Y)):J=ve,ue&&zs(ue),(Te=J.props&&J.props.onVnodeBeforeUpdate)&&mn(Te,te,J,ve),dr(A,!0);const Re=ua(A),nt=A.subTree;A.subTree=Re,g(nt,Re,o(nt.el),R(nt),A,H,j),J.el=Re.el,ye===null&&Y0(A,Re.el),ge&&Rt(ge,H),(Te=J.props&&J.props.onVnodeUpdated)&&Rt(()=>mn(Te,te,J,ve),H)}else{let J;const{el:ue,props:ge}=E,{bm:te,m:ve,parent:ye}=A,Te=Ri(E);if(dr(A,!1),te&&zs(te),!Te&&(J=ge&&ge.onVnodeBeforeMount)&&mn(J,ye,E),dr(A,!0),ue&&oe){const Re=()=>{A.subTree=ua(A),oe(ue,A.subTree,A,H,null)};Te?E.type.__asyncLoader().then(()=>!A.isUnmounted&&Re()):Re()}else{const Re=A.subTree=ua(A);g(null,Re,k,$,A,H,j),E.el=Re.el}if(ve&&Rt(ve,H),!Te&&(J=ge&&ge.onVnodeMounted)){const Re=E;Rt(()=>mn(J,ye,Re),H)}(E.shapeFlag&256||ye&&Ri(ye.vnode)&&ye.vnode.shapeFlag&256)&&A.a&&Rt(A.a,H),A.isMounted=!0,E=k=$=null}},ae=A.effect=new Xl(ee,()=>ec(ie),A.scope),ie=A.update=()=>ae.run();ie.id=A.uid,dr(A,!0),ie()},V=(A,E,k)=>{E.component=A;const $=A.vnode.props;A.vnode=E,A.next=null,d_(A,E.props,$,k),v_(A,E.children,k),ui(),Du(),fi()},Z=(A,E,k,$,H,j,Y,ee,ae=!1)=>{const ie=A&&A.children,J=A?A.shapeFlag:0,ue=E.children,{patchFlag:ge,shapeFlag:te}=E;if(ge>0){if(ge&128){I(ie,ue,k,$,H,j,Y,ee,ae);return}else if(ge&256){T(ie,ue,k,$,H,j,Y,ee,ae);return}}te&8?(J&16&&U(ie,H,j),ue!==ie&&f(k,ue)):J&16?te&16?I(ie,ue,k,$,H,j,Y,ee,ae):U(ie,H,j,!0):(J&8&&f(k,""),te&16&&O(ue,k,$,H,j,Y,ee,ae))},T=(A,E,k,$,H,j,Y,ee,ae)=>{A=A||Yr,E=E||Yr;const ie=A.length,J=E.length,ue=Math.min(ie,J);let ge;for(ge=0;ge<ue;ge++){const te=E[ge]=ae?er(E[ge]):_n(E[ge]);g(A[ge],te,k,null,H,j,Y,ee,ae)}ie>J?U(A,H,j,!0,!1,ue):O(E,k,$,H,j,Y,ee,ae,ue)},I=(A,E,k,$,H,j,Y,ee,ae)=>{let ie=0;const J=E.length;let ue=A.length-1,ge=J-1;for(;ie<=ue&&ie<=ge;){const te=A[ie],ve=E[ie]=ae?er(E[ie]):_n(E[ie]);if(_r(te,ve))g(te,ve,k,null,H,j,Y,ee,ae);else break;ie++}for(;ie<=ue&&ie<=ge;){const te=A[ue],ve=E[ge]=ae?er(E[ge]):_n(E[ge]);if(_r(te,ve))g(te,ve,k,null,H,j,Y,ee,ae);else break;ue--,ge--}if(ie>ue){if(ie<=ge){const te=ge+1,ve=te<J?E[te].el:$;for(;ie<=ge;)g(null,E[ie]=ae?er(E[ie]):_n(E[ie]),k,ve,H,j,Y,ee,ae),ie++}}else if(ie>ge)for(;ie<=ue;)D(A[ie],H,j,!0),ie++;else{const te=ie,ve=ie,ye=new Map;for(ie=ve;ie<=ge;ie++){const et=E[ie]=ae?er(E[ie]):_n(E[ie]);et.key!=null&&ye.set(et.key,ie)}let Te,Re=0;const nt=ge-ve+1;let Ot=!1,Ct=0;const pn=new Array(nt);for(ie=0;ie<nt;ie++)pn[ie]=0;for(ie=te;ie<=ue;ie++){const et=A[ie];if(Re>=nt){D(et,H,j,!0);continue}let vt;if(et.key!=null)vt=ye.get(et.key);else for(Te=ve;Te<=ge;Te++)if(pn[Te-ve]===0&&_r(et,E[Te])){vt=Te;break}vt===void 0?D(et,H,j,!0):(pn[vt-ve]=ie+1,vt>=Ct?Ct=vt:Ot=!0,g(et,E[vt],k,null,H,j,Y,ee,ae),Re++)}const ur=Ot?y_(pn):Yr;for(Te=ur.length-1,ie=nt-1;ie>=0;ie--){const et=ve+ie,vt=E[et],_i=et+1<J?E[et+1].el:$;pn[ie]===0?g(null,vt,k,_i,H,j,Y,ee,ae):Ot&&(Te<0||ie!==ur[Te]?F(vt,k,_i,2):Te--)}}},F=(A,E,k,$,H=null)=>{const{el:j,type:Y,transition:ee,children:ae,shapeFlag:ie}=A;if(ie&6){F(A.component.subTree,E,k,$);return}if(ie&128){A.suspense.move(E,k,$);return}if(ie&64){Y.move(A,E,k,N);return}if(Y===Me){r(j,E,k);for(let ue=0;ue<ae.length;ue++)F(ae[ue],E,k,$);r(A.anchor,E,k);return}if(Y===Hs){y(A,E,k);return}if($!==2&&ie&1&&ee)if($===0)ee.beforeEnter(j),r(j,E,k),Rt(()=>ee.enter(j),H);else{const{leave:ue,delayLeave:ge,afterLeave:te}=ee,ve=()=>r(j,E,k),ye=()=>{ue(j,()=>{ve(),te&&te()})};ge?ge(j,ve,ye):ye()}else r(j,E,k)},D=(A,E,k,$=!1,H=!1)=>{const{type:j,props:Y,ref:ee,children:ae,dynamicChildren:ie,shapeFlag:J,patchFlag:ue,dirs:ge}=A;if(ee!=null&&il(ee,null,k,A,!0),J&256){E.ctx.deactivate(A);return}const te=J&1&&ge,ve=!Ri(A);let ye;if(ve&&(ye=Y&&Y.onVnodeBeforeUnmount)&&mn(ye,E,A),J&6)P(A.component,k,$);else{if(J&128){A.suspense.unmount(k,$);return}te&&hr(A,null,E,"beforeUnmount"),J&64?A.type.remove(A,E,k,H,N,$):ie&&(j!==Me||ue>0&&ue&64)?U(ie,E,k,!1,!0):(j===Me&&ue&384||!H&&J&16)&&U(ae,E,k),$&&ne(A)}(ve&&(ye=Y&&Y.onVnodeUnmounted)||te)&&Rt(()=>{ye&&mn(ye,E,A),te&&hr(A,null,E,"unmounted")},k)},ne=A=>{const{type:E,el:k,anchor:$,transition:H}=A;if(E===Me){M(k,$);return}if(E===Hs){b(A);return}const j=()=>{s(k),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(A.shapeFlag&1&&H&&!H.persisted){const{leave:Y,delayLeave:ee}=H,ae=()=>Y(k,j);ee?ee(A.el,j,ae):ae()}else j()},M=(A,E)=>{let k;for(;A!==E;)k=l(A),s(A),A=k;s(E)},P=(A,E,k)=>{const{bum:$,scope:H,update:j,subTree:Y,um:ee}=A;$&&zs($),H.stop(),j&&(j.active=!1,D(Y,A,E,k)),ee&&Rt(ee,E),Rt(()=>{A.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},U=(A,E,k,$=!1,H=!1,j=0)=>{for(let Y=j;Y<A.length;Y++)D(A[Y],E,k,$,H)},R=A=>A.shapeFlag&6?R(A.component.subTree):A.shapeFlag&128?A.suspense.next():l(A.anchor||A.el),L=(A,E,k)=>{A==null?E._vnode&&D(E._vnode,null,null,!0):g(E._vnode||null,A,E,null,null,null,k),Du(),Jd(),E._vnode=A},N={p:g,um:D,m:F,r:ne,mt:se,mc:O,pc:Z,pbc:W,n:R,o:e};let Q,oe;return t&&([Q,oe]=t(N)),{render:L,hydrate:Q,createApp:f_(L,Q)}}function dr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ac(e,t,n=!1){const r=e.children,s=t.children;if(Oe(r)&&Oe(s))for(let p=0;p<r.length;p++){const m=r[p];let c=s[p];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[p]=er(s[p]),c.el=m.el),n||ac(m,c)),c.type===di&&(c.el=m.el)}}function y_(e){const t=e.slice(),n=[0];let r,s,p,m,c;const i=e.length;for(r=0;r<i;r++){const h=e[r];if(h!==0){if(s=n[n.length-1],e[s]<h){t[r]=s,n.push(r);continue}for(p=0,m=n.length-1;p<m;)c=p+m>>1,e[n[c]]<h?p=c+1:m=c;h<e[n[p]]&&(p>0&&(t[r]=n[p-1]),n[p]=r)}}for(p=n.length,m=n[p-1];p-- >0;)n[p]=m,m=t[m];return n}const b_=e=>e.__isTeleport,Ii=e=>e&&(e.disabled||e.disabled===""),Xu=e=>typeof SVGElement<"u"&&e instanceof SVGElement,sl=(e,t)=>{const n=e&&e.to;return Be(n)?t?t(n):null:n},w_={__isTeleport:!0,process(e,t,n,r,s,p,m,c,i,h){const{mc:f,pc:o,pbc:l,o:{insert:a,querySelector:u,createText:g,createComment:d}}=h,v=Ii(t.props);let{shapeFlag:_,children:y,dynamicChildren:b}=t;if(e==null){const w=t.el=g(""),C=t.anchor=g("");a(w,n,r),a(C,n,r);const S=t.target=sl(t.props,u),O=t.targetAnchor=g("");S&&(a(O,S),m=m||Xu(S));const B=(W,K)=>{_&16&&f(y,W,K,s,p,m,c,i)};v?B(n,C):S&&B(S,O)}else{t.el=e.el;const w=t.anchor=e.anchor,C=t.target=e.target,S=t.targetAnchor=e.targetAnchor,O=Ii(e.props),B=O?n:C,W=O?w:S;if(m=m||Xu(C),b?(l(e.dynamicChildren,b,B,s,p,m,c),ac(e,t,!0)):i||o(e,t,B,W,s,p,m,c,!1),v)O||Ps(t,n,w,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const K=t.target=sl(t.props,u);K&&Ps(t,K,null,h,0)}else O&&Ps(t,C,S,h,1)}bp(t)},remove(e,t,n,r,{um:s,o:{remove:p}},m){const{shapeFlag:c,children:i,anchor:h,targetAnchor:f,target:o,props:l}=e;if(o&&p(f),(m||!Ii(l))&&(p(h),c&16))for(let a=0;a<i.length;a++){const u=i[a];s(u,t,n,!0,!!u.dynamicChildren)}},move:Ps,hydrate:C_};function Ps(e,t,n,{o:{insert:r},m:s},p=2){p===0&&r(e.targetAnchor,t,n);const{el:m,anchor:c,shapeFlag:i,children:h,props:f}=e,o=p===2;if(o&&r(m,t,n),(!o||Ii(f))&&i&16)for(let l=0;l<h.length;l++)s(h[l],t,n,2);o&&r(c,t,n)}function C_(e,t,n,r,s,p,{o:{nextSibling:m,parentNode:c,querySelector:i}},h){const f=t.target=sl(t.props,i);if(f){const o=f._lpa||f.firstChild;if(t.shapeFlag&16)if(Ii(t.props))t.anchor=h(m(e),t,c(e),n,r,s,p),t.targetAnchor=o;else{t.anchor=m(e);let l=o;for(;l;)if(l=m(l),l&&l.nodeType===8&&l.data==="teleport anchor"){t.targetAnchor=l,f._lpa=t.targetAnchor&&m(t.targetAnchor);break}h(o,t,f,n,r,s,p)}bp(t)}return t.anchor&&m(t.anchor)}const lc=w_;function bp(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Me=Symbol.for("v-fgt"),di=Symbol.for("v-txt"),Ut=Symbol.for("v-cmt"),Hs=Symbol.for("v-stc"),Di=[];let an=null;function X(e=!1){Di.push(an=e?null:[])}function S_(){Di.pop(),an=Di[Di.length-1]||null}let Ji=1;function Vu(e){Ji+=e}function wp(e){return e.dynamicChildren=Ji>0?an||Yr:null,S_(),Ji>0&&an&&an.push(e),e}function le(e,t,n,r,s,p){return wp(G(e,t,n,r,s,p,!0))}function Se(e,t,n,r,s){return wp(pe(e,t,n,r,s,!0))}function qr(e){return e?e.__v_isVNode===!0:!1}function _r(e,t){return e.type===t.type&&e.key===t.key}const Fo="__vInternal",Cp=({key:e})=>e??null,Us=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Be(e)||ct(e)||Pe(e)?{i:bt,r:e,k:t,f:!!n}:e:null);function G(e,t=null,n=null,r=0,s=null,p=e===Me?0:1,m=!1,c=!1){const i={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Cp(t),ref:t&&Us(t),scopeId:Ao,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:bt};return c?(cc(i,n),p&128&&e.normalize(i)):n&&(i.shapeFlag|=Be(n)?8:16),Ji>0&&!m&&an&&(i.patchFlag>0||p&6)&&i.patchFlag!==32&&an.push(i),i}const pe=x_;function x_(e,t=null,n=null,r=0,s=null,p=!1){if((!e||e===lp)&&(e=Ut),qr(e)){const c=jn(e,t,!0);return n&&cc(c,n),Ji>0&&!p&&an&&(c.shapeFlag&6?an[an.indexOf(e)]=c:an.push(c)),c.patchFlag|=-2,c}if(I_(e)&&(e=e.__vccOpts),t){t=Sp(t);let{class:c,style:i}=t;c&&!Be(c)&&(t.class=me(c)),$e(i)&&(Wd(i)&&!Oe(i)&&(i=rt({},i)),t.style=Ue(i))}const m=Be(e)?1:X0(e)?128:b_(e)?64:$e(e)?4:Pe(e)?2:0;return G(e,t,n,r,s,m,p,!0)}function Sp(e){return e?Wd(e)||Fo in e?rt({},e):e:null}function jn(e,t,n=!1){const{props:r,ref:s,patchFlag:p,children:m}=e,c=t?gt(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Cp(c),ref:t&&t.ref?n&&s?Oe(s)?s.concat(Us(t)):[s,Us(t)]:Us(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:m,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?p===-1?16:p|16:p,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&jn(e.ssContent),ssFallback:e.ssFallback&&jn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function hs(e=" ",t=0){return pe(di,null,e,t)}function T_(e,t){const n=pe(Hs,null,e);return n.staticCount=t,n}function be(e="",t=!1){return t?(X(),Se(Ut,null,e)):pe(Ut,null,e)}function _n(e){return e==null||typeof e=="boolean"?pe(Ut):Oe(e)?pe(Me,null,e.slice()):typeof e=="object"?er(e):pe(di,null,String(e))}function er(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:jn(e)}function cc(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Oe(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),cc(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Fo in t)?t._ctx=bt:s===3&&bt&&(bt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Pe(t)?(t={default:t,_ctx:bt},n=32):(t=String(t),r&64?(n=16,t=[hs(t)]):n=8);e.children=t,e.shapeFlag|=n}function gt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=me([t.class,r.class]));else if(s==="style")t.style=Ue([t.style,r.style]);else if(Co(s)){const p=t[s],m=r[s];m&&p!==m&&!(Oe(p)&&p.includes(m))&&(t[s]=p?[].concat(p,m):m)}else s!==""&&(t[s]=r[s])}return t}function mn(e,t,n,r=null){Jt(e,t,7,[n,r])}const O_=pp();let E_=0;function P_(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||O_,p={uid:E_++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Rd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vp(r,s),emitsOptions:Qd(r,s),emit:null,emitted:null,propsDefaults:qe,inheritAttrs:r.inheritAttrs,ctx:qe,data:qe,props:qe,attrs:qe,slots:qe,refs:qe,setupState:qe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=t?t.root:p,p.emit=z0.bind(null,p),e.ce&&e.ce(p),p}let dt=null;const xt=()=>dt||bt;let uc,Br,Gu="__VUE_INSTANCE_SETTERS__";(Br=Ga()[Gu])||(Br=Ga()[Gu]=[]),Br.push(e=>dt=e),uc=e=>{Br.length>1?Br.forEach(t=>t(e)):Br[0](e)};const Jr=e=>{uc(e),e.scope.on()},Sr=()=>{dt&&dt.scope.off(),uc(null)};function xp(e){return e.vnode.shapeFlag&4}let Zi=!1;function k_(e,t=!1){Zi=t;const{props:n,children:r}=e.vnode,s=xp(e);h_(e,n,s,t),g_(e,r);const p=s?A_(e,t):void 0;return Zi=!1,p}function A_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=no(new Proxy(e.ctx,i_));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?Op(e):null;Jr(e),ui();const p=or(r,e,0,[e.props,s]);if(fi(),Sr(),Od(p)){if(p.then(Sr,Sr),t)return p.then(m=>{Ku(e,m,t)}).catch(m=>{Po(m,e,0)});e.asyncDep=p}else Ku(e,p,t)}else Tp(e,t)}function Ku(e,t,n){Pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:$e(t)&&(e.setupState=Gd(t)),Tp(e,n)}let qu;function Tp(e,t,n){const r=e.type;if(!e.render){if(!t&&qu&&!r.render){const s=r.template||sc(e).template;if(s){const{isCustomElement:p,compilerOptions:m}=e.appContext.config,{delimiters:c,compilerOptions:i}=r,h=rt(rt({isCustomElement:p,delimiters:c},m),i);r.render=qu(s,h)}}e.render=r.render||Ne}Jr(e),ui(),s_(e),fi(),Sr()}function R_(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Ft(e,"get","$attrs"),t[n]}}))}function Op(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return R_(e)},slots:e.slots,emit:e.emit,expose:t}}function Lo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Gd(no(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Mi)return Mi[n](e)},has(t,n){return n in t||n in Mi}}))}function M_(e,t=!0){return Pe(e)?e.displayName||e.name:e.name||t&&e.__name}function I_(e){return Pe(e)&&"__vccOpts"in e}const q=(e,t)=>D0(e,t,Zi);function fc(e,t,n){const r=arguments.length;return r===2?$e(t)&&!Oe(t)?qr(t)?pe(e,null,[t]):pe(e,t):pe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&qr(n)&&(n=[n]),pe(e,t,n))}const D_=Symbol.for("v-scx"),F_=()=>ke(D_),L_="3.3.4",B_="http://www.w3.org/2000/svg",yr=typeof document<"u"?document:null,Ju=yr&&yr.createElement("template"),$_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?yr.createElementNS(B_,e):yr.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>yr.createTextNode(e),createComment:e=>yr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>yr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,p){const m=n?n.previousSibling:t.lastChild;if(s&&(s===p||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===p||!(s=s.nextSibling)););else{Ju.innerHTML=r?`<svg>${e}</svg>`:e;const c=Ju.content;if(r){const i=c.firstChild;for(;i.firstChild;)c.appendChild(i.firstChild);c.removeChild(i)}t.insertBefore(c,n)}return[m?m.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function j_(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function N_(e,t,n){const r=e.style,s=Be(n);if(n&&!s){if(t&&!Be(t))for(const p in t)n[p]==null&&ol(r,p,"");for(const p in n)ol(r,p,n[p])}else{const p=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=p)}}const Zu=/\s*!important$/;function ol(e,t,n){if(Oe(n))n.forEach(r=>ol(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=z_(e,t);Zu.test(n)?e.setProperty(Pr(r),n.replace(Zu,""),"important"):e[r]=n}}const Qu=["Webkit","Moz","ms"],da={};function z_(e,t){const n=da[t];if(n)return n;let r=cn(t);if(r!=="filter"&&r in e)return da[t]=r;r=To(r);for(let s=0;s<Qu.length;s++){const p=Qu[s]+r;if(p in e)return da[t]=p}return t}const ef="http://www.w3.org/1999/xlink";function H_(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ef,t.slice(6,t.length)):e.setAttributeNS(ef,t,n);else{const p=Jm(t);n==null||p&&!Pd(n)?e.removeAttribute(t):e.setAttribute(t,p?"":n)}}function U_(e,t,n,r,s,p,m){if(t==="innerHTML"||t==="textContent"){r&&m(r,s,p),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=n;const h=c==="OPTION"?e.getAttribute("value"):e.value,f=n??"";h!==f&&(e.value=f),n==null&&e.removeAttribute(t);return}let i=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=Pd(n):n==null&&h==="string"?(n="",i=!0):h==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(t)}function Ep(e,t,n,r){e.addEventListener(t,n,r)}function W_(e,t,n,r){e.removeEventListener(t,n,r)}function Y_(e,t,n,r,s=null){const p=e._vei||(e._vei={}),m=p[t];if(r&&m)m.value=r;else{const[c,i]=X_(t);if(r){const h=p[t]=K_(r,s);Ep(e,c,h,i)}else m&&(W_(e,c,m,i),p[t]=void 0)}}const tf=/(?:Once|Passive|Capture)$/;function X_(e){let t;if(tf.test(e)){t={};let r;for(;r=e.match(tf);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Pr(e.slice(2)),t]}let pa=0;const V_=Promise.resolve(),G_=()=>pa||(V_.then(()=>pa=0),pa=Date.now());function K_(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Jt(q_(r,n.value),t,5,[r])};return n.value=e,n.attached=G_(),n}function q_(e,t){if(Oe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const nf=/^on[a-z]/,J_=(e,t,n,r,s=!1,p,m,c,i)=>{t==="class"?j_(e,r,s):t==="style"?N_(e,n,r):Co(t)?Hl(t)||Y_(e,t,n,r,m):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Z_(e,t,r,s))?U_(e,t,r,p,m,c,i):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),H_(e,t,r,s))};function Z_(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&nf.test(t)&&Pe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nf.test(t)&&Be(n)?!1:t in e}const Gn="transition",wi="animation",On=(e,{slots:t})=>fc(q0,kp(e),t);On.displayName="Transition";const Pp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Q_=On.props=rt({},rp,Pp),pr=(e,t=[])=>{Oe(e)?e.forEach(n=>n(...t)):e&&e(...t)},rf=e=>e?Oe(e)?e.some(t=>t.length>1):e.length>1:!1;function kp(e){const t={};for(const z in e)z in Pp||(t[z]=e[z]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:p=`${n}-enter-from`,enterActiveClass:m=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:i=p,appearActiveClass:h=m,appearToClass:f=c,leaveFromClass:o=`${n}-leave-from`,leaveActiveClass:l=`${n}-leave-active`,leaveToClass:a=`${n}-leave-to`}=e,u=ey(s),g=u&&u[0],d=u&&u[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:y,onLeave:b,onLeaveCancelled:w,onBeforeAppear:C=v,onAppear:S=_,onAppearCancelled:O=y}=t,B=(z,re,se)=>{Zn(z,re?f:c),Zn(z,re?h:m),se&&se()},W=(z,re)=>{z._isLeaving=!1,Zn(z,o),Zn(z,a),Zn(z,l),re&&re()},K=z=>(re,se)=>{const ce=z?S:_,he=()=>B(re,z,se);pr(ce,[re,he]),sf(()=>{Zn(re,z?i:p),In(re,z?f:c),rf(ce)||of(re,r,g,he)})};return rt(t,{onBeforeEnter(z){pr(v,[z]),In(z,p),In(z,m)},onBeforeAppear(z){pr(C,[z]),In(z,i),In(z,h)},onEnter:K(!1),onAppear:K(!0),onLeave(z,re){z._isLeaving=!0;const se=()=>W(z,re);In(z,o),Rp(),In(z,l),sf(()=>{z._isLeaving&&(Zn(z,o),In(z,a),rf(b)||of(z,r,d,se))}),pr(b,[z,se])},onEnterCancelled(z){B(z,!1),pr(y,[z])},onAppearCancelled(z){B(z,!0),pr(O,[z])},onLeaveCancelled(z){W(z),pr(w,[z])}})}function ey(e){if(e==null)return null;if($e(e))return[ga(e.enter),ga(e.leave)];{const t=ga(e);return[t,t]}}function ga(e){return Wm(e)}function In(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Zn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function sf(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ty=0;function of(e,t,n,r){const s=e._endId=++ty,p=()=>{s===e._endId&&r()};if(n)return setTimeout(p,n);const{type:m,timeout:c,propCount:i}=Ap(e,t);if(!m)return r();const h=m+"end";let f=0;const o=()=>{e.removeEventListener(h,l),p()},l=a=>{a.target===e&&++f>=i&&o()};setTimeout(()=>{f<i&&o()},c+1),e.addEventListener(h,l)}function Ap(e,t){const n=window.getComputedStyle(e),r=u=>(n[u]||"").split(", "),s=r(`${Gn}Delay`),p=r(`${Gn}Duration`),m=af(s,p),c=r(`${wi}Delay`),i=r(`${wi}Duration`),h=af(c,i);let f=null,o=0,l=0;t===Gn?m>0&&(f=Gn,o=m,l=p.length):t===wi?h>0&&(f=wi,o=h,l=i.length):(o=Math.max(m,h),f=o>0?m>h?Gn:wi:null,l=f?f===Gn?p.length:i.length:0);const a=f===Gn&&/\b(transform|all)(,|$)/.test(r(`${Gn}Property`).toString());return{type:f,timeout:o,propCount:l,hasTransform:a}}function af(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>lf(n)+lf(e[r])))}function lf(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Rp(){return document.body.offsetHeight}const Mp=new WeakMap,Ip=new WeakMap,Dp={name:"TransitionGroup",props:rt({},Q_,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=xt(),r=np();let s,p;return nc(()=>{if(!s.length)return;const m=e.moveClass||`${e.name||"v"}-move`;if(!ay(s[0].el,n.vnode.el,m))return;s.forEach(iy),s.forEach(sy);const c=s.filter(oy);Rp(),c.forEach(i=>{const h=i.el,f=h.style;In(h,m),f.transform=f.webkitTransform=f.transitionDuration="";const o=h._moveCb=l=>{l&&l.target!==h||(!l||/transform$/.test(l.propertyName))&&(h.removeEventListener("transitionend",o),h._moveCb=null,Zn(h,m))};h.addEventListener("transitionend",o)})}),()=>{const m=De(e),c=kp(m);let i=m.tag||Me;s=p,p=t.default?tc(t.default()):[];for(let h=0;h<p.length;h++){const f=p[h];f.key!=null&&qi(f,Ki(f,c,r,n))}if(s)for(let h=0;h<s.length;h++){const f=s[h];qi(f,Ki(f,c,r,n)),Mp.set(f,f.el.getBoundingClientRect())}return pe(i,null,p)}}},ny=e=>delete e.mode;Dp.props;const ry=Dp;function iy(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function sy(e){Ip.set(e,e.el.getBoundingClientRect())}function oy(e){const t=Mp.get(e),n=Ip.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const p=e.el.style;return p.transform=p.webkitTransform=`translate(${r}px,${s}px)`,p.transitionDuration="0s",e}}function ay(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(m=>{m.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),n.split(/\s+/).forEach(m=>m&&r.classList.add(m)),r.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(r);const{hasTransform:p}=Ap(r);return s.removeChild(r),p}const cf=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Oe(t)?n=>zs(t,n):t},ly={deep:!0,created(e,t,n){e._assign=cf(n),Ep(e,"change",()=>{const r=e._modelValue,s=cy(e),p=e.checked,m=e._assign;if(Oe(r)){const c=kd(r,s),i=c!==-1;if(p&&!i)m(r.concat(s));else if(!p&&i){const h=[...r];h.splice(c,1),m(h)}}else if(So(r)){const c=new Set(r);p?c.add(s):c.delete(s),m(c)}else m(Fp(e,p))})},mounted:uf,beforeUpdate(e,t,n){e._assign=cf(n),uf(e,t,n)}};function uf(e,{value:t,oldValue:n},r){e._modelValue=t,Oe(t)?e.checked=kd(t,r.props.value)>-1:So(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Oo(t,Fp(e,!0)))}function cy(e){return"_value"in e?e._value:e.value}function Fp(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const uy=["ctrl","shift","alt","meta"],fy={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>uy.some(n=>e[`${n}Key`]&&!t.includes(n))},Mt=(e,t)=>(n,...r)=>{for(let s=0;s<t.length;s++){const p=fy[t[s]];if(p&&p(n,t))return}return e(n,...r)},hy={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Lp=(e,t)=>n=>{if(!("key"in n))return;const r=Pr(n.key);if(t.some(s=>s===r||hy[s]===r))return e(n)},pt={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ci(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ci(e,!0),r.enter(e)):r.leave(e,()=>{Ci(e,!1)}):Ci(e,t))},beforeUnmount(e,{value:t}){Ci(e,t)}};function Ci(e,t){e.style.display=t?e._vod:"none"}const dy=rt({patchProp:J_},$_);let ff;function Bp(){return ff||(ff=m_(dy))}const hf=(...e)=>{Bp().render(...e)},py=(...e)=>{const t=Bp().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=gy(r);if(!s)return;const p=t._component;!Pe(p)&&!p.render&&!p.template&&(p.template=s.innerHTML),s.innerHTML="";const m=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),m},t};function gy(e){return Be(e)?document.querySelector(e):e}const Tt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},vy={};function my(e,t,n,r,s,p){const m=Xe("router-view");return X(),Se(m)}const _y=Tt(vy,[["render",my]]);function yy(){return $p().__VUE_DEVTOOLS_GLOBAL_HOOK__}function $p(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const by=typeof Proxy=="function",wy="devtools-plugin:setup",Cy="plugin:settings:set";let $r,al;function Sy(){var e;return $r!==void 0||(typeof window<"u"&&window.performance?($r=!0,al=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?($r=!0,al=global.perf_hooks.performance):$r=!1),$r}function xy(){return Sy()?al.now():Date.now()}class Ty{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const m in t.settings){const c=t.settings[m];r[m]=c.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let p=Object.assign({},r);try{const m=localStorage.getItem(s),c=JSON.parse(m);Object.assign(p,c)}catch{}this.fallbacks={getSettings(){return p},setSettings(m){try{localStorage.setItem(s,JSON.stringify(m))}catch{}p=m},now(){return xy()}},n&&n.on(Cy,(m,c)=>{m===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(m,c)=>this.target?this.target.on[c]:(...i)=>{this.onQueue.push({method:c,args:i})}}),this.proxiedTarget=new Proxy({},{get:(m,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...i)=>(this.targetQueue.push({method:c,args:i,resolve:()=>{}}),this.fallbacks[c](...i)):(...i)=>new Promise(h=>{this.targetQueue.push({method:c,args:i,resolve:h})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Oy(e,t){const n=e,r=$p(),s=yy(),p=by&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!p))s.emit(wy,e,t);else{const m=p?new Ty(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:m}),m&&t(m.proxiedTarget)}}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const zr=typeof window<"u";function Ey(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ye=Object.assign;function va(e,t){const n={};for(const r in t){const s=t[r];n[r]=un(s)?s.map(e):e(s)}return n}const Fi=()=>{},un=Array.isArray,Py=/\/$/,ky=e=>e.replace(Py,"");function ma(e,t,n="/"){let r,s={},p="",m="";const c=t.indexOf("#");let i=t.indexOf("?");return c<i&&c>=0&&(i=-1),i>-1&&(r=t.slice(0,i),p=t.slice(i+1,c>-1?c:t.length),s=e(p)),c>-1&&(r=r||t.slice(0,c),m=t.slice(c,t.length)),r=Iy(r??t,n),{fullPath:r+(p&&"?")+p+m,path:r,query:s,hash:m}}function Ay(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function df(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Ry(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Zr(t.matched[r],n.matched[s])&&jp(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Zr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function jp(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!My(e[n],t[n]))return!1;return!0}function My(e,t){return un(e)?pf(e,t):un(t)?pf(t,e):e===t}function pf(e,t){return un(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Iy(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let p=n.length-1,m,c;for(m=0;m<r.length;m++)if(c=r[m],c!==".")if(c==="..")p>1&&p--;else break;return n.slice(0,p).join("/")+"/"+r.slice(m-(m===r.length?1:0)).join("/")}var Qi;(function(e){e.pop="pop",e.push="push"})(Qi||(Qi={}));var Li;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Li||(Li={}));function Dy(e){if(!e)if(zr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ky(e)}const Fy=/^[^#]+#/;function Ly(e,t){return e.replace(Fy,"#")+t}function By(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Bo=()=>({left:window.pageXOffset,top:window.pageYOffset});function $y(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=By(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function gf(e,t){return(history.state?history.state.position-t:-1)+e}const ll=new Map;function jy(e,t){ll.set(e,t)}function Ny(e){const t=ll.get(e);return ll.delete(e),t}let zy=()=>location.protocol+"//"+location.host;function Np(e,t){const{pathname:n,search:r,hash:s}=t,p=e.indexOf("#");if(p>-1){let c=s.includes(e.slice(p))?e.slice(p).length:1,i=s.slice(c);return i[0]!=="/"&&(i="/"+i),df(i,"")}return df(n,e)+r+s}function Hy(e,t,n,r){let s=[],p=[],m=null;const c=({state:l})=>{const a=Np(e,location),u=n.value,g=t.value;let d=0;if(l){if(n.value=a,t.value=l,m&&m===u){m=null;return}d=g?l.position-g.position:0}else r(a);s.forEach(v=>{v(n.value,u,{delta:d,type:Qi.pop,direction:d?d>0?Li.forward:Li.back:Li.unknown})})};function i(){m=n.value}function h(l){s.push(l);const a=()=>{const u=s.indexOf(l);u>-1&&s.splice(u,1)};return p.push(a),a}function f(){const{history:l}=window;l.state&&l.replaceState(Ye({},l.state,{scroll:Bo()}),"")}function o(){for(const l of p)l();p=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:i,listen:h,destroy:o}}function vf(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Bo():null}}function Uy(e){const{history:t,location:n}=window,r={value:Np(e,n)},s={value:t.state};s.value||p(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function p(i,h,f){const o=e.indexOf("#"),l=o>-1?(n.host&&document.querySelector("base")?e:e.slice(o))+i:zy()+e+i;try{t[f?"replaceState":"pushState"](h,"",l),s.value=h}catch(a){console.error(a),n[f?"replace":"assign"](l)}}function m(i,h){const f=Ye({},t.state,vf(s.value.back,i,s.value.forward,!0),h,{position:s.value.position});p(i,f,!0),r.value=i}function c(i,h){const f=Ye({},s.value,t.state,{forward:i,scroll:Bo()});p(f.current,f,!0);const o=Ye({},vf(r.value,i,null),{position:f.position+1},h);p(i,o,!1),r.value=i}return{location:r,state:s,push:c,replace:m}}function Wy(e){e=Dy(e);const t=Uy(e),n=Hy(e,t.state,t.location,t.replace);function r(p,m=!0){m||n.pauseListeners(),history.go(p)}const s=Ye({location:"",base:e,go:r,createHref:Ly.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Yy(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Wy(e)}function Xy(e){return typeof e=="string"||e&&typeof e=="object"}function zp(e){return typeof e=="string"||typeof e=="symbol"}const Kn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Hp=Symbol("");var mf;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(mf||(mf={}));function Qr(e,t){return Ye(new Error,{type:e,[Hp]:!0},t)}function Rn(e,t){return e instanceof Error&&Hp in e&&(t==null||!!(e.type&t))}const _f="[^/]+?",Vy={sensitive:!1,strict:!1,start:!0,end:!0},Gy=/[.+*?^${}()[\]/\\]/g;function Ky(e,t){const n=Ye({},Vy,t),r=[];let s=n.start?"^":"";const p=[];for(const h of e){const f=h.length?[]:[90];n.strict&&!h.length&&(s+="/");for(let o=0;o<h.length;o++){const l=h[o];let a=40+(n.sensitive?.25:0);if(l.type===0)o||(s+="/"),s+=l.value.replace(Gy,"\\$&"),a+=40;else if(l.type===1){const{value:u,repeatable:g,optional:d,regexp:v}=l;p.push({name:u,repeatable:g,optional:d});const _=v||_f;if(_!==_f){a+=10;try{new RegExp(`(${_})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${u}" (${_}): `+b.message)}}let y=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;o||(y=d&&h.length<2?`(?:/${y})`:"/"+y),d&&(y+="?"),s+=y,a+=20,d&&(a+=-8),g&&(a+=-20),_===".*"&&(a+=-50)}f.push(a)}r.push(f)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const m=new RegExp(s,n.sensitive?"":"i");function c(h){const f=h.match(m),o={};if(!f)return null;for(let l=1;l<f.length;l++){const a=f[l]||"",u=p[l-1];o[u.name]=a&&u.repeatable?a.split("/"):a}return o}function i(h){let f="",o=!1;for(const l of e){(!o||!f.endsWith("/"))&&(f+="/"),o=!1;for(const a of l)if(a.type===0)f+=a.value;else if(a.type===1){const{value:u,repeatable:g,optional:d}=a,v=u in h?h[u]:"";if(un(v)&&!g)throw new Error(`Provided param "${u}" is an array but it is not repeatable (* or + modifiers)`);const _=un(v)?v.join("/"):v;if(!_)if(d)l.length<2&&(f.endsWith("/")?f=f.slice(0,-1):o=!0);else throw new Error(`Missing required param "${u}"`);f+=_}}return f||"/"}return{re:m,score:r,keys:p,parse:c,stringify:i}}function qy(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Jy(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const p=qy(r[n],s[n]);if(p)return p;n++}if(Math.abs(s.length-r.length)===1){if(yf(r))return 1;if(yf(s))return-1}return s.length-r.length}function yf(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Zy={type:0,value:""},Qy=/[a-zA-Z0-9_]/;function eb(e){if(!e)return[[]];if(e==="/")return[[Zy]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(a){throw new Error(`ERR (${n})/"${h}": ${a}`)}let n=0,r=n;const s=[];let p;function m(){p&&s.push(p),p=[]}let c=0,i,h="",f="";function o(){h&&(n===0?p.push({type:0,value:h}):n===1||n===2||n===3?(p.length>1&&(i==="*"||i==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),p.push({type:1,value:h,regexp:f,repeatable:i==="*"||i==="+",optional:i==="*"||i==="?"})):t("Invalid state to consume buffer"),h="")}function l(){h+=i}for(;c<e.length;){if(i=e[c++],i==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:i==="/"?(h&&o(),m()):i===":"?(o(),n=1):l();break;case 4:l(),n=r;break;case 1:i==="("?n=2:Qy.test(i)?l():(o(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&c--);break;case 2:i===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+i:n=3:f+=i;break;case 3:o(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&c--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),o(),m(),s}function tb(e,t,n){const r=Ky(eb(e.path),n),s=Ye(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function nb(e,t){const n=[],r=new Map;t=Cf({strict:!1,end:!0,sensitive:!1},t);function s(f){return r.get(f)}function p(f,o,l){const a=!l,u=rb(f);u.aliasOf=l&&l.record;const g=Cf(t,f),d=[u];if("alias"in f){const y=typeof f.alias=="string"?[f.alias]:f.alias;for(const b of y)d.push(Ye({},u,{components:l?l.record.components:u.components,path:b,aliasOf:l?l.record:u}))}let v,_;for(const y of d){const{path:b}=y;if(o&&b[0]!=="/"){const w=o.record.path,C=w[w.length-1]==="/"?"":"/";y.path=o.record.path+(b&&C+b)}if(v=tb(y,o,g),l?l.alias.push(v):(_=_||v,_!==v&&_.alias.push(v),a&&f.name&&!wf(v)&&m(f.name)),u.children){const w=u.children;for(let C=0;C<w.length;C++)p(w[C],v,l&&l.children[C])}l=l||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&i(v)}return _?()=>{m(_)}:Fi}function m(f){if(zp(f)){const o=r.get(f);o&&(r.delete(f),n.splice(n.indexOf(o),1),o.children.forEach(m),o.alias.forEach(m))}else{const o=n.indexOf(f);o>-1&&(n.splice(o,1),f.record.name&&r.delete(f.record.name),f.children.forEach(m),f.alias.forEach(m))}}function c(){return n}function i(f){let o=0;for(;o<n.length&&Jy(f,n[o])>=0&&(f.record.path!==n[o].record.path||!Up(f,n[o]));)o++;n.splice(o,0,f),f.record.name&&!wf(f)&&r.set(f.record.name,f)}function h(f,o){let l,a={},u,g;if("name"in f&&f.name){if(l=r.get(f.name),!l)throw Qr(1,{location:f});g=l.record.name,a=Ye(bf(o.params,l.keys.filter(_=>!_.optional).map(_=>_.name)),f.params&&bf(f.params,l.keys.map(_=>_.name))),u=l.stringify(a)}else if("path"in f)u=f.path,l=n.find(_=>_.re.test(u)),l&&(a=l.parse(u),g=l.record.name);else{if(l=o.name?r.get(o.name):n.find(_=>_.re.test(o.path)),!l)throw Qr(1,{location:f,currentLocation:o});g=l.record.name,a=Ye({},o.params,f.params),u=l.stringify(a)}const d=[];let v=l;for(;v;)d.unshift(v.record),v=v.parent;return{name:g,path:u,params:a,matched:d,meta:sb(d)}}return e.forEach(f=>p(f)),{addRoute:p,resolve:h,removeRoute:m,getRoutes:c,getRecordMatcher:s}}function bf(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function rb(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ib(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ib(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function wf(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function sb(e){return e.reduce((t,n)=>Ye(t,n.meta),{})}function Cf(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Up(e,t){return t.children.some(n=>n===e||Up(e,n))}const Wp=/#/g,ob=/&/g,ab=/\//g,lb=/=/g,cb=/\?/g,Yp=/\+/g,ub=/%5B/g,fb=/%5D/g,Xp=/%5E/g,hb=/%60/g,Vp=/%7B/g,db=/%7C/g,Gp=/%7D/g,pb=/%20/g;function hc(e){return encodeURI(""+e).replace(db,"|").replace(ub,"[").replace(fb,"]")}function gb(e){return hc(e).replace(Vp,"{").replace(Gp,"}").replace(Xp,"^")}function cl(e){return hc(e).replace(Yp,"%2B").replace(pb,"+").replace(Wp,"%23").replace(ob,"%26").replace(hb,"`").replace(Vp,"{").replace(Gp,"}").replace(Xp,"^")}function vb(e){return cl(e).replace(lb,"%3D")}function mb(e){return hc(e).replace(Wp,"%23").replace(cb,"%3F")}function _b(e){return e==null?"":mb(e).replace(ab,"%2F")}function oo(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function yb(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const p=r[s].replace(Yp," "),m=p.indexOf("="),c=oo(m<0?p:p.slice(0,m)),i=m<0?null:oo(p.slice(m+1));if(c in t){let h=t[c];un(h)||(h=t[c]=[h]),h.push(i)}else t[c]=i}return t}function Sf(e){let t="";for(let n in e){const r=e[n];if(n=vb(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(un(r)?r.map(p=>p&&cl(p)):[r&&cl(r)]).forEach(p=>{p!==void 0&&(t+=(t.length?"&":"")+n,p!=null&&(t+="="+p))})}return t}function bb(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=un(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const wb=Symbol(""),xf=Symbol(""),dc=Symbol(""),Kp=Symbol(""),ul=Symbol("");function Si(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function tr(e,t,n,r,s){const p=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((m,c)=>{const i=o=>{o===!1?c(Qr(4,{from:n,to:t})):o instanceof Error?c(o):Xy(o)?c(Qr(2,{from:t,to:o})):(p&&r.enterCallbacks[s]===p&&typeof o=="function"&&p.push(o),m())},h=e.call(r&&r.instances[s],t,n,i);let f=Promise.resolve(h);e.length<3&&(f=f.then(i)),f.catch(o=>c(o))})}function _a(e,t,n,r){const s=[];for(const p of e)for(const m in p.components){let c=p.components[m];if(!(t!=="beforeRouteEnter"&&!p.instances[m]))if(Cb(c)){const h=(c.__vccOpts||c)[t];h&&s.push(tr(h,n,r,p,m))}else{let i=c();s.push(()=>i.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${m}" at "${p.path}"`));const f=Ey(h)?h.default:h;p.components[m]=f;const l=(f.__vccOpts||f)[t];return l&&tr(l,n,r,p,m)()}))}}return s}function Cb(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Tf(e){const t=ke(dc),n=ke(Kp),r=q(()=>t.resolve(x(e.to))),s=q(()=>{const{matched:i}=r.value,{length:h}=i,f=i[h-1],o=n.matched;if(!f||!o.length)return-1;const l=o.findIndex(Zr.bind(null,f));if(l>-1)return l;const a=Of(i[h-2]);return h>1&&Of(f)===a&&o[o.length-1].path!==a?o.findIndex(Zr.bind(null,i[h-2])):l}),p=q(()=>s.value>-1&&Ob(n.params,r.value.params)),m=q(()=>s.value>-1&&s.value===n.matched.length-1&&jp(n.params,r.value.params));function c(i={}){return Tb(i)?t[x(e.replace)?"replace":"push"](x(e.to)).catch(Fi):Promise.resolve()}return{route:r,href:q(()=>r.value.href),isActive:p,isExactActive:m,navigate:c}}const Sb=xe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Tf,setup(e,{slots:t}){const n=kr(Tf(e)),{options:r}=ke(dc),s=q(()=>({[Ef(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Ef(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const p=t.default&&t.default(n);return e.custom?p:fc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},p)}}}),xb=Sb;function Tb(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ob(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!un(s)||s.length!==r.length||r.some((p,m)=>p!==s[m]))return!1}return!0}function Of(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ef=(e,t,n)=>e??t??n,Eb=xe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ke(ul),s=q(()=>e.route||r.value),p=ke(xf,0),m=q(()=>{let h=x(p);const{matched:f}=s.value;let o;for(;(o=f[h])&&!o.components;)h++;return h}),c=q(()=>s.value.matched[m.value]);tt(xf,q(()=>m.value+1)),tt(wb,c),tt(ul,s);const i=fe();return Ae(()=>[i.value,c.value,e.name],([h,f,o],[l,a,u])=>{f&&(f.instances[o]=h,a&&a!==f&&h&&h===l&&(f.leaveGuards.size||(f.leaveGuards=a.leaveGuards),f.updateGuards.size||(f.updateGuards=a.updateGuards))),h&&f&&(!a||!Zr(f,a)||!l)&&(f.enterCallbacks[o]||[]).forEach(g=>g(h))},{flush:"post"}),()=>{const h=s.value,f=e.name,o=c.value,l=o&&o.components[f];if(!l)return Pf(n.default,{Component:l,route:h});const a=o.props[f],u=a?a===!0?h.params:typeof a=="function"?a(h):a:null,d=fc(l,Ye({},u,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(o.instances[f]=null)},ref:i}));return Pf(n.default,{Component:d,route:h})||d}}});function Pf(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Pb=Eb;function kb(e){const t=nb(e.routes,e),n=e.parseQuery||yb,r=e.stringifyQuery||Sf,s=e.history,p=Si(),m=Si(),c=Si(),i=qt(Kn);let h=Kn;zr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=va.bind(null,R=>""+R),o=va.bind(null,_b),l=va.bind(null,oo);function a(R,L){let N,Q;return zp(R)?(N=t.getRecordMatcher(R),Q=L):Q=R,t.addRoute(Q,N)}function u(R){const L=t.getRecordMatcher(R);L&&t.removeRoute(L)}function g(){return t.getRoutes().map(R=>R.record)}function d(R){return!!t.getRecordMatcher(R)}function v(R,L){if(L=Ye({},L||i.value),typeof R=="string"){const k=ma(n,R,L.path),$=t.resolve({path:k.path},L),H=s.createHref(k.fullPath);return Ye(k,$,{params:l($.params),hash:oo(k.hash),redirectedFrom:void 0,href:H})}let N;if("path"in R)N=Ye({},R,{path:ma(n,R.path,L.path).path});else{const k=Ye({},R.params);for(const $ in k)k[$]==null&&delete k[$];N=Ye({},R,{params:o(k)}),L.params=o(L.params)}const Q=t.resolve(N,L),oe=R.hash||"";Q.params=f(l(Q.params));const A=Ay(r,Ye({},R,{hash:gb(oe),path:Q.path})),E=s.createHref(A);return Ye({fullPath:A,hash:oe,query:r===Sf?bb(R.query):R.query||{}},Q,{redirectedFrom:void 0,href:E})}function _(R){return typeof R=="string"?ma(n,R,i.value.path):Ye({},R)}function y(R,L){if(h!==R)return Qr(8,{from:L,to:R})}function b(R){return S(R)}function w(R){return b(Ye(_(R),{replace:!0}))}function C(R){const L=R.matched[R.matched.length-1];if(L&&L.redirect){const{redirect:N}=L;let Q=typeof N=="function"?N(R):N;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=_(Q):{path:Q},Q.params={}),Ye({query:R.query,hash:R.hash,params:"path"in Q?{}:R.params},Q)}}function S(R,L){const N=h=v(R),Q=i.value,oe=R.state,A=R.force,E=R.replace===!0,k=C(N);if(k)return S(Ye(_(k),{state:typeof k=="object"?Ye({},oe,k.state):oe,force:A,replace:E}),L||N);const $=N;$.redirectedFrom=L;let H;return!A&&Ry(r,Q,N)&&(H=Qr(16,{to:$,from:Q}),F(Q,Q,!0,!1)),(H?Promise.resolve(H):W($,Q)).catch(j=>Rn(j)?Rn(j,2)?j:I(j):Z(j,$,Q)).then(j=>{if(j){if(Rn(j,2))return S(Ye({replace:E},_(j.to),{state:typeof j.to=="object"?Ye({},oe,j.to.state):oe,force:A}),L||$)}else j=z($,Q,!0,E,oe);return K($,Q,j),j})}function O(R,L){const N=y(R,L);return N?Promise.reject(N):Promise.resolve()}function B(R){const L=M.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(R):R()}function W(R,L){let N;const[Q,oe,A]=Ab(R,L);N=_a(Q.reverse(),"beforeRouteLeave",R,L);for(const k of Q)k.leaveGuards.forEach($=>{N.push(tr($,R,L))});const E=O.bind(null,R,L);return N.push(E),U(N).then(()=>{N=[];for(const k of p.list())N.push(tr(k,R,L));return N.push(E),U(N)}).then(()=>{N=_a(oe,"beforeRouteUpdate",R,L);for(const k of oe)k.updateGuards.forEach($=>{N.push(tr($,R,L))});return N.push(E),U(N)}).then(()=>{N=[];for(const k of A)if(k.beforeEnter)if(un(k.beforeEnter))for(const $ of k.beforeEnter)N.push(tr($,R,L));else N.push(tr(k.beforeEnter,R,L));return N.push(E),U(N)}).then(()=>(R.matched.forEach(k=>k.enterCallbacks={}),N=_a(A,"beforeRouteEnter",R,L),N.push(E),U(N))).then(()=>{N=[];for(const k of m.list())N.push(tr(k,R,L));return N.push(E),U(N)}).catch(k=>Rn(k,8)?k:Promise.reject(k))}function K(R,L,N){c.list().forEach(Q=>B(()=>Q(R,L,N)))}function z(R,L,N,Q,oe){const A=y(R,L);if(A)return A;const E=L===Kn,k=zr?history.state:{};N&&(Q||E?s.replace(R.fullPath,Ye({scroll:E&&k&&k.scroll},oe)):s.push(R.fullPath,oe)),i.value=R,F(R,L,N,E),I()}let re;function se(){re||(re=s.listen((R,L,N)=>{if(!P.listening)return;const Q=v(R),oe=C(Q);if(oe){S(Ye(oe,{replace:!0}),Q).catch(Fi);return}h=Q;const A=i.value;zr&&jy(gf(A.fullPath,N.delta),Bo()),W(Q,A).catch(E=>Rn(E,12)?E:Rn(E,2)?(S(E.to,Q).then(k=>{Rn(k,20)&&!N.delta&&N.type===Qi.pop&&s.go(-1,!1)}).catch(Fi),Promise.reject()):(N.delta&&s.go(-N.delta,!1),Z(E,Q,A))).then(E=>{E=E||z(Q,A,!1),E&&(N.delta&&!Rn(E,8)?s.go(-N.delta,!1):N.type===Qi.pop&&Rn(E,20)&&s.go(-1,!1)),K(Q,A,E)}).catch(Fi)}))}let ce=Si(),he=Si(),V;function Z(R,L,N){I(R);const Q=he.list();return Q.length?Q.forEach(oe=>oe(R,L,N)):console.error(R),Promise.reject(R)}function T(){return V&&i.value!==Kn?Promise.resolve():new Promise((R,L)=>{ce.add([R,L])})}function I(R){return V||(V=!R,se(),ce.list().forEach(([L,N])=>R?N(R):L()),ce.reset()),R}function F(R,L,N,Q){const{scrollBehavior:oe}=e;if(!zr||!oe)return Promise.resolve();const A=!N&&Ny(gf(R.fullPath,0))||(Q||!N)&&history.state&&history.state.scroll||null;return ht().then(()=>oe(R,L,A)).then(E=>E&&$y(E)).catch(E=>Z(E,R,L))}const D=R=>s.go(R);let ne;const M=new Set,P={currentRoute:i,listening:!0,addRoute:a,removeRoute:u,hasRoute:d,getRoutes:g,resolve:v,options:e,push:b,replace:w,go:D,back:()=>D(-1),forward:()=>D(1),beforeEach:p.add,beforeResolve:m.add,afterEach:c.add,onError:he.add,isReady:T,install(R){const L=this;R.component("RouterLink",xb),R.component("RouterView",Pb),R.config.globalProperties.$router=L,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>x(i)}),zr&&!ne&&i.value===Kn&&(ne=!0,b(s.location).catch(oe=>{}));const N={};for(const oe in Kn)Object.defineProperty(N,oe,{get:()=>i.value[oe],enumerable:!0});R.provide(dc,L),R.provide(Kp,ql(N)),R.provide(ul,i);const Q=R.unmount;M.add(R),R.unmount=function(){M.delete(R),M.size<1&&(h=Kn,re&&re(),re=null,i.value=Kn,ne=!1,V=!1),Q()}}};function U(R){return R.reduce((L,N)=>L.then(()=>B(N)),Promise.resolve())}return P}function Ab(e,t){const n=[],r=[],s=[],p=Math.max(t.matched.length,e.matched.length);for(let m=0;m<p;m++){const c=t.matched[m];c&&(e.matched.find(h=>Zr(h,c))?r.push(c):n.push(c));const i=e.matched[m];i&&(t.matched.find(h=>Zr(h,i))||s.push(i))}return[n,r,s]}const Rb="/vue-design-editor/assets/module-close-b3f3c06c.svg";/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var qp="store";function Ar(e){return e===void 0&&(e=null),ke(e!==null?e:qp)}function pi(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function Mb(e){return e!==null&&typeof e=="object"}function Ib(e){return e&&typeof e.then=="function"}function Db(e,t){return function(){return e(t)}}function Jp(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function Zp(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;$o(e,n,[],e._modules.root,!0),pc(e,n,t)}function pc(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var p=e._wrappedGetters,m={},c={},i=Md(!0);i.run(function(){pi(p,function(h,f){m[f]=Db(h,e),c[f]=q(function(){return m[f]()}),Object.defineProperty(e.getters,f,{get:function(){return c[f].value},enumerable:!0})})}),e._state=kr({data:t}),e._scope=i,e.strict&&jb(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function $o(e,t,n,r,s){var p=!n.length,m=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[m],e._modulesNamespaceMap[m]=r),!p&&!s){var c=gc(t,n.slice(0,-1)),i=n[n.length-1];e._withCommit(function(){c[i]=r.state})}var h=r.context=Fb(e,m,n);r.forEachMutation(function(f,o){var l=m+o;Lb(e,l,f,h)}),r.forEachAction(function(f,o){var l=f.root?o:m+o,a=f.handler||f;Bb(e,l,a,h)}),r.forEachGetter(function(f,o){var l=m+o;$b(e,l,f,h)}),r.forEachChild(function(f,o){$o(e,t,n.concat(o),f,s)})}function Fb(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(p,m,c){var i=ao(p,m,c),h=i.payload,f=i.options,o=i.type;return(!f||!f.root)&&(o=t+o),e.dispatch(o,h)},commit:r?e.commit:function(p,m,c){var i=ao(p,m,c),h=i.payload,f=i.options,o=i.type;(!f||!f.root)&&(o=t+o),e.commit(o,h,f)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return Qp(e,t)}},state:{get:function(){return gc(e.state,n)}}}),s}function Qp(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var p=s.slice(r);Object.defineProperty(n,p,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function Lb(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(m){n.call(e,r.state,m)})}function Bb(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(m){var c=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},m);return Ib(c)||(c=Promise.resolve(c)),e._devtoolHook?c.catch(function(i){throw e._devtoolHook.emit("vuex:error",i),i}):c})}function $b(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(p){return n(r.state,r.getters,p.state,p.getters)})}function jb(e){Ae(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function gc(e,t){return t.reduce(function(n,r){return n[r]},e)}function ao(e,t,n){return Mb(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var Nb="vuex bindings",kf="vuex:mutations",ya="vuex:actions",jr="vuex",zb=0;function Hb(e,t){Oy({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Nb]},function(n){n.addTimelineLayer({id:kf,label:"Vuex Mutations",color:Af}),n.addTimelineLayer({id:ya,label:"Vuex Actions",color:Af}),n.addInspector({id:jr,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===jr)if(r.filter){var s=[];rg(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[ng(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===jr){var s=r.nodeId;Qp(t,s),r.state=Yb(Vb(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===jr){var s=r.nodeId,p=r.path;s!=="root"&&(p=s.split("/").filter(Boolean).concat(p)),t._withCommit(function(){r.set(t._state.data,p,r.state.value)})}}),t.subscribe(function(r,s){var p={};r.payload&&(p.payload=r.payload),p.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(jr),n.sendInspectorState(jr),n.addTimelineEvent({layerId:kf,event:{time:Date.now(),title:r.type,data:p}})}),t.subscribeAction({before:function(r,s){var p={};r.payload&&(p.payload=r.payload),r._id=zb++,r._time=Date.now(),p.state=s,n.addTimelineEvent({layerId:ya,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:p}})},after:function(r,s){var p={},m=Date.now()-r._time;p.duration={_custom:{type:"duration",display:m+"ms",tooltip:"Action duration",value:m}},r.payload&&(p.payload=r.payload),p.state=s,n.addTimelineEvent({layerId:ya,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:p}})}})})}var Af=8702998,Ub=6710886,Wb=16777215,eg={label:"namespaced",textColor:Wb,backgroundColor:Ub};function tg(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function ng(e,t){return{id:t||"root",label:tg(t),tags:e.namespaced?[eg]:[],children:Object.keys(e._children).map(function(n){return ng(e._children[n],t+n+"/")})}}function rg(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[eg]:[]}),Object.keys(t._children).forEach(function(s){rg(e,t._children[s],n,r+s+"/")})}function Yb(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(m){return{key:m,editable:!0,value:e.state[m]}})};if(r.length){var p=Xb(t);s.getters=Object.keys(p).map(function(m){return{key:m.endsWith("/")?tg(m):m,editable:!1,value:fl(function(){return p[m]})}})}return s}function Xb(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,p=r.pop();r.forEach(function(m){s[m]||(s[m]={_custom:{value:{},display:m,tooltip:"Module",abstract:!0}}),s=s[m]._custom.value}),s[p]=fl(function(){return e[n]})}else t[n]=fl(function(){return e[n]})}),t}function Vb(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,p){var m=r[s];if(!m)throw new Error('Missing module "'+s+'" for path "'+t+'".');return p===n.length-1?m:m._children},t==="root"?e:e.root._children)}function fl(e){try{return e()}catch(t){return t}}var fn=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},ig={namespaced:{configurable:!0}};ig.namespaced.get=function(){return!!this._rawModule.namespaced};fn.prototype.addChild=function(t,n){this._children[t]=n};fn.prototype.removeChild=function(t){delete this._children[t]};fn.prototype.getChild=function(t){return this._children[t]};fn.prototype.hasChild=function(t){return t in this._children};fn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};fn.prototype.forEachChild=function(t){pi(this._children,t)};fn.prototype.forEachGetter=function(t){this._rawModule.getters&&pi(this._rawModule.getters,t)};fn.prototype.forEachAction=function(t){this._rawModule.actions&&pi(this._rawModule.actions,t)};fn.prototype.forEachMutation=function(t){this._rawModule.mutations&&pi(this._rawModule.mutations,t)};Object.defineProperties(fn.prototype,ig);var Rr=function(t){this.register([],t,!1)};Rr.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Rr.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};Rr.prototype.update=function(t){sg([],this.root,t)};Rr.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var p=new fn(n,r);if(t.length===0)this.root=p;else{var m=this.get(t.slice(0,-1));m.addChild(t[t.length-1],p)}n.modules&&pi(n.modules,function(c,i){s.register(t.concat(i),c,r)})};Rr.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};Rr.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function sg(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;sg(e.concat(r),t.getChild(r),n.modules[r])}}function Gb(e){return new Bt(e)}var Bt=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var p=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Rr(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=p;var m=this,c=this,i=c.dispatch,h=c.commit;this.dispatch=function(l,a){return i.call(m,l,a)},this.commit=function(l,a,u){return h.call(m,l,a,u)},this.strict=s;var f=this._modules.root.state;$o(this,f,[],this._modules.root),pc(this,f),r.forEach(function(o){return o(n)})},vc={state:{configurable:!0}};Bt.prototype.install=function(t,n){t.provide(n||qp,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&Hb(t,this)};vc.state.get=function(){return this._state.data};vc.state.set=function(e){};Bt.prototype.commit=function(t,n,r){var s=this,p=ao(t,n,r),m=p.type,c=p.payload,i={type:m,payload:c},h=this._mutations[m];h&&(this._withCommit(function(){h.forEach(function(o){o(c)})}),this._subscribers.slice().forEach(function(f){return f(i,s.state)}))};Bt.prototype.dispatch=function(t,n){var r=this,s=ao(t,n),p=s.type,m=s.payload,c={type:p,payload:m},i=this._actions[p];if(i){try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(c,r.state)})}catch{}var h=i.length>1?Promise.all(i.map(function(f){return f(m)})):i[0](m);return new Promise(function(f,o){h.then(function(l){try{r._actionSubscribers.filter(function(a){return a.after}).forEach(function(a){return a.after(c,r.state)})}catch{}f(l)},function(l){try{r._actionSubscribers.filter(function(a){return a.error}).forEach(function(a){return a.error(c,r.state,l)})}catch{}o(l)})})}};Bt.prototype.subscribe=function(t,n){return Jp(t,this._subscribers,n)};Bt.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return Jp(r,this._actionSubscribers,n)};Bt.prototype.watch=function(t,n,r){var s=this;return Ae(function(){return t(s.state,s.getters)},n,Object.assign({},r))};Bt.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Bt.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),$o(this,this.state,t,this._modules.get(t),r.preserveState),pc(this,this.state)};Bt.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=gc(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),Zp(this)};Bt.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Bt.prototype.hotUpdate=function(t){this._modules.update(t),Zp(this,!0)};Bt.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Bt.prototype,vc);const Kb={class:"material-editor-header"},qb={class:"material-editor-content"},Jb={class:"material-editor-framework-left"},ba=313,wa=265,Ca=72,Zb=xe({__name:"Framework",setup(e){const{state:t,commit:n}=Ar(),r=fe(),s=fe({module:Ca,left:ba,center:window.document.body.clientWidth-ba-wa-Ca,right:wa}),p=q(()=>t.activeModule),m=q(()=>t.isClose),c=q(()=>p.value&&!p.value.drag&&JSON.stringify(p.value)!="{}");Qe(()=>{s.value.center=r.value.offsetWidth-ba-wa-Ca});function i(f){n("setClose",f)}async function h(){i(!0),n("setActiveModule",null)}return(f,o)=>{const l=Xe("el-tooltip");return X(),le("div",{class:"material-editor",ref_key:"editor",ref:r},[G("div",Kb,[Ce(f.$slots,"header",{},void 0,!0)]),G("div",qb,[G("div",{class:"material-editor-framework-module",style:Ue(`width:${s.value.module}px`)},[Ce(f.$slots,"module",{},void 0,!0)],4),G("div",{class:me(["material-editor-framework--collapsed",[!c.value||m.value?"material-editor-framework-transition":""]]),style:Ue({width:`${s.value.left}px`,"--width":-s.value.left+"px"})},[G("div",Jb,[Ce(f.$slots,"left",{},void 0,!0)]),pe(l,{class:"item",effect:"dark",content:"",placement:"right"},{default:_e(()=>[ot(G("img",{src:Rb,class:"material-editor-framework-close",onClick:h,alt:""},null,512),[[pt,s.value.left!=0&&!m.value]])]),_:1})],6),G("div",{class:"material-editor-framework-center",style:Ue(`width:${s.value.center}px`)},[Ce(f.$slots,"navlist",{},void 0,!0),Ce(f.$slots,"workspace",{},void 0,!0)],4),G("div",{class:"material-editor-framework-right",style:Ue(`width:${s.value.right}px`)},[Ce(f.$slots,"color",{},void 0,!0),Ce(f.$slots,"propsPanel",{},void 0,!0)],4)])],512)}}}),Qb=Tt(Zb,[["__scopeId","data-v-755bb6ef"]]),ew=[{type:"add",text:"",drag:!1,icon:"icon-tianjia"},{type:"template",text:"",drag:!1,icon:"icon-templet-"},{type:"material",text:"",drag:!1,show:!0,icon:"icon-xingzhuang",fileType:["jpg","png","gif","svg"]},{type:"text",text:"",drag:!0,icon:"icon-text",options:{type:"FontCustom",text:"",width:60,height:30,fontSize:32,name:"New text"}},{type:"Image",text:"",drag:!1,icon:"icon-editor-background",fileType:["jpg","png","gif","svg"]},{type:"Video",text:"",drag:!1,icon:"icon-shipinbofang",fileType:["mp4"]},{type:"qrcode",text:"",drag:!1,icon:"icon-erweima1"}],tw={props:{onAddItem:{type:Function}},setup(e){const t=fe(ew),{onAddItem:n}=De(e),{state:r,commit:s}=Ar(),p=q(()=>r.activeModule),m=q(()=>r.isClose),c=q(()=>r.workspace);function i(f){s("setClose",f)}function h(f){s("setActiveModule",f)}return t.value.find(f=>{f.show&&(h(f),i(!1))}),{modulelist:t,activeModule:p,isClose:m,setActiveModule:h,selectModule(f){if(p.value&&f.type==p.value.type&&!f.drag?(i(!m.value),h(null)):(["text","qrcode"].includes(f.type)?i(!0):i(!1),h(f)),f.drag){let o;const l=parseInt(Math.random()*80);f.type=="text"?o={option:{width:60,height:30,fontSize:32,name:"",text:"",type:"FontCustom",left:c.value.left+c.value.width/2-30-l,top:c.value.top+c.value.height/2-15-l}}:f.type=="qrcode"&&(o={option:{width:200,height:200,name:"",type:"qrcode",src:"https://pic5.40017.cn/i/ori/1e1kdqSZAgo.png?h=200&w=200",left:this.canvasRef.handler.width/2-100-l,top:this.canvasRef.handler.height/2-100-l}});let a=Object.assign({},f,o);n(a)}}}}},nw={class:"module-aside-body"},rw=["onClick"];function iw(e,t,n,r,s,p){return X(),le("div",nw,[(X(!0),le(Me,null,ft(r.modulelist,(m,c)=>(X(),le("button",{class:me(["module-aside-button",r.activeModule&&r.activeModule.type==m.type?"actived":""]),key:c,onClick:i=>r.selectModule(m)},[G("i",{class:me([m.icon,"iconfont"])},null,2),G("span",null,Le(m.text),1)],10,rw))),128))])}const sw=Tt(tw,[["render",iw],["__scopeId","data-v-cfdb4c0a"]]),ow="/vue-design-editor/assets/upload-d3fb70fb.svg",aw="/vue-design-editor/assets/h1-10d7bd47.svg",lw="/vue-design-editor/assets/h2-ac35d909.svg",cw="/vue-design-editor/assets/Aa-91318e82.svg",uw="/vue-design-editor/assets/3d-4a45aac9.svg",fw="/vue-design-editor/assets/square-b13ef26e.svg",hw="/vue-design-editor/assets/triangle-c58cdec2.svg",dw="/vue-design-editor/assets/circle-7da04343.svg",pw="/vue-design-editor/assets/line-146dd10e.svg",gw="/vue-design-editor/assets/qrcode-2cb253f0.svg",vw=[{type:"image",title:"//psd",list:[{type:"upload",icon:ow,title:""}]},{type:"text",title:"",list:[{type:"h1",icon:aw,title:""},{type:"h2",icon:lw,title:""},{type:"Aa",icon:cw,title:""},{type:"Aa",icon:uw,title:"3D"}]},{type:"shape",title:"",list:[{type:"square",icon:fw},{type:"triangle",icon:hw},{type:"circle",icon:dw},{type:"line",icon:pw}]},{type:"component",title:"",list:[{type:"qrcode",icon:gw,title:""}]}],mw=[{title:"",interval:[460,489]},{title:"",interval:[386,409]},{title:"",interval:[410,459]},{title:"",interval:[40,49]},{title:"icons"},{title:"",interval:[50,75]},{title:"",interval:[76,89]},{title:"",interval:[89,136]},{title:"",interval:[137,151]},{title:"",interval:[152,181]},{title:"",interval:[182,201]},{title:"",interval:[202,222]},{title:"",interval:[223,252]},{title:"",interval:[253,261]},{title:"",interval:[262,270]},{title:"",interval:[271,300]},{title:"",interval:[301,350]},{title:"",interval:[351,385]},{title:"",interval:[490,519]}];/*! Element Plus Icons Vue v2.1.0 */var Ze=(e,t)=>{let n=e.__vccOpts||e;for(let[r,s]of t)n[r]=s;return n},_w={name:"ArrowDown"},yw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bw=G("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),ww=[bw];function Cw(e,t,n,r,s,p){return X(),le("svg",yw,ww)}var mc=Ze(_w,[["render",Cw],["__file","arrow-down.vue"]]),Sw={name:"ArrowLeft"},xw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Tw=G("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),Ow=[Tw];function Ew(e,t,n,r,s,p){return X(),le("svg",xw,Ow)}var og=Ze(Sw,[["render",Ew],["__file","arrow-left.vue"]]),Pw={name:"ArrowRight"},kw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Aw=G("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),Rw=[Aw];function Mw(e,t,n,r,s,p){return X(),le("svg",kw,Rw)}var Iw=Ze(Pw,[["render",Mw],["__file","arrow-right.vue"]]),Dw={name:"ArrowUp"},Fw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Lw=G("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),Bw=[Lw];function $w(e,t,n,r,s,p){return X(),le("svg",Fw,Bw)}var jw=Ze(Dw,[["render",$w],["__file","arrow-up.vue"]]),Nw={name:"Check"},zw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Hw=G("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),Uw=[Hw];function Ww(e,t,n,r,s,p){return X(),le("svg",zw,Uw)}var ag=Ze(Nw,[["render",Ww],["__file","check.vue"]]),Yw={name:"CircleCheck"},Xw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Vw=G("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Gw=G("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),Kw=[Vw,Gw];function qw(e,t,n,r,s,p){return X(),le("svg",Xw,Kw)}var _c=Ze(Yw,[["render",qw],["__file","circle-check.vue"]]),Jw={name:"CircleCloseFilled"},Zw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Qw=G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),e1=[Qw];function t1(e,t,n,r,s,p){return X(),le("svg",Zw,e1)}var lg=Ze(Jw,[["render",t1],["__file","circle-close-filled.vue"]]),n1={name:"CircleClose"},r1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},i1=G("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),s1=G("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),o1=[i1,s1];function a1(e,t,n,r,s,p){return X(),le("svg",r1,o1)}var yc=Ze(n1,[["render",a1],["__file","circle-close.vue"]]),l1={name:"Close"},c1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},u1=G("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),f1=[u1];function h1(e,t,n,r,s,p){return X(),le("svg",c1,f1)}var jo=Ze(l1,[["render",h1],["__file","close.vue"]]),d1={name:"Delete"},p1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},g1=G("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),v1=[g1];function m1(e,t,n,r,s,p){return X(),le("svg",p1,v1)}var _1=Ze(d1,[["render",m1],["__file","delete.vue"]]),y1={name:"Document"},b1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},w1=G("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),C1=[w1];function S1(e,t,n,r,s,p){return X(),le("svg",b1,C1)}var x1=Ze(y1,[["render",S1],["__file","document.vue"]]),T1={name:"FullScreen"},O1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},E1=G("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),P1=[E1];function k1(e,t,n,r,s,p){return X(),le("svg",O1,P1)}var A1=Ze(T1,[["render",k1],["__file","full-screen.vue"]]),R1={name:"Hide"},M1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},I1=G("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),D1=G("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),F1=[I1,D1];function L1(e,t,n,r,s,p){return X(),le("svg",M1,F1)}var B1=Ze(R1,[["render",L1],["__file","hide.vue"]]),$1={name:"InfoFilled"},j1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},N1=G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),z1=[N1];function H1(e,t,n,r,s,p){return X(),le("svg",j1,z1)}var cg=Ze($1,[["render",H1],["__file","info-filled.vue"]]),U1={name:"Loading"},W1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Y1=G("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),X1=[Y1];function V1(e,t,n,r,s,p){return X(),le("svg",W1,X1)}var ug=Ze(U1,[["render",V1],["__file","loading.vue"]]),G1={name:"RefreshLeft"},K1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},q1=G("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),J1=[q1];function Z1(e,t,n,r,s,p){return X(),le("svg",K1,J1)}var Q1=Ze(G1,[["render",Z1],["__file","refresh-left.vue"]]),eC={name:"RefreshRight"},tC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nC=G("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),rC=[nC];function iC(e,t,n,r,s,p){return X(),le("svg",tC,rC)}var sC=Ze(eC,[["render",iC],["__file","refresh-right.vue"]]),oC={name:"ScaleToOriginal"},aC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lC=G("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),cC=[lC];function uC(e,t,n,r,s,p){return X(),le("svg",aC,cC)}var fC=Ze(oC,[["render",uC],["__file","scale-to-original.vue"]]),hC={name:"Select"},dC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},pC=G("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"},null,-1),gC=[pC];function vC(e,t,n,r,s,p){return X(),le("svg",dC,gC)}var Sa=Ze(hC,[["render",vC],["__file","select.vue"]]),mC={name:"SuccessFilled"},_C={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yC=G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),bC=[yC];function wC(e,t,n,r,s,p){return X(),le("svg",_C,bC)}var fg=Ze(mC,[["render",wC],["__file","success-filled.vue"]]),CC={name:"View"},SC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xC=G("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),TC=[xC];function OC(e,t,n,r,s,p){return X(),le("svg",SC,TC)}var EC=Ze(CC,[["render",OC],["__file","view.vue"]]),PC={name:"WarningFilled"},kC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},AC=G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),RC=[AC];function MC(e,t,n,r,s,p){return X(),le("svg",kC,RC)}var bc=Ze(PC,[["render",MC],["__file","warning-filled.vue"]]),IC={name:"ZoomIn"},DC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},FC=G("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),LC=[FC];function BC(e,t,n,r,s,p){return X(),le("svg",DC,LC)}var hg=Ze(IC,[["render",BC],["__file","zoom-in.vue"]]),$C={name:"ZoomOut"},jC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},NC=G("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),zC=[NC];function HC(e,t,n,r,s,p){return X(),le("svg",jC,zC)}var UC=Ze($C,[["render",HC],["__file","zoom-out.vue"]]);const WC={class:"panel-block__header"},YC={class:"panel-block__header-title"},XC={class:"panel-block__header-action"},VC={__name:"panel-block",props:{title:String,subTitle:String},emits:["change"],setup(e,{emit:t}){function n(){t("change")}return(r,s)=>(X(),le("div",WC,[G("div",YC,Le(e.title),1),G("div",XC,[G("span",{onClick:n},[Ce(r.$slots,"default",{},()=>[hs(Le(e.subTitle),1)],!0)])])]))}},GC=Tt(VC,[["__scopeId","data-v-2e948f55"]]),KC={props:{list:{type:Array,required:!0},column:{type:Number,default:4},height:{type:Number,default:225}},data(){return{itemWidth:0,columnData:[]}},watch:{list(){this.renderList()}},mounted(){this.renderList(),window.addEventListener("resize",this.renderList)},methods:{renderList(){this.row||(this.columnData=[],this.itemWidth=`${100/this.column}%`,this.$refs.container&&this.$nextTick(()=>{const e=this.$refs.container.getElementsByClassName("column-item");for(let t=0;t<e.length;t++)this.setElementStyle(e[t],this.list[t],t)}))},setElementStyle(e,t,n){const s=(this.$refs.container.offsetWidth/this.column-6)/t.width*t.height+6;if(n<this.column)e.style.left=`${n*(100/this.column)}%`,this.columnData[n]=this.columnData[n]?this.columnData[n]+s:s;else{let p={};for(let m=0;m<this.columnData.length;m++)Object.prototype.hasOwnProperty.call(p,"index")?this.columnData[m]<p.value&&(p={index:m,value:this.columnData[m]}):p={index:m,value:this.columnData[m]};e.style.left=`${p.index*(100/this.column)}%`,e.style.top=`${p.value}px`,this.columnData[p.index]+=s}e.style.width=this.itemWidth}}},qC={class:me({"waterfall-wrap":!0}),ref:"container"};function JC(e,t,n,r,s,p){return X(),le("div",qC,[(X(!0),le(Me,null,ft(n.list,(m,c)=>(X(),le("div",{key:c,class:"column-item"},[Ce(e.$slots,"default",{item:m},void 0,!0)]))),128))],512)}const ZC=Tt(KC,[["render",JC],["__scopeId","data-v-61d1b56b"]]),st=(e,t,{checkForDefaultPrevented:n=!0}={})=>s=>{const p=e?.(s);if(n===!1||!p)return t?.(s)},Rf=e=>t=>t.pointerType==="mouse"?e(t):void 0;var Mf;const Je=typeof window<"u",QC=e=>typeof e<"u",eS=e=>typeof e=="function",tS=e=>typeof e=="string",lo=()=>{},nS=Je&&((Mf=window?.navigator)==null?void 0:Mf.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function No(e){return typeof e=="function"?e():x(e)}function rS(e,t){function n(...r){return new Promise((s,p)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(p)})}return n}function iS(e,t=!0,n=!0,r=!1){let s=0,p,m=!0,c=lo,i;const h=()=>{p&&(clearTimeout(p),p=void 0,c(),c=lo)};return o=>{const l=No(e),a=Date.now()-s,u=()=>i=o();return h(),l<=0?(s=Date.now(),u()):(a>l&&(n||!m)?(s=Date.now(),u()):t&&(i=new Promise((g,d)=>{c=r?d:g,p=setTimeout(()=>{s=Date.now(),m=!0,g(u()),h()},Math.max(0,l-a))})),!n&&!p&&(p=setTimeout(()=>m=!0,l)),m=!1,i)}}function sS(e){return e}function zo(e){return Id()?(e0(e),!0):!1}function oS(e,t=200,n=!1,r=!0,s=!1){return rS(iS(t,n,r,s),e)}function aS(e,t=!0){xt()?Qe(e):t?e():ht(e)}function lS(e,t,n={}){const{immediate:r=!0}=n,s=fe(!1);let p=null;function m(){p&&(clearTimeout(p),p=null)}function c(){s.value=!1,m()}function i(...h){m(),s.value=!0,p=setTimeout(()=>{s.value=!1,p=null,e(...h)},No(t))}return r&&(s.value=!0,Je&&i()),zo(c),{isPending:fs(s),start:i,stop:c}}function rr(e){var t;const n=No(e);return(t=n?.$el)!=null?t:n}const wc=Je?window:void 0;function Pt(...e){let t,n,r,s;if(tS(e[0])||Array.isArray(e[0])?([n,r,s]=e,t=wc):[t,n,r,s]=e,!t)return lo;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const p=[],m=()=>{p.forEach(f=>f()),p.length=0},c=(f,o,l,a)=>(f.addEventListener(o,l,a),()=>f.removeEventListener(o,l,a)),i=Ae(()=>[rr(t),No(s)],([f,o])=>{m(),f&&p.push(...n.flatMap(l=>r.map(a=>c(f,l,a,o))))},{immediate:!0,flush:"post"}),h=()=>{i(),m()};return zo(h),h}let If=!1;function cS(e,t,n={}){const{window:r=wc,ignore:s=[],capture:p=!0,detectIframe:m=!1}=n;if(!r)return;nS&&!If&&(If=!0,Array.from(r.document.body.children).forEach(l=>l.addEventListener("click",lo)));let c=!0;const i=l=>s.some(a=>{if(typeof a=="string")return Array.from(r.document.querySelectorAll(a)).some(u=>u===l.target||l.composedPath().includes(u));{const u=rr(a);return u&&(l.target===u||l.composedPath().includes(u))}}),f=[Pt(r,"click",l=>{const a=rr(e);if(!(!a||a===l.target||l.composedPath().includes(a))){if(l.detail===0&&(c=!i(l)),!c){c=!0;return}t(l)}},{passive:!0,capture:p}),Pt(r,"pointerdown",l=>{const a=rr(e);a&&(c=!l.composedPath().includes(a)&&!i(l))},{passive:!0}),m&&Pt(r,"blur",l=>{var a;const u=rr(e);((a=r.document.activeElement)==null?void 0:a.tagName)==="IFRAME"&&!u?.contains(r.document.activeElement)&&t(l)})].filter(Boolean);return()=>f.forEach(l=>l())}function uS(e,t=!1){const n=fe(),r=()=>n.value=!!e();return r(),aS(r,t),n}function fS(e){return JSON.parse(JSON.stringify(e))}const Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ff="__vueuse_ssr_handlers__";Df[Ff]=Df[Ff]||{};var Lf=Object.getOwnPropertySymbols,hS=Object.prototype.hasOwnProperty,dS=Object.prototype.propertyIsEnumerable,pS=(e,t)=>{var n={};for(var r in e)hS.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lf)for(var r of Lf(e))t.indexOf(r)<0&&dS.call(e,r)&&(n[r]=e[r]);return n};function Cc(e,t,n={}){const r=n,{window:s=wc}=r,p=pS(r,["window"]);let m;const c=uS(()=>s&&"ResizeObserver"in s),i=()=>{m&&(m.disconnect(),m=void 0)},h=Ae(()=>rr(e),o=>{i(),c.value&&s&&o&&(m=new ResizeObserver(t),m.observe(o,p))},{immediate:!0,flush:"post"}),f=()=>{i(),h()};return zo(f),{isSupported:c,stop:f}}var Bf;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Bf||(Bf={}));var gS=Object.defineProperty,$f=Object.getOwnPropertySymbols,vS=Object.prototype.hasOwnProperty,mS=Object.prototype.propertyIsEnumerable,jf=(e,t,n)=>t in e?gS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_S=(e,t)=>{for(var n in t||(t={}))vS.call(t,n)&&jf(e,n,t[n]);if($f)for(var n of $f(t))mS.call(t,n)&&jf(e,n,t[n]);return e};const yS={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};_S({linear:sS},yS);function bS(e,t,n,r={}){var s,p,m;const{clone:c=!1,passive:i=!1,eventName:h,deep:f=!1,defaultValue:o}=r,l=xt(),a=n||l?.emit||((s=l?.$emit)==null?void 0:s.bind(l))||((m=(p=l?.proxy)==null?void 0:p.$emit)==null?void 0:m.bind(l?.proxy));let u=h;t||(t="modelValue"),u=h||u||`update:${t.toString()}`;const g=v=>c?eS(c)?c(v):fS(v):v,d=()=>QC(e[t])?g(e[t]):o;if(i){const v=d(),_=fe(v);return Ae(()=>e[t],y=>_.value=g(y)),Ae(_,y=>{(y!==e[t]||f)&&a(u,y)},{deep:f}),_}else return q({get(){return d()},set(v){a(u,v)}})}const wS=()=>Je&&/firefox/i.test(window.navigator.userAgent),CS=(e,t)=>{if(!Je||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right};var SS=typeof global=="object"&&global&&global.Object===Object&&global;const dg=SS;var xS=typeof self=="object"&&self&&self.Object===Object&&self,TS=dg||xS||Function("return this")();const hn=TS;var OS=hn.Symbol;const Sn=OS;var pg=Object.prototype,ES=pg.hasOwnProperty,PS=pg.toString,xi=Sn?Sn.toStringTag:void 0;function kS(e){var t=ES.call(e,xi),n=e[xi];try{e[xi]=void 0;var r=!0}catch{}var s=PS.call(e);return r&&(t?e[xi]=n:delete e[xi]),s}var AS=Object.prototype,RS=AS.toString;function MS(e){return RS.call(e)}var IS="[object Null]",DS="[object Undefined]",Nf=Sn?Sn.toStringTag:void 0;function gi(e){return e==null?e===void 0?DS:IS:Nf&&Nf in Object(e)?kS(e):MS(e)}function lr(e){return e!=null&&typeof e=="object"}var FS="[object Symbol]";function Ho(e){return typeof e=="symbol"||lr(e)&&gi(e)==FS}function LS(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var BS=Array.isArray;const Nn=BS;var $S=1/0,zf=Sn?Sn.prototype:void 0,Hf=zf?zf.toString:void 0;function gg(e){if(typeof e=="string")return e;if(Nn(e))return LS(e,gg)+"";if(Ho(e))return Hf?Hf.call(e):"";var t=e+"";return t=="0"&&1/e==-$S?"-0":t}var jS=/\s/;function NS(e){for(var t=e.length;t--&&jS.test(e.charAt(t)););return t}var zS=/^\s+/;function HS(e){return e&&e.slice(0,NS(e)+1).replace(zS,"")}function zn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Uf=0/0,US=/^[-+]0x[0-9a-f]+$/i,WS=/^0b[01]+$/i,YS=/^0o[0-7]+$/i,XS=parseInt;function Wf(e){if(typeof e=="number")return e;if(Ho(e))return Uf;if(zn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=zn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=HS(e);var n=WS.test(e);return n||YS.test(e)?XS(e.slice(2),n?2:8):US.test(e)?Uf:+e}var VS="[object AsyncFunction]",GS="[object Function]",KS="[object GeneratorFunction]",qS="[object Proxy]";function vg(e){if(!zn(e))return!1;var t=gi(e);return t==GS||t==KS||t==VS||t==qS}var JS=hn["__core-js_shared__"];const xa=JS;var Yf=function(){var e=/[^.]+$/.exec(xa&&xa.keys&&xa.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ZS(e){return!!Yf&&Yf in e}var QS=Function.prototype,e2=QS.toString;function Mr(e){if(e!=null){try{return e2.call(e)}catch{}try{return e+""}catch{}}return""}var t2=/[\\^$.*+?()[\]{}|]/g,n2=/^\[object .+?Constructor\]$/,r2=Function.prototype,i2=Object.prototype,s2=r2.toString,o2=i2.hasOwnProperty,a2=RegExp("^"+s2.call(o2).replace(t2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l2(e){if(!zn(e)||ZS(e))return!1;var t=vg(e)?a2:n2;return t.test(Mr(e))}function c2(e,t){return e?.[t]}function Ir(e,t){var n=c2(e,t);return l2(n)?n:void 0}var u2=Ir(hn,"WeakMap");const hl=u2;var Xf=Object.create,f2=function(){function e(){}return function(t){if(!zn(t))return{};if(Xf)return Xf(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const h2=f2;function d2(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var p2=function(){try{var e=Ir(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Vf=p2;function g2(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var v2=9007199254740991,m2=/^(?:0|[1-9]\d*)$/;function _2(e,t){var n=typeof e;return t=t??v2,!!t&&(n=="number"||n!="symbol"&&m2.test(e))&&e>-1&&e%1==0&&e<t}function mg(e,t,n){t=="__proto__"&&Vf?Vf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Sc(e,t){return e===t||e!==e&&t!==t}var y2=Object.prototype,b2=y2.hasOwnProperty;function _g(e,t,n){var r=e[t];(!(b2.call(e,t)&&Sc(r,n))||n===void 0&&!(t in e))&&mg(e,t,n)}function Uo(e,t,n,r){var s=!n;n||(n={});for(var p=-1,m=t.length;++p<m;){var c=t[p],i=r?r(n[c],e[c],c,n,e):void 0;i===void 0&&(i=e[c]),s?mg(n,c,i):_g(n,c,i)}return n}var w2=9007199254740991;function yg(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=w2}function bg(e){return e!=null&&yg(e.length)&&!vg(e)}var C2=Object.prototype;function xc(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||C2;return e===n}function S2(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var x2="[object Arguments]";function Gf(e){return lr(e)&&gi(e)==x2}var wg=Object.prototype,T2=wg.hasOwnProperty,O2=wg.propertyIsEnumerable,E2=Gf(function(){return arguments}())?Gf:function(e){return lr(e)&&T2.call(e,"callee")&&!O2.call(e,"callee")};const P2=E2;function k2(){return!1}var Cg=typeof zt=="object"&&zt&&!zt.nodeType&&zt,Kf=Cg&&typeof Ht=="object"&&Ht&&!Ht.nodeType&&Ht,A2=Kf&&Kf.exports===Cg,qf=A2?hn.Buffer:void 0,R2=qf?qf.isBuffer:void 0,M2=R2||k2;const co=M2;var I2="[object Arguments]",D2="[object Array]",F2="[object Boolean]",L2="[object Date]",B2="[object Error]",$2="[object Function]",j2="[object Map]",N2="[object Number]",z2="[object Object]",H2="[object RegExp]",U2="[object Set]",W2="[object String]",Y2="[object WeakMap]",X2="[object ArrayBuffer]",V2="[object DataView]",G2="[object Float32Array]",K2="[object Float64Array]",q2="[object Int8Array]",J2="[object Int16Array]",Z2="[object Int32Array]",Q2="[object Uint8Array]",ex="[object Uint8ClampedArray]",tx="[object Uint16Array]",nx="[object Uint32Array]",Ke={};Ke[G2]=Ke[K2]=Ke[q2]=Ke[J2]=Ke[Z2]=Ke[Q2]=Ke[ex]=Ke[tx]=Ke[nx]=!0;Ke[I2]=Ke[D2]=Ke[X2]=Ke[F2]=Ke[V2]=Ke[L2]=Ke[B2]=Ke[$2]=Ke[j2]=Ke[N2]=Ke[z2]=Ke[H2]=Ke[U2]=Ke[W2]=Ke[Y2]=!1;function rx(e){return lr(e)&&yg(e.length)&&!!Ke[gi(e)]}function Tc(e){return function(t){return e(t)}}var Sg=typeof zt=="object"&&zt&&!zt.nodeType&&zt,Bi=Sg&&typeof Ht=="object"&&Ht&&!Ht.nodeType&&Ht,ix=Bi&&Bi.exports===Sg,Ta=ix&&dg.process,sx=function(){try{var e=Bi&&Bi.require&&Bi.require("util").types;return e||Ta&&Ta.binding&&Ta.binding("util")}catch{}}();const ei=sx;var Jf=ei&&ei.isTypedArray,ox=Jf?Tc(Jf):rx;const xg=ox;var ax=Object.prototype,lx=ax.hasOwnProperty;function Tg(e,t){var n=Nn(e),r=!n&&P2(e),s=!n&&!r&&co(e),p=!n&&!r&&!s&&xg(e),m=n||r||s||p,c=m?S2(e.length,String):[],i=c.length;for(var h in e)(t||lx.call(e,h))&&!(m&&(h=="length"||s&&(h=="offset"||h=="parent")||p&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||_2(h,i)))&&c.push(h);return c}function Og(e,t){return function(n){return e(t(n))}}var cx=Og(Object.keys,Object);const ux=cx;var fx=Object.prototype,hx=fx.hasOwnProperty;function dx(e){if(!xc(e))return ux(e);var t=[];for(var n in Object(e))hx.call(e,n)&&n!="constructor"&&t.push(n);return t}function Oc(e){return bg(e)?Tg(e):dx(e)}function px(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var gx=Object.prototype,vx=gx.hasOwnProperty;function mx(e){if(!zn(e))return px(e);var t=xc(e),n=[];for(var r in e)r=="constructor"&&(t||!vx.call(e,r))||n.push(r);return n}function Ec(e){return bg(e)?Tg(e,!0):mx(e)}var _x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yx=/^\w*$/;function bx(e,t){if(Nn(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ho(e)?!0:yx.test(e)||!_x.test(e)||t!=null&&e in Object(t)}var wx=Ir(Object,"create");const es=wx;function Cx(){this.__data__=es?es(null):{},this.size=0}function Sx(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var xx="__lodash_hash_undefined__",Tx=Object.prototype,Ox=Tx.hasOwnProperty;function Ex(e){var t=this.__data__;if(es){var n=t[e];return n===xx?void 0:n}return Ox.call(t,e)?t[e]:void 0}var Px=Object.prototype,kx=Px.hasOwnProperty;function Ax(e){var t=this.__data__;return es?t[e]!==void 0:kx.call(t,e)}var Rx="__lodash_hash_undefined__";function Mx(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=es&&t===void 0?Rx:t,this}function Tr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Tr.prototype.clear=Cx;Tr.prototype.delete=Sx;Tr.prototype.get=Ex;Tr.prototype.has=Ax;Tr.prototype.set=Mx;function Ix(){this.__data__=[],this.size=0}function Wo(e,t){for(var n=e.length;n--;)if(Sc(e[n][0],t))return n;return-1}var Dx=Array.prototype,Fx=Dx.splice;function Lx(e){var t=this.__data__,n=Wo(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Fx.call(t,n,1),--this.size,!0}function Bx(e){var t=this.__data__,n=Wo(t,e);return n<0?void 0:t[n][1]}function $x(e){return Wo(this.__data__,e)>-1}function jx(e,t){var n=this.__data__,r=Wo(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Wn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wn.prototype.clear=Ix;Wn.prototype.delete=Lx;Wn.prototype.get=Bx;Wn.prototype.has=$x;Wn.prototype.set=jx;var Nx=Ir(hn,"Map");const ts=Nx;function zx(){this.size=0,this.__data__={hash:new Tr,map:new(ts||Wn),string:new Tr}}function Hx(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Yo(e,t){var n=e.__data__;return Hx(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ux(e){var t=Yo(this,e).delete(e);return this.size-=t?1:0,t}function Wx(e){return Yo(this,e).get(e)}function Yx(e){return Yo(this,e).has(e)}function Xx(e,t){var n=Yo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Yn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Yn.prototype.clear=zx;Yn.prototype.delete=Ux;Yn.prototype.get=Wx;Yn.prototype.has=Yx;Yn.prototype.set=Xx;var Vx="Expected a function";function Pc(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Vx);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],p=n.cache;if(p.has(s))return p.get(s);var m=e.apply(this,r);return n.cache=p.set(s,m)||p,m};return n.cache=new(Pc.Cache||Yn),n}Pc.Cache=Yn;var Gx=500;function Kx(e){var t=Pc(e,function(r){return n.size===Gx&&n.clear(),r}),n=t.cache;return t}var qx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jx=/\\(\\)?/g,Zx=Kx(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(qx,function(n,r,s,p){t.push(s?p.replace(Jx,"$1"):r||n)}),t});const Qx=Zx;function eT(e){return e==null?"":gg(e)}function tT(e,t){return Nn(e)?e:bx(e,t)?[e]:Qx(eT(e))}var nT=1/0;function rT(e){if(typeof e=="string"||Ho(e))return e;var t=e+"";return t=="0"&&1/e==-nT?"-0":t}function iT(e,t){t=tT(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[rT(t[n++])];return n&&n==r?e:void 0}function sT(e,t,n){var r=e==null?void 0:iT(e,t);return r===void 0?n:r}function Eg(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var oT=Og(Object.getPrototypeOf,Object);const Pg=oT;function aT(){if(!arguments.length)return[];var e=arguments[0];return Nn(e)?e:[e]}function lT(){this.__data__=new Wn,this.size=0}function cT(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function uT(e){return this.__data__.get(e)}function fT(e){return this.__data__.has(e)}var hT=200;function dT(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!ts||r.length<hT-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this}function Ln(e){var t=this.__data__=new Wn(e);this.size=t.size}Ln.prototype.clear=lT;Ln.prototype.delete=cT;Ln.prototype.get=uT;Ln.prototype.has=fT;Ln.prototype.set=dT;function pT(e,t){return e&&Uo(t,Oc(t),e)}function gT(e,t){return e&&Uo(t,Ec(t),e)}var kg=typeof zt=="object"&&zt&&!zt.nodeType&&zt,Zf=kg&&typeof Ht=="object"&&Ht&&!Ht.nodeType&&Ht,vT=Zf&&Zf.exports===kg,Qf=vT?hn.Buffer:void 0,eh=Qf?Qf.allocUnsafe:void 0;function mT(e,t){if(t)return e.slice();var n=e.length,r=eh?eh(n):new e.constructor(n);return e.copy(r),r}function _T(e,t){for(var n=-1,r=e==null?0:e.length,s=0,p=[];++n<r;){var m=e[n];t(m,n,e)&&(p[s++]=m)}return p}function Ag(){return[]}var yT=Object.prototype,bT=yT.propertyIsEnumerable,th=Object.getOwnPropertySymbols,wT=th?function(e){return e==null?[]:(e=Object(e),_T(th(e),function(t){return bT.call(e,t)}))}:Ag;const kc=wT;function CT(e,t){return Uo(e,kc(e),t)}var ST=Object.getOwnPropertySymbols,xT=ST?function(e){for(var t=[];e;)Eg(t,kc(e)),e=Pg(e);return t}:Ag;const Rg=xT;function TT(e,t){return Uo(e,Rg(e),t)}function Mg(e,t,n){var r=t(e);return Nn(e)?r:Eg(r,n(e))}function dl(e){return Mg(e,Oc,kc)}function OT(e){return Mg(e,Ec,Rg)}var ET=Ir(hn,"DataView");const pl=ET;var PT=Ir(hn,"Promise");const gl=PT;var kT=Ir(hn,"Set");const vl=kT;var nh="[object Map]",AT="[object Object]",rh="[object Promise]",ih="[object Set]",sh="[object WeakMap]",oh="[object DataView]",RT=Mr(pl),MT=Mr(ts),IT=Mr(gl),DT=Mr(vl),FT=Mr(hl),vr=gi;(pl&&vr(new pl(new ArrayBuffer(1)))!=oh||ts&&vr(new ts)!=nh||gl&&vr(gl.resolve())!=rh||vl&&vr(new vl)!=ih||hl&&vr(new hl)!=sh)&&(vr=function(e){var t=gi(e),n=t==AT?e.constructor:void 0,r=n?Mr(n):"";if(r)switch(r){case RT:return oh;case MT:return nh;case IT:return rh;case DT:return ih;case FT:return sh}return t});const ns=vr;var LT=Object.prototype,BT=LT.hasOwnProperty;function $T(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&BT.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var jT=hn.Uint8Array;const uo=jT;function Ac(e){var t=new e.constructor(e.byteLength);return new uo(t).set(new uo(e)),t}function NT(e,t){var n=t?Ac(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var zT=/\w*$/;function HT(e){var t=new e.constructor(e.source,zT.exec(e));return t.lastIndex=e.lastIndex,t}var ah=Sn?Sn.prototype:void 0,lh=ah?ah.valueOf:void 0;function UT(e){return lh?Object(lh.call(e)):{}}function WT(e,t){var n=t?Ac(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var YT="[object Boolean]",XT="[object Date]",VT="[object Map]",GT="[object Number]",KT="[object RegExp]",qT="[object Set]",JT="[object String]",ZT="[object Symbol]",QT="[object ArrayBuffer]",eO="[object DataView]",tO="[object Float32Array]",nO="[object Float64Array]",rO="[object Int8Array]",iO="[object Int16Array]",sO="[object Int32Array]",oO="[object Uint8Array]",aO="[object Uint8ClampedArray]",lO="[object Uint16Array]",cO="[object Uint32Array]";function uO(e,t,n){var r=e.constructor;switch(t){case QT:return Ac(e);case YT:case XT:return new r(+e);case eO:return NT(e,n);case tO:case nO:case rO:case iO:case sO:case oO:case aO:case lO:case cO:return WT(e,n);case VT:return new r;case GT:case JT:return new r(e);case KT:return HT(e);case qT:return new r;case ZT:return UT(e)}}function fO(e){return typeof e.constructor=="function"&&!xc(e)?h2(Pg(e)):{}}var hO="[object Map]";function dO(e){return lr(e)&&ns(e)==hO}var ch=ei&&ei.isMap,pO=ch?Tc(ch):dO;const gO=pO;var vO="[object Set]";function mO(e){return lr(e)&&ns(e)==vO}var uh=ei&&ei.isSet,_O=uh?Tc(uh):mO;const yO=_O;var bO=1,wO=2,CO=4,Ig="[object Arguments]",SO="[object Array]",xO="[object Boolean]",TO="[object Date]",OO="[object Error]",Dg="[object Function]",EO="[object GeneratorFunction]",PO="[object Map]",kO="[object Number]",Fg="[object Object]",AO="[object RegExp]",RO="[object Set]",MO="[object String]",IO="[object Symbol]",DO="[object WeakMap]",FO="[object ArrayBuffer]",LO="[object DataView]",BO="[object Float32Array]",$O="[object Float64Array]",jO="[object Int8Array]",NO="[object Int16Array]",zO="[object Int32Array]",HO="[object Uint8Array]",UO="[object Uint8ClampedArray]",WO="[object Uint16Array]",YO="[object Uint32Array]",Ge={};Ge[Ig]=Ge[SO]=Ge[FO]=Ge[LO]=Ge[xO]=Ge[TO]=Ge[BO]=Ge[$O]=Ge[jO]=Ge[NO]=Ge[zO]=Ge[PO]=Ge[kO]=Ge[Fg]=Ge[AO]=Ge[RO]=Ge[MO]=Ge[IO]=Ge[HO]=Ge[UO]=Ge[WO]=Ge[YO]=!0;Ge[OO]=Ge[Dg]=Ge[DO]=!1;function Ws(e,t,n,r,s,p){var m,c=t&bO,i=t&wO,h=t&CO;if(n&&(m=s?n(e,r,s,p):n(e)),m!==void 0)return m;if(!zn(e))return e;var f=Nn(e);if(f){if(m=$T(e),!c)return d2(e,m)}else{var o=ns(e),l=o==Dg||o==EO;if(co(e))return mT(e,c);if(o==Fg||o==Ig||l&&!s){if(m=i||l?{}:fO(e),!c)return i?TT(e,gT(m,e)):CT(e,pT(m,e))}else{if(!Ge[o])return s?e:{};m=uO(e,o,c)}}p||(p=new Ln);var a=p.get(e);if(a)return a;p.set(e,m),yO(e)?e.forEach(function(d){m.add(Ws(d,t,n,d,e,p))}):gO(e)&&e.forEach(function(d,v){m.set(v,Ws(d,t,n,v,e,p))});var u=h?i?OT:dl:i?Ec:Oc,g=f?void 0:u(e);return g2(g||e,function(d,v){g&&(v=d,d=e[v]),_g(m,v,Ws(d,t,n,v,e,p))}),m}var XO=1,VO=4;function fh(e){return Ws(e,XO|VO)}var GO="__lodash_hash_undefined__";function KO(e){return this.__data__.set(e,GO),this}function qO(e){return this.__data__.has(e)}function fo(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}fo.prototype.add=fo.prototype.push=KO;fo.prototype.has=qO;function JO(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ZO(e,t){return e.has(t)}var QO=1,eE=2;function Lg(e,t,n,r,s,p){var m=n&QO,c=e.length,i=t.length;if(c!=i&&!(m&&i>c))return!1;var h=p.get(e),f=p.get(t);if(h&&f)return h==t&&f==e;var o=-1,l=!0,a=n&eE?new fo:void 0;for(p.set(e,t),p.set(t,e);++o<c;){var u=e[o],g=t[o];if(r)var d=m?r(g,u,o,t,e,p):r(u,g,o,e,t,p);if(d!==void 0){if(d)continue;l=!1;break}if(a){if(!JO(t,function(v,_){if(!ZO(a,_)&&(u===v||s(u,v,n,r,p)))return a.push(_)})){l=!1;break}}else if(!(u===g||s(u,g,n,r,p))){l=!1;break}}return p.delete(e),p.delete(t),l}function tE(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}function nE(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var rE=1,iE=2,sE="[object Boolean]",oE="[object Date]",aE="[object Error]",lE="[object Map]",cE="[object Number]",uE="[object RegExp]",fE="[object Set]",hE="[object String]",dE="[object Symbol]",pE="[object ArrayBuffer]",gE="[object DataView]",hh=Sn?Sn.prototype:void 0,Oa=hh?hh.valueOf:void 0;function vE(e,t,n,r,s,p,m){switch(n){case gE:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case pE:return!(e.byteLength!=t.byteLength||!p(new uo(e),new uo(t)));case sE:case oE:case cE:return Sc(+e,+t);case aE:return e.name==t.name&&e.message==t.message;case uE:case hE:return e==t+"";case lE:var c=tE;case fE:var i=r&rE;if(c||(c=nE),e.size!=t.size&&!i)return!1;var h=m.get(e);if(h)return h==t;r|=iE,m.set(e,t);var f=Lg(c(e),c(t),r,s,p,m);return m.delete(e),f;case dE:if(Oa)return Oa.call(e)==Oa.call(t)}return!1}var mE=1,_E=Object.prototype,yE=_E.hasOwnProperty;function bE(e,t,n,r,s,p){var m=n&mE,c=dl(e),i=c.length,h=dl(t),f=h.length;if(i!=f&&!m)return!1;for(var o=i;o--;){var l=c[o];if(!(m?l in t:yE.call(t,l)))return!1}var a=p.get(e),u=p.get(t);if(a&&u)return a==t&&u==e;var g=!0;p.set(e,t),p.set(t,e);for(var d=m;++o<i;){l=c[o];var v=e[l],_=t[l];if(r)var y=m?r(_,v,l,t,e,p):r(v,_,l,e,t,p);if(!(y===void 0?v===_||s(v,_,n,r,p):y)){g=!1;break}d||(d=l=="constructor")}if(g&&!d){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(g=!1)}return p.delete(e),p.delete(t),g}var wE=1,dh="[object Arguments]",ph="[object Array]",ks="[object Object]",CE=Object.prototype,gh=CE.hasOwnProperty;function SE(e,t,n,r,s,p){var m=Nn(e),c=Nn(t),i=m?ph:ns(e),h=c?ph:ns(t);i=i==dh?ks:i,h=h==dh?ks:h;var f=i==ks,o=h==ks,l=i==h;if(l&&co(e)){if(!co(t))return!1;m=!0,f=!1}if(l&&!f)return p||(p=new Ln),m||xg(e)?Lg(e,t,n,r,s,p):vE(e,t,i,n,r,s,p);if(!(n&wE)){var a=f&&gh.call(e,"__wrapped__"),u=o&&gh.call(t,"__wrapped__");if(a||u){var g=a?e.value():e,d=u?t.value():t;return p||(p=new Ln),s(g,d,n,r,p)}}return l?(p||(p=new Ln),bE(e,t,n,r,s,p)):!1}function Bg(e,t,n,r,s){return e===t?!0:e==null||t==null||!lr(e)&&!lr(t)?e!==e&&t!==t:SE(e,t,n,r,Bg,s)}var xE=function(){return hn.Date.now()};const Ea=xE;var TE="Expected a function",OE=Math.max,EE=Math.min;function PE(e,t,n){var r,s,p,m,c,i,h=0,f=!1,o=!1,l=!0;if(typeof e!="function")throw new TypeError(TE);t=Wf(t)||0,zn(n)&&(f=!!n.leading,o="maxWait"in n,p=o?OE(Wf(n.maxWait)||0,t):p,l="trailing"in n?!!n.trailing:l);function a(C){var S=r,O=s;return r=s=void 0,h=C,m=e.apply(O,S),m}function u(C){return h=C,c=setTimeout(v,t),f?a(C):m}function g(C){var S=C-i,O=C-h,B=t-S;return o?EE(B,p-O):B}function d(C){var S=C-i,O=C-h;return i===void 0||S>=t||S<0||o&&O>=p}function v(){var C=Ea();if(d(C))return _(C);c=setTimeout(v,g(C))}function _(C){return c=void 0,l&&r?a(C):(r=s=void 0,m)}function y(){c!==void 0&&clearTimeout(c),h=0,r=i=s=c=void 0}function b(){return c===void 0?m:_(Ea())}function w(){var C=Ea(),S=d(C);if(r=arguments,s=this,i=C,S){if(c===void 0)return u(i);if(o)return clearTimeout(c),c=setTimeout(v,t),a(i)}return c===void 0&&(c=setTimeout(v,t)),m}return w.cancel=y,w.flush=b,w}function ho(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function kE(e,t){return Bg(e,t)}function vi(e){return e==null}function AE(e){return e===void 0}var RE="Expected a function";function Ys(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(RE);return zn(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),PE(e,t,{leading:r,maxWait:t,trailing:s})}const ME=e=>e===void 0,Rc=e=>typeof e=="boolean",ut=e=>typeof e=="number",ti=e=>typeof Element>"u"?!1:e instanceof Element,IE=e=>Be(e)?!Number.isNaN(Number(e)):!1,ml=e=>Object.keys(e),DE=e=>Object.entries(e);class FE extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Xo(e,t){throw new FE(`[${e}] ${t}`)}const LE=(e,t)=>{var n;if(!Je||!e||!t)return"";let r=cn(t);r==="float"&&(r="cssFloat");try{const s=e.style[r];if(s)return s;const p=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return p?p[r]:""}catch{return e.style[r]}};function rs(e,t="px"){if(!e)return"";if(ut(e)||IE(e))return`${e}${t}`;if(Be(e))return e}const BE=(e,t)=>{if(!Je)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=LE(e,n);return["scroll","auto","overlay"].some(s=>r.includes(s))},$E=(e,t)=>{if(!Je)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(BE(n,t))return n;n=n.parentNode}return n},$g="__epPropKey",we=e=>e,jE=e=>$e(e)&&!!e[$g],Vo=(e,t)=>{if(!$e(e)||jE(e))return e;const{values:n,required:r,default:s,type:p,validator:m}=e,i={type:p,required:!!r,validator:n||m?h=>{let f=!1,o=[];if(n&&(o=Array.from(n),Ie(e,"default")&&o.push(s),f||(f=o.includes(h))),m&&(f||(f=m(h))),!f&&o.length>0){const l=[...new Set(o)].map(a=>JSON.stringify(a)).join(", ");F0(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${l}], got value ${JSON.stringify(h)}.`)}return f}:void 0,[$g]:!0};return Ie(e,"default")&&(i.default=s),i},We=e=>ho(Object.entries(e).map(([t,n])=>[t,Vo(n,t)])),ni=we([String,Object,Function]),NE={Close:jo,SuccessFilled:fg,InfoFilled:cg,WarningFilled:bc,CircleCloseFilled:lg},vh={success:fg,warning:bc,error:lg,info:cg},zE={validating:ug,success:_c,error:yc},Wt=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},HE=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),UE=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Mc=e=>(e.install=Ne,e),jg=(...e)=>t=>{e.forEach(n=>{Pe(n)?n(t):n.value=t})},He={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},_l="update:modelValue",WE=["","default","small","large"],YE=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),Or=e=>e,XE=["class","style"],VE=/^on[A-Z]/,Ng=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=q(()=>(n?.value||[]).concat(XE)),s=xt();return q(s?()=>{var p;return ho(Object.entries((p=s.proxy)==null?void 0:p.$attrs).filter(([m])=>!r.value.includes(m)&&!(t&&VE.test(m))))}:()=>({}))},GE=({from:e,replacement:t,scope:n,version:r,ref:s,type:p="API"},m)=>{Ae(()=>x(m),c=>{},{immediate:!0})};var KE={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const qE=e=>(t,n)=>JE(t,n,x(e)),JE=(e,t,n)=>sT(n,e,e).replace(/\{(\w+)\}/g,(r,s)=>{var p;return`${(p=t?.[s])!=null?p:`{${s}}`}`}),ZE=e=>{const t=q(()=>x(e).name),n=ct(e)?e:fe(e);return{lang:t,locale:n,t:qE(e)}},zg=Symbol("localeContextKey"),ds=e=>{const t=e||ke(zg,fe());return ZE(q(()=>t.value||KE))},Xs="el",QE="is-",gr=(e,t,n,r,s)=>{let p=`${e}-${t}`;return n&&(p+=`-${n}`),r&&(p+=`__${r}`),s&&(p+=`--${s}`),p},Hg=Symbol("namespaceContextKey"),Ic=e=>{const t=e||(xt()?ke(Hg,fe(Xs)):fe(Xs));return q(()=>x(t)||Xs)},Ve=(e,t)=>{const n=Ic(t);return{namespace:n,b:(g="")=>gr(n.value,e,g,"",""),e:g=>g?gr(n.value,e,"",g,""):"",m:g=>g?gr(n.value,e,"","",g):"",be:(g,d)=>g&&d?gr(n.value,e,g,d,""):"",em:(g,d)=>g&&d?gr(n.value,e,"",g,d):"",bm:(g,d)=>g&&d?gr(n.value,e,g,"",d):"",bem:(g,d,v)=>g&&d&&v?gr(n.value,e,g,d,v):"",is:(g,...d)=>{const v=d.length>=1?d[0]:!0;return g&&v?`${QE}${g}`:""},cssVar:g=>{const d={};for(const v in g)g[v]&&(d[`--${n.value}-${v}`]=g[v]);return d},cssVarName:g=>`--${n.value}-${g}`,cssVarBlock:g=>{const d={};for(const v in g)g[v]&&(d[`--${n.value}-${e}-${v}`]=g[v]);return d},cssVarBlockName:g=>`--${n.value}-${e}-${g}`}},eP=Vo({type:we(Boolean),default:null}),tP=Vo({type:we(Function)}),Ug=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],s={[e]:eP,[n]:tP};return{useModelToggle:({indicator:m,toggleReason:c,shouldHideWhenRouteChanges:i,shouldProceed:h,onShow:f,onHide:o})=>{const l=xt(),{emit:a}=l,u=l.props,g=q(()=>Pe(u[n])),d=q(()=>u[e]===null),v=S=>{m.value!==!0&&(m.value=!0,c&&(c.value=S),Pe(f)&&f(S))},_=S=>{m.value!==!1&&(m.value=!1,c&&(c.value=S),Pe(o)&&o(S))},y=S=>{if(u.disabled===!0||Pe(h)&&!h())return;const O=g.value&&Je;O&&a(t,!0),(d.value||!O)&&v(S)},b=S=>{if(u.disabled===!0||!Je)return;const O=g.value&&Je;O&&a(t,!1),(d.value||!O)&&_(S)},w=S=>{Rc(S)&&(u.disabled&&S?g.value&&a(t,!1):m.value!==S&&(S?v():_()))},C=()=>{m.value?b():y()};return Ae(()=>u[e],w),i&&l.appContext.config.globalProperties.$route!==void 0&&Ae(()=>({...l.proxy.$route}),()=>{i.value&&m.value&&b()}),Qe(()=>{w(u[e])}),{hide:b,show:y,toggle:C,hasUpdateHandler:g}},useModelToggleProps:s,useModelToggleEmits:r}};Ug("modelValue");const Wg=e=>{const t=xt();return q(()=>{var n,r;return(r=(n=t?.proxy)==null?void 0:n.$props)==null?void 0:r[e]})};var It="top",en="bottom",tn="right",Dt="left",Dc="auto",ps=[It,en,tn,Dt],ri="start",is="end",nP="clippingParents",Yg="viewport",Ti="popper",rP="reference",mh=ps.reduce(function(e,t){return e.concat([t+"-"+ri,t+"-"+is])},[]),Fc=[].concat(ps,[Dc]).reduce(function(e,t){return e.concat([t,t+"-"+ri,t+"-"+is])},[]),iP="beforeRead",sP="read",oP="afterRead",aP="beforeMain",lP="main",cP="afterMain",uP="beforeWrite",fP="write",hP="afterWrite",dP=[iP,sP,oP,aP,lP,cP,uP,fP,hP];function xn(e){return e?(e.nodeName||"").toLowerCase():null}function dn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ii(e){var t=dn(e).Element;return e instanceof t||e instanceof Element}function Zt(e){var t=dn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Lc(e){if(typeof ShadowRoot>"u")return!1;var t=dn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function pP(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},p=t.elements[n];!Zt(p)||!xn(p)||(Object.assign(p.style,r),Object.keys(s).forEach(function(m){var c=s[m];c===!1?p.removeAttribute(m):p.setAttribute(m,c===!0?"":c)}))})}function gP(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],p=t.attributes[r]||{},m=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=m.reduce(function(i,h){return i[h]="",i},{});!Zt(s)||!xn(s)||(Object.assign(s.style,c),Object.keys(p).forEach(function(i){s.removeAttribute(i)}))})}}var Xg={name:"applyStyles",enabled:!0,phase:"write",fn:pP,effect:gP,requires:["computeStyles"]};function Cn(e){return e.split("-")[0]}var xr=Math.max,po=Math.min,si=Math.round;function oi(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,s=1;if(Zt(e)&&t){var p=e.offsetHeight,m=e.offsetWidth;m>0&&(r=si(n.width)/m||1),p>0&&(s=si(n.height)/p||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function Bc(e){var t=oi(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Vg(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Lc(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Hn(e){return dn(e).getComputedStyle(e)}function vP(e){return["table","td","th"].indexOf(xn(e))>=0}function cr(e){return((ii(e)?e.ownerDocument:e.document)||window.document).documentElement}function Go(e){return xn(e)==="html"?e:e.assignedSlot||e.parentNode||(Lc(e)?e.host:null)||cr(e)}function _h(e){return!Zt(e)||Hn(e).position==="fixed"?null:e.offsetParent}function mP(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Zt(e)){var r=Hn(e);if(r.position==="fixed")return null}var s=Go(e);for(Lc(s)&&(s=s.host);Zt(s)&&["html","body"].indexOf(xn(s))<0;){var p=Hn(s);if(p.transform!=="none"||p.perspective!=="none"||p.contain==="paint"||["transform","perspective"].indexOf(p.willChange)!==-1||t&&p.willChange==="filter"||t&&p.filter&&p.filter!=="none")return s;s=s.parentNode}return null}function gs(e){for(var t=dn(e),n=_h(e);n&&vP(n)&&Hn(n).position==="static";)n=_h(n);return n&&(xn(n)==="html"||xn(n)==="body"&&Hn(n).position==="static")?t:n||mP(e)||t}function $c(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $i(e,t,n){return xr(e,po(t,n))}function _P(e,t,n){var r=$i(e,t,n);return r>n?n:r}function Gg(){return{top:0,right:0,bottom:0,left:0}}function Kg(e){return Object.assign({},Gg(),e)}function qg(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var yP=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Kg(typeof e!="number"?e:qg(e,ps))};function bP(e){var t,n=e.state,r=e.name,s=e.options,p=n.elements.arrow,m=n.modifiersData.popperOffsets,c=Cn(n.placement),i=$c(c),h=[Dt,tn].indexOf(c)>=0,f=h?"height":"width";if(!(!p||!m)){var o=yP(s.padding,n),l=Bc(p),a=i==="y"?It:Dt,u=i==="y"?en:tn,g=n.rects.reference[f]+n.rects.reference[i]-m[i]-n.rects.popper[f],d=m[i]-n.rects.reference[i],v=gs(p),_=v?i==="y"?v.clientHeight||0:v.clientWidth||0:0,y=g/2-d/2,b=o[a],w=_-l[f]-o[u],C=_/2-l[f]/2+y,S=$i(b,C,w),O=i;n.modifiersData[r]=(t={},t[O]=S,t.centerOffset=S-C,t)}}function wP(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!Vg(t.elements.popper,s)||(t.elements.arrow=s))}var CP={name:"arrow",enabled:!0,phase:"main",fn:bP,effect:wP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ai(e){return e.split("-")[1]}var SP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xP(e){var t=e.x,n=e.y,r=window,s=r.devicePixelRatio||1;return{x:si(t*s)/s||0,y:si(n*s)/s||0}}function yh(e){var t,n=e.popper,r=e.popperRect,s=e.placement,p=e.variation,m=e.offsets,c=e.position,i=e.gpuAcceleration,h=e.adaptive,f=e.roundOffsets,o=e.isFixed,l=m.x,a=l===void 0?0:l,u=m.y,g=u===void 0?0:u,d=typeof f=="function"?f({x:a,y:g}):{x:a,y:g};a=d.x,g=d.y;var v=m.hasOwnProperty("x"),_=m.hasOwnProperty("y"),y=Dt,b=It,w=window;if(h){var C=gs(n),S="clientHeight",O="clientWidth";if(C===dn(n)&&(C=cr(n),Hn(C).position!=="static"&&c==="absolute"&&(S="scrollHeight",O="scrollWidth")),C=C,s===It||(s===Dt||s===tn)&&p===is){b=en;var B=o&&C===w&&w.visualViewport?w.visualViewport.height:C[S];g-=B-r.height,g*=i?1:-1}if(s===Dt||(s===It||s===en)&&p===is){y=tn;var W=o&&C===w&&w.visualViewport?w.visualViewport.width:C[O];a-=W-r.width,a*=i?1:-1}}var K=Object.assign({position:c},h&&SP),z=f===!0?xP({x:a,y:g}):{x:a,y:g};if(a=z.x,g=z.y,i){var re;return Object.assign({},K,(re={},re[b]=_?"0":"",re[y]=v?"0":"",re.transform=(w.devicePixelRatio||1)<=1?"translate("+a+"px, "+g+"px)":"translate3d("+a+"px, "+g+"px, 0)",re))}return Object.assign({},K,(t={},t[b]=_?g+"px":"",t[y]=v?a+"px":"",t.transform="",t))}function TP(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,p=n.adaptive,m=p===void 0?!0:p,c=n.roundOffsets,i=c===void 0?!0:c,h={placement:Cn(t.placement),variation:ai(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,yh(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:m,roundOffsets:i})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,yh(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Jg={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:TP,data:{}},As={passive:!0};function OP(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,p=s===void 0?!0:s,m=r.resize,c=m===void 0?!0:m,i=dn(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return p&&h.forEach(function(f){f.addEventListener("scroll",n.update,As)}),c&&i.addEventListener("resize",n.update,As),function(){p&&h.forEach(function(f){f.removeEventListener("scroll",n.update,As)}),c&&i.removeEventListener("resize",n.update,As)}}var Zg={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:OP,data:{}},EP={left:"right",right:"left",bottom:"top",top:"bottom"};function Vs(e){return e.replace(/left|right|bottom|top/g,function(t){return EP[t]})}var PP={start:"end",end:"start"};function bh(e){return e.replace(/start|end/g,function(t){return PP[t]})}function jc(e){var t=dn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Nc(e){return oi(cr(e)).left+jc(e).scrollLeft}function kP(e){var t=dn(e),n=cr(e),r=t.visualViewport,s=n.clientWidth,p=n.clientHeight,m=0,c=0;return r&&(s=r.width,p=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(m=r.offsetLeft,c=r.offsetTop)),{width:s,height:p,x:m+Nc(e),y:c}}function AP(e){var t,n=cr(e),r=jc(e),s=(t=e.ownerDocument)==null?void 0:t.body,p=xr(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),m=xr(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-r.scrollLeft+Nc(e),i=-r.scrollTop;return Hn(s||n).direction==="rtl"&&(c+=xr(n.clientWidth,s?s.clientWidth:0)-p),{width:p,height:m,x:c,y:i}}function zc(e){var t=Hn(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function Qg(e){return["html","body","#document"].indexOf(xn(e))>=0?e.ownerDocument.body:Zt(e)&&zc(e)?e:Qg(Go(e))}function ji(e,t){var n;t===void 0&&(t=[]);var r=Qg(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),p=dn(r),m=s?[p].concat(p.visualViewport||[],zc(r)?r:[]):r,c=t.concat(m);return s?c:c.concat(ji(Go(m)))}function yl(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function RP(e){var t=oi(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function wh(e,t){return t===Yg?yl(kP(e)):ii(t)?RP(t):yl(AP(cr(e)))}function MP(e){var t=ji(Go(e)),n=["absolute","fixed"].indexOf(Hn(e).position)>=0,r=n&&Zt(e)?gs(e):e;return ii(r)?t.filter(function(s){return ii(s)&&Vg(s,r)&&xn(s)!=="body"}):[]}function IP(e,t,n){var r=t==="clippingParents"?MP(e):[].concat(t),s=[].concat(r,[n]),p=s[0],m=s.reduce(function(c,i){var h=wh(e,i);return c.top=xr(h.top,c.top),c.right=po(h.right,c.right),c.bottom=po(h.bottom,c.bottom),c.left=xr(h.left,c.left),c},wh(e,p));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function ev(e){var t=e.reference,n=e.element,r=e.placement,s=r?Cn(r):null,p=r?ai(r):null,m=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,i;switch(s){case It:i={x:m,y:t.y-n.height};break;case en:i={x:m,y:t.y+t.height};break;case tn:i={x:t.x+t.width,y:c};break;case Dt:i={x:t.x-n.width,y:c};break;default:i={x:t.x,y:t.y}}var h=s?$c(s):null;if(h!=null){var f=h==="y"?"height":"width";switch(p){case ri:i[h]=i[h]-(t[f]/2-n[f]/2);break;case is:i[h]=i[h]+(t[f]/2-n[f]/2);break}}return i}function ss(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,p=n.boundary,m=p===void 0?nP:p,c=n.rootBoundary,i=c===void 0?Yg:c,h=n.elementContext,f=h===void 0?Ti:h,o=n.altBoundary,l=o===void 0?!1:o,a=n.padding,u=a===void 0?0:a,g=Kg(typeof u!="number"?u:qg(u,ps)),d=f===Ti?rP:Ti,v=e.rects.popper,_=e.elements[l?d:f],y=IP(ii(_)?_:_.contextElement||cr(e.elements.popper),m,i),b=oi(e.elements.reference),w=ev({reference:b,element:v,strategy:"absolute",placement:s}),C=yl(Object.assign({},v,w)),S=f===Ti?C:b,O={top:y.top-S.top+g.top,bottom:S.bottom-y.bottom+g.bottom,left:y.left-S.left+g.left,right:S.right-y.right+g.right},B=e.modifiersData.offset;if(f===Ti&&B){var W=B[s];Object.keys(O).forEach(function(K){var z=[tn,en].indexOf(K)>=0?1:-1,re=[It,en].indexOf(K)>=0?"y":"x";O[K]+=W[re]*z})}return O}function DP(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,p=n.rootBoundary,m=n.padding,c=n.flipVariations,i=n.allowedAutoPlacements,h=i===void 0?Fc:i,f=ai(r),o=f?c?mh:mh.filter(function(u){return ai(u)===f}):ps,l=o.filter(function(u){return h.indexOf(u)>=0});l.length===0&&(l=o);var a=l.reduce(function(u,g){return u[g]=ss(e,{placement:g,boundary:s,rootBoundary:p,padding:m})[Cn(g)],u},{});return Object.keys(a).sort(function(u,g){return a[u]-a[g]})}function FP(e){if(Cn(e)===Dc)return[];var t=Vs(e);return[bh(e),t,bh(t)]}function LP(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,p=s===void 0?!0:s,m=n.altAxis,c=m===void 0?!0:m,i=n.fallbackPlacements,h=n.padding,f=n.boundary,o=n.rootBoundary,l=n.altBoundary,a=n.flipVariations,u=a===void 0?!0:a,g=n.allowedAutoPlacements,d=t.options.placement,v=Cn(d),_=v===d,y=i||(_||!u?[Vs(d)]:FP(d)),b=[d].concat(y).reduce(function(M,P){return M.concat(Cn(P)===Dc?DP(t,{placement:P,boundary:f,rootBoundary:o,padding:h,flipVariations:u,allowedAutoPlacements:g}):P)},[]),w=t.rects.reference,C=t.rects.popper,S=new Map,O=!0,B=b[0],W=0;W<b.length;W++){var K=b[W],z=Cn(K),re=ai(K)===ri,se=[It,en].indexOf(z)>=0,ce=se?"width":"height",he=ss(t,{placement:K,boundary:f,rootBoundary:o,altBoundary:l,padding:h}),V=se?re?tn:Dt:re?en:It;w[ce]>C[ce]&&(V=Vs(V));var Z=Vs(V),T=[];if(p&&T.push(he[z]<=0),c&&T.push(he[V]<=0,he[Z]<=0),T.every(function(M){return M})){B=K,O=!1;break}S.set(K,T)}if(O)for(var I=u?3:1,F=function(M){var P=b.find(function(U){var R=S.get(U);if(R)return R.slice(0,M).every(function(L){return L})});if(P)return B=P,"break"},D=I;D>0;D--){var ne=F(D);if(ne==="break")break}t.placement!==B&&(t.modifiersData[r]._skip=!0,t.placement=B,t.reset=!0)}}var BP={name:"flip",enabled:!0,phase:"main",fn:LP,requiresIfExists:["offset"],data:{_skip:!1}};function Ch(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Sh(e){return[It,tn,en,Dt].some(function(t){return e[t]>=0})}function $P(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,p=t.modifiersData.preventOverflow,m=ss(t,{elementContext:"reference"}),c=ss(t,{altBoundary:!0}),i=Ch(m,r),h=Ch(c,s,p),f=Sh(i),o=Sh(h);t.modifiersData[n]={referenceClippingOffsets:i,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:o},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":o})}var jP={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$P};function NP(e,t,n){var r=Cn(e),s=[Dt,It].indexOf(r)>=0?-1:1,p=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,m=p[0],c=p[1];return m=m||0,c=(c||0)*s,[Dt,tn].indexOf(r)>=0?{x:c,y:m}:{x:m,y:c}}function zP(e){var t=e.state,n=e.options,r=e.name,s=n.offset,p=s===void 0?[0,0]:s,m=Fc.reduce(function(f,o){return f[o]=NP(o,t.rects,p),f},{}),c=m[t.placement],i=c.x,h=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=m}var HP={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zP};function UP(e){var t=e.state,n=e.name;t.modifiersData[n]=ev({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var tv={name:"popperOffsets",enabled:!0,phase:"read",fn:UP,data:{}};function WP(e){return e==="x"?"y":"x"}function YP(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,p=s===void 0?!0:s,m=n.altAxis,c=m===void 0?!1:m,i=n.boundary,h=n.rootBoundary,f=n.altBoundary,o=n.padding,l=n.tether,a=l===void 0?!0:l,u=n.tetherOffset,g=u===void 0?0:u,d=ss(t,{boundary:i,rootBoundary:h,padding:o,altBoundary:f}),v=Cn(t.placement),_=ai(t.placement),y=!_,b=$c(v),w=WP(b),C=t.modifiersData.popperOffsets,S=t.rects.reference,O=t.rects.popper,B=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,W=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),K=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,z={x:0,y:0};if(C){if(p){var re,se=b==="y"?It:Dt,ce=b==="y"?en:tn,he=b==="y"?"height":"width",V=C[b],Z=V+d[se],T=V-d[ce],I=a?-O[he]/2:0,F=_===ri?S[he]:O[he],D=_===ri?-O[he]:-S[he],ne=t.elements.arrow,M=a&&ne?Bc(ne):{width:0,height:0},P=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Gg(),U=P[se],R=P[ce],L=$i(0,S[he],M[he]),N=y?S[he]/2-I-L-U-W.mainAxis:F-L-U-W.mainAxis,Q=y?-S[he]/2+I+L+R+W.mainAxis:D+L+R+W.mainAxis,oe=t.elements.arrow&&gs(t.elements.arrow),A=oe?b==="y"?oe.clientTop||0:oe.clientLeft||0:0,E=(re=K?.[b])!=null?re:0,k=V+N-E-A,$=V+Q-E,H=$i(a?po(Z,k):Z,V,a?xr(T,$):T);C[b]=H,z[b]=H-V}if(c){var j,Y=b==="x"?It:Dt,ee=b==="x"?en:tn,ae=C[w],ie=w==="y"?"height":"width",J=ae+d[Y],ue=ae-d[ee],ge=[It,Dt].indexOf(v)!==-1,te=(j=K?.[w])!=null?j:0,ve=ge?J:ae-S[ie]-O[ie]-te+W.altAxis,ye=ge?ae+S[ie]+O[ie]-te-W.altAxis:ue,Te=a&&ge?_P(ve,ae,ye):$i(a?ve:J,ae,a?ye:ue);C[w]=Te,z[w]=Te-ae}t.modifiersData[r]=z}}var XP={name:"preventOverflow",enabled:!0,phase:"main",fn:YP,requiresIfExists:["offset"]};function VP(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function GP(e){return e===dn(e)||!Zt(e)?jc(e):VP(e)}function KP(e){var t=e.getBoundingClientRect(),n=si(t.width)/e.offsetWidth||1,r=si(t.height)/e.offsetHeight||1;return n!==1||r!==1}function qP(e,t,n){n===void 0&&(n=!1);var r=Zt(t),s=Zt(t)&&KP(t),p=cr(t),m=oi(e,s),c={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(r||!r&&!n)&&((xn(t)!=="body"||zc(p))&&(c=GP(t)),Zt(t)?(i=oi(t,!0),i.x+=t.clientLeft,i.y+=t.clientTop):p&&(i.x=Nc(p))),{x:m.left+c.scrollLeft-i.x,y:m.top+c.scrollTop-i.y,width:m.width,height:m.height}}function JP(e){var t=new Map,n=new Set,r=[];e.forEach(function(p){t.set(p.name,p)});function s(p){n.add(p.name);var m=[].concat(p.requires||[],p.requiresIfExists||[]);m.forEach(function(c){if(!n.has(c)){var i=t.get(c);i&&s(i)}}),r.push(p)}return e.forEach(function(p){n.has(p.name)||s(p)}),r}function ZP(e){var t=JP(e);return dP.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function QP(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function ek(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var xh={placement:"bottom",modifiers:[],strategy:"absolute"};function Th(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Hc(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,p=s===void 0?xh:s;return function(m,c,i){i===void 0&&(i=p);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},xh,p),modifiersData:{},elements:{reference:m,popper:c},attributes:{},styles:{}},f=[],o=!1,l={state:h,setOptions:function(g){var d=typeof g=="function"?g(h.options):g;u(),h.options=Object.assign({},p,h.options,d),h.scrollParents={reference:ii(m)?ji(m):m.contextElement?ji(m.contextElement):[],popper:ji(c)};var v=ZP(ek([].concat(r,h.options.modifiers)));return h.orderedModifiers=v.filter(function(_){return _.enabled}),a(),l.update()},forceUpdate:function(){if(!o){var g=h.elements,d=g.reference,v=g.popper;if(Th(d,v)){h.rects={reference:qP(d,gs(v),h.options.strategy==="fixed"),popper:Bc(v)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(O){return h.modifiersData[O.name]=Object.assign({},O.data)});for(var _=0;_<h.orderedModifiers.length;_++){if(h.reset===!0){h.reset=!1,_=-1;continue}var y=h.orderedModifiers[_],b=y.fn,w=y.options,C=w===void 0?{}:w,S=y.name;typeof b=="function"&&(h=b({state:h,options:C,name:S,instance:l})||h)}}}},update:QP(function(){return new Promise(function(g){l.forceUpdate(),g(h)})}),destroy:function(){u(),o=!0}};if(!Th(m,c))return l;l.setOptions(i).then(function(g){!o&&i.onFirstUpdate&&i.onFirstUpdate(g)});function a(){h.orderedModifiers.forEach(function(g){var d=g.name,v=g.options,_=v===void 0?{}:v,y=g.effect;if(typeof y=="function"){var b=y({state:h,name:d,instance:l,options:_}),w=function(){};f.push(b||w)}})}function u(){f.forEach(function(g){return g()}),f=[]}return l}}Hc();var tk=[Zg,tv,Jg,Xg];Hc({defaultModifiers:tk});var nk=[Zg,tv,Jg,Xg,HP,BP,XP,CP,jP],rk=Hc({defaultModifiers:nk});const ik=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:i})=>{const h=sk(i);Object.assign(m.value,h)},requires:["computeStyles"]},s=q(()=>{const{onFirstUpdate:i,placement:h,strategy:f,modifiers:o}=x(n);return{onFirstUpdate:i,placement:h||"bottom",strategy:f||"absolute",modifiers:[...o||[],r,{name:"applyStyles",enabled:!1}]}}),p=qt(),m=fe({styles:{popper:{position:x(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=()=>{p.value&&(p.value.destroy(),p.value=void 0)};return Ae(s,i=>{const h=x(p);h&&h.setOptions(i)},{deep:!0}),Ae([e,t],([i,h])=>{c(),!(!i||!h)&&(p.value=rk(i,h,x(s)))}),Lt(()=>{c()}),{state:q(()=>{var i;return{...((i=x(p))==null?void 0:i.state)||{}}}),styles:q(()=>x(m).styles),attributes:q(()=>x(m).attributes),update:()=>{var i;return(i=x(p))==null?void 0:i.update()},forceUpdate:()=>{var i;return(i=x(p))==null?void 0:i.forceUpdate()},instanceRef:q(()=>x(p))}};function sk(e){const t=Object.keys(e.elements),n=ho(t.map(s=>[s,e.styles[s]||{}])),r=ho(t.map(s=>[s,e.attributes[s]]));return{styles:n,attributes:r}}function Oh(){let e;const t=(r,s)=>{n(),e=window.setTimeout(r,s)},n=()=>window.clearTimeout(e);return zo(()=>n()),{registerTimeout:t,cancelTimeout:n}}const Eh={prefix:Math.floor(Math.random()*1e4),current:0},ok=Symbol("elIdInjection"),nv=()=>xt()?ke(ok,Eh):Eh,Ko=e=>{const t=nv(),n=Ic();return q(()=>x(e)||`${n.value}-id-${t.prefix}-${t.current++}`)};let Hr=[];const Ph=e=>{const t=e;t.key===He.esc&&Hr.forEach(n=>n(t))},ak=e=>{Qe(()=>{Hr.length===0&&document.addEventListener("keydown",Ph),Je&&Hr.push(e)}),Lt(()=>{Hr=Hr.filter(t=>t!==e),Hr.length===0&&Je&&document.removeEventListener("keydown",Ph)})};let kh;const rv=()=>{const e=Ic(),t=nv(),n=q(()=>`${e.value}-popper-container-${t.prefix}`),r=q(()=>`#${n.value}`);return{id:n,selector:r}},lk=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},ck=()=>{const{id:e,selector:t}=rv();return ap(()=>{Je&&!kh&&!document.body.querySelector(t.value)&&(kh=lk(e.value))}),{id:e,selector:t}},uk=We({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),fk=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:s})=>{const{registerTimeout:p}=Oh(),{registerTimeout:m,cancelTimeout:c}=Oh();return{onOpen:f=>{p(()=>{r(f);const o=x(n);ut(o)&&o>0&&m(()=>{s(f)},o)},x(e))},onClose:f=>{c(),p(()=>{s(f)},x(t))}}},iv=Symbol("elForwardRef"),hk=e=>{tt(iv,{setForwardRef:n=>{e.value=n}})},dk=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),Ah=fe(0),sv=2e3,ov=Symbol("zIndexContextKey"),Uc=e=>{const t=e||(xt()?ke(ov,void 0):void 0),n=q(()=>{const p=x(t);return ut(p)?p:sv}),r=q(()=>n.value+Ah.value);return{initialZIndex:n,currentZIndex:r,nextZIndex:()=>(Ah.value++,r.value)}};function pk(e){const t=fe();function n(){if(e.value==null)return;const{selectionStart:s,selectionEnd:p,value:m}=e.value;if(s==null||p==null)return;const c=m.slice(0,Math.max(0,s)),i=m.slice(Math.max(0,p));t.value={selectionStart:s,selectionEnd:p,value:m,beforeTxt:c,afterTxt:i}}function r(){if(e.value==null||t.value==null)return;const{value:s}=e.value,{beforeTxt:p,afterTxt:m,selectionStart:c}=t.value;if(p==null||m==null||c==null)return;let i=s.length;if(s.endsWith(m))i=s.length-m.length;else if(s.startsWith(p))i=p.length;else{const h=p[c-1],f=s.indexOf(h,c-1);f!==-1&&(i=f+1)}e.value.setSelectionRange(i,i)}return[n,r]}const av=Vo({type:String,values:WE,required:!1}),lv=Symbol("size"),gk=()=>{const e=ke(lv,{});return q(()=>x(e.size)||"")};function vk(e,{afterFocus:t,beforeBlur:n,afterBlur:r}={}){const s=xt(),{emit:p}=s,m=qt(),c=fe(!1),i=o=>{c.value||(c.value=!0,p("focus",o),t?.())},h=o=>{var l;Pe(n)&&n(o)||o.relatedTarget&&((l=m.value)!=null&&l.contains(o.relatedTarget))||(c.value=!1,p("blur",o),r?.())},f=()=>{var o;(o=e.value)==null||o.focus()};return Ae(m,o=>{o&&o.setAttribute("tabindex","-1")}),Pt(m,"click",f),{wrapperRef:m,isFocused:c,handleFocus:i,handleBlur:h}}const cv=Symbol(),go=fe();function Wc(e,t=void 0){const n=xt()?ke(cv,go):go;return e?q(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[e])!=null?s:t}):n}function mk(e,t){const n=Wc(),r=Ve(e,q(()=>{var c;return((c=n.value)==null?void 0:c.namespace)||Xs})),s=ds(q(()=>{var c;return(c=n.value)==null?void 0:c.locale})),p=Uc(q(()=>{var c;return((c=n.value)==null?void 0:c.zIndex)||sv})),m=q(()=>{var c;return x(t)||((c=n.value)==null?void 0:c.size)||""});return _k(q(()=>x(n)||{})),{ns:r,locale:s,zIndex:p,size:m}}const _k=(e,t,n=!1)=>{var r;const s=!!xt(),p=s?Wc():void 0,m=(r=t?.provide)!=null?r:s?tt:void 0;if(!m)return;const c=q(()=>{const i=x(e);return p?.value?yk(p.value,i):i});return m(cv,c),m(zg,q(()=>c.value.locale)),m(Hg,q(()=>c.value.namespace)),m(ov,q(()=>c.value.zIndex)),m(lv,{size:q(()=>c.value.size||"")}),(n||!go.value)&&(go.value=c.value),c},yk=(e,t)=>{var n;const r=[...new Set([...ml(e),...ml(t)])],s={};for(const p of r)s[p]=(n=t[p])!=null?n:e[p];return s},Rh={};var je=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const bk=We({size:{type:we([Number,String])},color:{type:String}}),wk=xe({name:"ElIcon",inheritAttrs:!1}),Ck=xe({...wk,props:bk,setup(e){const t=e,n=Ve("icon"),r=q(()=>{const{size:s,color:p}=t;return!s&&!p?{}:{fontSize:ME(s)?void 0:rs(s),"--color":p}});return(s,p)=>(X(),le("i",gt({class:x(n).b(),style:x(r)},s.$attrs),[Ce(s.$slots,"default")],16))}});var Sk=je(Ck,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const ze=Wt(Sk),Yc=Symbol("formContextKey"),vo=Symbol("formItemContextKey"),Xc=(e,t={})=>{const n=fe(void 0),r=t.prop?n:Wg("size"),s=t.global?n:gk(),p=t.form?{size:void 0}:ke(Yc,void 0),m=t.formItem?{size:void 0}:ke(vo,void 0);return q(()=>r.value||x(e)||m?.size||p?.size||s.value||"")},Dr=e=>{const t=Wg("disabled"),n=ke(Yc,void 0);return q(()=>t.value||x(e)||n?.disabled||!1)},uv=()=>{const e=ke(Yc,void 0),t=ke(vo,void 0);return{form:e,formItem:t}},xk=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=fe(!1)),r||(r=fe(!1));const s=fe();let p;const m=q(()=>{var c;return!!(!e.label&&t&&t.inputIds&&((c=t.inputIds)==null?void 0:c.length)<=1)});return Qe(()=>{p=Ae([yt(e,"id"),n],([c,i])=>{const h=c??(i?void 0:Ko().value);h!==s.value&&(t?.removeInputId&&(s.value&&t.removeInputId(s.value),!r?.value&&!i&&h&&t.addInputId(h)),s.value=h)},{immediate:!0})}),hi(()=>{p&&p(),t?.removeInputId&&s.value&&t.removeInputId(s.value)}),{isLabeledByFormItem:m,inputId:s}};let rn;const Tk=`
  height:0 !important;
  visibility:hidden !important;
  ${wS()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Ok=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Ek(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),s=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Ok.map(m=>`${m}:${t.getPropertyValue(m)}`).join(";"),paddingSize:r,borderSize:s,boxSizing:n}}function Mh(e,t=1,n){var r;rn||(rn=document.createElement("textarea"),document.body.appendChild(rn));const{paddingSize:s,borderSize:p,boxSizing:m,contextStyle:c}=Ek(e);rn.setAttribute("style",`${c};${Tk}`),rn.value=e.value||e.placeholder||"";let i=rn.scrollHeight;const h={};m==="border-box"?i=i+p:m==="content-box"&&(i=i-s),rn.value="";const f=rn.scrollHeight-s;if(ut(t)){let o=f*t;m==="border-box"&&(o=o+s+p),i=Math.max(o,i),h.minHeight=`${o}px`}if(ut(n)){let o=f*n;m==="border-box"&&(o=o+s+p),i=Math.min(o,i)}return h.height=`${i}px`,(r=rn.parentNode)==null||r.removeChild(rn),rn=void 0,h}const Pk=We({id:{type:String,default:void 0},size:av,disabled:Boolean,modelValue:{type:we([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:we([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ni},prefixIcon:{type:ni},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:we([Object,Array,String]),default:()=>Or({})},autofocus:{type:Boolean,default:!1}}),kk={[_l]:e=>Be(e),input:e=>Be(e),change:e=>Be(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Ak=["role"],Rk=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Mk=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Ik=xe({name:"ElInput",inheritAttrs:!1}),Dk=xe({...Ik,props:Pk,emits:kk,setup(e,{expose:t,emit:n}){const r=e,s=ic(),p=fp(),m=q(()=>{const te={};return r.containerRole==="combobox"&&(te["aria-haspopup"]=s["aria-haspopup"],te["aria-owns"]=s["aria-owns"],te["aria-expanded"]=s["aria-expanded"]),te}),c=q(()=>[r.type==="textarea"?d.b():g.b(),g.m(a.value),g.is("disabled",u.value),g.is("exceed",M.value),{[g.b("group")]:p.prepend||p.append,[g.bm("group","append")]:p.append,[g.bm("group","prepend")]:p.prepend,[g.m("prefix")]:p.prefix||r.prefixIcon,[g.m("suffix")]:p.suffix||r.suffixIcon||r.clearable||r.showPassword,[g.bm("suffix","password-clear")]:I.value&&F.value},s.class]),i=q(()=>[g.e("wrapper"),g.is("focus",W.value)]),h=Ng({excludeKeys:q(()=>Object.keys(m.value))}),{form:f,formItem:o}=uv(),{inputId:l}=xk(r,{formItemContext:o}),a=Xc(),u=Dr(),g=Ve("input"),d=Ve("textarea"),v=qt(),_=qt(),y=fe(!1),b=fe(!1),w=fe(!1),C=fe(),S=qt(r.inputStyle),O=q(()=>v.value||_.value),{wrapperRef:B,isFocused:W,handleFocus:K,handleBlur:z}=vk(O,{afterBlur(){var te;r.validateEvent&&((te=o?.validate)==null||te.call(o,"blur").catch(ve=>void 0))}}),re=q(()=>{var te;return(te=f?.statusIcon)!=null?te:!1}),se=q(()=>o?.validateState||""),ce=q(()=>se.value&&zE[se.value]),he=q(()=>w.value?EC:B1),V=q(()=>[s.style,r.inputStyle]),Z=q(()=>[r.inputStyle,S.value,{resize:r.resize}]),T=q(()=>vi(r.modelValue)?"":String(r.modelValue)),I=q(()=>r.clearable&&!u.value&&!r.readonly&&!!T.value&&(W.value||y.value)),F=q(()=>r.showPassword&&!u.value&&!r.readonly&&!!T.value&&(!!T.value||W.value)),D=q(()=>r.showWordLimit&&!!h.value.maxlength&&(r.type==="text"||r.type==="textarea")&&!u.value&&!r.readonly&&!r.showPassword),ne=q(()=>T.value.length),M=q(()=>!!D.value&&ne.value>Number(h.value.maxlength)),P=q(()=>!!p.suffix||!!r.suffixIcon||I.value||r.showPassword||D.value||!!se.value&&re.value),[U,R]=pk(v);Cc(_,te=>{if(Q(),!D.value||r.resize!=="both")return;const ve=te[0],{width:ye}=ve.contentRect;C.value={right:`calc(100% - ${ye+15+6}px)`}});const L=()=>{const{type:te,autosize:ve}=r;if(!(!Je||te!=="textarea"||!_.value))if(ve){const ye=$e(ve)?ve.minRows:void 0,Te=$e(ve)?ve.maxRows:void 0,Re=Mh(_.value,ye,Te);S.value={overflowY:"hidden",...Re},ht(()=>{_.value.offsetHeight,S.value=Re})}else S.value={minHeight:Mh(_.value).minHeight}},Q=(te=>{let ve=!1;return()=>{var ye;if(ve||!r.autosize)return;((ye=_.value)==null?void 0:ye.offsetParent)===null||(te(),ve=!0)}})(L),oe=()=>{const te=O.value,ve=r.formatter?r.formatter(T.value):T.value;!te||te.value===ve||(te.value=ve)},A=async te=>{U();let{value:ve}=te.target;if(r.formatter&&(ve=r.parser?r.parser(ve):ve),!b.value){if(ve===T.value){oe();return}n(_l,ve),n("input",ve),await ht(),oe(),R()}},E=te=>{n("change",te.target.value)},k=te=>{n("compositionstart",te),b.value=!0},$=te=>{var ve;n("compositionupdate",te);const ye=(ve=te.target)==null?void 0:ve.value,Te=ye[ye.length-1]||"";b.value=!YE(Te)},H=te=>{n("compositionend",te),b.value&&(b.value=!1,A(te))},j=()=>{w.value=!w.value,Y()},Y=async()=>{var te;await ht(),(te=O.value)==null||te.focus()},ee=()=>{var te;return(te=O.value)==null?void 0:te.blur()},ae=te=>{y.value=!1,n("mouseleave",te)},ie=te=>{y.value=!0,n("mouseenter",te)},J=te=>{n("keydown",te)},ue=()=>{var te;(te=O.value)==null||te.select()},ge=()=>{n(_l,""),n("change",""),n("clear"),n("input","")};return Ae(()=>r.modelValue,()=>{var te;ht(()=>L()),r.validateEvent&&((te=o?.validate)==null||te.call(o,"change").catch(ve=>void 0))}),Ae(T,()=>oe()),Ae(()=>r.type,async()=>{await ht(),oe(),L()}),Qe(()=>{!r.formatter&&r.parser,oe(),ht(L)}),t({input:v,textarea:_,ref:O,textareaStyle:Z,autosize:yt(r,"autosize"),focus:Y,blur:ee,select:ue,clear:ge,resizeTextarea:L}),(te,ve)=>ot((X(),le("div",gt(x(m),{class:x(c),style:x(V),role:te.containerRole,onMouseenter:ie,onMouseleave:ae}),[be(" input "),te.type!=="textarea"?(X(),le(Me,{key:0},[be(" prepend slot "),te.$slots.prepend?(X(),le("div",{key:0,class:me(x(g).be("group","prepend"))},[Ce(te.$slots,"prepend")],2)):be("v-if",!0),G("div",{ref_key:"wrapperRef",ref:B,class:me(x(i))},[be(" prefix slot "),te.$slots.prefix||te.prefixIcon?(X(),le("span",{key:0,class:me(x(g).e("prefix"))},[G("span",{class:me(x(g).e("prefix-inner"))},[Ce(te.$slots,"prefix"),te.prefixIcon?(X(),Se(x(ze),{key:0,class:me(x(g).e("icon"))},{default:_e(()=>[(X(),Se(Kt(te.prefixIcon)))]),_:1},8,["class"])):be("v-if",!0)],2)],2)):be("v-if",!0),G("input",gt({id:x(l),ref_key:"input",ref:v,class:x(g).e("inner")},x(h),{type:te.showPassword?w.value?"text":"password":te.type,disabled:x(u),formatter:te.formatter,parser:te.parser,readonly:te.readonly,autocomplete:te.autocomplete,tabindex:te.tabindex,"aria-label":te.label,placeholder:te.placeholder,style:te.inputStyle,form:r.form,autofocus:r.autofocus,onCompositionstart:k,onCompositionupdate:$,onCompositionend:H,onInput:A,onFocus:ve[0]||(ve[0]=(...ye)=>x(K)&&x(K)(...ye)),onBlur:ve[1]||(ve[1]=(...ye)=>x(z)&&x(z)(...ye)),onChange:E,onKeydown:J}),null,16,Rk),be(" suffix slot "),x(P)?(X(),le("span",{key:1,class:me(x(g).e("suffix"))},[G("span",{class:me(x(g).e("suffix-inner"))},[!x(I)||!x(F)||!x(D)?(X(),le(Me,{key:0},[Ce(te.$slots,"suffix"),te.suffixIcon?(X(),Se(x(ze),{key:0,class:me(x(g).e("icon"))},{default:_e(()=>[(X(),Se(Kt(te.suffixIcon)))]),_:1},8,["class"])):be("v-if",!0)],64)):be("v-if",!0),x(I)?(X(),Se(x(ze),{key:1,class:me([x(g).e("icon"),x(g).e("clear")]),onMousedown:Mt(x(Ne),["prevent"]),onClick:ge},{default:_e(()=>[pe(x(yc))]),_:1},8,["class","onMousedown"])):be("v-if",!0),x(F)?(X(),Se(x(ze),{key:2,class:me([x(g).e("icon"),x(g).e("password")]),onClick:j},{default:_e(()=>[(X(),Se(Kt(x(he))))]),_:1},8,["class"])):be("v-if",!0),x(D)?(X(),le("span",{key:3,class:me(x(g).e("count"))},[G("span",{class:me(x(g).e("count-inner"))},Le(x(ne))+" / "+Le(x(h).maxlength),3)],2)):be("v-if",!0),x(se)&&x(ce)&&x(re)?(X(),Se(x(ze),{key:4,class:me([x(g).e("icon"),x(g).e("validateIcon"),x(g).is("loading",x(se)==="validating")])},{default:_e(()=>[(X(),Se(Kt(x(ce))))]),_:1},8,["class"])):be("v-if",!0)],2)],2)):be("v-if",!0)],2),be(" append slot "),te.$slots.append?(X(),le("div",{key:1,class:me(x(g).be("group","append"))},[Ce(te.$slots,"append")],2)):be("v-if",!0)],64)):(X(),le(Me,{key:1},[be(" textarea "),G("textarea",gt({id:x(l),ref_key:"textarea",ref:_,class:x(d).e("inner")},x(h),{tabindex:te.tabindex,disabled:x(u),readonly:te.readonly,autocomplete:te.autocomplete,style:x(Z),"aria-label":te.label,placeholder:te.placeholder,form:r.form,autofocus:r.autofocus,onCompositionstart:k,onCompositionupdate:$,onCompositionend:H,onInput:A,onFocus:ve[2]||(ve[2]=(...ye)=>x(K)&&x(K)(...ye)),onBlur:ve[3]||(ve[3]=(...ye)=>x(z)&&x(z)(...ye)),onChange:E,onKeydown:J}),null,16,Mk),x(D)?(X(),le("span",{key:0,style:Ue(C.value),class:me(x(g).e("count"))},Le(x(ne))+" / "+Le(x(h).maxlength),7)):be("v-if",!0)],64))],16,Ak)),[[pt,te.type!=="hidden"]])}});var Fk=je(Dk,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Ih=Wt(Fk),Ur=4,Lk={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Bk=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),fv=Symbol("scrollbarContextKey"),$k=We({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),jk="Thumb",Nk=xe({__name:"thumb",props:$k,setup(e){const t=e,n=ke(fv),r=Ve("scrollbar");n||Xo(jk,"can not inject scrollbar context");const s=fe(),p=fe(),m=fe({}),c=fe(!1);let i=!1,h=!1,f=Je?document.onselectstart:null;const o=q(()=>Lk[t.vertical?"vertical":"horizontal"]),l=q(()=>Bk({size:t.size,move:t.move,bar:o.value})),a=q(()=>s.value[o.value.offset]**2/n.wrapElement[o.value.scrollSize]/t.ratio/p.value[o.value.offset]),u=C=>{var S;if(C.stopPropagation(),C.ctrlKey||[1,2].includes(C.button))return;(S=window.getSelection())==null||S.removeAllRanges(),d(C);const O=C.currentTarget;O&&(m.value[o.value.axis]=O[o.value.offset]-(C[o.value.client]-O.getBoundingClientRect()[o.value.direction]))},g=C=>{if(!p.value||!s.value||!n.wrapElement)return;const S=Math.abs(C.target.getBoundingClientRect()[o.value.direction]-C[o.value.client]),O=p.value[o.value.offset]/2,B=(S-O)*100*a.value/s.value[o.value.offset];n.wrapElement[o.value.scroll]=B*n.wrapElement[o.value.scrollSize]/100},d=C=>{C.stopImmediatePropagation(),i=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",_),f=document.onselectstart,document.onselectstart=()=>!1},v=C=>{if(!s.value||!p.value||i===!1)return;const S=m.value[o.value.axis];if(!S)return;const O=(s.value.getBoundingClientRect()[o.value.direction]-C[o.value.client])*-1,B=p.value[o.value.offset]-S,W=(O-B)*100*a.value/s.value[o.value.offset];n.wrapElement[o.value.scroll]=W*n.wrapElement[o.value.scrollSize]/100},_=()=>{i=!1,m.value[o.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",_),w(),h&&(c.value=!1)},y=()=>{h=!1,c.value=!!t.size},b=()=>{h=!0,c.value=i};Lt(()=>{w(),document.removeEventListener("mouseup",_)});const w=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return Pt(yt(n,"scrollbarElement"),"mousemove",y),Pt(yt(n,"scrollbarElement"),"mouseleave",b),(C,S)=>(X(),Se(On,{name:x(r).b("fade"),persisted:""},{default:_e(()=>[ot(G("div",{ref_key:"instance",ref:s,class:me([x(r).e("bar"),x(r).is(x(o).key)]),onMousedown:g},[G("div",{ref_key:"thumb",ref:p,class:me(x(r).e("thumb")),style:Ue(x(l)),onMousedown:u},null,38)],34),[[pt,C.always||c.value]])]),_:1},8,["name"]))}});var Dh=je(Nk,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const zk=We({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Hk=xe({__name:"bar",props:zk,setup(e,{expose:t}){const n=e,r=fe(0),s=fe(0);return t({handleScroll:m=>{if(m){const c=m.offsetHeight-Ur,i=m.offsetWidth-Ur;s.value=m.scrollTop*100/c*n.ratioY,r.value=m.scrollLeft*100/i*n.ratioX}}}),(m,c)=>(X(),le(Me,null,[pe(Dh,{move:r.value,ratio:m.ratioX,size:m.width,always:m.always},null,8,["move","ratio","size","always"]),pe(Dh,{move:s.value,ratio:m.ratioY,size:m.height,vertical:"",always:m.always},null,8,["move","ratio","size","always"])],64))}});var Uk=je(Hk,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Wk=We({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:we([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),Yk={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(ut)},Xk="ElScrollbar",Vk=xe({name:Xk}),Gk=xe({...Vk,props:Wk,emits:Yk,setup(e,{expose:t,emit:n}){const r=e,s=Ve("scrollbar");let p,m;const c=fe(),i=fe(),h=fe(),f=fe("0"),o=fe("0"),l=fe(),a=fe(1),u=fe(1),g=q(()=>{const S={};return r.height&&(S.height=rs(r.height)),r.maxHeight&&(S.maxHeight=rs(r.maxHeight)),[r.wrapStyle,S]}),d=q(()=>[r.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!r.native}]),v=q(()=>[s.e("view"),r.viewClass]),_=()=>{var S;i.value&&((S=l.value)==null||S.handleScroll(i.value),n("scroll",{scrollTop:i.value.scrollTop,scrollLeft:i.value.scrollLeft}))};function y(S,O){$e(S)?i.value.scrollTo(S):ut(S)&&ut(O)&&i.value.scrollTo(S,O)}const b=S=>{ut(S)&&(i.value.scrollTop=S)},w=S=>{ut(S)&&(i.value.scrollLeft=S)},C=()=>{if(!i.value)return;const S=i.value.offsetHeight-Ur,O=i.value.offsetWidth-Ur,B=S**2/i.value.scrollHeight,W=O**2/i.value.scrollWidth,K=Math.max(B,r.minSize),z=Math.max(W,r.minSize);a.value=B/(S-B)/(K/(S-K)),u.value=W/(O-W)/(z/(O-z)),o.value=K+Ur<S?`${K}px`:"",f.value=z+Ur<O?`${z}px`:""};return Ae(()=>r.noresize,S=>{S?(p?.(),m?.()):({stop:p}=Cc(h,C),m=Pt("resize",C))},{immediate:!0}),Ae(()=>[r.maxHeight,r.height],()=>{r.native||ht(()=>{var S;C(),i.value&&((S=l.value)==null||S.handleScroll(i.value))})}),tt(fv,kr({scrollbarElement:c,wrapElement:i})),Qe(()=>{r.native||ht(()=>{C()})}),nc(()=>C()),t({wrapRef:i,update:C,scrollTo:y,setScrollTop:b,setScrollLeft:w,handleScroll:_}),(S,O)=>(X(),le("div",{ref_key:"scrollbarRef",ref:c,class:me(x(s).b())},[G("div",{ref_key:"wrapRef",ref:i,class:me(x(d)),style:Ue(x(g)),onScroll:_},[(X(),Se(Kt(S.tag),{id:S.id,ref_key:"resizeRef",ref:h,class:me(x(v)),style:Ue(S.viewStyle),role:S.role,"aria-label":S.ariaLabel,"aria-orientation":S.ariaOrientation},{default:_e(()=>[Ce(S.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),S.native?be("v-if",!0):(X(),Se(Uk,{key:0,ref_key:"barRef",ref:l,height:o.value,width:f.value,always:S.always,"ratio-x":u.value,"ratio-y":a.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Kk=je(Gk,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const qk=Wt(Kk),Vc=Symbol("popper"),hv=Symbol("popperContent"),Jk=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],dv=We({role:{type:String,values:Jk,default:"tooltip"}}),Zk=xe({name:"ElPopper",inheritAttrs:!1}),Qk=xe({...Zk,props:dv,setup(e,{expose:t}){const n=e,r=fe(),s=fe(),p=fe(),m=fe(),c=q(()=>n.role),i={triggerRef:r,popperInstanceRef:s,contentRef:p,referenceRef:m,role:c};return t(i),tt(Vc,i),(h,f)=>Ce(h.$slots,"default")}});var eA=je(Qk,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const pv=We({arrowOffset:{type:Number,default:5}}),tA=xe({name:"ElPopperArrow",inheritAttrs:!1}),nA=xe({...tA,props:pv,setup(e,{expose:t}){const n=e,r=Ve("popper"),{arrowOffset:s,arrowRef:p,arrowStyle:m}=ke(hv,void 0);return Ae(()=>n.arrowOffset,c=>{s.value=c}),Lt(()=>{p.value=void 0}),t({arrowRef:p}),(c,i)=>(X(),le("span",{ref_key:"arrowRef",ref:p,class:me(x(r).e("arrow")),style:Ue(x(m)),"data-popper-arrow":""},null,6))}});var rA=je(nA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const iA="ElOnlyChild",gv=xe({name:iA,setup(e,{slots:t,attrs:n}){var r;const s=ke(iv),p=dk((r=s?.setForwardRef)!=null?r:Ne);return()=>{var m;const c=(m=t.default)==null?void 0:m.call(t,n);if(!c||c.length>1)return null;const i=vv(c);return i?ot(jn(i,n),[[p]]):null}}});function vv(e){if(!e)return null;const t=e;for(const n of t){if($e(n))switch(n.type){case Ut:continue;case di:case"svg":return Fh(n);case Me:return vv(n.children);default:return n}return Fh(n)}return null}function Fh(e){const t=Ve("only-child");return pe("span",{class:t.e("content")},[e])}const mv=We({virtualRef:{type:we(Object)},virtualTriggering:Boolean,onMouseenter:{type:we(Function)},onMouseleave:{type:we(Function)},onClick:{type:we(Function)},onKeydown:{type:we(Function)},onFocus:{type:we(Function)},onBlur:{type:we(Function)},onContextmenu:{type:we(Function)},id:String,open:Boolean}),sA=xe({name:"ElPopperTrigger",inheritAttrs:!1}),oA=xe({...sA,props:mv,setup(e,{expose:t}){const n=e,{role:r,triggerRef:s}=ke(Vc,void 0);hk(s);const p=q(()=>c.value?n.id:void 0),m=q(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),c=q(()=>{if(r&&r.value!=="tooltip")return r.value}),i=q(()=>c.value?`${n.open}`:void 0);let h;return Qe(()=>{Ae(()=>n.virtualRef,f=>{f&&(s.value=rr(f))},{immediate:!0}),Ae(s,(f,o)=>{h?.(),h=void 0,ti(f)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(l=>{var a;const u=n[l];u&&(f.addEventListener(l.slice(2).toLowerCase(),u),(a=o?.removeEventListener)==null||a.call(o,l.slice(2).toLowerCase(),u))}),h=Ae([p,m,c,i],l=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((a,u)=>{vi(l[u])?f.removeAttribute(a):f.setAttribute(a,l[u])})},{immediate:!0})),ti(o)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(l=>o.removeAttribute(l))},{immediate:!0})}),Lt(()=>{h?.(),h=void 0}),t({triggerRef:s}),(f,o)=>f.virtualTriggering?be("v-if",!0):(X(),Se(x(gv),gt({key:0},f.$attrs,{"aria-controls":x(p),"aria-describedby":x(m),"aria-expanded":x(i),"aria-haspopup":x(c)}),{default:_e(()=>[Ce(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var aA=je(oA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const Pa="focus-trap.focus-after-trapped",ka="focus-trap.focus-after-released",lA="focus-trap.focusout-prevented",Lh={cancelable:!0,bubbles:!1},cA={cancelable:!0,bubbles:!1},Bh="focusAfterTrapped",$h="focusAfterReleased",_v=Symbol("elFocusTrap"),Gc=fe(),qo=fe(0),Kc=fe(0);let Rs=0;const yv=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},jh=(e,t)=>{for(const n of e)if(!uA(n,t))return n},uA=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},fA=e=>{const t=yv(e),n=jh(t,e),r=jh(t.reverse(),e);return[n,r]},hA=e=>e instanceof HTMLInputElement&&"select"in e,Qn=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),Kc.value=window.performance.now(),e!==n&&hA(e)&&t&&e.select()}};function Nh(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const dA=()=>{let e=[];return{push:r=>{const s=e[0];s&&r!==s&&s.pause(),e=Nh(e,r),e.unshift(r)},remove:r=>{var s,p;e=Nh(e,r),(p=(s=e[0])==null?void 0:s.resume)==null||p.call(s)}}},pA=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(Qn(r,t),document.activeElement!==n)return},zh=dA(),gA=()=>qo.value>Kc.value,Ms=()=>{Gc.value="pointer",qo.value=window.performance.now()},Hh=()=>{Gc.value="keyboard",qo.value=window.performance.now()},vA=()=>(Qe(()=>{Rs===0&&(document.addEventListener("mousedown",Ms),document.addEventListener("touchstart",Ms),document.addEventListener("keydown",Hh)),Rs++}),Lt(()=>{Rs--,Rs<=0&&(document.removeEventListener("mousedown",Ms),document.removeEventListener("touchstart",Ms),document.removeEventListener("keydown",Hh))}),{focusReason:Gc,lastUserFocusTimestamp:qo,lastAutomatedFocusTimestamp:Kc}),Is=e=>new CustomEvent(lA,{...cA,detail:e}),mA=xe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Bh,$h,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=fe();let r,s;const{focusReason:p}=vA();ak(u=>{e.trapped&&!m.paused&&t("release-requested",u)});const m={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},c=u=>{if(!e.loop&&!e.trapped||m.paused)return;const{key:g,altKey:d,ctrlKey:v,metaKey:_,currentTarget:y,shiftKey:b}=u,{loop:w}=e,C=g===He.tab&&!d&&!v&&!_,S=document.activeElement;if(C&&S){const O=y,[B,W]=fA(O);if(B&&W){if(!b&&S===W){const z=Is({focusReason:p.value});t("focusout-prevented",z),z.defaultPrevented||(u.preventDefault(),w&&Qn(B,!0))}else if(b&&[B,O].includes(S)){const z=Is({focusReason:p.value});t("focusout-prevented",z),z.defaultPrevented||(u.preventDefault(),w&&Qn(W,!0))}}else if(S===O){const z=Is({focusReason:p.value});t("focusout-prevented",z),z.defaultPrevented||u.preventDefault()}}};tt(_v,{focusTrapRef:n,onKeydown:c}),Ae(()=>e.focusTrapEl,u=>{u&&(n.value=u)},{immediate:!0}),Ae([n],([u],[g])=>{u&&(u.addEventListener("keydown",c),u.addEventListener("focusin",f),u.addEventListener("focusout",o)),g&&(g.removeEventListener("keydown",c),g.removeEventListener("focusin",f),g.removeEventListener("focusout",o))});const i=u=>{t(Bh,u)},h=u=>t($h,u),f=u=>{const g=x(n);if(!g)return;const d=u.target,v=u.relatedTarget,_=d&&g.contains(d);e.trapped||v&&g.contains(v)||(r=v),_&&t("focusin",u),!m.paused&&e.trapped&&(_?s=d:Qn(s,!0))},o=u=>{const g=x(n);if(!(m.paused||!g))if(e.trapped){const d=u.relatedTarget;!vi(d)&&!g.contains(d)&&setTimeout(()=>{if(!m.paused&&e.trapped){const v=Is({focusReason:p.value});t("focusout-prevented",v),v.defaultPrevented||Qn(s,!0)}},0)}else{const d=u.target;d&&g.contains(d)||t("focusout",u)}};async function l(){await ht();const u=x(n);if(u){zh.push(m);const g=u.contains(document.activeElement)?r:document.activeElement;if(r=g,!u.contains(g)){const v=new Event(Pa,Lh);u.addEventListener(Pa,i),u.dispatchEvent(v),v.defaultPrevented||ht(()=>{let _=e.focusStartEl;Be(_)||(Qn(_),document.activeElement!==_&&(_="first")),_==="first"&&pA(yv(u),!0),(document.activeElement===g||_==="container")&&Qn(u)})}}}function a(){const u=x(n);if(u){u.removeEventListener(Pa,i);const g=new CustomEvent(ka,{...Lh,detail:{focusReason:p.value}});u.addEventListener(ka,h),u.dispatchEvent(g),!g.defaultPrevented&&(p.value=="keyboard"||!gA()||u.contains(document.activeElement))&&Qn(r??document.body),u.removeEventListener(ka,h),zh.remove(m)}}return Qe(()=>{e.trapped&&l(),Ae(()=>e.trapped,u=>{u?l():a()})}),Lt(()=>{e.trapped&&a()}),{onKeydown:c}}});function _A(e,t,n,r,s,p){return Ce(e.$slots,"default",{handleKeydown:e.onKeydown})}var yA=je(mA,[["render",_A],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const bA=["fixed","absolute"],wA=We({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:we(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Fc,default:"bottom"},popperOptions:{type:we(Object),default:()=>({})},strategy:{type:String,values:bA,default:"absolute"}}),bv=We({...wA,id:String,style:{type:we([String,Array,Object])},className:{type:we([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:we([String,Array,Object])},popperStyle:{type:we([String,Array,Object])},referenceEl:{type:we(Object)},triggerTargetEl:{type:we(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),CA={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},SA=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:s}=e,p={placement:n,strategy:r,...s,modifiers:[...TA(e),...t]};return OA(p,s?.modifiers),p},xA=e=>{if(Je)return rr(e)};function TA(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function OA(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const EA=0,PA=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:s}=ke(Vc,void 0),p=fe(),m=fe(),c=q(()=>({name:"eventListeners",enabled:!!e.visible})),i=q(()=>{var v;const _=x(p),y=(v=x(m))!=null?v:EA;return{name:"arrow",enabled:!AE(_),options:{element:_,padding:y}}}),h=q(()=>({onFirstUpdate:()=>{u()},...SA(e,[x(i),x(c)])})),f=q(()=>xA(e.referenceEl)||x(r)),{attributes:o,state:l,styles:a,update:u,forceUpdate:g,instanceRef:d}=ik(f,n,h);return Ae(d,v=>t.value=v),Qe(()=>{Ae(()=>{var v;return(v=x(f))==null?void 0:v.getBoundingClientRect()},()=>{u()})}),{attributes:o,arrowRef:p,contentRef:n,instanceRef:d,state:l,styles:a,role:s,forceUpdate:g,update:u}},kA=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:s}=Uc(),p=Ve("popper"),m=q(()=>x(t).popper),c=fe(ut(e.zIndex)?e.zIndex:s()),i=q(()=>[p.b(),p.is("pure",e.pure),p.is(e.effect),e.popperClass]),h=q(()=>[{zIndex:x(c)},x(n).popper,e.popperStyle||{}]),f=q(()=>r.value==="dialog"?"false":void 0),o=q(()=>x(n).arrow||{});return{ariaModal:f,arrowStyle:o,contentAttrs:m,contentClass:i,contentStyle:h,contentZIndex:c,updateZIndex:()=>{c.value=ut(e.zIndex)?e.zIndex:s()}}},AA=(e,t)=>{const n=fe(!1),r=fe();return{focusStartRef:r,trapped:n,onFocusAfterReleased:h=>{var f;((f=h.detail)==null?void 0:f.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:h=>{e.visible&&!n.value&&(h.target&&(r.value=h.target),n.value=!0)},onFocusoutPrevented:h=>{e.trapping||(h.detail.focusReason==="pointer"&&h.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},RA=xe({name:"ElPopperContent"}),MA=xe({...RA,props:bv,emits:CA,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:s,trapped:p,onFocusAfterReleased:m,onFocusAfterTrapped:c,onFocusInTrap:i,onFocusoutPrevented:h,onReleaseRequested:f}=AA(r,n),{attributes:o,arrowRef:l,contentRef:a,styles:u,instanceRef:g,role:d,update:v}=PA(r),{ariaModal:_,arrowStyle:y,contentAttrs:b,contentClass:w,contentStyle:C,updateZIndex:S}=kA(r,{styles:u,attributes:o,role:d}),O=ke(vo,void 0),B=fe();tt(hv,{arrowStyle:y,arrowRef:l,arrowOffset:B}),O&&(O.addInputId||O.removeInputId)&&tt(vo,{...O,addInputId:Ne,removeInputId:Ne});let W;const K=(re=!0)=>{v(),re&&S()},z=()=>{K(!1),r.visible&&r.focusOnShow?p.value=!0:r.visible===!1&&(p.value=!1)};return Qe(()=>{Ae(()=>r.triggerTargetEl,(re,se)=>{W?.(),W=void 0;const ce=x(re||a.value),he=x(se||a.value);ti(ce)&&(W=Ae([d,()=>r.ariaLabel,_,()=>r.id],V=>{["role","aria-label","aria-modal","id"].forEach((Z,T)=>{vi(V[T])?ce.removeAttribute(Z):ce.setAttribute(Z,V[T])})},{immediate:!0})),he!==ce&&ti(he)&&["role","aria-label","aria-modal","id"].forEach(V=>{he.removeAttribute(V)})},{immediate:!0}),Ae(()=>r.visible,z,{immediate:!0})}),Lt(()=>{W?.(),W=void 0}),t({popperContentRef:a,popperInstanceRef:g,updatePopper:K,contentStyle:C}),(re,se)=>(X(),le("div",gt({ref_key:"contentRef",ref:a},x(b),{style:x(C),class:x(w),tabindex:"-1",onMouseenter:se[0]||(se[0]=ce=>re.$emit("mouseenter",ce)),onMouseleave:se[1]||(se[1]=ce=>re.$emit("mouseleave",ce))}),[pe(x(yA),{trapped:x(p),"trap-on-focus-in":!0,"focus-trap-el":x(a),"focus-start-el":x(s),onFocusAfterTrapped:x(c),onFocusAfterReleased:x(m),onFocusin:x(i),onFocusoutPrevented:x(h),onReleaseRequested:x(f)},{default:_e(()=>[Ce(re.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var IA=je(MA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const DA=Wt(eA),qc=Symbol("elTooltip"),Vt=We({...uk,...bv,appendTo:{type:we([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:we(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),os=We({...mv,disabled:Boolean,trigger:{type:we([String,Array]),default:"hover"},triggerKeys:{type:we(Array),default:()=>[He.enter,He.space]}}),{useModelToggleProps:FA,useModelToggleEmits:LA,useModelToggle:BA}=Ug("visible"),$A=We({...dv,...FA,...Vt,...os,...pv,showArrow:{type:Boolean,default:!0}}),jA=[...LA,"before-show","before-hide","show","hide","open","close"],NA=(e,t)=>Oe(e)?e.includes(t):e===t,Nr=(e,t,n)=>r=>{NA(x(e),t)&&n(r)},zA=xe({name:"ElTooltipTrigger"}),HA=xe({...zA,props:os,setup(e,{expose:t}){const n=e,r=Ve("tooltip"),{controlled:s,id:p,open:m,onOpen:c,onClose:i,onToggle:h}=ke(qc,void 0),f=fe(null),o=()=>{if(x(s)||n.disabled)return!0},l=yt(n,"trigger"),a=st(o,Nr(l,"hover",c)),u=st(o,Nr(l,"hover",i)),g=st(o,Nr(l,"click",b=>{b.button===0&&h(b)})),d=st(o,Nr(l,"focus",c)),v=st(o,Nr(l,"focus",i)),_=st(o,Nr(l,"contextmenu",b=>{b.preventDefault(),h(b)})),y=st(o,b=>{const{code:w}=b;n.triggerKeys.includes(w)&&(b.preventDefault(),h(b))});return t({triggerRef:f}),(b,w)=>(X(),Se(x(aA),{id:x(p),"virtual-ref":b.virtualRef,open:x(m),"virtual-triggering":b.virtualTriggering,class:me(x(r).e("trigger")),onBlur:x(v),onClick:x(g),onContextmenu:x(_),onFocus:x(d),onMouseenter:x(a),onMouseleave:x(u),onKeydown:x(y)},{default:_e(()=>[Ce(b.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var UA=je(HA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const WA=xe({name:"ElTooltipContent",inheritAttrs:!1}),YA=xe({...WA,props:Vt,setup(e,{expose:t}){const n=e,{selector:r}=rv(),s=Ve("tooltip"),p=fe(null),m=fe(!1),{controlled:c,id:i,open:h,trigger:f,onClose:o,onOpen:l,onShow:a,onHide:u,onBeforeShow:g,onBeforeHide:d}=ke(qc,void 0),v=q(()=>n.transition||`${s.namespace.value}-fade-in-linear`),_=q(()=>n.persistent);Lt(()=>{m.value=!0});const y=q(()=>x(_)?!0:x(h)),b=q(()=>n.disabled?!1:x(h)),w=q(()=>n.appendTo||r.value),C=q(()=>{var V;return(V=n.style)!=null?V:{}}),S=q(()=>!x(h)),O=()=>{u()},B=()=>{if(x(c))return!0},W=st(B,()=>{n.enterable&&x(f)==="hover"&&l()}),K=st(B,()=>{x(f)==="hover"&&o()}),z=()=>{var V,Z;(Z=(V=p.value)==null?void 0:V.updatePopper)==null||Z.call(V),g?.()},re=()=>{d?.()},se=()=>{a(),he=cS(q(()=>{var V;return(V=p.value)==null?void 0:V.popperContentRef}),()=>{if(x(c))return;x(f)!=="hover"&&o()})},ce=()=>{n.virtualTriggering||o()};let he;return Ae(()=>x(h),V=>{V||he?.()},{flush:"post"}),Ae(()=>n.content,()=>{var V,Z;(Z=(V=p.value)==null?void 0:V.updatePopper)==null||Z.call(V)}),t({contentRef:p}),(V,Z)=>(X(),Se(lc,{disabled:!V.teleported,to:x(w)},[pe(On,{name:x(v),onAfterLeave:O,onBeforeEnter:z,onAfterEnter:se,onBeforeLeave:re},{default:_e(()=>[x(y)?ot((X(),Se(x(IA),gt({key:0,id:x(i),ref_key:"contentRef",ref:p},V.$attrs,{"aria-label":V.ariaLabel,"aria-hidden":x(S),"boundaries-padding":V.boundariesPadding,"fallback-placements":V.fallbackPlacements,"gpu-acceleration":V.gpuAcceleration,offset:V.offset,placement:V.placement,"popper-options":V.popperOptions,strategy:V.strategy,effect:V.effect,enterable:V.enterable,pure:V.pure,"popper-class":V.popperClass,"popper-style":[V.popperStyle,x(C)],"reference-el":V.referenceEl,"trigger-target-el":V.triggerTargetEl,visible:x(b),"z-index":V.zIndex,onMouseenter:x(W),onMouseleave:x(K),onBlur:ce,onClose:x(o)}),{default:_e(()=>[m.value?be("v-if",!0):Ce(V.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[pt,x(b)]]):be("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var XA=je(YA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const VA=["innerHTML"],GA={key:1},KA=xe({name:"ElTooltip"}),qA=xe({...KA,props:$A,emits:jA,setup(e,{expose:t,emit:n}){const r=e;ck();const s=Ko(),p=fe(),m=fe(),c=()=>{var v;const _=x(p);_&&((v=_.popperInstanceRef)==null||v.update())},i=fe(!1),h=fe(),{show:f,hide:o,hasUpdateHandler:l}=BA({indicator:i,toggleReason:h}),{onOpen:a,onClose:u}=fk({showAfter:yt(r,"showAfter"),hideAfter:yt(r,"hideAfter"),autoClose:yt(r,"autoClose"),open:f,close:o}),g=q(()=>Rc(r.visible)&&!l.value);tt(qc,{controlled:g,id:s,open:fs(i),trigger:yt(r,"trigger"),onOpen:v=>{a(v)},onClose:v=>{u(v)},onToggle:v=>{x(i)?u(v):a(v)},onShow:()=>{n("show",h.value)},onHide:()=>{n("hide",h.value)},onBeforeShow:()=>{n("before-show",h.value)},onBeforeHide:()=>{n("before-hide",h.value)},updatePopper:c}),Ae(()=>r.disabled,v=>{v&&i.value&&(i.value=!1)});const d=v=>{var _,y;const b=(y=(_=m.value)==null?void 0:_.contentRef)==null?void 0:y.popperContentRef,w=v?.relatedTarget||document.activeElement;return b&&b.contains(w)};return sp(()=>i.value&&o()),t({popperRef:p,contentRef:m,isFocusInsideContent:d,updatePopper:c,onOpen:a,onClose:u,hide:o}),(v,_)=>(X(),Se(x(DA),{ref_key:"popperRef",ref:p,role:v.role},{default:_e(()=>[pe(UA,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:_e(()=>[v.$slots.default?Ce(v.$slots,"default",{key:0}):be("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),pe(XA,{ref_key:"contentRef",ref:m,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:_e(()=>[Ce(v.$slots,"content",{},()=>[v.rawContent?(X(),le("span",{key:0,innerHTML:v.content},null,8,VA)):(X(),le("span",GA,Le(v.content),1))]),v.showArrow?(X(),Se(x(rA),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):be("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var JA=je(qA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Jc=Wt(JA),ZA=We({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),QA=["textContent"],eR=xe({name:"ElBadge"}),tR=xe({...eR,props:ZA,setup(e,{expose:t}){const n=e,r=Ve("badge"),s=q(()=>n.isDot?"":ut(n.value)&&ut(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`);return t({content:s}),(p,m)=>(X(),le("div",{class:me(x(r).b())},[Ce(p.$slots,"default"),pe(On,{name:`${x(r).namespace.value}-zoom-in-center`,persisted:""},{default:_e(()=>[ot(G("sup",{class:me([x(r).e("content"),x(r).em("content",p.type),x(r).is("fixed",!!p.$slots.default),x(r).is("dot",p.isDot)]),textContent:Le(x(s))},null,10,QA),[[pt,!p.hidden&&(x(s)||p.isDot)]])]),_:1},8,["name"])],2))}});var nR=je(tR,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const rR=Wt(nR),wv=Symbol("buttonGroupContextKey"),iR=(e,t)=>{GE({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},q(()=>e.type==="text"));const n=ke(wv,void 0),r=Wc("button"),{form:s}=uv(),p=Xc(q(()=>n?.size)),m=Dr(),c=fe(),i=fp(),h=q(()=>e.type||n?.type||""),f=q(()=>{var u,g,d;return(d=(g=e.autoInsertSpace)!=null?g:(u=r.value)==null?void 0:u.autoInsertSpace)!=null?d:!1}),o=q(()=>e.tag==="button"?{ariaDisabled:m.value||e.loading,disabled:m.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),l=q(()=>{var u;const g=(u=i.default)==null?void 0:u.call(i);if(f.value&&g?.length===1){const d=g[0];if(d?.type===di){const v=d.children;return/^\p{Unified_Ideograph}{2}$/u.test(v.trim())}}return!1});return{_disabled:m,_size:p,_type:h,_ref:c,_props:o,shouldAddSpace:l,handleClick:u=>{e.nativeType==="reset"&&s?.resetFields(),t("click",u)}}},sR=["default","primary","success","warning","info","danger","text",""],oR=["button","submit","reset"],bl=We({size:av,disabled:Boolean,type:{type:String,values:sR,default:""},icon:{type:ni},nativeType:{type:String,values:oR,default:"button"},loading:Boolean,loadingIcon:{type:ni,default:()=>ug},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:we([String,Object]),default:"button"}}),aR={click:e=>e instanceof MouseEvent};function wt(e,t){lR(e)&&(e="100%");var n=cR(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function Ds(e){return Math.min(1,Math.max(0,e))}function lR(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function cR(e){return typeof e=="string"&&e.indexOf("%")!==-1}function Cv(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Fs(e){return e<=1?"".concat(Number(e)*100,"%"):e}function wr(e){return e.length===1?"0"+e:String(e)}function uR(e,t,n){return{r:wt(e,255)*255,g:wt(t,255)*255,b:wt(n,255)*255}}function Uh(e,t,n){e=wt(e,255),t=wt(t,255),n=wt(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),p=0,m=0,c=(r+s)/2;if(r===s)m=0,p=0;else{var i=r-s;switch(m=c>.5?i/(2-r-s):i/(r+s),r){case e:p=(t-n)/i+(t<n?6:0);break;case t:p=(n-e)/i+2;break;case n:p=(e-t)/i+4;break}p/=6}return{h:p,s:m,l:c}}function Aa(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fR(e,t,n){var r,s,p;if(e=wt(e,360),t=wt(t,100),n=wt(n,100),t===0)s=n,p=n,r=n;else{var m=n<.5?n*(1+t):n+t-n*t,c=2*n-m;r=Aa(c,m,e+1/3),s=Aa(c,m,e),p=Aa(c,m,e-1/3)}return{r:r*255,g:s*255,b:p*255}}function Wh(e,t,n){e=wt(e,255),t=wt(t,255),n=wt(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),p=0,m=r,c=r-s,i=r===0?0:c/r;if(r===s)p=0;else{switch(r){case e:p=(t-n)/c+(t<n?6:0);break;case t:p=(n-e)/c+2;break;case n:p=(e-t)/c+4;break}p/=6}return{h:p,s:i,v:m}}function hR(e,t,n){e=wt(e,360)*6,t=wt(t,100),n=wt(n,100);var r=Math.floor(e),s=e-r,p=n*(1-t),m=n*(1-s*t),c=n*(1-(1-s)*t),i=r%6,h=[n,m,p,p,c,n][i],f=[c,n,n,m,p,p][i],o=[p,p,c,n,n,m][i];return{r:h*255,g:f*255,b:o*255}}function Yh(e,t,n,r){var s=[wr(Math.round(e).toString(16)),wr(Math.round(t).toString(16)),wr(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function dR(e,t,n,r,s){var p=[wr(Math.round(e).toString(16)),wr(Math.round(t).toString(16)),wr(Math.round(n).toString(16)),wr(pR(r))];return s&&p[0].startsWith(p[0].charAt(1))&&p[1].startsWith(p[1].charAt(1))&&p[2].startsWith(p[2].charAt(1))&&p[3].startsWith(p[3].charAt(1))?p[0].charAt(0)+p[1].charAt(0)+p[2].charAt(0)+p[3].charAt(0):p.join("")}function pR(e){return Math.round(parseFloat(e)*255).toString(16)}function Xh(e){return $t(e)/255}function $t(e){return parseInt(e,16)}function gR(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var wl={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function vR(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,p=null,m=!1,c=!1;return typeof e=="string"&&(e=yR(e)),typeof e=="object"&&(Mn(e.r)&&Mn(e.g)&&Mn(e.b)?(t=uR(e.r,e.g,e.b),m=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Mn(e.h)&&Mn(e.s)&&Mn(e.v)?(r=Fs(e.s),s=Fs(e.v),t=hR(e.h,r,s),m=!0,c="hsv"):Mn(e.h)&&Mn(e.s)&&Mn(e.l)&&(r=Fs(e.s),p=Fs(e.l),t=fR(e.h,r,p),m=!0,c="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Cv(n),{ok:m,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var mR="[-\\+]?\\d+%?",_R="[-\\+]?\\d*\\.\\d+%?",ir="(?:".concat(_R,")|(?:").concat(mR,")"),Ra="[\\s|\\(]+(".concat(ir,")[,|\\s]+(").concat(ir,")[,|\\s]+(").concat(ir,")\\s*\\)?"),Ma="[\\s|\\(]+(".concat(ir,")[,|\\s]+(").concat(ir,")[,|\\s]+(").concat(ir,")[,|\\s]+(").concat(ir,")\\s*\\)?"),sn={CSS_UNIT:new RegExp(ir),rgb:new RegExp("rgb"+Ra),rgba:new RegExp("rgba"+Ma),hsl:new RegExp("hsl"+Ra),hsla:new RegExp("hsla"+Ma),hsv:new RegExp("hsv"+Ra),hsva:new RegExp("hsva"+Ma),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function yR(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(wl[e])e=wl[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=sn.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=sn.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=sn.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=sn.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=sn.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=sn.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=sn.hex8.exec(e),n?{r:$t(n[1]),g:$t(n[2]),b:$t(n[3]),a:Xh(n[4]),format:t?"name":"hex8"}:(n=sn.hex6.exec(e),n?{r:$t(n[1]),g:$t(n[2]),b:$t(n[3]),format:t?"name":"hex"}:(n=sn.hex4.exec(e),n?{r:$t(n[1]+n[1]),g:$t(n[2]+n[2]),b:$t(n[3]+n[3]),a:Xh(n[4]+n[4]),format:t?"name":"hex8"}:(n=sn.hex3.exec(e),n?{r:$t(n[1]+n[1]),g:$t(n[2]+n[2]),b:$t(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Mn(e){return!!sn.CSS_UNIT.exec(String(e))}var bR=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=gR(t)),this.originalInput=t;var s=vR(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,s,p=t.r/255,m=t.g/255,c=t.b/255;return p<=.03928?n=p/12.92:n=Math.pow((p+.055)/1.055,2.4),m<=.03928?r=m/12.92:r=Math.pow((m+.055)/1.055,2.4),c<=.03928?s=c/12.92:s=Math.pow((c+.055)/1.055,2.4),.2126*n+.7152*r+.0722*s},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=Cv(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=Wh(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=Wh(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=Uh(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=Uh(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),Yh(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),dR(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(wt(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(wt(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+Yh(this.r,this.g,this.b,!1),n=0,r=Object.entries(wl);n<r.length;n++){var s=r[n],p=s[0],m=s[1];if(t===m)return p}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,s=this.a<1&&this.a>=0,p=!n&&s&&(t.startsWith("hex")||t==="name");return p?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=Ds(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=Ds(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=Ds(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=Ds(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),s=new e(t).toRgb(),p=n/100,m={r:(s.r-r.r)*p+r.r,g:(s.g-r.g)*p+r.g,b:(s.b-r.b)*p+r.b,a:(s.a-r.a)*p+r.a};return new e(m)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),s=360/n,p=[this];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,p.push(new e(r));return p},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,s=n.s,p=n.v,m=[],c=1/t;t--;)m.push(new e({h:r,s,v:p})),p=(p+c)%1;return m},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),s=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,s=[this],p=360/t,m=1;m<t;m++)s.push(new e({h:(r+m*p)%360,s:n.s,l:n.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function qn(e,t=20){return e.mix("#141414",t).toString()}function wR(e){const t=Dr(),n=Ve("button");return q(()=>{let r={};const s=e.color;if(s){const p=new bR(s),m=e.dark?p.tint(20).toString():qn(p,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?qn(p,90):p.tint(90).toString(),"text-color":s,"border-color":e.dark?qn(p,50):p.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":m,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":m}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?qn(p,90):p.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?qn(p,50):p.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?qn(p,80):p.tint(80).toString());else{const c=e.dark?qn(p,30):p.tint(30).toString(),i=p.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":s,"text-color":i,"border-color":s,"hover-bg-color":c,"hover-text-color":i,"hover-border-color":c,"active-bg-color":m,"active-border-color":m}),t.value){const h=e.dark?qn(p,50):p.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=h,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=h}}}return r})}const CR=xe({name:"ElButton"}),SR=xe({...CR,props:bl,emits:aR,setup(e,{expose:t,emit:n}){const r=e,s=wR(r),p=Ve("button"),{_ref:m,_size:c,_type:i,_disabled:h,_props:f,shouldAddSpace:o,handleClick:l}=iR(r,n);return t({ref:m,size:c,type:i,disabled:h,shouldAddSpace:o}),(a,u)=>(X(),Se(Kt(a.tag),gt({ref_key:"_ref",ref:m},x(f),{class:[x(p).b(),x(p).m(x(i)),x(p).m(x(c)),x(p).is("disabled",x(h)),x(p).is("loading",a.loading),x(p).is("plain",a.plain),x(p).is("round",a.round),x(p).is("circle",a.circle),x(p).is("text",a.text),x(p).is("link",a.link),x(p).is("has-bg",a.bg)],style:x(s),onClick:x(l)}),{default:_e(()=>[a.loading?(X(),le(Me,{key:0},[a.$slots.loading?Ce(a.$slots,"loading",{key:0}):(X(),Se(x(ze),{key:1,class:me(x(p).is("loading"))},{default:_e(()=>[(X(),Se(Kt(a.loadingIcon)))]),_:1},8,["class"]))],64)):a.icon||a.$slots.icon?(X(),Se(x(ze),{key:1},{default:_e(()=>[a.icon?(X(),Se(Kt(a.icon),{key:0})):Ce(a.$slots,"icon",{key:1})]),_:3})):be("v-if",!0),a.$slots.default?(X(),le("span",{key:2,class:me({[x(p).em("text","expand")]:x(o)})},[Ce(a.$slots,"default")],2)):be("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var xR=je(SR,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const TR={size:bl.size,type:bl.type},OR=xe({name:"ElButtonGroup"}),ER=xe({...OR,props:TR,setup(e){const t=e;tt(wv,kr({size:yt(t,"size"),type:yt(t,"type")}));const n=Ve("button");return(r,s)=>(X(),le("div",{class:me(`${x(n).b("group")}`)},[Ce(r.$slots,"default")],2))}});var Sv=je(ER,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const xv=Wt(xR,{ButtonGroup:Sv});Mc(Sv);function PR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}const kR=xe({inheritAttrs:!1});function AR(e,t,n,r,s,p){return Ce(e.$slots,"default")}var RR=je(kR,[["render",AR],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const MR=xe({name:"ElCollectionItem",inheritAttrs:!1});function IR(e,t,n,r,s,p){return Ce(e.$slots,"default")}var DR=je(MR,[["render",IR],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Tv="data-el-collection-item",Ov=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),s=Symbol(n),p={...RR,name:t,setup(){const c=fe(null),i=new Map;tt(r,{itemMap:i,getItems:()=>{const f=x(c);if(!f)return[];const o=Array.from(f.querySelectorAll(`[${Tv}]`));return[...i.values()].sort((a,u)=>o.indexOf(a.ref)-o.indexOf(u.ref))},collectionRef:c})}},m={...DR,name:n,setup(c,{attrs:i}){const h=fe(null),f=ke(r,void 0);tt(s,{collectionItemRef:h}),Qe(()=>{const o=x(h);o&&f.itemMap.set(o,{ref:o,...i})}),Lt(()=>{const o=x(h);f.itemMap.delete(o)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:p,ElCollectionItem:m}},FR=We({style:{type:we([String,Array,Object])},currentTabId:{type:we(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:we(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:LR,ElCollectionItem:BR,COLLECTION_INJECTION_KEY:Zc,COLLECTION_ITEM_INJECTION_KEY:$R}=Ov("RovingFocusGroup"),Qc=Symbol("elRovingFocusGroup"),Ev=Symbol("elRovingFocusGroupItem"),jR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},NR=(e,t)=>{if(t!=="rtl")return e;switch(e){case He.right:return He.left;case He.left:return He.right;default:return e}},zR=(e,t,n)=>{const r=NR(e.key,n);if(!(t==="vertical"&&[He.left,He.right].includes(r))&&!(t==="horizontal"&&[He.up,He.down].includes(r)))return jR[r]},HR=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),eu=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},Vh="currentTabIdChange",Gh="rovingFocusGroup.entryFocus",UR={bubbles:!1,cancelable:!0},WR=xe({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:FR,emits:[Vh,"entryFocus"],setup(e,{emit:t}){var n;const r=fe((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),s=fe(!1),p=fe(!1),m=fe(null),{getItems:c}=ke(Zc,void 0),i=q(()=>[{outline:"none"},e.style]),h=g=>{t(Vh,g)},f=()=>{s.value=!0},o=st(g=>{var d;(d=e.onMousedown)==null||d.call(e,g)},()=>{p.value=!0}),l=st(g=>{var d;(d=e.onFocus)==null||d.call(e,g)},g=>{const d=!x(p),{target:v,currentTarget:_}=g;if(v===_&&d&&!x(s)){const y=new Event(Gh,UR);if(_?.dispatchEvent(y),!y.defaultPrevented){const b=c().filter(B=>B.focusable),w=b.find(B=>B.active),C=b.find(B=>B.id===x(r)),O=[w,C,...b].filter(Boolean).map(B=>B.ref);eu(O)}}p.value=!1}),a=st(g=>{var d;(d=e.onBlur)==null||d.call(e,g)},()=>{s.value=!1}),u=(...g)=>{t("entryFocus",...g)};tt(Qc,{currentTabbedId:fs(r),loop:yt(e,"loop"),tabIndex:q(()=>x(s)?-1:0),rovingFocusGroupRef:m,rovingFocusGroupRootStyle:i,orientation:yt(e,"orientation"),dir:yt(e,"dir"),onItemFocus:h,onItemShiftTab:f,onBlur:a,onFocus:l,onMousedown:o}),Ae(()=>e.currentTabId,g=>{r.value=g??null}),Pt(m,Gh,u)}});function YR(e,t,n,r,s,p){return Ce(e.$slots,"default")}var XR=je(WR,[["render",YR],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const VR=xe({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:LR,ElRovingFocusGroupImpl:XR}});function GR(e,t,n,r,s,p){const m=Xe("el-roving-focus-group-impl"),c=Xe("el-focus-group-collection");return X(),Se(c,null,{default:_e(()=>[pe(m,Km(Sp(e.$attrs)),{default:_e(()=>[Ce(e.$slots,"default")]),_:3},16)]),_:3})}var KR=je(VR,[["render",GR],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const qR=xe({components:{ElRovingFocusCollectionItem:BR},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:s,onItemShiftTab:p}=ke(Qc,void 0),{getItems:m}=ke(Zc,void 0),c=Ko(),i=fe(null),h=st(a=>{t("mousedown",a)},a=>{e.focusable?s(x(c)):a.preventDefault()}),f=st(a=>{t("focus",a)},()=>{s(x(c))}),o=st(a=>{t("keydown",a)},a=>{const{key:u,shiftKey:g,target:d,currentTarget:v}=a;if(u===He.tab&&g){p();return}if(d!==v)return;const _=zR(a);if(_){a.preventDefault();let b=m().filter(w=>w.focusable).map(w=>w.ref);switch(_){case"last":{b.reverse();break}case"prev":case"next":{_==="prev"&&b.reverse();const w=b.indexOf(v);b=r.value?HR(b,w+1):b.slice(w+1);break}}ht(()=>{eu(b)})}}),l=q(()=>n.value===x(c));return tt(Ev,{rovingFocusGroupItemRef:i,tabIndex:q(()=>x(l)?0:-1),handleMousedown:h,handleFocus:f,handleKeydown:o}),{id:c,handleKeydown:o,handleFocus:f,handleMousedown:h}}});function JR(e,t,n,r,s,p){const m=Xe("el-roving-focus-collection-item");return X(),Se(m,{id:e.id,focusable:e.focusable,active:e.active},{default:_e(()=>[Ce(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var ZR=je(qR,[["render",JR],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const Gs=We({trigger:os.trigger,effect:{...Vt.effect,default:"light"},type:{type:we(String)},placement:{type:we(String),default:"bottom"},popperOptions:{type:we(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:we([Number,String]),default:0},maxHeight:{type:we([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:we(Object)},teleported:Vt.teleported}),Pv=We({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:ni}}),QR=We({onKeydown:{type:we(Function)}}),eM=[He.down,He.pageDown,He.home],kv=[He.up,He.pageUp,He.end],tM=[...eM,...kv],{ElCollection:nM,ElCollectionItem:rM,COLLECTION_INJECTION_KEY:iM,COLLECTION_ITEM_INJECTION_KEY:sM}=Ov("Dropdown"),Jo=Symbol("elDropdown"),{ButtonGroup:oM}=xv,aM=xe({name:"ElDropdown",components:{ElButton:xv,ElButtonGroup:oM,ElScrollbar:qk,ElDropdownCollection:nM,ElTooltip:Jc,ElRovingFocusGroup:KR,ElOnlyChild:gv,ElIcon:ze,ArrowDown:mc},props:Gs,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=xt(),r=Ve("dropdown"),{t:s}=ds(),p=fe(),m=fe(),c=fe(null),i=fe(null),h=fe(null),f=fe(null),o=fe(!1),l=[He.enter,He.space,He.down],a=q(()=>({maxHeight:rs(e.maxHeight)})),u=q(()=>[r.m(w.value)]),g=q(()=>aT(e.trigger)),d=Ko().value,v=q(()=>e.id||d);Ae([p,g],([V,Z],[T])=>{var I,F,D;(I=T?.$el)!=null&&I.removeEventListener&&T.$el.removeEventListener("pointerenter",S),(F=V?.$el)!=null&&F.removeEventListener&&V.$el.removeEventListener("pointerenter",S),(D=V?.$el)!=null&&D.addEventListener&&Z.includes("hover")&&V.$el.addEventListener("pointerenter",S)},{immediate:!0}),Lt(()=>{var V,Z;(Z=(V=p.value)==null?void 0:V.$el)!=null&&Z.removeEventListener&&p.value.$el.removeEventListener("pointerenter",S)});function _(){y()}function y(){var V;(V=c.value)==null||V.onClose()}function b(){var V;(V=c.value)==null||V.onOpen()}const w=Xc();function C(...V){t("command",...V)}function S(){var V,Z;(Z=(V=p.value)==null?void 0:V.$el)==null||Z.focus()}function O(){}function B(){const V=x(i);g.value.includes("hover")&&V?.focus(),f.value=null}function W(V){f.value=V}function K(V){o.value||(V.preventDefault(),V.stopImmediatePropagation())}function z(){t("visible-change",!0)}function re(V){V?.type==="keydown"&&i.value.focus()}function se(){t("visible-change",!1)}return tt(Jo,{contentRef:i,role:q(()=>e.role),triggerId:v,isUsingKeyboard:o,onItemEnter:O,onItemLeave:B}),tt("elDropdown",{instance:n,dropdownSize:w,handleClick:_,commandHandler:C,trigger:yt(e,"trigger"),hideOnClick:yt(e,"hideOnClick")}),{t:s,ns:r,scrollbar:h,wrapStyle:a,dropdownTriggerKls:u,dropdownSize:w,triggerId:v,triggerKeys:l,currentTabId:f,handleCurrentTabIdChange:W,handlerMainButtonClick:V=>{t("click",V)},handleEntryFocus:K,handleClose:y,handleOpen:b,handleBeforeShowTooltip:z,handleShowTooltip:re,handleBeforeHideTooltip:se,onFocusAfterTrapped:V=>{var Z,T;V.preventDefault(),(T=(Z=i.value)==null?void 0:Z.focus)==null||T.call(Z,{preventScroll:!0})},popperRef:c,contentRef:i,triggeringElementRef:p,referenceElementRef:m}}});function lM(e,t,n,r,s,p){var m;const c=Xe("el-dropdown-collection"),i=Xe("el-roving-focus-group"),h=Xe("el-scrollbar"),f=Xe("el-only-child"),o=Xe("el-tooltip"),l=Xe("el-button"),a=Xe("arrow-down"),u=Xe("el-icon"),g=Xe("el-button-group");return X(),le("div",{class:me([e.ns.b(),e.ns.is("disabled",e.disabled)])},[pe(o,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(m=e.referenceElementRef)==null?void 0:m.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Qa({content:_e(()=>[pe(h,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:_e(()=>[pe(i,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:_e(()=>[pe(c,null,{default:_e(()=>[Ce(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:_e(()=>[pe(f,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:_e(()=>[Ce(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(X(),Se(g,{key:0},{default:_e(()=>[pe(l,gt({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:_e(()=>[Ce(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),pe(l,gt({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:_e(()=>[pe(u,{class:me(e.ns.e("icon"))},{default:_e(()=>[pe(a)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):be("v-if",!0)],2)}var cM=je(aM,[["render",lM],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const uM=xe({name:"DropdownItemImpl",components:{ElIcon:ze},props:Pv,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=Ve("dropdown"),{role:r}=ke(Jo,void 0),{collectionItemRef:s}=ke(sM,void 0),{collectionItemRef:p}=ke($R,void 0),{rovingFocusGroupItemRef:m,tabIndex:c,handleFocus:i,handleKeydown:h,handleMousedown:f}=ke(Ev,void 0),o=jg(s,p,m),l=q(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),a=st(u=>{const{code:g}=u;if(g===He.enter||g===He.space)return u.preventDefault(),u.stopImmediatePropagation(),t("clickimpl",u),!0},h);return{ns:n,itemRef:o,dataset:{[Tv]:""},role:l,tabIndex:c,handleFocus:i,handleKeydown:a,handleMousedown:f}}}),fM=["aria-disabled","tabindex","role"];function hM(e,t,n,r,s,p){const m=Xe("el-icon");return X(),le(Me,null,[e.divided?(X(),le("li",gt({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):be("v-if",!0),G("li",gt({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=c=>e.$emit("clickimpl",c)),onFocus:t[1]||(t[1]=(...c)=>e.handleFocus&&e.handleFocus(...c)),onKeydown:t[2]||(t[2]=Mt((...c)=>e.handleKeydown&&e.handleKeydown(...c),["self"])),onMousedown:t[3]||(t[3]=(...c)=>e.handleMousedown&&e.handleMousedown(...c)),onPointermove:t[4]||(t[4]=c=>e.$emit("pointermove",c)),onPointerleave:t[5]||(t[5]=c=>e.$emit("pointerleave",c))}),[e.icon?(X(),Se(m,{key:0},{default:_e(()=>[(X(),Se(Kt(e.icon)))]),_:1})):be("v-if",!0),Ce(e.$slots,"default")],16,fM)],64)}var dM=je(uM,[["render",hM],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const Av=()=>{const e=ke("elDropdown",{}),t=q(()=>e?.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},pM=xe({name:"ElDropdownItem",components:{ElDropdownCollectionItem:rM,ElRovingFocusItem:ZR,ElDropdownItemImpl:dM},inheritAttrs:!1,props:Pv,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=Av(),s=xt(),p=fe(null),m=q(()=>{var a,u;return(u=(a=x(p))==null?void 0:a.textContent)!=null?u:""}),{onItemEnter:c,onItemLeave:i}=ke(Jo,void 0),h=st(a=>(t("pointermove",a),a.defaultPrevented),Rf(a=>{if(e.disabled){i(a);return}const u=a.currentTarget;u===document.activeElement||u.contains(document.activeElement)||(c(a),a.defaultPrevented||u?.focus())})),f=st(a=>(t("pointerleave",a),a.defaultPrevented),Rf(a=>{i(a)})),o=st(a=>{if(!e.disabled)return t("click",a),a.type!=="keydown"&&a.defaultPrevented},a=>{var u,g,d;if(e.disabled){a.stopImmediatePropagation();return}(u=r?.hideOnClick)!=null&&u.value&&((g=r.handleClick)==null||g.call(r)),(d=r.commandHandler)==null||d.call(r,e.command,s,a)}),l=q(()=>({...e,...n}));return{handleClick:o,handlePointerMove:h,handlePointerLeave:f,textContent:m,propsAndAttrs:l}}});function gM(e,t,n,r,s,p){var m;const c=Xe("el-dropdown-item-impl"),i=Xe("el-roving-focus-item"),h=Xe("el-dropdown-collection-item");return X(),Se(h,{disabled:e.disabled,"text-value":(m=e.textValue)!=null?m:e.textContent},{default:_e(()=>[pe(i,{focusable:!e.disabled},{default:_e(()=>[pe(c,gt(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:_e(()=>[Ce(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Rv=je(pM,[["render",gM],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const vM=xe({name:"ElDropdownMenu",props:QR,setup(e){const t=Ve("dropdown"),{_elDropdownSize:n}=Av(),r=n.value,{focusTrapRef:s,onKeydown:p}=ke(_v,void 0),{contentRef:m,role:c,triggerId:i}=ke(Jo,void 0),{collectionRef:h,getItems:f}=ke(iM,void 0),{rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,tabIndex:a,onBlur:u,onFocus:g,onMousedown:d}=ke(Qc,void 0),{collectionRef:v}=ke(Zc,void 0),_=q(()=>[t.b("menu"),t.bm("menu",r?.value)]),y=jg(m,h,s,o,v),b=st(C=>{var S;(S=e.onKeydown)==null||S.call(e,C)},C=>{const{currentTarget:S,code:O,target:B}=C;if(S.contains(B),He.tab===O&&C.stopImmediatePropagation(),C.preventDefault(),B!==x(m)||!tM.includes(O))return;const K=f().filter(z=>!z.disabled).map(z=>z.ref);kv.includes(O)&&K.reverse(),eu(K)});return{size:r,rovingFocusGroupRootStyle:l,tabIndex:a,dropdownKls:_,role:c,triggerId:i,dropdownListWrapperRef:y,handleKeydown:C=>{b(C),p(C)},onBlur:u,onFocus:g,onMousedown:d}}}),mM=["role","aria-labelledby"];function _M(e,t,n,r,s,p){return X(),le("ul",{ref:e.dropdownListWrapperRef,class:me(e.dropdownKls),style:Ue(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...m)=>e.onBlur&&e.onBlur(...m)),onFocus:t[1]||(t[1]=(...m)=>e.onFocus&&e.onFocus(...m)),onKeydown:t[2]||(t[2]=Mt((...m)=>e.handleKeydown&&e.handleKeydown(...m),["self"])),onMousedown:t[3]||(t[3]=Mt((...m)=>e.onMousedown&&e.onMousedown(...m),["self"]))},[Ce(e.$slots,"default")],46,mM)}var Mv=je(vM,[["render",_M],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const yM=Wt(cM,{DropdownItem:Rv,DropdownMenu:Mv}),bM=Mc(Rv),wM=Mc(Mv),CM=We({urlList:{type:we(Array),default:()=>Or([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),SM={close:()=>!0,switch:e=>ut(e),rotate:e=>ut(e)},xM=["src"],TM=xe({name:"ElImageViewer"}),OM=xe({...TM,props:CM,emits:SM,setup(e,{expose:t,emit:n}){const r=e,s={CONTAIN:{name:"contain",icon:no(A1)},ORIGINAL:{name:"original",icon:no(fC)}},{t:p}=ds(),m=Ve("image-viewer"),{nextZIndex:c}=Uc(),i=fe(),h=fe([]),f=Md(),o=fe(!0),l=fe(r.initialIndex),a=qt(s.CONTAIN),u=fe({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=q(()=>{const{urlList:T}=r;return T.length<=1}),d=q(()=>l.value===0),v=q(()=>l.value===r.urlList.length-1),_=q(()=>r.urlList[l.value]),y=q(()=>[m.e("btn"),m.e("prev"),m.is("disabled",!r.infinite&&d.value)]),b=q(()=>[m.e("btn"),m.e("next"),m.is("disabled",!r.infinite&&v.value)]),w=q(()=>{const{scale:T,deg:I,offsetX:F,offsetY:D,enableTransition:ne}=u.value;let M=F/T,P=D/T;switch(I%360){case 90:case-270:[M,P]=[P,-M];break;case 180:case-180:[M,P]=[-M,-P];break;case 270:case-90:[M,P]=[-P,M];break}const U={transform:`scale(${T}) rotate(${I}deg) translate(${M}px, ${P}px)`,transition:ne?"transform .3s":""};return a.value.name===s.CONTAIN.name&&(U.maxWidth=U.maxHeight="100%"),U}),C=q(()=>ut(r.zIndex)?r.zIndex:c());function S(){B(),n("close")}function O(){const T=Ys(F=>{switch(F.code){case He.esc:r.closeOnPressEscape&&S();break;case He.space:se();break;case He.left:he();break;case He.up:Z("zoomIn");break;case He.right:V();break;case He.down:Z("zoomOut");break}}),I=Ys(F=>{const D=F.deltaY||F.deltaX;Z(D<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});f.run(()=>{Pt(document,"keydown",T),Pt(document,"wheel",I)})}function B(){f.stop()}function W(){o.value=!1}function K(T){o.value=!1,T.target.alt=p("el.image.error")}function z(T){if(o.value||T.button!==0||!i.value)return;u.value.enableTransition=!1;const{offsetX:I,offsetY:F}=u.value,D=T.pageX,ne=T.pageY,M=Ys(U=>{u.value={...u.value,offsetX:I+U.pageX-D,offsetY:F+U.pageY-ne}}),P=Pt(document,"mousemove",M);Pt(document,"mouseup",()=>{P()}),T.preventDefault()}function re(){u.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function se(){if(o.value)return;const T=ml(s),I=Object.values(s),F=a.value.name,ne=(I.findIndex(M=>M.name===F)+1)%T.length;a.value=s[T[ne]],re()}function ce(T){const I=r.urlList.length;l.value=(T+I)%I}function he(){d.value&&!r.infinite||ce(l.value-1)}function V(){v.value&&!r.infinite||ce(l.value+1)}function Z(T,I={}){if(o.value)return;const{minScale:F,maxScale:D}=r,{zoomRate:ne,rotateDeg:M,enableTransition:P}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...I};switch(T){case"zoomOut":u.value.scale>F&&(u.value.scale=Number.parseFloat((u.value.scale/ne).toFixed(3)));break;case"zoomIn":u.value.scale<D&&(u.value.scale=Number.parseFloat((u.value.scale*ne).toFixed(3)));break;case"clockwise":u.value.deg+=M,n("rotate",u.value.deg);break;case"anticlockwise":u.value.deg-=M,n("rotate",u.value.deg);break}u.value.enableTransition=P}return Ae(_,()=>{ht(()=>{const T=h.value[0];T?.complete||(o.value=!0)})}),Ae(l,T=>{re(),n("switch",T)}),Qe(()=>{var T,I;O(),(I=(T=i.value)==null?void 0:T.focus)==null||I.call(T)}),t({setActiveItem:ce}),(T,I)=>(X(),Se(lc,{to:"body",disabled:!T.teleported},[pe(On,{name:"viewer-fade",appear:""},{default:_e(()=>[G("div",{ref_key:"wrapper",ref:i,tabindex:-1,class:me(x(m).e("wrapper")),style:Ue({zIndex:x(C)})},[G("div",{class:me(x(m).e("mask")),onClick:I[0]||(I[0]=Mt(F=>T.hideOnClickModal&&S(),["self"]))},null,2),be(" CLOSE "),G("span",{class:me([x(m).e("btn"),x(m).e("close")]),onClick:S},[pe(x(ze),null,{default:_e(()=>[pe(x(jo))]),_:1})],2),be(" ARROW "),x(g)?be("v-if",!0):(X(),le(Me,{key:0},[G("span",{class:me(x(y)),onClick:he},[pe(x(ze),null,{default:_e(()=>[pe(x(og))]),_:1})],2),G("span",{class:me(x(b)),onClick:V},[pe(x(ze),null,{default:_e(()=>[pe(x(Iw))]),_:1})],2)],64)),be(" ACTIONS "),G("div",{class:me([x(m).e("btn"),x(m).e("actions")])},[G("div",{class:me(x(m).e("actions__inner"))},[pe(x(ze),{onClick:I[1]||(I[1]=F=>Z("zoomOut"))},{default:_e(()=>[pe(x(UC))]),_:1}),pe(x(ze),{onClick:I[2]||(I[2]=F=>Z("zoomIn"))},{default:_e(()=>[pe(x(hg))]),_:1}),G("i",{class:me(x(m).e("actions__divider"))},null,2),pe(x(ze),{onClick:se},{default:_e(()=>[(X(),Se(Kt(x(a).icon)))]),_:1}),G("i",{class:me(x(m).e("actions__divider"))},null,2),pe(x(ze),{onClick:I[3]||(I[3]=F=>Z("anticlockwise"))},{default:_e(()=>[pe(x(Q1))]),_:1}),pe(x(ze),{onClick:I[4]||(I[4]=F=>Z("clockwise"))},{default:_e(()=>[pe(x(sC))]),_:1})],2)],2),be(" CANVAS "),G("div",{class:me(x(m).e("canvas"))},[(X(!0),le(Me,null,ft(T.urlList,(F,D)=>ot((X(),le("img",{ref_for:!0,ref:ne=>h.value[D]=ne,key:F,src:F,style:Ue(x(w)),class:me(x(m).e("img")),onLoad:W,onError:K,onMousedown:z},null,46,xM)),[[pt,D===l.value]])),128))],2),Ce(T.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var EM=je(OM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const PM=Wt(EM),kM=We({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:we([String,Object])},previewSrcList:{type:we(Array),default:()=>Or([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),AM={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>ut(e),close:()=>!0,show:()=>!0},RM=["src","loading"],MM={key:0},IM=xe({name:"ElImage",inheritAttrs:!1}),DM=xe({...IM,props:kM,emits:AM,setup(e,{emit:t}){const n=e;let r="";const{t:s}=ds(),p=Ve("image"),m=ic(),c=Ng(),i=fe(),h=fe(!1),f=fe(!0),o=fe(!1),l=fe(),a=fe(),u=Je&&"loading"in HTMLImageElement.prototype;let g,d;const v=q(()=>[p.e("inner"),b.value&&p.e("preview"),f.value&&p.is("loading")]),_=q(()=>m.style),y=q(()=>{const{fit:Z}=n;return Je&&Z?{objectFit:Z}:{}}),b=q(()=>{const{previewSrcList:Z}=n;return Array.isArray(Z)&&Z.length>0}),w=q(()=>{const{previewSrcList:Z,initialIndex:T}=n;let I=T;return T>Z.length-1&&(I=0),I}),C=q(()=>n.loading==="eager"?!1:!u&&n.loading==="lazy"||n.lazy),S=()=>{Je&&(f.value=!0,h.value=!1,i.value=n.src)};function O(Z){f.value=!1,h.value=!1,t("load",Z)}function B(Z){f.value=!1,h.value=!0,t("error",Z)}function W(){CS(l.value,a.value)&&(S(),re())}const K=oS(W,200,!0);async function z(){var Z;if(!Je)return;await ht();const{scrollContainer:T}=n;ti(T)?a.value=T:Be(T)&&T!==""?a.value=(Z=document.querySelector(T))!=null?Z:void 0:l.value&&(a.value=$E(l.value)),a.value&&(g=Pt(a,"scroll",K),setTimeout(()=>W(),100))}function re(){!Je||!a.value||!K||(g?.(),a.value=void 0)}function se(Z){if(Z.ctrlKey){if(Z.deltaY<0)return Z.preventDefault(),!1;if(Z.deltaY>0)return Z.preventDefault(),!1}}function ce(){b.value&&(d=Pt("wheel",se,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",o.value=!0,t("show"))}function he(){d?.(),document.body.style.overflow=r,o.value=!1,t("close")}function V(Z){t("switch",Z)}return Ae(()=>n.src,()=>{C.value?(f.value=!0,h.value=!1,re(),z()):S()}),Qe(()=>{C.value?z():S()}),(Z,T)=>(X(),le("div",{ref_key:"container",ref:l,class:me([x(p).b(),Z.$attrs.class]),style:Ue(x(_))},[h.value?Ce(Z.$slots,"error",{key:0},()=>[G("div",{class:me(x(p).e("error"))},Le(x(s)("el.image.error")),3)]):(X(),le(Me,{key:1},[i.value!==void 0?(X(),le("img",gt({key:0},x(c),{src:i.value,loading:Z.loading,style:x(y),class:x(v),onClick:ce,onLoad:O,onError:B}),null,16,RM)):be("v-if",!0),f.value?(X(),le("div",{key:1,class:me(x(p).e("wrapper"))},[Ce(Z.$slots,"placeholder",{},()=>[G("div",{class:me(x(p).e("placeholder"))},null,2)])],2)):be("v-if",!0)],64)),x(b)?(X(),le(Me,{key:2},[o.value?(X(),Se(x(PM),{key:0,"z-index":Z.zIndex,"initial-index":x(w),infinite:Z.infinite,"zoom-rate":Z.zoomRate,"min-scale":Z.minScale,"max-scale":Z.maxScale,"url-list":Z.previewSrcList,"hide-on-click-modal":Z.hideOnClickModal,teleported:Z.previewTeleported,"close-on-press-escape":Z.closeOnPressEscape,onClose:he,onSwitch:V},{default:_e(()=>[Z.$slots.viewer?(X(),le("div",MM,[Ce(Z.$slots,"viewer")])):be("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):be("v-if",!0)],64)):be("v-if",!0)],6))}});var FM=je(DM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const Oi=Wt(FM),LM=We({trigger:os.trigger,placement:Gs.placement,disabled:os.disabled,visible:Vt.visible,transition:Vt.transition,popperOptions:Gs.popperOptions,tabindex:Gs.tabindex,content:Vt.content,popperStyle:Vt.popperStyle,popperClass:Vt.popperClass,enterable:{...Vt.enterable,default:!0},effect:{...Vt.effect,default:"light"},teleported:Vt.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),BM={"update:visible":e=>Rc(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},$M="onUpdate:visible",jM=xe({name:"ElPopover"}),NM=xe({...jM,props:LM,emits:BM,setup(e,{expose:t,emit:n}){const r=e,s=q(()=>r[$M]),p=Ve("popover"),m=fe(),c=q(()=>{var d;return(d=x(m))==null?void 0:d.popperRef}),i=q(()=>[{width:rs(r.width)},r.popperStyle]),h=q(()=>[p.b(),r.popperClass,{[p.m("plain")]:!!r.content}]),f=q(()=>r.transition===`${p.namespace.value}-fade-in-linear`),o=()=>{var d;(d=m.value)==null||d.hide()},l=()=>{n("before-enter")},a=()=>{n("before-leave")},u=()=>{n("after-enter")},g=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:c,hide:o}),(d,v)=>(X(),Se(x(Jc),gt({ref_key:"tooltipRef",ref:m},d.$attrs,{trigger:d.trigger,placement:d.placement,disabled:d.disabled,visible:d.visible,transition:d.transition,"popper-options":d.popperOptions,tabindex:d.tabindex,content:d.content,offset:d.offset,"show-after":d.showAfter,"hide-after":d.hideAfter,"auto-close":d.autoClose,"show-arrow":d.showArrow,"aria-label":d.title,effect:d.effect,enterable:d.enterable,"popper-class":x(h),"popper-style":x(i),teleported:d.teleported,persistent:d.persistent,"gpu-acceleration":x(f),"onUpdate:visible":x(s),onBeforeShow:l,onBeforeHide:a,onShow:u,onHide:g}),{content:_e(()=>[d.title?(X(),le("div",{key:0,class:me(x(p).e("title")),role:"title"},Le(d.title),3)):be("v-if",!0),Ce(d.$slots,"default",{},()=>[hs(Le(d.content),1)])]),default:_e(()=>[d.$slots.reference?Ce(d.$slots,"reference",{key:0}):be("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var zM=je(NM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const Kh=(e,t)=>{const n=t.arg||t.value,r=n?.popperRef;r&&(r.triggerRef=e)};var HM={mounted(e,t){Kh(e,t)},updated(e,t){Kh(e,t)}};const UM="popover",WM=UE(HM,UM),YM=Wt(zM,{directive:WM}),XM=We({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:we(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:we([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:we(Function),default:e=>`${e}%`}}),VM=["aria-valuenow"],GM={viewBox:"0 0 100 100"},KM=["d","stroke","stroke-linecap","stroke-width"],qM=["d","stroke","opacity","stroke-linecap","stroke-width"],JM={key:0},ZM=xe({name:"ElProgress"}),QM=xe({...ZM,props:XM,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=Ve("progress"),s=q(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:_(t.percentage)})),p=q(()=>(t.strokeWidth/t.width*100).toFixed(1)),m=q(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(p.value)/2}`,10):0),c=q(()=>{const y=m.value,b=t.type==="dashboard";return`
          M 50 50
          m 0 ${b?"":"-"}${y}
          a ${y} ${y} 0 1 1 0 ${b?"-":""}${y*2}
          a ${y} ${y} 0 1 1 0 ${b?"":"-"}${y*2}
          `}),i=q(()=>2*Math.PI*m.value),h=q(()=>t.type==="dashboard"?.75:1),f=q(()=>`${-1*i.value*(1-h.value)/2}px`),o=q(()=>({strokeDasharray:`${i.value*h.value}px, ${i.value}px`,strokeDashoffset:f.value})),l=q(()=>({strokeDasharray:`${i.value*h.value*(t.percentage/100)}px, ${i.value}px`,strokeDashoffset:f.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),a=q(()=>{let y;return t.color?y=_(t.percentage):y=n[t.status]||n.default,y}),u=q(()=>t.status==="warning"?bc:t.type==="line"?t.status==="success"?_c:yc:t.status==="success"?ag:jo),g=q(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),d=q(()=>t.format(t.percentage));function v(y){const b=100/y.length;return y.map((C,S)=>Be(C)?{color:C,percentage:(S+1)*b}:C).sort((C,S)=>C.percentage-S.percentage)}const _=y=>{var b;const{color:w}=t;if(Pe(w))return w(y);if(Be(w))return w;{const C=v(w);for(const S of C)if(S.percentage>y)return S.color;return(b=C[C.length-1])==null?void 0:b.color}};return(y,b)=>(X(),le("div",{class:me([x(r).b(),x(r).m(y.type),x(r).is(y.status),{[x(r).m("without-text")]:!y.showText,[x(r).m("text-inside")]:y.textInside}]),role:"progressbar","aria-valuenow":y.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[y.type==="line"?(X(),le("div",{key:0,class:me(x(r).b("bar"))},[G("div",{class:me(x(r).be("bar","outer")),style:Ue({height:`${y.strokeWidth}px`})},[G("div",{class:me([x(r).be("bar","inner"),{[x(r).bem("bar","inner","indeterminate")]:y.indeterminate},{[x(r).bem("bar","inner","striped")]:y.striped},{[x(r).bem("bar","inner","striped-flow")]:y.stripedFlow}]),style:Ue(x(s))},[(y.showText||y.$slots.default)&&y.textInside?(X(),le("div",{key:0,class:me(x(r).be("bar","innerText"))},[Ce(y.$slots,"default",{percentage:y.percentage},()=>[G("span",null,Le(x(d)),1)])],2)):be("v-if",!0)],6)],6)],2)):(X(),le("div",{key:1,class:me(x(r).b("circle")),style:Ue({height:`${y.width}px`,width:`${y.width}px`})},[(X(),le("svg",GM,[G("path",{class:me(x(r).be("circle","track")),d:x(c),stroke:`var(${x(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":y.strokeLinecap,"stroke-width":x(p),fill:"none",style:Ue(x(o))},null,14,KM),G("path",{class:me(x(r).be("circle","path")),d:x(c),stroke:x(a),fill:"none",opacity:y.percentage?1:0,"stroke-linecap":y.strokeLinecap,"stroke-width":x(p),style:Ue(x(l))},null,14,qM)]))],6)),(y.showText||y.$slots.default)&&!y.textInside?(X(),le("div",{key:2,class:me(x(r).e("text")),style:Ue({fontSize:`${x(g)}px`})},[Ce(y.$slots,"default",{percentage:y.percentage},()=>[y.status?(X(),Se(x(ze),{key:1},{default:_e(()=>[(X(),Se(Kt(x(u))))]),_:1})):(X(),le("span",JM,Le(x(d)),1))])],6)):be("v-if",!0)],10,VM))}});var eI=je(QM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const tI=Wt(eI),Iv=Symbol("uploadContextKey"),nI="ElUpload";class rI extends Error{constructor(t,n,r,s){super(t),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=s}}function qh(e,t,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${t.method} ${e} ${n.status}`,new rI(r,n.status,t.method,e)}function iI(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const sI=e=>{typeof XMLHttpRequest>"u"&&Xo(nI,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",p=>{const m=p;m.percent=p.total>0?p.loaded/p.total*100:0,e.onProgress(m)});const r=new FormData;if(e.data)for(const[p,m]of Object.entries(e.data))Oe(m)&&m.length?r.append(p,...m):r.append(p,m);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(qh(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(qh(n,e,t));e.onSuccess(iI(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const s=e.headers||{};if(s instanceof Headers)s.forEach((p,m)=>t.setRequestHeader(m,p));else for(const[p,m]of Object.entries(s))vi(m)||t.setRequestHeader(p,String(m));return t.send(r),t},Dv=["text","picture","picture-card"];let oI=1;const Cl=()=>Date.now()+oI++,Fv=We({action:{type:String,default:"#"},headers:{type:we(Object)},method:{type:String,default:"post"},data:{type:we([Object,Function,Promise]),default:()=>Or({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:we(Array),default:()=>Or([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Dv,default:"text"},httpRequest:{type:we(Function),default:sI},disabled:Boolean,limit:Number}),aI=We({...Fv,beforeUpload:{type:we(Function),default:Ne},beforeRemove:{type:we(Function)},onRemove:{type:we(Function),default:Ne},onChange:{type:we(Function),default:Ne},onPreview:{type:we(Function),default:Ne},onSuccess:{type:we(Function),default:Ne},onProgress:{type:we(Function),default:Ne},onError:{type:we(Function),default:Ne},onExceed:{type:we(Function),default:Ne}}),lI=We({files:{type:we(Array),default:()=>Or([])},disabled:{type:Boolean,default:!1},handlePreview:{type:we(Function),default:Ne},listType:{type:String,values:Dv,default:"text"}}),cI={remove:e=>!!e},uI=["onKeydown"],fI=["src"],hI=["onClick"],dI=["title"],pI=["onClick"],gI=["onClick"],vI=xe({name:"ElUploadList"}),mI=xe({...vI,props:lI,emits:cI,setup(e,{emit:t}){const n=e,{t:r}=ds(),s=Ve("upload"),p=Ve("icon"),m=Ve("list"),c=Dr(),i=fe(!1),h=q(()=>[s.b("list"),s.bm("list",n.listType),s.is("disabled",n.disabled)]),f=o=>{t("remove",o)};return(o,l)=>(X(),Se(ry,{tag:"ul",class:me(x(h)),name:x(m).b()},{default:_e(()=>[(X(!0),le(Me,null,ft(o.files,a=>(X(),le("li",{key:a.uid||a.name,class:me([x(s).be("list","item"),x(s).is(a.status),{focusing:i.value}]),tabindex:"0",onKeydown:Lp(u=>!x(c)&&f(a),["delete"]),onFocus:l[0]||(l[0]=u=>i.value=!0),onBlur:l[1]||(l[1]=u=>i.value=!1),onClick:l[2]||(l[2]=u=>i.value=!1)},[Ce(o.$slots,"default",{file:a},()=>[o.listType==="picture"||a.status!=="uploading"&&o.listType==="picture-card"?(X(),le("img",{key:0,class:me(x(s).be("list","item-thumbnail")),src:a.url,alt:""},null,10,fI)):be("v-if",!0),a.status==="uploading"||o.listType!=="picture-card"?(X(),le("div",{key:1,class:me(x(s).be("list","item-info"))},[G("a",{class:me(x(s).be("list","item-name")),onClick:Mt(u=>o.handlePreview(a),["prevent"])},[pe(x(ze),{class:me(x(p).m("document"))},{default:_e(()=>[pe(x(x1))]),_:1},8,["class"]),G("span",{class:me(x(s).be("list","item-file-name")),title:a.name},Le(a.name),11,dI)],10,hI),a.status==="uploading"?(X(),Se(x(tI),{key:0,type:o.listType==="picture-card"?"circle":"line","stroke-width":o.listType==="picture-card"?6:2,percentage:Number(a.percentage),style:Ue(o.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):be("v-if",!0)],2)):be("v-if",!0),G("label",{class:me(x(s).be("list","item-status-label"))},[o.listType==="text"?(X(),Se(x(ze),{key:0,class:me([x(p).m("upload-success"),x(p).m("circle-check")])},{default:_e(()=>[pe(x(_c))]),_:1},8,["class"])):["picture-card","picture"].includes(o.listType)?(X(),Se(x(ze),{key:1,class:me([x(p).m("upload-success"),x(p).m("check")])},{default:_e(()=>[pe(x(ag))]),_:1},8,["class"])):be("v-if",!0)],2),x(c)?be("v-if",!0):(X(),Se(x(ze),{key:2,class:me(x(p).m("close")),onClick:u=>f(a)},{default:_e(()=>[pe(x(jo))]),_:2},1032,["class","onClick"])),be(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),be(" This is a bug which needs to be fixed "),be(" TODO: Fix the incorrect navigation interaction "),x(c)?be("v-if",!0):(X(),le("i",{key:3,class:me(x(p).m("close-tip"))},Le(x(r)("el.upload.deleteTip")),3)),o.listType==="picture-card"?(X(),le("span",{key:4,class:me(x(s).be("list","item-actions"))},[G("span",{class:me(x(s).be("list","item-preview")),onClick:u=>o.handlePreview(a)},[pe(x(ze),{class:me(x(p).m("zoom-in"))},{default:_e(()=>[pe(x(hg))]),_:1},8,["class"])],10,pI),x(c)?be("v-if",!0):(X(),le("span",{key:0,class:me(x(s).be("list","item-delete")),onClick:u=>f(a)},[pe(x(ze),{class:me(x(p).m("delete"))},{default:_e(()=>[pe(x(_1))]),_:1},8,["class"])],10,gI))],2)):be("v-if",!0)])],42,uI))),128)),Ce(o.$slots,"append")]),_:3},8,["class","name"]))}});var Jh=je(mI,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const _I=We({disabled:{type:Boolean,default:!1}}),yI={file:e=>Oe(e)},bI=["onDrop","onDragover"],Lv="ElUploadDrag",wI=xe({name:Lv}),CI=xe({...wI,props:_I,emits:yI,setup(e,{emit:t}){const n=ke(Iv);n||Xo(Lv,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=Ve("upload"),s=fe(!1),p=Dr(),m=i=>{if(p.value)return;s.value=!1,i.stopPropagation();const h=Array.from(i.dataTransfer.files),f=n.accept.value;if(!f){t("file",h);return}const o=h.filter(l=>{const{type:a,name:u}=l,g=u.includes(".")?`.${u.split(".").pop()}`:"",d=a.replace(/\/.*$/,"");return f.split(",").map(v=>v.trim()).filter(v=>v).some(v=>v.startsWith(".")?g===v:/\/\*$/.test(v)?d===v.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(v)?a===v:!1)});t("file",o)},c=()=>{p.value||(s.value=!0)};return(i,h)=>(X(),le("div",{class:me([x(r).b("dragger"),x(r).is("dragover",s.value)]),onDrop:Mt(m,["prevent"]),onDragover:Mt(c,["prevent"]),onDragleave:h[0]||(h[0]=Mt(f=>s.value=!1,["prevent"]))},[Ce(i.$slots,"default")],42,bI))}});var SI=je(CI,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const xI=We({...Fv,beforeUpload:{type:we(Function),default:Ne},onRemove:{type:we(Function),default:Ne},onStart:{type:we(Function),default:Ne},onSuccess:{type:we(Function),default:Ne},onProgress:{type:we(Function),default:Ne},onError:{type:we(Function),default:Ne},onExceed:{type:we(Function),default:Ne}}),TI=["onKeydown"],OI=["name","multiple","accept"],EI=xe({name:"ElUploadContent",inheritAttrs:!1}),PI=xe({...EI,props:xI,setup(e,{expose:t}){const n=e,r=Ve("upload"),s=Dr(),p=qt({}),m=qt(),c=g=>{if(g.length===0)return;const{autoUpload:d,limit:v,fileList:_,multiple:y,onStart:b,onExceed:w}=n;if(v&&_.length+g.length>v){w(g,_);return}y||(g=g.slice(0,1));for(const C of g){const S=C;S.uid=Cl(),b(S),d&&i(S)}},i=async g=>{if(m.value.value="",!n.beforeUpload)return f(g);let d,v={};try{const y=n.data,b=n.beforeUpload(g);v=Zs(n.data)?fh(n.data):n.data,d=await b,Zs(n.data)&&kE(y,v)&&(v=fh(n.data))}catch{d=!1}if(d===!1){n.onRemove(g);return}let _=g;d instanceof Blob&&(d instanceof File?_=d:_=new File([d],g.name,{type:g.type})),f(Object.assign(_,{uid:g.uid}),v)},h=async(g,d)=>Pe(g)?g(d):g,f=async(g,d)=>{const{headers:v,data:_,method:y,withCredentials:b,name:w,action:C,onProgress:S,onSuccess:O,onError:B,httpRequest:W}=n;try{d=await h(d??_,g)}catch{n.onRemove(g);return}const{uid:K}=g,z={headers:v||{},withCredentials:b,file:g,data:d,method:y,filename:w,action:C,onProgress:se=>{S(se,g)},onSuccess:se=>{O(se,g),delete p.value[K]},onError:se=>{B(se,g),delete p.value[K]}},re=W(z);p.value[K]=re,re instanceof Promise&&re.then(z.onSuccess,z.onError)},o=g=>{const d=g.target.files;d&&c(Array.from(d))},l=()=>{s.value||(m.value.value="",m.value.click())},a=()=>{l()};return t({abort:g=>{DE(p.value).filter(g?([v])=>String(g.uid)===v:()=>!0).forEach(([v,_])=>{_ instanceof XMLHttpRequest&&_.abort(),delete p.value[v]})},upload:i}),(g,d)=>(X(),le("div",{class:me([x(r).b(),x(r).m(g.listType),x(r).is("drag",g.drag)]),tabindex:"0",onClick:l,onKeydown:Lp(Mt(a,["self"]),["enter","space"])},[g.drag?(X(),Se(SI,{key:0,disabled:x(s),onFile:c},{default:_e(()=>[Ce(g.$slots,"default")]),_:3},8,["disabled"])):Ce(g.$slots,"default",{key:1}),G("input",{ref_key:"inputRef",ref:m,class:me(x(r).e("input")),name:g.name,multiple:g.multiple,accept:g.accept,type:"file",onChange:o,onClick:d[0]||(d[0]=Mt(()=>{},["stop"]))},null,42,OI)],42,TI))}});var Zh=je(PI,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const Qh="ElUpload",ed=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},kI=(e,t)=>{const n=bS(e,"fileList",void 0,{passive:!0}),r=l=>n.value.find(a=>a.uid===l.uid);function s(l){var a;(a=t.value)==null||a.abort(l)}function p(l=["ready","uploading","success","fail"]){n.value=n.value.filter(a=>!l.includes(a.status))}const m=(l,a)=>{const u=r(a);u&&(console.error(l),u.status="fail",n.value.splice(n.value.indexOf(u),1),e.onError(l,u,n.value),e.onChange(u,n.value))},c=(l,a)=>{const u=r(a);u&&(e.onProgress(l,u,n.value),u.status="uploading",u.percentage=Math.round(l.percent))},i=(l,a)=>{const u=r(a);u&&(u.status="success",u.response=l,e.onSuccess(l,u,n.value),e.onChange(u,n.value))},h=l=>{vi(l.uid)&&(l.uid=Cl());const a={name:l.name,percentage:0,status:"ready",size:l.size,raw:l,uid:l.uid};if(e.listType==="picture-card"||e.listType==="picture")try{a.url=URL.createObjectURL(l)}catch(u){u.message,e.onError(u,a,n.value)}n.value=[...n.value,a],e.onChange(a,n.value)},f=async l=>{const a=l instanceof File?r(l):l;a||Xo(Qh,"file to be removed not found");const u=g=>{s(g);const d=n.value;d.splice(d.indexOf(g),1),e.onRemove(g,d),ed(g)};e.beforeRemove?await e.beforeRemove(a,n.value)!==!1&&u(a):u(a)};function o(){n.value.filter(({status:l})=>l==="ready").forEach(({raw:l})=>{var a;return l&&((a=t.value)==null?void 0:a.upload(l))})}return Ae(()=>e.listType,l=>{l!=="picture-card"&&l!=="picture"||(n.value=n.value.map(a=>{const{raw:u,url:g}=a;if(!g&&u)try{a.url=URL.createObjectURL(u)}catch(d){e.onError(d,a,n.value)}return a}))}),Ae(n,l=>{for(const a of l)a.uid||(a.uid=Cl()),a.status||(a.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:s,clearFiles:p,handleError:m,handleProgress:c,handleStart:h,handleSuccess:i,handleRemove:f,submit:o,revokeFileObjectURL:ed}},AI=xe({name:"ElUpload"}),RI=xe({...AI,props:aI,setup(e,{expose:t}){const n=e,r=Dr(),s=qt(),{abort:p,submit:m,clearFiles:c,uploadFiles:i,handleStart:h,handleError:f,handleRemove:o,handleSuccess:l,handleProgress:a,revokeFileObjectURL:u}=kI(n,s),g=q(()=>n.listType==="picture-card"),d=q(()=>({...n,fileList:i.value,onStart:h,onProgress:a,onSuccess:l,onError:f,onRemove:o}));return Lt(()=>{i.value.forEach(u)}),tt(Iv,{accept:yt(n,"accept")}),t({abort:p,submit:m,clearFiles:c,handleStart:h,handleRemove:o}),(v,_)=>(X(),le("div",null,[x(g)&&v.showFileList?(X(),Se(Jh,{key:0,disabled:x(r),"list-type":v.listType,files:x(i),"handle-preview":v.onPreview,onRemove:x(o)},Qa({append:_e(()=>[pe(Zh,gt({ref_key:"uploadRef",ref:s},x(d)),{default:_e(()=>[v.$slots.trigger?Ce(v.$slots,"trigger",{key:0}):be("v-if",!0),!v.$slots.trigger&&v.$slots.default?Ce(v.$slots,"default",{key:1}):be("v-if",!0)]),_:3},16)]),_:2},[v.$slots.file?{name:"default",fn:_e(({file:y})=>[Ce(v.$slots,"file",{file:y})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):be("v-if",!0),!x(g)||x(g)&&!v.showFileList?(X(),Se(Zh,gt({key:1,ref_key:"uploadRef",ref:s},x(d)),{default:_e(()=>[v.$slots.trigger?Ce(v.$slots,"trigger",{key:0}):be("v-if",!0),!v.$slots.trigger&&v.$slots.default?Ce(v.$slots,"default",{key:1}):be("v-if",!0)]),_:3},16)):be("v-if",!0),v.$slots.trigger?Ce(v.$slots,"default",{key:2}):be("v-if",!0),Ce(v.$slots,"tip"),!x(g)&&v.showFileList?(X(),Se(Jh,{key:3,disabled:x(r),"list-type":v.listType,files:x(i),"handle-preview":v.onPreview,onRemove:x(o)},Qa({_:2},[v.$slots.file?{name:"default",fn:_e(({file:y})=>[Ce(v.$slots,"file",{file:y})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):be("v-if",!0)]))}});var MI=je(RI,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const II=Wt(MI),Bv=["success","info","warning","error"],At=Or({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Je?document.body:void 0}),DI=We({customClass:{type:String,default:At.customClass},center:{type:Boolean,default:At.center},dangerouslyUseHTMLString:{type:Boolean,default:At.dangerouslyUseHTMLString},duration:{type:Number,default:At.duration},icon:{type:ni,default:At.icon},id:{type:String,default:At.id},message:{type:we([String,Object,Function]),default:At.message},onClose:{type:we(Function),required:!1},showClose:{type:Boolean,default:At.showClose},type:{type:String,values:Bv,default:At.type},offset:{type:Number,default:At.offset},zIndex:{type:Number,default:At.zIndex},grouping:{type:Boolean,default:At.grouping},repeatNum:{type:Number,default:At.repeatNum}}),FI={destroy:()=>!0},ln=ql([]),LI=e=>{const t=ln.findIndex(s=>s.id===e),n=ln[t];let r;return t>0&&(r=ln[t-1]),{current:n,prev:r}},BI=e=>{const{prev:t}=LI(e);return t?t.vm.exposed.bottom.value:0},$I=(e,t)=>ln.findIndex(r=>r.id===e)>0?20:t,jI=["id"],NI=["innerHTML"],zI=xe({name:"ElMessage"}),HI=xe({...zI,props:DI,emits:FI,setup(e,{expose:t}){const n=e,{Close:r}=NE,{ns:s,zIndex:p}=mk("message"),{currentZIndex:m,nextZIndex:c}=p,i=fe(),h=fe(!1),f=fe(0);let o;const l=q(()=>n.type?n.type==="error"?"danger":n.type:"info"),a=q(()=>{const S=n.type;return{[s.bm("icon",S)]:S&&vh[S]}}),u=q(()=>n.icon||vh[n.type]||""),g=q(()=>BI(n.id)),d=q(()=>$I(n.id,n.offset)+g.value),v=q(()=>f.value+d.value),_=q(()=>({top:`${d.value}px`,zIndex:m.value}));function y(){n.duration!==0&&({stop:o}=lS(()=>{w()},n.duration))}function b(){o?.()}function w(){h.value=!1}function C({code:S}){S===He.esc&&w()}return Qe(()=>{y(),c(),h.value=!0}),Ae(()=>n.repeatNum,()=>{b(),y()}),Pt(document,"keydown",C),Cc(i,()=>{f.value=i.value.getBoundingClientRect().height}),t({visible:h,bottom:v,close:w}),(S,O)=>(X(),Se(On,{name:x(s).b("fade"),onBeforeLeave:S.onClose,onAfterLeave:O[0]||(O[0]=B=>S.$emit("destroy")),persisted:""},{default:_e(()=>[ot(G("div",{id:S.id,ref_key:"messageRef",ref:i,class:me([x(s).b(),{[x(s).m(S.type)]:S.type&&!S.icon},x(s).is("center",S.center),x(s).is("closable",S.showClose),S.customClass]),style:Ue(x(_)),role:"alert",onMouseenter:b,onMouseleave:y},[S.repeatNum>1?(X(),Se(x(rR),{key:0,value:S.repeatNum,type:x(l),class:me(x(s).e("badge"))},null,8,["value","type","class"])):be("v-if",!0),x(u)?(X(),Se(x(ze),{key:1,class:me([x(s).e("icon"),x(a)])},{default:_e(()=>[(X(),Se(Kt(x(u))))]),_:1},8,["class"])):be("v-if",!0),Ce(S.$slots,"default",{},()=>[S.dangerouslyUseHTMLString?(X(),le(Me,{key:1},[be(" Caution here, message could've been compromised, never use user's input as message "),G("p",{class:me(x(s).e("content")),innerHTML:S.message},null,10,NI)],2112)):(X(),le("p",{key:0,class:me(x(s).e("content"))},Le(S.message),3))]),S.showClose?(X(),Se(x(ze),{key:2,class:me(x(s).e("closeBtn")),onClick:Mt(w,["stop"])},{default:_e(()=>[pe(x(r))]),_:1},8,["class","onClick"])):be("v-if",!0)],46,jI),[[pt,h.value]])]),_:3},8,["name","onBeforeLeave"]))}});var UI=je(HI,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let WI=1;const $v=e=>{const t=!e||Be(e)||qr(e)||Pe(e)?{message:e}:e,n={...At,...t};if(!n.appendTo)n.appendTo=document.body;else if(Be(n.appendTo)){let r=document.querySelector(n.appendTo);ti(r)||(r=document.body),n.appendTo=r}return n},YI=e=>{const t=ln.indexOf(e);if(t===-1)return;ln.splice(t,1);const{handler:n}=e;n.close()},XI=({appendTo:e,...t},n)=>{const r=`message_${WI++}`,s=t.onClose,p=document.createElement("div"),m={...t,id:r,onClose:()=>{s?.(),YI(f)},onDestroy:()=>{hf(null,p)}},c=pe(UI,m,Pe(m.message)||qr(m.message)?{default:Pe(m.message)?m.message:()=>m.message}:null);c.appContext=n||li._context,hf(c,p),e.appendChild(p.firstElementChild);const i=c.component,f={id:r,vnode:c,vm:i,handler:{close:()=>{i.exposed.visible.value=!1}},props:c.component.props};return f},li=(e={},t)=>{if(!Je)return{close:()=>{}};if(ut(Rh.max)&&ln.length>=Rh.max)return{close:()=>{}};const n=$v(e);if(n.grouping&&ln.length){const s=ln.find(({vnode:p})=>{var m;return((m=p.props)==null?void 0:m.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}const r=XI(n,t);return ln.push(r),r.handler};Bv.forEach(e=>{li[e]=(t={},n)=>{const r=$v(t);return li({...r,type:e},n)}});function VI(e){for(const t of ln)(!e||e===t.props.type)&&t.handler.close()}li.closeAll=VI;li._context=null;const GI=HE(li,"$message"),KI=e=>(Ro("data-v-cd9800da"),e=e(),Mo(),e),qI={key:0,class:"resource-station__panel page-scrollbar_container"},JI={key:0,class:"add"},ZI={class:"header"},QI={class:"title"},eD={class:"container"},tD={class:"list"},nD={class:"content"},rD={class:"img-icon"},iD=["src"],sD={key:0,class:"name"},oD={key:1,class:"material"},aD={class:"nav-container"},lD={class:"navlist"},cD=["onClick"],uD={class:"el-dropdown-link"},fD={class:"material-container"},hD={class:"container page-scrollbar_container"},dD={class:"panel-content"},pD={key:0,class:"panel-batch"},gD={key:1,class:"panel-batch"},vD={key:0,class:"detail-list page-scrollbar_container"},mD={key:2,class:"Image"},_D=KI(()=>G("div",{class:"image-slot"},null,-1)),yD={__name:"resource",setup(e){const{state:t}=Ar(),n=fe("https://haixin-fang.github.io/vue-design-editor-static/"),r=fe(),s=q(()=>t.activeModule),p=q(()=>t.imageList?(t.imageList.forEach(l=>{l.url=n.value+"image/"+l.url}),t.imageList):[]),m=q(()=>t.icons),c=qt(vw),i=qt(mw.map((l,a)=>({...l,id:a})));function h(l){r.value=l}const f=([l,a])=>Array(a-(l-1)).fill("").map((g,d)=>d+l);function o(l,a,u){a.type=s.value.type,a.interval&&(a.url=`${n.value}svg/${u}.svg`),l.dataTransfer.setData("item",JSON.stringify(a))}return(l,a)=>s.value?(X(),le("div",qI,[s.value.type=="add"?(X(),le("div",JI,[(X(!0),le(Me,null,ft(c.value,(u,g)=>(X(),le("div",{class:"addList",key:g},[G("div",ZI,[G("div",QI,Le(u.title),1)]),G("div",eD,[G("div",tD,[G("div",nD,[(X(!0),le(Me,null,ft(u.list,(d,v)=>(X(),le("div",{class:"addItem",key:v},[G("div",rD,[G("img",{src:d.icon,alt:""},null,8,iD)]),d.title?(X(),le("div",sD,Le(d.title),1)):be("",!0)]))),128))])])])]))),128))])):be("",!0),s.value.type=="material"?(X(),le("div",oD,[G("div",aD,[G("div",lD,[G("div",{class:me(["navItem",r.value?"":"navItemActive"]),onClick:a[0]||(a[0]=u=>r.value=null)},"  ",2),(X(!0),le(Me,null,ft(i.value.slice(0,4),u=>(X(),le("div",{class:me(["navItem",r.value&&r.value.title==u.title?"navItemActive":""]),key:u.id,onClick:g=>h(u)},Le(u.title),11,cD))),128)),i.value.length>4?(X(),Se(x(yM),{key:0,onCommand:h,class:"navItem","popper-class":"navItem",trigger:"click",teleported:!1},{dropdown:_e(()=>[pe(x(wM),null,{default:_e(()=>[(X(!0),le(Me,null,ft(i.value.slice(4),u=>(X(),Se(x(bM),{command:u,key:u.id},{default:_e(()=>[G("span",{class:me(r.value&&r.value.title==u.title?"navItemActive":"")},Le(u.title),3)]),_:2},1032,["command"]))),128))]),_:1})]),default:_e(()=>[G("span",uD,[hs("  "),pe(x(ze),{class:"el-icon--right"},{default:_e(()=>[pe(x(mc))]),_:1})])]),_:1})):be("",!0)])]),G("div",fD,[G("div",hD,[(X(!0),le(Me,null,ft(i.value,u=>(X(),le("div",{class:"panel-block",key:u.id},[pe(GC,{title:u.title,subTitle:"",onChange:g=>h(u)},null,8,["title","onChange"]),G("div",dD,[u.interval?(X(),le("div",pD,[(X(!0),le(Me,null,ft(f(u.interval).slice(0,8),g=>(X(),le("div",{class:"material-detail",key:g},[pe(x(Oi),{src:`${n.value}svg/${g}.svg`,lazy:"",draggable:!0,onDragstart:d=>o(d,u,g)},null,8,["src","onDragstart"])]))),128))])):(X(),le("div",gD,[(X(!0),le(Me,null,ft(m.value.slice(0,8),(g,d)=>(X(),le("div",{class:"material-detail",style:{width:"60px",height:"60px"},key:d},[pe(x(Oi),{src:g.url,lazy:"",draggable:!0,onDragstart:v=>o(v,g)},null,8,["src","onDragstart"])]))),128))]))])]))),128))]),pe(On,{name:"anime"},{default:_e(()=>[r.value?(X(),le("div",vD,[r.value.interval?(X(!0),le(Me,{key:0},ft(f(r.value.interval),u=>(X(),le("div",{class:"detail-item",key:u},[pe(x(Oi),{style:{width:"88px",height:"88px"},src:`${n.value}svg/${u}.svg`,draggable:!0,onDragstart:g=>o(g,u),lazy:""},null,8,["src","onDragstart"])]))),128)):(X(!0),le(Me,{key:1},ft(m.value,(u,g)=>(X(),le("div",{class:"detail-item",key:g},[pe(x(Oi),{style:{width:"88px",height:"88px"},src:u.url,draggable:!0,onDragstart:d=>o(d,u),lazy:""},null,8,["src","onDragstart"])]))),128))])):be("",!0)]),_:1})])])):be("",!0),s.value.type=="Image"?(X(),le("div",mD,[pe(ZC,{list:p.value,column:2},{default:_e(({item:u})=>[pe(x(Oi),{src:u.url,loading:"lazy",lazy:"",onDragstart:g=>o(g,u)},{placeholder:_e(()=>[_D]),_:2},1032,["src","onDragstart"])]),_:1},8,["list"])])):be("",!0)])):be("",!0)}},bD=Tt(yD,[["__scopeId","data-v-cd9800da"]]);function wD(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(r){return r.split(" ").map(function(s){return s?""+e+s:""}).join(" ")}).join(" ")}function CD(e,t){return t.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function nr(e,t){return function(n){n&&(e[t]=n)}}function SD(e,t,n){return function(r){r&&(e[t][n]=r)}}function td(e,t){return function(n){var r=n.prototype;e.forEach(function(s){t(r,s)})}}var xD="function",TD="object",OD="string",ED="number",jv="undefined",PD=typeof document!==jv&&document,kD=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Ia=1e-7,Ls={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,t){return e*t/100},vw:function(e,t){return t===void 0&&(t=window.innerWidth),e/100*t},vh:function(e,t){return t===void 0&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function AD(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,c=p.length;m<c;m++,s++)r[s]=p[m];return r}function Nv(e){return typeof e===jv}function Tn(e){return e&&typeof e===TD}function zv(e){return Array.isArray(e)}function Er(e){return typeof e===OD}function RD(e){return typeof e===ED}function Hv(e){return typeof e===xD}function MD(e,t){var n=e===""||e==" ",r=t===""||t==" ";return r&&n||e===t}function Uv(e,t,n,r,s){var p=tu(e,t,n);return p?n:ID(e,t,n+1,r,s)}function tu(e,t,n){if(!e.ignore)return null;var r=t.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(r)}function ID(e,t,n,r,s){for(var p=function(h){var f=t[h].trim();if(f===e.close&&!tu(e,t,h))return{value:h};var o=h,l=mo(s,function(a){var u=a.open;return u===f});if(l&&(o=Uv(l,t,h,r,s)),o===-1)return m=h,"break";h=o,m=h},m,c=n;c<r;++c){var i=p(c);if(c=m,typeof i=="object")return i.value;if(i==="break")break}return-1}function nu(e,t){var n=Er(t)?{separator:t}:t,r=n.separator,s=r===void 0?",":r,p=n.isSeparateFirst,m=n.isSeparateOnlyOpenClose,c=n.isSeparateOpenClose,i=c===void 0?m:c,h=n.openCloseCharacters,f=h===void 0?kD:h,o=f.map(function(S){var O=S.open,B=S.close;return O===B?O:O+"|"+B}).join("|"),l="(\\s*"+s+"\\s*|"+o+"|\\s+)",a=new RegExp(l,"g"),u=e.split(a).filter(function(S){return S&&S!=="undefined"}),g=u.length,d=[],v=[];function _(){return v.length?(d.push(v.join("")),v=[],!0):!1}for(var y=function(S){var O=u[S].trim(),B=S,W=mo(f,function(re){var se=re.open;return se===O}),K=mo(f,function(re){var se=re.close;return se===O});if(W){if(B=Uv(W,u,S,g,f),B!==-1&&i)return _()&&p||(d.push(u.slice(S,B+1).join("")),S=B,p)?(b=S,"break"):(b=S,"continue")}else if(K&&!tu(K,u,S)){var z=AD(f);return z.splice(f.indexOf(K),1),{value:nu(e,{separator:s,isSeparateFirst:p,isSeparateOnlyOpenClose:m,isSeparateOpenClose:i,openCloseCharacters:z})}}else if(MD(O,s)&&!m)return _(),p?(b=S,"break"):(b=S,"continue");B===-1&&(B=g-1),v.push(u.slice(S,B+1).join("")),S=B,b=S},b,w=0;w<g;++w){var C=y(w);if(w=b,typeof C=="object")return C.value;if(C==="break")break}return v.length&&d.push(v.join("")),d}function DD(e){return nu(e,"")}function Ai(e){return nu(e,",")}function FD(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function Wv(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2],s=t[3];return{prefix:n,unit:s,value:parseFloat(r)}}function LD(e){return e.replace(/[\s-_]+([^\s-_])/g,function(t,n){return n.toUpperCase()})}function Da(e,t){return t===void 0&&(t="-"),e.replace(/([a-z])([A-Z])/g,function(n,r,s){return""+r+t+s.toLowerCase()})}function Sl(){return Date.now?Date.now():new Date().getTime()}function Zo(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=0;s<r;++s)if(t(e[s],s,e))return s;return n}function BD(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=r-1;s>=0;--s)if(t(e[s],s,e))return s;return n}function $D(e,t,n){var r=BD(e,t);return r>-1?e[r]:n}function mo(e,t,n){var r=Zo(e,t);return r>-1?e[r]:n}function xl(e){return Object.keys(e)}function jD(e){var t=xl(e);return t.map(function(n){return e[n]})}function Ni(e,t){var n=Wv(e),r=n.value,s=n.unit;if(Tn(t)){var p=t[s];if(p){if(Hv(p))return p(r);if(Ls[s])return Ls[s](r,p)}}else if(s==="%")return r*t/100;return Ls[s]?Ls[s](r):r}function Fa(e,t){if(!t)return e;var n=1/t;return Math.round(e/t)/n}function ND(e){return e.reduce(function(t,n){return t.concat(n)},[])}function zD(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function HD(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function UD(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function mt(e,t,n,r){e.addEventListener(t,n,r)}function lt(e,t,n,r){e.removeEventListener(t,n,r)}function ru(e){return e?.ownerDocument||PD}function La(e){var t;return((t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function WD(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function iu(e){return Tn(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}var YD=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(n){return this.values[this.keys.indexOf(n)]},t.set=function(n,r){var s=this.keys,p=this.values,m=s.indexOf(n),c=m===-1?s.length:m;s[c]=n,p[c]=r},e}(),XD=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(n){return this.object[n]},t.set=function(n,r){this.object[n]=r},e}(),VD=typeof Map=="function",GD=function(){function e(){}var t=e.prototype;return t.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},t.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},t.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},e}();function KD(e,t){var n=[],r=[];return e.forEach(function(s){var p=s[0],m=s[1],c=new GD;n[p]=c,r[m]=c}),n.forEach(function(s,p){s.connect(n[p-1])}),e.filter(function(s,p){return!t[p]}).map(function(s,p){var m=s[0],c=s[1];if(m===c)return[0,0];var i=n[m],h=r[c-1],f=i.getIndex();i.disconnect(),h?i.connect(h,h.next):i.connect(void 0,n[0]);var o=i.getIndex();return[f,o]})}var qD=function(){function e(n,r,s,p,m,c,i,h){this.prevList=n,this.list=r,this.added=s,this.removed=p,this.changed=m,this.maintained=c,this.changedBeforeAdded=i,this.fixed=h}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var n=KD(this.changedBeforeAdded,this.fixed),r=this.changed,s=[];this.cacheOrdered=n.filter(function(p,m){var c=p[0],i=p[1],h=r[m],f=h[0],o=h[1];if(c!==i)return s.push([f,o]),!0}),this.cachePureChanged=s},e}();function Yv(e,t,n){var r=VD?Map:n?XD:YD,s=n||function(_){return _},p=[],m=[],c=[],i=e.map(s),h=t.map(s),f=new r,o=new r,l=[],a=[],u={},g=[],d=0,v=0;return i.forEach(function(_,y){f.set(_,y)}),h.forEach(function(_,y){o.set(_,y)}),i.forEach(function(_,y){var b=o.get(_);typeof b>"u"?(++v,m.push(y)):u[b]=v}),h.forEach(function(_,y){var b=f.get(_);typeof b>"u"?(p.push(y),++d):(c.push([b,y]),v=u[y]||0,l.push([b-v,y-d]),a.push(y===b),b!==y&&g.push([b,y]))}),m.reverse(),new qD(e,t,p,m,g,c,l,a)}var Tl=function(e,t){return Tl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Tl(e,t)};function vs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Tl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var bn=function(){return bn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},bn.apply(this,arguments)};function Xv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function nd(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,p;r<s;r++)(p||!(r in t))&&(p||(p=Array.prototype.slice.call(t,0,r)),p[r]=t[r]);return e.concat(p||Array.prototype.slice.call(t))}function rd(e){var t=0;return e.map(function(n){return n==null?"$compat".concat(++t):"".concat(n)})}function Vv(e){var t=[];return e.forEach(function(n){t=t.concat(zv(n)?Vv(n):n)}),t}function Ba(e,t){if(!t)return e;for(var n in t)Nv(e[n])&&(e[n]=t[n]);return e}function _o(e,t){if(e===t)return!1;for(var n in e)if(!(n in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function id(e){var t=e.className,n=Xv(e,["className"]);return t!=null&&(n.class=t),delete n.style,delete n.children,n}function sd(e){var t={},n={};for(var r in e)r.indexOf("on")===0?n[r]=e[r]:t[r]=e[r];return[t,n]}function Qo(e){if(!e)return null;var t=e.b;return iu(t)?t:Qo(e.c)}function Gv(e){var t=e.parentNode;t&&t.removeChild(e)}function Kv(e){e.forEach(function(t){t()})}function JD(){return this.constructor(this.props,this.context)}var su=0,ea=function(){function e(n,r,s,p,m,c,i){i===void 0&&(i={}),this.t=n,this.d=r,this.k=s,this.i=p,this.c=m,this.ref=c,this.ps=i,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var t=e.prototype;return t.s=function(){return!0},t.u=function(n,r,s,p,m){var c=this,i=c.d,h=jD(r).filter(function(u){return u.$_req}),f=Vv(h.map(function(u){return u.$_subs})),o=mo(f,function(u){return u.d===i});if(c.b&&!Er(s)&&!m&&!c.s(s.props,p)&&!o){var l=f.reduce(function(u,g){var d=g.d;return u[0]?u[0].d===d&&u.push(g):d>i&&u.push(g),u},[]);return l.forEach(function(u){ms(u,u._ps,[u.o],n,r,!0)}),!1}c.o=s,c.ss(p);var a=c.ps;return Er(s)||(c.ps=s.props,c.ref=s.ref),ou(this),c.r(n,r,c.b?a:{},p),!0},t.md=function(){this.rr()},t.ss=function(){},t.ud=function(){this.rr()},t.rr=function(){var n=this,r=n.ref,s=n.fr;r&&r(s?s.current:n.b)},e}();function qv(){return Object.__CROACT_CURRENT_INSTNACE__}function ZD(){return su}function QD(e){su=e}function ou(e){return Object.__CROACT_CURRENT_INSTNACE__=e,su=0,e}var au=function(){function e(n,r){n===void 0&&(n={}),this.props=n,this.context=r,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var t=e.prototype;return t.render=function(){return null},t.shouldComponentUpdate=function(n,r){return this.props!==n||this.state!==r},t.setState=function(n,r,s){var p=this;p.$_timer||(p.$_state={}),clearTimeout(p.$_timer),p.$_timer=0,p.$_state=bn(bn({},p.$_state),n),s?p.$_setState(r,s):p.$_timer=window.setTimeout(function(){p.$_timer=0,p.$_setState(r,s)})},t.forceUpdate=function(n){this.setState({},n,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(n,r){},t.componentWillUnmount=function(){},t.$_setState=function(n,r){var s=[],p=this.$_p,m=ms(p.c,[p],[p.o],s,p._cs,bn(bn({},this.state),this.$_state),r);m&&(n&&s.push(n),Kv(s),ou(null))},e}(),Jv=function(e){vs(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,s){return _o(this.props,r)||_o(this.state,s)},t}(au);function lu(e){var t=function(n){t.current=n};return t.current=e,t}function e3(e){return e._fr=!0,e}function t3(e,t,n,r){var s,p;return!((s=e?.prototype)===null||s===void 0)&&s.render?p=new e(t,n):(p=new au(t,n),p.constructor=e,e._fr?(r.fr=lu(),p.render=function(){return this.constructor(this.props,r.fr)}):p.render=JD),p.$_p=r,p}var n3=function(e){vs(t,e);function t(r,s,p,m,c,i,h){h===void 0&&(h={});var f=e.call(this,r,s,p,m,c,i,Ba(h,r.defaultProps))||this;return f.typ="comp",f._usefs=[],f._uefs=[],f._defs=[],f}var n=t.prototype;return n.s=function(r,s){var p=this.b;return p.shouldComponentUpdate(Ba(r,this.t.defaultProps),s||p.state)!==!1},n.r=function(r,s,p){var m,c,i=this,h=i.t;i.ps=Ba(i.ps,i.t.defaultProps);var f=i.ps,o=!i.b,l=h.contextType,a=i.b,u=l?.get(i);i._cs=s,o?(a=t3(h,f,u,i),i.b=a):(a.props=f,a.context=u);var g=a.state;i._usefs=[],i._uefs=[];var d=a.render();((c=(m=d?.props)===null||m===void 0?void 0:m.children)===null||c===void 0?void 0:c.length)===0&&(d.props.children=i.ps.children);var v=bn(bn({},s),a.$_cs);ms(i,i._ps,d?[d]:[],r,v),o?i._uefs.push(function(){l?.register(i),a.componentDidMount()}):i._uefs.push(function(){a.componentDidUpdate(p,g)}),r.push(function(){i._usefs.forEach(function(_){_()}),o?i.md():i.ud(),i._defs=i._uefs.map(function(_){return _()})})},n.ss=function(r){var s=this.b;!s||!r||(s.state=r)},n.un=function(){var r,s=this;s._ps.forEach(function(m){m.un()});var p=s.t;(r=p.contextType)===null||r===void 0||r.unregister(s),clearTimeout(s.b.$_timer),s._defs.forEach(function(m){m&&m()}),s.b.componentWillUnmount()},t}(ea);function r3(e,t,n){var r=cu(id(e),id(t)),s=r.added,p=r.removed,m=r.changed;for(var c in s)n.setAttribute(c,s[c]);for(var i in m)n.setAttribute(i,m[i][1]);for(var h in p)n.removeAttribute(h)}function i3(e,t,n){var r=cu(e,t),s=r.added,p=r.removed;for(var m in p)n.e(m,!0);for(var c in s)n.e(c)}function cu(e,t){var n=xl(e),r=xl(t),s=Yv(n,r,function(i){return i}),p={},m={},c={};return s.added.forEach(function(i){var h=r[i];p[h]=t[h]}),s.removed.forEach(function(i){var h=n[i];m[h]=e[h]}),s.maintained.forEach(function(i){var h=i[0],f=n[h],o=[e[f],t[f]];e[f]!==t[f]&&(c[f]=o)}),{added:p,removed:m,changed:c}}function s3(e,t,n){var r=n.style,s=cu(e,t),p=s.added,m=s.removed,c=s.changed;for(var i in p){var h=Da(i,"-");r.setProperty(h,p[i])}for(var i in c){var f=Da(i,"-");r.setProperty(f,c[i][1])}for(var i in m){var o=Da(i,"-");r.removeProperty(o)}}function o3(e){return e.replace(/^on/g,"").toLowerCase()}var a3=function(e){vs(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="elem",r._es={},r._svg=!1,r}var n=t.prototype;return n.e=function(r,s){var p=this,m=p._es,c=p.b,i=o3(r);s?(lt(c,i,m[r]),delete m[r]):(m[r]=function(h){var f,o;(o=(f=p.ps)[r])===null||o===void 0||o.call(f,h)},mt(c,i,m[r]))},n.s=function(r){return _o(this.ps,r)},n.r=function(r,s,p){var m,c=this,i=!c.b,h=c.ps;if(i){var f=Qo(c.c),o=!1;c._svg||c.t==="svg"?o=!0:o=f&&f.ownerSVGElement,c._svg=o;var l=(m=c._hyd)===null||m===void 0?void 0:m.splice(0,1)[0],a=c.t;if(l)c._hyd=[].slice.call(l.children||[]);else{var u=ru(f);o?l=u.createElementNS("http://www.w3.org/2000/svg",a):l=u.createElement(a)}c.b=l}ms(c,c._ps,h.children,r,s);var g=c.b,d=sd(p),v=d[0],_=d[1],y=sd(h),b=y[0],w=y[1];return r3(v,b,g),i3(_,w,c),s3(p.style||{},h.style||{},g),r.push(function(){i?c.md():c.ud()}),!0},n.un=function(){var r=this,s=r._es,p=r.b;for(var m in s)lt(p,m,s[m]);r._ps.forEach(function(c){c.un()}),r._es={},r._sel||Gv(p)},t}(ea);function as(e){if(!e||iu(e))return e;var t=e.$_p._ps;return t.length?as(t[0].b):null}function Zv(e){if(e){if(e.b&&iu(e.b))return e;var t=e._ps;return t.length?Zv(t[0]):null}}function Gt(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=t||{},p=s.key,m=s.ref,c=Xv(s,["key","ref"]);return{type:e,key:p,ref:m,props:bn(bn({},c),{children:ND(n).filter(function(i){return i!=null&&i!==!1})})}}var Qv=function(e){vs(t,e);function t(r,s){s===void 0&&(s=0);var p=e.call(this,"container",s,"container",0,null)||this;return p.typ="container",p.b=r,p}var n=t.prototype;return n.r=function(){return!0},n.un=function(){},t}(ea),l3=function(e){vs(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="text",r}var n=t.prototype;return n.r=function(r){var s,p=this,m=!p.b;if(m){var c=Qo(p.c),i=(s=p._hyd)===null||s===void 0?void 0:s.splice(0,1)[0];p.b=i||ru(c).createTextNode(p.t.replace("text_",""))}return r.push(function(){m?p.md():p.ud()}),!0},n.un=function(){Gv(this.b)},t}(ea);function c3(e,t,n){var r=n.map(function(i){return Er(i)?null:i.key}),s=rd(t.map(function(i){return i.k})),p=rd(r),m=Yv(s,p,function(i){return i});m.removed.forEach(function(i){t.splice(i,1)[0].un()}),m.ordered.forEach(function(i){var h=i[0],f=i[1],o=t.splice(h,1)[0];t.splice(f,0,o);var l=as(o.b),a=as(t[f+1]&&t[f+1].b);l&&l.parentNode.insertBefore(l,a)}),m.added.forEach(function(i){t.splice(i,0,od(n[i],r[i],i,e))});var c=m.maintained.filter(function(i){i[0];var h=i[1],f=n[h],o=t[h],l=Er(f)?"text_".concat(f):f.type;return l!==o.t?(o.un(),t.splice(h,1,od(f,r[h],h,e)),!0):(o.i=h,!1)});return nd(nd([],m.added,!0),c.map(function(i){i[0];var h=i[1];return h}),!0)}function u3(e,t){for(var n=e._ps,r=n.length,s=t.i+1;s<r;++s){var p=as(n[s].b);if(p)return p}return null}function od(e,t,n,r){var s=r.d+1;if(Er(e)||RD(e))return new l3("text_".concat(e),s,t,n,r,null,{});var p=e.type,m=typeof p=="string"?a3:n3;return new m(p,s,t,n,r,e.ref,e.props)}function ms(e,t,n,r,s,p,m){var c=c3(e,t,n),i=e._hyd,h=t.filter(function(o,l){return o._hyd=i,o.u(r,s,n[l],p,m)});e.typ==="container"&&e._sel&&t.forEach(function(o){var l=Zv(o);l&&(l._sel=!0)}),e._hyd=null;var f=Qo(e);return f&&c.reverse().forEach(function(o){var l=t[o],a=as(l.b);if(a&&f!==a&&!a.parentNode){var u=u3(e,l);f.insertBefore(a,u)}}),h.length>0}function f3(e,t,n,r){n===void 0&&(n=t.__CROACT__),r===void 0&&(r={});var s=!!n;n||(n=new Qv(t));var p=[];return ms(n,n._ps,e?[e]:[],p,r,void 0,void 0),Kv(p),ou(null),s||(t.__CROACT__=n),n}function ad(e,t,n){return!n&&e&&(n=new Qv(t.parentElement),n._hyd=[t],n._sel=!0),f3(e,t,n),n}function em(e){var t=qv(),n=t._hs||(t._hs=[]),r=ZD(),s=n[r];if(QD(r+1),s){if(!_o(s.deps,e.deps))return s.updated=!1,s;n[r]=e}else n.push(e);return e.value=e.func(),e.updated=!0,e}function h3(e,t){var n=em({func:e,deps:t});return n.value}function d3(e){return h3(function(){return lu(e)},[])}function tm(e,t,n){var r=qv(),s=em({func:function(){return e},deps:t}),p=n?r._usefs:r._uefs;s.updated?p.push(function(){return s.effect&&s.effect(),s.effect=e(),s.effect}):p.push(function(){return s.effect})}function p3(e,t,n){tm(function(){e?.(t())},n,!0)}var Ol=function(e,t){return Ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ol(e,t)};function g3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ol(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var v3=function(e){g3(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={scrollPos:0},r.width=0,r.height=0,r._zoom=0,r._rulerScale=0,r._observer=null,r._checkResize=function(){r.resize()},r}var n=t.prototype;return n.render=function(){var r=this.props;return this._zoom=r.zoom,Gt("canvas",{ref:nr(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var r=this.props;this.state.scrollPos=r.defaultScrollPos||0;var s=this.canvasElement,p=s.getContext("2d",{alpha:!0});this.canvasContext=p,r.useResizeObserver?(this._observer=new ResizeObserver(this._checkResize),this._observer.observe(s,{box:"border-box"})):this.resize()},n.componentDidUpdate=function(){this.resize()},n.componentWillUnmount=function(){var r;this.state.scrollPos=0,(r=this._observer)===null||r===void 0||r.disconnect()},n.getScrollPos=function(){return this.state.scrollPos},n.scroll=function(r,s){this.draw({scrollPos:r,zoom:s})},n.resize=function(r){var s=this.canvasElement,p=this.props,m=p.width,c=p.height,i=p.scrollPos,h=this._getRulerScale();this.width=m||s.offsetWidth,this.height=c||s.offsetHeight,s.width=this.width*h,s.height=this.height*h,this.draw({scrollPos:i,zoom:r})},n.draw=function(r){r===void 0&&(r={});var s=this.props,p=r.zoom,m=p===void 0?this._zoom:p,c=r.scrollPos,i=c===void 0?this.state.scrollPos:c,h=r.marks,f=h===void 0?s.marks:h,o=r.selectedRanges,l=o===void 0?s.selectedRanges:o,a=r.segment,u=a===void 0?s.segment||10:a,g=r.unit,d=g===void 0?s.unit:g;this._zoom=m;var v=s,_=v.type,y=v.backgroundColor,b=v.lineColor,w=v.textColor,C=v.textBackgroundColor,S=v.direction,O=v.negativeRuler,B=O===void 0?!0:O,W=v.textFormat,K=v.range,z=K===void 0?[-1/0,1/0]:K,re=v.rangeBackgroundColor,se=v.selectedBackgroundColor,ce=v.lineWidth,he=ce===void 0?1:ce,V=v.selectedRangesText,Z=v.selectedRangesTextColor,T=Z===void 0?"#44aaff":Z,I=v.selectedRangesTextOffset,F=I===void 0?[0,0]:I,D=v.markColor,ne=D===void 0?"#ff5":D,M=this._getRulerScale(),P=this.width,U=this.height,R=this.state;R.scrollPos=i;var L=this.canvasContext,N=_==="horizontal",Q=B!==!1,oe=s.font||"10px sans-serif",A=s.textAlign||"left",E=s.textOffset||[0,0],k=N?U:P,$=Ni("".concat(s.mainLineSize||"100%"),k),H=Ni("".concat(s.longLineSize||10),k),j=Ni("".concat(s.shortLineSize||7),k),Y=s.lineOffset||[0,0];switch(y==="transparent"?L.clearRect(0,0,P*M,U*M):(L.rect(0,0,P*M,U*M),L.fillStyle=y,L.fill()),L.save(),L.scale(M,M),L.strokeStyle=b,L.lineWidth=he,L.font=oe,L.fillStyle=w,L.textAlign=A,S){case"start":L.textBaseline="top";break;case"center":L.textBaseline="middle";break;case"end":L.textBaseline="bottom";break}L.translate(.5,0),L.beginPath();for(var ee=N?P:U,ae=m*d,ie=Math.floor(i*m/ae),J=Math.ceil((i*m+ee)/ae),ue=J-ie,ge=Math.max(["left","center","right"].indexOf(A)-1,-1),te=N?U:P,ve=[],ye=0;ye<=ue;++ye){var Te=(ye+ie)*d,Re="".concat(Te);W&&(Re=W(Te));var nt=L.measureText(Re).width;ve.push({color:w,offset:E,backgroundColor:C,value:Te,text:Re,textSize:nt})}if(se!=="transparent"&&l?.length&&l.forEach(function(kt){var Yt=Math.max(kt[0],z[0],B?-1/0:0),nn=Math.min(kt[1],z[1]),Pn=(Yt-i)*m,kn=(nn-Yt)*m;V&&kt.forEach(function(gn){var vn="".concat(gn);W&&(vn=W(gn));var An=L.measureText(vn).width,Xn=gn*m,ws=Xn+An;$D(ve,function(Lr,bi){var fr=Lr.value,Dm=Lr.textSize,xu=fr*m,Fm=xu+Dm;xu<=ws&&Xn<=Fm&&ve.splice(bi,1)}),ve.push({value:gn,color:T,offset:F,text:vn,textSize:An})}),!(kn<=0)&&(L.save(),L.fillStyle=se,N?L.fillRect(Pn,0,kn,te):L.fillRect(0,Pn,te,kn),L.restore())}),re!=="transparent"&&z[0]!==-1/0&&z[1]!==1/0){var Ot=(z[0]-i)*m,Ct=(z[1]-z[0])*m;L.save(),L.fillStyle=re,N?L.fillRect(Ot,0,Ct,te):L.fillRect(0,Ot,te,Ct),L.restore()}for(var ye=0;ye<=ue;++ye){var Te=ye+ie;if(!(!Q&&Te<0))for(var pn=Te*d,ur=(pn-i)*m,et=0;et<u;++et){var vt=ur+et/u*ae,_i=pn+et/u*d;if(!(vt<0||vt>=ee||_i<z[0]||_i>z[1])){var bs=et===0?$:et%2===0?H:j,yi=0;switch(S){case"start":yi=0;break;case"center":yi=te/2-bs/2;break;case"end":yi=te-bs;break}var Cu=N?[vt+Y[0],yi+Y[1]]:[yi+Y[0],vt+Y[1]],aa=Cu[0],la=Cu[1],Su=N?[aa,la+bs]:[aa+bs,la],Mm=Su[0],Im=Su[1];L.moveTo(aa+Y[0],la+Y[1]),L.lineTo(Mm+Y[0],Im+Y[1])}}}L.stroke(),L.beginPath(),L.strokeStyle=ne,L.lineWidth=1,(f||[]).forEach(function(kt){var Yt=(-i+kt)*m;if(!(Yt<0||Yt>=ee||kt<z[0]||kt>z[1])){var nn=N?[Yt+Y[0],Y[1]]:[Y[0],Yt+Y[1]],Pn=nn[0],kn=nn[1],gn=N?[Pn,kn+k]:[Pn+k,kn],vn=gn[0],An=gn[1];L.moveTo(Pn+Y[0],kn+Y[1]),L.lineTo(vn+Y[0],An+Y[1])}}),L.stroke(),ve.forEach(function(kt){var Yt=kt.value,nn=kt.offset,Pn=kt.backgroundColor,kn=kt.color,gn=kt.text,vn=kt.textSize;if(!(!Q&&Yt<0)){var An=(Yt-i)*m;if(!(An<-ae||An>=ee+d*m||Yt<z[0]||Yt>z[1])){var Xn=0;switch(S){case"start":Xn=17;break;case"center":Xn=te/2;break;case"end":Xn=te-17;break}var ws=N?[An+ge*-3,Xn]:[Xn,An+ge*3],Lr=ws[0],bi=ws[1];if(Pn){var fr=0;switch(A){case"left":fr=0;break;case"center":fr=-vn/2;break;case"right":fr=-vn;break}L.save(),L.fillStyle=Pn,N?L.fillRect(Lr+nn[0]+fr,0,vn,$):(L.translate(0,bi+nn[1]),L.rotate(-Math.PI/2),L.fillRect(fr,0,vn,$)),L.restore()}L.save(),L.fillStyle=kn,N?L.fillText(gn,Lr+nn[0],bi+nn[1]):(L.translate(Lr+nn[0],bi+nn[1]),L.rotate(-Math.PI/2),L.fillText(gn,0,0)),L.restore()}}}),L.restore()},n._getRulerScale=function(){var r=this.props.defaultPixelScale||2;if(!this._rulerScale){var s=window.devicePixelRatio>1;if(!s&&window.matchMedia){var p=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");s=p&&p.matches}this._rulerScale=s?3:r}return this._rulerScale},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555",defaultScrollPos:0,markColor:"#f55",marks:[]},t}(Jv),nm=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","defaultScrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat","warpSelf","selectedBackgroundColor","selectedRanges","defaultPixelScale","useResizeObserver","selectedRangesText","selectedRangesTextColor","selectedRangesTextOffset","marks","markColor"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var El=function(){return El=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},El.apply(this,arguments)};function m3(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,c=p.length;m<c;m++,s++)r[s]=p[m];return r}var _3=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(Tn(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(Tn(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=Zo(p,function(c){return c.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,m3(p).forEach(function(c){c.listener(r),c.once&&s.off(n,c.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(El({listener:r},s))},e}();const y3=_3;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pl=function(e,t){return Pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Pl(e,t)};function b3(e,t){Pl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var it=function(){return it=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},it.apply(this,arguments)};function w3(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=Math.atan2(r,n);return s>=0?s:s+Math.PI*2}function $a(e){return w3([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function C3(e){return e.touches&&e.touches.length>=2}function Bs(e){return e?e.touches?x3(e.touches):[rm(e)]:[]}function S3(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function ld(e,t,n){var r=n.length,s=zi(e,r),p=s.clientX,m=s.clientY,c=s.originalClientX,i=s.originalClientY,h=zi(t,r),f=h.clientX,o=h.clientY,l=zi(n,r),a=l.clientX,u=l.clientY,g=p-f,d=m-o,v=p-a,_=m-u;return{clientX:c,clientY:i,deltaX:g,deltaY:d,distX:v,distY:_}}function ja(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function x3(e){for(var t=Math.min(e.length,2),n=[],r=0;r<t;++r)n.push(rm(e[r]));return n}function rm(e){return{clientX:e.clientX,clientY:e.clientY}}function zi(e,t){t===void 0&&(t=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(e.length,t),s=0;s<r;++s){var p=e[s];n.originalClientX+="originalClientX"in p?p.originalClientX:p.clientX,n.originalClientY+="originalClientY"in p?p.originalClientY:p.clientY,n.clientX+=p.clientX,n.clientY+=p.clientY}return t?{clientX:n.clientX/t,clientY:n.clientY/t,originalClientX:n.originalClientX/t,originalClientY:n.originalClientY/t}:n}var Na=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return e.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),$a(t)},e.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),$a(t)-$a(this.startClients)},e.prototype.getPosition=function(t,n){t===void 0&&(t=this.prevClients);var r=ld(t||this.prevClients,this.prevClients,this.startClients),s=r.deltaX,p=r.deltaY;return this.movement+=Math.sqrt(s*s+p*p),this.prevClients=t,r},e.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var n=this.prevClients,r=this.startClients,s=Math.min(this.length,n.length),p=[],m=0;m<s;++m)p[m]=ld([t[m]],[n[m]],[r[m]]);return p},e.prototype.getMovement=function(t){var n=this.movement;if(!t)return n;var r=zi(t,this.length),s=zi(this.prevClients,this.length),p=r.clientX-s.clientX,m=r.clientY-s.clientY;return Math.sqrt(p*p+m*m)+n},e.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),ja(t)},e.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),ja(t)/ja(this.startClients)},e.prototype.move=function(t,n){this.startClients.forEach(function(r){r.clientX-=t,r.clientY-=n}),this.prevClients.forEach(function(r){r.clientX-=t,r.clientY-=n})},e}(),cd=["textarea","input"],T3=function(e){b3(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this)||this;s.options={},s.flag=!1,s.pinchFlag=!1,s.data={},s.isDrag=!1,s.isPinch=!1,s.clientStores=[],s.targets=[],s.prevTime=0,s.doubleFlag=!1,s._useMouse=!1,s._useTouch=!1,s._useDrag=!1,s._dragFlag=!1,s._isTrusted=!1,s._isMouseEvent=!1,s._isSecondaryButton=!1,s._preventMouseEvent=!1,s._prevInputEvent=null,s._isDragAPI=!1,s._isIdle=!0,s._window=window,s.onDragStart=function(l,a){if(a===void 0&&(a=!0),!(!s.flag&&l.cancelable===!1)){var u=l.type.indexOf("drag")>=-1;if(!(s.flag&&u)){s._isDragAPI=!0;var g=s.options,d=g.container,v=g.pinchOutside,_=g.preventWheelClick,y=g.preventRightClick,b=g.preventDefault,w=g.checkInput,C=g.dragFocusedInput,S=g.preventClickEventOnDragStart,O=g.preventClickEventOnDrag,B=g.preventClickEventByCondition,W=s._useTouch,K=!s.flag;if(s._isSecondaryButton=l.which===3||l.button===2,_&&(l.which===2||l.button===1)||y&&(l.which===3||l.button===2))return s.stop(),!1;if(K){var z=s._window.document.activeElement,re=l.target;if(re){var se=re.tagName.toLowerCase(),ce=cd.indexOf(se)>-1,he=re.isContentEditable;if(ce||he){if(w||!C&&z===re)return!1;if(z&&(z===re||he&&z.isContentEditable&&z.contains(re)))if(C)re.blur();else return!1}else if((b||l.type==="touchstart")&&z){var V=z.tagName.toLowerCase();(z.isContentEditable||cd.indexOf(V)>-1)&&z.blur()}(S||O||B)&&mt(s._window,"click",s._onClick,!0)}s.clientStores=[new Na(Bs(l))],s._isIdle=!1,s.flag=!0,s.isDrag=!1,s._isTrusted=a,s._dragFlag=!0,s._prevInputEvent=l,s.data={},s.doubleFlag=Sl()-s.prevTime<200,s._isMouseEvent=S3(l),!s._isMouseEvent&&s._preventMouseEvent&&(s._preventMouseEvent=!1);var Z=s._preventMouseEvent||s.emit("dragStart",it(it({data:s.data,datas:s.data,inputEvent:l,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,isTrusted:a,isDouble:s.doubleFlag},s.getCurrentStore().getPosition()),{preventDefault:function(){l.preventDefault()},preventDrag:function(){s._dragFlag=!1}}));Z===!1&&s.stop(),s._isMouseEvent&&s.flag&&b&&l.preventDefault()}if(!s.flag)return!1;var T=0;if(K?(s._attchDragEvent(),W&&v&&(T=setTimeout(function(){mt(d,"touchstart",s.onDragStart,{passive:!1})}))):W&&v&&lt(d,"touchstart",s.onDragStart),s.flag&&C3(l)){if(clearTimeout(T),K&&l.touches.length!==l.changedTouches.length)return;s.pinchFlag||s.onPinchStart(l)}}}},s.onDrag=function(l,a){if(s.flag){var u=s.options.preventDefault;!s._isMouseEvent&&u&&l.preventDefault(),s._prevInputEvent=l;var g=Bs(l),d=s.moveClients(g,l,!1);if(s._dragFlag){if(s.pinchFlag||d.deltaX||d.deltaY){var v=s._preventMouseEvent||s.emit("drag",it(it({},d),{isScroll:!!a,inputEvent:l}));if(v===!1){s.stop();return}}s.pinchFlag&&s.onPinch(l,g)}s.getCurrentStore().getPosition(g,!0)}},s.onDragEnd=function(l){if(s.flag){var a=s.options,u=a.pinchOutside,g=a.container,d=a.preventClickEventOnDrag,v=a.preventClickEventOnDragStart,_=a.preventClickEventByCondition,y=s.isDrag;(d||v||_)&&requestAnimationFrame(function(){s._allowClickEvent()}),!_&&!v&&d&&!y&&s._allowClickEvent(),s._useTouch&&u&&lt(g,"touchstart",s.onDragStart),s.pinchFlag&&s.onPinchEnd(l);var b=l?.touches?Bs(l):[],w=b.length;w===0||!s.options.keepDragging?s.flag=!1:s._addStore(new Na(b));var C=s._getPosition(),S=Sl(),O=!y&&s.doubleFlag;s._prevInputEvent=null,s.prevTime=y||O?0:S,s.flag||(s._dettachDragEvent(),s._preventMouseEvent||s.emit("dragEnd",it({data:s.data,datas:s.data,isDouble:O,isDrag:y,isClick:!y,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,inputEvent:l,isTrusted:s._isTrusted},C)),s.clientStores=[],s._isMouseEvent||(s._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){s._preventMouseEvent=!1})})),s._isIdle=!0)}},s.onBlur=function(){s.onDragEnd()},s._allowClickEvent=function(){lt(s._window,"click",s._onClick,!0)},s._onClick=function(l){s._allowClickEvent(),s._preventMouseEvent=!1;var a=s.options.preventClickEventByCondition;a?.(l)||(l.stopPropagation(),l.preventDefault())},s._onContextMenu=function(l){var a=s.options;a.preventRightClick?s.onDragEnd(l):l.preventDefault()},s._passCallback=function(){};var p=[].concat(n),m=p[0];s._window=WD(m)?m:La(m),s.options=it({checkInput:!1,container:m&&!("document"in m)?La(m):m,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},r);var c=s.options,i=c.container,h=c.events,f=c.checkWindowBlur;if(s._useDrag=h.indexOf("drag")>-1,s._useTouch=h.indexOf("touch")>-1,s._useMouse=h.indexOf("mouse")>-1,s.targets=p,s._useDrag&&p.forEach(function(l){mt(l,"dragstart",s.onDragStart)}),s._useMouse&&(p.forEach(function(l){mt(l,"mousedown",s.onDragStart),mt(l,"mousemove",s._passCallback)}),mt(i,"contextmenu",s._onContextMenu)),f&&mt(La(),"blur",s.onBlur),s._useTouch){var o={passive:!1};p.forEach(function(l){mt(l,"touchstart",s.onDragStart,o),mt(l,"touchmove",s._passCallback,o)})}return s}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(r,s){return r+s.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(n,r,s,p){p===void 0&&(p=!0),this.flag&&(this.clientStores[0].move(n,r),p&&this.onDrag(s,!0))},t.prototype.move=function(n,r){var s=n[0],p=n[1],m=this.getCurrentStore(),c=m.prevClients;return this.moveClients(c.map(function(i){var h=i.clientX,f=i.clientY;return{clientX:h+s,clientY:f+p,originalClientX:h,originalClientY:f}}),r,!0)},t.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},t.prototype.setEventData=function(n){var r=this.data;for(var s in n)r[s]=n[s];return this},t.prototype.setEventDatas=function(n){return this.setEventData(n)},t.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),it(it({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var n=this,r=this.targets,s=this.options.container;this.off(),lt(this._window,"blur",this.onBlur),this._useDrag&&r.forEach(function(p){lt(p,"dragstart",n.onDragStart)}),this._useMouse&&(r.forEach(function(p){lt(p,"mousedown",n.onDragStart)}),lt(s,"contextmenu",this._onContextMenu)),this._useTouch&&(r.forEach(function(p){lt(p,"touchstart",n.onDragStart)}),lt(s,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(n){var r=this,s=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>s)){var p=new Na(Bs(n));this.pinchFlag=!0,this._addStore(p);var m=this.emit("pinchStart",it(it({data:this.data,datas:this.data,angle:p.getAngle(),touches:this.getCurrentStore().getPositions()},p.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){r._dragFlag=!1}}));m===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(n,r){if(!(!this.flag||!this.pinchFlag||r.length<2)){var s=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",it(it({data:this.data,datas:this.data,movement:this.getMovement(r),angle:s.getAngle(r),rotation:s.getRotation(r),touches:s.getPositions(r),scale:s.getScale(r),distance:s.getDistance(r)},s.getPosition(r)),{inputEvent:n,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(n){if(this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var s=this.getCurrentStore();this.emit("pinchEnd",it(it({data:this.data,datas:this.data,isPinch:r,touches:s.getPositions()},s.getPosition()),{inputEvent:n}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(n,r,s){var p=this._getPosition(n,s),m=this.isDrag;(p.deltaX||p.deltaY)&&(this.isDrag=!0);var c=!1;return!m&&this.isDrag&&(c=!0),it(it({data:this.data,datas:this.data},p),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:r,isTrusted:this._isTrusted,isFirstDrag:c})},t.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},t.prototype._getPosition=function(n,r){var s=this.getCurrentStore(),p=s.getPosition(n,r),m=this.clientStores.slice(1).reduce(function(h,f){var o=f.getPosition();return h.distX+=o.distX,h.distY+=o.distY,h},p),c=m.distX,i=m.distY;return it(it({},p),{distX:c,distY:i})},t.prototype._attchDragEvent=function(){var n=this._window,r=this.options.container,s={passive:!1};this._isDragAPI&&(mt(r,"dragover",this.onDrag,s),mt(n,"dragend",this.onDragEnd)),this._useMouse&&(mt(r,"mousemove",this.onDrag),mt(n,"mouseup",this.onDragEnd)),this._useTouch&&(mt(r,"touchmove",this.onDrag,s),mt(n,"touchend",this.onDragEnd,s),mt(n,"touchcancel",this.onDragEnd,s))},t.prototype._dettachDragEvent=function(){var n=this._window,r=this.options.container;this._isDragAPI&&(lt(r,"dragover",this.onDrag),lt(n,"dragend",this.onDragEnd)),this._useMouse&&(lt(r,"mousemove",this.onDrag),lt(n,"mouseup",this.onDragEnd)),this._useTouch&&(lt(r,"touchstart",this.onDragStart),lt(r,"touchmove",this.onDrag),lt(n,"touchend",this.onDragEnd),lt(n,"touchcancel",this.onDragEnd))},t}(y3);function O3(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var E3=O3;function P3(e){return E3(e).toString(36)}function k3(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function A3(e,t,n){return n.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,s){var p=s.trim();return(p?Ai(p):[""]).map(function(m){var c=m.trim();return c.indexOf("@")===0?c:c.indexOf(":global")>-1?c.replace(/\:global/g,""):c.indexOf(":host")>-1?"".concat(c.replace(/\:host/g,".".concat(e))):c?".".concat(e," ").concat(c):".".concat(e)}).join(", ")+" {"})}function R3(e,t,n,r,s){var p=ru(r),m=p.createElement("style");return m.setAttribute("type","text/css"),m.setAttribute("data-styled-id",e),m.setAttribute("data-styled-count","1"),n.nonce&&m.setAttribute("nonce",n.nonce),m.innerHTML=A3(e,t,n),(s||p.head||p.body).appendChild(m),m}function M3(e){var t="rCS"+P3(e);return{className:t,inject:function(n,r){r===void 0&&(r={});var s=k3(n),p=(s||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!p)p=R3(t,e,r,n,s);else{var m=parseFloat(p.getAttribute("data-styled-count"))||0;p.setAttribute("data-styled-count","".concat(m+1))}return{destroy:function(){var c,i=parseFloat(p.getAttribute("data-styled-count"))||0;i<=1?(p.remove?p.remove():(c=p.parentNode)===null||c===void 0||c.removeChild(p),p=null):p.setAttribute("data-styled-count","".concat(i-1))}}}}}var kl=function(){return kl=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},kl.apply(this,arguments)};function I3(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function D3(e,t){var n=M3(t),r=n.className;return e3(function(s,p){var m=s.className,c=m===void 0?"":m;s.cspNonce;var i=I3(s,["className","cspNonce"]),h=d3();return p3(p,function(){return h.current},[]),tm(function(){var f=n.inject(h.current,{nonce:s.cspNonce});return function(){f.destroy()}},[]),Gt(e,kl({ref:h,"data-styled-id":r,className:"".concat(c," ").concat(r)},i))})}function F3(e,t,n,r,s,p){for(var m=0;m<s;++m){var c=n+m*s,i=r+m*s;e[c]+=e[i]*p,t[c]+=t[i]*p}}function L3(e,t,n,r,s){for(var p=0;p<s;++p){var m=n+p*s,c=r+p*s,i=e[m],h=t[m];e[m]=e[c],e[c]=i,t[m]=t[c],t[c]=h}}function B3(e,t,n,r,s){for(var p=0;p<r;++p){var m=n+p*r;e[m]/=s,t[m]/=s}}function $3(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var n=e.slice(),r=im(t),s=0;s<t;++s){var p=t*s+s;if(!Fa(n[p],Ia)){for(var m=s+1;m<t;++m)if(n[t*s+m]){L3(n,r,s,m,t);break}}if(!Fa(n[p],Ia))return[];B3(n,r,s,t,n[p]);for(var m=0;m<t;++m){var c=m,i=m+s*t,h=n[i];!Fa(h,Ia)||s===m||F3(n,r,c,s,t,-h)}}return r}function Fr(e,t,n){n===void 0&&(n=Math.sqrt(e.length));var r=[],s=e.length/n,p=t.length/s;if(s){if(!p)return e}else return t;for(var m=0;m<n;++m)for(var c=0;c<p;++c){r[c*n+m]=0;for(var i=0;i<s;++i)r[c*n+m]+=e[i*n+m]*t[c*s+i]}return r}function j3(e,t,n){n===void 0&&(n=t.length);var r=Fr(e,t,n),s=r[n-1];return r.map(function(p){return p/s})}function N3(e,t){return Fr(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function z3(e,t){return Fr(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function H3(e,t){return Fr(e,U3(t,4))}function $s(e,t){var n=t[0],r=n===void 0?1:n,s=t[1],p=s===void 0?1:s,m=t[2],c=m===void 0?1:m;return Fr(e,[r,0,0,0,0,p,0,0,0,0,c,0,0,0,0,1],4)}function za(e,t){var n=t[0],r=n===void 0?0:n,s=t[1],p=s===void 0?0:s,m=t[2],c=m===void 0?0:m;return Fr(e,[1,0,0,0,0,1,0,0,0,0,1,0,r,p,c,1],4)}function Al(e,t){return Fr(e,t,4)}function U3(e,t){var n=Math.cos(e),r=Math.sin(e),s=im(t);return s[0]=n,s[1]=r,s[t]=-r,s[t+1]=n,s}function im(e){for(var t=e*e,n=[],r=0;r<t;++r)n[r]=r%(e+1)?0:1;return n}var Hi=function(){return Hi=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Hi.apply(this,arguments)};function sm(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function W3(e,t){return t===void 0&&(t=0),X3(V3(e,t))}function ud(e,t){var n=j3(e,[t[0],t[1]||0,t[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function Y3(e,t){t===void 0&&(t=document.body);for(var n=e,r=sm();n;){var s=getComputedStyle(n).transform;if(r=Al(W3(s),r),n===t)break;n=n.parentElement}return r=$3(r,4),r[12]=0,r[13]=0,r[14]=0,r}function X3(e){var t=sm();return e.forEach(function(n){var r=n.matrixFunction,s=n.functionValue;r&&(t=r(t,s))}),t}function V3(e,t){t===void 0&&(t=0);var n=zv(e)?e:DD(e);return n.map(function(r){var s=FD(r),p=s.prefix,m=s.value,c=null,i=p,h="";if(p==="translate"||p==="translateX"||p==="translate3d"){var f=Tn(t)?Hi(Hi({},t),{"o%":t["%"]}):{"%":t,"o%":t},o=Ai(m).map(function(re,se){return se===0&&"x%"in f?f["%"]=t["x%"]:se===1&&"y%"in f?f["%"]=t["y%"]:f["%"]=t["o%"],Ni(re,f)}),l=o[0],a=o[1],u=a===void 0?0:a,g=o[2],d=g===void 0?0:g;c=za,h=[l,u,d]}else if(p==="translateY"){var v=Tn(t)?Hi({"%":t["y%"]},t):{"%":t},u=Ni(m,v);c=za,h=[0,u,0]}else if(p==="translateZ"){var d=parseFloat(m);c=za,h=[0,0,d]}else if(p==="scale"||p==="scale3d"){var _=Ai(m).map(function(re){return parseFloat(re)}),y=_[0],b=_[1],w=b===void 0?y:b,C=_[2],S=C===void 0?1:C;c=$s,h=[y,w,S]}else if(p==="scaleX"){var y=parseFloat(m);c=$s,h=[y,1,1]}else if(p==="scaleY"){var w=parseFloat(m);c=$s,h=[1,w,1]}else if(p==="scaleZ"){var S=parseFloat(m);c=$s,h=[1,1,S]}else if(p==="rotate"||p==="rotateZ"||p==="rotateX"||p==="rotateY"){var O=Wv(m),B=O.unit,W=O.value,K=B==="rad"?W:W*Math.PI/180;p==="rotate"||p==="rotateZ"?(i="rotateZ",c=H3):p==="rotateX"?c=N3:p==="rotateY"&&(c=z3),h=K}else if(p==="matrix3d")c=Al,h=Ai(m).map(function(re){return parseFloat(re)});else if(p==="matrix"){var z=Ai(m).map(function(re){return parseFloat(re)});c=Al,h=[z[0],z[1],0,0,z[2],z[3],0,0,0,0,1,0,z[4],z[5],0,1]}else i="";return{name:p,functionName:i,value:m,matrixFunction:c,functionValue:h}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rl=function(){return Rl=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Rl.apply(this,arguments)};function G3(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,c=p.length;m<c;m++,s++)r[s]=p[m];return r}var K3=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(Tn(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(Tn(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=Zo(p,function(c){return c.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,G3(p).forEach(function(c){c.listener(r),c.once&&s.off(n,c.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(Rl({listener:r},s))},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ml=function(e,t){return Ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Ml(e,t)};function q3(e,t){Ml(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Wr=function(){return Wr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Wr.apply(this,arguments)};function J3(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function Ha(e){if(e){if(Er(e))return document.querySelector(e)}else return null;if(Hv(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var Z3=function(e){q3(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r}var n=t.prototype;return n.dragStart=function(r,s){var p=Ha(s.container);if(!p){this._flag=!1;return}var m=0,c=0,i=0,h=0;if(p===document.body)i=window.innerWidth,h=window.innerHeight;else{var f=p.getBoundingClientRect();m=f.top,c=f.left,i=f.width,h=f.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:m,left:c,width:i,height:h},this._prevScrollPos=this._getScrollPosition([0,0],s)},n.drag=function(r,s){if(clearTimeout(this._timer),!!this._flag){var p=r.clientX,m=r.clientY,c=s.threshold,i=c===void 0?0:c,h=this,f=h._startRect,o=h._startPos,l=[0,0];return f.top>m-i?(o[1]>f.top||m<o[1])&&(l[1]=-1):f.top+f.height<m+i&&(o[1]<f.top+f.height||m>o[1])&&(l[1]=1),f.left>p-i?(o[0]>f.left||p<o[0])&&(l[0]=-1):f.left+f.width<p+i&&(o[0]<f.left+f.width||p>o[0])&&(l[0]=1),!l[0]&&!l[1]?!1:this._continueDrag(Wr(Wr({},s),{direction:l,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var s=this;if(this._isWait)return!1;var p=r.prevScrollPos,m=p===void 0?this._prevScrollPos:p,c=r.direction,i=r.throttleTime,h=i===void 0?0:i,f=r.inputEvent,o=r.isDrag,l=this._getScrollPosition(c||[0,0],r),a=l[0]-m[0],u=l[1]-m[1],g=c||[a?Math.abs(a)/a:0,u?Math.abs(u)/u:0];return this._prevScrollPos=l,!a&&!u?!1:(this.trigger("move",{offsetX:g[0]?a:0,offsetY:g[1]?u:0,inputEvent:f}),h&&o&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},h)),!0)},n.dragEnd=function(){this._flag=!1,clearTimeout(this._timer)},n._getScrollPosition=function(r,s){var p=s.container,m=s.getScrollPosition,c=m===void 0?J3:m;return c({container:Ha(p),direction:r})},n._continueDrag=function(r){var s=this,p,m,c=r.container,i=r.direction,h=r.throttleTime,f=r.useScroll,o=r.isDrag,l=r.inputEvent;if(!(!this._flag||o&&this._isWait)){var a=Sl(),u=Math.max(h+this._prevTime-a,0);if(u>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},u),!1;this._prevTime=a;var g=this._getScrollPosition(i,r);this._prevScrollPos=g,o&&(this._isWait=!0);var d={container:Ha(c),direction:i,inputEvent:l};return(m=(p=r).requestScroll)===null||m===void 0||m.call(p,d),this.trigger("scroll",d),this._isWait=!1,f||this.checkScroll(Wr(Wr({},r),{prevScrollPos:g,direction:i,inputEvent:l}))}},t}(K3),Il=function(e,t){return Il=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Il(e,t)};function Q3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Il(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var jt=function(){return jt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},jt.apply(this,arguments)};function Ui(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,p;r<s;r++)(p||!(r in t))&&(p||(p=Array.prototype.slice.call(t,0,r)),p[r]=t[r]);return e.concat(p||Array.prototype.slice.call(t))}function Fn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return wD.apply(void 0,Ui(["scena-guides-"],e,!1))}var eF=Fn("guide","adder"),tF=Fn("guides"),nF=Fn("guide"),fd=Fn("dragging"),rF=Fn("display-drag"),iF=CD("scena-guides-",`
{
    position: relative;
    width: 100%;
    height: 100%;
}
canvas {
    position: relative;
}
.guide-origin {
    position: absolute;
    width: 1px;
    height: 1px;
    top: 0;
    left: 0;
    opacity: 0;
}
.guides {
    position: absolute;
    bottom: 0;
    right: 0;
    will-change: transform;
    z-index: 2000;
}
.guide-pos {
    position: absolute;
    font-weight: bold;
    font-size: 12px;
    color: #f33;
}
.horizontal .guide-pos {
    bottom: 100%;
    left: 50%;
    transform: translate(-50%);
}
.vertical .guide-pos {
    left: calc(100% + 2px);
    top: 50%;
    transform: translateY(-50%);
}
.display-drag {
    position: absolute;
    will-change: transform;
    z-index: 2000;
    font-weight: bold;
    font-size: 12px;
    display: none;
    left: 20px;
    top: -20px;
    color: #f33;
}
:host.horizontal .guides {
    width: 100%;
    height: 0;
}
:host.vertical .guides {
    height: 100%;
    width: 0;
}
:host.horizontal canvas {
    cursor: ns-resize;
}
:host.vertical canvas {
    cursor: ew-resize;
}
.guide {
    position: absolute;
    background: #f33;
    z-index: 2;
}
.guide.dragging:before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
:host.horizontal .guide {
    width: 100%;
    height: 1px;
    cursor: row-resize;
}
:host.vertical .guide {
    width: 1px;
    height: 100%;
    cursor: col-resize;
}
.mobile :host.horizontal .guide {
    transform: scale(1, 2);
}
.mobile :host.vertical .guide {
    transform: scale(2, 1);
}
:host.horizontal .guide:before {
    height: 20px;
}
:host.vertical .guide:before {
    width: 20px;
}
.adder {
    display: none;
}
.adder.dragging {
    display: block;
}
`),sF=Ui(["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides","scrollOptions","guideStyle","guidesOffset","digit","defaultGuidesPos","dragGuideStyle","displayGuidePos","guidePosFormat","guidePosStyle","lockGuides"],nm,!0),oF=["getGuides","loadGuides","scroll","scrollGuides","resize","getElement","getRulerElement","forceUpdate","getRulerScrollPos","getGuideScrollPos","zoomTo","drawRuler"],aF=["changeGuides","requestScroll","dragStart","drag","dragEnd","clickRuler"],lF=D3("div",iF),cF=function(e){Q3(t,e);function t(r){var s=e.call(this,r)||this;return s.state={guides:[]},s.scrollPos=0,s.managerRef=lu(),s.guideElements=[],s._isFirstMove=!1,s._zoom=1,s._observer=null,s.onDragStart=function(p){var m=p.datas,c=p.inputEvent;s._isFirstMove=!0,s.movePos(p),s.props.onDragStart(jt(jt({},p),{dragElement:m.target})),s.gesto.isFlag()&&(c.stopPropagation(),c.preventDefault(),s._startDragScroll(p))},s._onDrag=function(p){s._isFirstMove&&(s._isFirstMove=!1,HD(p.datas.target,fd));var m=s.movePos(p);if(s.props.onDrag(jt(jt({},p),{dragElement:p.datas.target})),!s.gesto.isFlag()){s._endDragScroll(p);return}return s._dragScroll(p),m},s.onDragEnd=function(p){var m=p.datas,c=p.isDouble,i=p.distX,h=p.distY,f=s.movePos(p),o=s.state.guides,l=s.props,a=l.onChangeGuides,u=l.displayDragPos,g=l.digit,d=l.lockGuides,v=l.guidesOffset,_=s._zoom,y=parseFloat((f/_).toFixed(g||0)),b=s.scrollPos-(v||0);if(u&&(s.displayElement.style.cssText+="display: none;"),UD(m.target,fd),s.props.onDragEnd(jt(jt({},p),{dragElement:m.target})),s._endDragScroll(p),m.fromRuler)s._isFirstMove&&s.props.onClickRuler(jt(jt({},p),{pos:0})),y>=b&&o.indexOf(y)<0&&s.setState({guides:Ui(Ui([],o,!0),[y],!1)},function(){a({guides:s.state.guides,distX:i,distY:h,index:o.length,isAdd:!0,isRemove:!1,isChange:!1})});else{var w=parseFloat(m.target.getAttribute("data-index")),C=!1,S=!1;o=Ui([],o,!0);var O=o.indexOf(y);if(c||y<b||O>-1&&O!==w){if(d&&(d===!0||d.indexOf("remove")>-1))return;o.splice(w,1),C=!0}else{if(O>-1)return;if(d&&(d===!0||d.indexOf("change")>-1))return;o[w]=y,S=!0}s.setState({guides:o},function(){var B=s.state.guides;a({distX:i,distY:h,guides:B,isAdd:!1,index:w,isChange:S,isRemove:C})})}},s._onCheck=function(){s.resize()},s.state.guides=r.defaultGuides||[],s.scrollPos=r.defaultGuidesPos||0,s}var n=t.prototype;return n.render=function(){var r=this.props,s=r.className,p=r.type,m=r.zoom,c=r.style,i=r.rulerStyle,h=r.displayDragPos,f=r.cspNonce,o=r.dragGuideStyle,l=r.guidePosStyle,a=l===void 0?{}:l,u=this.props,g=this.getTranslateName(),d={};return nm.forEach(function(v){v==="style"||v==="warpSelf"||v==="useResizeObserver"||(d[v]=u[v])}),this._zoom=m,Gt(lF,{ref:this.managerRef,cspNonce:f,className:"".concat(Fn("manager",p)," ").concat(s),style:c},Gt("div",{className:Fn("guide-origin"),ref:nr(this,"originElement")}),Gt(v3,jt({ref:nr(this,"ruler"),style:i},d)),Gt("div",{className:tF,ref:nr(this,"guidesElement"),style:{transform:"".concat(g,"(").concat(-this.scrollPos*m,"px)")}},h&&Gt("div",{className:rF,ref:nr(this,"displayElement"),style:a||{}}),Gt("div",{className:eF,ref:nr(this,"adderElement"),style:o}),this.renderGuides()))},n.drawRuler=function(r){this.ruler.draw(r)},n.renderGuides=function(){var r=this,s=this.props,p=s,m=p.type,c=p.showGuides,i=p.guideStyle,h=p.displayGuidePos,f=p.guidePosStyle,o=f===void 0?{}:f,l=p.guidesOffset,a=this._zoom,u=this.getTranslateName(),g=this.state.guides,d=s.guidePosFormat||s.dragPosFormat||function(v){return v};if(this.guideElements=[],c)return g.map(function(v,_){var y=v+(l||0);return Gt("div",{className:Fn("guide",m),ref:SD(r,"guideElements",_),key:_,"data-index":_,"data-pos":v,style:jt(jt({},i),{transform:"".concat(u,"(").concat(y*a,"px) translateZ(0px)")})},h&&Gt("div",{className:Fn("guide-pos"),style:o||{}},d(v)))})},n.componentDidMount=function(){var r=this;this.gesto=new T3(this.managerRef.current,{container:document.body}).on("dragStart",function(s){var p=r.props,m=p.type,c=p.lockGuides,i=r._zoom;if(c===!0){s.stop();return}var h=s.inputEvent,f=h.target,o=s.datas,l=r.ruler.canvasElement,a=r.guidesElement,u=m==="horizontal",g=r.originElement.getBoundingClientRect(),d=Y3(r.managerRef.current),v=ud(d,[s.clientX-g.left,s.clientY-g.top]);v[0]-=a.offsetLeft,v[1]-=a.offsetTop,v[u?1:0]+=r.scrollPos*i,o.offsetPos=v,o.matrix=d;var _=c&&c.indexOf("add")>-1,y=c&&c.indexOf("remove")>-1,b=c&&c.indexOf("change")>-1;if(f===l){if(_){s.stop();return}o.fromRuler=!0,o.target=r.adderElement}else if(zD(f,nF)){if(y&&b){s.stop();return}o.target=f}else return s.stop(),!1;r.onDragStart(s)}).on("drag",this._onDrag).on("dragEnd",this.onDragEnd),this.props.useResizeObserver?(this._observer=new ResizeObserver(this._onCheck),this._observer.observe(this.guidesElement,{box:"border-box"}),this._observer.observe(this.getRulerElement(),{box:"border-box"})):this._onCheck()},n.componentWillUnmount=function(){var r;this.gesto.unset(),(r=this._observer)===null||r===void 0||r.disconnect()},n.componentDidUpdate=function(r){var s=this.props.defaultGuides;r.defaultGuides!==s&&this.setState({guides:s||[]})},n.loadGuides=function(r){this.setState({guides:r})},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(r,s){s===void 0&&(s=this._zoom),this._zoom=s;var p=this.getTranslateName(),m=this.guidesElement;this.scrollPos=r,m.style.transform="".concat(p,"(").concat(-r*s,"px)");var c=this.state.guides,i=this.props.guidesOffset||0;this.guideElements.forEach(function(h,f){if(h){var o=c[f]+(i||0);h.style.transform="".concat(p,"(").concat(o*s,"px) translateZ(0px)"),h.style.display=-r+o<0?"none":"block"}})},n.zoomTo=function(r){this.scroll(this.getRulerScrollPos(),r),this.scrollGuides(this.getGuideScrollPos(),r)},n.getElement=function(){return this.managerRef.current},n.getRulerElement=function(){return this.ruler.canvasElement},n.getGuideScrollPos=function(){return this.scrollPos},n.getRulerScrollPos=function(){return this.ruler.getScrollPos()},n.scroll=function(r,s){s===void 0&&(s=this._zoom),this._zoom=s,this.ruler.scroll(r,s)},n.resize=function(r){r===void 0&&(r=this._zoom),this.ruler.resize(r)},n.movePos=function(r){var s=r.datas,p=r.distX,m=r.distY,c=this.props,i=c.type,h=c.snaps,f=c.snapThreshold,o=c.displayDragPos,l=c.digit,a=c.guidesOffset||0,u=this._zoom,g=c.dragPosFormat||function(K){return K},d=i==="horizontal",v=ud(s.matrix,[p,m]),_=s.offsetPos,y=v[0]+_[0],b=v[1]+_[1],w=a*u,C=Math.round(d?b:y)-a,S=parseFloat((C/u).toFixed(l||0)),O=h.slice().sort(function(K,z){return Math.abs(S-K)-Math.abs(S-z)});if(O.length&&Math.abs(O[0]*u-C)<f&&(S=O[0],C=S*u),!s.fromRuler||!this._isFirstMove){if(o){var B=i==="horizontal"?[y,C+w]:[C+w,b];this.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) "+"translate(".concat(B.map(function(K){return"".concat(K,"px")}).join(", "),")"),this.displayElement.innerHTML="".concat(g(S))}var W=s.target;W.setAttribute("data-pos",S),W.style.transform="".concat(this.getTranslateName(),"(").concat(C+a*u,"px)")}return C},n.getTranslateName=function(){return this.props.type==="horizontal"?"translateY":"translateX"},n._startDragScroll=function(r){var s=this,p=this.props.scrollOptions;if(p){var m=r.datas,c=new Z3;m.dragScroll=c,c.on("scroll",function(i){var h,f,o=i.container,l=i.direction;(f=(h=s.props).onRequestScroll)===null||f===void 0||f.call(h,{container:o,direction:l})}).on("move",function(i){var h=i.offsetX,f=i.offsetY,o=i.inputEvent;s.gesto.scrollBy(h,f,o.inputEvent,!0)}),c.dragStart(r,{container:p.container})}},n._dragScroll=function(r){var s=this.props.scrollOptions;if(s){var p=r.datas.dragScroll;p.drag(r,s)}},n._endDragScroll=function(r){var s;(s=r.datas.dragScroll)===null||s===void 0||s.dragEnd(),r.datas.dragScroll=null},t.defaultProps={className:"",type:"horizontal",zoom:1,style:{},snapThreshold:5,snaps:[],digit:0,onClickRuler:function(){},onChangeGuides:function(){},onRequestScroll:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(r){return r},defaultGuides:[],lockGuides:!1,showGuides:!0,guideStyle:{},dragGuideStyle:{},guidePosStyle:{},defaultGuidesPos:0},t}(Jv),Dl=function(e,t){return Dl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Dl(e,t)};function uu(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Dl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var yo=function(){return yo=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},yo.apply(this,arguments)};function uF(e,t,n,r){var s=arguments.length,p=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(m=e[c])&&(p=(s<3?m(p):s>3?m(t,n,p):m(t,n))||p);return s>3&&p&&Object.defineProperty(t,n,p),p}var om=sF,am=oF,lm=aF,fF=function(e){uu(t,e);function t(r){var s=e.call(this,r)||this;return s.state={},s.state=s.props,s}var n=t.prototype;return n.render=function(){return Gt(cF,yo({ref:nr(this,"guides")},this.state))},t}(au);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fl=function(){return Fl=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(t[p]=n[p])}return t},Fl.apply(this,arguments)};function hF(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var p=arguments[t],m=0,c=p.length;m<c;m++,s++)r[s]=p[m];return r}var dF=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(Tn(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(Tn(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var p=this._events[n];if(p){var m=Zo(p,function(c){return c.listener===r});m>-1&&p.splice(m,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(p){s._addEvent(n,p,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var p=this._events[n];if(!n||!p)return!0;var m=!1;return r.eventType=n,r.stop=function(){m=!0},r.currentTarget=this,hF(p).forEach(function(c){c.listener(r),c.once&&s.off(n,c.listener)}),!m},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var p=this._events;p[n]=p[n]||[];var m=p[n];m.push(Fl({listener:r},s))},e}(),pF=function(e){uu(t,e);function t(r,s){s===void 0&&(s={});var p=e.call(this)||this;p.containerProvider=null,p.selfElement=null,p._warp=!1;var m={};lm.forEach(function(i){m[LD("on ".concat(i))]=function(h){return p.trigger(i,h)}});var c;return s.warpSelf?(delete s.warpSelf,p._warp=!0,c=r):(c=document.createElement("div"),r.appendChild(c)),p.containerProvider=ad(Gt(fF,yo({ref:nr(p,"innerGuides")},m,s)),c),p}var n=t.prototype;return n.setState=function(r,s){this.innerGuides.setState(r,s)},n.forceUpdate=function(r){this.innerGuides.forceUpdate(r)},n.destroy=function(){var r,s=this.selfElement;ad(null,s,this.containerProvider),this._warp||(r=s?.parentElement)===null||r===void 0||r.removeChild(s),this.selfElement=null,this.innerGuides=null},n.getInnerGuides=function(){return this.innerGuides.guides},t=uF([td(am,function(r,s){r[s]||(r[s]=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var c=this.getInnerGuides();if(!(!c||!c[s]))return c[s].apply(c,p)})}),td(om,function(r,s){Object.defineProperty(r,s,{get:function(){return this.getInnerGuides().props[s]},set:function(p){var m;this.innerGuides.setState((m={},m[s]=p,m))},enumerable:!0,configurable:!0})})],t),t}(dF),gF=function(e){uu(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(pF);const ls=[...om];ls.splice(ls.indexOf("style"),1);const cm={},fu={};ls.forEach(e=>{fu[e]=function(t){this.$_guides[e]=t}});fu.vueStyle=function(e){this.$_guides.style=e};am.forEach(e=>{cm[e]=function(...t){return this.$_guides[e](...t)}});const vF={name:"guides",methods:cm,watch:fu,props:[...ls,"vueStyle"],mounted(){const e={},t=this.$props;ls.forEach(p=>{const m=t[p];Nv(m)||(e[p]=t[p])});const r=this.$refs.container;e.style=t.vueStyle,e.warpSelf=!0,this.$_guides=new gF(r,e);const s=this.$_guides;lm.forEach(p=>{s.on(p,m=>{this.$emit(p,{...m})})})},beforeUnmount(){this.$_guides.destroy()}},mF={ref:"container"};function _F(e,t,n,r,s,p){return X(),le("div",mF,null,512)}const yF=Tt(vF,[["render",_F]]),hu=e=>(Ro("data-v-b9b53cda"),e=e(),Mo(),e),bF=hu(()=>G("path",{d:"M12.75 12.75H21V11.25H12.75H11.25H3V12.75H11.25H12.75Z",fill:"currentColor"},null,-1)),wF=[bF],CF=hu(()=>G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.25 12.75V21H12.75V12.75H21V11.25H12.75V3H11.25V11.25H3V12.75H11.25Z",fill:"currentColor"},null,-1)),SF=[CF],xF=["random"],TF=["onClick"],OF={class:"dc-layout-scale-bar-item__menu__item--main"},EF=hu(()=>G("hr",null,null,-1)),PF={__name:"scale-bar",props:{clearRule:{type:Function},lockRule:{type:Function},onRuleShow:{type:Function},ruleShow:{type:Boolean}},setup(e){const t=e,n=fe(!1),r=fe(),s=ke("canvas"),p=ke("handler"),m=fe(),c=fe([[{type:"showRule",title:"",status:()=>{t.onRuleShow()}}],[{type:"clearRule",title:"",status:()=>{t.clearRule()}}],[{type:"size",title:"400%",value:4,status:()=>{p.value?.workareaHandler.setZoomAuto(4)}},{type:"size",title:"200%",value:2,status:()=>{p.value?.workareaHandler.setZoomAuto(2)}},{type:"size",title:"100%",value:1,status:()=>{p.value?.workareaHandler.setZoomAuto(1)}},{type:"size",title:"50%",value:.5,status:()=>{p.value?.workareaHandler.setZoomAuto(.5)}}],[{type:"fullscreen",title:"",status:()=>{p.value?.workareaHandler.one()}},{type:"fullscreen",title:"",status:()=>{p.value?.workareaHandler.one()}}]]);function i(g){g.status()}function h(){n.value=!n.value}function f(g){const d=p.value?.canvas?.viewportTransform||[],v=p.value?.workareaHandler?.one();switch(g.type){case"showRule":return t.ruleShow;case"size":return g.value==d[0];case"fullscreen":return v==d[0]}}function o(){return s.value?parseInt(s.value.getZoom()*100)+"%":"0%"}function l(){m.value=Math.random()*1e3}function a(){p.value?.workareaHandler.small()}function u(){p.value?.workareaHandler.big()}return Qe(()=>{window.addEventListener("resize",l)}),hi(()=>{window.removeEventListener("resize",l)}),(g,d)=>{const v=Xe("popover");return X(),le("div",{class:"dc-layout-scale-bar popover",ref_key:"scaleDom",ref:r},[(X(),le("svg",{role:"img","aria-label":"minus",focusable:"false","data-icon":"minus","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-minus",onClick:a},wF)),(X(),le("svg",{role:"img","aria-label":"add",focusable:"false","data-icon":"add","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-add",onClick:u},SF)),G("span",{class:"dc-layout-scale-bar__percent gda-popover-open",onClick:h,random:m.value},Le(o()),9,xF),pe(v,{dom:r.value,show:n.value,onClose:d[0]||(d[0]=_=>n.value=!1)},{default:_e(({setSlotRef:_})=>[G("div",{class:"content",ref:y=>_(y)},[(X(!0),le(Me,null,ft(c.value,(y,b)=>(X(),le(Me,{key:b},[(X(!0),le(Me,null,ft(y,w=>(X(),le("div",{key:w.type,class:me(["dc-layout-scale-bar-item__menu__item",f(w)?"menu-active":""]),onClick:C=>i(w)},[G("span",OF,Le(w.title),1)],10,TF))),128)),EF],64))),128))],512)]),_:1},8,["dom","show"])],512)}}},kF=Tt(PF,[["__scopeId","data-v-b9b53cda"]]),AF={components:{Guides:yF,ScaleBar:kF},setup(){const e=fe(),t=fe(),n=fe(),r=fe(null),s=fe(),p=ke("handler"),m=fe(!0),c=fe(),i=fe(!0),{state:h}=Ar(),f=q(()=>{const C=p.value?.canvas?.viewportTransform,S=h.workspace;return u(),C&&S?{left:parseInt(C[4]),top:parseInt(C[5]),zoom:C[0],width:S.width,height:S.height}:{left:0,x:1,y:1,top:0}}),o=q(()=>h.workspace?.unit);Ae(()=>f.value?.zoom,()=>{v(),u()},{deep:!0}),Ae(()=>o.value,()=>{u()}),Qe(()=>{v(),window.addEventListener("resize",g),s.value.addEventListener("scroll",d)}),hi(()=>{window.removeEventListener("resize",g)});const l=q(()=>r.value?[[r.value.left,r.value.left+r.value.width]]:[]),a=q(()=>r.value?[[r.value.top,r.value.top+r.value.height]]:[]);q(()=>r.value?r.value.width-r.value.width*(1-r.value.zoom)/2:0);function u(){if(s.value&&p.value){const{offsetWidth:C,offsetHeight:S}=s.value,{width:O,height:B}=p.value.workareaHandler.option;let W=p.value.workareaHandler?.unitEnum[o.value];const K={px:1e3,cm:100,mm:100};let z=f.value?.zoom?f.value.zoom>1?1:f.value.zoom:1;const re=p.value?.workareaHandler.getAutoScale();z<re&&(z=z/re);const se=O>1e3||B>1e3?100:50,ce=50,he=50;o.value=="mm"&&(W/=3),console.log("zoom",z),console.log("unitValue",W),C/O<S/B?c.value=parseInt((Math.floor(parseInt(he/(C/O)/z)/ce)||1)*se||10):c.value=parseInt((Math.floor(parseInt(he/(S/B)/z)/ce)||1)*se||10),c.value<W?c.value=W/z*2:c.value>K[o.value]&&(c.value=K[o.value])}}function g(){e.value.resize(),t.value.resize(),f.value&&v()}function d(){const C=s.value.scrollTop,S=s.value.scrollLeft;e.value.scroll(S),t.value.scrollGuides(S),t.value.scroll(C),e.value.scrollGuides(C)}function v(){f.value&&(r.value={left:f.value.left,top:f.value.top,width:f.value.width,height:f.value.height,zoom:f.value.zoom})}function _(){e.value.loadGuides([]),t.value.loadGuides([])}function y(){m.value=!m.value}function b(C){C.isChange=!1}function w(){i.value=!i.value}return{guides1:e,guides2:t,horRange:l,verRange:a,shell:n,shellPoi:r,container:s,clearRule:_,lockRule:y,unitType:o,unit:c,OnChangeGuides:b,ruleShow:i,onRuleShow:w,textFormat(C){return parseInt(C/p.value?.workareaHandler.unitEnum[o.value])},verTextFormat(C){return parseInt(C/p.value?.workareaHandler.unitEnum[o.value])},DragPosFormat(C){return console.log("value",C),C}}}},RF={class:"main"},MF={class:"ruler horizontal"},IF={class:"ruler vertical"},DF={class:"editor-container",ref:"container"},FF={class:"editor-shell-wrap",ref:"shell"},LF={class:"edit-bottom"};function BF(e,t,n,r,s,p){const m=Xe("Guides"),c=Xe("ScaleBar");return X(),le("div",RF,[ot(G("div",{class:"box",onClick:t[0]||(t[0]=(...i)=>e.onRestore&&e.onRestore(...i)),ref:"box"},[G("span",null,Le(r.unitType),1)],512),[[pt,r.ruleShow]]),ot(G("div",MF,[pe(m,{ref:"guides1",type:"horizontal",direction:"start",textAlign:"left",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[0,-8],selectedRangesTextOffset:[0,-8],longLineSize:5,textFormat:r.textFormat,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",defaultPixelScale:1,scrollPos:20,selectedRangesText:!0,textColor:"#7f8792",selectedRangesTextColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,markColor:"red",segment:2,displayDragPos:!1,rulerStyle:{left:"20px",width:"calc(100% - 20px)",height:"20px"},unit:r.unit,useResizeObserver:!0,onChangeGuides:r.OnChangeGuides},null,8,["textFormat","zoom","rulerStyle","unit","onChangeGuides"])],512),[[pt,r.ruleShow]]),ot(G("div",IF,[pe(m,{ref:"guides2",type:"vertical",direction:"start",textAlign:"right",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[-8,0],selectedRangesTextOffset:[-8,0],longLineSize:5,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",selectedRangesText:!0,textFormat:r.verTextFormat,textColor:"#7f8792",selectedRangesTextColor:"red",markColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,segment:1,useResizeObserver:!0,unit:r.unit,displayDragPos:!0,rulerStyle:{top:"20px",height:"calc(100% - 20px)",width:"20px"}},null,8,["textFormat","zoom","unit","rulerStyle"])],512),[[pt,r.ruleShow]]),G("div",DF,[G("div",FF,[Ce(e.$slots,"canvas",{},void 0,!0)],512)],512),G("div",LF,[pe(c,{clearRule:r.clearRule,lockRule:r.lockRule,ruleShow:r.ruleShow,onRuleShow:r.onRuleShow},null,8,["clearRule","lockRule","ruleShow","onRuleShow"])])])}const $F=Tt(AF,[["render",BF],["__scopeId","data-v-87a2f554"]]),jF=[{text:"",type:"design"},{text:"",type:"animate",showList:["textbox","FontCustom","Image"]}],NF={class:"common-checkbox"},zF=["id"],HF=["for"],UF={__name:"checkbox",props:{className:{type:String,default:""},initValue:{type:Object,default:()=>({})},typeKey:{type:String,default:""},content:{type:String,default:""},disabled:{type:Boolean,default:!1},activeName:{type:String,default:""},effect:{type:String,default:"dark"},placement:{type:String,default:"bottom"}},setup(e){const t=e,{emit:n}=ic(),r=q({get(){return t.initValue[t.typeKey]},set(s){n("change",s)}});return(s,p)=>{const m=Xe("el-tooltip");return X(),Se(m,{class:"item",effect:e.effect,content:e.content,placement:e.placement},{default:_e(()=>[G("div",NF,[ot(G("input",{type:"checkbox",id:"toggle_"+e.typeKey,"onUpdate:modelValue":p[0]||(p[0]=c=>r.value=c)},null,8,zF),[[ly,r.value]]),G("label",{for:"toggle_"+e.typeKey,class:me(["switch",[e.className,r.value?"switch-active":"",r.value?e.activeName:"",e.disabled?"switch-disabeld":""]])},[Ce(s.$slots,"default",{},void 0,!0)],10,HF)])]),_:3},8,["effect","content","placement"])}}},WF=Tt(UF,[["__scopeId","data-v-037d29d3"]]),YF={components:{Checkbox:WF},props:{onChange:{type:Function},canvasRef:{type:Object},barShow:{type:Array,default:()=>["locked","layer","flip","copy","delete"]},poi:{type:String,default:"bottom"}},computed:{islocked(){return!1}},methods:{myCheck(){},getBarShow(e){return this.barShow.includes(e)},copy(){},handleDelete(){}}},XF={class:"bar"},VF={class:"func-content"},GF={class:"func-content"},KF={class:"func-content"},qF={class:"func-content"},JF={class:"func-content"};function ZF(e,t,n,r,s,p){const m=Xe("el-tooltip"),c=Xe("Checkbox");return X(),le("div",XF,[ot(G("div",VF,[pe(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:_e(()=>[G("i",{class:"iconfont icon-cengji",onClick:t[0]||(t[0]=Mt((...i)=>e.onLayerShow&&e.onLayerShow(...i),["stop"]))})]),_:1},8,["disabled"])],512),[[pt,p.getBarShow("layer")]]),ot(G("div",GF,[pe(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:_e(()=>[G("i",{class:"iconfont icon-zuoyoufanzhuan",onClick:t[1]||(t[1]=Mt((...i)=>e.handleFlip&&e.handleFlip(...i),["stop"]))})]),_:1},8,["disabled"])],512),[[pt,p.getBarShow("flip")]]),ot(G("div",KF,[pe(c,{className:"iconfont icon-unlock",activeName:"icon-suoding_huaban",content:"",initValue:{locked:!1},typeKey:"locked",effect:"dark",placement:"top",onChange:p.myCheck},null,8,["onChange"])],512),[[pt,p.getBarShow("locked")]]),ot(G("div",qF,[pe(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:_e(()=>[G("i",{class:"iconfont icon-fuzhi",onClick:t[2]||(t[2]=(...i)=>p.copy&&p.copy(...i))})]),_:1},8,["disabled"])],512),[[pt,p.getBarShow("copy")]]),ot(G("div",JF,[pe(m,{class:"item",effect:"dark",content:"",placement:"top",disabled:p.islocked},{default:_e(()=>[G("i",{class:me(["iconfont icon-delete",p.islocked?"icon_noactive":""]),onClick:t[3]||(t[3]=(...i)=>p.handleDelete&&p.handleDelete(...i))},null,2)]),_:1},8,["disabled"])],512),[[pt,p.getBarShow("delete")]])])}const QF=Tt(YF,[["render",ZF],["__scopeId","data-v-a6b76b0b"]]),e4=[{material_type:"canvas_size",id:2931,title:"",material:{unit:"px",name:"",width:"1242",height:"2208"}},{material_type:"canvas_size",id:2932,title:" ",material:{unit:"px",name:" ",width:"900",height:"383"}},{material_type:"canvas_size",id:2933,title:"",material:{unit:"px",name:"",width:"500",height:"500"}},{material_type:"canvas_size",id:12425,title:"",material:{unit:"px",name:"",width:"1242",height:"1660"}},{material_type:"canvas_size",id:2934,title:"",material:{unit:"px",name:"",width:"800",height:"800"}},{material_type:"canvas_size",id:2935,title:"",material:{unit:"px",name:"",width:"520",height:"416"}},{material_type:"canvas_size",id:2936,title:"",material:{unit:"px",name:"",width:"1200",height:"675"}},{material_type:"canvas_size",id:2937,title:"",material:{unit:"px",name:"",width:"1200",height:"1920"}},{material_type:"canvas_size",id:2938,title:"",material:{unit:"px",name:"",width:"1920",height:"700"}},{material_type:"canvas_size",id:2939,title:"",material:{unit:"px",name:"",width:"1920",height:"150"}},{material_type:"canvas_size",id:2940,title:" ",material:{unit:"px",name:" ",width:"750",height:"1000"}},{material_type:"canvas_size",id:12427,title:"",material:{unit:"px",name:"",width:"1920",height:"1080"}},{material_type:"canvas_size",id:12428,title:"",material:{unit:"px",name:"",width:"1080",height:"1260"}},{material_type:"canvas_size",id:12426,title:"",material:{unit:"px",name:"",width:"1242",height:"2690"}},{material_type:"canvas_size",id:2941,title:"PPT16:9",material:{unit:"px",name:"PPT16:9",width:"1920",height:"1080"}},{material_type:"canvas_size",id:2942,title:"",material:{unit:"mm",name:"",width:"96",dpi:"300",height:"60"}},{material_type:"canvas_size",id:2949,title:"",material:{unit:"mm",name:"",width:"426",dpi:"300",height:"576"}},{material_type:"canvas_size",id:2948,title:"2m",material:{unit:"cm",name:"2m",width:"80",dpi:"150",height:"200"}},{material_type:"canvas_size",id:2947,title:"1.8m",material:{unit:"cm",name:"1.8m",width:"80",dpi:"150",height:"180"}},{material_type:"canvas_size",id:2946,title:"",material:{unit:"mm",name:"",width:"168",dpi:"300",height:"66"}},{material_type:"canvas_size",id:2945,title:"",material:{unit:"mm",name:"",width:"206",dpi:"300",height:"86"}},{material_type:"canvas_size",id:2944,title:"",material:{unit:"mm",name:"",width:"291",dpi:"300",height:"216"}},{material_type:"canvas_size",id:2943,title:"",material:{unit:"mm",name:"",width:"426",dpi:"300",height:"291"}},{material_type:"canvas_size",id:2950,title:"A3",material:{unit:"mm",name:"A3",width:"291",dpi:"300",height:"420"}},{material_type:"canvas_size",id:2951,title:"A4",material:{unit:"mm",name:"A4",width:"210",dpi:"300",height:"297"}},{material_type:"canvas_size",id:2952,title:"A5",material:{unit:"mm",name:"A5",width:"148",dpi:"300",height:"210"}}],du=e=>(Ro("data-v-2fc9d916"),e=e(),Mo(),e),t4={class:"workspace-size"},n4={class:"size-header"},r4=du(()=>G("span",null,"",-1)),i4={class:"header_toolbar"},s4={class:"custom-size popover"},o4={class:"input-number-group"},a4={class:"input-number",type:"number"},l4={class:"input-number",type:"number"},c4={class:"input-number-group__suffix"},u4={key:0,class:"iconfont icon-link-outline"},f4={key:1,class:"iconfont icon-unlink-outline"},h4={type:"button",class:"btn-px"},d4={class:"dbu-resize-panel__unit-select__text"},p4={class:"unit-menu-list"},g4=["onClick"],v4={class:"size-body"},m4={class:"size-list"},_4=du(()=>G("div",{class:"size-name"},"",-1)),y4=["onClick"],b4={class:"size-name"},w4={class:"size-info"},C4=du(()=>G("span",{class:"m03"},"",-1)),S4={class:"m03"},x4={__name:"workspace-size",setup(e){const{state:t}=Ar(),n=fe(e4),r=ke("handler"),s=fe(!1);fe(!1);const p=fe([{unit:"px",title:""},{unit:"cm",title:""},{unit:"mm",title:""}]),m=q({get(){const u=r.value?.workareaHandler.unitEnum[h.value];let g=0;return u&&(g=t.workspace?.width/u),parseInt(g||0)},set(u){if(s.value){const g=r.value?.workareaHandler.getBili(),d=u/g;r.value?.workareaHandler.setSize(parseInt(u),parseInt(d));return}r.value?.workareaHandler.setWidth(parseInt(u))}}),c=q({get(){const u=r.value?.workareaHandler.unitEnum[h.value];let g=0;return u&&(g=t.workspace?.height/u),parseInt(g||0)},set(u){if(s.value){const g=r.value?.workareaHandler.getBili(),d=u*g;r.value?.workareaHandler.setSize(parseInt(d),parseInt(u));return}r.value?.workareaHandler.setHeight(parseInt(u))}}),i=q(()=>t.workspace),h=q(()=>i.value?.unit);function f(u){i.value.sizeId=u.id,i.value.unit=u?.material.unit,r.value?.workareaHandler.setSize(parseInt(u?.material.width),parseInt(u?.material.height))}function o(){i.value.sizeId=""}function l(){s.value=!s.value}function a(u){r.value?.workareaHandler.unpdateUnit(u.unit)}return(u,g)=>{const d=Xe("el-tooltip");return X(),le("div",t4,[G("div",n4,[G("div",{class:"header_back",onClick:g[0]||(g[0]=v=>u.$emit("back"))},[pe(x(og),{style:{width:"16px",height:"16px"}}),r4]),G("div",i4,[G("div",s4,[G("div",o4,[G("div",a4,[pe(x(Ih),{modelValue:m.value,"onUpdate:modelValue":g[1]||(g[1]=v=>m.value=v),min:1,max:2e3},null,8,["modelValue"])]),G("div",l4,[pe(x(Ih),{modelValue:c.value,"onUpdate:modelValue":g[2]||(g[2]=v=>c.value=v),min:1,max:2e3},null,8,["modelValue"])]),G("div",c4,[pe(d,{class:"item",effect:"dark",content:"",placement:"top"},{default:_e(()=>[G("button",{type:"button",onClick:l},[s.value?(X(),le("i",u4)):(X(),le("i",f4))])]),_:1})])]),pe(x(YM),{placement:"bottom-start","popper-class":"unit-menu",width:200,offset:2,trigger:"hover","show-arrow":!1},{reference:_e(()=>[G("button",h4,[G("span",d4,Le(i.value&&i.value.unit),1),pe(x(ze),{size:12,class:"up"},{default:_e(()=>[pe(x(jw))]),_:1}),pe(x(ze),{size:12,class:"down"},{default:_e(()=>[pe(x(mc))]),_:1})])]),default:_e(()=>[G("div",p4,[(X(!0),le(Me,null,ft(p.value,(v,_)=>(X(),le("div",{class:"unit-menu-item",key:_,onClick:y=>a(v)},[G("div",{class:me(v.unit==i.value?.unit?"unit-menu-item-select":"")},[hs(Le(v.unit)+"("+Le(v.title)+") ",1),v.unit==i.value?.unit?(X(),Se(x(ze),{key:0,style:{width:"1em",height:"1em"}},{default:_e(()=>[pe(x(Sa))]),_:1})):be("",!0)],2)],8,g4))),128))])]),_:1})])])]),G("div",v4,[G("div",m4,[G("div",{class:me(["size-item",!i.value||!i.value.sizeId?"size-item-select":""]),onClick:o},[pe(x(ze),{style:{width:"1em",height:"1em"}},{default:_e(()=>[pe(x(Sa))]),_:1}),_4],2),(X(!0),le(Me,null,ft(n.value,(v,_)=>(X(),le("div",{class:me(["size-item",i.value&&v.id==i.value.sizeId?"size-item-select":""]),key:_,onClick:y=>f(v)},[pe(x(ze),{style:{width:"1em",height:"1em"}},{default:_e(()=>[pe(x(Sa))]),_:1}),G("div",b4,Le(v.title),1),G("div",w4,[G("span",null,Le(v.material.width),1),C4,G("span",null,Le(v.material.height),1),G("span",S4,Le(v.material.unit),1)])],10,y4))),128))])])])}}},T4=Tt(x4,[["__scopeId","data-v-2fc9d916"]]),O4={components:{Bar:QF,WorkspaceSize:T4,ElUpload:II},setup(){const e=fe(jF),t=fe("design"),n=fe(!1),{state:r}=Ar(),s=ke("handler"),p=q(()=>r.workspace),m=q(()=>r.selectedItem);return{headtool:e,sizeShow:n,workspace:p,getActiveClass(c){return Array.isArray(c.type)?c.type.includes(t.value)?"tabActive":"":c.type==t.value?"tabActive":""},selectTabs(c){t.value=c.type},getActiveTab(c){return c.type==t.value},onTabShow(c){if(c.showList){if(m.value){const{type:i}=m.value;return!!c.showList.includes(i)}}else return!0},async uploadImage(c){c&&s.value.utils.fileUpload(c.raw,c.name)}}}},ta=e=>(Ro("data-v-ac1c0e37"),e=e(),Mo(),e),E4={class:"editor-props-panel"},P4={class:"tab-panel-header"},k4={class:"tab-panel-block__header"},A4=["onClick"],R4={class:"tab-button"},M4={class:"tab-panel-bloack_content"},I4={class:"tab-panel"},D4={class:"tab-scrollbar__container"},F4={class:"panel-block"},L4=ta(()=>G("div",{class:"panel-block__header"},[G("div",{class:"panel-block__header-title"},"")],-1)),B4={class:"panel-block__content"},$4={class:"gda-space-item"},j4={class:"panel-row"},N4=ta(()=>G("div",{class:"panel-row__label"},"",-1)),z4={key:0,class:"panel-row__content"},H4={class:"gda-space-item"},U4={class:"panel-row"},W4={class:"panel-row__content"},Y4={class:"panel-block"},X4=ta(()=>G("div",{class:"panel-block__header"},[G("div",{class:"panel-block__header-title"},"")],-1)),V4={class:"panel-block__content"},G4={class:"gda-space-item"},K4={class:"gda-space-item"},q4={class:"panel-row"},J4={class:"panel-row__content"},Z4=ta(()=>G("button",{class:"right-canvas-resize-btn"},"",-1)),Q4=T_('<div class="panel-block" data-v-ac1c0e37><div class="panel-block__header" data-v-ac1c0e37><div class="panel-block__header-title" data-v-ac1c0e37></div><div class="panel-block__header-action" data-v-ac1c0e37><div class="popup" data-v-ac1c0e37><div class="swatch--shape-round" data-v-ac1c0e37></div></div></div></div></div>',1);function eL(e,t,n,r,s,p){const m=Xe("Bar"),c=Xe("el-upload"),i=Xe("workspace-size");return X(),le("div",E4,[G("div",P4,[G("div",k4,[(X(!0),le(Me,null,ft(r.headtool,h=>ot((X(),le("div",{key:h.text,onClick:f=>r.selectTabs(h)},[G("button",R4,[G("div",{class:me(["tab-content",r.getActiveClass(h)])},Le(h.text),3)])],8,A4)),[[pt,r.onTabShow(h)]])),128))]),G("div",M4,[pe(m)])]),G("div",I4,[G("div",D4,[G("div",F4,[L4,G("div",B4,[G("div",$4,[G("div",j4,[N4,r.workspace?(X(),le("div",z4,Le(r.workspace.width)+"  "+Le(r.workspace.height)+" px ",1)):be("",!0)]),G("div",H4,[G("div",U4,[G("div",W4,[G("button",{class:"right-canvas-resize-btn",onClick:t[0]||(t[0]=h=>r.sizeShow=!0)},"  ")])])])])])]),G("div",Y4,[X4,G("div",V4,[G("div",G4,[G("div",K4,[G("div",q4,[G("div",J4,[pe(c,{"show-file-list":!1,"auto-upload":!1,"on-change":r.uploadImage},{default:_e(()=>[Z4]),_:1},8,["on-change"])])])])])])]),Q4])]),pe(On,{name:"anime"},{default:_e(()=>[r.sizeShow?(X(),Se(i,{key:0,onBack:t[1]||(t[1]=h=>r.sizeShow=!1)})):be("",!0)]),_:1})])}const tL=Tt(O4,[["render",eL],["__scopeId","data-v-ac1c0e37"]]),nL={class:"header_nav"},rL=G("div",{class:"menu-btn"},[G("svg",{viewBox:"0 0 24 24"},[G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 6.75L20 6.75V5.25H4V6.75ZM20 12.75H4V11.25H20V12.75ZM20 18.75H4V17.25H20V18.75Z",fill:"currentColor"})])],-1),iL=G("div",{class:"logo"},null,-1),sL=G("div",{class:"starfish-link"},[G("a",{href:"https://github.com/haixin-fang/vue-design-editor",target:"_black"},[G("i",{class:"iconfont icon-GitHub"})])],-1),oL=xe({__name:"Nav",setup(e){const t=fe();return(n,r)=>{const s=Xe("popover");return X(),le("div",nL,[G("div",{class:"menu",ref_key:"menu",ref:t},[pe(x(Jc),{effect:"dark",content:"",placement:"bottom"},{default:_e(()=>[rL]),_:1}),pe(s)],512),iL,sL])}}});let js;const aL=new Uint8Array(16);function lL(){if(!js&&(js=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!js))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return js(aL)}const _t=[];for(let e=0;e<256;++e)_t.push((e+256).toString(16).slice(1));function cL(e,t=0){return _t[e[t+0]]+_t[e[t+1]]+_t[e[t+2]]+_t[e[t+3]]+"-"+_t[e[t+4]]+_t[e[t+5]]+"-"+_t[e[t+6]]+_t[e[t+7]]+"-"+_t[e[t+8]]+_t[e[t+9]]+"-"+_t[e[t+10]]+_t[e[t+11]]+_t[e[t+12]]+_t[e[t+13]]+_t[e[t+14]]+_t[e[t+15]]}const uL=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hd={randomUUID:uL};function pu(e,t,n){if(hd.randomUUID&&!t&&!e)return hd.randomUUID();e=e||{};const r=e.random||(e.rng||lL)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return cL(r)}var Ee={};const fL={},hL=Object.freeze(Object.defineProperty({__proto__:null,default:fL},Symbol.toStringTag,{value:"Module"})),Ua=PR(hL);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=Ua,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=Ua.implForWrapper,t.nodeCanvas=Ua.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function c(a,u){if(this.__eventListeners[a]){var g=this.__eventListeners[a];u?g[g.indexOf(u)]=!1:t.util.array.fill(g,!1)}}function i(a,u){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in a)this.on(g,a[g]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(u);return this}function h(a,u){var g=function(){u.apply(this,arguments),this.off(a,g)}.bind(this);this.on(a,g)}function f(a,u){if(arguments.length===1)for(var g in a)h.call(this,g,a[g]);else h.call(this,a,u);return this}function o(a,u){if(!this.__eventListeners)return this;if(arguments.length===0)for(a in this.__eventListeners)c.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in a)c.call(this,g,a[g]);else c.call(this,a,u);return this}function l(a,u){if(!this.__eventListeners)return this;var g=this.__eventListeners[a];if(!g)return this;for(var d=0,v=g.length;d<v;d++)g[d]&&g[d].call(this,u||{});return this.__eventListeners[a]=g.filter(function(_){return _!==!1}),this}t.Observable={fire:l,on:i,once:f,off:o}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var c=0,i=arguments.length;c<i;c++)this._onObjectAdded(arguments[c]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(c,i,h){var f=this._objects;return h?f[i]=c:f.splice(i,0,c),this._onObjectAdded&&this._onObjectAdded(c),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var c=this._objects,i,h=!1,f=0,o=arguments.length;f<o;f++)i=c.indexOf(arguments[f]),i!==-1&&(h=!0,c.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(c,i){for(var h=this.getObjects(),f=0,o=h.length;f<o;f++)c.call(i,h[f],f,h);return this},getObjects:function(c){return typeof c>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===c})},item:function(c){return this._objects[c]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(c,i){return this._objects.indexOf(c)>-1?!0:i?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(c,!0)}):!1},complexity:function(){return this._objects.reduce(function(c,i){return c+=i.complexity?i.complexity():0,c},0)}},t.CommonMethods={_setOptions:function(c){for(var i in c)this.set(i,c[i])},_initGradient:function(c,i){c&&c.colorStops&&!(c instanceof t.Gradient)&&this.set(i,new t.Gradient(c))},_initPattern:function(c,i,h){c&&c.source&&!(c instanceof t.Pattern)?this.set(i,new t.Pattern(c,h)):h&&h()},_setObject:function(c){for(var i in c)this._set(i,c[i])},set:function(c,i){return typeof c=="object"?this._setObject(c):this._set(c,i),this},_set:function(c,i){this[c]=i},toggle:function(c){var i=this.get(c);return typeof i=="boolean"&&this.set(c,!i),this},get:function(c){return this[c]}},function(c){var i=Math.sqrt,h=Math.atan2,f=Math.pow,o=Math.PI/180,l=Math.PI/2;t.util={cos:function(a){if(a===0)return 1;a<0&&(a=-a);var u=a/l;switch(u){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(a===0)return 0;var u=a/l,g=1;switch(a<0&&(g=-1),u){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(a)},removeFromArray:function(a,u){var g=a.indexOf(u);return g!==-1&&a.splice(g,1),a},getRandomInt:function(a,u){return Math.floor(Math.random()*(u-a+1))+a},degreesToRadians:function(a){return a*o},radiansToDegrees:function(a){return a/o},rotatePoint:function(a,u,g){var d=new t.Point(a.x-u.x,a.y-u.y),v=t.util.rotateVector(d,g);return new t.Point(v.x,v.y).addEquals(u)},rotateVector:function(a,u){var g=t.util.sin(u),d=t.util.cos(u),v=a.x*d-a.y*g,_=a.x*g+a.y*d;return{x:v,y:_}},createVector:function(a,u){return new t.Point(u.x-a.x,u.y-a.y)},calcAngleBetweenVectors:function(a,u){return Math.acos((a.x*u.x+a.y*u.y)/(Math.hypot(a.x,a.y)*Math.hypot(u.x,u.y)))},getHatVector:function(a){return new t.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,u,g){var d=t.util.createVector(a,u),v=t.util.createVector(a,g),_=t.util.calcAngleBetweenVectors(d,v),y=t.util.calcAngleBetweenVectors(t.util.rotateVector(d,_),v),b=_*(y===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(d,b)),angle:_}},projectStrokeOnPoints:function(a,u,g){var d=[],v=u.strokeWidth/2,_=u.strokeUniform?new t.Point(1/u.scaleX,1/u.scaleY):new t.Point(1,1),y=function(b){var w=v/Math.hypot(b.x,b.y);return new t.Point(b.x*w*_.x,b.y*w*_.y)};return a.length<=1||a.forEach(function(b,w){var C=new t.Point(b.x,b.y),S,O;w===0?(O=a[w+1],S=g?y(t.util.createVector(O,C)).addEquals(C):a[a.length-1]):w===a.length-1?(S=a[w-1],O=g?y(t.util.createVector(S,C)).addEquals(C):a[0]):(S=a[w-1],O=a[w+1]);var B=t.util.getBisector(C,S,O),W=B.vector,K=B.angle,z,re;if(u.strokeLineJoin==="miter"&&(z=-v/Math.sin(K/2),re=new t.Point(W.x*z*_.x,W.y*z*_.y),Math.hypot(re.x,re.y)/v<=u.strokeMiterLimit)){d.push(C.add(re)),d.push(C.subtract(re));return}z=-v*Math.SQRT2,re=new t.Point(W.x*z*_.x,W.y*z*_.y),d.push(C.add(re)),d.push(C.subtract(re))}),d},transformPoint:function(a,u,g){return g?new t.Point(u[0]*a.x+u[2]*a.y,u[1]*a.x+u[3]*a.y):new t.Point(u[0]*a.x+u[2]*a.y+u[4],u[1]*a.x+u[3]*a.y+u[5])},makeBoundingBoxFromPoints:function(a,u){if(u)for(var g=0;g<a.length;g++)a[g]=t.util.transformPoint(a[g],u);var d=[a[0].x,a[1].x,a[2].x,a[3].x],v=t.util.array.min(d),_=t.util.array.max(d),y=_-v,b=[a[0].y,a[1].y,a[2].y,a[3].y],w=t.util.array.min(b),C=t.util.array.max(b),S=C-w;return{left:v,top:w,width:y,height:S}},invertTransform:function(a){var u=1/(a[0]*a[3]-a[1]*a[2]),g=[u*a[3],-u*a[1],-u*a[2],u*a[0]],d=t.util.transformPoint({x:a[4],y:a[5]},g,!0);return g[4]=-d.x,g[5]=-d.y,g},toFixed:function(a,u){return parseFloat(Number(a).toFixed(u))},parseUnit:function(a,u){var g=/\D{0,2}$/.exec(a),d=parseFloat(a);switch(u||(u=t.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return d*t.DPI/25.4;case"cm":return d*t.DPI/2.54;case"in":return d*t.DPI;case"pt":return d*t.DPI/72;case"pc":return d*t.DPI/72*12;case"em":return d*u;default:return d}},falseFunction:function(){return!1},getKlass:function(a,u){return a=t.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),t.util.resolveNamespace(u)[a]},getSvgAttributes:function(a){var u=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":u=u.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":u=u.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":u=u.concat(["offset","stop-color","stop-opacity"]);break}return u},resolveNamespace:function(a){if(!a)return t;var u=a.split("."),g=u.length,d,v=c||t.window;for(d=0;d<g;++d)v=v[u[d]];return v},loadImage:function(a,u,g,d){if(!a){u&&u.call(g,a);return}var v=t.util.createImage(),_=function(){u&&u.call(g,v,!1),v=v.onload=v.onerror=null};v.onload=_,v.onerror=function(){t.log("Error loading "+v.src),u&&u.call(g,null,!0),v=v.onload=v.onerror=null},a.indexOf("data")!==0&&d!==void 0&&d!==null&&(v.crossOrigin=d),a.substring(0,14)==="data:image/svg"&&(v.onload=null,t.util.loadImageInDom(v,_)),v.src=a},loadImageInDom:function(a,u){var g=t.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(a),t.document.querySelector("body").appendChild(g),a.onload=function(){u(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(a,u,g,d){a=a||[];var v=[],_=0,y=a.length;function b(){++_===y&&u&&u(v.filter(function(w){return w}))}if(!y){u&&u(v);return}a.forEach(function(w,C){if(!w||!w.type){b();return}var S=t.util.getKlass(w.type,g);S.fromObject(w,function(O,B){B||(v[C]=O),d&&d(w,O,B),b()})})},enlivenObjectEnlivables:function(a,u,g){var d=t.Object.ENLIVEN_PROPS.filter(function(v){return!!a[v]});t.util.enlivenObjects(d.map(function(v){return a[v]}),function(v){var _={};d.forEach(function(y,b){_[y]=v[b],u&&(u[y]=v[b])}),g&&g(_)})},enlivenPatterns:function(a,u){a=a||[];function g(){++v===_&&u&&u(d)}var d=[],v=0,_=a.length;if(!_){u&&u(d);return}a.forEach(function(y,b){y&&y.source?new t.Pattern(y,function(w){d[b]=w,g()}):(d[b]=y,g())})},groupSVGElements:function(a,u,g){var d;return a&&a.length===1?(typeof g<"u"&&(a[0].sourcePath=g),a[0]):(u&&(u.width&&u.height?u.centerPoint={x:u.width/2,y:u.height/2}:(delete u.width,delete u.height)),d=new t.Group(a,u),typeof g<"u"&&(d.sourcePath=g),d)},populateWithProperties:function(a,u,g){if(g&&Array.isArray(g))for(var d=0,v=g.length;d<v;d++)g[d]in a&&(u[g[d]]=a[g[d]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(a){var u=t.util.createCanvasElement();return u.width=a.width,u.height=a.height,u.getContext("2d").drawImage(a,0,0),u},toDataURL:function(a,u,g){return a.toDataURL("image/"+u,g)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(a,u,g){return[a[0]*u[0]+a[2]*u[1],a[1]*u[0]+a[3]*u[1],a[0]*u[2]+a[2]*u[3],a[1]*u[2]+a[3]*u[3],g?0:a[0]*u[4]+a[2]*u[5]+a[4],g?0:a[1]*u[4]+a[3]*u[5]+a[5]]},qrDecompose:function(a){var u=h(a[1],a[0]),g=f(a[0],2)+f(a[1],2),d=i(g),v=(a[0]*a[3]-a[2]*a[1])/d,_=h(a[0]*a[2]+a[1]*a[3],g);return{angle:u/o,scaleX:d,scaleY:v,skewX:_/o,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return t.iMatrix.concat();var u=t.util.degreesToRadians(a.angle),g=t.util.cos(u),d=t.util.sin(u);return[g,d,-d,g,0,0]},calcDimensionsMatrix:function(a){var u=typeof a.scaleX>"u"?1:a.scaleX,g=typeof a.scaleY>"u"?1:a.scaleY,d=[a.flipX?-u:u,0,0,a.flipY?-g:g,0,0],v=t.util.multiplyTransformMatrices,_=t.util.degreesToRadians;return a.skewX&&(d=v(d,[1,0,Math.tan(_(a.skewX)),1],!0)),a.skewY&&(d=v(d,[1,Math.tan(_(a.skewY)),0,1],!0)),d},composeMatrix:function(a){var u=[1,0,0,1,a.translateX||0,a.translateY||0],g=t.util.multiplyTransformMatrices;return a.angle&&(u=g(u,t.util.calcRotateMatrix(a))),(a.scaleX!==1||a.scaleY!==1||a.skewX||a.skewY||a.flipX||a.flipY)&&(u=g(u,t.util.calcDimensionsMatrix(a))),u},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,u,g,d){d>0&&(u>d?u-=d:u=0,g>d?g-=d:g=0);var v=!0,_,y,b=a.getImageData(u,g,d*2||1,d*2||1),w=b.data.length;for(_=3;_<w&&(y=b.data[_],v=y<=0,v!==!1);_+=4);return b=null,v},parsePreserveAspectRatioAttribute:function(a){var u="meet",g="Mid",d="Mid",v=a.split(" "),_;return v&&v.length&&(u=v.pop(),u!=="meet"&&u!=="slice"?(_=u,u="meet"):v.length&&(_=v.pop())),g=_!=="none"?_.slice(1,4):"none",d=_!=="none"?_.slice(5,8):"none",{meetOrSlice:u,alignX:g,alignY:d}},clearFabricFontCache:function(a){a=(a||"").toLowerCase(),a?t.charWidthsCache[a]&&delete t.charWidthsCache[a]:t.charWidthsCache={}},limitDimsByArea:function(a,u){var g=Math.sqrt(u*a),d=Math.floor(u/g);return{x:Math.floor(g),y:d}},capValue:function(a,u,g){return Math.max(a,Math.min(u,g))},findScaleToFit:function(a,u){return Math.min(u.width/a.width,u.height/a.height)},findScaleToCover:function(a,u){return Math.max(u.width/a.width,u.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(u){return t.util.toFixed(u,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,u){var g=t.util.invertTransform(u),d=t.util.multiplyTransformMatrices(g,a.calcOwnMatrix());t.util.applyTransformToObject(a,d)},addTransformToObject:function(a,u){t.util.applyTransformToObject(a,t.util.multiplyTransformMatrices(u,a.calcOwnMatrix()))},applyTransformToObject:function(a,u){var g=t.util.qrDecompose(u),d=new t.Point(g.translateX,g.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",g.scaleX),a.set("scaleY",g.scaleY),a.skewX=g.skewX,a.skewY=g.skewY,a.angle=g.angle,a.setPositionByOrigin(d,"center","center")},sizeAfterTransform:function(a,u,g){var d=a/2,v=u/2,_=[{x:-d,y:-v},{x:d,y:-v},{x:-d,y:v},{x:d,y:v}],y=t.util.calcDimensionsMatrix(g),b=t.util.makeBoundingBoxFromPoints(_,y);return{x:b.width,y:b.height}},mergeClipPaths:function(a,u){var g=a,d=u;g.inverted&&!d.inverted&&(g=u,d=a),t.util.applyTransformToObject(d,t.util.multiplyTransformMatrices(t.util.invertTransform(g.calcTransformMatrix()),d.calcTransformMatrix()));var v=g.inverted&&d.inverted;return v&&(g.inverted=d.inverted=!1),new t.Group([g],{clipPath:d,inverted:v})},hasStyleChanged:function(a,u,g){return g=g||!1,a.fill!==u.fill||a.stroke!==u.stroke||a.strokeWidth!==u.strokeWidth||a.fontSize!==u.fontSize||a.fontFamily!==u.fontFamily||a.fontWeight!==u.fontWeight||a.fontStyle!==u.fontStyle||a.textBackgroundColor!==u.textBackgroundColor||a.deltaY!==u.deltaY||g&&(a.overline!==u.overline||a.underline!==u.underline||a.linethrough!==u.linethrough)},stylesToArray:function(g,u){for(var g=t.util.object.clone(g,!0),d=u.split(`
`),v=-1,_={},y=[],b=0;b<d.length;b++){if(!g[b]){v+=d[b].length;continue}for(var w=0;w<d[b].length;w++){v++;var C=g[b][w];if(C&&Object.keys(C).length>0){var S=t.util.hasStyleChanged(_,C,!0);S?y.push({start:v,end:v+1,style:C}):y[y.length-1].end++}_=C||{}}}return y},stylesFromArray:function(a,u){if(!Array.isArray(a))return a;for(var g=u.split(`
`),d=-1,v=0,_={},y=0;y<g.length;y++)for(var b=0;b<g[y].length;b++)d++,a[v]&&a[v].start<=d&&d<a[v].end&&(_[y]=_[y]||{},_[y][b]=Object.assign({},a[v].style),d===a[v].end-1&&v++);return _}}}(e),function(){var c=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function f(T,I,F,D,ne,M,P,U,R,L,N){var Q=t.util.cos(T),oe=t.util.sin(T),A=t.util.cos(I),E=t.util.sin(I),k=F*ne*A-D*M*E+P,$=D*ne*A+F*M*E+U,H=L+R*(-F*ne*oe-D*M*Q),j=N+R*(-D*ne*oe+F*M*Q),Y=k+R*(F*ne*E+D*M*A),ee=$+R*(D*ne*E-F*M*A);return["C",H,j,Y,ee,k,$]}function o(T,I,F,D,ne,M,P){var U=Math.PI,R=P*U/180,L=t.util.sin(R),N=t.util.cos(R),Q=0,oe=0;F=Math.abs(F),D=Math.abs(D);var A=-N*T*.5-L*I*.5,E=-N*I*.5+L*T*.5,k=F*F,$=D*D,H=E*E,j=A*A,Y=k*$-k*H-$*j,ee=0;if(Y<0){var ae=Math.sqrt(1-Y/(k*$));F*=ae,D*=ae}else ee=(ne===M?-1:1)*Math.sqrt(Y/(k*H+$*j));var ie=ee*F*E/D,J=-ee*D*A/F,ue=N*ie-L*J+T*.5,ge=L*ie+N*J+I*.5,te=l(1,0,(A-ie)/F,(E-J)/D),ve=l((A-ie)/F,(E-J)/D,(-A-ie)/F,(-E-J)/D);M===0&&ve>0?ve-=2*U:M===1&&ve<0&&(ve+=2*U);for(var ye=Math.ceil(Math.abs(ve/U*2)),Te=[],Re=ve/ye,nt=8/3*Math.sin(Re/4)*Math.sin(Re/4)/Math.sin(Re/2),Ot=te+Re,Ct=0;Ct<ye;Ct++)Te[Ct]=f(te,Ot,N,L,F,D,ue,ge,nt,Q,oe),Q=Te[Ct][5],oe=Te[Ct][6],te=Ot,Ot+=Re;return Te}function l(T,I,F,D){var ne=Math.atan2(I,T),M=Math.atan2(D,F);return M>=ne?M-ne:2*Math.PI-(ne-M)}function a(T,I,F,D,ne,M,P,U){var R;if(t.cachesBoundsOfCurve&&(R=c.call(arguments),t.boundsOfCurveCache[R]))return t.boundsOfCurveCache[R];var L=Math.sqrt,N=Math.min,Q=Math.max,oe=Math.abs,A=[],E=[[],[]],k,$,H,j,Y,ee,ae,ie;$=6*T-12*F+6*ne,k=-3*T+9*F-9*ne+3*P,H=3*F-3*T;for(var J=0;J<2;++J){if(J>0&&($=6*I-12*D+6*M,k=-3*I+9*D-9*M+3*U,H=3*D-3*I),oe(k)<1e-12){if(oe($)<1e-12)continue;j=-H/$,0<j&&j<1&&A.push(j);continue}ae=$*$-4*H*k,!(ae<0)&&(ie=L(ae),Y=(-$+ie)/(2*k),0<Y&&Y<1&&A.push(Y),ee=(-$-ie)/(2*k),0<ee&&ee<1&&A.push(ee))}for(var ue,ge,te=A.length,ve=te,ye;te--;)j=A[te],ye=1-j,ue=ye*ye*ye*T+3*ye*ye*j*F+3*ye*j*j*ne+j*j*j*P,E[0][te]=ue,ge=ye*ye*ye*I+3*ye*ye*j*D+3*ye*j*j*M+j*j*j*U,E[1][te]=ge;E[0][ve]=T,E[1][ve]=I,E[0][ve+1]=P,E[1][ve+1]=U;var Te=[{x:N.apply(null,E[0]),y:N.apply(null,E[1])},{x:Q.apply(null,E[0]),y:Q.apply(null,E[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[R]=Te),Te}function u(T,I,F){for(var D=F[1],ne=F[2],M=F[3],P=F[4],U=F[5],R=F[6],L=F[7],N=o(R-T,L-I,D,ne,P,U,M),Q=0,oe=N.length;Q<oe;Q++)N[Q][1]+=T,N[Q][2]+=I,N[Q][3]+=T,N[Q][4]+=I,N[Q][5]+=T,N[Q][6]+=I;return N}function g(T){var I=0,F=0,D=T.length,ne=0,M=0,P,U,R,L=[],N,Q,oe;for(U=0;U<D;++U){switch(R=!1,P=T[U].slice(0),P[0]){case"l":P[0]="L",P[1]+=I,P[2]+=F;case"L":I=P[1],F=P[2];break;case"h":P[1]+=I;case"H":P[0]="L",P[2]=F,I=P[1];break;case"v":P[1]+=F;case"V":P[0]="L",F=P[1],P[1]=I,P[2]=F;break;case"m":P[0]="M",P[1]+=I,P[2]+=F;case"M":I=P[1],F=P[2],ne=P[1],M=P[2];break;case"c":P[0]="C",P[1]+=I,P[2]+=F,P[3]+=I,P[4]+=F,P[5]+=I,P[6]+=F;case"C":Q=P[3],oe=P[4],I=P[5],F=P[6];break;case"s":P[0]="S",P[1]+=I,P[2]+=F,P[3]+=I,P[4]+=F;case"S":N==="C"?(Q=2*I-Q,oe=2*F-oe):(Q=I,oe=F),I=P[3],F=P[4],P[0]="C",P[5]=P[3],P[6]=P[4],P[3]=P[1],P[4]=P[2],P[1]=Q,P[2]=oe,Q=P[3],oe=P[4];break;case"q":P[0]="Q",P[1]+=I,P[2]+=F,P[3]+=I,P[4]+=F;case"Q":Q=P[1],oe=P[2],I=P[3],F=P[4];break;case"t":P[0]="T",P[1]+=I,P[2]+=F;case"T":N==="Q"?(Q=2*I-Q,oe=2*F-oe):(Q=I,oe=F),P[0]="Q",I=P[1],F=P[2],P[1]=Q,P[2]=oe,P[3]=I,P[4]=F;break;case"a":P[0]="A",P[6]+=I,P[7]+=F;case"A":R=!0,L=L.concat(u(I,F,P)),I=P[6],F=P[7];break;case"z":case"Z":I=ne,F=M;break}R||L.push(P),N=P[0]}return L}function d(T,I,F,D){return Math.sqrt((F-T)*(F-T)+(D-I)*(D-I))}function v(T){return T*T*T}function _(T){return 3*T*T*(1-T)}function y(T){return 3*T*(1-T)*(1-T)}function b(T){return(1-T)*(1-T)*(1-T)}function w(T,I,F,D,ne,M,P,U){return function(R){var L=v(R),N=_(R),Q=y(R),oe=b(R);return{x:P*L+ne*N+F*Q+T*oe,y:U*L+M*N+D*Q+I*oe}}}function C(T,I,F,D,ne,M,P,U){return function(R){var L=1-R,N=3*L*L*(F-T)+6*L*R*(ne-F)+3*R*R*(P-ne),Q=3*L*L*(D-I)+6*L*R*(M-D)+3*R*R*(U-M);return Math.atan2(Q,N)}}function S(T){return T*T}function O(T){return 2*T*(1-T)}function B(T){return(1-T)*(1-T)}function W(T,I,F,D,ne,M){return function(P){var U=S(P),R=O(P),L=B(P);return{x:ne*U+F*R+T*L,y:M*U+D*R+I*L}}}function K(T,I,F,D,ne,M){return function(P){var U=1-P,R=2*U*(F-T)+2*P*(ne-F),L=2*U*(D-I)+2*P*(M-D);return Math.atan2(L,R)}}function z(T,I,F){var D={x:I,y:F},ne,M=0,P;for(P=1;P<=100;P+=1)ne=T(P/100),M+=d(D.x,D.y,ne.x,ne.y),D=ne;return M}function re(T,I){for(var F=0,D=0,ne=T.iterator,M={x:T.x,y:T.y},P,U,R=.01,L=T.angleFinder,N;D<I&&R>1e-4;)P=ne(F),N=F,U=d(M.x,M.y,P.x,P.y),U+D>I?(F-=R,R/=2):(M=P,F+=R,D+=U);return P.angle=L(N),P}function se(T){for(var I=0,F=T.length,D,ne=0,M=0,P=0,U=0,R=[],L,N,Q,oe=0;oe<F;oe++){switch(D=T[oe],N={x:ne,y:M,command:D[0]},D[0]){case"M":N.length=0,P=ne=D[1],U=M=D[2];break;case"L":N.length=d(ne,M,D[1],D[2]),ne=D[1],M=D[2];break;case"C":L=w(ne,M,D[1],D[2],D[3],D[4],D[5],D[6]),Q=C(ne,M,D[1],D[2],D[3],D[4],D[5],D[6]),N.iterator=L,N.angleFinder=Q,N.length=z(L,ne,M),ne=D[5],M=D[6];break;case"Q":L=W(ne,M,D[1],D[2],D[3],D[4]),Q=K(ne,M,D[1],D[2],D[3],D[4]),N.iterator=L,N.angleFinder=Q,N.length=z(L,ne,M),ne=D[3],M=D[4];break;case"Z":case"z":N.destX=P,N.destY=U,N.length=d(ne,M,P,U),ne=P,M=U;break}I+=N.length,R.push(N)}return R.push({length:I,x:ne,y:M}),R}function ce(T,I,F){F||(F=se(T));for(var D=0;I-F[D].length>0&&D<F.length-2;)I-=F[D].length,D++;var ne=F[D],M=I/ne.length,P=ne.command,U=T[D],R;switch(P){case"M":return{x:ne.x,y:ne.y,angle:0};case"Z":case"z":return R=new t.Point(ne.x,ne.y).lerp(new t.Point(ne.destX,ne.destY),M),R.angle=Math.atan2(ne.destY-ne.y,ne.destX-ne.x),R;case"L":return R=new t.Point(ne.x,ne.y).lerp(new t.Point(U[1],U[2]),M),R.angle=Math.atan2(U[2]-ne.y,U[1]-ne.x),R;case"C":return re(ne,I);case"Q":return re(ne,I)}}function he(T){var I=[],F=[],D,ne,M=t.rePathCommand,P="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",U="("+P+")"+t.commaWsp,R="([01])"+t.commaWsp+"?",L=U+"?"+U+"?"+U+R+R+U+"?("+P+")",N=new RegExp(L,"g"),Q,oe,A;if(!T||!T.match)return I;A=T.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var E=0,k,$=A.length;E<$;E++){D=A[E],oe=D.slice(1).trim(),F.length=0;var H=D.charAt(0);if(k=[H],H.toLowerCase()==="a")for(var j;j=N.exec(oe);)for(var Y=1;Y<j.length;Y++)F.push(j[Y]);else for(;Q=M.exec(oe);)F.push(Q[0]);for(var Y=0,ee=F.length;Y<ee;Y++)ne=parseFloat(F[Y]),isNaN(ne)||k.push(ne);var ae=i[H.toLowerCase()],ie=h[H]||H;if(k.length-1>ae)for(var J=1,ue=k.length;J<ue;J+=ae)I.push([H].concat(k.slice(J,J+ae))),H=ie;else I.push(k)}return I}function V(T,I){var F=[],D,ne=new t.Point(T[0].x,T[0].y),M=new t.Point(T[1].x,T[1].y),P=T.length,U=1,R=0,L=P>2;for(I=I||0,L&&(U=T[2].x<M.x?-1:T[2].x===M.x?0:1,R=T[2].y<M.y?-1:T[2].y===M.y?0:1),F.push(["M",ne.x-U*I,ne.y-R*I]),D=1;D<P;D++){if(!ne.eq(M)){var N=ne.midPointFrom(M);F.push(["Q",ne.x,ne.y,N.x,N.y])}ne=T[D],D+1<T.length&&(M=T[D+1])}return L&&(U=ne.x>T[D-2].x?1:ne.x===T[D-2].x?0:-1,R=ne.y>T[D-2].y?1:ne.y===T[D-2].y?0:-1),F.push(["L",ne.x+U*I,ne.y+R*I]),F}function Z(T,I,F){return F&&(I=t.util.multiplyTransformMatrices(I,[1,0,0,1,-F.x,-F.y])),T.map(function(D){for(var ne=D.slice(0),M={},P=1;P<D.length-1;P+=2)M.x=D[P],M.y=D[P+1],M=t.util.transformPoint(M,I),ne[P]=M.x,ne[P+1]=M.y;return ne})}t.util.joinPath=function(T){return T.map(function(I){return I.join(" ")}).join(" ")},t.util.parsePath=he,t.util.makePathSimpler=g,t.util.getSmoothPathFromPoints=V,t.util.getPathSegmentsInfo=se,t.util.getBoundsOfCurve=a,t.util.getPointOnPath=ce,t.util.transformPath=Z}(),function(){var c=Array.prototype.slice;function i(a,u){for(var g=c.call(arguments,2),d=[],v=0,_=a.length;v<_;v++)d[v]=g.length?a[v][u].apply(a[v],g):a[v][u].call(a[v]);return d}function h(a,u){return l(a,u,function(g,d){return g>=d})}function f(a,u){return l(a,u,function(g,d){return g<d})}function o(a,u){for(var g=a.length;g--;)a[g]=u;return a}function l(a,u,g){if(!(!a||a.length===0)){var d=a.length-1,v=u?a[d][u]:a[d];if(u)for(;d--;)g(a[d][u],v)&&(v=a[d][u]);else for(;d--;)g(a[d],v)&&(v=a[d]);return v}}t.util.array={fill:o,invoke:i,min:f,max:h}}(),function(){function c(h,f,o){if(o)if(!t.isLikelyNode&&f instanceof Element)h=f;else if(f instanceof Array){h=[];for(var l=0,a=f.length;l<a;l++)h[l]=c({},f[l],o)}else if(f&&typeof f=="object")for(var u in f)u==="canvas"||u==="group"?h[u]=null:f.hasOwnProperty(u)&&(h[u]=c({},f[u],o));else h=f;else for(var u in f)h[u]=f[u];return h}function i(h,f){return c({},h,f)}t.util.object={extend:c,clone:i},t.util.object.extend(t.util,t.Observable)}(),function(){function c(l){return l.replace(/-+(.)?/g,function(a,u){return u?u.toUpperCase():""})}function i(l,a){return l.charAt(0).toUpperCase()+(a?l.slice(1):l.slice(1).toLowerCase())}function h(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(l){var a=0,u,g=[];for(a=0,u;a<l.length;a++)(u=o(l,a))!==!1&&g.push(u);return g}function o(l,a){var u=l.charCodeAt(a);if(isNaN(u))return"";if(u<55296||u>57343)return l.charAt(a);if(55296<=u&&u<=56319){if(l.length<=a+1)throw"High surrogate without following low surrogate";var g=l.charCodeAt(a+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return l.charAt(a)+l.charAt(a+1)}if(a===0)throw"Low surrogate without preceding high surrogate";var d=l.charCodeAt(a-1);if(55296>d||d>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:c,capitalize:i,escapeXml:h,graphemeSplit:f}}(),function(){var c=Array.prototype.slice,i=function(){},h=function(){for(var u in{toString:1})if(u==="toString")return!1;return!0}(),f=function(u,g,d){for(var v in g)v in u.prototype&&typeof u.prototype[v]=="function"&&(g[v]+"").indexOf("callSuper")>-1?u.prototype[v]=function(_){return function(){var y=this.constructor.superclass;this.constructor.superclass=d;var b=g[_].apply(this,arguments);if(this.constructor.superclass=y,_!=="initialize")return b}}(v):u.prototype[v]=g[v],h&&(g.toString!==Object.prototype.toString&&(u.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(u.prototype.valueOf=g.valueOf))};function o(){}function l(u){for(var g=null,d=this;d.constructor.superclass;){var v=d.constructor.superclass.prototype[u];if(d[u]!==v){g=v;break}d=d.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,c.call(arguments,1)):g.call(this):console.log("tried to callSuper "+u+", method not found in prototype chain",this)}function a(){var u=null,g=c.call(arguments,0);typeof g[0]=="function"&&(u=g.shift());function d(){this.initialize.apply(this,arguments)}d.superclass=u,d.subclasses=[],u&&(o.prototype=u.prototype,d.prototype=new o,u.subclasses.push(d));for(var v=0,_=g.length;v<_;v++)f(d,g[v],u);return d.prototype.initialize||(d.prototype.initialize=i),d.prototype.constructor=d,d.prototype.callSuper=l,d}t.util.createClass=a}(),function(){var c=!!t.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];t.util.addListener=function(f,o,l,a){f&&f.addEventListener(o,l,c?!1:a)},t.util.removeListener=function(f,o,l,a){f&&f.removeEventListener(o,l,c?!1:a)};function h(f){var o=f.changedTouches;return o&&o[0]?o[0]:f}t.util.getPointer=function(f){var o=f.target,l=t.util.getScrollLeftTop(o),a=h(f);return{x:a.clientX+l.left,y:a.clientY+l.top}},t.util.isTouchEvent=function(f){return i.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function c(a,u){var g=a.style;if(!g)return a;if(typeof u=="string")return a.style.cssText+=";"+u,u.indexOf("opacity")>-1?l(a,u.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var d in u)if(d==="opacity")l(a,u[d]);else{var v=d==="float"||d==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":d;g.setProperty(v,u[d])}return a}var i=t.document.createElement("div"),h=typeof i.style.opacity=="string",f=typeof i.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,l=function(a){return a};h?l=function(a,u){return a.style.opacity=u,a}:f&&(l=function(a,u){var g=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(g.zoom=1),o.test(g.filter)?(u=u>=.9999?"":"alpha(opacity="+u*100+")",g.filter=g.filter.replace(o,u)):g.filter+=" alpha(opacity="+u*100+")",a}),t.util.setStyle=c}(),function(){var c=Array.prototype.slice;function i(b){return typeof b=="string"?t.document.getElementById(b):b}var h,f=function(b){return c.call(b,0)};try{h=f(t.document.childNodes)instanceof Array}catch{}h||(f=function(b){for(var w=new Array(b.length),C=b.length;C--;)w[C]=b[C];return w});function o(b,w){var C=t.document.createElement(b);for(var S in w)S==="class"?C.className=w[S]:S==="for"?C.htmlFor=w[S]:C.setAttribute(S,w[S]);return C}function l(b,w){b&&(" "+b.className+" ").indexOf(" "+w+" ")===-1&&(b.className+=(b.className?" ":"")+w)}function a(b,w,C){return typeof w=="string"&&(w=o(w,C)),b.parentNode&&b.parentNode.replaceChild(w,b),w.appendChild(b),w}function u(b){for(var w=0,C=0,S=t.document.documentElement,O=t.document.body||{scrollLeft:0,scrollTop:0};b&&(b.parentNode||b.host)&&(b=b.parentNode||b.host,b===t.document?(w=O.scrollLeft||S.scrollLeft||0,C=O.scrollTop||S.scrollTop||0):(w+=b.scrollLeft||0,C+=b.scrollTop||0),!(b.nodeType===1&&b.style.position==="fixed")););return{left:w,top:C}}function g(b){var w,C=b&&b.ownerDocument,S={left:0,top:0},O={left:0,top:0},B,W={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!C)return O;for(var K in W)O[W[K]]+=parseInt(d(b,K),10)||0;return w=C.documentElement,typeof b.getBoundingClientRect<"u"&&(S=b.getBoundingClientRect()),B=u(b),{left:S.left+B.left-(w.clientLeft||0)+O.left,top:S.top+B.top-(w.clientTop||0)+O.top}}var d;t.document.defaultView&&t.document.defaultView.getComputedStyle?d=function(b,w){var C=t.document.defaultView.getComputedStyle(b,null);return C?C[w]:void 0}:d=function(b,w){var C=b.style[w];return!C&&b.currentStyle&&(C=b.currentStyle[w]),C},function(){var b=t.document.documentElement.style,w="userSelect"in b?"userSelect":"MozUserSelect"in b?"MozUserSelect":"WebkitUserSelect"in b?"WebkitUserSelect":"KhtmlUserSelect"in b?"KhtmlUserSelect":"";function C(O){return typeof O.onselectstart<"u"&&(O.onselectstart=t.util.falseFunction),w?O.style[w]="none":typeof O.unselectable=="string"&&(O.unselectable="on"),O}function S(O){return typeof O.onselectstart<"u"&&(O.onselectstart=null),w?O.style[w]="":typeof O.unselectable=="string"&&(O.unselectable=""),O}t.util.makeElementUnselectable=C,t.util.makeElementSelectable=S}();function v(b){var w=t.jsdomImplForWrapper(b);return w._canvas||w._image}function _(b){if(t.isLikelyNode){var w=t.jsdomImplForWrapper(b);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function y(b,w){b.imageSmoothingEnabled=b.imageSmoothingEnabled||b.webkitImageSmoothingEnabled||b.mozImageSmoothingEnabled||b.msImageSmoothingEnabled||b.oImageSmoothingEnabled,b.imageSmoothingEnabled=w}t.util.setImageSmoothing=y,t.util.getById=i,t.util.toArray=f,t.util.addClass=l,t.util.makeElement=o,t.util.wrapElement=a,t.util.getScrollLeftTop=u,t.util.getElementOffset=g,t.util.getNodeCanvas=v,t.util.cleanUpJsdomNode=_}(),function(){function c(f,o){return f+(/\?/.test(f)?"&":"?")+o}function i(){}function h(f,o){o||(o={});var l=o.method?o.method.toUpperCase():"GET",a=o.onComplete||function(){},u=new t.window.XMLHttpRequest,g=o.body||o.parameters;return u.onreadystatechange=function(){u.readyState===4&&(a(u),u.onreadystatechange=i)},l==="GET"&&(g=null,typeof o.parameters=="string"&&(f=c(f,o.parameters))),u.open(l,f,!0),(l==="POST"||l==="PUT")&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(g),u}t.util.request=h}(),t.log=console.log,t.warn=console.warn,function(){var c=t.util.object.extend,i=t.util.object.clone,h=[];t.util.object.extend(h,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(_){_.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var _=this.filter(function(y){return typeof y.target=="object"&&y.target.canvas===v});return _.forEach(function(y){y.cancel()}),_},cancelByTarget:function(v){var _=this.findAnimationsByTarget(v);return _.forEach(function(y){y.cancel()}),_},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(_){return _.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(_){return _.target===v}):[]}});function f(){return!1}function o(v,_,y,b){return-y*Math.cos(v/b*(Math.PI/2))+y+_}function l(v){v||(v={});var _=!1,y,b=function(){var w=t.runningAnimations.indexOf(y);return w>-1&&t.runningAnimations.splice(w,1)[0]};return y=c(i(v),{cancel:function(){return _=!0,b()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(y),g(function(w){var C=w||+new Date,S=v.duration||500,O=C+S,B,W=v.onChange||f,K=v.abort||f,z=v.onComplete||f,re=v.easing||o,se="startValue"in v?v.startValue.length>0:!1,ce="startValue"in v?v.startValue:0,he="endValue"in v?v.endValue:100,V=v.byValue||(se?ce.map(function(Z,T){return he[T]-ce[T]}):he-ce);v.onStart&&v.onStart(),function Z(T){B=T||+new Date;var I=B>O?S:B-C,F=I/S,D=se?ce.map(function(M,P){return re(I,ce[P],V[P],S)}):re(I,ce,V,S),ne=Math.abs(se?(D[0]-ce[0])/V[0]:(D-ce)/V);if(y.currentValue=se?D.slice():D,y.completionRate=ne,y.durationRate=F,!_){if(K(D,ne,F)){b();return}if(B>O){y.currentValue=se?he.slice():he,y.completionRate=1,y.durationRate=1,W(se?he.slice():he,1,1),z(he,1,1),b();return}else W(D,ne,F),g(Z)}}(C)}),y.cancel}var a=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(v){return t.window.setTimeout(v,1e3/60)},u=t.window.cancelAnimationFrame||t.window.clearTimeout;function g(){return a.apply(t.window,arguments)}function d(){return u.apply(t.window,arguments)}t.util.animate=l,t.util.requestAnimFrame=g,t.util.cancelAnimFrame=d,t.runningAnimations=h}(),function(){function c(h,f,o){var l="rgba("+parseInt(h[0]+o*(f[0]-h[0]),10)+","+parseInt(h[1]+o*(f[1]-h[1]),10)+","+parseInt(h[2]+o*(f[2]-h[2]),10);return l+=","+(h&&f?parseFloat(h[3]+o*(f[3]-h[3])):1),l+=")",l}function i(h,f,o,l){var a=new t.Color(h).getSource(),u=new t.Color(f).getSource(),g=l.onComplete,d=l.onChange;return l=l||{},t.util.animate(t.util.object.extend(l,{duration:o||500,startValue:a,endValue:u,byValue:u,easing:function(v,_,y,b){var w=l.colorEasing?l.colorEasing(v,b):1-Math.cos(v/b*(Math.PI/2));return c(_,y,w)},onComplete:function(v,_,y){if(g)return g(c(u,u,0),_,y)},onChange:function(v,_,y){if(d){if(Array.isArray(v))return d(c(v,v,0),_,y);d(v,_,y)}}}))}t.util.animateColor=i}(),function(){function c(T,I,F,D){return T<Math.abs(I)?(T=I,D=F/4):I===0&&T===0?D=F/(2*Math.PI)*Math.asin(1):D=F/(2*Math.PI)*Math.asin(I/T),{a:T,c:I,p:F,s:D}}function i(T,I,F){return T.a*Math.pow(2,10*(I-=1))*Math.sin((I*F-T.s)*(2*Math.PI)/T.p)}function h(T,I,F,D){return F*((T=T/D-1)*T*T+1)+I}function f(T,I,F,D){return T/=D/2,T<1?F/2*T*T*T+I:F/2*((T-=2)*T*T+2)+I}function o(T,I,F,D){return F*(T/=D)*T*T*T+I}function l(T,I,F,D){return-F*((T=T/D-1)*T*T*T-1)+I}function a(T,I,F,D){return T/=D/2,T<1?F/2*T*T*T*T+I:-F/2*((T-=2)*T*T*T-2)+I}function u(T,I,F,D){return F*(T/=D)*T*T*T*T+I}function g(T,I,F,D){return F*((T=T/D-1)*T*T*T*T+1)+I}function d(T,I,F,D){return T/=D/2,T<1?F/2*T*T*T*T*T+I:F/2*((T-=2)*T*T*T*T+2)+I}function v(T,I,F,D){return-F*Math.cos(T/D*(Math.PI/2))+F+I}function _(T,I,F,D){return F*Math.sin(T/D*(Math.PI/2))+I}function y(T,I,F,D){return-F/2*(Math.cos(Math.PI*T/D)-1)+I}function b(T,I,F,D){return T===0?I:F*Math.pow(2,10*(T/D-1))+I}function w(T,I,F,D){return T===D?I+F:F*(-Math.pow(2,-10*T/D)+1)+I}function C(T,I,F,D){return T===0?I:T===D?I+F:(T/=D/2,T<1?F/2*Math.pow(2,10*(T-1))+I:F/2*(-Math.pow(2,-10*--T)+2)+I)}function S(T,I,F,D){return-F*(Math.sqrt(1-(T/=D)*T)-1)+I}function O(T,I,F,D){return F*Math.sqrt(1-(T=T/D-1)*T)+I}function B(T,I,F,D){return T/=D/2,T<1?-F/2*(Math.sqrt(1-T*T)-1)+I:F/2*(Math.sqrt(1-(T-=2)*T)+1)+I}function W(T,I,F,D){var ne=1.70158,M=0,P=F;if(T===0)return I;if(T/=D,T===1)return I+F;M||(M=D*.3);var U=c(P,F,M,ne);return-i(U,T,D)+I}function K(T,I,F,D){var ne=1.70158,M=0,P=F;if(T===0)return I;if(T/=D,T===1)return I+F;M||(M=D*.3);var U=c(P,F,M,ne);return U.a*Math.pow(2,-10*T)*Math.sin((T*D-U.s)*(2*Math.PI)/U.p)+U.c+I}function z(T,I,F,D){var ne=1.70158,M=0,P=F;if(T===0)return I;if(T/=D/2,T===2)return I+F;M||(M=D*(.3*1.5));var U=c(P,F,M,ne);return T<1?-.5*i(U,T,D)+I:U.a*Math.pow(2,-10*(T-=1))*Math.sin((T*D-U.s)*(2*Math.PI)/U.p)*.5+U.c+I}function re(T,I,F,D,ne){return ne===void 0&&(ne=1.70158),F*(T/=D)*T*((ne+1)*T-ne)+I}function se(T,I,F,D,ne){return ne===void 0&&(ne=1.70158),F*((T=T/D-1)*T*((ne+1)*T+ne)+1)+I}function ce(T,I,F,D,ne){return ne===void 0&&(ne=1.70158),T/=D/2,T<1?F/2*(T*T*(((ne*=1.525)+1)*T-ne))+I:F/2*((T-=2)*T*(((ne*=1.525)+1)*T+ne)+2)+I}function he(T,I,F,D){return F-V(D-T,0,F,D)+I}function V(T,I,F,D){return(T/=D)<1/2.75?F*(7.5625*T*T)+I:T<2/2.75?F*(7.5625*(T-=1.5/2.75)*T+.75)+I:T<2.5/2.75?F*(7.5625*(T-=2.25/2.75)*T+.9375)+I:F*(7.5625*(T-=2.625/2.75)*T+.984375)+I}function Z(T,I,F,D){return T<D/2?he(T*2,0,F,D)*.5+I:V(T*2-D,0,F,D)*.5+F*.5+I}t.util.ease={easeInQuad:function(T,I,F,D){return F*(T/=D)*T+I},easeOutQuad:function(T,I,F,D){return-F*(T/=D)*(T-2)+I},easeInOutQuad:function(T,I,F,D){return T/=D/2,T<1?F/2*T*T+I:-F/2*(--T*(T-2)-1)+I},easeInCubic:function(T,I,F,D){return F*(T/=D)*T*T+I},easeOutCubic:h,easeInOutCubic:f,easeInQuart:o,easeOutQuart:l,easeInOutQuart:a,easeInQuint:u,easeOutQuint:g,easeInOutQuint:d,easeInSine:v,easeOutSine:_,easeInOutSine:y,easeInExpo:b,easeOutExpo:w,easeInOutExpo:C,easeInCirc:S,easeOutCirc:O,easeInOutCirc:B,easeInElastic:W,easeOutElastic:K,easeInOutElastic:z,easeInBack:re,easeOutBack:se,easeInOutBack:ce,easeInBounce:he,easeOutBounce:V,easeInOutBounce:Z}}(),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.util.object.clone,o=i.util.toFixed,l=i.util.parseUnit,a=i.util.multiplyTransformMatrices,u=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],d=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],_={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},y={stroke:"strokeOpacity",fill:"fillOpacity"},b="font-size",w="clip-path";i.svgValidTagNamesRegEx=O(u),i.svgViewBoxElementsRegEx=O(g),i.svgInvalidAncestorsRegEx=O(d),i.svgValidParentsRegEx=O(v),i.cssRules={},i.gradientDefs={},i.clipPaths={};function C(M){return M in _?_[M]:M}function S(M,P,U,R){var L=Array.isArray(P),N;if((M==="fill"||M==="stroke")&&P==="none")P="";else{if(M==="strokeUniform")return P==="non-scaling-stroke";if(M==="strokeDashArray")P==="none"?P=null:P=P.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(M==="transformMatrix")U&&U.transformMatrix?P=a(U.transformMatrix,i.parseTransformAttribute(P)):P=i.parseTransformAttribute(P);else if(M==="visible")P=P!=="none"&&P!=="hidden",U&&U.visible===!1&&(P=!1);else if(M==="opacity")P=parseFloat(P),U&&typeof U.opacity<"u"&&(P*=U.opacity);else if(M==="textAnchor")P=P==="start"?"left":P==="end"?"right":"center";else if(M==="charSpacing")N=l(P,R)/R*1e3;else if(M==="paintFirst"){var Q=P.indexOf("fill"),oe=P.indexOf("stroke"),P="fill";(Q>-1&&oe>-1&&oe<Q||Q===-1&&oe>-1)&&(P="stroke")}else{if(M==="href"||M==="xlink:href"||M==="font")return P;if(M==="imageSmoothing")return P==="optimizeQuality";N=L?P.map(l):l(P,R)}}return!L&&isNaN(N)?P:N}function O(M){return new RegExp("^("+M.join("|")+")\\b","i")}function B(M){for(var P in y)if(!(typeof M[y[P]]>"u"||M[P]==="")){if(typeof M[P]>"u"){if(!i.Object.prototype[P])continue;M[P]=i.Object.prototype[P]}if(M[P].indexOf("url(")!==0){var U=new i.Color(M[P]);M[P]=U.setAlpha(o(U.getAlpha()*M[y[P]],2)).toRgba()}}return M}function W(M,P){var U,R=[],L,N,Q;for(N=0,Q=P.length;N<Q;N++)U=P[N],L=M.getElementsByTagName(U),R=R.concat(Array.prototype.slice.call(L));return R}i.parseTransformAttribute=function(){function M(J,ue){var ge=i.util.cos(ue[0]),te=i.util.sin(ue[0]),ve=0,ye=0;ue.length===3&&(ve=ue[1],ye=ue[2]),J[0]=ge,J[1]=te,J[2]=-te,J[3]=ge,J[4]=ve-(ge*ve-te*ye),J[5]=ye-(te*ve+ge*ye)}function P(J,ue){var ge=ue[0],te=ue.length===2?ue[1]:ue[0];J[0]=ge,J[3]=te}function U(J,ue,ge){J[ge]=Math.tan(i.util.degreesToRadians(ue[0]))}function R(J,ue){J[4]=ue[0],ue.length===2&&(J[5]=ue[1])}var L=i.iMatrix,N=i.reNum,Q=i.commaWsp,oe="(?:(skewX)\\s*\\(\\s*("+N+")\\s*\\))",A="(?:(skewY)\\s*\\(\\s*("+N+")\\s*\\))",E="(?:(rotate)\\s*\\(\\s*("+N+")(?:"+Q+"("+N+")"+Q+"("+N+"))?\\s*\\))",k="(?:(scale)\\s*\\(\\s*("+N+")(?:"+Q+"("+N+"))?\\s*\\))",$="(?:(translate)\\s*\\(\\s*("+N+")(?:"+Q+"("+N+"))?\\s*\\))",H="(?:(matrix)\\s*\\(\\s*("+N+")"+Q+"("+N+")"+Q+"("+N+")"+Q+"("+N+")"+Q+"("+N+")"+Q+"("+N+")\\s*\\))",j="(?:"+H+"|"+$+"|"+k+"|"+E+"|"+oe+"|"+A+")",Y="(?:"+j+"(?:"+Q+"*"+j+")*)",ee="^\\s*(?:"+Y+"?)\\s*$",ae=new RegExp(ee),ie=new RegExp(j,"g");return function(J){var ue=L.concat(),ge=[];if(!J||J&&!ae.test(J))return ue;J.replace(ie,function(ve){var ye=new RegExp(j).exec(ve).filter(function(nt){return!!nt}),Te=ye[1],Re=ye.slice(2).map(parseFloat);switch(Te){case"translate":R(ue,Re);break;case"rotate":Re[0]=i.util.degreesToRadians(Re[0]),M(ue,Re);break;case"scale":P(ue,Re);break;case"skewX":U(ue,Re,2);break;case"skewY":U(ue,Re,1);break;case"matrix":ue=Re;break}ge.push(ue.concat()),ue=L.concat()});for(var te=ge[0];ge.length>1;)ge.shift(),te=i.util.multiplyTransformMatrices(te,ge[0]);return te}}();function K(M,P){var U,R;M.replace(/;\s*$/,"").split(";").forEach(function(L){var N=L.split(":");U=N[0].trim().toLowerCase(),R=N[1].trim(),P[U]=R})}function z(M,P){var U,R;for(var L in M)typeof M[L]>"u"||(U=L.toLowerCase(),R=M[L],P[U]=R)}function re(M,P){var U={};for(var R in i.cssRules[P])if(se(M,R.split(" ")))for(var L in i.cssRules[P][R])U[L]=i.cssRules[P][R][L];return U}function se(M,P){var U,R=!0;return U=he(M,P.pop()),U&&P.length&&(R=ce(M,P)),U&&R&&P.length===0}function ce(M,P){for(var U,R=!0;M.parentNode&&M.parentNode.nodeType===1&&P.length;)R&&(U=P.pop()),M=M.parentNode,R=he(M,U);return P.length===0}function he(M,P){var U=M.nodeName,R=M.getAttribute("class"),L=M.getAttribute("id"),N,Q;if(N=new RegExp("^"+U,"i"),P=P.replace(N,""),L&&P.length&&(N=new RegExp("#"+L+"(?![a-zA-Z\\-]+)","i"),P=P.replace(N,"")),R&&P.length)for(R=R.split(" "),Q=R.length;Q--;)N=new RegExp("\\."+R[Q]+"(?![a-zA-Z\\-]+)","i"),P=P.replace(N,"");return P.length===0}function V(M,P){var U;if(M.getElementById&&(U=M.getElementById(P)),U)return U;var R,L,N,Q=M.getElementsByTagName("*");for(L=0,N=Q.length;L<N;L++)if(R=Q[L],P===R.getAttribute("id"))return R}function Z(M){for(var P=W(M,["use","svg:use"]),U=0;P.length&&U<P.length;){var R=P[U],L=R.getAttribute("xlink:href")||R.getAttribute("href");if(L===null)return;var N=L.slice(1),Q=R.getAttribute("x")||0,oe=R.getAttribute("y")||0,A=V(M,N).cloneNode(!0),E=(A.getAttribute("transform")||"")+" translate("+Q+", "+oe+")",k,$=P.length,H,j,Y,ee,ae=i.svgNS;if(I(A),/^svg$/i.test(A.nodeName)){var ie=A.ownerDocument.createElementNS(ae,"g");for(j=0,Y=A.attributes,ee=Y.length;j<ee;j++)H=Y.item(j),ie.setAttributeNS(ae,H.nodeName,H.nodeValue);for(;A.firstChild;)ie.appendChild(A.firstChild);A=ie}for(j=0,Y=R.attributes,ee=Y.length;j<ee;j++)H=Y.item(j),!(H.nodeName==="x"||H.nodeName==="y"||H.nodeName==="xlink:href"||H.nodeName==="href")&&(H.nodeName==="transform"?E=H.nodeValue+" "+E:A.setAttribute(H.nodeName,H.nodeValue));A.setAttribute("transform",E),A.setAttribute("instantiated_by_use","1"),A.removeAttribute("id"),k=R.parentNode,k.replaceChild(A,R),P.length===$&&U++}}var T=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function I(M){if(!i.svgViewBoxElementsRegEx.test(M.nodeName))return{};var P=M.getAttribute("viewBox"),U=1,R=1,L=0,N=0,Q,oe,A,E,k=M.getAttribute("width"),$=M.getAttribute("height"),H=M.getAttribute("x")||0,j=M.getAttribute("y")||0,Y=M.getAttribute("preserveAspectRatio")||"",ee=!P||!(P=P.match(T)),ae=!k||!$||k==="100%"||$==="100%",ie=ee&&ae,J={},ue="",ge=0,te=0;if(J.width=0,J.height=0,J.toBeParsed=ie,ee&&(H||j)&&M.parentNode&&M.parentNode.nodeName!=="#document"&&(ue=" translate("+l(H)+" "+l(j)+") ",A=(M.getAttribute("transform")||"")+ue,M.setAttribute("transform",A),M.removeAttribute("x"),M.removeAttribute("y")),ie)return J;if(ee)return J.width=l(k),J.height=l($),J;if(L=-parseFloat(P[1]),N=-parseFloat(P[2]),Q=parseFloat(P[3]),oe=parseFloat(P[4]),J.minX=L,J.minY=N,J.viewBoxWidth=Q,J.viewBoxHeight=oe,ae?(J.width=Q,J.height=oe):(J.width=l(k),J.height=l($),U=J.width/Q,R=J.height/oe),Y=i.util.parsePreserveAspectRatioAttribute(Y),Y.alignX!=="none"&&(Y.meetOrSlice==="meet"&&(R=U=U>R?R:U),Y.meetOrSlice==="slice"&&(R=U=U>R?U:R),ge=J.width-Q*U,te=J.height-oe*U,Y.alignX==="Mid"&&(ge/=2),Y.alignY==="Mid"&&(te/=2),Y.alignX==="Min"&&(ge=0),Y.alignY==="Min"&&(te=0)),U===1&&R===1&&L===0&&N===0&&H===0&&j===0)return J;if((H||j)&&M.parentNode.nodeName!=="#document"&&(ue=" translate("+l(H)+" "+l(j)+") "),A=ue+" matrix("+U+" 0 0 "+R+" "+(L*U+ge)+" "+(N*R+te)+") ",M.nodeName==="svg"){for(E=M.ownerDocument.createElementNS(i.svgNS,"g");M.firstChild;)E.appendChild(M.firstChild);M.appendChild(E)}else E=M,E.removeAttribute("x"),E.removeAttribute("y"),A=E.getAttribute("transform")+A;return E.setAttribute("transform",A),J}function F(M,P){for(;M&&(M=M.parentNode);)if(M.nodeName&&P.test(M.nodeName.replace("svg:",""))&&!M.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(M,P,U,R){if(M){Z(M);var L=i.Object.__uid++,N,Q,oe=I(M),A=i.util.toArray(M.getElementsByTagName("*"));if(oe.crossOrigin=R&&R.crossOrigin,oe.svgUid=L,A.length===0&&i.isLikelyNode){A=M.selectNodes('//*[name(.)!="svg"]');var E=[];for(N=0,Q=A.length;N<Q;N++)E[N]=A[N];A=E}var k=A.filter(function(H){return I(H),i.svgValidTagNamesRegEx.test(H.nodeName.replace("svg:",""))&&!F(H,i.svgInvalidAncestorsRegEx)});if(!k||k&&!k.length){P&&P([],{});return}var $={};A.filter(function(H){return H.nodeName.replace("svg:","")==="clipPath"}).forEach(function(H){var j=H.getAttribute("id");$[j]=i.util.toArray(H.getElementsByTagName("*")).filter(function(Y){return i.svgValidTagNamesRegEx.test(Y.nodeName.replace("svg:",""))})}),i.gradientDefs[L]=i.getGradientDefs(M),i.cssRules[L]=i.getCSSRules(M),i.clipPaths[L]=$,i.parseElements(k,function(H,j){P&&(P(H,oe,j,A),delete i.gradientDefs[L],delete i.cssRules[L],delete i.clipPaths[L])},f(oe),U,R)}};function D(M,P){var U=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],R="xlink:href",L=P.getAttribute(R).slice(1),N=V(M,L);if(N&&N.getAttribute(R)&&D(M,N),U.forEach(function(oe){N&&!P.hasAttribute(oe)&&N.hasAttribute(oe)&&P.setAttribute(oe,N.getAttribute(oe))}),!P.children.length)for(var Q=N.cloneNode(!0);Q.firstChild;)P.appendChild(Q.firstChild);P.removeAttribute(R)}var ne=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");h(i,{parseFontDeclaration:function(M,P){var U=M.match(ne);if(U){var R=U[1],L=U[3],N=U[4],Q=U[5],oe=U[6];R&&(P.fontStyle=R),L&&(P.fontWeight=isNaN(parseFloat(L))?L:parseFloat(L)),N&&(P.fontSize=l(N)),oe&&(P.fontFamily=oe),Q&&(P.lineHeight=Q==="normal"?1:Q)}},getGradientDefs:function(M){var P=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],U=W(M,P),R,L=0,N={};for(L=U.length;L--;)R=U[L],R.getAttribute("xlink:href")&&D(M,R),N[R.getAttribute("id")]=R;return N},parseAttributes:function(M,P,U){if(M){var R,L={},N,Q;typeof U>"u"&&(U=M.getAttribute("svgUid")),M.parentNode&&i.svgValidParentsRegEx.test(M.parentNode.nodeName)&&(L=i.parseAttributes(M.parentNode,P,U));var oe=P.reduce(function(Y,ee){return R=M.getAttribute(ee),R&&(Y[ee]=R),Y},{}),A=h(re(M,U),i.parseStyleAttribute(M));oe=h(oe,A),A[w]&&M.setAttribute(w,A[w]),N=Q=L.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,oe[b]&&(oe[b]=N=l(oe[b],Q));var E,k,$={};for(var H in oe)E=C(H),k=S(E,oe[H],L,N),$[E]=k;$&&$.font&&i.parseFontDeclaration($.font,$);var j=h(L,$);return i.svgValidParentsRegEx.test(M.nodeName)?j:B(j)}},parseElements:function(M,P,U,R,L){new i.ElementsParser(M,P,U,R,L).parse()},parseStyleAttribute:function(M){var P={},U=M.getAttribute("style");return U&&(typeof U=="string"?K(U,P):z(U,P)),P},parsePointsAttribute:function(M){if(!M)return null;M=M.replace(/,/g," ").trim(),M=M.split(/\s+/);var P=[],U,R;for(U=0,R=M.length;U<R;U+=2)P.push({x:parseFloat(M[U]),y:parseFloat(M[U+1])});return P},getCSSRules:function(M){var P=M.getElementsByTagName("style"),U,R,L={},N;for(U=0,R=P.length;U<R;U++){var Q=P[U].textContent;Q=Q.replace(/\/\*[\s\S]*?\*\//g,""),Q.trim()!==""&&(N=Q.split("}"),N=N.filter(function(oe){return oe.trim()}),N.forEach(function(oe){var A=oe.split("{"),E={},k=A[1].trim(),$=k.split(";").filter(function(ee){return ee.trim()});for(U=0,R=$.length;U<R;U++){var H=$[U].split(":"),j=H[0].trim(),Y=H[1].trim();E[j]=Y}oe=A[0].trim(),oe.split(",").forEach(function(ee){ee=ee.replace(/^svg/i,"").trim(),ee!==""&&(L[ee]?i.util.object.extend(L[ee],E):L[ee]=i.util.object.clone(E))})}))}return L},loadSVGFromURL:function(M,P,U,R){M=M.replace(/^\n\s*/,"").trim(),new i.util.request(M,{method:"get",onComplete:L});function L(N){var Q=N.responseXML;if(!Q||!Q.documentElement)return P&&P(null),!1;i.parseSVGDocument(Q.documentElement,function(oe,A,E,k){P&&P(oe,A,E,k)},U,R)}},loadSVGFromString:function(M,P,U,R){var L=new i.window.DOMParser,N=L.parseFromString(M.trim(),"text/xml");i.parseSVGDocument(N.documentElement,function(Q,oe,A,E){P(Q,oe,A,E)},U,R)}})}(e),t.ElementsParser=function(c,i,h,f,o,l){this.elements=c,this.callback=i,this.options=h,this.reviver=f,this.svgUid=h&&h.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=l},function(c){c.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},c.createObjects=function(){var i=this;this.elements.forEach(function(h,f){h.setAttribute("svgUid",i.svgUid),i.createObject(h,f)})},c.findTag=function(i){return t[t.util.string.capitalize(i.tagName.replace("svg:",""))]},c.createObject=function(i,h){var f=this.findTag(i);if(f&&f.fromElement)try{f.fromElement(i,this.createCallback(h,i),this.options)}catch(o){t.log(o)}else this.checkIfDone()},c.createCallback=function(i,h){var f=this;return function(o){var l;f.resolveGradient(o,h,"fill"),f.resolveGradient(o,h,"stroke"),o instanceof t.Image&&o._originalElement&&(l=o.parsePreserveAspectRatioAttribute(h)),o._removeTransformMatrix(l),f.resolveClipPath(o,h),f.reviver&&f.reviver(h,o),f.instances[i]=o,f.checkIfDone()}},c.extractPropertyDefinition=function(i,h,f){var o=i[h],l=this.regexUrl;if(l.test(o)){l.lastIndex=0;var a=l.exec(o)[1];return l.lastIndex=0,t[f][this.svgUid][a]}},c.resolveGradient=function(i,h,f){var o=this.extractPropertyDefinition(i,f,"gradientDefs");if(o){var l=h.getAttribute(f+"-opacity"),a=t.Gradient.fromElement(o,i,l,this.options);i.set(f,a)}},c.createClipPathCallback=function(i,h){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,h.push(f)}},c.resolveClipPath=function(i,h){var f=this.extractPropertyDefinition(i,"clipPath","clipPaths"),o,l,a,u,g,d;if(f){u=[],a=t.util.invertTransform(i.calcTransformMatrix());for(var v=f[0].parentNode,_=h;_.parentNode&&_.getAttribute("clip-path")!==i.clipPath;)_=_.parentNode;_.parentNode.appendChild(v);for(var y=0;y<f.length;y++)o=f[y],l=this.findTag(o),l.fromElement(o,this.createClipPathCallback(i,u),this.options);u.length===1?f=u[0]:f=new t.Group(u),g=t.util.multiplyTransformMatrices(a,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,_);var d=t.util.qrDecompose(g);f.flipX=!1,f.flipY=!1,f.set("scaleX",d.scaleX),f.set("scaleY",d.scaleY),f.angle=d.angle,f.skewX=d.skewX,f.skewY=0,f.setPositionByOrigin({x:d.translateX,y:d.translateY},"center","center"),i.clipPath=f}else delete i.clipPath},c.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(c){var i=c.fabric||(c.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=h;function h(f,o){this.x=f,this.y=o}h.prototype={type:"point",constructor:h,add:function(f){return new h(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new h(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new h(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new h(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new h(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new h(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,o){return typeof o>"u"&&(o=.5),o=Math.max(Math.min(1,o),0),new h(this.x+(f.x-this.x)*o,this.y+(f.y-this.y)*o)},distanceFrom:function(f){var o=this.x-f.x,l=this.y-f.y;return Math.sqrt(o*o+l*l)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new h(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new h(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,o){return this.x=f,this.y=o,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var o=this.x,l=this.y;this.x=f.x,this.y=f.y,f.x=o,f.y=l},clone:function(){return new h(this.x,this.y)}}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function h(f){this.status=f,this.points=[]}i.Intersection=h,i.Intersection.prototype={constructor:h,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},i.Intersection.intersectLineLine=function(f,o,l,a){var u,g=(a.x-l.x)*(f.y-l.y)-(a.y-l.y)*(f.x-l.x),d=(o.x-f.x)*(f.y-l.y)-(o.y-f.y)*(f.x-l.x),v=(a.y-l.y)*(o.x-f.x)-(a.x-l.x)*(o.y-f.y);if(v!==0){var _=g/v,y=d/v;0<=_&&_<=1&&0<=y&&y<=1?(u=new h("Intersection"),u.appendPoint(new i.Point(f.x+_*(o.x-f.x),f.y+_*(o.y-f.y)))):u=new h}else g===0||d===0?u=new h("Coincident"):u=new h("Parallel");return u},i.Intersection.intersectLinePolygon=function(f,o,l){var a=new h,u=l.length,g,d,v,_;for(_=0;_<u;_++)g=l[_],d=l[(_+1)%u],v=h.intersectLineLine(f,o,g,d),a.appendPoints(v.points);return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonPolygon=function(f,o){var l=new h,a=f.length,u;for(u=0;u<a;u++){var g=f[u],d=f[(u+1)%a],v=h.intersectLinePolygon(g,d,o);l.appendPoints(v.points)}return l.points.length>0&&(l.status="Intersection"),l},i.Intersection.intersectPolygonRectangle=function(f,o,l){var a=o.min(l),u=o.max(l),g=new i.Point(u.x,a.y),d=new i.Point(a.x,u.y),v=h.intersectLinePolygon(a,g,f),_=h.intersectLinePolygon(g,u,f),y=h.intersectLinePolygon(u,d,f),b=h.intersectLinePolygon(d,a,f),w=new h;return w.appendPoints(v.points),w.appendPoints(_.points),w.appendPoints(y.points),w.appendPoints(b.points),w.points.length>0&&(w.status="Intersection"),w}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function h(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}i.Color=h,i.Color.prototype={_tryParsingColor:function(o){var l;o in h.colorNameMap&&(o=h.colorNameMap[o]),o==="transparent"&&(l=[255,255,255,0]),l||(l=h.sourceFromHex(o)),l||(l=h.sourceFromRgb(o)),l||(l=h.sourceFromHsl(o)),l||(l=[0,0,0,1]),l&&this.setSource(l)},_rgbToHsl:function(o,l,a){o/=255,l/=255,a/=255;var u,g,d,v=i.util.array.max([o,l,a]),_=i.util.array.min([o,l,a]);if(d=(v+_)/2,v===_)u=g=0;else{var y=v-_;switch(g=d>.5?y/(2-v-_):y/(v+_),v){case o:u=(l-a)/y+(l<a?6:0);break;case l:u=(a-o)/y+2;break;case a:u=(o-l)/y+4;break}u/=6}return[Math.round(u*360),Math.round(g*100),Math.round(d*100)]},getSource:function(){return this._source},setSource:function(o){this._source=o},toRgb:function(){var o=this.getSource();return"rgb("+o[0]+","+o[1]+","+o[2]+")"},toRgba:function(){var o=this.getSource();return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},toHsl:function(){var o=this.getSource(),l=this._rgbToHsl(o[0],o[1],o[2]);return"hsl("+l[0]+","+l[1]+"%,"+l[2]+"%)"},toHsla:function(){var o=this.getSource(),l=this._rgbToHsl(o[0],o[1],o[2]);return"hsla("+l[0]+","+l[1]+"%,"+l[2]+"%,"+o[3]+")"},toHex:function(){var o=this.getSource(),l,a,u;return l=o[0].toString(16),l=l.length===1?"0"+l:l,a=o[1].toString(16),a=a.length===1?"0"+a:a,u=o[2].toString(16),u=u.length===1?"0"+u:u,l.toUpperCase()+a.toUpperCase()+u.toUpperCase()},toHexa:function(){var o=this.getSource(),l;return l=Math.round(o[3]*255),l=l.toString(16),l=l.length===1?"0"+l:l,this.toHex()+l.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(o){var l=this.getSource();return l[3]=o,this.setSource(l),this},toGrayscale:function(){var o=this.getSource(),l=parseInt((o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),10),a=o[3];return this.setSource([l,l,l,a]),this},toBlackWhite:function(o){var l=this.getSource(),a=(l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),u=l[3];return o=o||127,a=Number(a)<Number(o)?0:255,this.setSource([a,a,a,u]),this},overlayWith:function(o){o instanceof h||(o=new h(o));var l=[],a=this.getAlpha(),u=.5,g=this.getSource(),d=o.getSource(),v;for(v=0;v<3;v++)l.push(Math.round(g[v]*(1-u)+d[v]*u));return l[3]=a,this.setSource(l),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(o,l,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?o+(l-o)*6*a:a<1/2?l:a<2/3?o+(l-o)*(2/3-a)*6:o}i.Color.fromRgb=function(o){return h.fromSource(h.sourceFromRgb(o))},i.Color.sourceFromRgb=function(o){var l=o.match(h.reRGBa);if(l){var a=parseInt(l[1],10)/(/%$/.test(l[1])?100:1)*(/%$/.test(l[1])?255:1),u=parseInt(l[2],10)/(/%$/.test(l[2])?100:1)*(/%$/.test(l[2])?255:1),g=parseInt(l[3],10)/(/%$/.test(l[3])?100:1)*(/%$/.test(l[3])?255:1);return[parseInt(a,10),parseInt(u,10),parseInt(g,10),l[4]?parseFloat(l[4]):1]}},i.Color.fromRgba=h.fromRgb,i.Color.fromHsl=function(o){return h.fromSource(h.sourceFromHsl(o))},i.Color.sourceFromHsl=function(o){var l=o.match(h.reHSLa);if(l){var a=(parseFloat(l[1])%360+360)%360/360,u=parseFloat(l[2])/(/%$/.test(l[2])?100:1),g=parseFloat(l[3])/(/%$/.test(l[3])?100:1),d,v,_;if(u===0)d=v=_=g;else{var y=g<=.5?g*(u+1):g+u-g*u,b=g*2-y;d=f(b,y,a+1/3),v=f(b,y,a),_=f(b,y,a-1/3)}return[Math.round(d*255),Math.round(v*255),Math.round(_*255),l[4]?parseFloat(l[4]):1]}},i.Color.fromHsla=h.fromHsl,i.Color.fromHex=function(o){return h.fromSource(h.sourceFromHex(o))},i.Color.sourceFromHex=function(o){if(o.match(h.reHex)){var l=o.slice(o.indexOf("#")+1),a=l.length===3||l.length===4,u=l.length===8||l.length===4,g=a?l.charAt(0)+l.charAt(0):l.substring(0,2),d=a?l.charAt(1)+l.charAt(1):l.substring(2,4),v=a?l.charAt(2)+l.charAt(2):l.substring(4,6),_=u?a?l.charAt(3)+l.charAt(3):l.substring(6,8):"FF";return[parseInt(g,16),parseInt(d,16),parseInt(v,16),parseFloat((parseInt(_,16)/255).toFixed(2))]}},i.Color.fromSource=function(o){var l=new h;return l.setSource(o),l}}(e),function(c){var i=c.fabric||(c.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],o={},l="left",a="top",u="right",g="bottom",d="center",v={top:g,bottom:a,left:u,right:l,center:d},_=i.util.radiansToDegrees,y=Math.sign||function(E){return(E>0)-(E<0)||+E};function b(E,k){var $=E.angle+_(Math.atan2(k.y,k.x))+360;return Math.round($%360/45)}function w(E,k){var $=k.transform.target,H=$.canvas,j=i.util.object.clone(k);j.target=$,H&&H.fire("object:"+E,j),$.fire(E,k)}function C(E,k){var $=k.canvas,H=$.uniScaleKey,j=E[H];return $.uniformScaling&&!j||!$.uniformScaling&&j}function S(E){return E.originX===d&&E.originY===d}function O(E,k,$){var H=E.lockScalingX,j=E.lockScalingY;return!!(H&&j||!k&&(H||j)&&$||H&&k==="x"||j&&k==="y")}function B(E,k,$){var H="not-allowed",j=C(E,$),Y="";if(k.x!==0&&k.y===0?Y="x":k.x===0&&k.y!==0&&(Y="y"),O($,Y,j))return H;var ee=b($,k);return h[ee]+"-resize"}function W(E,k,$){var H="not-allowed";if(k.x!==0&&$.lockSkewingY||k.y!==0&&$.lockSkewingX)return H;var j=b($,k)%4;return f[j]+"-resize"}function K(E,k,$){return E[$.canvas.altActionKey]?o.skewCursorStyleHandler(E,k,$):o.scaleCursorStyleHandler(E,k,$)}function z(E,k,$){var H=E[$.canvas.altActionKey];if(k.x===0)return H?"skewX":"scaleY";if(k.y===0)return H?"skewY":"scaleX"}function re(E,k,$){return $.lockRotation?"not-allowed":k.cursorStyle}function se(E,k,$,H){return{e:E,transform:k,pointer:{x:$,y:H}}}function ce(E){return function(k,$,H,j){var Y=$.target,ee=Y.getCenterPoint(),ae=Y.translateToOriginPoint(ee,$.originX,$.originY),ie=E(k,$,H,j);return Y.setPositionByOrigin(ae,$.originX,$.originY),ie}}function he(E,k){return function($,H,j,Y){var ee=k($,H,j,Y);return ee&&w(E,se($,H,j,Y)),ee}}function V(E,k,$,H,j){var Y=E.target,ee=Y.controls[E.corner],ae=Y.canvas.getZoom(),ie=Y.padding/ae,J=Y.toLocalPoint(new i.Point(H,j),k,$);return J.x>=ie&&(J.x-=ie),J.x<=-ie&&(J.x+=ie),J.y>=ie&&(J.y-=ie),J.y<=ie&&(J.y+=ie),J.x-=ee.offsetX,J.y-=ee.offsetY,J}function Z(E){return E.flipX!==E.flipY}function T(E,k,$,H,j){if(E[k]!==0){var Y=E._getTransformedDimensions()[H],ee=j/Y*E[$];E.set($,ee)}}function I(E,k,$,H){var j=k.target,Y=j._getTransformedDimensions(0,j.skewY),ee=V(k,k.originX,k.originY,$,H),ae=Math.abs(ee.x*2)-Y.x,ie=j.skewX,J;ae<2?J=0:(J=_(Math.atan2(ae/j.scaleX,Y.y/j.scaleY)),k.originX===l&&k.originY===g&&(J=-J),k.originX===u&&k.originY===a&&(J=-J),Z(j)&&(J=-J));var ue=ie!==J;if(ue){var ge=j._getTransformedDimensions().y;j.set("skewX",J),T(j,"skewY","scaleY","y",ge)}return ue}function F(E,k,$,H){var j=k.target,Y=j._getTransformedDimensions(j.skewX,0),ee=V(k,k.originX,k.originY,$,H),ae=Math.abs(ee.y*2)-Y.y,ie=j.skewY,J;ae<2?J=0:(J=_(Math.atan2(ae/j.scaleY,Y.x/j.scaleX)),k.originX===l&&k.originY===g&&(J=-J),k.originX===u&&k.originY===a&&(J=-J),Z(j)&&(J=-J));var ue=ie!==J;if(ue){var ge=j._getTransformedDimensions().x;j.set("skewY",J),T(j,"skewX","scaleX","x",ge)}return ue}function D(E,k,$,H){var j=k.target,Y=j.skewX,ee,ae=k.originY;if(j.lockSkewingX)return!1;if(Y===0){var ie=V(k,d,d,$,H);ie.x>0?ee=l:ee=u}else Y>0&&(ee=ae===a?l:u),Y<0&&(ee=ae===a?u:l),Z(j)&&(ee=ee===l?u:l);k.originX=ee;var J=he("skewing",ce(I));return J(E,k,$,H)}function ne(E,k,$,H){var j=k.target,Y=j.skewY,ee,ae=k.originX;if(j.lockSkewingY)return!1;if(Y===0){var ie=V(k,d,d,$,H);ie.y>0?ee=a:ee=g}else Y>0&&(ee=ae===l?a:g),Y<0&&(ee=ae===l?g:a),Z(j)&&(ee=ee===a?g:a);k.originY=ee;var J=he("skewing",ce(F));return J(E,k,$,H)}function M(E,k,$,H){var j=k,Y=j.target,ee=Y.translateToOriginPoint(Y.getCenterPoint(),j.originX,j.originY);if(Y.lockRotation)return!1;var ae=Math.atan2(j.ey-ee.y,j.ex-ee.x),ie=Math.atan2(H-ee.y,$-ee.x),J=_(ie-ae+j.theta),ue=!0;if(Y.snapAngle>0){var ge=Y.snapAngle,te=Y.snapThreshold||ge,ve=Math.ceil(J/ge)*ge,ye=Math.floor(J/ge)*ge;Math.abs(J-ye)<te?J=ye:Math.abs(J-ve)<te&&(J=ve)}return J<0&&(J=360+J),J%=360,ue=Y.angle!==J,Y.angle=J,ue}function P(E,k,$,H,j){j=j||{};var Y=k.target,ee=Y.lockScalingX,ae=Y.lockScalingY,ie=j.by,J,ue,ge,te,ve=C(E,Y),ye=O(Y,ie,ve),Te,Re,nt=k.gestureScale;if(ye)return!1;if(nt)ue=k.scaleX*nt,ge=k.scaleY*nt;else{if(J=V(k,k.originX,k.originY,$,H),Te=ie!=="y"?y(J.x):1,Re=ie!=="x"?y(J.y):1,k.signX||(k.signX=Te),k.signY||(k.signY=Re),Y.lockScalingFlip&&(k.signX!==Te||k.signY!==Re))return!1;if(te=Y._getTransformedDimensions(),ve&&!ie){var Ot=Math.abs(J.x)+Math.abs(J.y),Ct=k.original,pn=Math.abs(te.x*Ct.scaleX/Y.scaleX)+Math.abs(te.y*Ct.scaleY/Y.scaleY),ur=Ot/pn;ue=Ct.scaleX*ur,ge=Ct.scaleY*ur}else ue=Math.abs(J.x*Y.scaleX/te.x),ge=Math.abs(J.y*Y.scaleY/te.y);S(k)&&(ue*=2,ge*=2),k.signX!==Te&&ie!=="y"&&(k.originX=v[k.originX],ue*=-1,k.signX=Te),k.signY!==Re&&ie!=="x"&&(k.originY=v[k.originY],ge*=-1,k.signY=Re)}var et=Y.scaleX,vt=Y.scaleY;return ie?(ie==="x"&&Y.set("scaleX",ue),ie==="y"&&Y.set("scaleY",ge)):(!ee&&Y.set("scaleX",ue),!ae&&Y.set("scaleY",ge)),et!==Y.scaleX||vt!==Y.scaleY}function U(E,k,$,H){return P(E,k,$,H)}function R(E,k,$,H){return P(E,k,$,H,{by:"x"})}function L(E,k,$,H){return P(E,k,$,H,{by:"y"})}function N(E,k,$,H){return E[k.target.canvas.altActionKey]?o.skewHandlerX(E,k,$,H):o.scalingY(E,k,$,H)}function Q(E,k,$,H){return E[k.target.canvas.altActionKey]?o.skewHandlerY(E,k,$,H):o.scalingX(E,k,$,H)}function oe(E,k,$,H){var j=k.target,Y=V(k,k.originX,k.originY,$,H),ee=j.strokeWidth/(j.strokeUniform?j.scaleX:1),ae=S(k)?2:1,ie=j.width,J=Math.abs(Y.x*ae/j.scaleX)-ee;return j.set("width",Math.max(J,0)),ie!==J}function A(E,k,$,H){var j=k.target,Y=$-k.offsetX,ee=H-k.offsetY,ae=!j.get("lockMovementX")&&j.left!==Y,ie=!j.get("lockMovementY")&&j.top!==ee;return ae&&j.set("left",Y),ie&&j.set("top",ee),(ae||ie)&&w("moving",se(E,k,$,H)),ae||ie}o.scaleCursorStyleHandler=B,o.skewCursorStyleHandler=W,o.scaleSkewCursorStyleHandler=K,o.rotationWithSnapping=he("rotating",ce(M)),o.scalingEqually=he("scaling",ce(U)),o.scalingX=he("scaling",ce(R)),o.scalingY=he("scaling",ce(L)),o.scalingYOrSkewingX=N,o.scalingXOrSkewingY=Q,o.changeWidth=he("resizing",ce(oe)),o.skewHandlerX=D,o.skewHandlerY=ne,o.dragHandler=A,o.scaleOrSkewActionName=z,o.rotationStyleHandler=re,o.fireEvent=w,o.wrapWithFixedAnchor=ce,o.wrapWithFireEvent=he,o.getLocalPoint=V,i.controlsUtils=o}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.degreesToRadians,f=i.controlsUtils;function o(a,u,g,d,v){d=d||{};var _=this.sizeX||d.cornerSize||v.cornerSize,y=this.sizeY||d.cornerSize||v.cornerSize,b=typeof d.transparentCorners<"u"?d.transparentCorners:v.transparentCorners,w=b?"stroke":"fill",C=!b&&(d.cornerStrokeColor||v.cornerStrokeColor),S=u,O=g,B;a.save(),a.fillStyle=d.cornerColor||v.cornerColor,a.strokeStyle=d.cornerStrokeColor||v.cornerStrokeColor,_>y?(B=_,a.scale(1,y/_),O=g*_/y):y>_?(B=y,a.scale(_/y,1),S=u*y/_):B=_,a.lineWidth=1,a.beginPath(),a.arc(S,O,B/2,0,2*Math.PI,!1),a[w](),C&&a.stroke(),a.restore()}function l(a,u,g,d,v){d=d||{};var _=this.sizeX||d.cornerSize||v.cornerSize,y=this.sizeY||d.cornerSize||v.cornerSize,b=typeof d.transparentCorners<"u"?d.transparentCorners:v.transparentCorners,w=b?"stroke":"fill",C=!b&&(d.cornerStrokeColor||v.cornerStrokeColor),S=_/2,O=y/2;a.save(),a.fillStyle=d.cornerColor||v.cornerColor,a.strokeStyle=d.cornerStrokeColor||v.cornerStrokeColor,a.lineWidth=1,a.translate(u,g),a.rotate(h(v.angle)),a[w+"Rect"](-S,-O,_,y),C&&a.strokeRect(-S,-O,_,y),a.restore()}f.renderCircleControl=o,f.renderSquareControl=l}(e),function(c){var i=c.fabric||(c.fabric={});function h(f){for(var o in f)this[o]=f[o]}i.Control=h,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,o){return o.cursorStyle},getActionName:function(f,o){return o.actionName},getVisibility:function(f,o){var l=f._controlsVisibility;return l&&typeof l[o]<"u"?l[o]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,o){var l=i.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},o);return l},calcCornerCoords:function(f,o,l,a,u){var g,d,v,_,y=u?this.touchSizeX:this.sizeX,b=u?this.touchSizeY:this.sizeY;if(y&&b&&y!==b){var w=Math.atan2(b,y),C=Math.sqrt(y*y+b*b)/2,S=w-i.util.degreesToRadians(f),O=Math.PI/2-w-i.util.degreesToRadians(f);g=C*i.util.cos(S),d=C*i.util.sin(S),v=C*i.util.cos(O),_=C*i.util.sin(O)}else{var B=y&&b?y:o;C=B*.7071067812;var S=i.util.degreesToRadians(45-f);g=v=C*i.util.cos(S),d=_=C*i.util.sin(S)}return{tl:{x:l-_,y:a-v},tr:{x:l+g,y:a-d},bl:{x:l-g,y:a+d},br:{x:l+_,y:a+v}}},render:function(f,o,l,a,u){switch(a=a||{},a.cornerStyle||u.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,f,o,l,a,u);break;default:i.controlsUtils.renderSquareControl.call(this,f,o,l,a,u)}}}}(e),function(){function c(l,a){var u=l.getAttribute("style"),g=l.getAttribute("offset")||0,d,v,_,y;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,u){var b=u.split(/\s*;\s*/);for(b[b.length-1]===""&&b.pop(),y=b.length;y--;){var w=b[y].split(/\s*:\s*/),C=w[0].trim(),S=w[1].trim();C==="stop-color"?d=S:C==="stop-opacity"&&(_=S)}}return d||(d=l.getAttribute("stop-color")||"rgb(0,0,0)"),_||(_=l.getAttribute("stop-opacity")),d=new t.Color(d),v=d.getAlpha(),_=isNaN(parseFloat(_))?1:parseFloat(_),_*=v*a,{offset:g,color:d.toRgb(),opacity:_}}function i(l){return{x1:l.getAttribute("x1")||0,y1:l.getAttribute("y1")||0,x2:l.getAttribute("x2")||"100%",y2:l.getAttribute("y2")||0}}function h(l){return{x1:l.getAttribute("fx")||l.getAttribute("cx")||"50%",y1:l.getAttribute("fy")||l.getAttribute("cy")||"50%",r1:0,x2:l.getAttribute("cx")||"50%",y2:l.getAttribute("cy")||"50%",r2:l.getAttribute("r")||"50%"}}var f=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(l){l||(l={}),l.coords||(l.coords={});var a,u=this;Object.keys(l).forEach(function(g){u[g]=l[g]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,a={x1:l.coords.x1||0,y1:l.coords.y1||0,x2:l.coords.x2||0,y2:l.coords.y2||0},this.type==="radial"&&(a.r1=l.coords.r1||0,a.r2=l.coords.r2||0),this.coords=a,this.colorStops=l.colorStops.slice()},addColorStop:function(l){for(var a in l){var u=new t.Color(l[a]);this.colorStops.push({offset:parseFloat(a),color:u.toRgb(),opacity:u.getAlpha()})}return this},toObject:function(l){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,a,l),a},toSVG:function(l,v){var u=f(this.coords,!0),g,d,v=v||{},_,y,b=f(this.colorStops,!0),w=u.r1>u.r2,C=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),S=-this.offsetX,O=-this.offsetY,B=!!v.additionalTransform,W=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(b.sort(function(ce,he){return ce.offset-he.offset}),W==="objectBoundingBox"?(S/=l.width,O/=l.height):(S+=l.width/2,O+=l.height/2),l.type==="path"&&this.gradientUnits!=="percentage"&&(S-=l.pathOffset.x,O-=l.pathOffset.y),C[4]-=S,C[5]-=O,y='id="SVGID_'+this.id+'" gradientUnits="'+W+'"',y+=' gradientTransform="'+(B?v.additionalTransform+" ":"")+t.util.matrixToSVG(C)+'" ',this.type==="linear"?_=["<linearGradient ",y,' x1="',u.x1,'" y1="',u.y1,'" x2="',u.x2,'" y2="',u.y2,`">
`]:this.type==="radial"&&(_=["<radialGradient ",y,' cx="',w?u.x1:u.x2,'" cy="',w?u.y1:u.y2,'" r="',w?u.r1:u.r2,'" fx="',w?u.x2:u.x1,'" fy="',w?u.y2:u.y1,`">
`]),this.type==="radial"){if(w)for(b=b.concat(),b.reverse(),g=0,d=b.length;g<d;g++)b[g].offset=1-b[g].offset;var K=Math.min(u.r1,u.r2);if(K>0){var z=Math.max(u.r1,u.r2),re=K/z;for(g=0,d=b.length;g<d;g++)b[g].offset+=re*(1-b[g].offset)}}for(g=0,d=b.length;g<d;g++){var se=b[g];_.push("<stop ",'offset="',se.offset*100+"%",'" style="stop-color:',se.color,typeof se.opacity<"u"?";stop-opacity: "+se.opacity:";",`"/>
`)}return _.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),_.join("")},toLive:function(l){var a,u=t.util.object.clone(this.coords),g,d;if(this.type){for(this.type==="linear"?a=l.createLinearGradient(u.x1,u.y1,u.x2,u.y2):this.type==="radial"&&(a=l.createRadialGradient(u.x1,u.y1,u.r1,u.x2,u.y2,u.r2)),g=0,d=this.colorStops.length;g<d;g++){var v=this.colorStops[g].color,_=this.colorStops[g].opacity,y=this.colorStops[g].offset;typeof _<"u"&&(v=new t.Color(v).setAlpha(_).toRgba()),a.addColorStop(y,v)}return a}}}),t.util.object.extend(t.Gradient,{fromElement:function(l,a,u,g){var d=parseFloat(u)/(/%$/.test(u)?100:1);d=d<0?0:d>1?1:d,isNaN(d)&&(d=1);var v=l.getElementsByTagName("stop"),_,y=l.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",b=l.getAttribute("gradientTransform")||"",w=[],C,S,O=0,B=0,W;for(l.nodeName==="linearGradient"||l.nodeName==="LINEARGRADIENT"?(_="linear",C=i(l)):(_="radial",C=h(l)),S=v.length;S--;)w.push(c(v[S],d));W=t.parseTransformAttribute(b),o(a,C,g,y),y==="pixels"&&(O=-a.left,B=-a.top);var K=new t.Gradient({id:l.getAttribute("id"),type:_,coords:C,colorStops:w,gradientUnits:y,gradientTransform:W,offsetX:O,offsetY:B});return K}});function o(l,a,u,g){var d,v;Object.keys(a).forEach(function(_){d=a[_],d==="Infinity"?v=1:d==="-Infinity"?v=0:(v=parseFloat(a[_],10),typeof d=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(d)&&(v*=.01,g==="pixels"&&((_==="x1"||_==="x2"||_==="r2")&&(v*=u.viewBoxWidth||u.width),(_==="y1"||_==="y2")&&(v*=u.viewBoxHeight||u.height)))),a[_]=v})}}(),function(){var c=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,h){if(i||(i={}),this.id=t.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){h&&h(this);return}else{var f=this;this.source=t.util.createImage(),t.util.loadImage(i.source,function(o,l){f.source=o,h&&h(f,l)},null,this.crossOrigin)}},toObject:function(i){var h=t.Object.NUM_FRACTION_DIGITS,f,o;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),o={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:c(this.offsetX,h),offsetY:c(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,o,i),o},toSVG:function(i){var h=typeof this.source=="function"?this.source():this.source,f=h.width/i.width,o=h.height/i.height,l=this.offsetX/i.width,a=this.offsetY/i.height,u="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(o=1,a&&(o+=Math.abs(a))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,l&&(f+=Math.abs(l))),h.src?u=h.src:h.toDataURL&&(u=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+l+'" y="'+a+'" width="'+f+'" height="'+o+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+u+`"></image>
</pattern>
`},setOptions:function(i){for(var h in i)this[h]=i[h]},toLive:function(i){var h=this.source;return!h||typeof h.src<"u"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":i.createPattern(h,this.repeat)}})}(),function(c){var i=c.fabric||(c.fabric={}),h=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var o in f)this[o]=f[o];this.id=i.Object.__uid++},_parseShadow:function(f){var o=f.trim(),l=i.Shadow.reOffsetsAndBlur.exec(o)||[],a=o.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:a.trim(),offsetX:parseFloat(l[1],10)||0,offsetY:parseFloat(l[2],10)||0,blur:parseFloat(l[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var o=40,l=40,a=i.Object.NUM_FRACTION_DIGITS,u=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-f.angle)),g=20,d=new i.Color(this.color);return f.width&&f.height&&(o=h((Math.abs(u.x)+this.blur)/f.width,a)*100+g,l=h((Math.abs(u.y)+this.blur)/f.height,a)*100+g),f.flipX&&(u.x*=-1),f.flipY&&(u.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+l+'%" height="'+(100+2*l)+'%" x="-'+o+'%" width="'+(100+2*o)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,a)+`"></feGaussianBlur>
	<feOffset dx="`+h(u.x,a)+'" dy="'+h(u.y,a)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+d.toRgb()+'" flood-opacity="'+d.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},o=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(l){this[l]!==o[l]&&(f[l]=this[l])},this),f}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var c=t.util.object.extend,i=t.util.getElementOffset,h=t.util.removeFromArray,f=t.util.toFixed,o=t.util.transformPoint,l=t.util.invertTransform,a=t.util.getNodeCanvas,u=t.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(d,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(d,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(d,v){var _=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(d),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,_),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,_),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,_),v.overlayColor&&this.setOverlayColor(v.overlayColor,_),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var d=t.devicePixelRatio;this.__initRetinaScaling(d,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(d,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(d,v,_){v.setAttribute("width",this.width*d),v.setAttribute("height",this.height*d),_.scale(d,d)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(d,v,_){return this.__setBgOverlayImage("overlayImage",d,v,_)},setBackgroundImage:function(d,v,_){return this.__setBgOverlayImage("backgroundImage",d,v,_)},setOverlayColor:function(d,v){return this.__setBgOverlayColor("overlayColor",d,v)},setBackgroundColor:function(d,v){return this.__setBgOverlayColor("backgroundColor",d,v)},__setBgOverlayImage:function(d,v,_,y){return typeof v=="string"?t.util.loadImage(v,function(b,w){if(b){var C=new t.Image(b,y);this[d]=C,C.canvas=this}_&&_(b,w)},this,y&&y.crossOrigin):(y&&v.setOptions(y),this[d]=v,v&&(v.canvas=this),_&&_(v,!1)),this},__setBgOverlayColor:function(d,v,_){return this[d]=v,this._initGradient(v,d),this._initPattern(v,d,_),this},_createCanvasElement:function(){var d=u();if(!d||(d.style||(d.style={}),typeof d.getContext>"u"))throw g;return d},_initOptions:function(d){var v=this.lowerCanvasEl;this._setOptions(d),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(d){d&&d.getContext?this.lowerCanvasEl=d:this.lowerCanvasEl=t.util.getById(d)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(d,v){return this.setDimensions({width:d},v)},setHeight:function(d,v){return this.setDimensions({height:d},v)},setDimensions:function(d,v){var _;v=v||{};for(var y in d)_=d[y],v.cssOnly||(this._setBackstoreDimension(y,d[y]),_+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(y,_);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(d,v){return this.lowerCanvasEl[d]=v,this.upperCanvasEl&&(this.upperCanvasEl[d]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[d]=v),this[d]=v,this},_setCssDimension:function(d,v){return this.lowerCanvasEl.style[d]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[d]=v),this.wrapperEl&&(this.wrapperEl.style[d]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(d){var v=this._activeObject,_=this.backgroundImage,y=this.overlayImage,b,w,C;for(this.viewportTransform=d,w=0,C=this._objects.length;w<C;w++)b=this._objects[w],b.group||b.setCoords(!0);return v&&v.setCoords(),_&&_.setCoords(!0),y&&y.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(d,v){var _=d,y=this.viewportTransform.slice(0);d=o(d,l(this.viewportTransform)),y[0]=v,y[3]=v;var b=o(d,y);return y[4]+=_.x-b.x,y[5]+=_.y-b.y,this.setViewportTransform(y)},setZoom:function(d){return this.zoomToPoint(new t.Point(0,0),d),this},absolutePan:function(d){var v=this.viewportTransform.slice(0);return v[4]=-d.x,v[5]=-d.y,this.setViewportTransform(v)},relativePan:function(d){return this.absolutePan(new t.Point(-d.x-this.viewportTransform[4],-d.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(d){this.stateful&&d.setupState(),d._set("canvas",this),d.setCoords(),this.fire("object:added",{target:d}),d.fire("added")},_onObjectRemoved:function(d){this.fire("object:removed",{target:d}),d.fire("removed"),delete d.canvas},clearContext:function(d){return d.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var d=this.contextContainer;return this.renderCanvas(d,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var d={},v=this.width,_=this.height,y=l(this.viewportTransform);return d.tl=o({x:0,y:0},y),d.br=o({x:v,y:_},y),d.tr=new t.Point(d.br.x,d.tl.y),d.bl=new t.Point(d.tl.x,d.br.y),this.vptCoords=d,d},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(d,v){var _=this.viewportTransform,y=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(d),t.util.setImageSmoothing(d,this.imageSmoothingEnabled),this.fire("before:render",{ctx:d}),this._renderBackground(d),d.save(),d.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._renderObjects(d,v),d.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(d),y&&(y.canvas=this,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(d)),this._renderOverlay(d),this.controlsAboveOverlay&&this.interactive&&this.drawControls(d),this.fire("after:render",{ctx:d})},drawClipPathOnCanvas:function(d){var v=this.viewportTransform,_=this.clipPath;d.save(),d.transform(v[0],v[1],v[2],v[3],v[4],v[5]),d.globalCompositeOperation="destination-in",_.transform(d),d.scale(1/_.zoomX,1/_.zoomY),d.drawImage(_._cacheCanvas,-_.cacheTranslationX,-_.cacheTranslationY),d.restore()},_renderObjects:function(d,v){var _,y;for(_=0,y=v.length;_<y;++_)v[_]&&v[_].render(d)},_renderBackgroundOrOverlay:function(d,v){var _=this[v+"Color"],y=this[v+"Image"],b=this.viewportTransform,w=this[v+"Vpt"];if(!(!_&&!y)){if(_){d.save(),d.beginPath(),d.moveTo(0,0),d.lineTo(this.width,0),d.lineTo(this.width,this.height),d.lineTo(0,this.height),d.closePath(),d.fillStyle=_.toLive?_.toLive(d,this):_,w&&d.transform(b[0],b[1],b[2],b[3],b[4],b[5]),d.transform(1,0,0,1,_.offsetX||0,_.offsetY||0);var C=_.gradientTransform||_.patternTransform;C&&d.transform(C[0],C[1],C[2],C[3],C[4],C[5]),d.fill(),d.restore()}y&&(d.save(),w&&d.transform(b[0],b[1],b[2],b[3],b[4],b[5]),y.render(d),d.restore())}},_renderBackground:function(d){this._renderBackgroundOrOverlay(d,"background")},_renderOverlay:function(d){this._renderBackgroundOrOverlay(d,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(d){return this._centerObject(d,new t.Point(this.getCenterPoint().x,d.getCenterPoint().y))},centerObjectV:function(d){return this._centerObject(d,new t.Point(d.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(d){var v=this.getCenterPoint();return this._centerObject(d,v)},viewportCenterObject:function(d){var v=this.getVpCenter();return this._centerObject(d,v)},viewportCenterObjectH:function(d){var v=this.getVpCenter();return this._centerObject(d,new t.Point(v.x,d.getCenterPoint().y)),this},viewportCenterObjectV:function(d){var v=this.getVpCenter();return this._centerObject(d,new t.Point(d.getCenterPoint().x,v.y))},getVpCenter:function(){var d=this.getCenterPoint(),v=l(this.viewportTransform);return o(d,v)},_centerObject:function(d,v){return d.setPositionByOrigin(v,"center","center"),d.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(d){return this.toDatalessObject(d)},toObject:function(d){return this._toObjectMethod("toObject",d)},toDatalessObject:function(d){return this._toObjectMethod("toDatalessObject",d)},_toObjectMethod:function(d,v){var _=this.clipPath,y={version:t.version,objects:this._toObjects(d,v)};return _&&!_.excludeFromExport&&(y.clipPath=this._toObject(this.clipPath,d,v)),c(y,this.__serializeBgOverlay(d,v)),t.util.populateWithProperties(this,y,v),y},_toObjects:function(d,v){return this._objects.filter(function(_){return!_.excludeFromExport}).map(function(_){return this._toObject(_,d,v)},this)},_toObject:function(d,v,_){var y;this.includeDefaultValues||(y=d.includeDefaultValues,d.includeDefaultValues=!1);var b=d[v](_);return this.includeDefaultValues||(d.includeDefaultValues=y),b},__serializeBgOverlay:function(d,v){var _={},y=this.backgroundImage,b=this.overlayImage,w=this.backgroundColor,C=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(_.background=w.toObject(v)):w&&(_.background=w),C&&C.toObject?C.excludeFromExport||(_.overlay=C.toObject(v)):C&&(_.overlay=C),y&&!y.excludeFromExport&&(_.backgroundImage=this._toObject(y,d,v)),b&&!b.excludeFromExport&&(_.overlayImage=this._toObject(b,d,v)),_},svgViewportTransformation:!0,toSVG:function(d,v){d||(d={}),d.reviver=v;var _=[];return this._setSVGPreamble(_,d),this._setSVGHeader(_,d),this.clipPath&&_.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(_,"background"),this._setSVGBgOverlayImage(_,"backgroundImage",v),this._setSVGObjects(_,v),this.clipPath&&_.push(`</g>
`),this._setSVGBgOverlayColor(_,"overlay"),this._setSVGBgOverlayImage(_,"overlayImage",v),_.push("</svg>"),_.join("")},_setSVGPreamble:function(d,v){v.suppressPreamble||d.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(d,v){var _=v.width||this.width,y=v.height||this.height,b,w='viewBox="0 0 '+this.width+" "+this.height+'" ',C=t.Object.NUM_FRACTION_DIGITS;v.viewBox?w='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(b=this.viewportTransform,w='viewBox="'+f(-b[4]/b[0],C)+" "+f(-b[5]/b[3],C)+" "+f(this.width/b[0],C)+" "+f(this.height/b[3],C)+'" '),d.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',_,'" ','height="',y,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(d){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(d.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var d=this,v=["background","overlay"].map(function(_){var y=d[_+"Color"];if(y&&y.toLive){var b=d[_+"Vpt"],w=d.viewportTransform,C={width:d.width/(b?w[0]:1),height:d.height/(b?w[3]:1)};return y.toSVG(C,{additionalTransform:b?t.util.matrixToSVG(w):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var d="",v={},_,y,b,w,C,S,O,B,W,K=t.fontPaths,z=[];for(this._objects.forEach(function se(ce){z.push(ce),ce._objects&&ce._objects.forEach(se)}),B=0,W=z.length;B<W;B++)if(_=z[B],y=_.fontFamily,!(_.type.indexOf("text")===-1||v[y]||!K[y])&&(v[y]=!0,!!_.styles)){b=_.styles;for(C in b){w=b[C];for(O in w)S=w[O],y=S.fontFamily,!v[y]&&K[y]&&(v[y]=!0)}}for(var re in v)d+=[`		@font-face {
`,"			font-family: '",re,`';
`,"			src: url('",K[re],`');
`,`		}
`].join("");return d&&(d=['	<style type="text/css">',`<![CDATA[
`,d,"]]>",`</style>
`].join("")),d},_setSVGObjects:function(d,v){var _,y,b,w=this._objects;for(y=0,b=w.length;y<b;y++)_=w[y],!_.excludeFromExport&&this._setSVGObject(d,_,v)},_setSVGObject:function(d,v,_){d.push(v.toSVG(_))},_setSVGBgOverlayImage:function(d,v,_){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&d.push(this[v].toSVG(_))},_setSVGBgOverlayColor:function(d,v){var _=this[v+"Color"],y=this.viewportTransform,b=this.width,w=this.height;if(_)if(_.toLive){var C=_.repeat,S=t.util.invertTransform(y),O=this[v+"Vpt"],B=O?t.util.matrixToSVG(S):"";d.push('<rect transform="'+B+" translate(",b/2,",",w/2,')"',' x="',_.offsetX-b/2,'" y="',_.offsetY-w/2,'" ','width="',C==="repeat-y"||C==="no-repeat"?_.source.width:b,'" height="',C==="repeat-x"||C==="no-repeat"?_.source.height:w,'" fill="url(#SVGID_'+_.id+')"',`></rect>
`)}else d.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',_,'"',`></rect>
`)},sendToBack:function(d){if(!d)return this;var v=this._activeObject,_,y,b;if(d===v&&d.type==="activeSelection")for(b=v._objects,_=b.length;_--;)y=b[_],h(this._objects,y),this._objects.unshift(y);else h(this._objects,d),this._objects.unshift(d);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(d){if(!d)return this;var v=this._activeObject,_,y,b;if(d===v&&d.type==="activeSelection")for(b=v._objects,_=0;_<b.length;_++)y=b[_],h(this._objects,y),this._objects.push(y);else h(this._objects,d),this._objects.push(d);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(d,v){if(!d)return this;var _=this._activeObject,y,b,w,C,S,O=0;if(d===_&&d.type==="activeSelection")for(S=_._objects,y=0;y<S.length;y++)b=S[y],w=this._objects.indexOf(b),w>0+O&&(C=w-1,h(this._objects,b),this._objects.splice(C,0,b)),O++;else w=this._objects.indexOf(d),w!==0&&(C=this._findNewLowerIndex(d,w,v),h(this._objects,d),this._objects.splice(C,0,d));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(d,v,_){var y,b;if(_)for(y=v,b=v-1;b>=0;--b){var w=d.intersectsWithObject(this._objects[b])||d.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(d);if(w){y=b;break}}else y=v-1;return y},bringForward:function(d,v){if(!d)return this;var _=this._activeObject,y,b,w,C,S,O=0;if(d===_&&d.type==="activeSelection")for(S=_._objects,y=S.length;y--;)b=S[y],w=this._objects.indexOf(b),w<this._objects.length-1-O&&(C=w+1,h(this._objects,b),this._objects.splice(C,0,b)),O++;else w=this._objects.indexOf(d),w!==this._objects.length-1&&(C=this._findNewUpperIndex(d,w,v),h(this._objects,d),this._objects.splice(C,0,d));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(d,v,_){var y,b,w;if(_)for(y=v,b=v+1,w=this._objects.length;b<w;++b){var C=d.intersectsWithObject(this._objects[b])||d.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(d);if(C){y=b;break}}else y=v+1;return y},moveTo:function(d,v){return h(this._objects,d),this._objects.splice(v,0,d),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(d){d.dispose&&d.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),c(t.StaticCanvas.prototype,t.Observable),c(t.StaticCanvas.prototype,t.Collection),c(t.StaticCanvas.prototype,t.DataURLExporter),c(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(d){var v=u();if(!v||!v.getContext)return null;var _=v.getContext("2d");if(!_)return null;switch(d){case"setLineDash":return typeof _.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var d=a(this.lowerCanvasEl);return d&&d.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(d){var v=a(this.lowerCanvasEl);return v&&v.createJPEGStream(d)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(c){c.strokeStyle=this.color,c.lineWidth=this.width,c.lineCap=this.strokeLineCap,c.miterLimit=this.strokeMiterLimit,c.lineJoin=this.strokeLineJoin,c.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(c){var i=this.canvas.viewportTransform;c.save(),c.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var c=this.canvas,i=this.shadow,h=c.contextTop,f=c.getZoom();c&&c._isRetinaScaling()&&(f*=t.devicePixelRatio),h.shadowColor=i.color,h.shadowBlur=i.blur*f,h.shadowOffsetX=i.offsetX*f,h.shadowOffsetY=i.offsetY*f}},needsFullRender:function(){var c=new t.Color(this.color);return c.getAlpha()<1||!!this.shadow},_resetShadow:function(){var c=this.canvas.contextTop;c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0},_isOutSideCanvas:function(c){return c.x<0||c.x>this.canvas.getWidth()||c.y<0||c.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(c){this.canvas=c,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(c,i,h){var f=i.midPointFrom(h);return c.quadraticCurveTo(i.x,i.y,f.x,f.y),f},onMouseDown:function(c,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(c),this._captureDrawingPath(c),this._render())},onMouseMove:function(c,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c))&&this._captureDrawingPath(c)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,f=h.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,h[f-2],h[f-1],!0),o.stroke(),o.restore()}},onMouseUp:function(c){return this.canvas._isMainEvent(c.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(c){var i=new t.Point(c.x,c.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(c){return this._points.length>1&&c.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(c),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(c){var i=new t.Point(c.x,c.y);return this._addPoint(i)},_render:function(c){var i,h,f=this._points[0],o=this._points[1];if(c=c||this.canvas.contextTop,this._saveAndTransform(c),c.beginPath(),this._points.length===2&&f.x===o.x&&f.y===o.y){var l=this.width/1e3;f=new t.Point(f.x,f.y),o=new t.Point(o.x,o.y),f.x-=l,o.x+=l}for(c.moveTo(f.x,f.y),i=1,h=this._points.length;i<h;i++)this._drawSegment(c,f,o),f=this._points[i],o=this._points[i+1];c.lineTo(f.x,f.y),c.stroke(),c.restore()},convertPointsToSVGPath:function(c){var i=this.width/1e3;return t.util.getSmoothPathFromPoints(c,i)},_isEmptySVGPath:function(c){var i=t.util.joinPath(c);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(c){var i=new t.Path(c,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new t.Shadow(this.shadow)),i},decimatePoints:function(c,i){if(c.length<=2)return c;var h=this.canvas.getZoom(),f=Math.pow(i/h,2),o,l=c.length-1,a=c[0],u=[a],g;for(o=1;o<l-1;o++)g=Math.pow(a.x-c[o].x,2)+Math.pow(a.y-c[o].y,2),g>=f&&(a=c[o],u.push(a));return u.push(c[l]),u},_finalizeAndAddPath:function(){var c=this.canvas.contextTop;c.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var h=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(c){this.canvas=c,this.points=[]},drawDot:function(c){var i=this.addPoint(c),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,i),h.restore()},dot:function(c,i){c.fillStyle=i.fill,c.beginPath(),c.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),c.closePath(),c.fill()},onMouseDown:function(c){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(c)},_render:function(){var c=this.canvas.contextTop,i,h,f=this.points;for(this._saveAndTransform(c),i=0,h=f.length;i<h;i++)this.dot(c,f[i]);c.restore()},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(c),this._render()):this.drawDot(c))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove,i,h;this.canvas.renderOnAddRemove=!1;var f=[];for(i=0,h=this.points.length;i<h;i++){var o=this.points[i],l=new t.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(l.shadow=new t.Shadow(this.shadow)),f.push(l)}var a=new t.Group(f);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},addPoint:function(c){var i=new t.Point(c.x,c.y),h=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return i.radius=h,i.fill=f,this.points.push(i),i}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(c){this.canvas=c,this.sprayChunks=[]},onMouseDown:function(c){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(c),this.render(this.sprayChunkPoints)},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.addSprayChunk(c),this.render(this.sprayChunkPoints))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],h=0,f=this.sprayChunks.length;h<f;h++)for(var o=this.sprayChunks[h],l=0,a=o.length;l<a;l++){var u=new t.Rect({width:o[l].width,height:o[l].width,left:o[l].x+1,top:o[l].y+1,originX:"center",originY:"center",fill:this.color});i.push(u)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var g=new t.Group(i);this.shadow&&g.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},_getOptimizedRects:function(c){var i={},h,f,o;for(f=0,o=c.length;f<o;f++)h=c[f].left+""+c[f].top,i[h]||(i[h]=c[f]);var l=[];for(h in i)l.push(i[h]);return l},render:function(c){var i=this.canvas.contextTop,h,f;for(i.fillStyle=this.color,this._saveAndTransform(i),h=0,f=c.length;h<f;h++){var o=c[h];typeof o.opacity<"u"&&(i.globalAlpha=o.opacity),i.fillRect(o.x,o.y,o.width,o.width)}i.restore()},_render:function(){var c=this.canvas.contextTop,i,h;for(c.fillStyle=this.color,this._saveAndTransform(c),i=0,h=this.sprayChunks.length;i<h;i++)this.render(this.sprayChunks[i]);c.restore()},addSprayChunk:function(c){this.sprayChunkPoints=[];var i,h,f,o=this.width/2,l;for(l=0;l<this.density;l++){i=t.util.getRandomInt(c.x-o,c.x+o),h=t.util.getRandomInt(c.y-o,c.y+o),this.dotWidthVariance?f=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var a=new t.Point(i,h);a.width=f,this.randomOpacity&&(a.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var c=20,i=5,h=t.util.createCanvasElement(),f=h.getContext("2d");return h.width=h.height=c+i,f.fillStyle=this.color,f.beginPath(),f.arc(c/2,c/2,c/2,0,Math.PI*2,!1),f.closePath(),f.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(c){return c.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(c){this.callSuper("_setBrushStyles",c),c.strokeStyle=this.getPattern(c)},createPath:function(c){var i=this.callSuper("createPath",c),h=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),i}}),function(){var c=t.util.getPointer,i=t.util.degreesToRadians,h=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(o,l){l||(l={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,l),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var o=this.getActiveObjects(),l,a,u;if(o.length>0&&!this.preserveObjectStacking){a=[],u=[];for(var g=0,d=this._objects.length;g<d;g++)l=this._objects[g],o.indexOf(l)===-1?a.push(l):u.push(l);o.length>1&&(this._activeObject._objects=u),a.push.apply(a,u)}else a=this._objects;return a},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var o=this.contextContainer;return this.renderCanvas(o,this._chooseObjectsToRender()),this},renderTopLayer:function(o){o.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(o),this.contextTopDirty=!0),o.restore()},renderTop:function(){var o=this.contextTop;return this.clearContext(o),this.renderTopLayer(o),this.fire("after:render"),this},_normalizePointer:function(o,l){var a=o.calcTransformMatrix(),u=t.util.invertTransform(a),g=this.restorePointerVpt(l);return t.util.transformPoint(g,u)},isTargetTransparent:function(o,l,a){if(o.shouldCache()&&o._cacheCanvas&&o!==this._activeObject){var u=this._normalizePointer(o,{x:l,y:a}),g=Math.max(o.cacheTranslationX+u.x*o.zoomX,0),d=Math.max(o.cacheTranslationY+u.y*o.zoomY,0),b=t.util.isTransparent(o._cacheContext,Math.round(g),Math.round(d),this.targetFindTolerance);return b}var v=this.contextCache,_=o.selectionBackgroundColor,y=this.viewportTransform;o.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(y[0],y[1],y[2],y[3],y[4],y[5]),o.render(v),v.restore(),o.selectionBackgroundColor=_;var b=t.util.isTransparent(v,l,a,this.targetFindTolerance);return b},_isSelectionKeyPressed:function(o){var l=!1;return Array.isArray(this.selectionKey)?l=!!this.selectionKey.find(function(a){return o[a]===!0}):l=o[this.selectionKey],l},_shouldClearSelection:function(o,l){var a=this.getActiveObjects(),u=this._activeObject;return!l||l&&u&&a.length>1&&a.indexOf(l)===-1&&u!==l&&!this._isSelectionKeyPressed(o)||l&&!l.evented||l&&!l.selectable&&u&&u!==l},_shouldCenterTransform:function(o,l,a){if(o){var u;return l==="scale"||l==="scaleX"||l==="scaleY"||l==="resizing"?u=this.centeredScaling||o.centeredScaling:l==="rotate"&&(u=this.centeredRotation||o.centeredRotation),u?!a:a}},_getOriginFromCorner:function(o,l){var a={x:o.originX,y:o.originY};return l==="ml"||l==="tl"||l==="bl"?a.x="right":(l==="mr"||l==="tr"||l==="br")&&(a.x="left"),l==="tl"||l==="mt"||l==="tr"?a.y="bottom":(l==="bl"||l==="mb"||l==="br")&&(a.y="top"),a},_getActionFromCorner:function(o,l,a,u){if(!l||!o)return"drag";var g=u.controls[l];return g.getActionName(a,g,u)},_setupCurrentTransform:function(o,l,a){if(l){var u=this.getPointer(o),g=l.__corner,d=l.controls[g],v=a&&g?d.getActionHandler(o,l,d):t.controlsUtils.dragHandler,_=this._getActionFromCorner(a,g,o,l),y=this._getOriginFromCorner(l,g),b=o[this.centeredKey],w={target:l,action:_,actionHandler:v,corner:g,scaleX:l.scaleX,scaleY:l.scaleY,skewX:l.skewX,skewY:l.skewY,offsetX:u.x-l.left,offsetY:u.y-l.top,originX:y.x,originY:y.y,ex:u.x,ey:u.y,lastX:u.x,lastY:u.y,theta:i(l.angle),width:l.width*l.scaleX,shiftKey:o.shiftKey,altKey:b,original:t.util.saveObjectTransform(l)};this._shouldCenterTransform(l,_,b)&&(w.originX="center",w.originY="center"),w.original.originX=y.x,w.original.originY=y.y,this._currentTransform=w,this._beforeTransform(o)}},setCursor:function(o){this.upperCanvasEl.style.cursor=o},_drawSelection:function(o){var l=this._groupSelector,a=new t.Point(l.ex,l.ey),u=t.util.transformPoint(a,this.viewportTransform),g=new t.Point(l.ex+l.left,l.ey+l.top),d=t.util.transformPoint(g,this.viewportTransform),v=Math.min(u.x,d.x),_=Math.min(u.y,d.y),y=Math.max(u.x,d.x),b=Math.max(u.y,d.y),w=this.selectionLineWidth/2;this.selectionColor&&(o.fillStyle=this.selectionColor,o.fillRect(v,_,y-v,b-_)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(o.lineWidth=this.selectionLineWidth,o.strokeStyle=this.selectionBorderColor,v+=w,_+=w,y-=w,b-=w,t.Object.prototype._setLineDash.call(this,o,this.selectionDashArray),o.strokeRect(v,_,y-v,b-_))},findTarget:function(o,l){if(!this.skipTargetFind){var a=!0,u=this.getPointer(o,a),g=this._activeObject,d=this.getActiveObjects(),v,_,y=h(o),b=d.length>1&&!l||d.length===1;if(this.targets=[],b&&g._findTargetCorner(u,y)||d.length>1&&!l&&g===this._searchPossibleTargets([g],u))return g;if(d.length===1&&g===this._searchPossibleTargets([g],u))if(this.preserveObjectStacking)v=g,_=this.targets,this.targets=[];else return g;var w=this._searchPossibleTargets(this._objects,u);return o[this.altSelectionKey]&&w&&v&&w!==v&&(w=v,this.targets=_),w}},_checkTarget:function(o,l,a){if(l&&l.visible&&l.evented&&l.containsPoint(o))if((this.perPixelTargetFind||l.perPixelTargetFind)&&!l.isEditing){var u=this.isTargetTransparent(l,a.x,a.y);if(!u)return!0}else return!0},_searchPossibleTargets:function(o,l){for(var a,u=o.length,g;u--;){var d=o[u],v=d.group?this._normalizePointer(d.group,l):l;if(this._checkTarget(v,d,l)){a=o[u],a.subTargetCheck&&a instanceof t.Group&&(g=this._searchPossibleTargets(a._objects,l),g&&this.targets.push(g));break}}return a},restorePointerVpt:function(o){return t.util.transformPoint(o,t.util.invertTransform(this.viewportTransform))},getPointer:function(o,l){if(this._absolutePointer&&!l)return this._absolutePointer;if(this._pointer&&l)return this._pointer;var a=c(o),u=this.upperCanvasEl,g=u.getBoundingClientRect(),d=g.width||0,v=g.height||0,_;(!d||!v)&&("top"in g&&"bottom"in g&&(v=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(d=Math.abs(g.right-g.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,l||(a=this.restorePointerVpt(a));var y=this.getRetinaScaling();return y!==1&&(a.x/=y,a.y/=y),d===0||v===0?_={width:1,height:1}:_={width:u.width/d,height:u.height/v},{x:a.x*_.width,y:a.y*_.height}},_createUpperCanvas:function(){var o=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),l=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),t.util.addClass(a,"upper-canvas "+o),this.wrapperEl.appendChild(a),this._copyCanvasStyle(l,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(o){var l=this.width||o.width,a=this.height||o.height;t.util.setStyle(o,{position:"absolute",width:l+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),o.width=l,o.height=a,t.util.makeElementUnselectable(o)},_copyCanvasStyle:function(o,l){l.style.cssText=o.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var o=this._activeObject;return o?o.type==="activeSelection"&&o._objects?o._objects.slice(0):[o]:[]},_onObjectRemoved:function(o){o===this._activeObject&&(this.fire("before:selection:cleared",{target:o}),this._discardActiveObject(),this.fire("selection:cleared",{target:o}),o.fire("deselected")),o===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",o)},_fireSelectionEvents:function(o,l){var a=!1,u=this.getActiveObjects(),g=[],d=[];o.forEach(function(v){u.indexOf(v)===-1&&(a=!0,v.fire("deselected",{e:l,target:v}),d.push(v))}),u.forEach(function(v){o.indexOf(v)===-1&&(a=!0,v.fire("selected",{e:l,target:v}),g.push(v))}),o.length>0&&u.length>0?a&&this.fire("selection:updated",{e:l,selected:g,deselected:d}):u.length>0?this.fire("selection:created",{e:l,selected:g}):o.length>0&&this.fire("selection:cleared",{e:l,deselected:d})},setActiveObject:function(o,l){var a=this.getActiveObjects();return this._setActiveObject(o,l),this._fireSelectionEvents(a,l),this},_setActiveObject:function(o,l){return this._activeObject===o||!this._discardActiveObject(l,o)||o.onSelect({e:l})?!1:(this._activeObject=o,!0)},_discardActiveObject:function(o,l){var a=this._activeObject;if(a){if(a.onDeselect({e:o,object:l}))return!1;this._activeObject=null}return!0},discardActiveObject:function(o){var l=this.getActiveObjects(),a=this.getActiveObject();return l.length&&this.fire("before:selection:cleared",{target:a,e:o}),this._discardActiveObject(o),this._fireSelectionEvents(l,o),this},dispose:function(){var o=this.wrapperEl;return this.removeListeners(),o.removeChild(this.upperCanvasEl),o.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(l){t.util.cleanUpJsdomNode(this[l]),this[l]=void 0}.bind(this)),o.parentNode&&o.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(o){var l=this._activeObject;l&&l._renderControls(o)},_toObject:function(o,l,a){var u=this._realizeGroupTransformOnObject(o),g=this.callSuper("_toObject",o,l,a);return this._unwindGroupTransformOnObject(o,u),g},_realizeGroupTransformOnObject:function(o){if(o.group&&o.group.type==="activeSelection"&&this._activeObject===o.group){var l=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],a={};return l.forEach(function(u){a[u]=o[u]}),t.util.addTransformToObject(o,this._activeObject.calcOwnMatrix()),a}else return null},_unwindGroupTransformOnObject:function(o,l){l&&o.set(l)},_setSVGObject:function(o,l,a){var u=this._realizeGroupTransformOnObject(l);this.callSuper("_setSVGObject",o,l,a),this._unwindGroupTransformOnObject(l,u)},setViewportTransform:function(o){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,o)}});for(var f in t.StaticCanvas)f!=="prototype"&&(t.Canvas[f]=t.StaticCanvas[f])}(),function(){var c=t.util.addListener,i=t.util.removeListener,h=3,f=2,o=1,l={passive:!1};function a(u,g){return u.button&&u.button===g-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(c,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(u,g){var d=this.upperCanvasEl,v=this._getEventPrefix();u(t.window,"resize",this._onResize),u(d,v+"down",this._onMouseDown),u(d,v+"move",this._onMouseMove,l),u(d,v+"out",this._onMouseOut),u(d,v+"enter",this._onMouseEnter),u(d,"wheel",this._onMouseWheel),u(d,"contextmenu",this._onContextMenu),u(d,"dblclick",this._onDoubleClick),u(d,"dragover",this._onDragOver),u(d,"dragenter",this._onDragEnter),u(d,"dragleave",this._onDragLeave),u(d,"drop",this._onDrop),this.enablePointerEvents||u(d,"touchstart",this._onTouchStart,l),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](d,"gesture",this._onGesture),eventjs[g](d,"drag",this._onDrag),eventjs[g](d,"orientation",this._onOrientationChange),eventjs[g](d,"shake",this._onShake),eventjs[g](d,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var u=this._getEventPrefix();i(t.document,u+"up",this._onMouseUp),i(t.document,"touchend",this._onTouchEnd,l),i(t.document,u+"move",this._onMouseMove,l),i(t.document,"touchmove",this._onMouseMove,l)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(u,g){this.__onTransformGesture&&this.__onTransformGesture(u,g)},_onDrag:function(u,g){this.__onDrag&&this.__onDrag(u,g)},_onMouseWheel:function(u){this.__onMouseWheel(u)},_onMouseOut:function(u){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:u}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:u});var d=this;this._hoveredTargets.forEach(function(v){d.fire("mouse:out",{target:g,e:u}),v&&g.fire("mouseout",{e:u})}),this._hoveredTargets=[]},_onMouseEnter:function(u){!this._currentTransform&&!this.findTarget(u)&&(this.fire("mouse:over",{target:null,e:u}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(u,g){this.__onOrientationChange&&this.__onOrientationChange(u,g)},_onShake:function(u,g){this.__onShake&&this.__onShake(u,g)},_onLongPress:function(u,g){this.__onLongPress&&this.__onLongPress(u,g)},_onDragOver:function(u){u.preventDefault();var g=this._simpleEventHandler("dragover",u);this._fireEnterLeaveEvents(g,u)},_onDrop:function(u){return this._simpleEventHandler("drop:before",u),this._simpleEventHandler("drop",u)},_onContextMenu:function(u){return this.stopContextMenu&&(u.stopPropagation(),u.preventDefault()),!1},_onDoubleClick:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"dblclick"),this._resetTransformEventData(u)},getPointerId:function(u){var g=u.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?u.pointerId:-1},_isMainEvent:function(u){return u.isPrimary===!0?!0:u.isPrimary===!1?!1:u.type==="touchend"&&u.touches.length===0?!0:u.changedTouches?u.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(u){u.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(u)),this.__onMouseDown(u),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();c(t.document,"touchend",this._onTouchEnd,l),c(t.document,"touchmove",this._onMouseMove,l),i(g,d+"down",this._onMouseDown)},_onMouseDown:function(u){this.__onMouseDown(u),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();i(g,d+"move",this._onMouseMove,l),c(t.document,d+"up",this._onMouseUp),c(t.document,d+"move",this._onMouseMove,l)},_onTouchEnd:function(u){if(!(u.touches.length>0)){this.__onMouseUp(u),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();i(t.document,"touchend",this._onTouchEnd,l),i(t.document,"touchmove",this._onMouseMove,l);var d=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){c(d.upperCanvasEl,g+"down",d._onMouseDown),d._willAddMouseDown=0},400)}},_onMouseUp:function(u){this.__onMouseUp(u),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();this._isMainEvent(u)&&(i(t.document,d+"up",this._onMouseUp),i(t.document,d+"move",this._onMouseMove,l),c(g,d+"move",this._onMouseMove,l))},_onMouseMove:function(u){!this.allowTouchScrolling&&u.preventDefault&&u.preventDefault(),this.__onMouseMove(u)},_onResize:function(){this.calcOffset()},_shouldRender:function(u){var g=this._activeObject;return!!g!=!!u||g&&u&&g!==u?!0:(g&&g.isEditing,!1)},__onMouseUp:function(u){var g,d=this._currentTransform,v=this._groupSelector,_=!1,y=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(u),g=this._target,this._handleEvent(u,"up:before"),a(u,h)){this.fireRightClick&&this._handleEvent(u,"up",h,y);return}if(a(u,f)){this.fireMiddleClick&&this._handleEvent(u,"up",f,y),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(u);return}if(this._isMainEvent(u)){if(d&&(this._finalizeCurrentTransform(u),_=d.actionPerformed),!y){var b=g===this._activeObject;this._maybeGroupObjects(u),_||(_=this._shouldRender(g)||!b&&g===this._activeObject)}var w,C;if(g){if(w=g._findTargetCorner(this.getPointer(u,!0),t.util.isTouchEvent(u)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,u),_=!0;else{var S=g.controls[w],O=S&&S.getMouseUpHandler(u,g,S);O&&(C=this.getPointer(u),O(u,d,C.x,C.y))}g.isMoving=!1}if(d&&(d.target!==g||d.corner!==w)){var B=d.target&&d.target.controls[d.corner],W=B&&B.getMouseUpHandler(u,g,S);C=C||this.getPointer(u),W&&W(u,d,C.x,C.y)}this._setCursorFromEvent(u,g),this._handleEvent(u,"up",o,y),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),_?this.requestRenderAll():y||this.renderTop()}},_simpleEventHandler:function(u,g){var d=this.findTarget(g),v=this.targets,_={e:g,target:d,subTargets:v};if(this.fire(u,_),d&&d.fire(u,_),!v)return d;for(var y=0;y<v.length;y++)v[y].fire(u,_);return d},_handleEvent:function(u,g,d,v){var _=this._target,y=this.targets||[],b={e:u,target:_,subTargets:y,button:d||o,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(b.currentTarget=this.findTarget(u),b.currentSubTargets=this.targets),this.fire("mouse:"+g,b),_&&_.fire("mouse"+g,b);for(var w=0;w<y.length;w++)y[w].fire("mouse"+g,b)},_finalizeCurrentTransform:function(u){var g=this._currentTransform,d=g.target,v={e:u,target:d,transform:g,action:g.action};d._scaling&&(d._scaling=!1),d.setCoords(),(g.actionPerformed||this.stateful&&d.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(u){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(u).requestRenderAll();var g=this.getPointer(u);this.freeDrawingBrush.onMouseDown(g,{e:u,pointer:g}),this._handleEvent(u,"down")},_onMouseMoveInDrawingMode:function(u){if(this._isCurrentlyDrawing){var g=this.getPointer(u);this.freeDrawingBrush.onMouseMove(g,{e:u,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(u,"move")},_onMouseUpInDrawingMode:function(u){var g=this.getPointer(u);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:u,pointer:g}),this._handleEvent(u,"up")},__onMouseDown:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"down:before");var g=this._target;if(a(u,h)){this.fireRightClick&&this._handleEvent(u,"down",h);return}if(a(u,f)){this.fireMiddleClick&&this._handleEvent(u,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(u);return}if(this._isMainEvent(u)&&!this._currentTransform){var d=this._pointer;this._previousPointer=d;var v=this._shouldRender(g),_=this._shouldGroup(u,g);if(this._shouldClearSelection(u,g)?this.discardActiveObject(u):_&&(this._handleGrouping(u,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var y=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,u);var b=g._findTargetCorner(this.getPointer(u,!0),t.util.isTouchEvent(u));if(g.__corner=b,g===this._activeObject&&(b||!_)){this._setupCurrentTransform(u,g,y);var w=g.controls[b],d=this.getPointer(u),C=w&&w.getMouseDownHandler(u,g,w);C&&C(u,this._currentTransform,d.x,d.y)}}this._handleEvent(u,"down"),(v||_)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(u){this._resetTransformEventData(),this._pointer=this.getPointer(u,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(u)||null},_beforeTransform:function(u){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:u,transform:g})},__onMouseMove:function(u){this._handleEvent(u,"move:before"),this._cacheTransformEventData(u);var g,d;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(u);return}if(this._isMainEvent(u)){var v=this._groupSelector;v?(d=this._absolutePointer,v.left=d.x-v.ex,v.top=d.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(u):(g=this.findTarget(u)||null,this._setCursorFromEvent(u,g),this._fireOverOutEvents(g,u)),this._handleEvent(u,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(u,g){var d=this._hoveredTarget,v=this._hoveredTargets,_=this.targets,y=Math.max(v.length,_.length);this.fireSyntheticInOutEvents(u,g,{oldTarget:d,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var b=0;b<y;b++)this.fireSyntheticInOutEvents(_[b],g,{oldTarget:v[b],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=u,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(u,g){var d=this._draggedoverTarget,v=this._hoveredTargets,_=this.targets,y=Math.max(v.length,_.length);this.fireSyntheticInOutEvents(u,g,{oldTarget:d,evtOut:"dragleave",evtIn:"dragenter"});for(var b=0;b<y;b++)this.fireSyntheticInOutEvents(_[b],g,{oldTarget:v[b],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=u},fireSyntheticInOutEvents:function(u,g,d){var v,_,y=d.oldTarget,b,w,C=y!==u,S=d.canvasEvtIn,O=d.canvasEvtOut;C&&(v={e:g,target:u,previousTarget:y},_={e:g,target:y,nextTarget:u}),w=u&&C,b=y&&C,b&&(O&&this.fire(O,_),y.fire(d.evtOut,_)),w&&(S&&this.fire(S,v),u.fire(d.evtIn,v))},__onMouseWheel:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"wheel"),this._resetTransformEventData()},_transformObject:function(u){var g=this.getPointer(u),d=this._currentTransform;d.reset=!1,d.shiftKey=u.shiftKey,d.altKey=u[this.centeredKey],this._performTransformAction(u,d,g),d.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(u,g,d){var v=d.x,_=d.y,y=g.action,b=!1,w=g.actionHandler;w&&(b=w(u,g,v,_)),y==="drag"&&b&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||b},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(u,g){if(!g)return this.setCursor(this.defaultCursor),!1;var d=g.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,_=(!v||!v.contains(g))&&g._findTargetCorner(this.getPointer(u,!0));_?this.setCursor(this.getCornerCursor(_,g,u)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(y){d=y.hoverCursor||d}),this.setCursor(d))},getCornerCursor:function(u,g,d){var v=g.controls[u];return v.cursorStyleHandler(d,v,g)}})}(),function(){var c=Math.min,i=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(h,f){var o=this._activeObject;return o&&this._isSelectionKeyPressed(h)&&f&&f.selectable&&this.selection&&(o!==f||o.type==="activeSelection")&&!f.onSelect({e:h})},_handleGrouping:function(h,f){var o=this._activeObject;o.__corner||f===o&&(f=this.findTarget(h,!0),!f||!f.selectable)||(o&&o.type==="activeSelection"?this._updateActiveSelection(f,h):this._createActiveSelection(f,h))},_updateActiveSelection:function(h,f){var o=this._activeObject,l=o._objects.slice(0);o.contains(h)?(o.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),o.size()===1&&this._setActiveObject(o.item(0),f)):(o.addWithUpdate(h),this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(l,f)},_createActiveSelection:function(h,f){var o=this.getActiveObjects(),l=this._createGroup(h);this._hoveredTarget=l,this._setActiveObject(l,f),this._fireSelectionEvents(o,f)},_createGroup:function(h){var f=this._objects,o=f.indexOf(this._activeObject)<f.indexOf(h),l=o?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(l,{canvas:this})},_groupSelectedObjects:function(h){var f=this._collectObjects(h),o;f.length===1?this.setActiveObject(f[0],h):f.length>1&&(o=new t.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(o,h))},_collectObjects:function(h){for(var f=[],o,l=this._groupSelector.ex,a=this._groupSelector.ey,u=l+this._groupSelector.left,g=a+this._groupSelector.top,d=new t.Point(c(l,u),c(a,g)),v=new t.Point(i(l,u),i(a,g)),_=!this.selectionFullyContained,y=l===u&&a===g,b=this._objects.length;b--&&(o=this._objects[b],!(!(!o||!o.selectable||!o.visible)&&(_&&o.intersectsWithRect(d,v,!0)||o.isContainedWithinRect(d,v,!0)||_&&o.containsPoint(d,null,!0)||_&&o.containsPoint(v,null,!0))&&(f.push(o),y))););return f.length>1&&(f=f.filter(function(w){return!w.onSelect({e:h})})),f},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(c){c||(c={});var i=c.format||"png",h=c.quality||1,f=(c.multiplier||1)*(c.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(f,c);return t.util.toDataURL(o,i,h)},toCanvasElement:function(c,i){c=c||1,i=i||{};var h=(i.width||this.width)*c,f=(i.height||this.height)*c,o=this.getZoom(),l=this.width,a=this.height,u=o*c,g=this.viewportTransform,d=(g[4]-(i.left||0))*c,v=(g[5]-(i.top||0))*c,_=this.interactive,y=[u,0,0,u,d,v],b=this.enableRetinaScaling,w=t.util.createCanvasElement(),C=this.contextTop;return w.width=h,w.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=y,this.width=h,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=g,this.width=l,this.height=a,this.calcViewportBoundaries(),this.interactive=_,this.enableRetinaScaling=b,this.contextTop=C,w}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(c,i,h){if(c){var f=typeof c=="string"?JSON.parse(c):t.util.object.clone(c),o=this,l=f.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(u){o.clear(),o._setBgOverlay(f,function(){l?o._enlivenObjects([l],function(g){o.clipPath=g[0],o.__setupCanvas.call(o,f,u,a,i)}):o.__setupCanvas.call(o,f,u,a,i)})},h),this}},__setupCanvas:function(c,i,h,f){var o=this;i.forEach(function(l,a){o.insertAt(l,a)}),this.renderOnAddRemove=h,delete c.objects,delete c.backgroundImage,delete c.overlayImage,delete c.background,delete c.overlay,this._setOptions(c),this.renderAll(),f&&f()},_setBgOverlay:function(c,i){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!c.backgroundImage&&!c.overlayImage&&!c.background&&!c.overlay){i&&i();return}var f=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",c.backgroundImage,h,f),this.__setBgOverlay("overlayImage",c.overlayImage,h,f),this.__setBgOverlay("backgroundColor",c.background,h,f),this.__setBgOverlay("overlayColor",c.overlay,h,f)},__setBgOverlay:function(c,i,h,f){var o=this;if(!i){h[c]=!0,f&&f();return}c==="backgroundImage"||c==="overlayImage"?t.util.enlivenObjects([i],function(l){o[c]=l[0],h[c]=!0,f&&f()}):this["set"+t.util.string.capitalize(c,!0)](i,function(){h[c]=!0,f&&f()})},_enlivenObjects:function(c,i,h){if(!c||c.length===0){i&&i([]);return}t.util.enlivenObjects(c,function(f){i&&i(f)},null,h)},_toDataURL:function(c,i){this.clone(function(h){i(h.toDataURL(c))})},_toDataURLWithMultiplier:function(c,i,h){this.clone(function(f){h(f.toDataURLWithMultiplier(c,i))})},clone:function(c,i){var h=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(f){f.loadFromJSON(h,function(){c&&c(f)})})},cloneWithoutData:function(c){var i=t.util.createCanvasElement();i.width=this.width,i.height=this.height;var h=new t.Canvas(i);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),c&&c(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):c&&c(h)}}),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.util.object.clone,o=i.util.toFixed,l=i.util.string.capitalize,a=i.util.degreesToRadians,u=!i.isLikelyNode,g=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:u,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(d){d&&this.setOptions(d)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(d){var v=i.perfLimitSizeTotal,_=d.width,y=d.height,b=i.maxCacheSideLimit,w=i.minCacheSideLimit;if(_<=b&&y<=b&&_*y<=v)return _<w&&(d.width=w),y<w&&(d.height=w),d;var C=_/y,S=i.util.limitDimsByArea(C,v),O=i.util.capValue,B=O(w,S.x,b),W=O(w,S.y,b);return _>B&&(d.zoomX/=_/B,d.width=B,d.capped=!0),y>W&&(d.zoomY/=y/W,d.height=W,d.capped=!0),d},_getCacheCanvasDimensions:function(){var d=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),_=v.x*d.scaleX/this.scaleX,y=v.y*d.scaleY/this.scaleY;return{width:_+g,height:y+g,zoomX:d.scaleX,zoomY:d.scaleY,x:_,y}},_updateCacheCanvas:function(){var d=this.canvas;if(this.noScaleCache&&d&&d._currentTransform){var v=d._currentTransform.target,_=d._currentTransform.action;if(this===v&&_.slice&&_.slice(0,5)==="scale")return!1}var y=this._cacheCanvas,b=this._limitCacheSize(this._getCacheCanvasDimensions()),w=i.minCacheSideLimit,C=b.width,S=b.height,O,B,W=b.zoomX,K=b.zoomY,z=C!==this.cacheWidth||S!==this.cacheHeight,re=this.zoomX!==W||this.zoomY!==K,se=z||re,ce=0,he=0,V=!1;if(z){var Z=this._cacheCanvas.width,T=this._cacheCanvas.height,I=C>Z||S>T,F=(C<Z*.9||S<T*.9)&&Z>w&&T>w;V=I||F,I&&!b.capped&&(C>w||S>w)&&(ce=C*.1,he=S*.1)}return this instanceof i.Text&&this.path&&(se=!0,V=!0,ce+=this.getHeightOfLine(0)*this.zoomX,he+=this.getHeightOfLine(0)*this.zoomY),se?(V?(y.width=Math.ceil(C+ce),y.height=Math.ceil(S+he)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,y.width,y.height)),O=b.x/2,B=b.y/2,this.cacheTranslationX=Math.round(y.width/2-O)+O,this.cacheTranslationY=Math.round(y.height/2-B)+B,this.cacheWidth=C,this.cacheHeight=S,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(W,K),this.zoomX=W,this.zoomY=K,!0):!1},setOptions:function(d){this._setOptions(d),this._initGradient(d.fill,"fill"),this._initGradient(d.stroke,"stroke"),this._initPattern(d.fill,"fill"),this._initPattern(d.stroke,"stroke")},transform:function(d){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&d===this.canvas.contextTop,_=this.calcTransformMatrix(!v);d.transform(_[0],_[1],_[2],_[3],_[4],_[5])},toObject:function(d){var v=i.Object.NUM_FRACTION_DIGITS,_={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:o(this.left,v),top:o(this.top,v),width:o(this.width,v),height:o(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,v),scaleX:o(this.scaleX,v),scaleY:o(this.scaleY,v),angle:o(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,v),skewY:o(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(_.clipPath=this.clipPath.toObject(d),_.clipPath.inverted=this.clipPath.inverted,_.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,_,d),this.includeDefaultValues||(_=this._removeDefaultValues(_)),_},toDatalessObject:function(d){return this.toObject(d)},_removeDefaultValues:function(d){var v=i.util.getKlass(d.type).prototype,_=v.stateProperties;return _.forEach(function(y){y==="left"||y==="top"||(d[y]===v[y]&&delete d[y],Array.isArray(d[y])&&Array.isArray(v[y])&&d[y].length===0&&v[y].length===0&&delete d[y])}),d},toString:function(){return"#<fabric."+l(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var d=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(d.scaleX),scaleY:Math.abs(d.scaleY)}},getTotalObjectScaling:function(){var d=this.getObjectScaling(),v=d.scaleX,_=d.scaleY;if(this.canvas){var y=this.canvas.getZoom(),b=this.canvas.getRetinaScaling();v*=y*b,_*=y*b}return{scaleX:v,scaleY:_}},getObjectOpacity:function(){var d=this.opacity;return this.group&&(d*=this.group.getObjectOpacity()),d},_set:function(d,v){var _=d==="scaleX"||d==="scaleY",y=this[d]!==v,b=!1;return _&&(v=this._constrainScale(v)),d==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):d==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):d==="shadow"&&v&&!(v instanceof i.Shadow)?v=new i.Shadow(v):d==="dirty"&&this.group&&this.group.set("dirty",v),this[d]=v,y&&(b=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(d)>-1?(this.dirty=!0,b&&this.group.set("dirty",!0)):b&&this.stateProperties.indexOf(d)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(d){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(d.save(),this._setupCompositeOperation(d),this.drawSelectionBackground(d),this.transform(d),this._setOpacity(d),this._setShadow(d,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(d)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(d),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),d.restore())},renderCache:function(d){d=d||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,d.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(d,v){if(d.save(),v.inverted?d.globalCompositeOperation="destination-out":d.globalCompositeOperation="destination-in",v.absolutePositioned){var _=i.util.invertTransform(this.calcTransformMatrix());d.transform(_[0],_[1],_[2],_[3],_[4],_[5])}v.transform(d),d.scale(1/v.zoomX,1/v.zoomY),d.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),d.restore()},drawObject:function(d,v){var _=this.fill,y=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(d)):this._renderBackground(d),this._render(d),this._drawClipPath(d,this.clipPath),this.fill=_,this.stroke=y},_drawClipPath:function(d,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(d,v))},drawCacheOnCanvas:function(d){d.scale(1/this.zoomX,1/this.zoomY),d.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(d){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!d&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!d){var v=this.cacheWidth/this.zoomX,_=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-_/2,v,_)}return!0}return!1},_renderBackground:function(d){if(this.backgroundColor){var v=this._getNonTransformedDimensions();d.fillStyle=this.backgroundColor,d.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(d)}},_setOpacity:function(d){this.group&&!this.group._transformDone?d.globalAlpha=this.getObjectOpacity():d.globalAlpha*=this.opacity},_setStrokeStyles:function(d,v){var _=v.stroke;_&&(d.lineWidth=v.strokeWidth,d.lineCap=v.strokeLineCap,d.lineDashOffset=v.strokeDashOffset,d.lineJoin=v.strokeLineJoin,d.miterLimit=v.strokeMiterLimit,_.toLive?_.gradientUnits==="percentage"||_.gradientTransform||_.patternTransform?this._applyPatternForTransformedGradient(d,_):(d.strokeStyle=_.toLive(d,this),this._applyPatternGradientTransform(d,_)):d.strokeStyle=v.stroke)},_setFillStyles:function(d,v){var _=v.fill;_&&(_.toLive?(d.fillStyle=_.toLive(d,this),this._applyPatternGradientTransform(d,v.fill)):d.fillStyle=_)},_setClippingProperties:function(d){d.globalAlpha=1,d.strokeStyle="transparent",d.fillStyle="#000000"},_setLineDash:function(d,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),d.setLineDash(v))},_renderControls:function(d,v){var _=this.getViewportTransform(),y=this.calcTransformMatrix(),b,w,C;v=v||{},w=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,C=typeof v.hasControls<"u"?v.hasControls:this.hasControls,y=i.util.multiplyTransformMatrices(_,y),b=i.util.qrDecompose(y),d.save(),d.translate(b.translateX,b.translateY),d.lineWidth=1*this.borderScaleFactor,this.group||(d.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(b.angle-=180),d.rotate(a(this.group?b.angle:this.angle)),v.forActiveSelection||this.group?w&&this.drawBordersInGroup(d,b,v):w&&this.drawBorders(d,v),C&&this.drawControls(d,v),d.restore()},_setShadow:function(d){if(this.shadow){var v=this.shadow,_=this.canvas,y,b=_&&_.viewportTransform[0]||1,w=_&&_.viewportTransform[3]||1;v.nonScaling?y={scaleX:1,scaleY:1}:y=this.getObjectScaling(),_&&_._isRetinaScaling()&&(b*=i.devicePixelRatio,w*=i.devicePixelRatio),d.shadowColor=v.color,d.shadowBlur=v.blur*i.browserShadowBlurConstant*(b+w)*(y.scaleX+y.scaleY)/4,d.shadowOffsetX=v.offsetX*b*y.scaleX,d.shadowOffsetY=v.offsetY*w*y.scaleY}},_removeShadow:function(d){this.shadow&&(d.shadowColor="",d.shadowBlur=d.shadowOffsetX=d.shadowOffsetY=0)},_applyPatternGradientTransform:function(d,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var _=v.gradientTransform||v.patternTransform,y=-this.width/2+v.offsetX||0,b=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?d.transform(this.width,0,0,this.height,y,b):d.transform(1,0,0,1,y,b),_&&d.transform(_[0],_[1],_[2],_[3],_[4],_[5]),{offsetX:y,offsetY:b}},_renderPaintInOrder:function(d){this.paintFirst==="stroke"?(this._renderStroke(d),this._renderFill(d)):(this._renderFill(d),this._renderStroke(d))},_render:function(){},_renderFill:function(d){this.fill&&(d.save(),this._setFillStyles(d,this),this.fillRule==="evenodd"?d.fill("evenodd"):d.fill(),d.restore())},_renderStroke:function(d){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(d),d.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();d.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&d.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(d,this.strokeDashArray),this._setStrokeStyles(d,this),d.stroke(),d.restore()}},_applyPatternForTransformedGradient:function(d,v){var _=this._limitCacheSize(this._getCacheCanvasDimensions()),y=i.util.createCanvasElement(),b,w=this.canvas.getRetinaScaling(),C=_.x/this.scaleX/w,S=_.y/this.scaleY/w;y.width=C,y.height=S,b=y.getContext("2d"),b.beginPath(),b.moveTo(0,0),b.lineTo(C,0),b.lineTo(C,S),b.lineTo(0,S),b.closePath(),b.translate(C/2,S/2),b.scale(_.zoomX/this.scaleX/w,_.zoomY/this.scaleY/w),this._applyPatternGradientTransform(b,v),b.fillStyle=v.toLive(d),b.fill(),d.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),d.scale(w*this.scaleX/_.zoomX,w*this.scaleY/_.zoomY),d.strokeStyle=b.createPattern(y,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var d=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",d.scaleX),this.set("scaleY",d.scaleY),this.angle=d.angle,this.skewX=d.skewX,this.skewY=0}},_removeTransformMatrix:function(d){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=i.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,d&&(this.scaleX*=d.scaleX,this.scaleY*=d.scaleY,this.cropX=d.cropX,this.cropY=d.cropY,v.x+=d.offsetLeft,v.y+=d.offsetTop,this.width=d.width,this.height=d.height),this.setPositionByOrigin(v,"center","center")},clone:function(d,v){var _=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(_,d):i.Object._fromObject("Object",_,d)},cloneAsImage:function(d,v){var _=this.toCanvasElement(v);return d&&d(new i.Image(_)),this},toCanvasElement:function(d){d||(d={});var v=i.util,_=v.saveObjectTransform(this),y=this.group,b=this.shadow,w=Math.abs,C=(d.multiplier||1)*(d.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,d.withoutTransform&&v.resetObjectTransform(this),d.withoutShadow&&(this.shadow=null);var S=i.util.createCanvasElement(),O=this.getBoundingRect(!0,!0),B=this.shadow,W,K={x:0,y:0},z,re,se;B&&(z=B.blur,B.nonScaling?W={scaleX:1,scaleY:1}:W=this.getObjectScaling(),K.x=2*Math.round(w(B.offsetX)+z)*w(W.scaleX),K.y=2*Math.round(w(B.offsetY)+z)*w(W.scaleY)),re=O.width+K.x,se=O.height+K.y,S.width=Math.ceil(re),S.height=Math.ceil(se);var ce=new i.StaticCanvas(S,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});d.format==="jpeg"&&(ce.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(ce.width/2,ce.height/2),"center","center");var he=this.canvas;ce.add(this);var V=ce.toCanvasElement(C||1,d);return this.shadow=b,this.set("canvas",he),y&&(this.group=y),this.set(_).setCoords(),ce._objects=[],ce.dispose(),ce=null,V},toDataURL:function(d){return d||(d={}),i.util.toDataURL(this.toCanvasElement(d),d.format||"png",d.quality||1)},isType:function(d){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===d},complexity:function(){return 1},toJSON:function(d){return this.toObject(d)},rotate:function(d){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",d),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(d,v){v=v||this.canvas.getPointer(d);var _=new i.Point(v.x,v.y),y=this._getLeftTopCoords();return this.angle&&(_=i.util.rotatePoint(_,y,a(-this.angle))),{x:_.x-y.x,y:_.y-y.y}},_setupCompositeOperation:function(d){this.globalCompositeOperation&&(d.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),h(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(d,v,_,y){var b=i[d];v=f(v,!0),i.util.enlivenPatterns([v.fill,v.stroke],function(w){typeof w[0]<"u"&&(v.fill=w[0]),typeof w[1]<"u"&&(v.stroke=w[1]),i.util.enlivenObjectEnlivables(v,v,function(){var C=y?new b(v[y],v):new b(v);_&&_(C)})})},i.Object.__uid=0)}(e),function(){var c=t.util.degreesToRadians,i={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(f,o,l,a,u){var g=f.x,d=f.y,v,_,y;return typeof o=="string"?o=i[o]:o-=.5,typeof a=="string"?a=i[a]:a-=.5,v=a-o,typeof l=="string"?l=h[l]:l-=.5,typeof u=="string"?u=h[u]:u-=.5,_=u-l,(v||_)&&(y=this._getTransformedDimensions(),g=f.x+v*y.x,d=f.y+_*y.y),new t.Point(g,d)},translateToCenterPoint:function(f,o,l){var a=this.translateToGivenOrigin(f,o,l,"center","center");return this.angle?t.util.rotatePoint(a,f,c(this.angle)):a},translateToOriginPoint:function(f,o,l){var a=this.translateToGivenOrigin(f,"center","center",o,l);return this.angle?t.util.rotatePoint(a,f,c(this.angle)):a},getCenterPoint:function(){var f=new t.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,o){var l=this.getCenterPoint();return this.translateToOriginPoint(l,f,o)},toLocalPoint:function(f,o,l){var a=this.getCenterPoint(),u,g;return typeof o<"u"&&typeof l<"u"?u=this.translateToGivenOrigin(a,"center","center",o,l):u=new t.Point(this.left,this.top),g=new t.Point(f.x,f.y),this.angle&&(g=t.util.rotatePoint(g,a,-c(this.angle))),g.subtractEquals(u)},setPositionByOrigin:function(f,o,l){var a=this.translateToCenterPoint(f,o,l),u=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",u.x),this.set("top",u.y)},adjustPosition:function(f){var o=c(this.angle),l=this.getScaledWidth(),a=t.util.cos(o)*l,u=t.util.sin(o)*l,g,d;typeof this.originX=="string"?g=i[this.originX]:g=this.originX-.5,typeof f=="string"?d=i[f]:d=f-.5,this.left+=a*(d-g),this.top+=u*(d-g),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function c(l){return[new t.Point(l.tl.x,l.tl.y),new t.Point(l.tr.x,l.tr.y),new t.Point(l.br.x,l.br.y),new t.Point(l.bl.x,l.bl.y)]}var i=t.util,h=i.degreesToRadians,f=i.multiplyTransformMatrices,o=i.transformPoint;i.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(l,a){return a?l?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),l?this.aCoords:this.lineCoords)},getCoords:function(l,a){return c(this._getCoords(l,a))},intersectsWithRect:function(l,a,u,g){var d=this.getCoords(u,g),v=t.Intersection.intersectPolygonRectangle(d,l,a);return v.status==="Intersection"},intersectsWithObject:function(l,a,u){var g=t.Intersection.intersectPolygonPolygon(this.getCoords(a,u),l.getCoords(a,u));return g.status==="Intersection"||l.isContainedWithinObject(this,a,u)||this.isContainedWithinObject(l,a,u)},isContainedWithinObject:function(l,a,u){for(var g=this.getCoords(a,u),d=a?l.aCoords:l.lineCoords,v=0,_=l._getImageLines(d);v<4;v++)if(!l.containsPoint(g[v],_))return!1;return!0},isContainedWithinRect:function(l,a,u,g){var d=this.getBoundingRect(u,g);return d.left>=l.x&&d.left+d.width<=a.x&&d.top>=l.y&&d.top+d.height<=a.y},containsPoint:function(l,v,u,g){var d=this._getCoords(u,g),v=v||this._getImageLines(d),_=this._findCrossPoints(l,v);return _!==0&&_%2===1},isOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br,g=this.getCoords(!0,l);return g.some(function(d){return d.x<=u.x&&d.x>=a.x&&d.y<=u.y&&d.y>=a.y})||this.intersectsWithRect(a,u,!0,l)?!0:this._containsCenterOfCanvas(a,u,l)},_containsCenterOfCanvas:function(l,a,u){var g={x:(l.x+a.x)/2,y:(l.y+a.y)/2};return!!this.containsPoint(g,null,!0,u)},isPartiallyOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br;if(this.intersectsWithRect(a,u,!0,l))return!0;var g=this.getCoords(!0,l).every(function(d){return(d.x>=u.x||d.x<=a.x)&&(d.y>=u.y||d.y<=a.y)});return g&&this._containsCenterOfCanvas(a,u,l)},_getImageLines:function(l){var a={topline:{o:l.tl,d:l.tr},rightline:{o:l.tr,d:l.br},bottomline:{o:l.br,d:l.bl},leftline:{o:l.bl,d:l.tl}};return a},_findCrossPoints:function(l,a){var u,g,d,v,_,y=0,b;for(var w in a)if(b=a[w],!(b.o.y<l.y&&b.d.y<l.y)&&!(b.o.y>=l.y&&b.d.y>=l.y)&&(b.o.x===b.d.x&&b.o.x>=l.x?_=b.o.x:(u=0,g=(b.d.y-b.o.y)/(b.d.x-b.o.x),d=l.y-u*l.x,v=b.o.y-g*b.o.x,_=-(d-v)/(u-g)),_>=l.x&&(y+=1),y===2))break;return y},getBoundingRect:function(l,a){var u=this.getCoords(l,a);return i.makeBoundingBoxFromPoints(u)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(l){return Math.abs(l)<this.minScaleLimit?l<0?-this.minScaleLimit:this.minScaleLimit:l===0?1e-4:l},scale:function(l){return this._set("scaleX",l),this._set("scaleY",l),this.setCoords()},scaleToWidth:function(l,a){var u=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(l/this.width/u)},scaleToHeight:function(l,a){var u=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(l/this.height/u)},calcLineCoords:function(){var l=this.getViewportTransform(),a=this.padding,u=h(this.angle),g=i.cos(u),d=i.sin(u),v=g*a,_=d*a,y=v+_,b=v-_,w=this.calcACoords(),C={tl:o(w.tl,l),tr:o(w.tr,l),bl:o(w.bl,l),br:o(w.br,l)};return a&&(C.tl.x-=b,C.tl.y-=y,C.tr.x+=y,C.tr.y-=b,C.bl.x-=y,C.bl.y+=b,C.br.x+=b,C.br.y+=y),C},calcOCoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),u=this.getViewportTransform(),g=f(u,a),d=f(g,l),d=f(d,[1/u[0],0,0,1/u[3],0,0]),v=this._calculateCurrentDimensions(),_={};return this.forEachControl(function(y,b,w){_[b]=y.positionHandler(v,d,w)}),_},calcACoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),u=f(a,l),g=this._getTransformedDimensions(),d=g.x/2,v=g.y/2;return{tl:o({x:-d,y:-v},u),tr:o({x:d,y:-v},u),bl:o({x:-d,y:v},u),br:o({x:d,y:v},u)}},setCoords:function(l){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),l?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var l=this.getCenterPoint();return[1,0,0,1,l.x,l.y]},transformMatrixKey:function(l){var a="_",u="";return!l&&this.group&&(u=this.group.transformMatrixKey(l)+a),u+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(l){var a=this.calcOwnMatrix();if(l||!this.group)return a;var u=this.transformMatrixKey(l),g=this.matrixCache||(this.matrixCache={});return g.key===u?g.value:(this.group&&(a=f(this.group.calcTransformMatrix(!1),a)),g.key=u,g.value=a,a)},calcOwnMatrix:function(){var l=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===l)return a.value;var u=this._calcTranslateMatrix(),g={angle:this.angle,translateX:u[4],translateY:u[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=l,a.value=i.composeMatrix(g),a.value},_getNonTransformedDimensions:function(){var l=this.strokeWidth,a=this.width+l,u=this.height+l;return{x:a,y:u}},_getTransformedDimensions:function(l,a){typeof l>"u"&&(l=this.skewX),typeof a>"u"&&(a=this.skewY);var u,g,d,v=l===0&&a===0;if(this.strokeUniform?(g=this.width,d=this.height):(u=this._getNonTransformedDimensions(),g=u.x,d=u.y),v)return this._finalizeDimensions(g*this.scaleX,d*this.scaleY);var _=i.sizeAfterTransform(g,d,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:l,skewY:a});return this._finalizeDimensions(_.x,_.y)},_finalizeDimensions:function(l,a){return this.strokeUniform?{x:l+this.strokeWidth,y:a+this.strokeWidth}:{x:l,y:a}},_calculateCurrentDimensions:function(){var l=this.getViewportTransform(),a=this._getTransformedDimensions(),u=o(a,l,!0);return u.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(c){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,c):this.canvas&&this.canvas.sendBackwards(this,c),this},bringForward:function(c){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,c):this.canvas&&this.canvas.bringForward(this,c),this},moveTo:function(c){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,c):this.canvas&&this.canvas.moveTo(this,c),this}}),function(){function c(h,f){if(f){if(f.toLive)return h+": url(#SVGID_"+f.id+"); ";var o=new t.Color(f),l=h+": "+o.toRgb()+"; ",a=o.getAlpha();return a!==1&&(l+=h+"-opacity: "+a.toString()+"; "),l}else return h+": none; "}var i=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(h){var f=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",l=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",u=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",d=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",_=this.visible?"":" visibility: hidden;",y=h?"":this.getSvgFilter(),b=c("fill",this.fill),w=c("stroke",this.stroke);return[w,"stroke-width: ",o,"; ","stroke-dasharray: ",l,"; ","stroke-linecap: ",u,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",d,"; ",b,"fill-rule: ",f,"; ","opacity: ",v,";",y,_].join("")},getSvgSpanStyles:function(h,f){var o="; ",a=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+o:"",l=h.strokeWidth?"stroke-width: "+h.strokeWidth+o:"",a=a,u=h.fontSize?"font-size: "+h.fontSize+"px"+o:"",g=h.fontStyle?"font-style: "+h.fontStyle+o:"",d=h.fontWeight?"font-weight: "+h.fontWeight+o:"",v=h.fill?c("fill",h.fill):"",_=h.stroke?c("stroke",h.stroke):"",y=this.getSvgTextDecoration(h),b=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return y&&(y="text-decoration: "+y+o),[_,l,a,u,g,d,y,v,b,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(f){return h[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,f){var o=h?this.calcTransformMatrix():this.calcOwnMatrix(),l='transform="'+t.util.matrixToSVG(o);return l+(f||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var f=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,f),'" y="',i(-this.height/2,f),'" width="',i(this.width,f),'" height="',i(this.height,f),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,f){f=f||{};var o=f.reviver,l=f.additionalTransform||"",a=[this.getSvgTransform(!0,l),this.getSvgCommons()].join(""),u=h.indexOf("COMMON_PARTS");return h[u]=a,o?o(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,f){f=f||{};var o=f.noStyle,l=f.reviver,a=o?"":'style="'+this.getSvgStyles()+'" ',u=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,d=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=g&&g.absolutePositioned,_=this.stroke,y=this.fill,b=this.shadow,w,C=[],S,O=h.indexOf("COMMON_PARTS"),B=f.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+t.Object.__uid++,S='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(l)+`</clipPath>
`),v&&C.push("<g ",u,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),v?"":u+this.getSvgCommons(),` >
`),w=[a,d,o?"":this.addPaintOrder()," ",B?'transform="'+B+'" ':""].join(""),h[O]=w,y&&y.toLive&&C.push(y.toSVG(this)),_&&_.toLive&&C.push(_.toSVG(this)),b&&C.push(b.toSVG(this)),g&&C.push(S),C.push(h.join("")),C.push(`</g>
`),v&&C.push(`</g>
`),l?l(C.join("")):C.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var c=t.util.object.extend,i="stateProperties";function h(o,l,a){var u={},g=!0;a.forEach(function(d){u[d]=o[d]}),c(o[l],u,g)}function f(o,l,a){if(o===l)return!0;if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(var u=0,g=o.length;u<g;u++)if(!f(o[u],l[u]))return!1;return!0}else if(o&&typeof o=="object"){var d=Object.keys(o),v;if(!l||typeof l!="object"||!a&&d.length!==Object.keys(l).length)return!1;for(var u=0,g=d.length;u<g;u++)if(v=d[u],!(v==="canvas"||v==="group")&&!f(o[v],l[v]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(o){o=o||i;var l="_"+o;return Object.keys(this[l]).length<this[o].length?!0:!f(this[l],this,!0)},saveState:function(o){var l=o&&o.propertySet||i,a="_"+l;return this[a]?(h(this,a,this[l]),o&&o.stateProperties&&h(this,a,o.stateProperties),this):this.setupState(o)},setupState:function(o){o=o||{};var l=o.propertySet||i;return o.propertySet=l,this["_"+l]={},this.saveState(o),this}})}(),function(){var c=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(i,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=i.x,o=i.y,l,a,u=Object.keys(this.oCoords),g=u.length-1,d;for(this.__corner=0;g>=0;g--)if(d=u[g],!!this.isControlVisible(d)&&(a=this._getImageLines(h?this.oCoords[d].touchCorner:this.oCoords[d].corner),l=this._findCrossPoints({x:f,y:o},a),l!==0&&l%2===1))return this.__corner=d,d;return!1},forEachControl:function(i){for(var h in this.controls)i(this.controls[h],h,this)},_setCornerCoords:function(){var i=this.oCoords;for(var h in i){var f=this.controls[h];i[h].corner=f.calcCornerCoords(this.angle,this.cornerSize,i[h].x,i[h].y,!1),i[h].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,i[h].x,i[h].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var h=this.getCenterPoint(),f=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return i.translate(h.x,h.y),i.scale(1/o[0],1/o[3]),i.rotate(c(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-f.x/2,-f.y/2,f.x,f.y),i.restore(),this},drawBorders:function(i,h){h=h||{};var f=this._calculateCurrentDimensions(),o=this.borderScaleFactor,l=f.x+o,a=f.y+o,u=typeof h.hasControls<"u"?h.hasControls:this.hasControls,g=!1;return i.save(),i.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeRect(-l/2,-a/2,l,a),u&&(i.beginPath(),this.forEachControl(function(d,v,_){d.withConnection&&d.getVisibility(_,v)&&(g=!0,i.moveTo(d.x*l,d.y*a),i.lineTo(d.x*l+d.offsetX,d.y*a+d.offsetY))}),g&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,h,f){f=f||{};var o=t.util.sizeAfterTransform(this.width,this.height,h),l=this.strokeWidth,a=this.strokeUniform,u=this.borderScaleFactor,g=o.x+l*(a?this.canvas.getZoom():h.scaleX)+u,d=o.y+l*(a?this.canvas.getZoom():h.scaleY)+u;return i.save(),this._setLineDash(i,f.borderDashArray||this.borderDashArray),i.strokeStyle=f.borderColor||this.borderColor,i.strokeRect(-g/2,-d/2,g,d),i.restore(),this},drawControls:function(i,h){h=h||{},i.save();var f=this.canvas.getRetinaScaling(),o,l;return i.setTransform(f,0,0,f,0,0),i.strokeStyle=i.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(o=this.group.calcTransformMatrix()),this.forEachControl(function(a,u,g){l=g.oCoords[u],a.getVisibility(g,u)&&(o&&(l=t.util.transformPoint(l,o)),a.render(i,l.x,l.y,h,g))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=h,this},setControlsVisibility:function(i){i||(i={});for(var h in i)this.setControlVisible(h,i[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(c,i){i=i||{};var h=function(){},f=i.onComplete||h,o=i.onChange||h,l=this;return t.util.animate({target:this,startValue:c.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){c.set("left",a),l.requestRenderAll(),o()},onComplete:function(){c.setCoords(),f()}})},fxCenterObjectV:function(c,i){i=i||{};var h=function(){},f=i.onComplete||h,o=i.onChange||h,l=this;return t.util.animate({target:this,startValue:c.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){c.set("top",a),l.requestRenderAll(),o()},onComplete:function(){c.setCoords(),f()}})},fxRemove:function(c,i){i=i||{};var h=function(){},f=i.onComplete||h,o=i.onChange||h,l=this;return t.util.animate({target:this,startValue:c.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){c.set("opacity",a),l.requestRenderAll(),o()},onComplete:function(){l.remove(c),f()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var c=[],i,h,f=[];for(i in arguments[0])c.push(i);for(var o=0,l=c.length;o<l;o++)i=c[o],h=o!==l-1,f.push(this._animate(i,arguments[0][i],arguments[1],h));return f}else return this._animate.apply(this,arguments)},_animate:function(c,i,h,f){var o=this,l;i=i.toString(),h?h=t.util.object.clone(h):h={},~c.indexOf(".")&&(l=c.split("."));var a=o.colorProperties.indexOf(c)>-1||l&&o.colorProperties.indexOf(l[1])>-1,u=l?this.get(l[0])[l[1]]:this.get(c);"from"in h||(h.from=u),a||(~i.indexOf("=")?i=u+parseFloat(i.replace("=","")):i=parseFloat(i));var g={target:this,startValue:h.from,endValue:i,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(d,v,_){return h.abort.call(o,d,v,_)},onChange:function(d,v,_){l?o[l[0]][l[1]]=d:o.set(c,d),!f&&h.onChange&&h.onChange(d,v,_)},onComplete:function(d,v,_){f||(o.setCoords(),h.onComplete&&h.onComplete(d,v,_))}};return a?t.util.animateColor(g.startValue,g.endValue,g.duration,g):t.util.animate(g)}}),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,u){a||(a=[0,0,0,0]),this.callSuper("initialize",u),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(u)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,u){return this.callSuper("_set",a,u),typeof o[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:l({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:l({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var u=this.calcLinePoints();a.moveTo(u.x1,u.y1),a.lineTo(u.x2,u.y2),a.lineWidth=this.strokeWidth;var g=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return h(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(a.y-=this.strokeWidth),this.height===0&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,u=this.y1<=this.y2?-1:1,g=a*this.width*.5,d=u*this.height*.5,v=a*this.width*-.5,_=u*this.height*-.5;return{x1:g,x2:v,y1:d,y2:_}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(a,u,g){g=g||{};var d=i.parseAttributes(a,i.Line.ATTRIBUTE_NAMES),v=[d.x1||0,d.y1||0,d.x2||0,d.y2||0];u(new i.Line(v,h(d,g)))},i.Line.fromObject=function(a,u){function g(v){delete v.points,u&&u(v)}var d=f(a,!0);d.points=[a.x1,a.y1,a.x2,a.y2],i.Object._fromObject("Line",d,g,"points")};function l(a,u){var g=a.origin,d=a.axis1,v=a.axis2,_=a.dimension,y=u.nearest,b=u.center,w=u.farthest;return function(){switch(this.get(g)){case y:return Math.min(this.get(d),this.get(v));case b:return Math.min(this.get(d),this.get(v))+.5*this.get(_);case w:return Math.max(this.get(d),this.get(v))}}}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(o,l){return this.callSuper("_set",o,l),o==="radius"&&this.setRadius(l),this},toObject:function(o){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(o))},_toSVG:function(){var o,l=0,a=0,u=(this.endAngle-this.startAngle)%360;if(u===0)o=["<circle ","COMMON_PARTS",'cx="'+l+'" cy="'+a+'" ','r="',this.radius,`" />
`];else{var g=h(this.startAngle),d=h(this.endAngle),v=this.radius,_=i.util.cos(g)*v,y=i.util.sin(g)*v,b=i.util.cos(d)*v,w=i.util.sin(d)*v,C=u>180?"1":"0";o=['<path d="M '+_+" "+y," A "+v+" "+v," 0 ",+C+" 1"," "+b+" "+w,'" ',"COMMON_PARTS",` />
`]}return o},_render:function(o){o.beginPath(),o.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(o)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(o){return this.radius=o,this.set("width",o*2).set("height",o*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(o,l){var a=i.parseAttributes(o,i.Circle.ATTRIBUTE_NAMES);if(!f(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,l(new i.Circle(a))};function f(o){return"radius"in o&&o.radius>=0}i.Circle.fromObject=function(o,l){i.Object._fromObject("Circle",o,l)}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(h){var f=this.width/2,o=this.height/2;h.beginPath(),h.moveTo(-f,o),h.lineTo(0,-o),h.lineTo(f,o),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,f=this.height/2,o=[-h+" "+f,"0 "+-f,h+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',o,'" />']}}),i.Triangle.fromObject=function(h,f){return i.Object._fromObject("Triangle",h,f)}}(e),function(c){var i=c.fabric||(c.fabric={}),h=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,o){switch(this.callSuper("_set",f,o),f){case"rx":this.rx=o,this.set("width",o*2);break;case"ry":this.ry=o,this.set("height",o*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,h,!1),f.restore(),this._renderPaintInOrder(f)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(f,o){var l=i.parseAttributes(f,i.Ellipse.ATTRIBUTE_NAMES);l.left=(l.left||0)-l.rx,l.top=(l.top||0)-l.ry,o(new i.Ellipse(l))},i.Ellipse.fromObject=function(f,o){i.Object._fromObject("Ellipse",f,o)}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var o=this.rx?Math.min(this.rx,this.width/2):0,l=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,u=this.height,g=-this.width/2,d=-this.height/2,v=o!==0||l!==0,_=1-.5522847498;f.beginPath(),f.moveTo(g+o,d),f.lineTo(g+a-o,d),v&&f.bezierCurveTo(g+a-_*o,d,g+a,d+_*l,g+a,d+l),f.lineTo(g+a,d+u-l),v&&f.bezierCurveTo(g+a,d+u-_*l,g+a-_*o,d+u,g+a-o,d+u),f.lineTo(g+o,d+u),v&&f.bezierCurveTo(g+_*o,d+u,g,d+u-_*l,g,d+u-l),f.lineTo(g,d+l),v&&f.bezierCurveTo(g,d+_*l,g+_*o,d,g+o,d),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,o=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',o,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(f,o,l){if(!f)return o(null);l=l||{};var a=i.parseAttributes(f,i.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var u=new i.Rect(h(l?i.util.object.clone(l):{},a));u.visible=u.visible&&u.width>0&&u.height>0,o(u)},i.Rect.fromObject=function(f,o){return i.Object._fromObject("Rect",f,o)}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.util.array.min,o=i.util.array.max,l=i.util.toFixed,a=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(u,g){g=g||{},this.points=u||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(u){var g=this._calcDimensions(u),d,v=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-v,this.height=g.height-v,u.fromSVG||(d=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+v/2,y:g.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof u.left>"u"&&(this.left=u.fromSVG?g.left:d.x),typeof u.top>"u"&&(this.top=u.fromSVG?g.top:d.y),this.pathOffset={x:g.left+this.width/2+v/2,y:g.top+this.height/2+v/2}},_calcDimensions:function(){var u=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=f(u,"x")||0,d=f(u,"y")||0,v=o(u,"x")||0,_=o(u,"y")||0,y=v-g,b=_-d;return{left:g,top:d,width:y,height:b}},toObject:function(u){return h(this.callSuper("toObject",u),{points:this.points.concat()})},_toSVG:function(){for(var u=[],g=this.pathOffset.x,d=this.pathOffset.y,v=i.Object.NUM_FRACTION_DIGITS,_=0,y=this.points.length;_<y;_++)u.push(l(this.points[_].x-g,v),",",l(this.points[_].y-d,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',u.join(""),`" />
`]},commonRender:function(u){var g,d=this.points.length,v=this.pathOffset.x,_=this.pathOffset.y;if(!d||isNaN(this.points[d-1].y))return!1;u.beginPath(),u.moveTo(this.points[0].x-v,this.points[0].y-_);for(var y=0;y<d;y++)g=this.points[y],u.lineTo(g.x-v,g.y-_);return!0},_render:function(u){this.commonRender(u)&&this._renderPaintInOrder(u)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(u){return function(g,d,v){if(!g)return d(null);v||(v={});var _=i.parsePointsAttribute(g.getAttribute("points")),y=i.parseAttributes(g,i[u].ATTRIBUTE_NAMES);y.fromSVG=!0,d(new i[u](_,h(y,v)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(u,g){return i.Object._fromObject("Polyline",u,g,"points")}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(f){this.commonRender(f)&&(f.closePath(),this._renderPaintInOrder(f))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(f,o){i.Object._fromObject("Polygon",f,o,"points")}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.array.min,f=i.util.array.max,o=i.util.object.extend,l=i.util.object.clone,a=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(u,g){g=l(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(u||[],g)},_setPath:function(u,g){this.path=i.util.makePathSimpler(Array.isArray(u)?u:i.util.parsePath(u)),i.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(u){var g,d=0,v=0,_=0,y=0,b=0,w=0,C=-this.pathOffset.x,S=-this.pathOffset.y;u.beginPath();for(var O=0,B=this.path.length;O<B;++O)switch(g=this.path[O],g[0]){case"L":_=g[1],y=g[2],u.lineTo(_+C,y+S);break;case"M":_=g[1],y=g[2],d=_,v=y,u.moveTo(_+C,y+S);break;case"C":_=g[5],y=g[6],b=g[3],w=g[4],u.bezierCurveTo(g[1]+C,g[2]+S,b+C,w+S,_+C,y+S);break;case"Q":u.quadraticCurveTo(g[1]+C,g[2]+S,g[3]+C,g[4]+S),_=g[3],y=g[4],b=g[1],w=g[2];break;case"z":case"Z":_=d,y=v,u.closePath();break}},_render:function(u){this._renderPathCommands(u),this._renderPaintInOrder(u)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(u){return o(this.callSuper("toObject",u),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(u){var g=this.toObject(["sourcePath"].concat(u));return g.sourcePath&&delete g.path,g},_toSVG:function(){var u=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',u,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var u=i.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,u)+", "+a(-this.pathOffset.y,u)+")"},toClipPathSVG:function(u){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:g})},toSVG:function(u){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var u=[],g=[],d,v=0,_=0,y=0,b=0,w,C=0,S=this.path.length;C<S;++C){switch(d=this.path[C],d[0]){case"L":y=d[1],b=d[2],w=[];break;case"M":y=d[1],b=d[2],v=y,_=b,w=[];break;case"C":w=i.util.getBoundsOfCurve(y,b,d[1],d[2],d[3],d[4],d[5],d[6]),y=d[5],b=d[6];break;case"Q":w=i.util.getBoundsOfCurve(y,b,d[1],d[2],d[1],d[2],d[3],d[4]),y=d[3],b=d[4];break;case"z":case"Z":y=v,b=_;break}w.forEach(function(se){u.push(se.x),g.push(se.y)}),u.push(y),g.push(b)}var O=h(u)||0,B=h(g)||0,W=f(u)||0,K=f(g)||0,z=W-O,re=K-B;return{left:O,top:B,width:z,height:re}}}),i.Path.fromObject=function(u,g){if(typeof u.sourcePath=="string"){var d=u.sourcePath;i.loadSVGFromURL(d,function(v){var _=v[0];_.setOptions(u),u.clipPath?i.util.enlivenObjects([u.clipPath],function(y){_.clipPath=y[0],g&&g(_)}):g&&g(_)})}else i.Object._fromObject("Path",u,g,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(u,g,d){var v=i.parseAttributes(u,i.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,g(new i.Path(v.d,o(v,d)))}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.array.min,f=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(o,l,a){l=l||{},this._objects=[],a&&this.callSuper("initialize",l),this._objects=o||[];for(var u=this._objects.length;u--;)this._objects[u].group=this;if(a)this._updateObjectsACoords();else{var g=l&&l.centerPoint;l.originX!==void 0&&(this.originX=l.originX),l.originY!==void 0&&(this.originY=l.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete l.centerPoint,this.callSuper("initialize",l)}this.setCoords()},_updateObjectsACoords:function(){for(var o=!0,l=this._objects.length;l--;)this._objects[l].setCoords(o)},_updateObjectsCoords:function(l){for(var l=l||this.getCenterPoint(),a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],l)},_updateObjectCoords:function(o,l){var a=o.left,u=o.top,g=!0;o.set({left:a-l.x,top:u-l.y}),o.group=this,o.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(o){var l=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),o&&(l&&i.util.removeTransformFromObject(o,this.group.calcTransformMatrix()),this._objects.push(o),o.group=this,o._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,l?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(o){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(o),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(o){this.dirty=!0,o.group=this,o._set("canvas",this.canvas)},_onObjectRemoved:function(o){this.dirty=!0,delete o.group},_set:function(o,l){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(o,l);if(o==="canvas")for(;a--;)this._objects[a]._set(o,l);i.Object.prototype._set.call(this,o,l)},toObject:function(o){var l=this.includeDefaultValues,a=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var d=g.includeDefaultValues;g.includeDefaultValues=l;var v=g.toObject(o);return g.includeDefaultValues=d,v}),u=i.Object.prototype.toObject.call(this,o);return u.objects=a,u},toDatalessObject:function(o){var l,a=this.sourcePath;if(a)l=a;else{var u=this.includeDefaultValues;l=this._objects.map(function(d){var v=d.includeDefaultValues;d.includeDefaultValues=u;var _=d.toDatalessObject(o);return d.includeDefaultValues=v,_})}var g=i.Object.prototype.toDatalessObject.call(this,o);return g.objects=l,g},render:function(o){this._transformDone=!0,this.callSuper("render",o),this._transformDone=!1},shouldCache:function(){var o=i.Object.prototype.shouldCache.call(this);if(o){for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].willDrawShadow())return this.ownCaching=!1,!1}return o},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var o=0,l=this._objects.length;o<l;o++)if(this._objects[o].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(o){for(var l=0,a=this._objects.length;l<a;l++)this._objects[l].render(o);this._drawClipPath(o,this.clipPath)},isCacheDirty:function(o){if(this.callSuper("isCacheDirty",o))return!0;if(!this.statefullCache)return!1;for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].isCacheDirty(!0)){if(this._cacheCanvas){var u=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-u/2,-g/2,u,g)}return!0}return!1},_restoreObjectsState:function(){var o=this.calcOwnMatrix();return this._objects.forEach(function(l){i.util.addTransformToObject(l,o),delete l.group,l.setCoords()}),this},destroy:function(){return this._objects.forEach(function(o){o.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var o=this._objects,l=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var u=new i.ActiveSelection([]);return u.set(a),u.type="activeSelection",l.remove(this),o.forEach(function(g){g.group=u,g.dirty=!0,l.add(g)}),u.canvas=l,u._objects=o,l._activeObject=u,u.setCoords(),u}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var o=!0;return this.forEachObject(function(l){l.setCoords(o)}),this},_calcBounds:function(o){for(var l=[],a=[],u,g,d,v=["tr","br","bl","tl"],_=0,y=this._objects.length,b,w=v.length;_<y;++_){for(u=this._objects[_],d=u.calcACoords(),b=0;b<w;b++)g=v[b],l.push(d[g].x),a.push(d[g].y);u.aCoords=d}this._getBounds(l,a,o)},_getBounds:function(o,l,a){var u=new i.Point(h(o),h(l)),g=new i.Point(f(o),f(l)),d=u.y||0,v=u.x||0,_=g.x-u.x||0,y=g.y-u.y||0;this.width=_,this.height=y,a||this.setPositionByOrigin({x:v,y:d},"left","top")},_toSVG:function(o){for(var l=["<g ","COMMON_PARTS",` >
`],a=0,u=this._objects.length;a<u;a++)l.push("		",this._objects[a].toSVG(o));return l.push(`</g>
`),l},getSvgStyles:function(){var o=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",l=this.visible?"":" visibility: hidden;";return[o,this.getSvgFilter(),l].join("")},toClipPathSVG:function(o){for(var l=[],a=0,u=this._objects.length;a<u;a++)l.push("	",this._objects[a].toClipPathSVG(o));return this._createBaseClipPathSVGMarkup(l,{reviver:o})}}),i.Group.fromObject=function(o,l){var a=o.objects,u=i.util.object.clone(o,!0);if(delete u.objects,typeof a=="string"){i.loadSVGFromURL(a,function(g){var d=i.util.groupSVGElements(g,o,a),v=u.clipPath;delete u.clipPath,d.set(u),v?i.util.enlivenObjects([v],function(_){d.clipPath=_[0],l&&l(d)}):l&&l(d)});return}i.util.enlivenObjects(a,function(g){i.util.enlivenObjectEnlivables(o,u,function(){l&&l(new i.Group(g,u,!0))})})})}(e),function(c){var i=c.fabric||(c.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(h,f){f=f||{},this._objects=h||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var f=i.Object.prototype.toObject.call(this),o=new i.Group([]);if(delete f.type,o.set(f),h.forEach(function(a){a.canvas.remove(a),a.group=o}),o._objects=h,!this.canvas)return o;var l=this.canvas;return l.add(o),l._activeObject=o,o.setCoords(),o},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,f,o){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,f),o=o||{},typeof o.hasControls>"u"&&(o.hasControls=!1),o.forActiveSelection=!0;for(var l=0,a=this._objects.length;l<a;l++)this._objects[l]._renderControls(h,o);h.restore()}}),i.ActiveSelection.fromObject=function(h,f){i.util.enlivenObjects(h.objects,function(o){delete h.objects,f&&f(new i.ActiveSelection(o,h,!0))})})}(e),function(c){var i=t.util.object.extend;if(c.fabric||(c.fabric={}),c.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,f){f||(f={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",f),this._initElement(h,f)},getElement:function(){return this._element||{}},setElement:function(h,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var f=t.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(h){t.util.cleanUpJsdomNode(this[h]),this[h]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,o=this.height/2;h.beginPath(),h.moveTo(-f,-o),h.lineTo(f,-o),h.lineTo(f,o),h.lineTo(-f,o),h.lineTo(-f,-o),h.closePath()}},toObject:function(h){var f=[];this.filters.forEach(function(l){l&&f.push(l.toObject())});var o=i(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(o.resizeFilter=this.resizeFilter.toObject()),o},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],f=[],o,l=this._element,a=-this.width/2,u=-this.height/2,g="",d="";if(!l)return[];if(this.hasCrop()){var v=t.Object.__uid++;h.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+a+'" y="'+u+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(d='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',u-this.cropY,'" width="',l.width||l.naturalWidth,'" height="',l.height||l.height,d,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var _=this.fill;this.fill=null,o=["	<rect ",'x="',a,'" y="',u,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=_}return this.paintFirst!=="fill"?h=h.concat(o,f):h=h.concat(f,o),h},getSrc:function(h){var f=h?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(h,f,o){return t.util.loadImage(h,function(l,a){this.setElement(l,o),this._setWidthHeight(),f&&f(this,a)},this,o&&o.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,f=this.minimumScaleTrigger,o=this.getTotalObjectScaling(),l=o.scaleX,a=o.scaleY,u=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||l>f&&a>f){this._element=u,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=l,this._lastScaleY=a;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var g=t.util.createCanvasElement(),d=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=u.width,_=u.height;g.width=v,g.height=_,this._element=g,this._lastScaleX=h.scaleX=l,this._lastScaleY=h.scaleY=a,t.filterBackend.applyFilters([h],u,v,_,this._element,d),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(u){return u&&!u.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,o=f.naturalWidth||f.width,l=f.naturalHeight||f.height;if(this._element===this._originalElement){var a=t.util.createCanvasElement();a.width=o,a.height=l,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,o,l),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(h,this._originalElement,o,l,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var f=this._element;if(f){var o=this._filterScalingX,l=this._filterScalingY,a=this.width,u=this.height,g=Math.min,d=Math.max,v=d(this.cropX,0),_=d(this.cropY,0),y=f.naturalWidth||f.width,b=f.naturalHeight||f.height,w=v*o,C=_*l,S=g(a*o,y-w),O=g(u*l,b-C),B=-a/2,W=-u/2,K=g(a,y/o-v),z=g(u,b/l-_);f&&h.drawImage(f,w,C,S,O,B,W,K,z)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,f){this.setElement(t.util.getById(h),f),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,f){h&&h.length?t.util.enlivenObjects(h,function(o){f&&f(o)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(h){h||(h={});var f=this.getElement();this.width=h.width||f.naturalWidth||f.width||0,this.height=h.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var h=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,o=this._element.height,l=1,a=1,u=0,g=0,d=0,v=0,_,y=this.width,b=this.height,w={width:y,height:b};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(l=a=t.util.findScaleToFit(this._element,w),_=(y-f*l)/2,h.alignX==="Min"&&(u=-_),h.alignX==="Max"&&(u=_),_=(b-o*a)/2,h.alignY==="Min"&&(g=-_),h.alignY==="Max"&&(g=_)),h.meetOrSlice==="slice"&&(l=a=t.util.findScaleToCover(this._element,w),_=f-y/l,h.alignX==="Mid"&&(d=_/2),h.alignX==="Max"&&(d=_),_=o-b/a,h.alignY==="Mid"&&(v=_/2),h.alignY==="Max"&&(v=_),f=y/l,o=b/a)):(l=y/f,a=b/o),{width:f,height:o,scaleX:l,scaleY:a,offsetLeft:u,offsetTop:g,cropX:d,cropY:v}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(h,f){var o=t.util.object.clone(h);t.util.loadImage(o.src,function(l,a){if(a){f&&f(null,!0);return}t.Image.prototype._initFilters.call(o,o.filters,function(u){o.filters=u||[],t.Image.prototype._initFilters.call(o,[o.resizeFilter],function(g){o.resizeFilter=g[0],t.util.enlivenObjectEnlivables(o,o,function(){var d=new t.Image(l,o);f(d,!1)})})})},null,o.crossOrigin)},t.Image.fromURL=function(h,f,o){t.util.loadImage(h,function(l,a){f&&f(new t.Image(l,o),a)},null,o&&o.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(h,f,o){var l=t.parseAttributes(h,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(l["xlink:href"],f,i(o?t.util.object.clone(o):{},l))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var c=this.angle%360;return c>0?Math.round((c-1)/90)*90:Math.round(c/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(c){c=c||{};var i=function(){},h=c.onComplete||i,f=c.onChange||i,o=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(l){o.rotate(l),f()},onComplete:function(){o.setCoords(),h()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(c){return c.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(c){return c.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function c(h,f){var o="precision "+f+` float;
void main(){}`,l=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(l,o),h.compileShader(l),!!h.getShaderParameter(l,h.COMPILE_STATUS)}t.isWebglSupported=function(h){if(t.isLikelyNode)return!1;h=h||t.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),o=f.getContext("webgl")||f.getContext("experimental-webgl"),l=!1;if(o){t.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),l=t.maxTextureSize>=h;for(var a=["highp","mediump","lowp"],u=0;u<3;u++)if(c(o,a[u])){t.webGlPrecision=a[u];break}}return this.isSupported=l,l},t.WebglFilterBackend=i;function i(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(h,f){this.dispose(),this.createWebGLCanvas(h,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,f)},chooseFastestCopyGLTo2DMethod:function(h,f){var o=typeof window.performance<"u",l;try{new ImageData(1,1),l=!0}catch{l=!1}var a=typeof ArrayBuffer<"u",u=typeof Uint8ClampedArray<"u";if(o&&l&&a&&u){var g=t.util.createCanvasElement(),d=new ArrayBuffer(h*f*4);if(t.forceGLPutImageData){this.imageBuffer=d,this.copyGLTo2D=m;return}var v={imageBuffer:d,destinationWidth:h,destinationHeight:f,targetCanvas:g},_,y,b;g.width=h,g.height=f,_=window.performance.now(),p.call(v,this.gl,v),y=window.performance.now()-_,_=window.performance.now(),m.call(v,this.gl,v),b=window.performance.now()-_,y>b?(this.imageBuffer=d,this.copyGLTo2D=m):this.copyGLTo2D=p}},createWebGLCanvas:function(h,f){var o=t.util.createCanvasElement();o.width=h,o.height=f;var l={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=o.getContext("webgl",l);a||(a=o.getContext("experimental-webgl",l)),a&&(a.clearColor(0,0,0,0),this.canvas=o,this.gl=a)},applyFilters:function(h,f,o,l,a,u){var g=this.gl,d;u&&(d=this.getCachedTexture(u,f));var v={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:o,sourceHeight:l,destinationWidth:o,destinationHeight:l,context:g,sourceTexture:this.createTexture(g,o,l,!d&&f),targetTexture:this.createTexture(g,o,l),originalTexture:d||this.createTexture(g,o,l,!d&&f),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},_=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,_),h.forEach(function(y){y&&y.applyTo(v)}),s(v),this.copyGLTo2D(g,v),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(v.sourceTexture),g.deleteTexture(v.targetTexture),g.deleteFramebuffer(_),a.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,f,o,l,a){var u=h.createTexture();return h.bindTexture(h.TEXTURE_2D,u),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,a||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,a||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),l?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,l):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,f,o,0,h.RGBA,h.UNSIGNED_BYTE,null),u},getCachedTexture:function(h,f){if(this.textureCache[h])return this.textureCache[h];var o=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[h]=o,o},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:p,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,f={renderer:"",vendor:""};if(!h)return f;var o=h.getExtension("WEBGL_debug_renderer_info");if(o){var l=h.getParameter(o.UNMASKED_RENDERER_WEBGL),a=h.getParameter(o.UNMASKED_VENDOR_WEBGL);l&&(f.renderer=l.toLowerCase()),a&&(f.vendor=a.toLowerCase())}return this.gpuInfo=f,f}}}();function s(c){var i=c.targetCanvas,h=i.width,f=i.height,o=c.destinationWidth,l=c.destinationHeight;(h!==o||f!==l)&&(i.width=o,i.height=l)}function p(c,i){var h=c.canvas,f=i.targetCanvas,o=f.getContext("2d");o.translate(0,f.height),o.scale(1,-1);var l=h.height-f.height;o.drawImage(h,0,l,f.width,f.height,0,0,f.width,f.height)}function m(c,i){var h=i.targetCanvas,f=h.getContext("2d"),o=i.destinationWidth,l=i.destinationHeight,a=o*l*4,u=new Uint8Array(this.imageBuffer,0,a),g=new Uint8ClampedArray(this.imageBuffer,0,a);c.readPixels(0,0,o,l,c.RGBA,c.UNSIGNED_BYTE,u);var d=new ImageData(g,o,l);f.putImageData(d,0,0)}(function(){var c=function(){};t.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:c,dispose:c,clearWebGLCaches:c,resources:{},applyFilters:function(h,f,o,l,a){var u=a.getContext("2d");u.drawImage(f,0,0,o,l);var g=u.getImageData(0,0,o,l),d=u.getImageData(0,0,o,l),v={sourceWidth:o,sourceHeight:l,imageData:g,originalEl:f,originalImageData:d,canvasEl:a,ctx:u,filterBackend:this};return h.forEach(function(_){_.applyTo(v)}),(v.imageData.width!==o||v.imageData.height!==l)&&(a.width=v.imageData.width,a.height=v.imageData.height),u.putImageData(v.imageData,0,0),v}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(c){c&&this.setOptions(c)},setOptions:function(c){for(var i in c)this[i]=c[i]},createProgram:function(c,i,h){i=i||this.fragmentSource,h=h||this.vertexSource,t.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var f=c.createShader(c.VERTEX_SHADER);if(c.shaderSource(f,h),c.compileShader(f),!c.getShaderParameter(f,c.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+c.getShaderInfoLog(f));var o=c.createShader(c.FRAGMENT_SHADER);if(c.shaderSource(o,i),c.compileShader(o),!c.getShaderParameter(o,c.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+c.getShaderInfoLog(o));var l=c.createProgram();if(c.attachShader(l,f),c.attachShader(l,o),c.linkProgram(l),!c.getProgramParameter(l,c.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+c.getProgramInfoLog(l));var a=this.getAttributeLocations(c,l),u=this.getUniformLocations(c,l)||{};return u.uStepW=c.getUniformLocation(l,"uStepW"),u.uStepH=c.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:a,uniformLocations:u}},getAttributeLocations:function(c,i){return{aPosition:c.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(c,i,h){var f=i.aPosition,o=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,o),c.enableVertexAttribArray(f),c.vertexAttribPointer(f,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,h,c.STATIC_DRAW)},_setupFrameBuffer:function(c){var i=c.context,h,f;c.passes>1?(h=c.destinationWidth,f=c.destinationHeight,(c.sourceWidth!==h||c.sourceHeight!==f)&&(i.deleteTexture(c.targetTexture),c.targetTexture=c.filterBackend.createTexture(i,h,f)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,c.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(c){c.passes--,c.pass++;var i=c.targetTexture;c.targetTexture=c.sourceTexture,c.sourceTexture=i},isNeutralState:function(){var c=this.mainParameter,i=t.Image.filters[this.type].prototype;if(c)if(Array.isArray(i[c])){for(var h=i[c].length;h--;)if(this[c][h]!==i[c][h])return!1;return!0}else return i[c]===this[c];else return!1},applyTo:function(c){c.webgl?(this._setupFrameBuffer(c),this.applyToWebGL(c),this._swapTextures(c)):this.applyTo2d(c)},retrieveShader:function(c){return c.programCache.hasOwnProperty(this.type)||(c.programCache[this.type]=this.createProgram(c.context)),c.programCache[this.type]},applyToWebGL:function(c){var i=c.context,h=this.retrieveShader(c);c.pass===0&&c.originalTexture?i.bindTexture(i.TEXTURE_2D,c.originalTexture):i.bindTexture(i.TEXTURE_2D,c.sourceTexture),i.useProgram(h.program),this.sendAttributeData(i,h.attributeLocations,c.aPosition),i.uniform1f(h.uniformLocations.uStepW,1/c.sourceWidth),i.uniform1f(h.uniformLocations.uStepH,1/c.sourceHeight),this.sendUniformData(i,h.uniformLocations),i.viewport(0,0,c.destinationWidth,c.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(c,i,h){c.activeTexture(h),c.bindTexture(c.TEXTURE_2D,i),c.activeTexture(c.TEXTURE0)},unbindAdditionalTexture:function(c,i){c.activeTexture(i),c.bindTexture(c.TEXTURE_2D,null),c.activeTexture(c.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(c){this[this.mainParameter]=c},sendUniformData:function(){},createHelpLayer:function(c){if(!c.helpLayer){var i=document.createElement("canvas");i.width=c.sourceWidth,i.height=c.sourceHeight,c.helpLayer=i}},toObject:function(){var c={type:this.type},i=this.mainParameter;return i&&(c[i]=this[i]),c},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(c,i){var h=new t.Image.filters[c.type](c);return i&&i(h),h},function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.ColorMatrix=f(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(o){this.callSuper("initialize",o),this.matrix=this.matrix.slice(0)},applyTo2d:function(o){var l=o.imageData,a=l.data,u=a.length,g=this.matrix,d,v,_,y,b,w=this.colorsOnly;for(b=0;b<u;b+=4)d=a[b],v=a[b+1],_=a[b+2],w?(a[b]=d*g[0]+v*g[1]+_*g[2]+g[4]*255,a[b+1]=d*g[5]+v*g[6]+_*g[7]+g[9]*255,a[b+2]=d*g[10]+v*g[11]+_*g[12]+g[14]*255):(y=a[b+3],a[b]=d*g[0]+v*g[1]+_*g[2]+y*g[3]+g[4]*255,a[b+1]=d*g[5]+v*g[6]+_*g[7]+y*g[8]+g[9]*255,a[b+2]=d*g[10]+v*g[11]+_*g[12]+y*g[13]+g[14]*255,a[b+3]=d*g[15]+v*g[16]+_*g[17]+y*g[18]+g[19]*255)},getUniformLocations:function(o,l){return{uColorMatrix:o.getUniformLocation(l,"uColorMatrix"),uConstants:o.getUniformLocation(l,"uConstants")}},sendUniformData:function(o,l){var a=this.matrix,u=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],g=[a[4],a[9],a[14],a[19]];o.uniformMatrix4fv(l.uColorMatrix,!1,u),o.uniform4fv(l.uConstants,g)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Brightness=f(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(o){if(this.brightness!==0){var l=o.imageData,a=l.data,u,g=a.length,d=Math.round(this.brightness*255);for(u=0;u<g;u+=4)a[u]=a[u]+d,a[u+1]=a[u+1]+d,a[u+2]=a[u+2]+d}},getUniformLocations:function(o,l){return{uBrightness:o.getUniformLocation(l,"uBrightness")}},sendUniformData:function(o,l){o.uniform1f(l.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.Convolute=o(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(l){var a=Math.sqrt(this.matrix.length),u=this.type+"_"+a+"_"+(this.opaque?1:0),g=this.fragmentSource[u];return l.programCache.hasOwnProperty(u)||(l.programCache[u]=this.createProgram(l.context,g)),l.programCache[u]},applyTo2d:function(l){var a=l.imageData,u=a.data,g=this.matrix,d=Math.round(Math.sqrt(g.length)),v=Math.floor(d/2),_=a.width,y=a.height,b=l.ctx.createImageData(_,y),w=b.data,C=this.opaque?1:0,S,O,B,W,K,z,re,se,ce,he,V,Z,T;for(V=0;V<y;V++)for(he=0;he<_;he++){for(K=(V*_+he)*4,S=0,O=0,B=0,W=0,T=0;T<d;T++)for(Z=0;Z<d;Z++)re=V+T-v,z=he+Z-v,!(re<0||re>=y||z<0||z>=_)&&(se=(re*_+z)*4,ce=g[T*d+Z],S+=u[se]*ce,O+=u[se+1]*ce,B+=u[se+2]*ce,C||(W+=u[se+3]*ce));w[K]=S,w[K+1]=O,w[K+2]=B,C?w[K+3]=u[K+3]:w[K+3]=W}l.imageData=b},getUniformLocations:function(l,a){return{uMatrix:l.getUniformLocation(a,"uMatrix"),uOpaque:l.getUniformLocation(a,"uOpaque"),uHalfSize:l.getUniformLocation(a,"uHalfSize"),uSize:l.getUniformLocation(a,"uSize")}},sendUniformData:function(l,a){l.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Grayscale=f(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(o){var l=o.imageData,a=l.data,u,g=a.length,d,v=this.mode;for(u=0;u<g;u+=4)v==="average"?d=(a[u]+a[u+1]+a[u+2])/3:v==="lightness"?d=(Math.min(a[u],a[u+1],a[u+2])+Math.max(a[u],a[u+1],a[u+2]))/2:v==="luminosity"&&(d=.21*a[u]+.72*a[u+1]+.07*a[u+2]),a[u]=d,a[u+1]=d,a[u+2]=d},retrieveShader:function(o){var l=this.type+"_"+this.mode;if(!o.programCache.hasOwnProperty(l)){var a=this.fragmentSource[this.mode];o.programCache[l]=this.createProgram(o.context,a)}return o.programCache[l]},getUniformLocations:function(o,l){return{uMode:o.getUniformLocation(l,"uMode")}},sendUniformData:function(o,l){var a=1;o.uniform1i(l.uMode,a)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Invert=f(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(o){var l=o.imageData,a=l.data,u,g=a.length;for(u=0;u<g;u+=4)a[u]=255-a[u],a[u+1]=255-a[u+1],a[u+2]=255-a[u+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(o,l){return{uInvert:o.getUniformLocation(l,"uInvert")}},sendUniformData:function(o,l){o.uniform1i(l.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.Noise=o(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(l){if(this.noise!==0){var a=l.imageData,u=a.data,g,d=u.length,v=this.noise,_;for(g=0,d=u.length;g<d;g+=4)_=(.5-Math.random())*v,u[g]+=_,u[g+1]+=_,u[g+2]+=_}},getUniformLocations:function(l,a){return{uNoise:l.getUniformLocation(a,"uNoise"),uSeed:l.getUniformLocation(a,"uSeed")}},sendUniformData:function(l,a){l.uniform1f(a.uNoise,this.noise/255),l.uniform1f(a.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Pixelate=f(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(o){var l=o.imageData,a=l.data,u=l.height,g=l.width,d,v,_,y,b,w,C,S,O,B,W;for(v=0;v<u;v+=this.blocksize)for(_=0;_<g;_+=this.blocksize)for(d=v*4*g+_*4,y=a[d],b=a[d+1],w=a[d+2],C=a[d+3],B=Math.min(v+this.blocksize,u),W=Math.min(_+this.blocksize,g),S=v;S<B;S++)for(O=_;O<W;O++)d=S*4*g+O*4,a[d]=y,a[d+1]=b,a[d+2]=w,a[d+3]=C},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(o,l){return{uBlocksize:o.getUniformLocation(l,"uBlocksize"),uStepW:o.getUniformLocation(l,"uStepW"),uStepH:o.getUniformLocation(l,"uStepH")}},sendUniformData:function(o,l){o.uniform1f(l.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.RemoveColor=o(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(l){var a=l.imageData,u=a.data,g,d=this.distance*255,v,_,y,b=new i.Color(this.color).getSource(),w=[b[0]-d,b[1]-d,b[2]-d],C=[b[0]+d,b[1]+d,b[2]+d];for(g=0;g<u.length;g+=4)v=u[g],_=u[g+1],y=u[g+2],v>w[0]&&_>w[1]&&y>w[2]&&v<C[0]&&_<C[1]&&y<C[2]&&(u[g+3]=0)},getUniformLocations:function(l,a){return{uLow:l.getUniformLocation(a,"uLow"),uHigh:l.getUniformLocation(a,"uHigh")}},sendUniformData:function(l,a){var u=new i.Color(this.color).getSource(),g=parseFloat(this.distance),d=[0+u[0]/255-g,0+u[1]/255-g,0+u[2]/255-g,1],v=[u[0]/255+g,u[1]/255+g,u[2]/255+g,1];l.uniform4fv(a.uLow,d),l.uniform4fv(a.uHigh,v)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var l in o)h[l]=f(h.ColorMatrix,{type:l,matrix:o[l],mainParameter:!1,colorsOnly:!0}),i.Image.filters[l].fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric,h=i.Image.filters,f=i.util.createClass;h.BlendColor=f(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(o){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[o]+`}
}`},retrieveShader:function(o){var l=this.type+"_"+this.mode,a;return o.programCache.hasOwnProperty(l)||(a=this.buildSource(this.mode),o.programCache[l]=this.createProgram(o.context,a)),o.programCache[l]},applyTo2d:function(o){var l=o.imageData,a=l.data,u=a.length,g,d,v,_,y,b,w,C=1-this.alpha;w=new i.Color(this.color).getSource(),g=w[0]*this.alpha,d=w[1]*this.alpha,v=w[2]*this.alpha;for(var S=0;S<u;S+=4)switch(_=a[S],y=a[S+1],b=a[S+2],this.mode){case"multiply":a[S]=_*g/255,a[S+1]=y*d/255,a[S+2]=b*v/255;break;case"screen":a[S]=255-(255-_)*(255-g)/255,a[S+1]=255-(255-y)*(255-d)/255,a[S+2]=255-(255-b)*(255-v)/255;break;case"add":a[S]=_+g,a[S+1]=y+d,a[S+2]=b+v;break;case"diff":case"difference":a[S]=Math.abs(_-g),a[S+1]=Math.abs(y-d),a[S+2]=Math.abs(b-v);break;case"subtract":a[S]=_-g,a[S+1]=y-d,a[S+2]=b-v;break;case"darken":a[S]=Math.min(_,g),a[S+1]=Math.min(y,d),a[S+2]=Math.min(b,v);break;case"lighten":a[S]=Math.max(_,g),a[S+1]=Math.max(y,d),a[S+2]=Math.max(b,v);break;case"overlay":a[S]=g<128?2*_*g/255:255-2*(255-_)*(255-g)/255,a[S+1]=d<128?2*y*d/255:255-2*(255-y)*(255-d)/255,a[S+2]=v<128?2*b*v/255:255-2*(255-b)*(255-v)/255;break;case"exclusion":a[S]=g+_-2*g*_/255,a[S+1]=d+y-2*d*y/255,a[S+2]=v+b-2*v*b/255;break;case"tint":a[S]=g+_*C,a[S+1]=d+y*C,a[S+2]=v+b*C}},getUniformLocations:function(o,l){return{uColor:o.getUniformLocation(l,"uColor")}},sendUniformData:function(o,l){var a=new i.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,o.uniform4fv(l.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric,h=i.Image.filters,f=i.util.createClass;h.BlendImage=f(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(o){var l=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return o.programCache.hasOwnProperty(l)||(o.programCache[l]=this.createProgram(o.context,a)),o.programCache[l]},applyToWebGL:function(o){var l=o.context,a=this.createTexture(o.filterBackend,this.image);this.bindAdditionalTexture(l,a,l.TEXTURE1),this.callSuper("applyToWebGL",o),this.unbindAdditionalTexture(l,l.TEXTURE1)},createTexture:function(o,l){return o.getCachedTexture(l.cacheKey,l._element)},calculateMatrix:function(){var o=this.image,l=o._element.width,a=o._element.height;return[1/o.scaleX,0,0,0,1/o.scaleY,0,-o.left/l,-o.top/a,1]},applyTo2d:function(o){var l=o.imageData,a=o.filterBackend.resources,u=l.data,g=u.length,d=l.width,v=l.height,_,y,b,w,C,S,O,B,W,K,z=this.image,re;a.blendImage||(a.blendImage=i.util.createCanvasElement()),W=a.blendImage,K=W.getContext("2d"),W.width!==d||W.height!==v?(W.width=d,W.height=v):K.clearRect(0,0,d,v),K.setTransform(z.scaleX,0,0,z.scaleY,z.left,z.top),K.drawImage(z._element,0,0,d,v),re=K.getImageData(0,0,d,v).data;for(var se=0;se<g;se+=4)switch(C=u[se],S=u[se+1],O=u[se+2],B=u[se+3],_=re[se],y=re[se+1],b=re[se+2],w=re[se+3],this.mode){case"multiply":u[se]=C*_/255,u[se+1]=S*y/255,u[se+2]=O*b/255,u[se+3]=B*w/255;break;case"mask":u[se+3]=w;break}},getUniformLocations:function(o,l){return{uTransformMatrix:o.getUniformLocation(l,"uTransformMatrix"),uImage:o.getUniformLocation(l,"uImage")}},sendUniformData:function(o,l){var a=this.calculateMatrix();o.uniform1i(l.uImage,1),o.uniformMatrix3fv(l.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(o,l){i.Image.fromObject(o.image,function(a){var u=i.util.object.clone(o);u.image=a,l(new i.Image.filters.BlendImage(u))})}}(e),function(c){var i=c.fabric||(c.fabric={}),h=Math.pow,f=Math.floor,o=Math.sqrt,l=Math.abs,a=Math.round,u=Math.sin,g=Math.ceil,d=i.Image.filters,v=i.util.createClass;d.Resize=v(d.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(_,y){return{uDelta:_.getUniformLocation(y,"uDelta"),uTaps:_.getUniformLocation(y,"uTaps")}},sendUniformData:function(_,y){_.uniform2fv(y.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),_.uniform1fv(y.uTaps,this.taps)},retrieveShader:function(_){var y=this.getFilterWindow(),b=this.type+"_"+y;if(!_.programCache.hasOwnProperty(b)){var w=this.generateShader(y);_.programCache[b]=this.createProgram(_.context,w)}return _.programCache[b]},getFilterWindow:function(){var _=this.tempScale;return Math.ceil(this.lanczosLobes/_)},getTaps:function(){for(var _=this.lanczosCreate(this.lanczosLobes),y=this.tempScale,b=this.getFilterWindow(),w=new Array(b),C=1;C<=b;C++)w[C-1]=_(C*y);return w},generateShader:function(w){for(var y=new Array(w),b=this.fragmentSourceTOP,w,C=1;C<=w;C++)y[C-1]=C+".0 * uDelta";return b+="uniform float uTaps["+w+`];
`,b+=`void main() {
`,b+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,b+=`  float sum = 1.0;
`,y.forEach(function(S,O){b+="  color += texture2D(uTexture, vTexCoord + "+S+") * uTaps["+O+`];
`,b+="  color += texture2D(uTexture, vTexCoord - "+S+") * uTaps["+O+`];
`,b+="  sum += 2.0 * uTaps["+O+`];
`}),b+=`  gl_FragColor = color / sum;
`,b+="}",b},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(_){_.webgl?(_.passes++,this.width=_.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=_.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),_.destinationWidth=this.dW,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceWidth=_.destinationWidth,this.height=_.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),_.destinationHeight=this.dH,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceHeight=_.destinationHeight):this.applyTo2d(_)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(_){return function(y){if(y>=_||y<=-_)return 0;if(y<11920929e-14&&y>-11920929e-14)return 1;y*=Math.PI;var b=y/_;return u(y)/y*u(b)/b}},applyTo2d:function(_){var y=_.imageData,b=this.scaleX,w=this.scaleY;this.rcpScaleX=1/b,this.rcpScaleY=1/w;var C=y.width,S=y.height,O=a(C*b),B=a(S*w),W;this.resizeType==="sliceHack"?W=this.sliceByTwo(_,C,S,O,B):this.resizeType==="hermite"?W=this.hermiteFastResize(_,C,S,O,B):this.resizeType==="bilinear"?W=this.bilinearFiltering(_,C,S,O,B):this.resizeType==="lanczos"&&(W=this.lanczosResize(_,C,S,O,B)),_.imageData=W},sliceByTwo:function(_,y,b,w,C){var S=_.imageData,O=.5,B=!1,W=!1,K=y*O,z=b*O,re=i.filterBackend.resources,se,ce,he=0,V=0,Z=y,T=0;for(re.sliceByTwo||(re.sliceByTwo=document.createElement("canvas")),se=re.sliceByTwo,(se.width<y*1.5||se.height<b)&&(se.width=y*1.5,se.height=b),ce=se.getContext("2d"),ce.clearRect(0,0,y*1.5,b),ce.putImageData(S,0,0),w=f(w),C=f(C);!B||!W;)y=K,b=z,w<f(K*O)?K=f(K*O):(K=w,B=!0),C<f(z*O)?z=f(z*O):(z=C,W=!0),ce.drawImage(se,he,V,y,b,Z,T,K,z),he=Z,V=T,T+=z;return ce.getImageData(he,V,w,C)},lanczosResize:function(_,y,b,w,C){function S(F){var D,ne,M,P,U,R,L,N,Q,oe,A;for(T.x=(F+.5)*z,I.x=f(T.x),D=0;D<C;D++){for(T.y=(D+.5)*re,I.y=f(T.y),U=0,R=0,L=0,N=0,Q=0,ne=I.x-he;ne<=I.x+he;ne++)if(!(ne<0||ne>=y)){oe=f(1e3*l(ne-T.x)),Z[oe]||(Z[oe]={});for(var E=I.y-V;E<=I.y+V;E++)E<0||E>=b||(A=f(1e3*l(E-T.y)),Z[oe][A]||(Z[oe][A]=K(o(h(oe*se,2)+h(A*ce,2))/1e3)),M=Z[oe][A],M>0&&(P=(E*y+ne)*4,U+=M,R+=M*O[P],L+=M*O[P+1],N+=M*O[P+2],Q+=M*O[P+3]))}P=(D*w+F)*4,W[P]=R/U,W[P+1]=L/U,W[P+2]=N/U,W[P+3]=Q/U}return++F<w?S(F):B}var O=_.imageData.data,B=_.ctx.createImageData(w,C),W=B.data,K=this.lanczosCreate(this.lanczosLobes),z=this.rcpScaleX,re=this.rcpScaleY,se=2/this.rcpScaleX,ce=2/this.rcpScaleY,he=g(z*this.lanczosLobes/2),V=g(re*this.lanczosLobes/2),Z={},T={},I={};return S(0)},bilinearFiltering:function(_,y,b,w,C){var S,O,B,W,K,z,re,se,ce,he,V,Z,T=0,I,F=this.rcpScaleX,D=this.rcpScaleY,ne=4*(y-1),M=_.imageData,P=M.data,U=_.ctx.createImageData(w,C),R=U.data;for(re=0;re<C;re++)for(se=0;se<w;se++)for(K=f(F*se),z=f(D*re),ce=F*se-K,he=D*re-z,I=4*(z*y+K),V=0;V<4;V++)S=P[I+V],O=P[I+4+V],B=P[I+ne+V],W=P[I+ne+4+V],Z=S*(1-ce)*(1-he)+O*ce*(1-he)+B*he*(1-ce)+W*ce*he,R[T++]=Z;return U},hermiteFastResize:function(_,y,b,w,C){for(var S=this.rcpScaleX,O=this.rcpScaleY,B=g(S/2),W=g(O/2),K=_.imageData,z=K.data,re=_.ctx.createImageData(w,C),se=re.data,ce=0;ce<C;ce++)for(var he=0;he<w;he++){for(var V=(he+ce*w)*4,Z=0,T=0,I=0,F=0,D=0,ne=0,M=0,P=(ce+.5)*O,U=f(ce*O);U<(ce+1)*O;U++)for(var R=l(P-(U+.5))/W,L=(he+.5)*S,N=R*R,Q=f(he*S);Q<(he+1)*S;Q++){var oe=l(L-(Q+.5))/B,A=o(N+oe*oe);A>1&&A<-1||(Z=2*A*A*A-3*A*A+1,Z>0&&(oe=4*(Q+U*y),M+=Z*z[oe+3],I+=Z,z[oe+3]<255&&(Z=Z*z[oe+3]/250),F+=Z*z[oe],D+=Z*z[oe+1],ne+=Z*z[oe+2],T+=Z))}se[V]=F/T,se[V+1]=D/T,se[V+2]=ne/T,se[V+3]=M/I}return re},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Contrast=f(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(o){if(this.contrast!==0){var l=o.imageData,a,g,u=l.data,g=u.length,d=Math.floor(this.contrast*255),v=259*(d+255)/(255*(259-d));for(a=0;a<g;a+=4)u[a]=v*(u[a]-128)+128,u[a+1]=v*(u[a+1]-128)+128,u[a+2]=v*(u[a+2]-128)+128}},getUniformLocations:function(o,l){return{uContrast:o.getUniformLocation(l,"uContrast")}},sendUniformData:function(o,l){o.uniform1f(l.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Saturation=f(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(o){if(this.saturation!==0){var l=o.imageData,a=l.data,u=a.length,g=-this.saturation,d,v;for(d=0;d<u;d+=4)v=Math.max(a[d],a[d+1],a[d+2]),a[d]+=v!==a[d]?(v-a[d])*g:0,a[d+1]+=v!==a[d+1]?(v-a[d+1])*g:0,a[d+2]+=v!==a[d+2]?(v-a[d+2])*g:0}},getUniformLocations:function(o,l){return{uSaturation:o.getUniformLocation(l,"uSaturation")}},sendUniformData:function(o,l){o.uniform1f(l.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Vibrance=f(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(o){if(this.vibrance!==0){var l=o.imageData,a=l.data,u=a.length,g=-this.vibrance,d,v,_,y;for(d=0;d<u;d+=4)v=Math.max(a[d],a[d+1],a[d+2]),_=(a[d]+a[d+1]+a[d+2])/3,y=Math.abs(v-_)*2/255*g,a[d]+=v!==a[d]?(v-a[d])*y:0,a[d+1]+=v!==a[d+1]?(v-a[d+1])*y:0,a[d+2]+=v!==a[d+2]?(v-a[d+2])*y:0}},getUniformLocations:function(o,l){return{uVibrance:o.getUniformLocation(l,"uVibrance")}},sendUniformData:function(o,l){o.uniform1f(l.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Blur=f(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(o){o.webgl?(this.aspectRatio=o.sourceWidth/o.sourceHeight,o.passes++,this._setupFrameBuffer(o),this.horizontal=!0,this.applyToWebGL(o),this._swapTextures(o),this._setupFrameBuffer(o),this.horizontal=!1,this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},applyTo2d:function(o){o.imageData=this.simpleBlur(o)},simpleBlur:function(o){var l=o.filterBackend.resources,a,u,g=o.imageData.width,d=o.imageData.height;l.blurLayer1||(l.blurLayer1=i.util.createCanvasElement(),l.blurLayer2=i.util.createCanvasElement()),a=l.blurLayer1,u=l.blurLayer2,(a.width!==g||a.height!==d)&&(u.width=a.width=g,u.height=a.height=d);var v=a.getContext("2d"),_=u.getContext("2d"),y=15,b,w,C,S,O=this.blur*.06*.5;for(v.putImageData(o.imageData,0,0),_.clearRect(0,0,g,d),S=-y;S<=y;S++)b=(Math.random()-.5)/4,w=S/y,C=O*w*g+b,_.globalAlpha=1-Math.abs(w),_.drawImage(a,C,b),v.drawImage(u,0,0),_.globalAlpha=1,_.clearRect(0,0,u.width,u.height);for(S=-y;S<=y;S++)b=(Math.random()-.5)/4,w=S/y,C=O*w*d+b,_.globalAlpha=1-Math.abs(w),_.drawImage(a,b,C),v.drawImage(u,0,0),_.globalAlpha=1,_.clearRect(0,0,u.width,u.height);o.ctx.drawImage(a,0,0);var B=o.ctx.getImageData(0,0,a.width,a.height);return v.globalAlpha=1,v.clearRect(0,0,a.width,a.height),B},getUniformLocations:function(o,l){return{delta:o.getUniformLocation(l,"uDelta")}},sendUniformData:function(o,l){var a=this.chooseRightDelta();o.uniform2fv(l.delta,a)},chooseRightDelta:function(){var o=1,l=[0,0],a;return this.horizontal?this.aspectRatio>1&&(o=1/this.aspectRatio):this.aspectRatio<1&&(o=this.aspectRatio),a=o*this.blur*.12,this.horizontal?l[0]=a:l[1]=a,l}}),h.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Gamma=f(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(o){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,o)},applyTo2d:function(o){var l=o.imageData,a=l.data,u=this.gamma,g=a.length,d=1/u[0],v=1/u[1],_=1/u[2],y;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),y=0,g=256;y<g;y++)this.rVals[y]=Math.pow(y/255,d)*255,this.gVals[y]=Math.pow(y/255,v)*255,this.bVals[y]=Math.pow(y/255,_)*255;for(y=0,g=a.length;y<g;y+=4)a[y]=this.rVals[a[y]],a[y+1]=this.gVals[a[y+1]],a[y+2]=this.bVals[a[y+2]]},getUniformLocations:function(o,l){return{uGamma:o.getUniformLocation(l,"uGamma")}},sendUniformData:function(o,l){o.uniform3fv(l.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.Composed=f(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(o){this.callSuper("initialize",o),this.subFilters=this.subFilters.slice(0)},applyTo:function(o){o.passes+=this.subFilters.length-1,this.subFilters.forEach(function(l){l.applyTo(o)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(o){return o.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(o){return!o.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(o,l){var a=o.subFilters||[],u=a.map(function(d){return new i.Image.filters[d.type](d)}),g=new i.Image.filters.Composed({subFilters:u});return l&&l(g),g}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,f=i.util.createClass;h.HueRotation=f(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var o=this.rotation*Math.PI,l=i.util.cos(o),a=i.util.sin(o),u=1/3,g=Math.sqrt(u)*a,d=1-l;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=l+d/3,this.matrix[1]=u*d-g,this.matrix[2]=u*d+g,this.matrix[5]=u*d+g,this.matrix[6]=l+u*d,this.matrix[7]=u*d-g,this.matrix[10]=u*d-g,this.matrix[11]=u*d+g,this.matrix[12]=l+u*d},isNeutralState:function(o){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,o)},applyTo:function(o){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,o)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(f),cacheProperties:i.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(o,l){this.styles=l?l.styles||{}:{},this.text=o,this.__skipDimension=!0,this.callSuper("initialize",l),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var o=this.path;o&&(o.segmentsInfo=i.util.getPathSegmentsInfo(o.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var o=this._splitTextIntoLines(this.text);return this.textLines=o.lines,this._textLines=o.graphemeLines,this._unwrappedTextLines=o._unwrappedLines,this._text=o.graphemeText,o},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var o,l,a,u,g,d,v,_=0,y=this._textLines.length;_<y;_++)if(!(this.textAlign!=="justify"&&(_===y-1||this.isEndOfWrapping(_)))&&(u=0,g=this._textLines[_],l=this.getLineWidth(_),l<this.width&&(v=this.textLines[_].match(this._reSpacesAndTabs)))){a=v.length,o=(this.width-l)/a;for(var b=0,w=g.length;b<=w;b++)d=this.__charBounds[_][b],this._reSpaceAndTab.test(g[b])?(d.width+=o,d.kernedWidth+=o,d.left+=u,u+=o):d.left+=u}},isEndOfWrapping:function(o){return o===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var o=this.callSuper("_getCacheCanvasDimensions"),l=this.fontSize;return o.width+=l*o.zoomX,o.height+=l*o.zoomY,o},_render:function(o){var l=this.path;l&&!l.isNotVisible()&&l._render(o),this._setTextStyles(o),this._renderTextLinesBackground(o),this._renderTextDecoration(o,"underline"),this._renderText(o),this._renderTextDecoration(o,"overline"),this._renderTextDecoration(o,"linethrough")},_renderText:function(o){this.paintFirst==="stroke"?(this._renderTextStroke(o),this._renderTextFill(o)):(this._renderTextFill(o),this._renderTextStroke(o))},_setTextStyles:function(o,l,a){if(o.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":o.textBaseline="middle";break;case"ascender":o.textBaseline="top";break;case"descender":o.textBaseline="bottom";break}o.font=this._getFontDeclaration(l,a)},calcTextWidth:function(){for(var o=this.getLineWidth(0),l=1,a=this._textLines.length;l<a;l++){var u=this.getLineWidth(l);u>o&&(o=u)}return o},_renderTextLine:function(o,l,a,u,g,d){this._renderChars(o,l,a,u,g,d)},_renderTextLinesBackground:function(o){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var l,a,u=o.fillStyle,g,d,v=this._getLeftOffset(),_=this._getTopOffset(),y=0,b=0,w,C,S=this.path,O,B=0,W=this._textLines.length;B<W;B++){if(l=this.getHeightOfLine(B),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",B)){_+=l;continue}g=this._textLines[B],a=this._getLineLeftOffset(B),b=0,y=0,d=this.getValueOfPropertyAt(B,0,"textBackgroundColor");for(var K=0,z=g.length;K<z;K++)w=this.__charBounds[B][K],C=this.getValueOfPropertyAt(B,K,"textBackgroundColor"),S?(o.save(),o.translate(w.renderLeft,w.renderTop),o.rotate(w.angle),o.fillStyle=C,C&&o.fillRect(-w.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),w.width,l/this.lineHeight),o.restore()):C!==d?(O=v+a+y,this.direction==="rtl"&&(O=this.width-O-b),o.fillStyle=d,d&&o.fillRect(O,_,b,l/this.lineHeight),y=w.left,b=w.width,d=C):b+=w.kernedWidth;C&&!S&&(O=v+a+y,this.direction==="rtl"&&(O=this.width-O-b),o.fillStyle=C,o.fillRect(O,_,b,l/this.lineHeight)),_+=l}o.fillStyle=u,this._removeShadow(o)}},getFontCache:function(o){var l=o.fontFamily.toLowerCase();i.charWidthsCache[l]||(i.charWidthsCache[l]={});var a=i.charWidthsCache[l],u=o.fontStyle.toLowerCase()+"_"+(o.fontWeight+"").toLowerCase();return a[u]||(a[u]={}),a[u]},_measureChar:function(o,l,a,u){var g=this.getFontCache(l),d=this._getFontDeclaration(l),v=this._getFontDeclaration(u),_=a+o,y=d===v,b,w,C,S=l.fontSize/this.CACHE_FONT_SIZE,O;if(a&&g[a]!==void 0&&(C=g[a]),g[o]!==void 0&&(O=b=g[o]),y&&g[_]!==void 0&&(w=g[_],O=w-C),b===void 0||C===void 0||w===void 0){var B=this.getMeasuringContext();this._setTextStyles(B,l,!0)}return b===void 0&&(O=b=B.measureText(o).width,g[o]=b),C===void 0&&y&&a&&(C=B.measureText(a).width,g[a]=C),y&&w===void 0&&(w=B.measureText(_).width,g[_]=w,O=w-C),{width:b*S,kernedWidth:O*S}},getHeightOfChar:function(o,l){return this.getValueOfPropertyAt(o,l,"fontSize")},measureLine:function(o){var l=this._measureLine(o);return this.charSpacing!==0&&(l.width-=this._getWidthOfCharSpacing()),l.width<0&&(l.width=0),l},_measureLine:function(o){var l=0,a,u,g=this._textLines[o],d,v,_=0,y=new Array(g.length),b=0,w,C,S=this.path,O=this.pathSide==="right";for(this.__charBounds[o]=y,a=0;a<g.length;a++)u=g[a],v=this._getGraphemeBox(u,o,a,d),y[a]=v,l+=v.kernedWidth,d=u;if(y[a]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},S){switch(C=S.segmentsInfo[S.segmentsInfo.length-1].length,w=i.util.getPointOnPath(S.path,0,S.segmentsInfo),w.x+=S.pathOffset.x,w.y+=S.pathOffset.y,this.textAlign){case"left":b=O?C-l:0;break;case"center":b=(C-l)/2;break;case"right":b=O?0:C-l;break}for(b+=this.pathStartOffset*(O?-1:1),a=O?g.length-1:0;O?a>=0:a<g.length;O?a--:a++)v=y[a],b>C?b%=C:b<0&&(b+=C),this._setGraphemeOnPath(b,v,w),b+=v.kernedWidth}return{width:l,numOfSpaces:_}},_setGraphemeOnPath:function(o,l,a){var u=o+l.kernedWidth/2,g=this.path,d=i.util.getPointOnPath(g.path,u,g.segmentsInfo);l.renderLeft=d.x-a.x,l.renderTop=d.y-a.y,l.angle=d.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(o,l,a,u,g){var d=this.getCompleteStyleDeclaration(l,a),v=u?this.getCompleteStyleDeclaration(l,a-1):{},_=this._measureChar(o,d,u,v),y=_.kernedWidth,b=_.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),b+=w,y+=w);var C={width:b,left:0,height:d.fontSize,kernedWidth:y,deltaY:d.deltaY};if(a>0&&!g){var S=this.__charBounds[l][a-1];C.left=S.left+S.width+_.kernedWidth-_.width}return C},getHeightOfLine:function(o){if(this.__lineHeights[o])return this.__lineHeights[o];for(var l=this._textLines[o],a=this.getHeightOfChar(o,0),u=1,g=l.length;u<g;u++)a=Math.max(this.getHeightOfChar(o,u),a);return this.__lineHeights[o]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var o,l=0,a=0,u=this._textLines.length;a<u;a++)o=this.getHeightOfLine(a),l+=a===u-1?o/this.lineHeight:o;return l},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(o,l){o.save();for(var a=0,u=this._getLeftOffset(),g=this._getTopOffset(),d=0,v=this._textLines.length;d<v;d++){var _=this.getHeightOfLine(d),y=_/this.lineHeight,b=this._getLineLeftOffset(d);this._renderTextLine(l,o,this._textLines[d],u+b,g+a+y,d),a+=_}o.restore()},_renderTextFill:function(o){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(o,"fillText")},_renderTextStroke:function(o){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this._setLineDash(o,this.strokeDashArray),o.beginPath(),this._renderTextCommon(o,"strokeText"),o.closePath(),o.restore())},_renderChars:function(o,l,a,u,g,d){var v=this.getHeightOfLine(d),_=this.textAlign.indexOf("justify")!==-1,y,b,w="",C,S=0,O,B=this.path,W=!_&&this.charSpacing===0&&this.isEmptyStyles(d)&&!B,K=this.direction==="ltr",z=this.direction==="ltr"?1:-1,re,se=l.canvas.getAttribute("dir");if(l.save(),se!==this.direction&&(l.canvas.setAttribute("dir",K?"ltr":"rtl"),l.direction=K?"ltr":"rtl",l.textAlign=K?"left":"right"),g-=v*this._fontSizeFraction/this.lineHeight,W){this._renderChar(o,l,d,0,a.join(""),u,g,v),l.restore();return}for(var ce=0,he=a.length-1;ce<=he;ce++)O=ce===he||this.charSpacing||B,w+=a[ce],C=this.__charBounds[d][ce],S===0?(u+=z*(C.kernedWidth-C.width),S+=C.width):S+=C.kernedWidth,_&&!O&&this._reSpaceAndTab.test(a[ce])&&(O=!0),O||(y=y||this.getCompleteStyleDeclaration(d,ce),b=this.getCompleteStyleDeclaration(d,ce+1),O=i.util.hasStyleChanged(y,b,!1)),O&&(B?(l.save(),l.translate(C.renderLeft,C.renderTop),l.rotate(C.angle),this._renderChar(o,l,d,ce,w,-S/2,0,v),l.restore()):(re=u,this._renderChar(o,l,d,ce,w,re,g,v)),w="",y=b,u+=z*S,S=0);l.restore()},_applyPatternGradientTransformText:function(o){var l=i.util.createCanvasElement(),a,u=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return l.width=u,l.height=g,a=l.getContext("2d"),a.beginPath(),a.moveTo(0,0),a.lineTo(u,0),a.lineTo(u,g),a.lineTo(0,g),a.closePath(),a.translate(u/2,g/2),a.fillStyle=o.toLive(a),this._applyPatternGradientTransform(a,o),a.fill(),a.createPattern(l,"no-repeat")},handleFiller:function(o,l,a){var u,g;return a.toLive?a.gradientUnits==="percentage"||a.gradientTransform||a.patternTransform?(u=-this.width/2,g=-this.height/2,o.translate(u,g),o[l]=this._applyPatternGradientTransformText(a),{offsetX:u,offsetY:g}):(o[l]=a.toLive(o,this),this._applyPatternGradientTransform(o,a)):(o[l]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(o,l){return o.lineWidth=l.strokeWidth,o.lineCap=this.strokeLineCap,o.lineDashOffset=this.strokeDashOffset,o.lineJoin=this.strokeLineJoin,o.miterLimit=this.strokeMiterLimit,this.handleFiller(o,"strokeStyle",l.stroke)},_setFillStyles:function(o,l){return this.handleFiller(o,"fillStyle",l.fill)},_renderChar:function(o,l,a,u,g,d,v){var _=this._getStyleDeclaration(a,u),y=this.getCompleteStyleDeclaration(a,u),b=o==="fillText"&&y.fill,w=o==="strokeText"&&y.stroke&&y.strokeWidth,C,S;!w&&!b||(l.save(),b&&(C=this._setFillStyles(l,y)),w&&(S=this._setStrokeStyles(l,y)),l.font=this._getFontDeclaration(y),_&&_.textBackgroundColor&&this._removeShadow(l),_&&_.deltaY&&(v+=_.deltaY),b&&l.fillText(g,d-C.offsetX,v-C.offsetY),w&&l.strokeText(g,d-S.offsetX,v-S.offsetY),l.restore())},setSuperscript:function(o,l){return this._setScript(o,l,this.superscript)},setSubscript:function(o,l){return this._setScript(o,l,this.subscript)},_setScript:function(o,l,a){var u=this.get2DCursorLocation(o,!0),g=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"fontSize"),d=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"deltaY"),v={fontSize:g*a.size,deltaY:d+g*a.baseline};return this.setSelectionStyles(v,o,l),this},_getLineLeftOffset:function(o){var l=this.getLineWidth(o),a=this.width-l,u=this.textAlign,g=this.direction,v,d=0,v=this.isEndOfWrapping(o);return u==="justify"||u==="justify-center"&&!v||u==="justify-right"&&!v||u==="justify-left"&&!v?0:(u==="center"&&(d=a/2),u==="right"&&(d=a),u==="justify-center"&&(d=a/2),u==="justify-right"&&(d=a),g==="rtl"&&(d-=a),d)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var o=this._forceClearCache;return o||(o=this.hasStateChanged("_dimensionAffectingProps")),o&&(this.dirty=!0,this._forceClearCache=!1),o},getLineWidth:function(o){if(this.__lineWidths[o]!==void 0)return this.__lineWidths[o];var l=this.measureLine(o),a=l.width;return this.__lineWidths[o]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(o,l,a){var u=this._getStyleDeclaration(o,l);return u&&typeof u[a]<"u"?u[a]:this[a]},_renderTextDecoration:function(o,l){if(!(!this[l]&&!this.styleHas(l))){for(var a,u,g,d,v,_,y,b,w=this._getLeftOffset(),C=this._getTopOffset(),S,O,B,W,K,z,re,se,ce=this.path,he=this._getWidthOfCharSpacing(),V=this.offsets[l],Z=0,T=this._textLines.length;Z<T;Z++){if(a=this.getHeightOfLine(Z),!this[l]&&!this.styleHas(l,Z)){C+=a;continue}y=this._textLines[Z],z=a/this.lineHeight,d=this._getLineLeftOffset(Z),O=0,B=0,b=this.getValueOfPropertyAt(Z,0,l),se=this.getValueOfPropertyAt(Z,0,"fill"),S=C+z*(1-this._fontSizeFraction),u=this.getHeightOfChar(Z,0),v=this.getValueOfPropertyAt(Z,0,"deltaY");for(var I=0,F=y.length;I<F;I++)if(W=this.__charBounds[Z][I],K=this.getValueOfPropertyAt(Z,I,l),re=this.getValueOfPropertyAt(Z,I,"fill"),g=this.getHeightOfChar(Z,I),_=this.getValueOfPropertyAt(Z,I,"deltaY"),ce&&K&&re)o.save(),o.fillStyle=se,o.translate(W.renderLeft,W.renderTop),o.rotate(W.angle),o.fillRect(-W.kernedWidth/2,V*g+_,W.kernedWidth,this.fontSize/15),o.restore();else if((K!==b||re!==se||g!==u||_!==v)&&B>0){var D=w+d+O;this.direction==="rtl"&&(D=this.width-D-B),b&&se&&(o.fillStyle=se,o.fillRect(D,S+V*u+v,B,this.fontSize/15)),O=W.left,B=W.width,b=K,se=re,u=g,v=_}else B+=W.kernedWidth;var D=w+d+O;this.direction==="rtl"&&(D=this.width-D-B),o.fillStyle=re,K&&re&&o.fillRect(D,S+V*u+v,B-he,this.fontSize/15),C+=a}this._removeShadow(o)}},_getFontDeclaration:function(o,l){var a=o||this,u=this.fontFamily,g=i.Text.genericFonts.indexOf(u.toLowerCase())>-1,d=u===void 0||u.indexOf("'")>-1||u.indexOf(",")>-1||u.indexOf('"')>-1||g?a.fontFamily:'"'+a.fontFamily+'"';return[i.isLikelyNode?a.fontWeight:a.fontStyle,i.isLikelyNode?a.fontStyle:a.fontWeight,l?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",d].join(" ")},render:function(o){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",o)))},_splitTextIntoLines:function(o){for(var l=o.split(this._reNewline),a=new Array(l.length),u=[`
`],g=[],d=0;d<l.length;d++)a[d]=i.util.string.graphemeSplit(l[d]),g=g.concat(a[d],u);return g.pop(),{_unwrappedLines:a,lines:l,graphemeText:g,graphemeLines:a}},toObject:function(o){var l=f.concat(o),a=this.callSuper("toObject",l);return a.styles=i.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(o,l){this.callSuper("set",o,l);var a=!1,u=!1;if(typeof o=="object")for(var g in o)g==="path"&&this.setPathInfo(),a=a||this._dimensionAffectingProps.indexOf(g)!==-1,u=u||g==="path";else a=this._dimensionAffectingProps.indexOf(o)!==-1,u=o==="path";return u&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(o,l,a){if(!o)return l(null);var u=i.parseAttributes(o,i.Text.ATTRIBUTE_NAMES),g=u.textAnchor||"left";if(a=i.util.object.extend(a?h(a):{},u),a.top=a.top||0,a.left=a.left||0,u.textDecoration){var d=u.textDecoration;d.indexOf("underline")!==-1&&(a.underline=!0),d.indexOf("overline")!==-1&&(a.overline=!0),d.indexOf("line-through")!==-1&&(a.linethrough=!0),delete a.textDecoration}"dx"in u&&(a.left+=u.dx),"dy"in u&&(a.top+=u.dy),"fontSize"in a||(a.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in o?v=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(v=o.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var _=a.strokeWidth;a.strokeWidth=0;var y=new i.Text(v,a),b=y.getScaledHeight()/y.height,w=(y.height+y.strokeWidth)*y.lineHeight-y.height,C=w*b,S=y.getScaledHeight()+C,O=0;g==="center"&&(O=y.getScaledWidth()/2),g==="right"&&(O=y.getScaledWidth()),y.set({left:y.left-O,top:y.top-(S-y.fontSize*(.07+y._fontSizeFraction))/y.lineHeight,strokeWidth:typeof _<"u"?_:1}),l(y)},i.Text.fromObject=function(o,l){var a=h(o),u=o.path;return delete a.path,i.Object._fromObject("Text",a,function(g){g.styles=i.util.stylesFromArray(o.styles,o.text),u?i.Object._fromObject("Path",u,function(d){g.set("path",d),l(g)},"path"):l(g)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(c){if(!this.styles||typeof c<"u"&&!this.styles[c])return!0;var i=typeof c>"u"?this.styles:{line:this.styles[c]};for(var h in i)for(var f in i[h])for(var o in i[h][f])return!1;return!0},styleHas:function(c,i){if(!this.styles||!c||c===""||typeof i<"u"&&!this.styles[i])return!1;var h=typeof i>"u"?this.styles:{0:this.styles[i]};for(var f in h)for(var o in h[f])if(typeof h[f][o][c]<"u")return!0;return!1},cleanStyle:function(c){if(!this.styles||!c||c==="")return!1;var i=this.styles,h=0,f,o,l=!0,a=0,u;for(var g in i){f=0;for(var d in i[g]){var u=i[g][d],v=u.hasOwnProperty(c);h++,v?(o?u[c]!==o&&(l=!1):o=u[c],u[c]===this[c]&&delete u[c]):l=!1,Object.keys(u).length!==0?f++:delete i[g][d]}f===0&&delete i[g]}for(var _=0;_<this._textLines.length;_++)a+=this._textLines[_].length;l&&h===a&&(this[c]=o,this.removeStyle(c))},removeStyle:function(c){if(!(!this.styles||!c||c==="")){var i=this.styles,h,f,o;for(f in i){h=i[f];for(o in h)delete h[o][c],Object.keys(h[o]).length===0&&delete h[o];Object.keys(h).length===0&&delete i[f]}}},_extendStyles:function(c,i){var h=this.get2DCursorLocation(c);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),i)},get2DCursorLocation:function(c,i){typeof c>"u"&&(c=this.selectionStart);for(var h=i?this._unwrappedTextLines:this._textLines,f=h.length,o=0;o<f;o++){if(c<=h[o].length)return{lineIndex:o,charIndex:c};c-=h[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:h[o-1].length<c?h[o-1].length:c}},getSelectionStyles:function(c,i,h){typeof c>"u"&&(c=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||c);for(var f=[],o=c;o<i;o++)f.push(this.getStyleAtPosition(o,h));return f},getStyleAtPosition:function(c,i){var h=this.get2DCursorLocation(c),f=i?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return f||{}},setSelectionStyles:function(c,i,h){typeof i>"u"&&(i=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||i);for(var f=i;f<h;f++)this._extendStyles(f,c);return this._forceClearCache=!0,this},_getStyleDeclaration:function(c,i){var h=this.styles&&this.styles[c];return h?h[i]:null},getCompleteStyleDeclaration:function(c,i){for(var h=this._getStyleDeclaration(c,i)||{},f={},o,l=0;l<this._styleProperties.length;l++)o=this._styleProperties[l],f[o]=typeof h[o]>"u"?this[o]:h[o];return f},_setStyleDeclaration:function(c,i,h){this.styles[c][i]=h},_deleteStyleDeclaration:function(c,i){delete this.styles[c][i]},_getLineStyle:function(c){return!!this.styles[c]},_setLineStyle:function(c){this.styles[c]={}},_deleteLineStyle:function(c){delete this.styles[c]}})}(),function(){function c(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,h){this.callSuper("initialize",i,h),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,h){this[i]!==h&&(this._fireSelectionChanged(),this[i]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,f=this.canvas.viewportTransform;h.save(),h.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(h),this._clearTextArea(h),i||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,h):this.renderSelection(i,h),h.restore()}},_clearTextArea:function(i){var h=this.width+4,f=this.height+4;i.clearRect(-h/2,-f/2,h,f)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var h=this._getLeftOffset(),f=this._getTopOffset(),o=this._getCursorBoundariesOffsets(i);return{left:h,top:f,leftOffset:o.left,topOffset:o.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,f,o,l=0,a=0,u,g=this.get2DCursorLocation(i);o=g.charIndex,f=g.lineIndex;for(var d=0;d<f;d++)l+=this.getHeightOfLine(d);h=this._getLineLeftOffset(f);var v=this.__charBounds[f][o];return v&&(a=v.left),this.charSpacing!==0&&o===this._textLines[f].length&&(a-=this._getWidthOfCharSpacing()),u={top:l,left:h+(a>0?a:0)},this.direction==="rtl"&&(u.left*=-1),this.cursorOffsetCache=u,this.cursorOffsetCache},renderCursor:function(i,h){var f=this.get2DCursorLocation(),o=f.lineIndex,l=f.charIndex>0?f.charIndex-1:0,a=this.getValueOfPropertyAt(o,l,"fontSize"),u=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/u,d=i.topOffset,v=this.getValueOfPropertyAt(o,l,"deltaY");d+=(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,l,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(i.left+i.leftOffset-g/2,d+i.top+v,g,a)},renderSelection:function(i,h){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,o=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,l=this.textAlign.indexOf("justify")!==-1,a=this.get2DCursorLocation(f),u=this.get2DCursorLocation(o),g=a.lineIndex,d=u.lineIndex,v=a.charIndex<0?0:a.charIndex,_=u.charIndex<0?0:u.charIndex,y=g;y<=d;y++){var b=this._getLineLeftOffset(y)||0,w=this.getHeightOfLine(y),C=0,S=0,O=0;if(y===g&&(S=this.__charBounds[g][v].left),y>=g&&y<d)O=l&&!this.isEndOfWrapping(y)?this.width:this.getLineWidth(y)||5;else if(y===d)if(_===0)O=this.__charBounds[d][_].left;else{var B=this._getWidthOfCharSpacing();O=this.__charBounds[d][_-1].left+this.__charBounds[d][_-1].width-B}C=w,(this.lineHeight<1||y===d&&this.lineHeight>1)&&(w/=this.lineHeight);var W=i.left+b+S,K=O-S,z=w,re=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",z=1,re=w):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(W=this.width-W-K),h.fillRect(W,i.top+i.topOffset+re,K,z),i.topOffset+=C}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),h=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:h}}}),t.IText.fromObject=function(i,h){var f=t.util.stylesFromArray(i.styles,i.text),o=Object.assign({},i,{styles:f});if(c(o),o.styles)for(var l in o.styles)for(var a in o.styles[l])c(o.styles[l][a]);t.Object._fromObject("IText",o,h,"text")}}(),function(){var c=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var h=i.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,i._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var h=i.canvas;h&&(h._iTextInstances=h._iTextInstances||[],t.util.removeFromArray(h._iTextInstances,i),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,i._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,h,f,o){var l;return l={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",h,{duration:f,onComplete:function(){l.isAborted||i[o]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return l.isAborted}}),l},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var h=this,f=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},f)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var h=0,f=i-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)h++,f--;for(;/\S/.test(this._text[f])&&f>-1;)h++,f--;return i-h},findWordBoundaryRight:function(i){var h=0,f=i;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)h++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)h++,f++;return i+h},findLineBoundaryLeft:function(i){for(var h=0,f=i-1;!/\n/.test(this._text[f])&&f>-1;)h++,f--;return i-h},findLineBoundaryRight:function(i){for(var h=0,f=i;!/\n/.test(this._text[f])&&f<this._text.length;)h++,f++;return i+h},searchWordBoundary:function(i,h){for(var f=this._text,o=this._reSpace.test(f[i])?i-1:i,l=f[o],a=t.reNonWord;!a.test(l)&&o>0&&o<f.length;)o+=h,l=f[o];return a.test(l)&&(o+=h===1?0:1),o},selectWord:function(i){i=i||this.selectionStart;var h=this.searchWordBoundary(i,-1),f=this.searchWordBoundary(i,1);this.selectionStart=h,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var h=this.findLineBoundaryLeft(i),f=this.findLineBoundaryRight(i);return this.selectionStart=h,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var h=this.getSelectionStartFromPointer(i.e),f=this.selectionStart,o=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||f===o)&&(f===h||o===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==o)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,h,f){var o=f.slice(0,i),l=t.util.string.graphemeSplit(o).length;if(i===h)return{selectionStart:l,selectionEnd:l};var a=f.slice(i,h),u=t.util.string.graphemeSplit(a).length;return{selectionStart:l,selectionEnd:l+u}},fromGraphemeToStringSelection:function(i,h,f){var o=f.slice(0,i),l=o.join("").length;if(i===h)return{selectionStart:l,selectionEnd:l};var a=f.slice(i,h),u=a.join("").length;return{selectionStart:l,selectionEnd:l+u}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(i),f=this.get2DCursorLocation(i),o=f.lineIndex,l=f.charIndex,a=this.getValueOfPropertyAt(o,l,"fontSize")*this.lineHeight,u=h.leftOffset,g=this.calcTransformMatrix(),d={x:h.left+u,y:h.top+h.topOffset+a},v=this.canvas.getRetinaScaling(),_=this.canvas.upperCanvasEl,y=_.width/v,b=_.height/v,w=y-a,C=b-a,S=_.clientWidth/y,O=_.clientHeight/b;return d=t.util.transformPoint(d,g),d=t.util.transformPoint(d,this.canvas.viewportTransform),d.x*=S,d.y*=O,d.x<0&&(d.x=0),d.x>w&&(d.x=w),d.y<0&&(d.y=0),d.y>C&&(d.y=C),d.x+=this.canvas._offset.left,d.y+=this.canvas._offset.top,{left:d.x+"px",top:d.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,h){var f=this.get2DCursorLocation(i,!0),o=this.get2DCursorLocation(h,!0),l=f.lineIndex,a=f.charIndex,u=o.lineIndex,g=o.charIndex,d,v;if(l!==u){if(this.styles[l])for(d=a;d<this._unwrappedTextLines[l].length;d++)delete this.styles[l][d];if(this.styles[u])for(d=g;d<this._unwrappedTextLines[u].length;d++)v=this.styles[u][d],v&&(this.styles[l]||(this.styles[l]={}),this.styles[l][a+d-g]=v);for(d=l+1;d<=u;d++)delete this.styles[d];this.shiftLineStyles(u,l-u)}else if(this.styles[l]){v=this.styles[l];var _=g-a,y,b;for(d=a;d<g;d++)delete v[d];for(b in this.styles[l])y=parseInt(b,10),y>=g&&(v[y-_]=v[b],delete v[b])}},shiftLineStyles:function(i,h){var f=c(this.styles);for(var o in this.styles){var l=parseInt(o,10);l>i&&(this.styles[l+h]=f[l],f[l-h]||delete this.styles[l])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,h,f,o){var l,a={},u=!1,g=this._unwrappedTextLines[i].length===h;f||(f=1),this.shiftLineStyles(i,f),this.styles[i]&&(l=this.styles[i][h===0?h:h-1]);for(var d in this.styles[i]){var v=parseInt(d,10);v>=h&&(u=!0,a[v-h]=this.styles[i][d],g&&h===0||delete this.styles[i][d])}var _=!1;for(u&&!g&&(this.styles[i+f]=a,_=!0),_&&f--;f>0;)o&&o[f-1]?this.styles[i+f]={0:c(o[f-1])}:l?this.styles[i+f]={0:c(l)}:delete this.styles[i+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(i,h,f,o){this.styles||(this.styles={});var l=this.styles[i],a=l?c(l):{};f||(f=1);for(var u in a){var g=parseInt(u,10);g>=h&&(l[g+f]=a[g],a[g-f]||delete l[g])}if(this._forceClearCache=!0,o){for(;f--;)Object.keys(o[f]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][h+f]=c(o[f]));return}if(l)for(var d=l[h?h-1:1];d&&f--;)this.styles[i][h+f]=c(d)},insertNewStyleBlock:function(i,h,f){for(var o=this.get2DCursorLocation(h,!0),l=[0],a=0,u=0;u<i.length;u++)i[u]===`
`?(a++,l[a]=0):l[a]++;l[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,l[0],f),f=f&&f.slice(l[0]+1)),a&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+l[0],a);for(var u=1;u<a;u++)l[u]>0?this.insertCharStyleObject(o.lineIndex+u,0,l[u],f):f&&this.styles[o.lineIndex+u]&&f[0]&&(this.styles[o.lineIndex+u][0]=f[0]),f=f&&f.slice(l[u]+1);l[u]>0&&this.insertCharStyleObject(o.lineIndex+u,0,l[u],f)},setSelectionStartEndWithShift:function(i,h,f){f<=i?(h===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=f):f>i&&f<h?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(h===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=f)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(c){if(this.canvas){this.__newClickTime=+new Date;var i=c.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",c),this._stopEvent(c.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(c){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===c.x&&this.__lastPointer.y===c.y},_stopEvent:function(c){c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(c){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(c.e))},tripleClickHandler:function(c){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(c.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(c.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(c){if(this.__isMousedown=!1,!(!this.editable||this.group||c.transform&&c.transform.actionPerformed||c.e.button&&c.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(c.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(c){var i=this.getSelectionStartFromPointer(c),h=this.selectionStart,f=this.selectionEnd;c.shiftKey?this.setSelectionStartEndWithShift(h,f,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(c){for(var i=this.getLocalPointer(c),h=0,f=0,o=0,l=0,a=0,u,g,d=0,v=this._textLines.length;d<v&&o<=i.y;d++)o+=this.getHeightOfLine(d)*this.scaleY,a=d,d>0&&(l+=this._textLines[d-1].length+this.missingNewlineOffset(d-1));u=this._getLineLeftOffset(a),f=u*this.scaleX,g=this._textLines[a],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+f);for(var _=0,y=g.length;_<y&&(h=f,f+=this.__charBounds[a][_].kernedWidth*this.scaleX,f<=i.x);_++)l++;return this._getNewSelectionStartFromOffset(i,h,f,l,y)},_getNewSelectionStartFromOffset:function(c,i,h,f,o){var l=c.x-i,a=h-c.x,u=a>l||a<0?0:1,g=f+u;return this.flipX&&(g=o-g),g>this._text.length&&(g=this._text.length),g}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var c=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+c.top+"; left: "+c.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+c.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(c){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(c.keyCode in i)this[i[c.keyCode]](c);else if(c.keyCode in this.ctrlKeysMapDown&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapDown[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),c.keyCode>=33&&c.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(c){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(c.keyCode in this.ctrlKeysMapUp&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapUp[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(c){var i=this.fromPaste;if(this.fromPaste=!1,c&&c.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,o=h.length,l,a,u=o-f,g=this.selectionStart,d=this.selectionEnd,v=g!==d,_,y,b;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),C=g>w.selectionStart;v?(l=this._text.slice(g,d),u+=d-g):o<f&&(C?l=this._text.slice(d+u,d):l=this._text.slice(g,g-u)),a=h.slice(w.selectionEnd-u,w.selectionEnd),l&&l.length&&(a.length&&(_=this.getSelectionStyles(g,g+1,!1),_=a.map(function(){return _[0]})),v?(y=g,b=d):C?(y=d-l.length,b=d):(y=d,b=d+l.length),this.removeStyleFromTo(y,b)),a.length&&(i&&a.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(_=t.copiedTextStyle),this.insertNewStyleBlock(a,g,_)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(c){this.compositionStart=c.target.selectionStart,this.compositionEnd=c.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(c){return c&&c.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(c,i){var h=this._getLineLeftOffset(c),f;return i>0&&(f=this.__charBounds[c][i-1],h+=f.left+f.width),h},getDownCursorOffset:function(c,i){var h=this._getSelectionForOffset(c,i),f=this.get2DCursorLocation(h),o=f.lineIndex;if(o===this._textLines.length-1||c.metaKey||c.keyCode===34)return this._text.length-h;var l=f.charIndex,a=this._getWidthBeforeCursor(o,l),u=this._getIndexOnLine(o+1,a),g=this._textLines[o].slice(l);return g.length+u+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(c,i){return c.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(c,i){var h=this._getSelectionForOffset(c,i),f=this.get2DCursorLocation(h),o=f.lineIndex;if(o===0||c.metaKey||c.keyCode===33)return-h;var l=f.charIndex,a=this._getWidthBeforeCursor(o,l),u=this._getIndexOnLine(o-1,a),g=this._textLines[o].slice(0,l),d=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+u-g.length+(1-d)},_getIndexOnLine:function(c,i){for(var h=this._textLines[c],f=this._getLineLeftOffset(c),o=f,l=0,a,u,g=0,d=h.length;g<d;g++)if(a=this.__charBounds[c][g].width,o+=a,o>i){u=!0;var v=o-a,_=o,y=Math.abs(v-i),b=Math.abs(_-i);l=b<y?g:g-1;break}return u||(l=h.length-1),l},moveCursorDown:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",c)},moveCursorUp:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",c)},_moveCursorUpOrDown:function(c,i){var h="get"+c+"CursorOffset",f=this[h](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(c){var i=this._selectionDirection==="left"?this.selectionStart+c:this.selectionEnd+c;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),c!==0},moveCursorWithoutShift:function(c){return c<0?(this.selectionStart+=c,this.selectionEnd=this.selectionStart):(this.selectionEnd+=c,this.selectionStart=this.selectionEnd),c!==0},moveCursorLeft:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",c)},_move:function(c,i,h){var f;if(c.altKey)f=this["findWordBoundary"+h](this[i]);else if(c.metaKey||c.keyCode===35||c.keyCode===36)f=this["findLineBoundary"+h](this[i]);else return this[i]+=h==="Left"?-1:1,!0;if(typeof f<"u"&&this[i]!==f)return this[i]=f,!0},_moveLeft:function(c,i){return this._move(c,i,"Left")},_moveRight:function(c,i){return this._move(c,i,"Right")},moveCursorLeftWithoutShift:function(c){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(c,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(c){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(c,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(c,"selectionStart")},moveCursorRight:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",c)},_moveCursorLeftOrRight:function(c,i){var h="moveCursor"+c+"With";this._currentCursorOpacity=1,i.shiftKey?h+="Shift":h+="outShift",this[h](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(c){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(c,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(c,"selectionEnd")},moveCursorRightWithoutShift:function(c){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(c,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(c,i){typeof i>"u"&&(i=c+1),this.removeStyleFromTo(c,i),this._text.splice(c,i-c),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(c,i,h,f){typeof f>"u"&&(f=h),f>h&&this.removeStyleFromTo(h,f);var o=t.util.string.graphemeSplit(c);this.insertNewStyleBlock(o,h,i),this._text=[].concat(this._text.slice(0,h),o,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var c=t.util.toFixed,i=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),f=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(f)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var f=!0,o=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(f),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,f){var o=[],l=[],a=h,u;this._setSVGBg(l);for(var g=0,d=this._textLines.length;g<d;g++)u=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(l,g,f+u,a),this._setSVGTextLineText(o,g,f+u,a),a+=this.getHeightOfLine(g);return{textSpans:o,textBgRects:l}},_createTextCharSpan:function(h,f,o,l){var a=h!==h.trim()||h.match(i),u=this.getSvgSpanStyles(f,a),g=u?'style="'+u+'"':"",d=f.deltaY,v="",_=t.Object.NUM_FRACTION_DIGITS;return d&&(v=' dy="'+c(d,_)+'" '),['<tspan x="',c(o,_),'" y="',c(l,_),'" ',v,g,">",t.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,f,o,l){var a=this.getHeightOfLine(f),u=this.textAlign.indexOf("justify")!==-1,g,d,v="",_,y,b=0,w=this._textLines[f],C;l+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var S=0,O=w.length-1;S<=O;S++)C=S===O||this.charSpacing,v+=w[S],_=this.__charBounds[f][S],b===0?(o+=_.kernedWidth-_.width,b+=_.width):b+=_.kernedWidth,u&&!C&&this._reSpaceAndTab.test(w[S])&&(C=!0),C||(g=g||this.getCompleteStyleDeclaration(f,S),d=this.getCompleteStyleDeclaration(f,S+1),C=t.util.hasStyleChanged(g,d,!0)),C&&(y=this._getStyleDeclaration(f,S)||{},h.push(this._createTextCharSpan(v,y,o,l)),v="",g=d,o+=b,b=0)},_pushTextBgRect:function(h,f,o,l,a,u){var g=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(f),' x="',c(o,g),'" y="',c(l,g),'" width="',c(a,g),'" height="',c(u,g),`"></rect>
`)},_setSVGTextLineBg:function(h,f,o,l){for(var a=this._textLines[f],u=this.getHeightOfLine(f)/this.lineHeight,g=0,d=0,v,_,y=this.getValueOfPropertyAt(f,0,"textBackgroundColor"),b=0,w=a.length;b<w;b++)v=this.__charBounds[f][b],_=this.getValueOfPropertyAt(f,b,"textBackgroundColor"),_!==y?(y&&this._pushTextBgRect(h,y,o+d,l,g,u),d=v.left,g=v.width,y=_):g+=v.kernedWidth;_&&this._pushTextBgRect(h,_,o+d,l,g,u)},_getFillAttributes:function(h){var f=h&&typeof h=="string"?new t.Color(h):"";return!f||!f.getSource()||f.getAlpha()===1?'fill="'+h+'"':'opacity="'+f.getAlpha()+'" fill="'+f.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var f=0,o=0,l=0;l<h;l++)f+=this.getHeightOfLine(l);return o=this.getHeightOfLine(l),{lineTop:f,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var f=t.Object.prototype.getSvgStyles.call(this,h);return f+" white-space: pre;"}})}(),function(c){var i=c.fabric||(c.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var f=0,o=0,l=0,a={},u=0;u<h.graphemeLines.length;u++)h.graphemeText[l]===`
`&&u>0?(o=0,l++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[l])&&u>0&&(o++,l++),a[u]={line:f,offset:o},l+=h.graphemeLines[u].length,o+=h.graphemeLines[u].length;return a},styleHas:function(h,f){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[f];o&&(f=o.line)}return i.Text.prototype.styleHas.call(this,h,f)},isEmptyStyles:function(h){if(!this.styles)return!0;var f=0,o=h+1,l,a,u=!1,g=this._styleMap[h],d=this._styleMap[h+1];g&&(h=g.line,f=g.offset),d&&(o=d.line,u=o===h,l=d.offset),a=typeof h>"u"?this.styles:{line:this.styles[h]};for(var v in a)for(var _ in a[v])if(_>=f&&(!u||_<l))for(var y in a[v][_])return!1;return!0},_getStyleDeclaration:function(h,f){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[h];if(!o)return null;h=o.line,f=o.offset+f}return this.callSuper("_getStyleDeclaration",h,f)},_setStyleDeclaration:function(h,f,o){var l=this._styleMap[h];h=l.line,f=l.offset+f,this.styles[h][f]=o},_deleteStyleDeclaration:function(h,f){var o=this._styleMap[h];h=o.line,f=o.offset+f,delete this.styles[h][f]},_getLineStyle:function(h){var f=this._styleMap[h];return!!this.styles[f.line]},_setLineStyle:function(h){var f=this._styleMap[h];this.styles[f.line]={}},_wrapText:function(h,f){var o=[],l;for(this.isWrapping=!0,l=0;l<h.length;l++)o=o.concat(this._wrapLine(h[l],l,f));return this.isWrapping=!1,o},_measureWord:function(h,f,o){var l=0,a,u=!0;o=o||0;for(var g=0,d=h.length;g<d;g++){var v=this._getGraphemeBox(h[g],f,g+o,a,u);l+=v.kernedWidth,a=h[g]}return l},_wrapLine:function(h,f,o,W){var a=0,u=this.splitByGrapheme,g=[],d=[],v=u?i.util.string.graphemeSplit(h):h.split(this._wordJoiners),_="",y=0,b=u?"":" ",w=0,C=0,S=0,O=!0,B=this._getWidthOfCharSpacing(),W=W||0;v.length===0&&v.push([]),o-=W;for(var K=0;K<v.length;K++)_=u?v[K]:i.util.string.graphemeSplit(v[K]),w=this._measureWord(_,f,y),y+=_.length,a+=C+w-B,a>o&&!O?(g.push(d),d=[],a=w,O=!0):a+=B,!O&&!u&&d.push(b),d=d.concat(_),C=u?0:this._measureWord([b],f,y),y++,O=!1,w>S&&(S=w);return K&&g.push(d),S+W>this.dynamicMinWidth&&(this.dynamicMinWidth=S-B+W),g},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var f=i.Text.prototype._splitTextIntoLines.call(this,h),o=this._wrapText(f.lines,this.width),l=new Array(o.length),a=0;a<o.length;a++)l[a]=o[a].join("");return f.lines=l,f.graphemeLines=o,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var f in this._styleMap)this._textLines[f]&&(h[this._styleMap[f].line]=1);for(var f in this.styles)h[f]||delete this.styles[f]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),i.Textbox.fromObject=function(h,f){var o=i.util.stylesFromArray(h.styles,h.text),l=Object.assign({},h,{styles:o});return i.Object._fromObject("Textbox",l,f,"text")}}(e),function(){var c=t.controlsUtils,i=c.scaleSkewCursorStyleHandler,h=c.scaleCursorStyleHandler,f=c.scalingEqually,o=c.scalingYOrSkewingX,l=c.scalingXOrSkewingY,a=c.scaleOrSkewActionName,u=t.Object.prototype.controls;if(u.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),u.mr=new t.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),u.mb=new t.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),u.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),u.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:f}),u.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:f}),u.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:f}),u.br=new t.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:f}),u.mtr=new t.Control({x:0,y:-.5,actionHandler:c.rotationWithSnapping,cursorStyleHandler:c.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var g=t.Textbox.prototype.controls={};g.mtr=u.mtr,g.tr=u.tr,g.br=u.br,g.tl=u.tl,g.bl=u.bl,g.mt=u.mt,g.mb=u.mb,g.mr=new t.Control({x:.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),g.ml=new t.Control({x:-.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(Ee);class dL{canvas;workspaceEl;workspace;option;handler;unitEnum;constructor(t){this.handler=t,this.canvas=t.canvas;const n=t.container;if(!n)throw new Error("element #workspace is missing, plz check!");this.workspaceEl=n,this.workspace=null,this.option=t.workareaOption,this.initialize(),this.unitEnum={cm:37.9,mm:3.78,px:1}}initialize(){this._initBackground(),this._initWorkspace(),this._initResizeObserve()}_initBackground(){this.canvas.backgroundImage="",this.canvas.setWidth(this.workspaceEl.offsetWidth).setHeight(this.workspaceEl.offsetHeight)}_initWorkspace(){const t=new Ee.fabric.Rect(this.option);this.canvas.add(t),this.canvas.renderAll(),this.workspace=t,this.auto()}setCenterFromObject(t){const{canvas:n}=this,r=t.getCenterPoint(),s=n.viewportTransform;if(n.width===void 0||n.height===void 0||!s)return;const p=10;s[4]=n.width/2-r.x*s[0]+p,s[5]=n.height/2-r.y*s[3],n.setViewportTransform(s),n.renderAll()}_initResizeObserve(){new ResizeObserver(()=>{this.auto()}).observe(this.workspaceEl)}setSize(t,n){this._initBackground();const r=this.workspace?.unit||"px";this.option.width=t*this.unitEnum[r],this.option.height=n*this.unitEnum[r],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("width",this.option.width),this.workspace.set("height",this.option.height),this.auto()}getBili(){return this.option.width/this.option.height}setWidth(t){this._initBackground();const n=this.workspace?.unit||"px";this.option.width=t*this.unitEnum[n],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("width",t),this.auto()}setHeight(t){this._initBackground();const n=this.workspace?.unit||"px";this.option.height=t*this.unitEnum[n],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("height",t),this.auto()}setZoomAuto(t,n){const{workspaceEl:r}=this,s=r.offsetWidth,p=r.offsetHeight;this.canvas.setWidth(s),this.canvas.setHeight(p);const m=this.canvas.getCenter();this.canvas.setViewportTransform(Ee.fabric.iMatrix.concat()),this.canvas.zoomToPoint(new Ee.fabric.Point(m.left,m.top),t),this.workspace&&(this.setCenterFromObject(this.workspace),this.workspace.clone(c=>{this.canvas.clipPath=c,this.canvas.requestRenderAll()}),n&&n(this.workspace.left,this.workspace.top))}unpdateUnit(t){this.workspace?.set("unit",t)}_getScale(){const t=this.workspaceEl.offsetWidth,n=this.workspaceEl.offsetHeight;return t/n<this.option.width/this.option.height?t/this.option.width:n/this.option.height}big(){let t=this.canvas.getZoom();t+=.05,this.setZoomAuto(t>5?5:t)}small(){let t=this.canvas.getZoom();t-=.05,this.setZoomAuto(t<0?.01:t)}auto(){const t=this._getScale();this.setZoomAuto(t-.08<.01?.01:t-.08)}one(){this.setZoomAuto(.8-.08),this.canvas.requestRenderAll()}getAutoScale(){return this._getScale()}}class pL{handler;constructor(t){this.handler=t}textbox({text:t,...n}){return n.fontSize=parseInt(n.fontSize),delete n.type,new Ee.fabric.Textbox(t,n)}FontCustom(t){return this.textbox(t)}async Image(t){const n=this.handler.utils.getFileType(t.src)||this.handler.utils.getBase64ImageType(t.src);if(n=="svg")return t.type="svg",this.addSvg(t);if(n&&["jpg","png","jpeg"].includes(n))return this.addImage(t)}addSvg(t){return new Promise(n=>{const{src:r,path:s,...p}=t,{width:m}=this.handler.workareaHandler.option;if(r)r&&Ee.fabric.loadSVGFromURL(r,(c,i)=>{const h=Ee.fabric.util.groupSVGElements(c,i);if(h.width>m){const f=m/h.width;h.set({scaleX:f,scaleY:f})}h.set({crossOrigin:"Anonymous",src:r,...p}),n(h)});else{const c=new Ee.fabric.Path(s);n(c)}})}async addImage(t){const{src:n,...r}=t,{objectOption:s,workareaHandler:p}=this.handler,m=new Image;if(m.crossOrigin="Anonymous",r.width&&p&&p.workspace&&r.width>p.workspace?.width){const i=p.workspace.width/r.width;r.scaleX=i,r.scaleY=i}const c=new Ee.fabric.Image(m,{clipPath:null,...JSON.parse(JSON.stringify(s)),...r});return c.crossOrigin="Anonymous",await this.handler.setImage(c,n),c}}class gL{handler;constructor(t){this.handler=t}getFileType(t){if(!(!t||t.indexOf("base64")!=-1)){if(t=t.split("?")[0],t){const n=t.lastIndexOf(".");return t.substring(n+1)}return""}}getBase64ImageType(t){if(!t)return;const n=/data:image\/([a-zA-Z]*);/,r=t.match(n);return r&&r[1]?r[1]:"png"}uuid(){return pu()}find=t=>this.findById(t.id);findById=t=>{let n=null;return this.handler.canvas.getObjects().some(s=>s.id===t?(n=s,!0):!1)?n:null};fileToBase64=async t=>new Promise(n=>{const r=new FileReader;r.readAsDataURL(t),r.onload=function(s){n(s.target.result)}});fileUpload=async(t,n)=>{const r=await this.handler.utils.fileToBase64(t);if(r){const s=new Image;s.src=r;const p={name:n,type:"Image",src:r};await new Promise(m=>{s.onload=()=>{p.width=s.width,p.height=s.height,m(!0)}}),this.handler.add(p)}}}class vL{handler;constructor(t){this.handler=t}}const mL="/vue-design-editor/assets/middlecontrol-a163c615.svg",_L="/vue-design-editor/assets/middlecontrolhoz-9b7cc4b3.svg",yL="/vue-design-editor/assets/edgecontrol-dbe38ac6.svg",bL="/vue-design-editor/assets/rotateicon-ec6729f2.svg";Ee.fabric.Object.NUM_FRACTION_DIGITS=4;function bo(e,t,n,r,s,p,m){m!==void 0&&(e.save(),e.translate(t,n),e.rotate(Ee.fabric.util.degreesToRadians(m)),e.drawImage(r,-s/2,-p/2,s,p),e.restore())}function wL(){const e=document.createElement("img");e.src=mL;const t=document.createElement("img");t.src=_L;function n(s,p,m,c,i){bo(s,p,m,e,20,25,i.angle)}function r(s,p,m,c,i){bo(s,p,m,t,25,20,i.angle)}Ee.fabric.Object.prototype.controls.ml=new Ee.fabric.Control({x:-.5,y:0,offsetX:-1,cursorStyleHandler:Ee.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingXOrSkewingY,getActionName:Ee.fabric.controlsUtils.scaleOrSkewActionName,render:n}),Ee.fabric.Object.prototype.controls.mr=new Ee.fabric.Control({x:.5,y:0,offsetX:1,cursorStyleHandler:Ee.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingXOrSkewingY,getActionName:Ee.fabric.controlsUtils.scaleOrSkewActionName,render:n}),Ee.fabric.Object.prototype.controls.mb=new Ee.fabric.Control({x:0,y:.5,offsetY:1,cursorStyleHandler:Ee.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingYOrSkewingX,getActionName:Ee.fabric.controlsUtils.scaleOrSkewActionName,render:r}),Ee.fabric.Object.prototype.controls.mt=new Ee.fabric.Control({x:0,y:-.5,offsetY:-1,cursorStyleHandler:Ee.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingYOrSkewingX,getActionName:Ee.fabric.controlsUtils.scaleOrSkewActionName,render:r})}function CL(){const e=document.createElement("img");e.src=yL;function t(n,r,s,p,m){bo(n,r,s,e,25,25,m.angle)}Ee.fabric.Object.prototype.controls.tl=new Ee.fabric.Control({x:-.5,y:-.5,cursorStyleHandler:Ee.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingEqually,render:t}),Ee.fabric.Object.prototype.controls.bl=new Ee.fabric.Control({x:-.5,y:.5,cursorStyleHandler:Ee.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingEqually,render:t}),Ee.fabric.Object.prototype.controls.tr=new Ee.fabric.Control({x:.5,y:-.5,cursorStyleHandler:Ee.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingEqually,render:t}),Ee.fabric.Object.prototype.controls.br=new Ee.fabric.Control({x:.5,y:.5,cursorStyleHandler:Ee.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Ee.fabric.controlsUtils.scalingEqually,render:t})}function SL(){const e=document.createElement("img");e.src=bL;function t(n,r,s,p,m){bo(n,r,s,e,40,40,m.angle)}Ee.fabric.Object.prototype.controls.mtr=new Ee.fabric.Control({x:0,y:.5,cursorStyleHandler:Ee.fabric.controlsUtils.rotationStyleHandler,actionHandler:Ee.fabric.controlsUtils.rotationWithSnapping,offsetY:30,actionName:"rotate",render:t})}class xL{constructor(){this.init()}init(){CL(),wL(),SL(),Ee.fabric.Object.prototype.set({transparentCorners:!1,borderColor:"#51B9F9",cornerColor:"#FFF",borderScaleFactor:2.5,cornerStyle:"circle",cornerStrokeColor:"#0E98FC",borderOpacityWhenMoving:1}),Ee.fabric.Textbox.prototype.controls=Ee.fabric.Object.prototype.controls}destroy(){console.log("pluginDestroy")}}const TL={debounce(e,t){let n=null;return function(){n!==null&&clearTimeout(n),n=setTimeout(e,t)}},deepClone(e){let t;if(typeof e=="object")if(Array.isArray(e)){t=[];for(let n=0;n<e.length;n++)Object.prototype.hasOwnProperty.call(e,n)&&t.push(this.deepClone(e[n]))}else if(e===null)t=null;else if(e.constructor===RegExp)t=e;else{t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=this.deepClone(e[n]))}else t=e;return t},isPromise(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}};class OL{workareaOption;workareaHandler;fabricObjects;utils;imageHandler;objectOption;control;canvas;onAdd;init;editable;container;constructor(t){this.workareaOption=t.workareaOption,this.canvas=t.canvas,this.container=t.container,this.editable=t.editable,this.onAdd=t.onAdd,this.init=t.init,this.workareaHandler=new dL(this),this.fabricObjects=new pL(this),this.utils=new gL(this),this.imageHandler=new vL(this),this.control=new xL,this.initialize(t)}async initialize(t){const{init:n}=this;this.initOption(t),n&&n()}initOption=t=>{this.setObjectOption(t.objectOption)};setObjectOption=t=>{this.objectOption=Object.assign({},this.objectOption,t)};select=(t,n=!1)=>{let r=t;n&&(r=this.utils.find(t)),r&&(this.canvas.discardActiveObject(),this.canvas.setActiveObject(r),this.canvas.requestRenderAll())};setImage=(t,n)=>new Promise(r=>{if(this.canvas.contextTop)if(n instanceof File){const s=new FileReader;s.onload=()=>{t.set("file",n),t.set("src",null),t.setSrc(s.result,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0})},s.readAsDataURL(n)}else t.set("file",null),t.set("src",n),t.setSrc(n,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0,crossOrigin:"Anonymous"})});add=async t=>{const{editable:n}=this,r={editable:n,hasControls:n,hasBorders:n,selectable:n,lockMovementX:!n,lockMovementY:!n},s=Object.assign({},JSON.parse(JSON.stringify(this.objectOption)),t,r,{container:this.container});let p;t.type=="material"&&(t.type="Image");try{p=this.fabricObjects[t.type](s)}catch(m){console.error(m);return}if(TL.isPromise(p)){const m=await p;p=this.addContent(m)}else p&&(p=this.addContent(p));return p};addContent(t){const{onAdd:n}=this;return t&&(t.id||(t.id=this.utils.uuid()),this.canvas.add(t),n&&n(t)),this.canvas.renderAll(),t}}const dd=12,EL={props:{workareaOption:{type:Object,default:()=>({})},editable:{type:Boolean,default:!0},objectOption:{type:Object,default:()=>({})},onAdd:{type:Function},init:{type:Function}},setup(e){const t=fe(pu());let n;const r=fe(),s=fe();return Qe(()=>{const{offsetWidth:p,offsetHeight:m}=r.value.parentElement.parentElement,c=Object.assign({height:m-dd,width:p-dd,fireRightClick:!0,stopContextMenu:!0,enableRetinaScaling:!0,controlsAboveOverlay:!0});n=new Ee.fabric.Canvas(`canvas_${t.value}`,c),n.renderAll(),s.value=new OL({id:t.value,canvas:n,container:r.value,...e}),n.selectionColor="rgba(196,235,255,0.3)",n.selectionBorderColor="#6ccfff",n.selectionLineWidth=1}),{id:t,parentCanvas:r,handler:s}}},PL=["id"],kL=["id"];function AL(e,t,n,r,s,p){return X(),le("div",{style:{width:"100%",height:"100%"},ref:"parentCanvas",class:"parentCanvas",id:r.id},[G("canvas",{id:`canvas_${r.id}`},null,8,kL)],8,PL)}const RL=Tt(EL,[["render",AL]]),ML={trigger:"color",width:260,height:641,lockScalingX:!0,lockScalingY:!0,scaleX:1,scaleY:1,fill:"#fff",hasBorders:!1,hasControls:!1,selectable:!1,lockMovementX:!0,lockMovementY:!0,hoverCursor:"default",name:"",id:"workarea",unit:"px",isElement:!1};var IL=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const DL={name:"AtomSpinner",props:{animationDuration:{type:Number,default:1e3},size:{type:Number,default:60},color:{type:String,default:"#fff"}},computed:{spinnerStyle(){return{height:`${this.size}px`,width:`${this.size}px`}},circleStyle(){return{color:this.color,fontSize:`${this.size*.24}px`}},lineStyle(){return{animationDuration:`${this.animationDuration}ms`,borderLeftWidth:`${this.size/25}px`,borderTopWidth:`${this.size/25}px`,borderLeftColor:this.color}}}},FL={class:"spinner-inner"};function LL(e,t,n,r,s,p){return X(),le("div",{class:"atom-spinner",style:Ue(p.spinnerStyle)},[G("div",FL,[G("div",{class:"spinner-line",style:Ue(p.lineStyle)},null,4),G("div",{class:"spinner-line",style:Ue(p.lineStyle)},null,4),G("div",{class:"spinner-line",style:Ue(p.lineStyle)},null,4),G("div",{class:"spinner-circle",style:Ue(p.circleStyle)},"",4)])],4)}var BL=IL(DL,[["render",LL]]);const $L={__name:"editor",setup(e){const{dispatch:t,state:n,commit:r}=Ar(),s=fe(),p=fe(),m=fe(),c=fe({filters:[]}),i=fe();tt("handler",p),tt("canvas",i);const h=q(()=>n.loadOk);let f;const o=new Promise(d=>{f=d});Ae(h,async d=>{d&&(await ht(),m.value.$el.addEventListener("drop",l,!1),p.value=s.value?.handler,i.value=p.value.canvas,f())}),Qe(async()=>{t("getMaterial")});function l(d){if(d.dataTransfer.getData("item")){let v=JSON.parse(d.dataTransfer.getData("item"));const{layerX:_,layerY:y}=d,b=p.value.canvas.restorePointerVpt({x:_,y}),w={option:{name:v.templateName,type:v.type,data:v,src:v.url||v.src,left:b.x,top:b.y}};v.width&&v.height&&(w.option.width=v.width,w.option.height=v.height);let C=Object.assign({},w);a(C)}}function a(d){const v=pu(),_=Object.assign({},d.option,{id:v});p.value.add(_)}function u(d){r("setActivateItem",d),p.value.select(d)}async function g(){await o,r("setWorkarea",p.value?.workareaHandler.workspace)}return(d,v)=>(X(),Se(Qb,null,{header:_e(()=>[pe(oL)]),module:_e(()=>[ot(pe(sw,{onModule:d.selectedModule,onAddItem:a},null,8,["onModule"]),[[pt,h.value]])]),left:_e(()=>[pe(bD)]),workspace:_e(()=>[h.value?(X(),Se($F,{key:0,ref_key:"workspace",ref:m},{canvas:_e(()=>[pe(RL,{workareaOption:x(ML),ref_key:"canvasRef",ref:s,objectOption:c.value,onAdd:u,init:g},null,8,["workareaOption","objectOption"])]),_:1},512)):(X(),Se(x(BL),{key:1,"animation-duration":1e3,size:60,color:"#2254f4",class:"spinner"}))]),propsPanel:_e(()=>[pe(tL)]),_:1}))}},jL=Tt($L,[["__scopeId","data-v-c5824d9c"]]),NL=[{path:"/",name:"home",component:jL}],zL=kb({history:Yy(),routes:NL});function um(e,t){return function(){return e.apply(t,arguments)}}const{toString:HL}=Object.prototype,{getPrototypeOf:gu}=Object,na=(e=>t=>{const n=HL.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),En=e=>(e=e.toLowerCase(),t=>na(t)===e),ra=e=>t=>typeof t===e,{isArray:mi}=Array,cs=ra("undefined");function UL(e){return e!==null&&!cs(e)&&e.constructor!==null&&!cs(e.constructor)&&Qt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fm=En("ArrayBuffer");function WL(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&fm(e.buffer),t}const YL=ra("string"),Qt=ra("function"),hm=ra("number"),ia=e=>e!==null&&typeof e=="object",XL=e=>e===!0||e===!1,Ks=e=>{if(na(e)!=="object")return!1;const t=gu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},VL=En("Date"),GL=En("File"),KL=En("Blob"),qL=En("FileList"),JL=e=>ia(e)&&Qt(e.pipe),ZL=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Qt(e.append)&&((t=na(e))==="formdata"||t==="object"&&Qt(e.toString)&&e.toString()==="[object FormData]"))},QL=En("URLSearchParams"),e5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _s(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),mi(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const p=n?Object.getOwnPropertyNames(e):Object.keys(e),m=p.length;let c;for(r=0;r<m;r++)c=p[r],t.call(null,e[c],c,e)}}function dm(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const pm=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),gm=e=>!cs(e)&&e!==pm;function Ll(){const{caseless:e}=gm(this)&&this||{},t={},n=(r,s)=>{const p=e&&dm(t,s)||s;Ks(t[p])&&Ks(r)?t[p]=Ll(t[p],r):Ks(r)?t[p]=Ll({},r):mi(r)?t[p]=r.slice():t[p]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&_s(arguments[r],n);return t}const t5=(e,t,n,{allOwnKeys:r}={})=>(_s(t,(s,p)=>{n&&Qt(s)?e[p]=um(s,n):e[p]=s},{allOwnKeys:r}),e),n5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),r5=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},i5=(e,t,n,r)=>{let s,p,m;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),p=s.length;p-- >0;)m=s[p],(!r||r(m,e,t))&&!c[m]&&(t[m]=e[m],c[m]=!0);e=n!==!1&&gu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},s5=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},o5=e=>{if(!e)return null;if(mi(e))return e;let t=e.length;if(!hm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},a5=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gu(Uint8Array)),l5=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const p=s.value;t.call(e,p[0],p[1])}},c5=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},u5=En("HTMLFormElement"),f5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),pd=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),h5=En("RegExp"),vm=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};_s(n,(s,p)=>{let m;(m=t(s,p,e))!==!1&&(r[p]=m||s)}),Object.defineProperties(e,r)},d5=e=>{vm(e,(t,n)=>{if(Qt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Qt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},p5=(e,t)=>{const n={},r=s=>{s.forEach(p=>{n[p]=!0})};return mi(e)?r(e):r(String(e).split(t)),n},g5=()=>{},v5=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Wa="abcdefghijklmnopqrstuvwxyz",gd="0123456789",mm={DIGIT:gd,ALPHA:Wa,ALPHA_DIGIT:Wa+Wa.toUpperCase()+gd},m5=(e=16,t=mm.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function _5(e){return!!(e&&Qt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const y5=e=>{const t=new Array(10),n=(r,s)=>{if(ia(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const p=mi(r)?[]:{};return _s(r,(m,c)=>{const i=n(m,s+1);!cs(i)&&(p[c]=i)}),t[s]=void 0,p}}return r};return n(e,0)},b5=En("AsyncFunction"),w5=e=>e&&(ia(e)||Qt(e))&&Qt(e.then)&&Qt(e.catch),de={isArray:mi,isArrayBuffer:fm,isBuffer:UL,isFormData:ZL,isArrayBufferView:WL,isString:YL,isNumber:hm,isBoolean:XL,isObject:ia,isPlainObject:Ks,isUndefined:cs,isDate:VL,isFile:GL,isBlob:KL,isRegExp:h5,isFunction:Qt,isStream:JL,isURLSearchParams:QL,isTypedArray:a5,isFileList:qL,forEach:_s,merge:Ll,extend:t5,trim:e5,stripBOM:n5,inherits:r5,toFlatObject:i5,kindOf:na,kindOfTest:En,endsWith:s5,toArray:o5,forEachEntry:l5,matchAll:c5,isHTMLForm:u5,hasOwnProperty:pd,hasOwnProp:pd,reduceDescriptors:vm,freezeMethods:d5,toObjectSet:p5,toCamelCase:f5,noop:g5,toFiniteNumber:v5,findKey:dm,global:pm,isContextDefined:gm,ALPHABET:mm,generateString:m5,isSpecCompliantForm:_5,toJSONObject:y5,isAsyncFn:b5,isThenable:w5};function Fe(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}de.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const _m=Fe.prototype,ym={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ym[e]={value:e}});Object.defineProperties(Fe,ym);Object.defineProperty(_m,"isAxiosError",{value:!0});Fe.from=(e,t,n,r,s,p)=>{const m=Object.create(_m);return de.toFlatObject(e,m,function(i){return i!==Error.prototype},c=>c!=="isAxiosError"),Fe.call(m,e.message,t,n,r,s),m.cause=e,m.name=e.name,p&&Object.assign(m,p),m};const C5=null;function Bl(e){return de.isPlainObject(e)||de.isArray(e)}function bm(e){return de.endsWith(e,"[]")?e.slice(0,-2):e}function vd(e,t,n){return e?e.concat(t).map(function(s,p){return s=bm(s),!n&&p?"["+s+"]":s}).join(n?".":""):t}function S5(e){return de.isArray(e)&&!e.some(Bl)}const x5=de.toFlatObject(de,{},null,function(t){return/^is[A-Z]/.test(t)});function sa(e,t,n){if(!de.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=de.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,d){return!de.isUndefined(d[g])});const r=n.metaTokens,s=n.visitor||f,p=n.dots,m=n.indexes,i=(n.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(t);if(!de.isFunction(s))throw new TypeError("visitor must be a function");function h(u){if(u===null)return"";if(de.isDate(u))return u.toISOString();if(!i&&de.isBlob(u))throw new Fe("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(u)||de.isTypedArray(u)?i&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function f(u,g,d){let v=u;if(u&&!d&&typeof u=="object"){if(de.endsWith(g,"{}"))g=r?g:g.slice(0,-2),u=JSON.stringify(u);else if(de.isArray(u)&&S5(u)||(de.isFileList(u)||de.endsWith(g,"[]"))&&(v=de.toArray(u)))return g=bm(g),v.forEach(function(y,b){!(de.isUndefined(y)||y===null)&&t.append(m===!0?vd([g],b,p):m===null?g:g+"[]",h(y))}),!1}return Bl(u)?!0:(t.append(vd(d,g,p),h(u)),!1)}const o=[],l=Object.assign(x5,{defaultVisitor:f,convertValue:h,isVisitable:Bl});function a(u,g){if(!de.isUndefined(u)){if(o.indexOf(u)!==-1)throw Error("Circular reference detected in "+g.join("."));o.push(u),de.forEach(u,function(v,_){(!(de.isUndefined(v)||v===null)&&s.call(t,v,de.isString(_)?_.trim():_,g,l))===!0&&a(v,g?g.concat(_):[_])}),o.pop()}}if(!de.isObject(e))throw new TypeError("data must be an object");return a(e),t}function md(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function vu(e,t){this._pairs=[],e&&sa(e,this,t)}const wm=vu.prototype;wm.append=function(t,n){this._pairs.push([t,n])};wm.toString=function(t){const n=t?function(r){return t.call(this,r,md)}:md;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function T5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cm(e,t,n){if(!t)return e;const r=n&&n.encode||T5,s=n&&n.serialize;let p;if(s?p=s(t,n):p=de.isURLSearchParams(t)?t.toString():new vu(t,n).toString(r),p){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class O5{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){de.forEach(this.handlers,function(r){r!==null&&t(r)})}}const _d=O5,Sm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},E5=typeof URLSearchParams<"u"?URLSearchParams:vu,P5=typeof FormData<"u"?FormData:null,k5=typeof Blob<"u"?Blob:null,A5=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),R5=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),wn={isBrowser:!0,classes:{URLSearchParams:E5,FormData:P5,Blob:k5},isStandardBrowserEnv:A5,isStandardBrowserWebWorkerEnv:R5,protocols:["http","https","file","blob","url","data"]};function M5(e,t){return sa(e,new wn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,p){return wn.isNode&&de.isBuffer(n)?(this.append(r,n.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)}},t))}function I5(e){return de.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function D5(e){const t={},n=Object.keys(e);let r;const s=n.length;let p;for(r=0;r<s;r++)p=n[r],t[p]=e[p];return t}function xm(e){function t(n,r,s,p){let m=n[p++];const c=Number.isFinite(+m),i=p>=n.length;return m=!m&&de.isArray(s)?s.length:m,i?(de.hasOwnProp(s,m)?s[m]=[s[m],r]:s[m]=r,!c):((!s[m]||!de.isObject(s[m]))&&(s[m]=[]),t(n,r,s[m],p)&&de.isArray(s[m])&&(s[m]=D5(s[m])),!c)}if(de.isFormData(e)&&de.isFunction(e.entries)){const n={};return de.forEachEntry(e,(r,s)=>{t(I5(r),s,n,0)}),n}return null}function F5(e,t,n){if(de.isString(e))try{return(t||JSON.parse)(e),de.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const mu={transitional:Sm,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,p=de.isObject(t);if(p&&de.isHTMLForm(t)&&(t=new FormData(t)),de.isFormData(t))return s&&s?JSON.stringify(xm(t)):t;if(de.isArrayBuffer(t)||de.isBuffer(t)||de.isStream(t)||de.isFile(t)||de.isBlob(t))return t;if(de.isArrayBufferView(t))return t.buffer;if(de.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(p){if(r.indexOf("application/x-www-form-urlencoded")>-1)return M5(t,this.formSerializer).toString();if((c=de.isFileList(t))||r.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return sa(c?{"files[]":t}:t,i&&new i,this.formSerializer)}}return p||s?(n.setContentType("application/json",!1),F5(t)):t}],transformResponse:[function(t){const n=this.transitional||mu.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(t&&de.isString(t)&&(r&&!this.responseType||s)){const m=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(m)throw c.name==="SyntaxError"?Fe.from(c,Fe.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wn.classes.FormData,Blob:wn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],e=>{mu.headers[e]={}});const _u=mu,L5=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),B5=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(m){s=m.indexOf(":"),n=m.substring(0,s).trim().toLowerCase(),r=m.substring(s+1).trim(),!(!n||t[n]&&L5[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},yd=Symbol("internals");function Ei(e){return e&&String(e).trim().toLowerCase()}function qs(e){return e===!1||e==null?e:de.isArray(e)?e.map(qs):String(e)}function $5(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const j5=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ya(e,t,n,r,s){if(de.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!de.isString(t)){if(de.isString(r))return t.indexOf(r)!==-1;if(de.isRegExp(r))return r.test(t)}}function N5(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function z5(e,t){const n=de.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,p,m){return this[r].call(this,t,s,p,m)},configurable:!0})})}class oa{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function p(c,i,h){const f=Ei(i);if(!f)throw new Error("header name must be a non-empty string");const o=de.findKey(s,f);(!o||s[o]===void 0||h===!0||h===void 0&&s[o]!==!1)&&(s[o||i]=qs(c))}const m=(c,i)=>de.forEach(c,(h,f)=>p(h,f,i));return de.isPlainObject(t)||t instanceof this.constructor?m(t,n):de.isString(t)&&(t=t.trim())&&!j5(t)?m(B5(t),n):t!=null&&p(n,t,r),this}get(t,n){if(t=Ei(t),t){const r=de.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return $5(s);if(de.isFunction(n))return n.call(this,s,r);if(de.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ei(t),t){const r=de.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Ya(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function p(m){if(m=Ei(m),m){const c=de.findKey(r,m);c&&(!n||Ya(r,r[c],c,n))&&(delete r[c],s=!0)}}return de.isArray(t)?t.forEach(p):p(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const p=n[r];(!t||Ya(this,this[p],p,t,!0))&&(delete this[p],s=!0)}return s}normalize(t){const n=this,r={};return de.forEach(this,(s,p)=>{const m=de.findKey(r,p);if(m){n[m]=qs(s),delete n[p];return}const c=t?N5(p):String(p).trim();c!==p&&delete n[p],n[c]=qs(s),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return de.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&de.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[yd]=this[yd]={accessors:{}}).accessors,s=this.prototype;function p(m){const c=Ei(m);r[c]||(z5(s,m),r[c]=!0)}return de.isArray(t)?t.forEach(p):p(t),this}}oa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(oa.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});de.freezeMethods(oa);const Bn=oa;function Xa(e,t){const n=this||_u,r=t||n,s=Bn.from(r.headers);let p=r.data;return de.forEach(e,function(c){p=c.call(n,p,s.normalize(),t?t.status:void 0)}),s.normalize(),p}function Tm(e){return!!(e&&e.__CANCEL__)}function ys(e,t,n){Fe.call(this,e??"canceled",Fe.ERR_CANCELED,t,n),this.name="CanceledError"}de.inherits(ys,Fe,{__CANCEL__:!0});function H5(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Fe("Request failed with status code "+n.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const U5=wn.isStandardBrowserEnv?function(){return{write:function(n,r,s,p,m,c){const i=[];i.push(n+"="+encodeURIComponent(r)),de.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),de.isString(p)&&i.push("path="+p),de.isString(m)&&i.push("domain="+m),c===!0&&i.push("secure"),document.cookie=i.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function W5(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Y5(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Om(e,t){return e&&!W5(t)?Y5(e,t):t}const X5=wn.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(p){let m=p;return t&&(n.setAttribute("href",m),m=n.href),n.setAttribute("href",m),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(m){const c=de.isString(m)?s(m):m;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}();function V5(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function G5(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,p=0,m;return t=t!==void 0?t:1e3,function(i){const h=Date.now(),f=r[p];m||(m=h),n[s]=i,r[s]=h;let o=p,l=0;for(;o!==s;)l+=n[o++],o=o%e;if(s=(s+1)%e,s===p&&(p=(p+1)%e),h-m<t)return;const a=f&&h-f;return a?Math.round(l*1e3/a):void 0}}function bd(e,t){let n=0;const r=G5(50,250);return s=>{const p=s.loaded,m=s.lengthComputable?s.total:void 0,c=p-n,i=r(c),h=p<=m;n=p;const f={loaded:p,total:m,progress:m?p/m:void 0,bytes:c,rate:i||void 0,estimated:i&&m&&h?(m-p)/i:void 0,event:s};f[t?"download":"upload"]=!0,e(f)}}const K5=typeof XMLHttpRequest<"u",q5=K5&&function(e){return new Promise(function(n,r){let s=e.data;const p=Bn.from(e.headers).normalize(),m=e.responseType;let c;function i(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let h;de.isFormData(s)&&(wn.isStandardBrowserEnv||wn.isStandardBrowserWebWorkerEnv?p.setContentType(!1):p.getContentType(/^\s*multipart\/form-data/)?de.isString(h=p.getContentType())&&p.setContentType(h.replace(/^\s*(multipart\/form-data);+/,"$1")):p.setContentType("multipart/form-data"));let f=new XMLHttpRequest;if(e.auth){const u=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.set("Authorization","Basic "+btoa(u+":"+g))}const o=Om(e.baseURL,e.url);f.open(e.method.toUpperCase(),Cm(o,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function l(){if(!f)return;const u=Bn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),d={data:!m||m==="text"||m==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:u,config:e,request:f};H5(function(_){n(_),i()},function(_){r(_),i()},d),f=null}if("onloadend"in f?f.onloadend=l:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(l)},f.onabort=function(){f&&(r(new Fe("Request aborted",Fe.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new Fe("Network Error",Fe.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let g=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const d=e.transitional||Sm;e.timeoutErrorMessage&&(g=e.timeoutErrorMessage),r(new Fe(g,d.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,e,f)),f=null},wn.isStandardBrowserEnv){const u=(e.withCredentials||X5(o))&&e.xsrfCookieName&&U5.read(e.xsrfCookieName);u&&p.set(e.xsrfHeaderName,u)}s===void 0&&p.setContentType(null),"setRequestHeader"in f&&de.forEach(p.toJSON(),function(g,d){f.setRequestHeader(d,g)}),de.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),m&&m!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",bd(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",bd(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=u=>{f&&(r(!u||u.type?new ys(null,e,f):u),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const a=V5(o);if(a&&wn.protocols.indexOf(a)===-1){r(new Fe("Unsupported protocol "+a+":",Fe.ERR_BAD_REQUEST,e));return}f.send(s||null)})},$l={http:C5,xhr:q5};de.forEach($l,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const wd=e=>`- ${e}`,J5=e=>de.isFunction(e)||e===null||e===!1,Em={getAdapter:e=>{e=de.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let p=0;p<t;p++){n=e[p];let m;if(r=n,!J5(n)&&(r=$l[(m=String(n)).toLowerCase()],r===void 0))throw new Fe(`Unknown adapter '${m}'`);if(r)break;s[m||"#"+p]=r}if(!r){const p=Object.entries(s).map(([c,i])=>`adapter ${c} `+(i===!1?"is not supported by the environment":"is not available in the build"));let m=t?p.length>1?`since :
`+p.map(wd).join(`
`):" "+wd(p[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return r},adapters:$l};function Va(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ys(null,e)}function Cd(e){return Va(e),e.headers=Bn.from(e.headers),e.data=Xa.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Em.getAdapter(e.adapter||_u.adapter)(e).then(function(r){return Va(e),r.data=Xa.call(e,e.transformResponse,r),r.headers=Bn.from(r.headers),r},function(r){return Tm(r)||(Va(e),r&&r.response&&(r.response.data=Xa.call(e,e.transformResponse,r.response),r.response.headers=Bn.from(r.response.headers))),Promise.reject(r)})}const Sd=e=>e instanceof Bn?e.toJSON():e;function ci(e,t){t=t||{};const n={};function r(h,f,o){return de.isPlainObject(h)&&de.isPlainObject(f)?de.merge.call({caseless:o},h,f):de.isPlainObject(f)?de.merge({},f):de.isArray(f)?f.slice():f}function s(h,f,o){if(de.isUndefined(f)){if(!de.isUndefined(h))return r(void 0,h,o)}else return r(h,f,o)}function p(h,f){if(!de.isUndefined(f))return r(void 0,f)}function m(h,f){if(de.isUndefined(f)){if(!de.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function c(h,f,o){if(o in t)return r(h,f);if(o in e)return r(void 0,h)}const i={url:p,method:p,data:p,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:c,headers:(h,f)=>s(Sd(h),Sd(f),!0)};return de.forEach(Object.keys(Object.assign({},e,t)),function(f){const o=i[f]||s,l=o(e[f],t[f],f);de.isUndefined(l)&&o!==c||(n[f]=l)}),n}const Pm="1.5.1",yu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{yu[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const xd={};yu.transitional=function(t,n,r){function s(p,m){return"[Axios v"+Pm+"] Transitional option '"+p+"'"+m+(r?". "+r:"")}return(p,m,c)=>{if(t===!1)throw new Fe(s(m," has been removed"+(n?" in "+n:"")),Fe.ERR_DEPRECATED);return n&&!xd[m]&&(xd[m]=!0,console.warn(s(m," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(p,m,c):!0}};function Z5(e,t,n){if(typeof e!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const p=r[s],m=t[p];if(m){const c=e[p],i=c===void 0||m(c,p,e);if(i!==!0)throw new Fe("option "+p+" must be "+i,Fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Fe("Unknown option "+p,Fe.ERR_BAD_OPTION)}}const jl={assertOptions:Z5,validators:yu},Jn=jl.validators;class wo{constructor(t){this.defaults=t,this.interceptors={request:new _d,response:new _d}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ci(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:p}=n;r!==void 0&&jl.assertOptions(r,{silentJSONParsing:Jn.transitional(Jn.boolean),forcedJSONParsing:Jn.transitional(Jn.boolean),clarifyTimeoutError:Jn.transitional(Jn.boolean)},!1),s!=null&&(de.isFunction(s)?n.paramsSerializer={serialize:s}:jl.assertOptions(s,{encode:Jn.function,serialize:Jn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let m=p&&de.merge(p.common,p[n.method]);p&&de.forEach(["delete","get","head","post","put","patch","common"],u=>{delete p[u]}),n.headers=Bn.concat(m,p);const c=[];let i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(i=i&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});const h=[];this.interceptors.response.forEach(function(g){h.push(g.fulfilled,g.rejected)});let f,o=0,l;if(!i){const u=[Cd.bind(this),void 0];for(u.unshift.apply(u,c),u.push.apply(u,h),l=u.length,f=Promise.resolve(n);o<l;)f=f.then(u[o++],u[o++]);return f}l=c.length;let a=n;for(o=0;o<l;){const u=c[o++],g=c[o++];try{a=u(a)}catch(d){g.call(this,d);break}}try{f=Cd.call(this,a)}catch(u){return Promise.reject(u)}for(o=0,l=h.length;o<l;)f=f.then(h[o++],h[o++]);return f}getUri(t){t=ci(this.defaults,t);const n=Om(t.baseURL,t.url);return Cm(n,t.params,t.paramsSerializer)}}de.forEach(["delete","get","head","options"],function(t){wo.prototype[t]=function(n,r){return this.request(ci(r||{},{method:t,url:n,data:(r||{}).data}))}});de.forEach(["post","put","patch"],function(t){function n(r){return function(p,m,c){return this.request(ci(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:p,data:m}))}}wo.prototype[t]=n(),wo.prototype[t+"Form"]=n(!0)});const Js=wo;class bu{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(p){n=p});const r=this;this.promise.then(s=>{if(!r._listeners)return;let p=r._listeners.length;for(;p-- >0;)r._listeners[p](s);r._listeners=null}),this.promise.then=s=>{let p;const m=new Promise(c=>{r.subscribe(c),p=c}).then(s);return m.cancel=function(){r.unsubscribe(p)},m},t(function(p,m,c){r.reason||(r.reason=new ys(p,m,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new bu(function(s){t=s}),cancel:t}}}const Q5=bu;function eB(e){return function(n){return e.apply(null,n)}}function tB(e){return de.isObject(e)&&e.isAxiosError===!0}const Nl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nl).forEach(([e,t])=>{Nl[t]=e});const nB=Nl;function km(e){const t=new Js(e),n=um(Js.prototype.request,t);return de.extend(n,Js.prototype,t,{allOwnKeys:!0}),de.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return km(ci(e,s))},n}const at=km(_u);at.Axios=Js;at.CanceledError=ys;at.CancelToken=Q5;at.isCancel=Tm;at.VERSION=Pm;at.toFormData=sa;at.AxiosError=Fe;at.Cancel=at.CanceledError;at.all=function(t){return Promise.all(t)};at.spread=eB;at.isAxiosError=tB;at.mergeConfig=ci;at.AxiosHeaders=Bn;at.formToJSON=e=>xm(de.isHTMLForm(e)?new FormData(e):e);at.getAdapter=Em.getAdapter;at.HttpStatusCode=nB;at.default=at;const Am=at,wu=Am.create({timeout:5e3});Am.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)});wu.interceptors.request.use(e=>e,e=>(console.log(e),Promise.reject(e)));wu.interceptors.response.use(e=>{if(e)return e.data;debugger;throw console.log(""),new Error("")},e=>(console.log("err"+e),GI({message:e.message,type:"error",duration:3*1e3,showClose:!0}),Promise.reject(e)));function Rm(e,t,n,r){wu(e).then(s=>{e.retry&&(s.retry=t-e.retry),n(s)}).catch(s=>{e.retry--,e.retry>=0?setTimeout(()=>{Rm(e,t,n,r)},10):(s.retry=t,r(s))})}function Td(e){return new Promise((t,n)=>{(!e||!e.url)&&n({errorMsg:""}),e.type||(e.type="get"),e.timeout||(e.timeout=5e3),typeof e.retry!="number"&&(e.retry=3),Rm(e,e.retry,t,n)}).then(t=>t)}const rB=Gb({state:{isClose:!0,activeModule:null,imageList:[],loadOk:!1,icons:[],selectedItem:null,workspace:null},getters:{},mutations:{setClose(e,t){e.isClose=t},setActiveModule(e,t){e.activeModule=t},Ok(e,t){e.loadOk=!0,e.imageList=t},COMMIT_ICONS(e,t){e.icons=t},setActivateItem(e,t){e.selectedItem=t},setWorkarea(e,t){e.workspace=t}},actions:{getMaterial({commit:e}){const t=[];t.push(Td({url:"https://haixin-fang.github.io/vue-design-editor-static/imglist.json",timeout:1e4}).catch(n=>console.error(n))),t.push(Td({url:"https://haixin-fang.github.io/icons/bootstrap-icons.json",timeout:1e4}).catch(n=>console.error(n))),Promise.all(t).then(n=>{if(Array.isArray(n)&&(n[0]&&e("Ok",n[0]),n[1])){const r=Object.keys(n[1]),s=[];r.forEach(p=>{const m=`https://haixin-fang.github.io/icons/icons/${p}.svg`;s.push({url:m})}),e("COMMIT_ICONS",s)}})}},modules:{}}),iB={class:"gda-popover-content"},sB={key:0,class:"gda-popover-arrow"},oB={class:"gda-popover-inner"},aB={__name:"popover",props:{to:{type:String,default:"body"},arrow:{type:Boolean,default:!1},dom:{type:HTMLElement,default:null},show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e;let r=null,s=null;const p=fe();Ae(()=>n.show,h=>{h&&ht(()=>{c()})}),Qe(()=>{window.addEventListener("click",h=>{n.show&&(Array.from(h.path||h.composedPath()).find(o=>{if(o.className&&typeof o.className=="string"&&o.className.indexOf("popover")!=-1)return o})||t("close"))})}),hi(()=>{window.removeEventListener("resize",c)});const m=()=>{window.addEventListener("resize",c),s=new ResizeObserver(Ys(()=>{c()},50)),s.observe(r)};function c(){if(!r)return;s||m();const{width:h,height:f,left:o,top:l,bottom:a,right:u}=n.dom?.getBoundingClientRect(),{offsetWidth:g,offsetHeight:d}=r;let v=0,_=0,y=0,b=0;l>d+10?(v=l-d-10,b=d+10,g<u?(_=o+h-g,y=g):(_=o,y=0)):a>d+10&&(v=l+f+10,b=10,g<u?(_=o+h-g,y=g):(_=o,y=0)),p.value.style.left=_+"px",p.value.style.top=v+"px",p.value.style.transformOrigin=`${y}px ${b}px`}const i=h=>{r=h};return(h,f)=>(X(),Se(lc,{to:e.to},[pe(On,{name:"fade"},{default:_e(()=>[ot(G("div",{class:"gda-popover",ref_key:"popover",ref:p},[G("div",iB,[e.arrow?(X(),le("div",sB)):be("",!0),G("div",oB,[Ce(h.$slots,"default",{setSlotRef:i},void 0,!0)])])],512),[[pt,e.show]])]),_:3})],8,["to"]))}},lB=Tt(aB,[["__scopeId","data-v-029ac79f"]]),cB=py(_y);cB.use(rB).use(zL).component("popover",lB).mount("#app")});export default uB();
