var yS=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var UJ=yS((yn,_n)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Uh(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const pt={},Ts=[],nt=()=>{},_S=()=>!1,bS=/^on[^a-z]/,mc=e=>bS.test(e),Vh=e=>e.startsWith("onUpdate:"),Ct=Object.assign,Wh=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},wS=Object.prototype.hasOwnProperty,Xe=(e,t)=>wS.call(e,t),De=Array.isArray,Es=e=>Pa(e)==="[object Map]",no=e=>Pa(e)==="[object Set]",xg=e=>Pa(e)==="[object Date]",$e=e=>typeof e=="function",Ye=e=>typeof e=="string",ta=e=>typeof e=="symbol",Ze=e=>e!==null&&typeof e=="object",Yy=e=>Ze(e)&&$e(e.then)&&$e(e.catch),Gy=Object.prototype.toString,Pa=e=>Gy.call(e),CS=e=>Pa(e).slice(8,-1),Ml=e=>Pa(e)==="[object Object]",Yh=e=>Ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,bl=Uh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yc=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},SS=/-(\w)/g,Qn=yc(e=>e.replace(SS,(t,n)=>n?n.toUpperCase():"")),xS=/\B([A-Z])/g,Gi=yc(e=>e.replace(xS,"-$1").toLowerCase()),_c=yc(e=>e.charAt(0).toUpperCase()+e.slice(1)),vu=yc(e=>e?`on${_c(e)}`:""),na=(e,t)=>!Object.is(e,t),wl=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Dl=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Fl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},TS=e=>{const t=Ye(e)?Number(e):NaN;return isNaN(t)?e:t};let Tg;const kf=()=>Tg||(Tg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function je(e){if(De(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Ye(r)?PS(r):je(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(Ye(e))return e;if(Ze(e))return e}}const ES=/;(?![^(]*\))/g,OS=/:([^]+)/,kS=/\/\*[^]*?\*\//g;function PS(e){const t={};return e.replace(kS,"").split(ES).forEach(n=>{if(n){const r=n.split(OS);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function be(e){let t="";if(Ye(e))t=e;else if(De(e))for(let n=0;n<e.length;n++){const r=be(e[n]);r&&(t+=r+" ")}else if(Ze(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function AS(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Ye(t)&&(e.class=be(t)),n&&(e.style=je(n)),e}const IS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",RS=Uh(IS);function Xy(e){return!!e||e===""}function MS(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=$i(e[r],t[r]);return n}function $i(e,t){if(e===t)return!0;let n=xg(e),r=xg(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ta(e),r=ta(t),n||r)return e===t;if(n=De(e),r=De(t),n||r)return n&&r?MS(e,t):!1;if(n=Ze(e),r=Ze(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const p in e){const a=e.hasOwnProperty(p),s=t.hasOwnProperty(p);if(a&&!s||!a&&s||!$i(e[p],t[p]))return!1}}return String(e)===String(t)}function Gh(e,t){return e.findIndex(n=>$i(n,t))}const We=e=>Ye(e)?e:e==null?"":De(e)||Ze(e)&&(e.toString===Gy||!$e(e.toString))?JSON.stringify(e,Ky,2):String(e),Ky=(e,t)=>t&&t.__v_isRef?Ky(e,t.value):Es(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:no(t)?{[`Set(${t.size})`]:[...t.values()]}:Ze(t)&&!De(t)&&!Ml(t)?String(t):t;let vn;class qy{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=vn,!t&&vn&&(this.index=(vn.scopes||(vn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=vn;try{return vn=this,t()}finally{vn=n}}}on(){vn=this}off(){vn=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Jy(e){return new qy(e)}function DS(e,t=vn){t&&t.active&&t.effects.push(e)}function Xh(){return vn}function Zy(e){vn&&vn.cleanups.push(e)}const Kh=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Qy=e=>(e.w&di)>0,e_=e=>(e.n&di)>0,FS=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=di},LS=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];Qy(i)&&!e_(i)?i.delete(e):t[n++]=i,i.w&=~di,i.n&=~di}t.length=n}},Ll=new WeakMap;let Ao=0,di=1;const Pf=30;let Xn;const Mi=Symbol(""),Af=Symbol("");class qh{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,DS(this,r)}run(){if(!this.active)return this.fn();let t=Xn,n=ui;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Xn,Xn=this,ui=!0,di=1<<++Ao,Ao<=Pf?FS(this):Eg(this),this.fn()}finally{Ao<=Pf&&LS(this),di=1<<--Ao,Xn=this.parent,ui=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Xn===this?this.deferStop=!0:this.active&&(Eg(this),this.onStop&&this.onStop(),this.active=!1)}}function Eg(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let ui=!0;const t_=[];function ro(){t_.push(ui),ui=!1}function io(){const e=t_.pop();ui=e===void 0?!0:e}function un(e,t,n){if(ui&&Xn){let r=Ll.get(e);r||Ll.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=Kh()),n_(i)}}function n_(e,t){let n=!1;Ao<=Pf?e_(e)||(e.n|=di,n=!Qy(e)):n=!e.has(Xn),n&&(e.add(Xn),Xn.deps.push(e))}function zr(e,t,n,r,i,o){const p=Ll.get(e);if(!p)return;let a=[];if(t==="clear")a=[...p.values()];else if(n==="length"&&De(e)){const s=Number(r);p.forEach((h,u)=>{(u==="length"||u>=s)&&a.push(h)})}else switch(n!==void 0&&a.push(p.get(n)),t){case"add":De(e)?Yh(n)&&a.push(p.get("length")):(a.push(p.get(Mi)),Es(e)&&a.push(p.get(Af)));break;case"delete":De(e)||(a.push(p.get(Mi)),Es(e)&&a.push(p.get(Af)));break;case"set":Es(e)&&a.push(p.get(Mi));break}if(a.length===1)a[0]&&If(a[0]);else{const s=[];for(const h of a)h&&s.push(...h);If(Kh(s))}}function If(e,t){const n=De(e)?e:[...e];for(const r of n)r.computed&&Og(r);for(const r of n)r.computed||Og(r)}function Og(e,t){(e!==Xn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function BS(e,t){var n;return(n=Ll.get(e))==null?void 0:n.get(t)}const $S=Uh("__proto__,__v_isRef,__isVue"),r_=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ta)),jS=Jh(),NS=Jh(!1,!0),zS=Jh(!0),kg=HS();function HS(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=qe(this);for(let o=0,p=this.length;o<p;o++)un(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(qe)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ro();const r=qe(this)[t].apply(this,n);return io(),r}}),e}function US(e){const t=qe(this);return un(t,"has",e),t.hasOwnProperty(e)}function Jh(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?s2:l_:t?a_:o_).get(r))return r;const p=De(r);if(!e){if(p&&Xe(kg,i))return Reflect.get(kg,i,o);if(i==="hasOwnProperty")return US}const a=Reflect.get(r,i,o);return(ta(i)?r_.has(i):$S(i))||(e||un(r,"get",i),t)?a:Rt(a)?p&&Yh(i)?a:a.value:Ze(a)?e?so(a):St(a):a}}const VS=i_(),WS=i_(!0);function i_(e=!1){return function(n,r,i,o){let p=n[r];if(As(p)&&Rt(p)&&!Rt(i))return!1;if(!e&&(!Bl(i)&&!As(i)&&(p=qe(p),i=qe(i)),!De(n)&&Rt(p)&&!Rt(i)))return p.value=i,!0;const a=De(n)&&Yh(r)?Number(r)<n.length:Xe(n,r),s=Reflect.set(n,r,i,o);return n===qe(o)&&(a?na(i,p)&&zr(n,"set",r,i):zr(n,"add",r,i)),s}}function YS(e,t){const n=Xe(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&zr(e,"delete",t,void 0),r}function GS(e,t){const n=Reflect.has(e,t);return(!ta(t)||!r_.has(t))&&un(e,"has",t),n}function XS(e){return un(e,"iterate",De(e)?"length":Mi),Reflect.ownKeys(e)}const s_={get:jS,set:VS,deleteProperty:YS,has:GS,ownKeys:XS},KS={get:zS,set(e,t){return!0},deleteProperty(e,t){return!0}},qS=Ct({},s_,{get:NS,set:WS}),Zh=e=>e,bc=e=>Reflect.getPrototypeOf(e);function Ka(e,t,n=!1,r=!1){e=e.__v_raw;const i=qe(e),o=qe(t);n||(t!==o&&un(i,"get",t),un(i,"get",o));const{has:p}=bc(i),a=r?Zh:n?nd:ra;if(p.call(i,t))return a(e.get(t));if(p.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function qa(e,t=!1){const n=this.__v_raw,r=qe(n),i=qe(e);return t||(e!==i&&un(r,"has",e),un(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Ja(e,t=!1){return e=e.__v_raw,!t&&un(qe(e),"iterate",Mi),Reflect.get(e,"size",e)}function Pg(e){e=qe(e);const t=qe(this);return bc(t).has.call(t,e)||(t.add(e),zr(t,"add",e,e)),this}function Ag(e,t){t=qe(t);const n=qe(this),{has:r,get:i}=bc(n);let o=r.call(n,e);o||(e=qe(e),o=r.call(n,e));const p=i.call(n,e);return n.set(e,t),o?na(t,p)&&zr(n,"set",e,t):zr(n,"add",e,t),this}function Ig(e){const t=qe(this),{has:n,get:r}=bc(t);let i=n.call(t,e);i||(e=qe(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&zr(t,"delete",e,void 0),o}function Rg(){const e=qe(this),t=e.size!==0,n=e.clear();return t&&zr(e,"clear",void 0,void 0),n}function Za(e,t){return function(r,i){const o=this,p=o.__v_raw,a=qe(p),s=t?Zh:e?nd:ra;return!e&&un(a,"iterate",Mi),p.forEach((h,u)=>r.call(i,s(h),s(u),o))}}function Qa(e,t,n){return function(...r){const i=this.__v_raw,o=qe(i),p=Es(o),a=e==="entries"||e===Symbol.iterator&&p,s=e==="keys"&&p,h=i[e](...r),u=n?Zh:t?nd:ra;return!t&&un(o,"iterate",s?Af:Mi),{next(){const{value:l,done:f}=h.next();return f?{value:l,done:f}:{value:a?[u(l[0]),u(l[1])]:u(l),done:f}},[Symbol.iterator](){return this}}}}function Jr(e){return function(...t){return e==="delete"?!1:this}}function JS(){const e={get(o){return Ka(this,o)},get size(){return Ja(this)},has:qa,add:Pg,set:Ag,delete:Ig,clear:Rg,forEach:Za(!1,!1)},t={get(o){return Ka(this,o,!1,!0)},get size(){return Ja(this)},has:qa,add:Pg,set:Ag,delete:Ig,clear:Rg,forEach:Za(!1,!0)},n={get(o){return Ka(this,o,!0)},get size(){return Ja(this,!0)},has(o){return qa.call(this,o,!0)},add:Jr("add"),set:Jr("set"),delete:Jr("delete"),clear:Jr("clear"),forEach:Za(!0,!1)},r={get(o){return Ka(this,o,!0,!0)},get size(){return Ja(this,!0)},has(o){return qa.call(this,o,!0)},add:Jr("add"),set:Jr("set"),delete:Jr("delete"),clear:Jr("clear"),forEach:Za(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Qa(o,!1,!1),n[o]=Qa(o,!0,!1),t[o]=Qa(o,!1,!0),r[o]=Qa(o,!0,!0)}),[e,n,t,r]}const[ZS,QS,e2,t2]=JS();function Qh(e,t){const n=t?e?t2:e2:e?QS:ZS;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Xe(n,i)&&i in r?n:r,i,o)}const n2={get:Qh(!1,!1)},r2={get:Qh(!1,!0)},i2={get:Qh(!0,!1)},o_=new WeakMap,a_=new WeakMap,l_=new WeakMap,s2=new WeakMap;function o2(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function a2(e){return e.__v_skip||!Object.isExtensible(e)?0:o2(CS(e))}function St(e){return As(e)?e:td(e,!1,s_,n2,o_)}function ed(e){return td(e,!1,qS,r2,a_)}function so(e){return td(e,!0,KS,i2,l_)}function td(e,t,n,r,i){if(!Ze(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const p=a2(e);if(p===0)return e;const a=new Proxy(e,p===2?r:n);return i.set(e,a),a}function Os(e){return As(e)?Os(e.__v_raw):!!(e&&e.__v_isReactive)}function As(e){return!!(e&&e.__v_isReadonly)}function Bl(e){return!!(e&&e.__v_isShallow)}function c_(e){return Os(e)||As(e)}function qe(e){const t=e&&e.__v_raw;return t?qe(t):e}function $l(e){return Dl(e,"__v_skip",!0),e}const ra=e=>Ze(e)?St(e):e,nd=e=>Ze(e)?so(e):e;function u_(e){ui&&Xn&&(e=qe(e),n_(e.dep||(e.dep=Kh())))}function f_(e,t){e=qe(e);const n=e.dep;n&&If(n)}function Rt(e){return!!(e&&e.__v_isRef===!0)}function pe(e){return h_(e,!1)}function sn(e){return h_(e,!0)}function h_(e,t){return Rt(e)?e:new l2(e,t)}class l2{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:qe(t),this._value=n?t:ra(t)}get value(){return u_(this),this._value}set value(t){const n=this.__v_isShallow||Bl(t)||As(t);t=n?t:qe(t),na(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ra(t),f_(this))}}function E(e){return Rt(e)?e.value:e}const c2={get:(e,t,n)=>E(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Rt(i)&&!Rt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function d_(e){return Os(e)?e:new Proxy(e,c2)}function Rf(e){const t=De(e)?new Array(e.length):{};for(const n in e)t[n]=p_(e,n);return t}class u2{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return BS(qe(this._object),this._key)}}class f2{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ht(e,t,n){return Rt(e)?e:$e(e)?new f2(e):Ze(e)&&arguments.length>1?p_(e,t,n):pe(e)}function p_(e,t,n){const r=e[t];return Rt(r)?r:new u2(e,t,n)}class h2{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new qh(t,()=>{this._dirty||(this._dirty=!0,f_(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=qe(this);return u_(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function d2(e,t,n=!1){let r,i;const o=$e(e);return o?(r=e,i=nt):(r=e.get,i=e.set),new h2(r,i,o||!i,n)}function p2(e,...t){}function fi(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){wc(o,t,n)}return i}function Rn(e,t,n,r){if($e(e)){const o=fi(e,t,n,r);return o&&Yy(o)&&o.catch(p=>{wc(p,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Rn(e[o],t,n,r));return i}function wc(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const p=t.proxy,a=n;for(;o;){const h=o.ec;if(h){for(let u=0;u<h.length;u++)if(h[u](e,p,a)===!1)return}o=o.parent}const s=t.appContext.config.errorHandler;if(s){fi(s,null,10,[e,p,a]);return}}g2(e,n,i,r)}function g2(e,t,n,r=!0){console.error(e)}let ia=!1,Mf=!1;const Wt=[];let fr=0;const ks=[];let Fr=null,ki=0;const g_=Promise.resolve();let rd=null;function ct(e){const t=rd||g_;return e?t.then(this?e.bind(this):e):t}function v2(e){let t=fr+1,n=Wt.length;for(;t<n;){const r=t+n>>>1;sa(Wt[r])<e?t=r+1:n=r}return t}function id(e){(!Wt.length||!Wt.includes(e,ia&&e.allowRecurse?fr+1:fr))&&(e.id==null?Wt.push(e):Wt.splice(v2(e.id),0,e),v_())}function v_(){!ia&&!Mf&&(Mf=!0,rd=g_.then(y_))}function m2(e){const t=Wt.indexOf(e);t>fr&&Wt.splice(t,1)}function y2(e){De(e)?ks.push(...e):(!Fr||!Fr.includes(e,e.allowRecurse?ki+1:ki))&&ks.push(e),v_()}function Mg(e,t=ia?fr+1:0){for(;t<Wt.length;t++){const n=Wt[t];n&&n.pre&&(Wt.splice(t,1),t--,n())}}function m_(e){if(ks.length){const t=[...new Set(ks)];if(ks.length=0,Fr){Fr.push(...t);return}for(Fr=t,Fr.sort((n,r)=>sa(n)-sa(r)),ki=0;ki<Fr.length;ki++)Fr[ki]();Fr=null,ki=0}}const sa=e=>e.id==null?1/0:e.id,_2=(e,t)=>{const n=sa(e)-sa(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function y_(e){Mf=!1,ia=!0,Wt.sort(_2);const t=nt;try{for(fr=0;fr<Wt.length;fr++){const n=Wt[fr];n&&n.active!==!1&&fi(n,null,14)}}finally{fr=0,Wt.length=0,m_(),ia=!1,rd=null,(Wt.length||ks.length)&&y_()}}function b2(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||pt;let i=n;const o=t.startsWith("update:"),p=o&&t.slice(7);if(p&&p in r){const u=`${p==="modelValue"?"model":p}Modifiers`,{number:l,trim:f}=r[u]||pt;f&&(i=n.map(c=>Ye(c)?c.trim():c)),l&&(i=n.map(Fl))}let a,s=r[a=vu(t)]||r[a=vu(Qn(t))];!s&&o&&(s=r[a=vu(Gi(t))]),s&&Rn(s,e,6,i);const h=r[a+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Rn(h,e,6,i)}}function __(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let p={},a=!1;if(!$e(e)){const s=h=>{const u=__(h,t,!0);u&&(a=!0,Ct(p,u))};!n&&t.mixins.length&&t.mixins.forEach(s),e.extends&&s(e.extends),e.mixins&&e.mixins.forEach(s)}return!o&&!a?(Ze(e)&&r.set(e,null),null):(De(o)?o.forEach(s=>p[s]=null):Ct(p,o),Ze(e)&&r.set(e,p),p)}function Cc(e,t){return!e||!mc(t)?!1:(t=t.slice(2).replace(/Once$/,""),Xe(e,t[0].toLowerCase()+t.slice(1))||Xe(e,Gi(t))||Xe(e,t))}let Ut=null,Sc=null;function jl(e){const t=Ut;return Ut=e,Sc=e&&e.type.__scopeId||null,t}function Sn(e){Sc=e}function xn(){Sc=null}function Ce(e,t=Ut,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Yg(-1);const o=jl(t);let p;try{p=e(...i)}finally{jl(o),r._d&&Yg(1)}return p};return r._n=!0,r._c=!0,r._d=!0,r}function mu(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[p],slots:a,attrs:s,emit:h,render:u,renderCache:l,data:f,setupState:c,ctx:d,inheritAttrs:v}=e;let g,m;const y=jl(e);try{if(n.shapeFlag&4){const b=i||r;g=ur(u.call(b,b,l,o,c,f,d)),m=s}else{const b=t;g=ur(b.length>1?b(o,{attrs:s,slots:a,emit:h}):b(o,null)),m=t.props?s:w2(s)}}catch(b){No.length=0,wc(b,e,1),g=ye(bn)}let _=g;if(m&&v!==!1){const b=Object.keys(m),{shapeFlag:w}=_;b.length&&w&7&&(p&&b.some(Vh)&&(m=C2(m,p)),_=Hr(_,m))}return n.dirs&&(_=Hr(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),g=_,jl(y),g}const w2=e=>{let t;for(const n in e)(n==="class"||n==="style"||mc(n))&&((t||(t={}))[n]=e[n]);return t},C2=(e,t)=>{const n={};for(const r in e)(!Vh(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function S2(e,t,n){const{props:r,children:i,component:o}=e,{props:p,children:a,patchFlag:s}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&s>=0){if(s&1024)return!0;if(s&16)return r?Dg(r,p,h):!!p;if(s&8){const u=t.dynamicProps;for(let l=0;l<u.length;l++){const f=u[l];if(p[f]!==r[f]&&!Cc(h,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===p?!1:r?p?Dg(r,p,h):!0:!!p;return!1}function Dg(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!Cc(n,o))return!0}return!1}function x2({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const T2=e=>e.__isSuspense;function E2(e,t){t&&t.pendingBranch?De(e)?t.effects.push(...e):t.effects.push(e):y2(e)}const el={};function Me(e,t,n){return b_(e,t,n)}function b_(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:p}=pt){var a;const s=Xh()===((a=Ft)==null?void 0:a.scope)?Ft:null;let h,u=!1,l=!1;if(Rt(e)?(h=()=>e.value,u=Bl(e)):Os(e)?(h=()=>e,r=!0):De(e)?(l=!0,u=e.some(b=>Os(b)||Bl(b)),h=()=>e.map(b=>{if(Rt(b))return b.value;if(Os(b))return Ii(b);if($e(b))return fi(b,s,2)})):$e(e)?t?h=()=>fi(e,s,2):h=()=>{if(!(s&&s.isUnmounted))return f&&f(),Rn(e,s,3,[c])}:h=nt,t&&r){const b=h;h=()=>Ii(b())}let f,c=b=>{f=y.onStop=()=>{fi(b,s,4)}},d;if(ca)if(c=nt,t?n&&Rn(t,s,3,[h(),l?[]:void 0,c]):h(),i==="sync"){const b=dx();d=b.__watcherHandles||(b.__watcherHandles=[])}else return nt;let v=l?new Array(e.length).fill(el):el;const g=()=>{if(y.active)if(t){const b=y.run();(r||u||(l?b.some((w,S)=>na(w,v[S])):na(b,v)))&&(f&&f(),Rn(t,s,3,[b,v===el?void 0:l&&v[0]===el?[]:v,c]),v=b)}else y.run()};g.allowRecurse=!!t;let m;i==="sync"?m=g:i==="post"?m=()=>tn(g,s&&s.suspense):(g.pre=!0,s&&(g.id=s.uid),m=()=>id(g));const y=new qh(h,m);t?n?g():v=y.run():i==="post"?tn(y.run.bind(y),s&&s.suspense):y.run();const _=()=>{y.stop(),s&&s.scope&&Wh(s.scope.effects,y)};return d&&d.push(_),_}function O2(e,t,n){const r=this.proxy,i=Ye(e)?e.includes(".")?w_(r,e):()=>r[e]:e.bind(r,r);let o;$e(t)?o=t:(o=t.handler,n=t);const p=Ft;Rs(this);const a=b_(i,o.bind(r),n);return p?Rs(p):Di(),a}function w_(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Ii(e,t){if(!Ze(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Rt(e))Ii(e.value,t);else if(De(e))for(let n=0;n<e.length;n++)Ii(e[n],t);else if(no(e)||Es(e))e.forEach(n=>{Ii(n,t)});else if(Ml(e))for(const n in e)Ii(e[n],t);return e}function ut(e,t){const n=Ut;if(n===null)return e;const r=Pc(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[p,a,s,h=pt]=t[o];p&&($e(p)&&(p={mounted:p,updated:p}),p.deep&&Ii(a),i.push({dir:p,instance:r,value:a,oldValue:void 0,arg:s,modifiers:h}))}return e}function Ci(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let p=0;p<i.length;p++){const a=i[p];o&&(a.oldValue=o[p].value);let s=a.dir[r];s&&(ro(),Rn(s,n,8,[e.el,a,e,t]),io())}}function C_(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return lt(()=>{e.isMounted=!0}),fn(()=>{e.isUnmounting=!0}),e}const On=[Function,Array],S_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:On,onEnter:On,onAfterEnter:On,onEnterCancelled:On,onBeforeLeave:On,onLeave:On,onAfterLeave:On,onLeaveCancelled:On,onBeforeAppear:On,onAppear:On,onAfterAppear:On,onAppearCancelled:On},k2={name:"BaseTransition",props:S_,setup(e,{slots:t}){const n=Dt(),r=C_();let i;return()=>{const o=t.default&&sd(t.default(),!0);if(!o||!o.length)return;let p=o[0];if(o.length>1){for(const v of o)if(v.type!==bn){p=v;break}}const a=qe(e),{mode:s}=a;if(r.isLeaving)return yu(p);const h=Fg(p);if(!h)return yu(p);const u=oa(h,a,r,n);aa(h,u);const l=n.subTree,f=l&&Fg(l);let c=!1;const{getTransitionKey:d}=h.type;if(d){const v=d();i===void 0?i=v:v!==i&&(i=v,c=!0)}if(f&&f.type!==bn&&(!Pi(h,f)||c)){const v=oa(f,a,r,n);if(aa(f,v),s==="out-in")return r.isLeaving=!0,v.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},yu(p);s==="in-out"&&h.type!==bn&&(v.delayLeave=(g,m,y)=>{const _=x_(r,f);_[String(f.key)]=f,g._leaveCb=()=>{m(),g._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=y})}return p}}},P2=k2;function x_(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function oa(e,t,n,r){const{appear:i,mode:o,persisted:p=!1,onBeforeEnter:a,onEnter:s,onAfterEnter:h,onEnterCancelled:u,onBeforeLeave:l,onLeave:f,onAfterLeave:c,onLeaveCancelled:d,onBeforeAppear:v,onAppear:g,onAfterAppear:m,onAppearCancelled:y}=t,_=String(e.key),b=x_(n,e),w=(P,B)=>{P&&Rn(P,r,9,B)},S=(P,B)=>{const G=B[1];w(P,B),De(P)?P.every(K=>K.length<=1)&&G():P.length<=1&&G()},x={mode:o,persisted:p,beforeEnter(P){let B=a;if(!n.isMounted)if(i)B=v||a;else return;P._leaveCb&&P._leaveCb(!0);const G=b[_];G&&Pi(e,G)&&G.el._leaveCb&&G.el._leaveCb(),w(B,[P])},enter(P){let B=s,G=h,K=u;if(!n.isMounted)if(i)B=g||s,G=m||h,K=y||u;else return;let Y=!1;const W=P._enterCb=ee=>{Y||(Y=!0,ee?w(K,[P]):w(G,[P]),x.delayedLeave&&x.delayedLeave(),P._enterCb=void 0)};B?S(B,[P,W]):W()},leave(P,B){const G=String(e.key);if(P._enterCb&&P._enterCb(!0),n.isUnmounting)return B();w(l,[P]);let K=!1;const Y=P._leaveCb=W=>{K||(K=!0,B(),W?w(d,[P]):w(c,[P]),P._leaveCb=void 0,b[G]===e&&delete b[G])};b[G]=e,f?S(f,[P,Y]):Y()},clone(P){return oa(P,t,n,r)}};return x}function yu(e){if(xc(e))return e=Hr(e),e.children=null,e}function Fg(e){return xc(e)?e.children?e.children[0]:void 0:e}function aa(e,t){e.shapeFlag&6&&e.component?aa(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function sd(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let p=e[o];const a=n==null?p.key:String(n)+String(p.key!=null?p.key:o);p.type===Re?(p.patchFlag&128&&i++,r=r.concat(sd(p.children,t,a))):(t||p.type!==bn)&&r.push(a!=null?Hr(p,{key:a}):p)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function ke(e,t){return $e(e)?(()=>Ct({name:e.name},t,{setup:e}))():e}const Bo=e=>!!e.type.__asyncLoader,xc=e=>e.type.__isKeepAlive;function A2(e,t){E_(e,"a",t)}function T_(e,t){E_(e,"da",t)}function E_(e,t,n=Ft){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Tc(t,r,n),n){let i=n.parent;for(;i&&i.parent;)xc(i.parent.vnode)&&I2(r,t,n,i),i=i.parent}}function I2(e,t,n,r){const i=Tc(t,e,r,!0);Aa(()=>{Wh(r[t],i)},n)}function Tc(e,t,n=Ft,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...p)=>{if(n.isUnmounted)return;ro(),Rs(n);const a=Rn(t,n,e,p);return Di(),io(),a});return r?i.unshift(o):i.push(o),o}}const Wr=e=>(t,n=Ft)=>(!ca||e==="sp")&&Tc(e,(...r)=>t(...r),n),O_=Wr("bm"),lt=Wr("m"),R2=Wr("bu"),Ec=Wr("u"),fn=Wr("bum"),Aa=Wr("um"),M2=Wr("sp"),D2=Wr("rtg"),F2=Wr("rtc");function L2(e,t=Ft){Tc("ec",e,t)}const od="components";function Be(e,t){return P_(od,e,!0,t)||e}const k_=Symbol.for("v-ndc");function nn(e){return Ye(e)?P_(od,e,!1)||e:e||k_}function P_(e,t,n=!0,r=!1){const i=Ut||Ft;if(i){const o=i.type;if(e===od){const a=ux(o,!1);if(a&&(a===t||a===Qn(t)||a===_c(Qn(t))))return o}const p=Lg(i[e]||o[e],t)||Lg(i.appContext[e],t);return!p&&r?o:p}}function Lg(e,t){return e&&(e[t]||e[Qn(t)]||e[_c(Qn(t))])}function st(e,t,n,r){let i;const o=n&&n[r];if(De(e)||Ye(e)){i=new Array(e.length);for(let p=0,a=e.length;p<a;p++)i[p]=t(e[p],p,void 0,o&&o[p])}else if(typeof e=="number"){i=new Array(e);for(let p=0;p<e;p++)i[p]=t(p+1,p,void 0,o&&o[p])}else if(Ze(e))if(e[Symbol.iterator])i=Array.from(e,(p,a)=>t(p,a,void 0,o&&o[a]));else{const p=Object.keys(e);i=new Array(p.length);for(let a=0,s=p.length;a<s;a++){const h=p[a];i[a]=t(e[h],h,a,o&&o[a])}}else i=[];return n&&(n[r]=i),i}function Df(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(De(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return e}function Ie(e,t,n={},r,i){if(Ut.isCE||Ut.parent&&Bo(Ut.parent)&&Ut.parent.isCE)return t!=="default"&&(n.name=t),ye("slot",n,r&&r());let o=e[t];o&&o._c&&(o._d=!1),z();const p=o&&A_(o(n)),a=Oe(Re,{key:n.key||p&&p.key||`_${t}`},p||(r?r():[]),p&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function A_(e){return e.some(t=>Is(t)?!(t.type===bn||t.type===Re&&!A_(t.children)):!0)?e:null}const Ff=e=>e?V_(e)?Pc(e)||e.proxy:Ff(e.parent):null,$o=Ct(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ff(e.parent),$root:e=>Ff(e.root),$emit:e=>e.emit,$options:e=>ld(e),$forceUpdate:e=>e.f||(e.f=()=>id(e.update)),$nextTick:e=>e.n||(e.n=ct.bind(e.proxy)),$watch:e=>O2.bind(e)}),_u=(e,t)=>e!==pt&&!e.__isScriptSetup&&Xe(e,t),B2={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:p,type:a,appContext:s}=e;let h;if(t[0]!=="$"){const c=p[t];if(c!==void 0)switch(c){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(_u(r,t))return p[t]=1,r[t];if(i!==pt&&Xe(i,t))return p[t]=2,i[t];if((h=e.propsOptions[0])&&Xe(h,t))return p[t]=3,o[t];if(n!==pt&&Xe(n,t))return p[t]=4,n[t];Lf&&(p[t]=0)}}const u=$o[t];let l,f;if(u)return t==="$attrs"&&un(e,"get",t),u(e);if((l=a.__cssModules)&&(l=l[t]))return l;if(n!==pt&&Xe(n,t))return p[t]=4,n[t];if(f=s.config.globalProperties,Xe(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return _u(i,t)?(i[t]=n,!0):r!==pt&&Xe(r,t)?(r[t]=n,!0):Xe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},p){let a;return!!n[p]||e!==pt&&Xe(e,p)||_u(t,p)||(a=o[0])&&Xe(a,p)||Xe(r,p)||Xe($o,p)||Xe(i.config.globalProperties,p)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Xe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function I_(){return R_().slots}function ad(){return R_().attrs}function R_(){const e=Dt();return e.setupContext||(e.setupContext=Y_(e))}function Bg(e){return De(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Lf=!0;function $2(e){const t=ld(e),n=e.proxy,r=e.ctx;Lf=!1,t.beforeCreate&&$g(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:p,watch:a,provide:s,inject:h,created:u,beforeMount:l,mounted:f,beforeUpdate:c,updated:d,activated:v,deactivated:g,beforeDestroy:m,beforeUnmount:y,destroyed:_,unmounted:b,render:w,renderTracked:S,renderTriggered:x,errorCaptured:P,serverPrefetch:B,expose:G,inheritAttrs:K,components:Y,directives:W,filters:ee}=t;if(h&&j2(h,r,null),p)for(const U in p){const Q=p[U];$e(Q)&&(r[U]=Q.bind(n))}if(i){const U=i.call(n,n);Ze(U)&&(e.data=St(U))}if(Lf=!0,o)for(const U in o){const Q=o[U],O=$e(Q)?Q.bind(n,n):$e(Q.get)?Q.get.bind(n,n):nt,R=!$e(Q)&&$e(Q.set)?Q.set.bind(n):nt,F=ne({get:O,set:R});Object.defineProperty(r,U,{enumerable:!0,configurable:!0,get:()=>F.value,set:D=>F.value=D})}if(a)for(const U in a)M_(a[U],r,n,U);if(s){const U=$e(s)?s.call(n):s;Reflect.ownKeys(U).forEach(Q=>{yt(Q,U[Q])})}u&&$g(u,e,"c");function de(U,Q){De(Q)?Q.forEach(O=>U(O.bind(n))):Q&&U(Q.bind(n))}if(de(O_,l),de(lt,f),de(R2,c),de(Ec,d),de(A2,v),de(T_,g),de(L2,P),de(F2,S),de(D2,x),de(fn,y),de(Aa,b),de(M2,B),De(G))if(G.length){const U=e.exposed||(e.exposed={});G.forEach(Q=>{Object.defineProperty(U,Q,{get:()=>n[Q],set:O=>n[Q]=O})})}else e.exposed||(e.exposed={});w&&e.render===nt&&(e.render=w),K!=null&&(e.inheritAttrs=K),Y&&(e.components=Y),W&&(e.directives=W)}function j2(e,t,n=nt){De(e)&&(e=Bf(e));for(const r in e){const i=e[r];let o;Ze(i)?"default"in i?o=Le(i.from||r,i.default,!0):o=Le(i.from||r):o=Le(i),Rt(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:p=>o.value=p}):t[r]=o}}function $g(e,t,n){Rn(De(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function M_(e,t,n,r){const i=r.includes(".")?w_(n,r):()=>n[r];if(Ye(e)){const o=t[e];$e(o)&&Me(i,o)}else if($e(e))Me(i,e.bind(n));else if(Ze(e))if(De(e))e.forEach(o=>M_(o,t,n,r));else{const o=$e(e.handler)?e.handler.bind(n):t[e.handler];$e(o)&&Me(i,o,e)}}function ld(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:p}}=e.appContext,a=o.get(t);let s;return a?s=a:!i.length&&!n&&!r?s=t:(s={},i.length&&i.forEach(h=>Nl(s,h,p,!0)),Nl(s,t,p)),Ze(t)&&o.set(t,s),s}function Nl(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Nl(e,o,n,!0),i&&i.forEach(p=>Nl(e,p,n,!0));for(const p in t)if(!(r&&p==="expose")){const a=N2[p]||n&&n[p];e[p]=a?a(e[p],t[p]):t[p]}return e}const N2={data:jg,props:Ng,emits:Ng,methods:Io,computed:Io,beforeCreate:Kt,created:Kt,beforeMount:Kt,mounted:Kt,beforeUpdate:Kt,updated:Kt,beforeDestroy:Kt,beforeUnmount:Kt,destroyed:Kt,unmounted:Kt,activated:Kt,deactivated:Kt,errorCaptured:Kt,serverPrefetch:Kt,components:Io,directives:Io,watch:H2,provide:jg,inject:z2};function jg(e,t){return t?e?function(){return Ct($e(e)?e.call(this,this):e,$e(t)?t.call(this,this):t)}:t:e}function z2(e,t){return Io(Bf(e),Bf(t))}function Bf(e){if(De(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Kt(e,t){return e?[...new Set([].concat(e,t))]:t}function Io(e,t){return e?Ct(Object.create(null),e,t):t}function Ng(e,t){return e?De(e)&&De(t)?[...new Set([...e,...t])]:Ct(Object.create(null),Bg(e),Bg(t??{})):t}function H2(e,t){if(!e)return t;if(!t)return e;const n=Ct(Object.create(null),e);for(const r in t)n[r]=Kt(e[r],t[r]);return n}function D_(){return{app:null,config:{isNativeTag:_S,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let U2=0;function V2(e,t){return function(r,i=null){$e(r)||(r=Ct({},r)),i!=null&&!Ze(i)&&(i=null);const o=D_(),p=new Set;let a=!1;const s=o.app={_uid:U2++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:px,get config(){return o.config},set config(h){},use(h,...u){return p.has(h)||(h&&$e(h.install)?(p.add(h),h.install(s,...u)):$e(h)&&(p.add(h),h(s,...u))),s},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),s},component(h,u){return u?(o.components[h]=u,s):o.components[h]},directive(h,u){return u?(o.directives[h]=u,s):o.directives[h]},mount(h,u,l){if(!a){const f=ye(r,i);return f.appContext=o,u&&t?t(f,h):e(f,h,l),a=!0,s._container=h,h.__vue_app__=s,Pc(f.component)||f.component.proxy}},unmount(){a&&(e(null,s._container),delete s._container.__vue_app__)},provide(h,u){return o.provides[h]=u,s},runWithContext(h){zl=s;try{return h()}finally{zl=null}}};return s}}let zl=null;function yt(e,t){if(Ft){let n=Ft.provides;const r=Ft.parent&&Ft.parent.provides;r===n&&(n=Ft.provides=Object.create(r)),n[e]=t}}function Le(e,t,n=!1){const r=Ft||Ut;if(r||zl){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:zl._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&$e(t)?t.call(r&&r.proxy):t}}function W2(e,t,n,r=!1){const i={},o={};Dl(o,kc,1),e.propsDefaults=Object.create(null),F_(e,t,i,o);for(const p in e.propsOptions[0])p in i||(i[p]=void 0);n?e.props=r?i:ed(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Y2(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:p}}=e,a=qe(i),[s]=e.propsOptions;let h=!1;if((r||p>0)&&!(p&16)){if(p&8){const u=e.vnode.dynamicProps;for(let l=0;l<u.length;l++){let f=u[l];if(Cc(e.emitsOptions,f))continue;const c=t[f];if(s)if(Xe(o,f))c!==o[f]&&(o[f]=c,h=!0);else{const d=Qn(f);i[d]=$f(s,a,d,c,e,!1)}else c!==o[f]&&(o[f]=c,h=!0)}}}else{F_(e,t,i,o)&&(h=!0);let u;for(const l in a)(!t||!Xe(t,l)&&((u=Gi(l))===l||!Xe(t,u)))&&(s?n&&(n[l]!==void 0||n[u]!==void 0)&&(i[l]=$f(s,a,l,void 0,e,!0)):delete i[l]);if(o!==a)for(const l in o)(!t||!Xe(t,l))&&(delete o[l],h=!0)}h&&zr(e,"set","$attrs")}function F_(e,t,n,r){const[i,o]=e.propsOptions;let p=!1,a;if(t)for(let s in t){if(bl(s))continue;const h=t[s];let u;i&&Xe(i,u=Qn(s))?!o||!o.includes(u)?n[u]=h:(a||(a={}))[u]=h:Cc(e.emitsOptions,s)||(!(s in r)||h!==r[s])&&(r[s]=h,p=!0)}if(o){const s=qe(n),h=a||pt;for(let u=0;u<o.length;u++){const l=o[u];n[l]=$f(i,s,l,h[l],e,!Xe(h,l))}}return p}function $f(e,t,n,r,i,o){const p=e[n];if(p!=null){const a=Xe(p,"default");if(a&&r===void 0){const s=p.default;if(p.type!==Function&&!p.skipFactory&&$e(s)){const{propsDefaults:h}=i;n in h?r=h[n]:(Rs(i),r=h[n]=s.call(null,t),Di())}else r=s}p[0]&&(o&&!a?r=!1:p[1]&&(r===""||r===Gi(n))&&(r=!0))}return r}function L_(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,p={},a=[];let s=!1;if(!$e(e)){const u=l=>{s=!0;const[f,c]=L_(l,t,!0);Ct(p,f),c&&a.push(...c)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!s)return Ze(e)&&r.set(e,Ts),Ts;if(De(o))for(let u=0;u<o.length;u++){const l=Qn(o[u]);zg(l)&&(p[l]=pt)}else if(o)for(const u in o){const l=Qn(u);if(zg(l)){const f=o[u],c=p[l]=De(f)||$e(f)?{type:f}:Ct({},f);if(c){const d=Vg(Boolean,c.type),v=Vg(String,c.type);c[0]=d>-1,c[1]=v<0||d<v,(d>-1||Xe(c,"default"))&&a.push(l)}}}const h=[p,a];return Ze(e)&&r.set(e,h),h}function zg(e){return e[0]!=="$"}function Hg(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Ug(e,t){return Hg(e)===Hg(t)}function Vg(e,t){return De(t)?t.findIndex(n=>Ug(n,e)):$e(t)&&Ug(t,e)?0:-1}const B_=e=>e[0]==="_"||e==="$stable",cd=e=>De(e)?e.map(ur):[ur(e)],G2=(e,t,n)=>{if(t._n)return t;const r=Ce((...i)=>cd(t(...i)),n);return r._c=!1,r},$_=(e,t,n)=>{const r=e._ctx;for(const i in e){if(B_(i))continue;const o=e[i];if($e(o))t[i]=G2(i,o,r);else if(o!=null){const p=cd(o);t[i]=()=>p}}},j_=(e,t)=>{const n=cd(t);e.slots.default=()=>n},X2=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=qe(t),Dl(t,"_",n)):$_(t,e.slots={})}else e.slots={},t&&j_(e,t);Dl(e.slots,kc,1)},K2=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,p=pt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(Ct(i,t),!n&&a===1&&delete i._):(o=!t.$stable,$_(t,i)),p=t}else t&&(j_(e,t),p={default:1});if(o)for(const a in i)!B_(a)&&!(a in p)&&delete i[a]};function jf(e,t,n,r,i=!1){if(De(e)){e.forEach((f,c)=>jf(f,t&&(De(t)?t[c]:t),n,r,i));return}if(Bo(r)&&!i)return;const o=r.shapeFlag&4?Pc(r.component)||r.component.proxy:r.el,p=i?null:o,{i:a,r:s}=e,h=t&&t.r,u=a.refs===pt?a.refs={}:a.refs,l=a.setupState;if(h!=null&&h!==s&&(Ye(h)?(u[h]=null,Xe(l,h)&&(l[h]=null)):Rt(h)&&(h.value=null)),$e(s))fi(s,a,12,[p,u]);else{const f=Ye(s),c=Rt(s);if(f||c){const d=()=>{if(e.f){const v=f?Xe(l,s)?l[s]:u[s]:s.value;i?De(v)&&Wh(v,o):De(v)?v.includes(o)||v.push(o):f?(u[s]=[o],Xe(l,s)&&(l[s]=u[s])):(s.value=[o],e.k&&(u[e.k]=s.value))}else f?(u[s]=p,Xe(l,s)&&(l[s]=p)):c&&(s.value=p,e.k&&(u[e.k]=p))};p?(d.id=-1,tn(d,n)):d()}}}const tn=E2;function q2(e){return J2(e)}function J2(e,t){const n=kf();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:p,createText:a,createComment:s,setText:h,setElementText:u,parentNode:l,nextSibling:f,setScopeId:c=nt,insertStaticContent:d}=e,v=(L,A,M,q=null,te=null,Z=null,re=!1,fe=null,me=!!A.dynamicChildren)=>{if(L===A)return;L&&!Pi(L,A)&&(q=$(L),D(L,te,Z,!0),L=null),A.patchFlag===-2&&(me=!1,A.dynamicChildren=null);const{type:he,ref:ae,shapeFlag:_e}=A;switch(he){case oo:g(L,A,M,q);break;case bn:m(L,A,M,q);break;case bu:L==null&&y(A,M,q,re);break;case Re:Y(L,A,M,q,te,Z,re,fe,me);break;default:_e&1?w(L,A,M,q,te,Z,re,fe,me):_e&6?W(L,A,M,q,te,Z,re,fe,me):(_e&64||_e&128)&&he.process(L,A,M,q,te,Z,re,fe,me,J)}ae!=null&&te&&jf(ae,L&&L.ref,Z,A||L,!A)},g=(L,A,M,q)=>{if(L==null)r(A.el=a(A.children),M,q);else{const te=A.el=L.el;A.children!==L.children&&h(te,A.children)}},m=(L,A,M,q)=>{L==null?r(A.el=s(A.children||""),M,q):A.el=L.el},y=(L,A,M,q)=>{[L.el,L.anchor]=d(L.children,A,M,q,L.el,L.anchor)},_=({el:L,anchor:A},M,q)=>{let te;for(;L&&L!==A;)te=f(L),r(L,M,q),L=te;r(A,M,q)},b=({el:L,anchor:A})=>{let M;for(;L&&L!==A;)M=f(L),i(L),L=M;i(A)},w=(L,A,M,q,te,Z,re,fe,me)=>{re=re||A.type==="svg",L==null?S(A,M,q,te,Z,re,fe,me):B(L,A,te,Z,re,fe,me)},S=(L,A,M,q,te,Z,re,fe)=>{let me,he;const{type:ae,props:_e,shapeFlag:xe,transition:ue,dirs:Ee}=L;if(me=L.el=p(L.type,Z,_e&&_e.is,_e),xe&8?u(me,L.children):xe&16&&P(L.children,me,null,q,te,Z&&ae!=="foreignObject",re,fe),Ee&&Ci(L,null,q,"created"),x(me,L,L.scopeId,re,q),_e){for(const C in _e)C!=="value"&&!bl(C)&&o(me,C,null,_e[C],Z,L.children,q,te,X);"value"in _e&&o(me,"value",null,_e.value),(he=_e.onVnodeBeforeMount)&&cr(he,q,L)}Ee&&Ci(L,null,q,"beforeMount");const k=(!te||te&&!te.pendingBranch)&&ue&&!ue.persisted;k&&ue.beforeEnter(me),r(me,A,M),((he=_e&&_e.onVnodeMounted)||k||Ee)&&tn(()=>{he&&cr(he,q,L),k&&ue.enter(me),Ee&&Ci(L,null,q,"mounted")},te)},x=(L,A,M,q,te)=>{if(M&&c(L,M),q)for(let Z=0;Z<q.length;Z++)c(L,q[Z]);if(te){let Z=te.subTree;if(A===Z){const re=te.vnode;x(L,re,re.scopeId,re.slotScopeIds,te.parent)}}},P=(L,A,M,q,te,Z,re,fe,me=0)=>{for(let he=me;he<L.length;he++){const ae=L[he]=fe?si(L[he]):ur(L[he]);v(null,ae,A,M,q,te,Z,re,fe)}},B=(L,A,M,q,te,Z,re)=>{const fe=A.el=L.el;let{patchFlag:me,dynamicChildren:he,dirs:ae}=A;me|=L.patchFlag&16;const _e=L.props||pt,xe=A.props||pt;let ue;M&&Si(M,!1),(ue=xe.onVnodeBeforeUpdate)&&cr(ue,M,A,L),ae&&Ci(A,L,M,"beforeUpdate"),M&&Si(M,!0);const Ee=te&&A.type!=="foreignObject";if(he?G(L.dynamicChildren,he,fe,M,q,Ee,Z):re||Q(L,A,fe,null,M,q,Ee,Z,!1),me>0){if(me&16)K(fe,A,_e,xe,M,q,te);else if(me&2&&_e.class!==xe.class&&o(fe,"class",null,xe.class,te),me&4&&o(fe,"style",_e.style,xe.style,te),me&8){const k=A.dynamicProps;for(let C=0;C<k.length;C++){const T=k[C],H=_e[T],oe=xe[T];(oe!==H||T==="value")&&o(fe,T,H,oe,te,L.children,M,q,X)}}me&1&&L.children!==A.children&&u(fe,A.children)}else!re&&he==null&&K(fe,A,_e,xe,M,q,te);((ue=xe.onVnodeUpdated)||ae)&&tn(()=>{ue&&cr(ue,M,A,L),ae&&Ci(A,L,M,"updated")},q)},G=(L,A,M,q,te,Z,re)=>{for(let fe=0;fe<A.length;fe++){const me=L[fe],he=A[fe],ae=me.el&&(me.type===Re||!Pi(me,he)||me.shapeFlag&70)?l(me.el):M;v(me,he,ae,null,q,te,Z,re,!0)}},K=(L,A,M,q,te,Z,re)=>{if(M!==q){if(M!==pt)for(const fe in M)!bl(fe)&&!(fe in q)&&o(L,fe,M[fe],null,re,A.children,te,Z,X);for(const fe in q){if(bl(fe))continue;const me=q[fe],he=M[fe];me!==he&&fe!=="value"&&o(L,fe,he,me,re,A.children,te,Z,X)}"value"in q&&o(L,"value",M.value,q.value)}},Y=(L,A,M,q,te,Z,re,fe,me)=>{const he=A.el=L?L.el:a(""),ae=A.anchor=L?L.anchor:a("");let{patchFlag:_e,dynamicChildren:xe,slotScopeIds:ue}=A;ue&&(fe=fe?fe.concat(ue):ue),L==null?(r(he,M,q),r(ae,M,q),P(A.children,M,ae,te,Z,re,fe,me)):_e>0&&_e&64&&xe&&L.dynamicChildren?(G(L.dynamicChildren,xe,M,te,Z,re,fe),(A.key!=null||te&&A===te.subTree)&&ud(L,A,!0)):Q(L,A,M,ae,te,Z,re,fe,me)},W=(L,A,M,q,te,Z,re,fe,me)=>{A.slotScopeIds=fe,L==null?A.shapeFlag&512?te.ctx.activate(A,M,q,re,me):ee(A,M,q,te,Z,re,me):le(L,A,me)},ee=(L,A,M,q,te,Z,re)=>{const fe=L.component=ox(L,q,te);if(xc(L)&&(fe.ctx.renderer=J),ax(fe),fe.asyncDep){if(te&&te.registerDep(fe,de),!L.el){const me=fe.subTree=ye(bn);m(null,me,A,M)}return}de(fe,L,A,M,te,Z,re)},le=(L,A,M)=>{const q=A.component=L.component;if(S2(L,A,M))if(q.asyncDep&&!q.asyncResolved){U(q,A,M);return}else q.next=A,m2(q.update),q.update();else A.el=L.el,q.vnode=A},de=(L,A,M,q,te,Z,re)=>{const fe=()=>{if(L.isMounted){let{next:ae,bu:_e,u:xe,parent:ue,vnode:Ee}=L,k=ae,C;Si(L,!1),ae?(ae.el=Ee.el,U(L,ae,re)):ae=Ee,_e&&wl(_e),(C=ae.props&&ae.props.onVnodeBeforeUpdate)&&cr(C,ue,ae,Ee),Si(L,!0);const T=mu(L),H=L.subTree;L.subTree=T,v(H,T,l(H.el),$(H),L,te,Z),ae.el=T.el,k===null&&x2(L,T.el),xe&&tn(xe,te),(C=ae.props&&ae.props.onVnodeUpdated)&&tn(()=>cr(C,ue,ae,Ee),te)}else{let ae;const{el:_e,props:xe}=A,{bm:ue,m:Ee,parent:k}=L,C=Bo(A);if(Si(L,!1),ue&&wl(ue),!C&&(ae=xe&&xe.onVnodeBeforeMount)&&cr(ae,k,A),Si(L,!0),_e&&ve){const T=()=>{L.subTree=mu(L),ve(_e,L.subTree,L,te,null)};C?A.type.__asyncLoader().then(()=>!L.isUnmounted&&T()):T()}else{const T=L.subTree=mu(L);v(null,T,M,q,L,te,Z),A.el=T.el}if(Ee&&tn(Ee,te),!C&&(ae=xe&&xe.onVnodeMounted)){const T=A;tn(()=>cr(ae,k,T),te)}(A.shapeFlag&256||k&&Bo(k.vnode)&&k.vnode.shapeFlag&256)&&L.a&&tn(L.a,te),L.isMounted=!0,A=M=q=null}},me=L.effect=new qh(fe,()=>id(he),L.scope),he=L.update=()=>me.run();he.id=L.uid,Si(L,!0),he()},U=(L,A,M)=>{A.component=L;const q=L.vnode.props;L.vnode=A,L.next=null,Y2(L,A.props,q,M),K2(L,A.children,M),ro(),Mg(),io()},Q=(L,A,M,q,te,Z,re,fe,me=!1)=>{const he=L&&L.children,ae=L?L.shapeFlag:0,_e=A.children,{patchFlag:xe,shapeFlag:ue}=A;if(xe>0){if(xe&128){R(he,_e,M,q,te,Z,re,fe,me);return}else if(xe&256){O(he,_e,M,q,te,Z,re,fe,me);return}}ue&8?(ae&16&&X(he,te,Z),_e!==he&&u(M,_e)):ae&16?ue&16?R(he,_e,M,q,te,Z,re,fe,me):X(he,te,Z,!0):(ae&8&&u(M,""),ue&16&&P(_e,M,q,te,Z,re,fe,me))},O=(L,A,M,q,te,Z,re,fe,me)=>{L=L||Ts,A=A||Ts;const he=L.length,ae=A.length,_e=Math.min(he,ae);let xe;for(xe=0;xe<_e;xe++){const ue=A[xe]=me?si(A[xe]):ur(A[xe]);v(L[xe],ue,M,null,te,Z,re,fe,me)}he>ae?X(L,te,Z,!0,!1,_e):P(A,M,q,te,Z,re,fe,me,_e)},R=(L,A,M,q,te,Z,re,fe,me)=>{let he=0;const ae=A.length;let _e=L.length-1,xe=ae-1;for(;he<=_e&&he<=xe;){const ue=L[he],Ee=A[he]=me?si(A[he]):ur(A[he]);if(Pi(ue,Ee))v(ue,Ee,M,null,te,Z,re,fe,me);else break;he++}for(;he<=_e&&he<=xe;){const ue=L[_e],Ee=A[xe]=me?si(A[xe]):ur(A[xe]);if(Pi(ue,Ee))v(ue,Ee,M,null,te,Z,re,fe,me);else break;_e--,xe--}if(he>_e){if(he<=xe){const ue=xe+1,Ee=ue<ae?A[ue].el:q;for(;he<=xe;)v(null,A[he]=me?si(A[he]):ur(A[he]),M,Ee,te,Z,re,fe,me),he++}}else if(he>xe)for(;he<=_e;)D(L[he],te,Z,!0),he++;else{const ue=he,Ee=he,k=new Map;for(he=Ee;he<=xe;he++){const He=A[he]=me?si(A[he]):ur(A[he]);He.key!=null&&k.set(He.key,he)}let C,T=0;const H=xe-Ee+1;let oe=!1,ge=0;const we=new Array(H);for(he=0;he<H;he++)we[he]=0;for(he=ue;he<=_e;he++){const He=L[he];if(T>=H){D(He,te,Z,!0);continue}let Ve;if(He.key!=null)Ve=k.get(He.key);else for(C=Ee;C<=xe;C++)if(we[C-Ee]===0&&Pi(He,A[C])){Ve=C;break}Ve===void 0?D(He,te,Z,!0):(we[Ve-Ee]=he+1,Ve>=ge?ge=Ve:oe=!0,v(He,A[Ve],M,null,te,Z,re,fe,me),T++)}const ze=oe?Z2(we):Ts;for(C=ze.length-1,he=H-1;he>=0;he--){const He=Ee+he,Ve=A[He],at=He+1<ae?A[He+1].el:q;we[he]===0?v(null,Ve,M,at,te,Z,re,fe,me):oe&&(C<0||he!==ze[C]?F(Ve,M,at,2):C--)}}},F=(L,A,M,q,te=null)=>{const{el:Z,type:re,transition:fe,children:me,shapeFlag:he}=L;if(he&6){F(L.component.subTree,A,M,q);return}if(he&128){L.suspense.move(A,M,q);return}if(he&64){re.move(L,A,M,J);return}if(re===Re){r(Z,A,M);for(let _e=0;_e<me.length;_e++)F(me[_e],A,M,q);r(L.anchor,A,M);return}if(re===bu){_(L,A,M);return}if(q!==2&&he&1&&fe)if(q===0)fe.beforeEnter(Z),r(Z,A,M),tn(()=>fe.enter(Z),te);else{const{leave:_e,delayLeave:xe,afterLeave:ue}=fe,Ee=()=>r(Z,A,M),k=()=>{_e(Z,()=>{Ee(),ue&&ue()})};xe?xe(Z,Ee,k):k()}else r(Z,A,M)},D=(L,A,M,q=!1,te=!1)=>{const{type:Z,props:re,ref:fe,children:me,dynamicChildren:he,shapeFlag:ae,patchFlag:_e,dirs:xe}=L;if(fe!=null&&jf(fe,null,M,L,!0),ae&256){A.ctx.deactivate(L);return}const ue=ae&1&&xe,Ee=!Bo(L);let k;if(Ee&&(k=re&&re.onVnodeBeforeUnmount)&&cr(k,A,L),ae&6)I(L.component,M,q);else{if(ae&128){L.suspense.unmount(M,q);return}ue&&Ci(L,null,A,"beforeUnmount"),ae&64?L.type.remove(L,A,M,te,J,q):he&&(Z!==Re||_e>0&&_e&64)?X(he,A,M,!1,!0):(Z===Re&&_e&384||!te&&ae&16)&&X(me,A,M),q&&se(L)}(Ee&&(k=re&&re.onVnodeUnmounted)||ue)&&tn(()=>{k&&cr(k,A,L),ue&&Ci(L,null,A,"unmounted")},M)},se=L=>{const{type:A,el:M,anchor:q,transition:te}=L;if(A===Re){j(M,q);return}if(A===bu){b(L);return}const Z=()=>{i(M),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(L.shapeFlag&1&&te&&!te.persisted){const{leave:re,delayLeave:fe}=te,me=()=>re(M,Z);fe?fe(L.el,Z,me):me()}else Z()},j=(L,A)=>{let M;for(;L!==A;)M=f(L),i(L),L=M;i(A)},I=(L,A,M)=>{const{bum:q,scope:te,update:Z,subTree:re,um:fe}=L;q&&wl(q),te.stop(),Z&&(Z.active=!1,D(re,L,A,M)),fe&&tn(fe,A),tn(()=>{L.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},X=(L,A,M,q=!1,te=!1,Z=0)=>{for(let re=Z;re<L.length;re++)D(L[re],A,M,q,te)},$=L=>L.shapeFlag&6?$(L.component.subTree):L.shapeFlag&128?L.suspense.next():f(L.anchor||L.el),V=(L,A,M)=>{L==null?A._vnode&&D(A._vnode,null,null,!0):v(A._vnode||null,L,A,null,null,null,M),Mg(),m_(),A._vnode=L},J={p:v,um:D,m:F,r:se,mt:ee,mc:P,pc:Q,pbc:G,n:$,o:e};let ce,ve;return t&&([ce,ve]=t(J)),{render:V,hydrate:ce,createApp:V2(V,ce)}}function Si({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ud(e,t,n=!1){const r=e.children,i=t.children;if(De(r)&&De(i))for(let o=0;o<r.length;o++){const p=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=si(i[o]),a.el=p.el),n||ud(p,a)),a.type===oo&&(a.el=p.el)}}function Z2(e){const t=e.slice(),n=[0];let r,i,o,p,a;const s=e.length;for(r=0;r<s;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(o=0,p=n.length-1;o<p;)a=o+p>>1,e[n[a]]<h?o=a+1:p=a;h<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,p=n[o-1];o-- >0;)n[o]=p,p=t[p];return n}const Q2=e=>e.__isTeleport,jo=e=>e&&(e.disabled||e.disabled===""),Wg=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Nf=(e,t)=>{const n=e&&e.to;return Ye(n)?t?t(n):null:n},ex={__isTeleport:!0,process(e,t,n,r,i,o,p,a,s,h){const{mc:u,pc:l,pbc:f,o:{insert:c,querySelector:d,createText:v,createComment:g}}=h,m=jo(t.props);let{shapeFlag:y,children:_,dynamicChildren:b}=t;if(e==null){const w=t.el=v(""),S=t.anchor=v("");c(w,n,r),c(S,n,r);const x=t.target=Nf(t.props,d),P=t.targetAnchor=v("");x&&(c(P,x),p=p||Wg(x));const B=(G,K)=>{y&16&&u(_,G,K,i,o,p,a,s)};m?B(n,S):x&&B(x,P)}else{t.el=e.el;const w=t.anchor=e.anchor,S=t.target=e.target,x=t.targetAnchor=e.targetAnchor,P=jo(e.props),B=P?n:S,G=P?w:x;if(p=p||Wg(S),b?(f(e.dynamicChildren,b,B,i,o,p,a),ud(e,t,!0)):s||l(e,t,B,G,i,o,p,a,!1),m)P||tl(t,n,w,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const K=t.target=Nf(t.props,d);K&&tl(t,K,null,h,0)}else P&&tl(t,S,x,h,1)}N_(t)},remove(e,t,n,r,{um:i,o:{remove:o}},p){const{shapeFlag:a,children:s,anchor:h,targetAnchor:u,target:l,props:f}=e;if(l&&o(u),(p||!jo(f))&&(o(h),a&16))for(let c=0;c<s.length;c++){const d=s[c];i(d,t,n,!0,!!d.dynamicChildren)}},move:tl,hydrate:tx};function tl(e,t,n,{o:{insert:r},m:i},o=2){o===0&&r(e.targetAnchor,t,n);const{el:p,anchor:a,shapeFlag:s,children:h,props:u}=e,l=o===2;if(l&&r(p,t,n),(!l||jo(u))&&s&16)for(let f=0;f<h.length;f++)i(h[f],t,n,2);l&&r(a,t,n)}function tx(e,t,n,r,i,o,{o:{nextSibling:p,parentNode:a,querySelector:s}},h){const u=t.target=Nf(t.props,s);if(u){const l=u._lpa||u.firstChild;if(t.shapeFlag&16)if(jo(t.props))t.anchor=h(p(e),t,a(e),n,r,i,o),t.targetAnchor=l;else{t.anchor=p(e);let f=l;for(;f;)if(f=p(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,u._lpa=t.targetAnchor&&p(t.targetAnchor);break}h(l,t,u,n,r,i,o)}N_(t)}return t.anchor&&p(t.anchor)}const Oc=ex;function N_(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Re=Symbol.for("v-fgt"),oo=Symbol.for("v-txt"),bn=Symbol.for("v-cmt"),bu=Symbol.for("v-stc"),No=[];let Kn=null;function z(e=!1){No.push(Kn=e?null:[])}function nx(){No.pop(),Kn=No[No.length-1]||null}let la=1;function Yg(e){la+=e}function z_(e){return e.dynamicChildren=la>0?Kn||Ts:null,nx(),la>0&&Kn&&Kn.push(e),e}function ie(e,t,n,r,i,o){return z_(N(e,t,n,r,i,o,!0))}function Oe(e,t,n,r,i){return z_(ye(e,t,n,r,i,!0))}function Is(e){return e?e.__v_isVNode===!0:!1}function Pi(e,t){return e.type===t.type&&e.key===t.key}const kc="__vInternal",H_=({key:e})=>e??null,Cl=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ye(e)||Rt(e)||$e(e)?{i:Ut,r:e,k:t,f:!!n}:e:null);function N(e,t=null,n=null,r=0,i=null,o=e===Re?0:1,p=!1,a=!1){const s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&H_(t),ref:t&&Cl(t),scopeId:Sc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ut};return a?(fd(s,n),o&128&&e.normalize(s)):n&&(s.shapeFlag|=Ye(n)?8:16),la>0&&!p&&Kn&&(s.patchFlag>0||o&6)&&s.patchFlag!==32&&Kn.push(s),s}const ye=rx;function rx(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===k_)&&(e=bn),Is(e)){const a=Hr(e,t,!0);return n&&fd(a,n),la>0&&!o&&Kn&&(a.shapeFlag&6?Kn[Kn.indexOf(e)]=a:Kn.push(a)),a.patchFlag|=-2,a}if(fx(e)&&(e=e.__vccOpts),t){t=U_(t);let{class:a,style:s}=t;a&&!Ye(a)&&(t.class=be(a)),Ze(s)&&(c_(s)&&!De(s)&&(s=Ct({},s)),t.style=je(s))}const p=Ye(e)?1:T2(e)?128:Q2(e)?64:Ze(e)?4:$e(e)?2:0;return N(e,t,n,r,i,p,o,!0)}function U_(e){return e?c_(e)||kc in e?Ct({},e):e:null}function Hr(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:p}=e,a=t?Ot(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&H_(a),ref:t&&t.ref?n&&i?De(i)?i.concat(Cl(t)):[i,Cl(t)]:Cl(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:p,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Re?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Hr(e.ssContent),ssFallback:e.ssFallback&&Hr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ao(e=" ",t=0){return ye(oo,null,e,t)}function Te(e="",t=!1){return t?(z(),Oe(bn,null,e)):ye(bn,null,e)}function ur(e){return e==null||typeof e=="boolean"?ye(bn):De(e)?ye(Re,null,e.slice()):typeof e=="object"?si(e):ye(oo,null,String(e))}function si(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Hr(e)}function fd(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(De(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),fd(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(kc in t)?t._ctx=Ut:i===3&&Ut&&(Ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else $e(t)?(t={default:t,_ctx:Ut},n=32):(t=String(t),r&64?(n=16,t=[ao(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ot(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=be([t.class,r.class]));else if(i==="style")t.style=je([t.style,r.style]);else if(mc(i)){const o=t[i],p=r[i];p&&o!==p&&!(De(o)&&o.includes(p))&&(t[i]=o?[].concat(o,p):p)}else i!==""&&(t[i]=r[i])}return t}function cr(e,t,n,r=null){Rn(e,t,7,[n,r])}const ix=D_();let sx=0;function ox(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||ix,o={uid:sx++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new qy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:L_(r,i),emitsOptions:__(r,i),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:r.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=b2.bind(null,o),e.ce&&e.ce(o),o}let Ft=null;const Dt=()=>Ft||Ut;let hd,as,Gg="__VUE_INSTANCE_SETTERS__";(as=kf()[Gg])||(as=kf()[Gg]=[]),as.push(e=>Ft=e),hd=e=>{as.length>1?as.forEach(t=>t(e)):as[0](e)};const Rs=e=>{hd(e),e.scope.on()},Di=()=>{Ft&&Ft.scope.off(),hd(null)};function V_(e){return e.vnode.shapeFlag&4}let ca=!1;function ax(e,t=!1){ca=t;const{props:n,children:r}=e.vnode,i=V_(e);W2(e,n,i,t),X2(e,r);const o=i?lx(e,t):void 0;return ca=!1,o}function lx(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=$l(new Proxy(e.ctx,B2));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?Y_(e):null;Rs(e),ro();const o=fi(r,e,0,[e.props,i]);if(io(),Di(),Yy(o)){if(o.then(Di,Di),t)return o.then(p=>{Xg(e,p,t)}).catch(p=>{wc(p,e,0)});e.asyncDep=o}else Xg(e,o,t)}else W_(e,t)}function Xg(e,t,n){$e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ze(t)&&(e.setupState=d_(t)),W_(e,n)}let Kg;function W_(e,t,n){const r=e.type;if(!e.render){if(!t&&Kg&&!r.render){const i=r.template||ld(e).template;if(i){const{isCustomElement:o,compilerOptions:p}=e.appContext.config,{delimiters:a,compilerOptions:s}=r,h=Ct(Ct({isCustomElement:o,delimiters:a},p),s);r.render=Kg(i,h)}}e.render=r.render||nt}Rs(e),ro(),$2(e),io(),Di()}function cx(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return un(e,"get","$attrs"),t[n]}}))}function Y_(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return cx(e)},slots:e.slots,emit:e.emit,expose:t}}function Pc(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(d_($l(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in $o)return $o[n](e)},has(t,n){return n in t||n in $o}}))}function ux(e,t=!0){return $e(e)?e.displayName||e.name:e.name||t&&e.__name}function fx(e){return $e(e)&&"__vccOpts"in e}const ne=(e,t)=>d2(e,t,ca);function Ac(e,t,n){const r=arguments.length;return r===2?Ze(t)&&!De(t)?Is(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Is(n)&&(n=[n]),ye(e,t,n))}const hx=Symbol.for("v-scx"),dx=()=>Le(hx),px="3.3.4",gx="http://www.w3.org/2000/svg",Ai=typeof document<"u"?document:null,qg=Ai&&Ai.createElement("template"),vx={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Ai.createElementNS(gx,e):Ai.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Ai.createTextNode(e),createComment:e=>Ai.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ai.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const p=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{qg.innerHTML=r?`<svg>${e}</svg>`:e;const a=qg.content;if(r){const s=a.firstChild;for(;s.firstChild;)a.appendChild(s.firstChild);a.removeChild(s)}t.insertBefore(a,n)}return[p?p.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function mx(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function yx(e,t,n){const r=e.style,i=Ye(n);if(n&&!i){if(t&&!Ye(t))for(const o in t)n[o]==null&&zf(r,o,"");for(const o in n)zf(r,o,n[o])}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const Jg=/\s*!important$/;function zf(e,t,n){if(De(n))n.forEach(r=>zf(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=_x(e,t);Jg.test(n)?e.setProperty(Gi(r),n.replace(Jg,""),"important"):e[r]=n}}const Zg=["Webkit","Moz","ms"],wu={};function _x(e,t){const n=wu[t];if(n)return n;let r=Qn(t);if(r!=="filter"&&r in e)return wu[t]=r;r=_c(r);for(let i=0;i<Zg.length;i++){const o=Zg[i]+r;if(o in e)return wu[t]=o}return t}const Qg="http://www.w3.org/1999/xlink";function bx(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Qg,t.slice(6,t.length)):e.setAttributeNS(Qg,t,n);else{const o=RS(t);n==null||o&&!Xy(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function wx(e,t,n,r,i,o,p){if(t==="innerHTML"||t==="textContent"){r&&p(r,i,o),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const h=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";h!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let s=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=Xy(n):n==null&&h==="string"?(n="",s=!0):h==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(t)}function Lr(e,t,n,r){e.addEventListener(t,n,r)}function Cx(e,t,n,r){e.removeEventListener(t,n,r)}function Sx(e,t,n,r,i=null){const o=e._vei||(e._vei={}),p=o[t];if(r&&p)p.value=r;else{const[a,s]=xx(t);if(r){const h=o[t]=Ox(r,i);Lr(e,a,h,s)}else p&&(Cx(e,a,p,s),o[t]=void 0)}}const ev=/(?:Once|Passive|Capture)$/;function xx(e){let t;if(ev.test(e)){t={};let r;for(;r=e.match(ev);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Gi(e.slice(2)),t]}let Cu=0;const Tx=Promise.resolve(),Ex=()=>Cu||(Tx.then(()=>Cu=0),Cu=Date.now());function Ox(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Rn(kx(r,n.value),t,5,[r])};return n.value=e,n.attached=Ex(),n}function kx(e,t){if(De(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const tv=/^on[a-z]/,Px=(e,t,n,r,i=!1,o,p,a,s)=>{t==="class"?mx(e,r,i):t==="style"?yx(e,n,r):mc(t)?Vh(t)||Sx(e,t,n,r,p):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ax(e,t,r,i))?wx(e,t,r,o,p,a,s):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),bx(e,t,r,i))};function Ax(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&tv.test(t)&&$e(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||tv.test(t)&&Ye(n)?!1:t in e}const Zr="transition",_o="animation",Tr=(e,{slots:t})=>Ac(P2,X_(e),t);Tr.displayName="Transition";const G_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ix=Tr.props=Ct({},S_,G_),xi=(e,t=[])=>{De(e)?e.forEach(n=>n(...t)):e&&e(...t)},nv=e=>e?De(e)?e.some(t=>t.length>1):e.length>1:!1;function X_(e){const t={};for(const Y in e)Y in G_||(t[Y]=e[Y]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:p=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:s=o,appearActiveClass:h=p,appearToClass:u=a,leaveFromClass:l=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:c=`${n}-leave-to`}=e,d=Rx(i),v=d&&d[0],g=d&&d[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:_,onLeave:b,onLeaveCancelled:w,onBeforeAppear:S=m,onAppear:x=y,onAppearCancelled:P=_}=t,B=(Y,W,ee)=>{ri(Y,W?u:a),ri(Y,W?h:p),ee&&ee()},G=(Y,W)=>{Y._isLeaving=!1,ri(Y,l),ri(Y,c),ri(Y,f),W&&W()},K=Y=>(W,ee)=>{const le=Y?x:y,de=()=>B(W,Y,ee);xi(le,[W,de]),rv(()=>{ri(W,Y?s:o),Dr(W,Y?u:a),nv(le)||iv(W,r,v,de)})};return Ct(t,{onBeforeEnter(Y){xi(m,[Y]),Dr(Y,o),Dr(Y,p)},onBeforeAppear(Y){xi(S,[Y]),Dr(Y,s),Dr(Y,h)},onEnter:K(!1),onAppear:K(!0),onLeave(Y,W){Y._isLeaving=!0;const ee=()=>G(Y,W);Dr(Y,l),q_(),Dr(Y,f),rv(()=>{Y._isLeaving&&(ri(Y,l),Dr(Y,c),nv(b)||iv(Y,r,g,ee))}),xi(b,[Y,ee])},onEnterCancelled(Y){B(Y,!1),xi(_,[Y])},onAppearCancelled(Y){B(Y,!0),xi(P,[Y])},onLeaveCancelled(Y){G(Y),xi(w,[Y])}})}function Rx(e){if(e==null)return null;if(Ze(e))return[Su(e.enter),Su(e.leave)];{const t=Su(e);return[t,t]}}function Su(e){return TS(e)}function Dr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function ri(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function rv(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Mx=0;function iv(e,t,n,r){const i=e._endId=++Mx,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:p,timeout:a,propCount:s}=K_(e,t);if(!p)return r();const h=p+"end";let u=0;const l=()=>{e.removeEventListener(h,f),o()},f=c=>{c.target===e&&++u>=s&&l()};setTimeout(()=>{u<s&&l()},a+1),e.addEventListener(h,f)}function K_(e,t){const n=window.getComputedStyle(e),r=d=>(n[d]||"").split(", "),i=r(`${Zr}Delay`),o=r(`${Zr}Duration`),p=sv(i,o),a=r(`${_o}Delay`),s=r(`${_o}Duration`),h=sv(a,s);let u=null,l=0,f=0;t===Zr?p>0&&(u=Zr,l=p,f=o.length):t===_o?h>0&&(u=_o,l=h,f=s.length):(l=Math.max(p,h),u=l>0?p>h?Zr:_o:null,f=u?u===Zr?o.length:s.length:0);const c=u===Zr&&/\b(transform|all)(,|$)/.test(r(`${Zr}Property`).toString());return{type:u,timeout:l,propCount:f,hasTransform:c}}function sv(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>ov(n)+ov(e[r])))}function ov(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function q_(){return document.body.offsetHeight}const J_=new WeakMap,Z_=new WeakMap,Q_={name:"TransitionGroup",props:Ct({},Ix,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Dt(),r=C_();let i,o;return Ec(()=>{if(!i.length)return;const p=e.moveClass||`${e.name||"v"}-move`;if(!jx(i[0].el,n.vnode.el,p))return;i.forEach(Lx),i.forEach(Bx);const a=i.filter($x);q_(),a.forEach(s=>{const h=s.el,u=h.style;Dr(h,p),u.transform=u.webkitTransform=u.transitionDuration="";const l=h._moveCb=f=>{f&&f.target!==h||(!f||/transform$/.test(f.propertyName))&&(h.removeEventListener("transitionend",l),h._moveCb=null,ri(h,p))};h.addEventListener("transitionend",l)})}),()=>{const p=qe(e),a=X_(p);let s=p.tag||Re;i=o,o=t.default?sd(t.default()):[];for(let h=0;h<o.length;h++){const u=o[h];u.key!=null&&aa(u,oa(u,a,r,n))}if(i)for(let h=0;h<i.length;h++){const u=i[h];aa(u,oa(u,a,r,n)),J_.set(u,u.el.getBoundingClientRect())}return ye(s,null,o)}}},Dx=e=>delete e.mode;Q_.props;const Fx=Q_;function Lx(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Bx(e){Z_.set(e,e.el.getBoundingClientRect())}function $x(e){const t=J_.get(e),n=Z_.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",e}}function jx(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(p=>{p.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(p=>p&&r.classList.add(p)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=K_(r);return i.removeChild(r),o}const pi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return De(t)?n=>wl(t,n):t};function Nx(e){e.target.composing=!0}function av(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const lv={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=pi(i);const o=r||i.props&&i.props.type==="number";Lr(e,t?"change":"input",p=>{if(p.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=Fl(a)),e._assign(a)}),n&&Lr(e,"change",()=>{e.value=e.value.trim()}),t||(Lr(e,"compositionstart",Nx),Lr(e,"compositionend",av),Lr(e,"change",av))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},o){if(e._assign=pi(o),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&Fl(e.value)===t))return;const p=t??"";e.value!==p&&(e.value=p)}},eb={deep:!0,created(e,t,n){e._assign=pi(n),Lr(e,"change",()=>{const r=e._modelValue,i=Ms(e),o=e.checked,p=e._assign;if(De(r)){const a=Gh(r,i),s=a!==-1;if(o&&!s)p(r.concat(i));else if(!o&&s){const h=[...r];h.splice(a,1),p(h)}}else if(no(r)){const a=new Set(r);o?a.add(i):a.delete(i),p(a)}else p(tb(e,o))})},mounted:cv,beforeUpdate(e,t,n){e._assign=pi(n),cv(e,t,n)}};function cv(e,{value:t,oldValue:n},r){e._modelValue=t,De(t)?e.checked=Gh(t,r.props.value)>-1:no(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=$i(t,tb(e,!0)))}const zx={created(e,{value:t},n){e.checked=$i(t,n.props.value),e._assign=pi(n),Lr(e,"change",()=>{e._assign(Ms(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=pi(r),t!==n&&(e.checked=$i(t,r.props.value))}},Hx={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=no(t);Lr(e,"change",()=>{const o=Array.prototype.filter.call(e.options,p=>p.selected).map(p=>n?Fl(Ms(p)):Ms(p));e._assign(e.multiple?i?new Set(o):o:o[0])}),e._assign=pi(r)},mounted(e,{value:t}){uv(e,t)},beforeUpdate(e,t,n){e._assign=pi(n)},updated(e,{value:t}){uv(e,t)}};function uv(e,t){const n=e.multiple;if(!(n&&!De(t)&&!no(t))){for(let r=0,i=e.options.length;r<i;r++){const o=e.options[r],p=Ms(o);if(n)De(t)?o.selected=Gh(t,p)>-1:o.selected=t.has(p);else if($i(Ms(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ms(e){return"_value"in e?e._value:e.value}function tb(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Ux={created(e,t,n){nl(e,t,n,null,"created")},mounted(e,t,n){nl(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){nl(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){nl(e,t,n,r,"updated")}};function Vx(e,t){switch(e){case"SELECT":return Hx;case"TEXTAREA":return lv;default:switch(t){case"checkbox":return eb;case"radio":return zx;default:return lv}}}function nl(e,t,n,r,i){const p=Vx(e.tagName,n.props&&n.props.type)[i];p&&p(e,t,n,r)}const Wx=["ctrl","shift","alt","meta"],Yx={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Wx.some(n=>e[`${n}Key`]&&!t.includes(n))},Lt=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const o=Yx[t[i]];if(o&&o(n,t))return}return e(n,...r)},Gx={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ws=(e,t)=>n=>{if(!("key"in n))return;const r=Gi(n.key);if(t.some(i=>i===r||Gx[i]===r))return e(n)},_t={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):bo(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),bo(e,!0),r.enter(e)):r.leave(e,()=>{bo(e,!1)}):bo(e,t))},beforeUnmount(e,{value:t}){bo(e,t)}};function bo(e,t){e.style.display=t?e._vod:"none"}const Xx=Ct({patchProp:Px},vx);let fv;function nb(){return fv||(fv=q2(Xx))}const hv=(...e)=>{nb().render(...e)},Kx=(...e)=>{const t=nb().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=qx(r);if(!i)return;const o=t._component;!$e(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const p=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),p},t};function qx(e){return Ye(e)?document.querySelector(e):e}const At=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},Jx={};function Zx(e,t,n,r,i,o){const p=Be("router-view");return z(),Oe(p)}const Qx=At(Jx,[["render",Zx]]);function eT(){return rb().__VUE_DEVTOOLS_GLOBAL_HOOK__}function rb(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const tT=typeof Proxy=="function",nT="devtools-plugin:setup",rT="plugin:settings:set";let ls,Hf;function iT(){var e;return ls!==void 0||(typeof window<"u"&&window.performance?(ls=!0,Hf=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(ls=!0,Hf=global.perf_hooks.performance):ls=!1),ls}function sT(){return iT()?Hf.now():Date.now()}class oT{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const p in t.settings){const a=t.settings[p];r[p]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},r);try{const p=localStorage.getItem(i),a=JSON.parse(p);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(p){try{localStorage.setItem(i,JSON.stringify(p))}catch{}o=p},now(){return sT()}},n&&n.on(rT,(p,a)=>{p===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(p,a)=>this.target?this.target.on[a]:(...s)=>{this.onQueue.push({method:a,args:s})}}),this.proxiedTarget=new Proxy({},{get:(p,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...s)=>(this.targetQueue.push({method:a,args:s,resolve:()=>{}}),this.fallbacks[a](...s)):(...s)=>new Promise(h=>{this.targetQueue.push({method:a,args:s,resolve:h})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function aT(e,t){const n=e,r=rb(),i=eT(),o=tT&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(nT,e,t);else{const p=o?new oT(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:p}),p&&t(p.proxiedTarget)}}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const _s=typeof window<"u";function lT(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ot=Object.assign;function xu(e,t){const n={};for(const r in t){const i=t[r];n[r]=er(i)?i.map(e):e(i)}return n}const zo=()=>{},er=Array.isArray,cT=/\/$/,uT=e=>e.replace(cT,"");function Tu(e,t,n="/"){let r,i={},o="",p="";const a=t.indexOf("#");let s=t.indexOf("?");return a<s&&a>=0&&(s=-1),s>-1&&(r=t.slice(0,s),o=t.slice(s+1,a>-1?a:t.length),i=e(o)),a>-1&&(r=r||t.slice(0,a),p=t.slice(a,t.length)),r=pT(r??t,n),{fullPath:r+(o&&"?")+o+p,path:r,query:i,hash:p}}function fT(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function dv(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function hT(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ds(t.matched[r],n.matched[i])&&ib(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ds(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ib(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!dT(e[n],t[n]))return!1;return!0}function dT(e,t){return er(e)?pv(e,t):er(t)?pv(t,e):e===t}function pv(e,t){return er(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function pT(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,p,a;for(p=0;p<r.length;p++)if(a=r[p],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(p-(p===r.length?1:0)).join("/")}var ua;(function(e){e.pop="pop",e.push="push"})(ua||(ua={}));var Ho;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ho||(Ho={}));function gT(e){if(!e)if(_s){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),uT(e)}const vT=/^[^#]+#/;function mT(e,t){return e.replace(vT,"#")+t}function yT(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ic=()=>({left:window.pageXOffset,top:window.pageYOffset});function _T(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=yT(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function gv(e,t){return(history.state?history.state.position-t:-1)+e}const Uf=new Map;function bT(e,t){Uf.set(e,t)}function wT(e){const t=Uf.get(e);return Uf.delete(e),t}let CT=()=>location.protocol+"//"+location.host;function sb(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,s=i.slice(a);return s[0]!=="/"&&(s="/"+s),dv(s,"")}return dv(n,e)+r+i}function ST(e,t,n,r){let i=[],o=[],p=null;const a=({state:f})=>{const c=sb(e,location),d=n.value,v=t.value;let g=0;if(f){if(n.value=c,t.value=f,p&&p===d){p=null;return}g=v?f.position-v.position:0}else r(c);i.forEach(m=>{m(n.value,d,{delta:g,type:ua.pop,direction:g?g>0?Ho.forward:Ho.back:Ho.unknown})})};function s(){p=n.value}function h(f){i.push(f);const c=()=>{const d=i.indexOf(f);d>-1&&i.splice(d,1)};return o.push(c),c}function u(){const{history:f}=window;f.state&&f.replaceState(ot({},f.state,{scroll:Ic()}),"")}function l(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:s,listen:h,destroy:l}}function vv(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Ic():null}}function xT(e){const{history:t,location:n}=window,r={value:sb(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(s,h,u){const l=e.indexOf("#"),f=l>-1?(n.host&&document.querySelector("base")?e:e.slice(l))+s:CT()+e+s;try{t[u?"replaceState":"pushState"](h,"",f),i.value=h}catch(c){console.error(c),n[u?"replace":"assign"](f)}}function p(s,h){const u=ot({},t.state,vv(i.value.back,s,i.value.forward,!0),h,{position:i.value.position});o(s,u,!0),r.value=s}function a(s,h){const u=ot({},i.value,t.state,{forward:s,scroll:Ic()});o(u.current,u,!0);const l=ot({},vv(r.value,s,null),{position:u.position+1},h);o(s,l,!1),r.value=s}return{location:r,state:i,push:a,replace:p}}function TT(e){e=gT(e);const t=xT(e),n=ST(e,t.state,t.location,t.replace);function r(o,p=!0){p||n.pauseListeners(),history.go(o)}const i=ot({location:"",base:e,go:r,createHref:mT.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function ET(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),TT(e)}function OT(e){return typeof e=="string"||e&&typeof e=="object"}function ob(e){return typeof e=="string"||typeof e=="symbol"}const Qr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ab=Symbol("");var mv;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(mv||(mv={}));function Fs(e,t){return ot(new Error,{type:e,[ab]:!0},t)}function Ar(e,t){return e instanceof Error&&ab in e&&(t==null||!!(e.type&t))}const yv="[^/]+?",kT={sensitive:!1,strict:!1,start:!0,end:!0},PT=/[.+*?^${}()[\]/\\]/g;function AT(e,t){const n=ot({},kT,t),r=[];let i=n.start?"^":"";const o=[];for(const h of e){const u=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let l=0;l<h.length;l++){const f=h[l];let c=40+(n.sensitive?.25:0);if(f.type===0)l||(i+="/"),i+=f.value.replace(PT,"\\$&"),c+=40;else if(f.type===1){const{value:d,repeatable:v,optional:g,regexp:m}=f;o.push({name:d,repeatable:v,optional:g});const y=m||yv;if(y!==yv){c+=10;try{new RegExp(`(${y})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${d}" (${y}): `+b.message)}}let _=v?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;l||(_=g&&h.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),i+=_,c+=20,g&&(c+=-8),v&&(c+=-20),y===".*"&&(c+=-50)}u.push(c)}r.push(u)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const p=new RegExp(i,n.sensitive?"":"i");function a(h){const u=h.match(p),l={};if(!u)return null;for(let f=1;f<u.length;f++){const c=u[f]||"",d=o[f-1];l[d.name]=c&&d.repeatable?c.split("/"):c}return l}function s(h){let u="",l=!1;for(const f of e){(!l||!u.endsWith("/"))&&(u+="/"),l=!1;for(const c of f)if(c.type===0)u+=c.value;else if(c.type===1){const{value:d,repeatable:v,optional:g}=c,m=d in h?h[d]:"";if(er(m)&&!v)throw new Error(`Provided param "${d}" is an array but it is not repeatable (* or + modifiers)`);const y=er(m)?m.join("/"):m;if(!y)if(g)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):l=!0);else throw new Error(`Missing required param "${d}"`);u+=y}}return u||"/"}return{re:p,score:r,keys:o,parse:a,stringify:s}}function IT(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function RT(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=IT(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(_v(r))return 1;if(_v(i))return-1}return i.length-r.length}function _v(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const MT={type:0,value:""},DT=/[a-zA-Z0-9_]/;function FT(e){if(!e)return[[]];if(e==="/")return[[MT]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(c){throw new Error(`ERR (${n})/"${h}": ${c}`)}let n=0,r=n;const i=[];let o;function p(){o&&i.push(o),o=[]}let a=0,s,h="",u="";function l(){h&&(n===0?o.push({type:0,value:h}):n===1||n===2||n===3?(o.length>1&&(s==="*"||s==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:h,regexp:u,repeatable:s==="*"||s==="+",optional:s==="*"||s==="?"})):t("Invalid state to consume buffer"),h="")}function f(){h+=s}for(;a<e.length;){if(s=e[a++],s==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:s==="/"?(h&&l(),p()):s===":"?(l(),n=1):f();break;case 4:f(),n=r;break;case 1:s==="("?n=2:DT.test(s)?f():(l(),n=0,s!=="*"&&s!=="?"&&s!=="+"&&a--);break;case 2:s===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+s:n=3:u+=s;break;case 3:l(),n=0,s!=="*"&&s!=="?"&&s!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),l(),p(),i}function LT(e,t,n){const r=AT(FT(e.path),n),i=ot(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function BT(e,t){const n=[],r=new Map;t=Cv({strict:!1,end:!0,sensitive:!1},t);function i(u){return r.get(u)}function o(u,l,f){const c=!f,d=$T(u);d.aliasOf=f&&f.record;const v=Cv(t,u),g=[d];if("alias"in u){const _=typeof u.alias=="string"?[u.alias]:u.alias;for(const b of _)g.push(ot({},d,{components:f?f.record.components:d.components,path:b,aliasOf:f?f.record:d}))}let m,y;for(const _ of g){const{path:b}=_;if(l&&b[0]!=="/"){const w=l.record.path,S=w[w.length-1]==="/"?"":"/";_.path=l.record.path+(b&&S+b)}if(m=LT(_,l,v),f?f.alias.push(m):(y=y||m,y!==m&&y.alias.push(m),c&&u.name&&!wv(m)&&p(u.name)),d.children){const w=d.children;for(let S=0;S<w.length;S++)o(w[S],m,f&&f.children[S])}f=f||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&s(m)}return y?()=>{p(y)}:zo}function p(u){if(ob(u)){const l=r.get(u);l&&(r.delete(u),n.splice(n.indexOf(l),1),l.children.forEach(p),l.alias.forEach(p))}else{const l=n.indexOf(u);l>-1&&(n.splice(l,1),u.record.name&&r.delete(u.record.name),u.children.forEach(p),u.alias.forEach(p))}}function a(){return n}function s(u){let l=0;for(;l<n.length&&RT(u,n[l])>=0&&(u.record.path!==n[l].record.path||!lb(u,n[l]));)l++;n.splice(l,0,u),u.record.name&&!wv(u)&&r.set(u.record.name,u)}function h(u,l){let f,c={},d,v;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw Fs(1,{location:u});v=f.record.name,c=ot(bv(l.params,f.keys.filter(y=>!y.optional).map(y=>y.name)),u.params&&bv(u.params,f.keys.map(y=>y.name))),d=f.stringify(c)}else if("path"in u)d=u.path,f=n.find(y=>y.re.test(d)),f&&(c=f.parse(d),v=f.record.name);else{if(f=l.name?r.get(l.name):n.find(y=>y.re.test(l.path)),!f)throw Fs(1,{location:u,currentLocation:l});v=f.record.name,c=ot({},l.params,u.params),d=f.stringify(c)}const g=[];let m=f;for(;m;)g.unshift(m.record),m=m.parent;return{name:v,path:d,params:c,matched:g,meta:NT(g)}}return e.forEach(u=>o(u)),{addRoute:o,resolve:h,removeRoute:p,getRoutes:a,getRecordMatcher:i}}function bv(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function $T(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:jT(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function jT(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function wv(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function NT(e){return e.reduce((t,n)=>ot(t,n.meta),{})}function Cv(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function lb(e,t){return t.children.some(n=>n===e||lb(e,n))}const cb=/#/g,zT=/&/g,HT=/\//g,UT=/=/g,VT=/\?/g,ub=/\+/g,WT=/%5B/g,YT=/%5D/g,fb=/%5E/g,GT=/%60/g,hb=/%7B/g,XT=/%7C/g,db=/%7D/g,KT=/%20/g;function dd(e){return encodeURI(""+e).replace(XT,"|").replace(WT,"[").replace(YT,"]")}function qT(e){return dd(e).replace(hb,"{").replace(db,"}").replace(fb,"^")}function Vf(e){return dd(e).replace(ub,"%2B").replace(KT,"+").replace(cb,"%23").replace(zT,"%26").replace(GT,"`").replace(hb,"{").replace(db,"}").replace(fb,"^")}function JT(e){return Vf(e).replace(UT,"%3D")}function ZT(e){return dd(e).replace(cb,"%23").replace(VT,"%3F")}function QT(e){return e==null?"":ZT(e).replace(HT,"%2F")}function Hl(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function eE(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(ub," "),p=o.indexOf("="),a=Hl(p<0?o:o.slice(0,p)),s=p<0?null:Hl(o.slice(p+1));if(a in t){let h=t[a];er(h)||(h=t[a]=[h]),h.push(s)}else t[a]=s}return t}function Sv(e){let t="";for(let n in e){const r=e[n];if(n=JT(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(er(r)?r.map(o=>o&&Vf(o)):[r&&Vf(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function tE(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=er(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const nE=Symbol(""),xv=Symbol(""),pd=Symbol(""),pb=Symbol(""),Wf=Symbol("");function wo(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function oi(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((p,a)=>{const s=l=>{l===!1?a(Fs(4,{from:n,to:t})):l instanceof Error?a(l):OT(l)?a(Fs(2,{from:t,to:l})):(o&&r.enterCallbacks[i]===o&&typeof l=="function"&&o.push(l),p())},h=e.call(r&&r.instances[i],t,n,s);let u=Promise.resolve(h);e.length<3&&(u=u.then(s)),u.catch(l=>a(l))})}function Eu(e,t,n,r){const i=[];for(const o of e)for(const p in o.components){let a=o.components[p];if(!(t!=="beforeRouteEnter"&&!o.instances[p]))if(rE(a)){const h=(a.__vccOpts||a)[t];h&&i.push(oi(h,n,r,o,p))}else{let s=a();i.push(()=>s.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${p}" at "${o.path}"`));const u=lT(h)?h.default:h;o.components[p]=u;const f=(u.__vccOpts||u)[t];return f&&oi(f,n,r,o,p)()}))}}return i}function rE(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Tv(e){const t=Le(pd),n=Le(pb),r=ne(()=>t.resolve(E(e.to))),i=ne(()=>{const{matched:s}=r.value,{length:h}=s,u=s[h-1],l=n.matched;if(!u||!l.length)return-1;const f=l.findIndex(Ds.bind(null,u));if(f>-1)return f;const c=Ev(s[h-2]);return h>1&&Ev(u)===c&&l[l.length-1].path!==c?l.findIndex(Ds.bind(null,s[h-2])):f}),o=ne(()=>i.value>-1&&aE(n.params,r.value.params)),p=ne(()=>i.value>-1&&i.value===n.matched.length-1&&ib(n.params,r.value.params));function a(s={}){return oE(s)?t[E(e.replace)?"replace":"push"](E(e.to)).catch(zo):Promise.resolve()}return{route:r,href:ne(()=>r.value.href),isActive:o,isExactActive:p,navigate:a}}const iE=ke({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Tv,setup(e,{slots:t}){const n=St(Tv(e)),{options:r}=Le(pd),i=ne(()=>({[Ov(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Ov(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:Ac("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),sE=iE;function oE(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function aE(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!er(i)||i.length!==r.length||r.some((o,p)=>o!==i[p]))return!1}return!0}function Ev(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ov=(e,t,n)=>e??t??n,lE=ke({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Le(Wf),i=ne(()=>e.route||r.value),o=Le(xv,0),p=ne(()=>{let h=E(o);const{matched:u}=i.value;let l;for(;(l=u[h])&&!l.components;)h++;return h}),a=ne(()=>i.value.matched[p.value]);yt(xv,ne(()=>p.value+1)),yt(nE,a),yt(Wf,i);const s=pe();return Me(()=>[s.value,a.value,e.name],([h,u,l],[f,c,d])=>{u&&(u.instances[l]=h,c&&c!==u&&h&&h===f&&(u.leaveGuards.size||(u.leaveGuards=c.leaveGuards),u.updateGuards.size||(u.updateGuards=c.updateGuards))),h&&u&&(!c||!Ds(u,c)||!f)&&(u.enterCallbacks[l]||[]).forEach(v=>v(h))},{flush:"post"}),()=>{const h=i.value,u=e.name,l=a.value,f=l&&l.components[u];if(!f)return kv(n.default,{Component:f,route:h});const c=l.props[u],d=c?c===!0?h.params:typeof c=="function"?c(h):c:null,g=Ac(f,ot({},d,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(l.instances[u]=null)},ref:s}));return kv(n.default,{Component:g,route:h})||g}}});function kv(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const cE=lE;function uE(e){const t=BT(e.routes,e),n=e.parseQuery||eE,r=e.stringifyQuery||Sv,i=e.history,o=wo(),p=wo(),a=wo(),s=sn(Qr);let h=Qr;_s&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=xu.bind(null,$=>""+$),l=xu.bind(null,QT),f=xu.bind(null,Hl);function c($,V){let J,ce;return ob($)?(J=t.getRecordMatcher($),ce=V):ce=$,t.addRoute(ce,J)}function d($){const V=t.getRecordMatcher($);V&&t.removeRoute(V)}function v(){return t.getRoutes().map($=>$.record)}function g($){return!!t.getRecordMatcher($)}function m($,V){if(V=ot({},V||s.value),typeof $=="string"){const M=Tu(n,$,V.path),q=t.resolve({path:M.path},V),te=i.createHref(M.fullPath);return ot(M,q,{params:f(q.params),hash:Hl(M.hash),redirectedFrom:void 0,href:te})}let J;if("path"in $)J=ot({},$,{path:Tu(n,$.path,V.path).path});else{const M=ot({},$.params);for(const q in M)M[q]==null&&delete M[q];J=ot({},$,{params:l(M)}),V.params=l(V.params)}const ce=t.resolve(J,V),ve=$.hash||"";ce.params=u(f(ce.params));const L=fT(r,ot({},$,{hash:qT(ve),path:ce.path})),A=i.createHref(L);return ot({fullPath:L,hash:ve,query:r===Sv?tE($.query):$.query||{}},ce,{redirectedFrom:void 0,href:A})}function y($){return typeof $=="string"?Tu(n,$,s.value.path):ot({},$)}function _($,V){if(h!==$)return Fs(8,{from:V,to:$})}function b($){return x($)}function w($){return b(ot(y($),{replace:!0}))}function S($){const V=$.matched[$.matched.length-1];if(V&&V.redirect){const{redirect:J}=V;let ce=typeof J=="function"?J($):J;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=y(ce):{path:ce},ce.params={}),ot({query:$.query,hash:$.hash,params:"path"in ce?{}:$.params},ce)}}function x($,V){const J=h=m($),ce=s.value,ve=$.state,L=$.force,A=$.replace===!0,M=S(J);if(M)return x(ot(y(M),{state:typeof M=="object"?ot({},ve,M.state):ve,force:L,replace:A}),V||J);const q=J;q.redirectedFrom=V;let te;return!L&&hT(r,ce,J)&&(te=Fs(16,{to:q,from:ce}),F(ce,ce,!0,!1)),(te?Promise.resolve(te):G(q,ce)).catch(Z=>Ar(Z)?Ar(Z,2)?Z:R(Z):Q(Z,q,ce)).then(Z=>{if(Z){if(Ar(Z,2))return x(ot({replace:A},y(Z.to),{state:typeof Z.to=="object"?ot({},ve,Z.to.state):ve,force:L}),V||q)}else Z=Y(q,ce,!0,A,ve);return K(q,ce,Z),Z})}function P($,V){const J=_($,V);return J?Promise.reject(J):Promise.resolve()}function B($){const V=j.values().next().value;return V&&typeof V.runWithContext=="function"?V.runWithContext($):$()}function G($,V){let J;const[ce,ve,L]=fE($,V);J=Eu(ce.reverse(),"beforeRouteLeave",$,V);for(const M of ce)M.leaveGuards.forEach(q=>{J.push(oi(q,$,V))});const A=P.bind(null,$,V);return J.push(A),X(J).then(()=>{J=[];for(const M of o.list())J.push(oi(M,$,V));return J.push(A),X(J)}).then(()=>{J=Eu(ve,"beforeRouteUpdate",$,V);for(const M of ve)M.updateGuards.forEach(q=>{J.push(oi(q,$,V))});return J.push(A),X(J)}).then(()=>{J=[];for(const M of L)if(M.beforeEnter)if(er(M.beforeEnter))for(const q of M.beforeEnter)J.push(oi(q,$,V));else J.push(oi(M.beforeEnter,$,V));return J.push(A),X(J)}).then(()=>($.matched.forEach(M=>M.enterCallbacks={}),J=Eu(L,"beforeRouteEnter",$,V),J.push(A),X(J))).then(()=>{J=[];for(const M of p.list())J.push(oi(M,$,V));return J.push(A),X(J)}).catch(M=>Ar(M,8)?M:Promise.reject(M))}function K($,V,J){a.list().forEach(ce=>B(()=>ce($,V,J)))}function Y($,V,J,ce,ve){const L=_($,V);if(L)return L;const A=V===Qr,M=_s?history.state:{};J&&(ce||A?i.replace($.fullPath,ot({scroll:A&&M&&M.scroll},ve)):i.push($.fullPath,ve)),s.value=$,F($,V,J,A),R()}let W;function ee(){W||(W=i.listen(($,V,J)=>{if(!I.listening)return;const ce=m($),ve=S(ce);if(ve){x(ot(ve,{replace:!0}),ce).catch(zo);return}h=ce;const L=s.value;_s&&bT(gv(L.fullPath,J.delta),Ic()),G(ce,L).catch(A=>Ar(A,12)?A:Ar(A,2)?(x(A.to,ce).then(M=>{Ar(M,20)&&!J.delta&&J.type===ua.pop&&i.go(-1,!1)}).catch(zo),Promise.reject()):(J.delta&&i.go(-J.delta,!1),Q(A,ce,L))).then(A=>{A=A||Y(ce,L,!1),A&&(J.delta&&!Ar(A,8)?i.go(-J.delta,!1):J.type===ua.pop&&Ar(A,20)&&i.go(-1,!1)),K(ce,L,A)}).catch(zo)}))}let le=wo(),de=wo(),U;function Q($,V,J){R($);const ce=de.list();return ce.length?ce.forEach(ve=>ve($,V,J)):console.error($),Promise.reject($)}function O(){return U&&s.value!==Qr?Promise.resolve():new Promise(($,V)=>{le.add([$,V])})}function R($){return U||(U=!$,ee(),le.list().forEach(([V,J])=>$?J($):V()),le.reset()),$}function F($,V,J,ce){const{scrollBehavior:ve}=e;if(!_s||!ve)return Promise.resolve();const L=!J&&wT(gv($.fullPath,0))||(ce||!J)&&history.state&&history.state.scroll||null;return ct().then(()=>ve($,V,L)).then(A=>A&&_T(A)).catch(A=>Q(A,$,V))}const D=$=>i.go($);let se;const j=new Set,I={currentRoute:s,listening:!0,addRoute:c,removeRoute:d,hasRoute:g,getRoutes:v,resolve:m,options:e,push:b,replace:w,go:D,back:()=>D(-1),forward:()=>D(1),beforeEach:o.add,beforeResolve:p.add,afterEach:a.add,onError:de.add,isReady:O,install($){const V=this;$.component("RouterLink",sE),$.component("RouterView",cE),$.config.globalProperties.$router=V,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>E(s)}),_s&&!se&&s.value===Qr&&(se=!0,b(i.location).catch(ve=>{}));const J={};for(const ve in Qr)Object.defineProperty(J,ve,{get:()=>s.value[ve],enumerable:!0});$.provide(pd,V),$.provide(pb,ed(J)),$.provide(Wf,s);const ce=$.unmount;j.add($),$.unmount=function(){j.delete($),j.size<1&&(h=Qr,W&&W(),W=null,s.value=Qr,se=!1,U=!1),ce()}}};function X($){return $.reduce((V,J)=>V.then(()=>B(J)),Promise.resolve())}return I}function fE(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let p=0;p<o;p++){const a=t.matched[p];a&&(e.matched.find(h=>Ds(h,a))?r.push(a):n.push(a));const s=e.matched[p];s&&(t.matched.find(h=>Ds(h,s))||i.push(s))}return[n,r,i]}const hE="/vue-design-editor/assets/module-close-b3f3c06c.svg";/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var gb="store";function Xi(e){return e===void 0&&(e=null),Le(e!==null?e:gb)}function lo(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function vb(e){return e!==null&&typeof e=="object"}function dE(e){return e&&typeof e.then=="function"}function pE(e,t){return function(){return e(t)}}function mb(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function yb(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Rc(e,n,[],e._modules.root,!0),gd(e,n,t)}function gd(e,t,n){var r=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,p={},a={},s=Jy(!0);s.run(function(){lo(o,function(h,u){p[u]=pE(h,e),a[u]=ne(function(){return p[u]()}),Object.defineProperty(e.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),e._state=St({data:t}),e._scope=s,e.strict&&_E(e),r&&n&&e._withCommit(function(){r.data=null}),i&&i.stop()}function Rc(e,t,n,r,i){var o=!n.length,p=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[p],e._modulesNamespaceMap[p]=r),!o&&!i){var a=vd(t,n.slice(0,-1)),s=n[n.length-1];e._withCommit(function(){a[s]=r.state})}var h=r.context=gE(e,p,n);r.forEachMutation(function(u,l){var f=p+l;vE(e,f,u,h)}),r.forEachAction(function(u,l){var f=u.root?l:p+l,c=u.handler||u;mE(e,f,c,h)}),r.forEachGetter(function(u,l){var f=p+l;yE(e,f,u,h)}),r.forEachChild(function(u,l){Rc(e,t,n.concat(l),u,i)})}function gE(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(o,p,a){var s=Ul(o,p,a),h=s.payload,u=s.options,l=s.type;return(!u||!u.root)&&(l=t+l),e.dispatch(l,h)},commit:r?e.commit:function(o,p,a){var s=Ul(o,p,a),h=s.payload,u=s.options,l=s.type;(!u||!u.root)&&(l=t+l),e.commit(l,h,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return _b(e,t)}},state:{get:function(){return vd(e.state,n)}}}),i}function _b(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function vE(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(p){n.call(e,r.state,p)})}function mE(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(p){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},p);return dE(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(s){throw e._devtoolHook.emit("vuex:error",s),s}):a})}function yE(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function _E(e){Me(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function vd(e,t){return t.reduce(function(n,r){return n[r]},e)}function Ul(e,t,n){return vb(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var bE="vuex bindings",Pv="vuex:mutations",Ou="vuex:actions",cs="vuex",wE=0;function CE(e,t){aT({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[bE]},function(n){n.addTimelineLayer({id:Pv,label:"Vuex Mutations",color:Av}),n.addTimelineLayer({id:Ou,label:"Vuex Actions",color:Av}),n.addInspector({id:cs,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===cs)if(r.filter){var i=[];Sb(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[Cb(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===cs){var i=r.nodeId;_b(t,i),r.state=TE(OE(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===cs){var i=r.nodeId,o=r.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),t._withCommit(function(){r.set(t._state.data,o,r.state.value)})}}),t.subscribe(function(r,i){var o={};r.payload&&(o.payload=r.payload),o.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(cs),n.sendInspectorState(cs),n.addTimelineEvent({layerId:Pv,event:{time:Date.now(),title:r.type,data:o}})}),t.subscribeAction({before:function(r,i){var o={};r.payload&&(o.payload=r.payload),r._id=wE++,r._time=Date.now(),o.state=i,n.addTimelineEvent({layerId:Ou,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,i){var o={},p=Date.now()-r._time;o.duration={_custom:{type:"duration",display:p+"ms",tooltip:"Action duration",value:p}},r.payload&&(o.payload=r.payload),o.state=i,n.addTimelineEvent({layerId:Ou,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var Av=8702998,SE=6710886,xE=16777215,bb={label:"namespaced",textColor:xE,backgroundColor:SE};function wb(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function Cb(e,t){return{id:t||"root",label:wb(t),tags:e.namespaced?[bb]:[],children:Object.keys(e._children).map(function(n){return Cb(e._children[n],t+n+"/")})}}function Sb(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[bb]:[]}),Object.keys(t._children).forEach(function(i){Sb(e,t._children[i],n,r+i+"/")})}function TE(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(p){return{key:p,editable:!0,value:e.state[p]}})};if(r.length){var o=EE(t);i.getters=Object.keys(o).map(function(p){return{key:p.endsWith("/")?wb(p):p,editable:!1,value:Yf(function(){return o[p]})}})}return i}function EE(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,o=r.pop();r.forEach(function(p){i[p]||(i[p]={_custom:{value:{},display:p,tooltip:"Module",abstract:!0}}),i=i[p]._custom.value}),i[o]=Yf(function(){return e[n]})}else t[n]=Yf(function(){return e[n]})}),t}function OE(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,o){var p=r[i];if(!p)throw new Error('Missing module "'+i+'" for path "'+t+'".');return o===n.length-1?p:p._children},t==="root"?e:e.root._children)}function Yf(e){try{return e()}catch(t){return t}}var nr=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},xb={namespaced:{configurable:!0}};xb.namespaced.get=function(){return!!this._rawModule.namespaced};nr.prototype.addChild=function(t,n){this._children[t]=n};nr.prototype.removeChild=function(t){delete this._children[t]};nr.prototype.getChild=function(t){return this._children[t]};nr.prototype.hasChild=function(t){return t in this._children};nr.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};nr.prototype.forEachChild=function(t){lo(this._children,t)};nr.prototype.forEachGetter=function(t){this._rawModule.getters&&lo(this._rawModule.getters,t)};nr.prototype.forEachAction=function(t){this._rawModule.actions&&lo(this._rawModule.actions,t)};nr.prototype.forEachMutation=function(t){this._rawModule.mutations&&lo(this._rawModule.mutations,t)};Object.defineProperties(nr.prototype,xb);var Ki=function(t){this.register([],t,!1)};Ki.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Ki.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Ki.prototype.update=function(t){Tb([],this.root,t)};Ki.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var o=new nr(n,r);if(t.length===0)this.root=o;else{var p=this.get(t.slice(0,-1));p.addChild(t[t.length-1],o)}n.modules&&lo(n.modules,function(a,s){i.register(t.concat(s),a,r)})};Ki.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};Ki.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function Tb(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;Tb(e.concat(r),t.getChild(r),n.modules[r])}}function kE(e){return new hn(e)}var hn=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ki(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var p=this,a=this,s=a.dispatch,h=a.commit;this.dispatch=function(f,c){return s.call(p,f,c)},this.commit=function(f,c,d){return h.call(p,f,c,d)},this.strict=i;var u=this._modules.root.state;Rc(this,u,[],this._modules.root),gd(this,u),r.forEach(function(l){return l(n)})},md={state:{configurable:!0}};hn.prototype.install=function(t,n){t.provide(n||gb,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&CE(t,this)};md.state.get=function(){return this._state.data};md.state.set=function(e){};hn.prototype.commit=function(t,n,r){var i=this,o=Ul(t,n,r),p=o.type,a=o.payload,s={type:p,payload:a},h=this._mutations[p];h&&(this._withCommit(function(){h.forEach(function(l){l(a)})}),this._subscribers.slice().forEach(function(u){return u(s,i.state)}))};hn.prototype.dispatch=function(t,n){var r=this,i=Ul(t,n),o=i.type,p=i.payload,a={type:o,payload:p},s=this._actions[o];if(s){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,r.state)})}catch{}var h=s.length>1?Promise.all(s.map(function(u){return u(p)})):s[0](p);return new Promise(function(u,l){h.then(function(f){try{r._actionSubscribers.filter(function(c){return c.after}).forEach(function(c){return c.after(a,r.state)})}catch{}u(f)},function(f){try{r._actionSubscribers.filter(function(c){return c.error}).forEach(function(c){return c.error(a,r.state,f)})}catch{}l(f)})})}};hn.prototype.subscribe=function(t,n){return mb(t,this._subscribers,n)};hn.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return mb(r,this._actionSubscribers,n)};hn.prototype.watch=function(t,n,r){var i=this;return Me(function(){return t(i.state,i.getters)},n,Object.assign({},r))};hn.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};hn.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Rc(this,this.state,t,this._modules.get(t),r.preserveState),gd(this,this.state)};hn.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=vd(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),yb(this)};hn.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};hn.prototype.hotUpdate=function(t){this._modules.update(t),yb(this,!0)};hn.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(hn.prototype,md);var Eb=IE(function(e,t){var n={};return PE(t).forEach(function(r){var i=r.key,o=r.val;n[i]=function(){var a=this.$store.state,s=this.$store.getters;if(e){var h=RE(this.$store,"mapState",e);if(!h)return;a=h.context.state,s=h.context.getters}return typeof o=="function"?o.call(this,a,s):a[o]},n[i].vuex=!0}),n});function PE(e){return AE(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function AE(e){return Array.isArray(e)||vb(e)}function IE(e){return function(t,n){return typeof t!="string"?(n=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,n)}}function RE(e,t,n){var r=e._modulesNamespaceMap[n];return r}const Tt=(e,t,{checkForDefaultPrevented:n=!0}={})=>i=>{const o=e?.(i);if(n===!1||!o)return t?.(i)},Iv=e=>t=>t.pointerType==="mouse"?e(t):void 0;var Rv;const mt=typeof window<"u",ME=e=>typeof e<"u",DE=e=>typeof e=="function",FE=e=>typeof e=="string",Vl=()=>{},LE=mt&&((Rv=window?.navigator)==null?void 0:Rv.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Mc(e){return typeof e=="function"?e():E(e)}function BE(e,t){function n(...r){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(o)})}return n}function $E(e,t=!0,n=!0,r=!1){let i=0,o,p=!0,a=Vl,s;const h=()=>{o&&(clearTimeout(o),o=void 0,a(),a=Vl)};return l=>{const f=Mc(e),c=Date.now()-i,d=()=>s=l();return h(),f<=0?(i=Date.now(),d()):(c>f&&(n||!p)?(i=Date.now(),d()):t&&(s=new Promise((v,g)=>{a=r?g:v,o=setTimeout(()=>{i=Date.now(),p=!0,v(d()),h()},Math.max(0,f-c))})),!n&&!o&&(o=setTimeout(()=>p=!0,f)),p=!1,s)}}function jE(e){return e}function Dc(e){return Xh()?(Zy(e),!0):!1}function NE(e,t=200,n=!1,r=!0,i=!1){return BE($E(t,n,r,i),e)}function zE(e,t=!0){Dt()?lt(e):t?e():ct(e)}function HE(e,t,n={}){const{immediate:r=!0}=n,i=pe(!1);let o=null;function p(){o&&(clearTimeout(o),o=null)}function a(){i.value=!1,p()}function s(...h){p(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,e(...h)},Mc(t))}return r&&(i.value=!0,mt&&s()),Dc(a),{isPending:so(i),start:s,stop:a}}function li(e){var t;const n=Mc(e);return(t=n?.$el)!=null?t:n}const yd=mt?window:void 0;function Gt(...e){let t,n,r,i;if(FE(e[0])||Array.isArray(e[0])?([n,r,i]=e,t=yd):[t,n,r,i]=e,!t)return Vl;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],p=()=>{o.forEach(u=>u()),o.length=0},a=(u,l,f,c)=>(u.addEventListener(l,f,c),()=>u.removeEventListener(l,f,c)),s=Me(()=>[li(t),Mc(i)],([u,l])=>{p(),u&&o.push(...n.flatMap(f=>r.map(c=>a(u,f,c,l))))},{immediate:!0,flush:"post"}),h=()=>{s(),p()};return Dc(h),h}let Mv=!1;function UE(e,t,n={}){const{window:r=yd,ignore:i=[],capture:o=!0,detectIframe:p=!1}=n;if(!r)return;LE&&!Mv&&(Mv=!0,Array.from(r.document.body.children).forEach(f=>f.addEventListener("click",Vl)));let a=!0;const s=f=>i.some(c=>{if(typeof c=="string")return Array.from(r.document.querySelectorAll(c)).some(d=>d===f.target||f.composedPath().includes(d));{const d=li(c);return d&&(f.target===d||f.composedPath().includes(d))}}),u=[Gt(r,"click",f=>{const c=li(e);if(!(!c||c===f.target||f.composedPath().includes(c))){if(f.detail===0&&(a=!s(f)),!a){a=!0;return}t(f)}},{passive:!0,capture:o}),Gt(r,"pointerdown",f=>{const c=li(e);c&&(a=!f.composedPath().includes(c)&&!s(f))},{passive:!0}),p&&Gt(r,"blur",f=>{var c;const d=li(e);((c=r.document.activeElement)==null?void 0:c.tagName)==="IFRAME"&&!d?.contains(r.document.activeElement)&&t(f)})].filter(Boolean);return()=>u.forEach(f=>f())}function VE(e,t=!1){const n=pe(),r=()=>n.value=!!e();return r(),zE(r,t),n}function WE(e){return JSON.parse(JSON.stringify(e))}const Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fv="__vueuse_ssr_handlers__";Dv[Fv]=Dv[Fv]||{};var Lv=Object.getOwnPropertySymbols,YE=Object.prototype.hasOwnProperty,GE=Object.prototype.propertyIsEnumerable,XE=(e,t)=>{var n={};for(var r in e)YE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lv)for(var r of Lv(e))t.indexOf(r)<0&&GE.call(e,r)&&(n[r]=e[r]);return n};function _d(e,t,n={}){const r=n,{window:i=yd}=r,o=XE(r,["window"]);let p;const a=VE(()=>i&&"ResizeObserver"in i),s=()=>{p&&(p.disconnect(),p=void 0)},h=Me(()=>li(e),l=>{s(),a.value&&i&&l&&(p=new ResizeObserver(t),p.observe(l,o))},{immediate:!0,flush:"post"}),u=()=>{s(),h()};return Dc(u),{isSupported:a,stop:u}}var Bv;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Bv||(Bv={}));var KE=Object.defineProperty,$v=Object.getOwnPropertySymbols,qE=Object.prototype.hasOwnProperty,JE=Object.prototype.propertyIsEnumerable,jv=(e,t,n)=>t in e?KE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZE=(e,t)=>{for(var n in t||(t={}))qE.call(t,n)&&jv(e,n,t[n]);if($v)for(var n of $v(t))JE.call(t,n)&&jv(e,n,t[n]);return e};const QE={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ZE({linear:jE},QE);function eO(e,t,n,r={}){var i,o,p;const{clone:a=!1,passive:s=!1,eventName:h,deep:u=!1,defaultValue:l}=r,f=Dt(),c=n||f?.emit||((i=f?.$emit)==null?void 0:i.bind(f))||((p=(o=f?.proxy)==null?void 0:o.$emit)==null?void 0:p.bind(f?.proxy));let d=h;t||(t="modelValue"),d=h||d||`update:${t.toString()}`;const v=m=>a?DE(a)?a(m):WE(m):m,g=()=>ME(e[t])?v(e[t]):l;if(s){const m=g(),y=pe(m);return Me(()=>e[t],_=>y.value=v(_)),Me(y,_=>{(_!==e[t]||u)&&c(d,_)},{deep:u}),y}else return ne({get(){return g()},set(m){c(d,m)}})}const tO=()=>mt&&/firefox/i.test(window.navigator.userAgent),nO=(e,t)=>{if(!mt||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right};var rO=typeof global=="object"&&global&&global.Object===Object&&global;const Ob=rO;var iO=typeof self=="object"&&self&&self.Object===Object&&self,sO=Ob||iO||Function("return this")();const rr=sO;var oO=rr.Symbol;const br=oO;var kb=Object.prototype,aO=kb.hasOwnProperty,lO=kb.toString,Co=br?br.toStringTag:void 0;function cO(e){var t=aO.call(e,Co),n=e[Co];try{e[Co]=void 0;var r=!0}catch{}var i=lO.call(e);return r&&(t?e[Co]=n:delete e[Co]),i}var uO=Object.prototype,fO=uO.toString;function hO(e){return fO.call(e)}var dO="[object Null]",pO="[object Undefined]",Nv=br?br.toStringTag:void 0;function qi(e){return e==null?e===void 0?pO:dO:Nv&&Nv in Object(e)?cO(e):hO(e)}function wr(e){return e!=null&&typeof e=="object"}var gO="[object Symbol]";function Fc(e){return typeof e=="symbol"||wr(e)&&qi(e)==gO}function vO(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var mO=Array.isArray;const tr=mO;var yO=1/0,zv=br?br.prototype:void 0,Hv=zv?zv.toString:void 0;function Pb(e){if(typeof e=="string")return e;if(tr(e))return vO(e,Pb)+"";if(Fc(e))return Hv?Hv.call(e):"";var t=e+"";return t=="0"&&1/e==-yO?"-0":t}var _O=/\s/;function bO(e){for(var t=e.length;t--&&_O.test(e.charAt(t)););return t}var wO=/^\s+/;function CO(e){return e&&e.slice(0,bO(e)+1).replace(wO,"")}function $n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Uv=0/0,SO=/^[-+]0x[0-9a-f]+$/i,xO=/^0b[01]+$/i,TO=/^0o[0-7]+$/i,EO=parseInt;function Vv(e){if(typeof e=="number")return e;if(Fc(e))return Uv;if($n(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$n(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=CO(e);var n=xO.test(e);return n||TO.test(e)?EO(e.slice(2),n?2:8):SO.test(e)?Uv:+e}function Ab(e){return e}var OO="[object AsyncFunction]",kO="[object Function]",PO="[object GeneratorFunction]",AO="[object Proxy]";function bd(e){if(!$n(e))return!1;var t=qi(e);return t==kO||t==PO||t==OO||t==AO}var IO=rr["__core-js_shared__"];const ku=IO;var Wv=function(){var e=/[^.]+$/.exec(ku&&ku.keys&&ku.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function RO(e){return!!Wv&&Wv in e}var MO=Function.prototype,DO=MO.toString;function Ji(e){if(e!=null){try{return DO.call(e)}catch{}try{return e+""}catch{}}return""}var FO=/[\\^$.*+?()[\]{}|]/g,LO=/^\[object .+?Constructor\]$/,BO=Function.prototype,$O=Object.prototype,jO=BO.toString,NO=$O.hasOwnProperty,zO=RegExp("^"+jO.call(NO).replace(FO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function HO(e){if(!$n(e)||RO(e))return!1;var t=bd(e)?zO:LO;return t.test(Ji(e))}function UO(e,t){return e?.[t]}function Zi(e,t){var n=UO(e,t);return HO(n)?n:void 0}var VO=Zi(rr,"WeakMap");const Gf=VO;var Yv=Object.create,WO=function(){function e(){}return function(t){if(!$n(t))return{};if(Yv)return Yv(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const YO=WO;function GO(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ib(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var XO=800,KO=16,qO=Date.now;function JO(e){var t=0,n=0;return function(){var r=qO(),i=KO-(r-n);if(n=r,i>0){if(++t>=XO)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function ZO(e){return function(){return e}}var QO=function(){try{var e=Zi(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Wl=QO;var ek=Wl?function(e,t){return Wl(e,"toString",{configurable:!0,enumerable:!1,value:ZO(t),writable:!0})}:Ab;const tk=ek;var nk=JO(tk);const rk=nk;function ik(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var sk=9007199254740991,ok=/^(?:0|[1-9]\d*)$/;function Rb(e,t){var n=typeof e;return t=t??sk,!!t&&(n=="number"||n!="symbol"&&ok.test(e))&&e>-1&&e%1==0&&e<t}function wd(e,t,n){t=="__proto__"&&Wl?Wl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ia(e,t){return e===t||e!==e&&t!==t}var ak=Object.prototype,lk=ak.hasOwnProperty;function Mb(e,t,n){var r=e[t];(!(lk.call(e,t)&&Ia(r,n))||n===void 0&&!(t in e))&&wd(e,t,n)}function Ra(e,t,n,r){var i=!n;n||(n={});for(var o=-1,p=t.length;++o<p;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;s===void 0&&(s=e[a]),i?wd(n,a,s):Mb(n,a,s)}return n}var Gv=Math.max;function ck(e,t,n){return t=Gv(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Gv(r.length-t,0),p=Array(o);++i<o;)p[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(p),GO(e,this,a)}}function uk(e,t){return rk(ck(e,t,Ab),e+"")}var fk=9007199254740991;function Db(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fk}function Lc(e){return e!=null&&Db(e.length)&&!bd(e)}function hk(e,t,n){if(!$n(n))return!1;var r=typeof t;return(r=="number"?Lc(n)&&Rb(t,n.length):r=="string"&&t in n)?Ia(n[t],e):!1}function dk(e){return uk(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,p=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,p&&hk(n[0],n[1],p)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t})}var pk=Object.prototype;function Cd(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||pk;return e===n}function gk(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var vk="[object Arguments]";function Xv(e){return wr(e)&&qi(e)==vk}var Fb=Object.prototype,mk=Fb.hasOwnProperty,yk=Fb.propertyIsEnumerable,_k=Xv(function(){return arguments}())?Xv:function(e){return wr(e)&&mk.call(e,"callee")&&!yk.call(e,"callee")};const Xf=_k;function bk(){return!1}var Lb=typeof yn=="object"&&yn&&!yn.nodeType&&yn,Kv=Lb&&typeof _n=="object"&&_n&&!_n.nodeType&&_n,wk=Kv&&Kv.exports===Lb,qv=wk?rr.Buffer:void 0,Ck=qv?qv.isBuffer:void 0,Sk=Ck||bk;const fa=Sk;var xk="[object Arguments]",Tk="[object Array]",Ek="[object Boolean]",Ok="[object Date]",kk="[object Error]",Pk="[object Function]",Ak="[object Map]",Ik="[object Number]",Rk="[object Object]",Mk="[object RegExp]",Dk="[object Set]",Fk="[object String]",Lk="[object WeakMap]",Bk="[object ArrayBuffer]",$k="[object DataView]",jk="[object Float32Array]",Nk="[object Float64Array]",zk="[object Int8Array]",Hk="[object Int16Array]",Uk="[object Int32Array]",Vk="[object Uint8Array]",Wk="[object Uint8ClampedArray]",Yk="[object Uint16Array]",Gk="[object Uint32Array]",dt={};dt[jk]=dt[Nk]=dt[zk]=dt[Hk]=dt[Uk]=dt[Vk]=dt[Wk]=dt[Yk]=dt[Gk]=!0;dt[xk]=dt[Tk]=dt[Bk]=dt[Ek]=dt[$k]=dt[Ok]=dt[kk]=dt[Pk]=dt[Ak]=dt[Ik]=dt[Rk]=dt[Mk]=dt[Dk]=dt[Fk]=dt[Lk]=!1;function Xk(e){return wr(e)&&Db(e.length)&&!!dt[qi(e)]}function Sd(e){return function(t){return e(t)}}var Bb=typeof yn=="object"&&yn&&!yn.nodeType&&yn,Uo=Bb&&typeof _n=="object"&&_n&&!_n.nodeType&&_n,Kk=Uo&&Uo.exports===Bb,Pu=Kk&&Ob.process,qk=function(){try{var e=Uo&&Uo.require&&Uo.require("util").types;return e||Pu&&Pu.binding&&Pu.binding("util")}catch{}}();const Ls=qk;var Jv=Ls&&Ls.isTypedArray,Jk=Jv?Sd(Jv):Xk;const xd=Jk;var Zk=Object.prototype,Qk=Zk.hasOwnProperty;function $b(e,t){var n=tr(e),r=!n&&Xf(e),i=!n&&!r&&fa(e),o=!n&&!r&&!i&&xd(e),p=n||r||i||o,a=p?gk(e.length,String):[],s=a.length;for(var h in e)(t||Qk.call(e,h))&&!(p&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Rb(h,s)))&&a.push(h);return a}function jb(e,t){return function(n){return e(t(n))}}var eP=jb(Object.keys,Object);const tP=eP;var nP=Object.prototype,rP=nP.hasOwnProperty;function iP(e){if(!Cd(e))return tP(e);var t=[];for(var n in Object(e))rP.call(e,n)&&n!="constructor"&&t.push(n);return t}function Td(e){return Lc(e)?$b(e):iP(e)}function sP(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var oP=Object.prototype,aP=oP.hasOwnProperty;function lP(e){if(!$n(e))return sP(e);var t=Cd(e),n=[];for(var r in e)r=="constructor"&&(t||!aP.call(e,r))||n.push(r);return n}function Ma(e){return Lc(e)?$b(e,!0):lP(e)}var cP=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uP=/^\w*$/;function fP(e,t){if(tr(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Fc(e)?!0:uP.test(e)||!cP.test(e)||t!=null&&e in Object(t)}var hP=Zi(Object,"create");const ha=hP;function dP(){this.__data__=ha?ha(null):{},this.size=0}function pP(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var gP="__lodash_hash_undefined__",vP=Object.prototype,mP=vP.hasOwnProperty;function yP(e){var t=this.__data__;if(ha){var n=t[e];return n===gP?void 0:n}return mP.call(t,e)?t[e]:void 0}var _P=Object.prototype,bP=_P.hasOwnProperty;function wP(e){var t=this.__data__;return ha?t[e]!==void 0:bP.call(t,e)}var CP="__lodash_hash_undefined__";function SP(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ha&&t===void 0?CP:t,this}function ji(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ji.prototype.clear=dP;ji.prototype.delete=pP;ji.prototype.get=yP;ji.prototype.has=wP;ji.prototype.set=SP;function xP(){this.__data__=[],this.size=0}function Bc(e,t){for(var n=e.length;n--;)if(Ia(e[n][0],t))return n;return-1}var TP=Array.prototype,EP=TP.splice;function OP(e){var t=this.__data__,n=Bc(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():EP.call(t,n,1),--this.size,!0}function kP(e){var t=this.__data__,n=Bc(t,e);return n<0?void 0:t[n][1]}function PP(e){return Bc(this.__data__,e)>-1}function AP(e,t){var n=this.__data__,r=Bc(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Yr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Yr.prototype.clear=xP;Yr.prototype.delete=OP;Yr.prototype.get=kP;Yr.prototype.has=PP;Yr.prototype.set=AP;var IP=Zi(rr,"Map");const da=IP;function RP(){this.size=0,this.__data__={hash:new ji,map:new(da||Yr),string:new ji}}function MP(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function $c(e,t){var n=e.__data__;return MP(t)?n[typeof t=="string"?"string":"hash"]:n.map}function DP(e){var t=$c(this,e).delete(e);return this.size-=t?1:0,t}function FP(e){return $c(this,e).get(e)}function LP(e){return $c(this,e).has(e)}function BP(e,t){var n=$c(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Gr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gr.prototype.clear=RP;Gr.prototype.delete=DP;Gr.prototype.get=FP;Gr.prototype.has=LP;Gr.prototype.set=BP;var $P="Expected a function";function Ed(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError($P);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var p=e.apply(this,r);return n.cache=o.set(i,p)||o,p};return n.cache=new(Ed.Cache||Gr),n}Ed.Cache=Gr;var jP=500;function NP(e){var t=Ed(e,function(r){return n.size===jP&&n.clear(),r}),n=t.cache;return t}var zP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,HP=/\\(\\)?/g,UP=NP(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zP,function(n,r,i,o){t.push(i?o.replace(HP,"$1"):r||n)}),t});const VP=UP;function WP(e){return e==null?"":Pb(e)}function YP(e,t){return tr(e)?e:fP(e,t)?[e]:VP(WP(e))}var GP=1/0;function XP(e){if(typeof e=="string"||Fc(e))return e;var t=e+"";return t=="0"&&1/e==-GP?"-0":t}function KP(e,t){t=YP(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[XP(t[n++])];return n&&n==r?e:void 0}function qP(e,t,n){var r=e==null?void 0:KP(e,t);return r===void 0?n:r}function Nb(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var JP=jb(Object.getPrototypeOf,Object);const Od=JP;var ZP="[object Object]",QP=Function.prototype,eA=Object.prototype,zb=QP.toString,tA=eA.hasOwnProperty,nA=zb.call(Object);function rA(e){if(!wr(e)||qi(e)!=ZP)return!1;var t=Od(e);if(t===null)return!0;var n=tA.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&zb.call(n)==nA}function iA(){if(!arguments.length)return[];var e=arguments[0];return tr(e)?e:[e]}function sA(){this.__data__=new Yr,this.size=0}function oA(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function aA(e){return this.__data__.get(e)}function lA(e){return this.__data__.has(e)}var cA=200;function uA(e,t){var n=this.__data__;if(n instanceof Yr){var r=n.__data__;if(!da||r.length<cA-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gr(r)}return n.set(e,t),this.size=n.size,this}function vr(e){var t=this.__data__=new Yr(e);this.size=t.size}vr.prototype.clear=sA;vr.prototype.delete=oA;vr.prototype.get=aA;vr.prototype.has=lA;vr.prototype.set=uA;function fA(e,t){return e&&Ra(t,Td(t),e)}function hA(e,t){return e&&Ra(t,Ma(t),e)}var Hb=typeof yn=="object"&&yn&&!yn.nodeType&&yn,Zv=Hb&&typeof _n=="object"&&_n&&!_n.nodeType&&_n,dA=Zv&&Zv.exports===Hb,Qv=dA?rr.Buffer:void 0,em=Qv?Qv.allocUnsafe:void 0;function Ub(e,t){if(t)return e.slice();var n=e.length,r=em?em(n):new e.constructor(n);return e.copy(r),r}function pA(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var p=e[n];t(p,n,e)&&(o[i++]=p)}return o}function Vb(){return[]}var gA=Object.prototype,vA=gA.propertyIsEnumerable,tm=Object.getOwnPropertySymbols,mA=tm?function(e){return e==null?[]:(e=Object(e),pA(tm(e),function(t){return vA.call(e,t)}))}:Vb;const kd=mA;function yA(e,t){return Ra(e,kd(e),t)}var _A=Object.getOwnPropertySymbols,bA=_A?function(e){for(var t=[];e;)Nb(t,kd(e)),e=Od(e);return t}:Vb;const Wb=bA;function wA(e,t){return Ra(e,Wb(e),t)}function Yb(e,t,n){var r=t(e);return tr(e)?r:Nb(r,n(e))}function Kf(e){return Yb(e,Td,kd)}function CA(e){return Yb(e,Ma,Wb)}var SA=Zi(rr,"DataView");const qf=SA;var xA=Zi(rr,"Promise");const Jf=xA;var TA=Zi(rr,"Set");const Zf=TA;var nm="[object Map]",EA="[object Object]",rm="[object Promise]",im="[object Set]",sm="[object WeakMap]",om="[object DataView]",OA=Ji(qf),kA=Ji(da),PA=Ji(Jf),AA=Ji(Zf),IA=Ji(Gf),Ei=qi;(qf&&Ei(new qf(new ArrayBuffer(1)))!=om||da&&Ei(new da)!=nm||Jf&&Ei(Jf.resolve())!=rm||Zf&&Ei(new Zf)!=im||Gf&&Ei(new Gf)!=sm)&&(Ei=function(e){var t=qi(e),n=t==EA?e.constructor:void 0,r=n?Ji(n):"";if(r)switch(r){case OA:return om;case kA:return nm;case PA:return rm;case AA:return im;case IA:return sm}return t});const pa=Ei;var RA=Object.prototype,MA=RA.hasOwnProperty;function DA(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&MA.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var FA=rr.Uint8Array;const Yl=FA;function Pd(e){var t=new e.constructor(e.byteLength);return new Yl(t).set(new Yl(e)),t}function LA(e,t){var n=t?Pd(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var BA=/\w*$/;function $A(e){var t=new e.constructor(e.source,BA.exec(e));return t.lastIndex=e.lastIndex,t}var am=br?br.prototype:void 0,lm=am?am.valueOf:void 0;function jA(e){return lm?Object(lm.call(e)):{}}function Gb(e,t){var n=t?Pd(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var NA="[object Boolean]",zA="[object Date]",HA="[object Map]",UA="[object Number]",VA="[object RegExp]",WA="[object Set]",YA="[object String]",GA="[object Symbol]",XA="[object ArrayBuffer]",KA="[object DataView]",qA="[object Float32Array]",JA="[object Float64Array]",ZA="[object Int8Array]",QA="[object Int16Array]",eI="[object Int32Array]",tI="[object Uint8Array]",nI="[object Uint8ClampedArray]",rI="[object Uint16Array]",iI="[object Uint32Array]";function sI(e,t,n){var r=e.constructor;switch(t){case XA:return Pd(e);case NA:case zA:return new r(+e);case KA:return LA(e,n);case qA:case JA:case ZA:case QA:case eI:case tI:case nI:case rI:case iI:return Gb(e,n);case HA:return new r;case UA:case YA:return new r(e);case VA:return $A(e);case WA:return new r;case GA:return jA(e)}}function Xb(e){return typeof e.constructor=="function"&&!Cd(e)?YO(Od(e)):{}}var oI="[object Map]";function aI(e){return wr(e)&&pa(e)==oI}var cm=Ls&&Ls.isMap,lI=cm?Sd(cm):aI;const cI=lI;var uI="[object Set]";function fI(e){return wr(e)&&pa(e)==uI}var um=Ls&&Ls.isSet,hI=um?Sd(um):fI;const dI=hI;var pI=1,gI=2,vI=4,Kb="[object Arguments]",mI="[object Array]",yI="[object Boolean]",_I="[object Date]",bI="[object Error]",qb="[object Function]",wI="[object GeneratorFunction]",CI="[object Map]",SI="[object Number]",Jb="[object Object]",xI="[object RegExp]",TI="[object Set]",EI="[object String]",OI="[object Symbol]",kI="[object WeakMap]",PI="[object ArrayBuffer]",AI="[object DataView]",II="[object Float32Array]",RI="[object Float64Array]",MI="[object Int8Array]",DI="[object Int16Array]",FI="[object Int32Array]",LI="[object Uint8Array]",BI="[object Uint8ClampedArray]",$I="[object Uint16Array]",jI="[object Uint32Array]",ft={};ft[Kb]=ft[mI]=ft[PI]=ft[AI]=ft[yI]=ft[_I]=ft[II]=ft[RI]=ft[MI]=ft[DI]=ft[FI]=ft[CI]=ft[SI]=ft[Jb]=ft[xI]=ft[TI]=ft[EI]=ft[OI]=ft[LI]=ft[BI]=ft[$I]=ft[jI]=!0;ft[bI]=ft[qb]=ft[kI]=!1;function Sl(e,t,n,r,i,o){var p,a=t&pI,s=t&gI,h=t&vI;if(n&&(p=i?n(e,r,i,o):n(e)),p!==void 0)return p;if(!$n(e))return e;var u=tr(e);if(u){if(p=DA(e),!a)return Ib(e,p)}else{var l=pa(e),f=l==qb||l==wI;if(fa(e))return Ub(e,a);if(l==Jb||l==Kb||f&&!i){if(p=s||f?{}:Xb(e),!a)return s?wA(e,hA(p,e)):yA(e,fA(p,e))}else{if(!ft[l])return i?e:{};p=sI(e,l,a)}}o||(o=new vr);var c=o.get(e);if(c)return c;o.set(e,p),dI(e)?e.forEach(function(g){p.add(Sl(g,t,n,g,e,o))}):cI(e)&&e.forEach(function(g,m){p.set(m,Sl(g,t,n,m,e,o))});var d=h?s?CA:Kf:s?Ma:Td,v=u?void 0:d(e);return ik(v||e,function(g,m){v&&(m=g,g=e[m]),Mb(p,m,Sl(g,t,n,m,e,o))}),p}var NI=1,zI=4;function fm(e){return Sl(e,NI|zI)}var HI="__lodash_hash_undefined__";function UI(e){return this.__data__.set(e,HI),this}function VI(e){return this.__data__.has(e)}function Gl(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Gr;++t<n;)this.add(e[t])}Gl.prototype.add=Gl.prototype.push=UI;Gl.prototype.has=VI;function WI(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function YI(e,t){return e.has(t)}var GI=1,XI=2;function Zb(e,t,n,r,i,o){var p=n&GI,a=e.length,s=t.length;if(a!=s&&!(p&&s>a))return!1;var h=o.get(e),u=o.get(t);if(h&&u)return h==t&&u==e;var l=-1,f=!0,c=n&XI?new Gl:void 0;for(o.set(e,t),o.set(t,e);++l<a;){var d=e[l],v=t[l];if(r)var g=p?r(v,d,l,t,e,o):r(d,v,l,e,t,o);if(g!==void 0){if(g)continue;f=!1;break}if(c){if(!WI(t,function(m,y){if(!YI(c,y)&&(d===m||i(d,m,n,r,o)))return c.push(y)})){f=!1;break}}else if(!(d===v||i(d,v,n,r,o))){f=!1;break}}return o.delete(e),o.delete(t),f}function KI(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function qI(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var JI=1,ZI=2,QI="[object Boolean]",eR="[object Date]",tR="[object Error]",nR="[object Map]",rR="[object Number]",iR="[object RegExp]",sR="[object Set]",oR="[object String]",aR="[object Symbol]",lR="[object ArrayBuffer]",cR="[object DataView]",hm=br?br.prototype:void 0,Au=hm?hm.valueOf:void 0;function uR(e,t,n,r,i,o,p){switch(n){case cR:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case lR:return!(e.byteLength!=t.byteLength||!o(new Yl(e),new Yl(t)));case QI:case eR:case rR:return Ia(+e,+t);case tR:return e.name==t.name&&e.message==t.message;case iR:case oR:return e==t+"";case nR:var a=KI;case sR:var s=r&JI;if(a||(a=qI),e.size!=t.size&&!s)return!1;var h=p.get(e);if(h)return h==t;r|=ZI,p.set(e,t);var u=Zb(a(e),a(t),r,i,o,p);return p.delete(e),u;case aR:if(Au)return Au.call(e)==Au.call(t)}return!1}var fR=1,hR=Object.prototype,dR=hR.hasOwnProperty;function pR(e,t,n,r,i,o){var p=n&fR,a=Kf(e),s=a.length,h=Kf(t),u=h.length;if(s!=u&&!p)return!1;for(var l=s;l--;){var f=a[l];if(!(p?f in t:dR.call(t,f)))return!1}var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var v=!0;o.set(e,t),o.set(t,e);for(var g=p;++l<s;){f=a[l];var m=e[f],y=t[f];if(r)var _=p?r(y,m,f,t,e,o):r(m,y,f,e,t,o);if(!(_===void 0?m===y||i(m,y,n,r,o):_)){v=!1;break}g||(g=f=="constructor")}if(v&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(v=!1)}return o.delete(e),o.delete(t),v}var gR=1,dm="[object Arguments]",pm="[object Array]",rl="[object Object]",vR=Object.prototype,gm=vR.hasOwnProperty;function mR(e,t,n,r,i,o){var p=tr(e),a=tr(t),s=p?pm:pa(e),h=a?pm:pa(t);s=s==dm?rl:s,h=h==dm?rl:h;var u=s==rl,l=h==rl,f=s==h;if(f&&fa(e)){if(!fa(t))return!1;p=!0,u=!1}if(f&&!u)return o||(o=new vr),p||xd(e)?Zb(e,t,n,r,i,o):uR(e,t,s,n,r,i,o);if(!(n&gR)){var c=u&&gm.call(e,"__wrapped__"),d=l&&gm.call(t,"__wrapped__");if(c||d){var v=c?e.value():e,g=d?t.value():t;return o||(o=new vr),i(v,g,n,r,o)}}return f?(o||(o=new vr),pR(e,t,n,r,i,o)):!1}function Qb(e,t,n,r,i){return e===t?!0:e==null||t==null||!wr(e)&&!wr(t)?e!==e&&t!==t:mR(e,t,n,r,Qb,i)}function yR(e){return function(t,n,r){for(var i=-1,o=Object(t),p=r(t),a=p.length;a--;){var s=p[e?a:++i];if(n(o[s],s,o)===!1)break}return t}}var _R=yR();const bR=_R;var wR=function(){return rr.Date.now()};const Iu=wR;var CR="Expected a function",SR=Math.max,xR=Math.min;function Qf(e,t,n){var r,i,o,p,a,s,h=0,u=!1,l=!1,f=!0;if(typeof e!="function")throw new TypeError(CR);t=Vv(t)||0,$n(n)&&(u=!!n.leading,l="maxWait"in n,o=l?SR(Vv(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f);function c(S){var x=r,P=i;return r=i=void 0,h=S,p=e.apply(P,x),p}function d(S){return h=S,a=setTimeout(m,t),u?c(S):p}function v(S){var x=S-s,P=S-h,B=t-x;return l?xR(B,o-P):B}function g(S){var x=S-s,P=S-h;return s===void 0||x>=t||x<0||l&&P>=o}function m(){var S=Iu();if(g(S))return y(S);a=setTimeout(m,v(S))}function y(S){return a=void 0,f&&r?c(S):(r=i=void 0,p)}function _(){a!==void 0&&clearTimeout(a),h=0,r=s=i=a=void 0}function b(){return a===void 0?p:y(Iu())}function w(){var S=Iu(),x=g(S);if(r=arguments,i=this,s=S,x){if(a===void 0)return d(s);if(l)return clearTimeout(a),a=setTimeout(m,t),c(s)}return a===void 0&&(a=setTimeout(m,t)),p}return w.cancel=_,w.flush=b,w}function eh(e,t,n){(n!==void 0&&!Ia(e[t],n)||n===void 0&&!(t in e))&&wd(e,t,n)}function TR(e){return wr(e)&&Lc(e)}function th(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function ER(e){return Ra(e,Ma(e))}function OR(e,t,n,r,i,o,p){var a=th(e,n),s=th(t,n),h=p.get(s);if(h){eh(e,n,h);return}var u=o?o(a,s,n+"",e,t,p):void 0,l=u===void 0;if(l){var f=tr(s),c=!f&&fa(s),d=!f&&!c&&xd(s);u=s,f||c||d?tr(a)?u=a:TR(a)?u=Ib(a):c?(l=!1,u=Ub(s,!0)):d?(l=!1,u=Gb(s,!0)):u=[]:rA(s)||Xf(s)?(u=a,Xf(a)?u=ER(a):(!$n(a)||bd(a))&&(u=Xb(s))):l=!1}l&&(p.set(s,u),i(u,s,r,o,p),p.delete(s)),eh(e,n,u)}function e1(e,t,n,r,i){e!==t&&bR(t,function(o,p){if(i||(i=new vr),$n(o))OR(e,t,p,n,e1,r,i);else{var a=r?r(th(e,p),o,p+"",e,t,i):void 0;a===void 0&&(a=o),eh(e,p,a)}},Ma)}function Xl(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function kR(e,t){return Qb(e,t)}function Zn(e){return e==null}function PR(e){return e===void 0}var AR=dk(function(e,t,n){e1(e,t,n)});const jc=AR;var IR="Expected a function";function xl(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(IR);return $n(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Qf(e,t,{leading:r,maxWait:t,trailing:i})}const Ro=e=>e===void 0,Ad=e=>typeof e=="boolean",rt=e=>typeof e=="number",Bs=e=>typeof Element>"u"?!1:e instanceof Element,RR=e=>Ye(e)?!Number.isNaN(Number(e)):!1,nh=e=>Object.keys(e),MR=e=>Object.entries(e);class DR extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function co(e,t){throw new DR(`[${e}] ${t}`)}const FR=(e,t)=>{var n;if(!mt||!e||!t)return"";let r=Qn(t);r==="float"&&(r="cssFloat");try{const i=e.style[r];if(i)return i;const o=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return o?o[r]:""}catch{return e.style[r]}};function ga(e,t="px"){if(!e)return"";if(rt(e)||RR(e))return`${e}${t}`;if(Ye(e))return e}const LR=(e,t)=>{if(!mt)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=FR(e,n);return["scroll","auto","overlay"].some(i=>r.includes(i))},BR=(e,t)=>{if(!mt)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(LR(n,t))return n;n=n.parentNode}return n};/*! Element Plus Icons Vue v2.1.0 */var ht=(e,t)=>{let n=e.__vccOpts||e;for(let[r,i]of t)n[r]=i;return n},$R={name:"ArrowDown"},jR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},NR=N("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),zR=[NR];function HR(e,t,n,r,i,o){return z(),ie("svg",jR,zR)}var Nc=ht($R,[["render",HR],["__file","arrow-down.vue"]]),UR={name:"ArrowLeft"},VR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},WR=N("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),YR=[WR];function GR(e,t,n,r,i,o){return z(),ie("svg",VR,YR)}var t1=ht(UR,[["render",GR],["__file","arrow-left.vue"]]),XR={name:"ArrowRight"},KR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qR=N("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),JR=[qR];function ZR(e,t,n,r,i,o){return z(),ie("svg",KR,JR)}var QR=ht(XR,[["render",ZR],["__file","arrow-right.vue"]]),eM={name:"ArrowUp"},tM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nM=N("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),rM=[nM];function iM(e,t,n,r,i,o){return z(),ie("svg",tM,rM)}var n1=ht(eM,[["render",iM],["__file","arrow-up.vue"]]),sM={name:"Check"},oM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},aM=N("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),lM=[aM];function cM(e,t,n,r,i,o){return z(),ie("svg",oM,lM)}var r1=ht(sM,[["render",cM],["__file","check.vue"]]),uM={name:"CircleCheck"},fM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hM=N("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),dM=N("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),pM=[hM,dM];function gM(e,t,n,r,i,o){return z(),ie("svg",fM,pM)}var Id=ht(uM,[["render",gM],["__file","circle-check.vue"]]),vM={name:"CircleCloseFilled"},mM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yM=N("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),_M=[yM];function bM(e,t,n,r,i,o){return z(),ie("svg",mM,_M)}var i1=ht(vM,[["render",bM],["__file","circle-close-filled.vue"]]),wM={name:"CircleClose"},CM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},SM=N("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),xM=N("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),TM=[SM,xM];function EM(e,t,n,r,i,o){return z(),ie("svg",CM,TM)}var Rd=ht(wM,[["render",EM],["__file","circle-close.vue"]]),OM={name:"Close"},kM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},PM=N("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),AM=[PM];function IM(e,t,n,r,i,o){return z(),ie("svg",kM,AM)}var Da=ht(OM,[["render",IM],["__file","close.vue"]]),RM={name:"Delete"},MM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},DM=N("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),FM=[DM];function LM(e,t,n,r,i,o){return z(),ie("svg",MM,FM)}var BM=ht(RM,[["render",LM],["__file","delete.vue"]]),$M={name:"Document"},jM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},NM=N("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),zM=[NM];function HM(e,t,n,r,i,o){return z(),ie("svg",jM,zM)}var UM=ht($M,[["render",HM],["__file","document.vue"]]),VM={name:"FullScreen"},WM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},YM=N("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),GM=[YM];function XM(e,t,n,r,i,o){return z(),ie("svg",WM,GM)}var KM=ht(VM,[["render",XM],["__file","full-screen.vue"]]),qM={name:"Hide"},JM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ZM=N("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),QM=N("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),e3=[ZM,QM];function t3(e,t,n,r,i,o){return z(),ie("svg",JM,e3)}var n3=ht(qM,[["render",t3],["__file","hide.vue"]]),r3={name:"InfoFilled"},i3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},s3=N("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),o3=[s3];function a3(e,t,n,r,i,o){return z(),ie("svg",i3,o3)}var s1=ht(r3,[["render",a3],["__file","info-filled.vue"]]),l3={name:"Loading"},c3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},u3=N("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),f3=[u3];function h3(e,t,n,r,i,o){return z(),ie("svg",c3,f3)}var o1=ht(l3,[["render",h3],["__file","loading.vue"]]),d3={name:"Minus"},p3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},g3=N("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),v3=[g3];function m3(e,t,n,r,i,o){return z(),ie("svg",p3,v3)}var y3=ht(d3,[["render",m3],["__file","minus.vue"]]),_3={name:"Plus"},b3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},w3=N("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),C3=[w3];function S3(e,t,n,r,i,o){return z(),ie("svg",b3,C3)}var x3=ht(_3,[["render",S3],["__file","plus.vue"]]),T3={name:"RefreshLeft"},E3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},O3=N("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),k3=[O3];function P3(e,t,n,r,i,o){return z(),ie("svg",E3,k3)}var A3=ht(T3,[["render",P3],["__file","refresh-left.vue"]]),I3={name:"RefreshRight"},R3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},M3=N("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),D3=[M3];function F3(e,t,n,r,i,o){return z(),ie("svg",R3,D3)}var L3=ht(I3,[["render",F3],["__file","refresh-right.vue"]]),B3={name:"ScaleToOriginal"},$3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},j3=N("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),N3=[j3];function z3(e,t,n,r,i,o){return z(),ie("svg",$3,N3)}var H3=ht(B3,[["render",z3],["__file","scale-to-original.vue"]]),U3={name:"Select"},V3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},W3=N("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"},null,-1),Y3=[W3];function G3(e,t,n,r,i,o){return z(),ie("svg",V3,Y3)}var Ru=ht(U3,[["render",G3],["__file","select.vue"]]),X3={name:"SuccessFilled"},K3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},q3=N("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),J3=[q3];function Z3(e,t,n,r,i,o){return z(),ie("svg",K3,J3)}var a1=ht(X3,[["render",Z3],["__file","success-filled.vue"]]),Q3={name:"View"},e4={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},t4=N("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),n4=[t4];function r4(e,t,n,r,i,o){return z(),ie("svg",e4,n4)}var i4=ht(Q3,[["render",r4],["__file","view.vue"]]),s4={name:"WarningFilled"},o4={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},a4=N("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),l4=[a4];function c4(e,t,n,r,i,o){return z(),ie("svg",o4,l4)}var Md=ht(s4,[["render",c4],["__file","warning-filled.vue"]]),u4={name:"ZoomIn"},f4={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},h4=N("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),d4=[h4];function p4(e,t,n,r,i,o){return z(),ie("svg",f4,d4)}var l1=ht(u4,[["render",p4],["__file","zoom-in.vue"]]),g4={name:"ZoomOut"},v4={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},m4=N("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),y4=[m4];function _4(e,t,n,r,i,o){return z(),ie("svg",v4,y4)}var b4=ht(g4,[["render",_4],["__file","zoom-out.vue"]]);const c1="__epPropKey",Ae=e=>e,w4=e=>Ze(e)&&!!e[c1],zc=(e,t)=>{if(!Ze(e)||w4(e))return e;const{values:n,required:r,default:i,type:o,validator:p}=e,s={type:o,required:!!r,validator:n||p?h=>{let u=!1,l=[];if(n&&(l=Array.from(n),Xe(e,"default")&&l.push(i),u||(u=l.includes(h))),p&&(u||(u=p(h))),!u&&l.length>0){const f=[...new Set(l)].map(c=>JSON.stringify(c)).join(", ");p2(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${f}], got value ${JSON.stringify(h)}.`)}return u}:void 0,[c1]:!0};return Xe(e,"default")&&(s.default=i),s},Qe=e=>Xl(Object.entries(e).map(([t,n])=>[t,zc(n,t)])),$s=Ae([String,Object,Function]),C4={Close:Da,SuccessFilled:a1,InfoFilled:s1,WarningFilled:Md,CircleCloseFilled:i1},vm={success:a1,warning:Md,error:i1,info:s1},S4={validating:o1,success:Id,error:Rd},Zt=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},x4=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),T4=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Dd=e=>(e.install=nt,e),u1=(...e)=>t=>{e.forEach(n=>{$e(n)?n(t):n.value=t})},et={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},mn="update:modelValue",Hc="change",Fi="input",E4=["","default","small","large"],O4=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),Ni=e=>e,k4=["class","style"],P4=/^on[A-Z]/,f1=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=ne(()=>(n?.value||[]).concat(k4)),i=Dt();return ne(i?()=>{var o;return Xl(Object.entries((o=i.proxy)==null?void 0:o.$attrs).filter(([p])=>!r.value.includes(p)&&!(t&&P4.test(p))))}:()=>({}))},A4=({from:e,replacement:t,scope:n,version:r,ref:i,type:o="API"},p)=>{Me(()=>E(p),a=>{},{immediate:!0})};var I4={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const R4=e=>(t,n)=>M4(t,n,E(e)),M4=(e,t,n)=>qP(n,e,e).replace(/\{(\w+)\}/g,(r,i)=>{var o;return`${(o=t?.[i])!=null?o:`{${i}}`}`}),D4=e=>{const t=ne(()=>E(e).name),n=Rt(e)?e:pe(e);return{lang:t,locale:n,t:R4(e)}},h1=Symbol("localeContextKey"),Qi=e=>{const t=e||Le(h1,pe());return D4(ne(()=>t.value||I4))},Tl="el",F4="is-",Ti=(e,t,n,r,i)=>{let o=`${e}-${t}`;return n&&(o+=`-${n}`),r&&(o+=`__${r}`),i&&(o+=`--${i}`),o},d1=Symbol("namespaceContextKey"),Fd=e=>{const t=e||(Dt()?Le(d1,pe(Tl)):pe(Tl));return ne(()=>E(t)||Tl)},it=(e,t)=>{const n=Fd(t);return{namespace:n,b:(v="")=>Ti(n.value,e,v,"",""),e:v=>v?Ti(n.value,e,"",v,""):"",m:v=>v?Ti(n.value,e,"","",v):"",be:(v,g)=>v&&g?Ti(n.value,e,v,g,""):"",em:(v,g)=>v&&g?Ti(n.value,e,"",v,g):"",bm:(v,g)=>v&&g?Ti(n.value,e,v,"",g):"",bem:(v,g,m)=>v&&g&&m?Ti(n.value,e,v,g,m):"",is:(v,...g)=>{const m=g.length>=1?g[0]:!0;return v&&m?`${F4}${v}`:""},cssVar:v=>{const g={};for(const m in v)v[m]&&(g[`--${n.value}-${m}`]=v[m]);return g},cssVarName:v=>`--${n.value}-${v}`,cssVarBlock:v=>{const g={};for(const m in v)v[m]&&(g[`--${n.value}-${e}-${m}`]=v[m]);return g},cssVarBlockName:v=>`--${n.value}-${e}-${v}`}},L4=zc({type:Ae(Boolean),default:null}),B4=zc({type:Ae(Function)}),p1=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],i={[e]:L4,[n]:B4};return{useModelToggle:({indicator:p,toggleReason:a,shouldHideWhenRouteChanges:s,shouldProceed:h,onShow:u,onHide:l})=>{const f=Dt(),{emit:c}=f,d=f.props,v=ne(()=>$e(d[n])),g=ne(()=>d[e]===null),m=x=>{p.value!==!0&&(p.value=!0,a&&(a.value=x),$e(u)&&u(x))},y=x=>{p.value!==!1&&(p.value=!1,a&&(a.value=x),$e(l)&&l(x))},_=x=>{if(d.disabled===!0||$e(h)&&!h())return;const P=v.value&&mt;P&&c(t,!0),(g.value||!P)&&m(x)},b=x=>{if(d.disabled===!0||!mt)return;const P=v.value&&mt;P&&c(t,!1),(g.value||!P)&&y(x)},w=x=>{Ad(x)&&(d.disabled&&x?v.value&&c(t,!1):p.value!==x&&(x?m():y()))},S=()=>{p.value?b():_()};return Me(()=>d[e],w),s&&f.appContext.config.globalProperties.$route!==void 0&&Me(()=>({...f.proxy.$route}),()=>{s.value&&p.value&&b()}),lt(()=>{w(d[e])}),{hide:b,show:_,toggle:S,hasUpdateHandler:v}},useModelToggleProps:i,useModelToggleEmits:r}};p1("modelValue");const g1=e=>{const t=Dt();return ne(()=>{var n,r;return(r=(n=t?.proxy)==null?void 0:n.$props)==null?void 0:r[e]})};var on="top",jn="bottom",Nn="right",an="left",Ld="auto",Fa=[on,jn,Nn,an],js="start",va="end",$4="clippingParents",v1="viewport",So="popper",j4="reference",mm=Fa.reduce(function(e,t){return e.concat([t+"-"+js,t+"-"+va])},[]),La=[].concat(Fa,[Ld]).reduce(function(e,t){return e.concat([t,t+"-"+js,t+"-"+va])},[]),N4="beforeRead",z4="read",H4="afterRead",U4="beforeMain",V4="main",W4="afterMain",Y4="beforeWrite",G4="write",X4="afterWrite",K4=[N4,z4,H4,U4,V4,W4,Y4,G4,X4];function Cr(e){return e?(e.nodeName||"").toLowerCase():null}function ir(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ns(e){var t=ir(e).Element;return e instanceof t||e instanceof Element}function Mn(e){var t=ir(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Bd(e){if(typeof ShadowRoot>"u")return!1;var t=ir(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function q4(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Mn(o)||!Cr(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(p){var a=i[p];a===!1?o.removeAttribute(p):o.setAttribute(p,a===!0?"":a)}))})}function J4(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},p=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=p.reduce(function(s,h){return s[h]="",s},{});!Mn(i)||!Cr(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(s){i.removeAttribute(s)}))})}}var m1={name:"applyStyles",enabled:!0,phase:"write",fn:q4,effect:J4,requires:["computeStyles"]};function mr(e){return e.split("-")[0]}var Li=Math.max,Kl=Math.min,zs=Math.round;function Hs(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(Mn(e)&&t){var o=e.offsetHeight,p=e.offsetWidth;p>0&&(r=zs(n.width)/p||1),o>0&&(i=zs(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function $d(e){var t=Hs(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function y1(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Bd(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ur(e){return ir(e).getComputedStyle(e)}function Z4(e){return["table","td","th"].indexOf(Cr(e))>=0}function yi(e){return((Ns(e)?e.ownerDocument:e.document)||window.document).documentElement}function Uc(e){return Cr(e)==="html"?e:e.assignedSlot||e.parentNode||(Bd(e)?e.host:null)||yi(e)}function ym(e){return!Mn(e)||Ur(e).position==="fixed"?null:e.offsetParent}function Q4(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Mn(e)){var r=Ur(e);if(r.position==="fixed")return null}var i=Uc(e);for(Bd(i)&&(i=i.host);Mn(i)&&["html","body"].indexOf(Cr(i))<0;){var o=Ur(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Ba(e){for(var t=ir(e),n=ym(e);n&&Z4(n)&&Ur(n).position==="static";)n=ym(n);return n&&(Cr(n)==="html"||Cr(n)==="body"&&Ur(n).position==="static")?t:n||Q4(e)||t}function jd(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Vo(e,t,n){return Li(e,Kl(t,n))}function eD(e,t,n){var r=Vo(e,t,n);return r>n?n:r}function _1(){return{top:0,right:0,bottom:0,left:0}}function b1(e){return Object.assign({},_1(),e)}function w1(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var tD=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,b1(typeof e!="number"?e:w1(e,Fa))};function nD(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,p=n.modifiersData.popperOffsets,a=mr(n.placement),s=jd(a),h=[an,Nn].indexOf(a)>=0,u=h?"height":"width";if(!(!o||!p)){var l=tD(i.padding,n),f=$d(o),c=s==="y"?on:an,d=s==="y"?jn:Nn,v=n.rects.reference[u]+n.rects.reference[s]-p[s]-n.rects.popper[u],g=p[s]-n.rects.reference[s],m=Ba(o),y=m?s==="y"?m.clientHeight||0:m.clientWidth||0:0,_=v/2-g/2,b=l[c],w=y-f[u]-l[d],S=y/2-f[u]/2+_,x=Vo(b,S,w),P=s;n.modifiersData[r]=(t={},t[P]=x,t.centerOffset=x-S,t)}}function rD(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!y1(t.elements.popper,i)||(t.elements.arrow=i))}var iD={name:"arrow",enabled:!0,phase:"main",fn:nD,effect:rD,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Us(e){return e.split("-")[1]}var sD={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oD(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:zs(t*i)/i||0,y:zs(n*i)/i||0}}function _m(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,p=e.offsets,a=e.position,s=e.gpuAcceleration,h=e.adaptive,u=e.roundOffsets,l=e.isFixed,f=p.x,c=f===void 0?0:f,d=p.y,v=d===void 0?0:d,g=typeof u=="function"?u({x:c,y:v}):{x:c,y:v};c=g.x,v=g.y;var m=p.hasOwnProperty("x"),y=p.hasOwnProperty("y"),_=an,b=on,w=window;if(h){var S=Ba(n),x="clientHeight",P="clientWidth";if(S===ir(n)&&(S=yi(n),Ur(S).position!=="static"&&a==="absolute"&&(x="scrollHeight",P="scrollWidth")),S=S,i===on||(i===an||i===Nn)&&o===va){b=jn;var B=l&&S===w&&w.visualViewport?w.visualViewport.height:S[x];v-=B-r.height,v*=s?1:-1}if(i===an||(i===on||i===jn)&&o===va){_=Nn;var G=l&&S===w&&w.visualViewport?w.visualViewport.width:S[P];c-=G-r.width,c*=s?1:-1}}var K=Object.assign({position:a},h&&sD),Y=u===!0?oD({x:c,y:v}):{x:c,y:v};if(c=Y.x,v=Y.y,s){var W;return Object.assign({},K,(W={},W[b]=y?"0":"",W[_]=m?"0":"",W.transform=(w.devicePixelRatio||1)<=1?"translate("+c+"px, "+v+"px)":"translate3d("+c+"px, "+v+"px, 0)",W))}return Object.assign({},K,(t={},t[b]=y?v+"px":"",t[_]=m?c+"px":"",t.transform="",t))}function aD(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,p=o===void 0?!0:o,a=n.roundOffsets,s=a===void 0?!0:a,h={placement:mr(t.placement),variation:Us(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,_m(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:p,roundOffsets:s})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,_m(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var C1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:aD,data:{}},il={passive:!0};function lD(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,p=r.resize,a=p===void 0?!0:p,s=ir(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(u){u.addEventListener("scroll",n.update,il)}),a&&s.addEventListener("resize",n.update,il),function(){o&&h.forEach(function(u){u.removeEventListener("scroll",n.update,il)}),a&&s.removeEventListener("resize",n.update,il)}}var S1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:lD,data:{}},cD={left:"right",right:"left",bottom:"top",top:"bottom"};function El(e){return e.replace(/left|right|bottom|top/g,function(t){return cD[t]})}var uD={start:"end",end:"start"};function bm(e){return e.replace(/start|end/g,function(t){return uD[t]})}function Nd(e){var t=ir(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function zd(e){return Hs(yi(e)).left+Nd(e).scrollLeft}function fD(e){var t=ir(e),n=yi(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,p=0,a=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(p=r.offsetLeft,a=r.offsetTop)),{width:i,height:o,x:p+zd(e),y:a}}function hD(e){var t,n=yi(e),r=Nd(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Li(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),p=Li(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+zd(e),s=-r.scrollTop;return Ur(i||n).direction==="rtl"&&(a+=Li(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:p,x:a,y:s}}function Hd(e){var t=Ur(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function x1(e){return["html","body","#document"].indexOf(Cr(e))>=0?e.ownerDocument.body:Mn(e)&&Hd(e)?e:x1(Uc(e))}function Wo(e,t){var n;t===void 0&&(t=[]);var r=x1(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=ir(r),p=i?[o].concat(o.visualViewport||[],Hd(r)?r:[]):r,a=t.concat(p);return i?a:a.concat(Wo(Uc(p)))}function rh(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function dD(e){var t=Hs(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function wm(e,t){return t===v1?rh(fD(e)):Ns(t)?dD(t):rh(hD(yi(e)))}function pD(e){var t=Wo(Uc(e)),n=["absolute","fixed"].indexOf(Ur(e).position)>=0,r=n&&Mn(e)?Ba(e):e;return Ns(r)?t.filter(function(i){return Ns(i)&&y1(i,r)&&Cr(i)!=="body"}):[]}function gD(e,t,n){var r=t==="clippingParents"?pD(e):[].concat(t),i=[].concat(r,[n]),o=i[0],p=i.reduce(function(a,s){var h=wm(e,s);return a.top=Li(h.top,a.top),a.right=Kl(h.right,a.right),a.bottom=Kl(h.bottom,a.bottom),a.left=Li(h.left,a.left),a},wm(e,o));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}function T1(e){var t=e.reference,n=e.element,r=e.placement,i=r?mr(r):null,o=r?Us(r):null,p=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,s;switch(i){case on:s={x:p,y:t.y-n.height};break;case jn:s={x:p,y:t.y+t.height};break;case Nn:s={x:t.x+t.width,y:a};break;case an:s={x:t.x-n.width,y:a};break;default:s={x:t.x,y:t.y}}var h=i?jd(i):null;if(h!=null){var u=h==="y"?"height":"width";switch(o){case js:s[h]=s[h]-(t[u]/2-n[u]/2);break;case va:s[h]=s[h]+(t[u]/2-n[u]/2);break}}return s}function ma(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.boundary,p=o===void 0?$4:o,a=n.rootBoundary,s=a===void 0?v1:a,h=n.elementContext,u=h===void 0?So:h,l=n.altBoundary,f=l===void 0?!1:l,c=n.padding,d=c===void 0?0:c,v=b1(typeof d!="number"?d:w1(d,Fa)),g=u===So?j4:So,m=e.rects.popper,y=e.elements[f?g:u],_=gD(Ns(y)?y:y.contextElement||yi(e.elements.popper),p,s),b=Hs(e.elements.reference),w=T1({reference:b,element:m,strategy:"absolute",placement:i}),S=rh(Object.assign({},m,w)),x=u===So?S:b,P={top:_.top-x.top+v.top,bottom:x.bottom-_.bottom+v.bottom,left:_.left-x.left+v.left,right:x.right-_.right+v.right},B=e.modifiersData.offset;if(u===So&&B){var G=B[i];Object.keys(P).forEach(function(K){var Y=[Nn,jn].indexOf(K)>=0?1:-1,W=[on,jn].indexOf(K)>=0?"y":"x";P[K]+=G[W]*Y})}return P}function vD(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,p=n.padding,a=n.flipVariations,s=n.allowedAutoPlacements,h=s===void 0?La:s,u=Us(r),l=u?a?mm:mm.filter(function(d){return Us(d)===u}):Fa,f=l.filter(function(d){return h.indexOf(d)>=0});f.length===0&&(f=l);var c=f.reduce(function(d,v){return d[v]=ma(e,{placement:v,boundary:i,rootBoundary:o,padding:p})[mr(v)],d},{});return Object.keys(c).sort(function(d,v){return c[d]-c[v]})}function mD(e){if(mr(e)===Ld)return[];var t=El(e);return[bm(e),t,bm(t)]}function yD(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,p=n.altAxis,a=p===void 0?!0:p,s=n.fallbackPlacements,h=n.padding,u=n.boundary,l=n.rootBoundary,f=n.altBoundary,c=n.flipVariations,d=c===void 0?!0:c,v=n.allowedAutoPlacements,g=t.options.placement,m=mr(g),y=m===g,_=s||(y||!d?[El(g)]:mD(g)),b=[g].concat(_).reduce(function(j,I){return j.concat(mr(I)===Ld?vD(t,{placement:I,boundary:u,rootBoundary:l,padding:h,flipVariations:d,allowedAutoPlacements:v}):I)},[]),w=t.rects.reference,S=t.rects.popper,x=new Map,P=!0,B=b[0],G=0;G<b.length;G++){var K=b[G],Y=mr(K),W=Us(K)===js,ee=[on,jn].indexOf(Y)>=0,le=ee?"width":"height",de=ma(t,{placement:K,boundary:u,rootBoundary:l,altBoundary:f,padding:h}),U=ee?W?Nn:an:W?jn:on;w[le]>S[le]&&(U=El(U));var Q=El(U),O=[];if(o&&O.push(de[Y]<=0),a&&O.push(de[U]<=0,de[Q]<=0),O.every(function(j){return j})){B=K,P=!1;break}x.set(K,O)}if(P)for(var R=d?3:1,F=function(j){var I=b.find(function(X){var $=x.get(X);if($)return $.slice(0,j).every(function(V){return V})});if(I)return B=I,"break"},D=R;D>0;D--){var se=F(D);if(se==="break")break}t.placement!==B&&(t.modifiersData[r]._skip=!0,t.placement=B,t.reset=!0)}}var _D={name:"flip",enabled:!0,phase:"main",fn:yD,requiresIfExists:["offset"],data:{_skip:!1}};function Cm(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Sm(e){return[on,Nn,jn,an].some(function(t){return e[t]>=0})}function bD(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,p=ma(t,{elementContext:"reference"}),a=ma(t,{altBoundary:!0}),s=Cm(p,r),h=Cm(a,i,o),u=Sm(s),l=Sm(h);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:h,isReferenceHidden:u,hasPopperEscaped:l},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":l})}var wD={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:bD};function CD(e,t,n){var r=mr(e),i=[an,on].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,p=o[0],a=o[1];return p=p||0,a=(a||0)*i,[an,Nn].indexOf(r)>=0?{x:a,y:p}:{x:p,y:a}}function SD(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,p=La.reduce(function(u,l){return u[l]=CD(l,t.rects,o),u},{}),a=p[t.placement],s=a.x,h=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=p}var xD={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:SD};function TD(e){var t=e.state,n=e.name;t.modifiersData[n]=T1({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var E1={name:"popperOffsets",enabled:!0,phase:"read",fn:TD,data:{}};function ED(e){return e==="x"?"y":"x"}function OD(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,p=n.altAxis,a=p===void 0?!1:p,s=n.boundary,h=n.rootBoundary,u=n.altBoundary,l=n.padding,f=n.tether,c=f===void 0?!0:f,d=n.tetherOffset,v=d===void 0?0:d,g=ma(t,{boundary:s,rootBoundary:h,padding:l,altBoundary:u}),m=mr(t.placement),y=Us(t.placement),_=!y,b=jd(m),w=ED(b),S=t.modifiersData.popperOffsets,x=t.rects.reference,P=t.rects.popper,B=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,G=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),K=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Y={x:0,y:0};if(S){if(o){var W,ee=b==="y"?on:an,le=b==="y"?jn:Nn,de=b==="y"?"height":"width",U=S[b],Q=U+g[ee],O=U-g[le],R=c?-P[de]/2:0,F=y===js?x[de]:P[de],D=y===js?-P[de]:-x[de],se=t.elements.arrow,j=c&&se?$d(se):{width:0,height:0},I=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:_1(),X=I[ee],$=I[le],V=Vo(0,x[de],j[de]),J=_?x[de]/2-R-V-X-G.mainAxis:F-V-X-G.mainAxis,ce=_?-x[de]/2+R+V+$+G.mainAxis:D+V+$+G.mainAxis,ve=t.elements.arrow&&Ba(t.elements.arrow),L=ve?b==="y"?ve.clientTop||0:ve.clientLeft||0:0,A=(W=K?.[b])!=null?W:0,M=U+J-A-L,q=U+ce-A,te=Vo(c?Kl(Q,M):Q,U,c?Li(O,q):O);S[b]=te,Y[b]=te-U}if(a){var Z,re=b==="x"?on:an,fe=b==="x"?jn:Nn,me=S[w],he=w==="y"?"height":"width",ae=me+g[re],_e=me-g[fe],xe=[on,an].indexOf(m)!==-1,ue=(Z=K?.[w])!=null?Z:0,Ee=xe?ae:me-x[he]-P[he]-ue+G.altAxis,k=xe?me+x[he]+P[he]-ue-G.altAxis:_e,C=c&&xe?eD(Ee,me,k):Vo(c?Ee:ae,me,c?k:_e);S[w]=C,Y[w]=C-me}t.modifiersData[r]=Y}}var kD={name:"preventOverflow",enabled:!0,phase:"main",fn:OD,requiresIfExists:["offset"]};function PD(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function AD(e){return e===ir(e)||!Mn(e)?Nd(e):PD(e)}function ID(e){var t=e.getBoundingClientRect(),n=zs(t.width)/e.offsetWidth||1,r=zs(t.height)/e.offsetHeight||1;return n!==1||r!==1}function RD(e,t,n){n===void 0&&(n=!1);var r=Mn(t),i=Mn(t)&&ID(t),o=yi(t),p=Hs(e,i),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&((Cr(t)!=="body"||Hd(o))&&(a=AD(t)),Mn(t)?(s=Hs(t,!0),s.x+=t.clientLeft,s.y+=t.clientTop):o&&(s.x=zd(o))),{x:p.left+a.scrollLeft-s.x,y:p.top+a.scrollTop-s.y,width:p.width,height:p.height}}function MD(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var p=[].concat(o.requires||[],o.requiresIfExists||[]);p.forEach(function(a){if(!n.has(a)){var s=t.get(a);s&&i(s)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function DD(e){var t=MD(e);return K4.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function FD(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function LD(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var xm={placement:"bottom",modifiers:[],strategy:"absolute"};function Tm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ud(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?xm:i;return function(p,a,s){s===void 0&&(s=o);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},xm,o),modifiersData:{},elements:{reference:p,popper:a},attributes:{},styles:{}},u=[],l=!1,f={state:h,setOptions:function(v){var g=typeof v=="function"?v(h.options):v;d(),h.options=Object.assign({},o,h.options,g),h.scrollParents={reference:Ns(p)?Wo(p):p.contextElement?Wo(p.contextElement):[],popper:Wo(a)};var m=DD(LD([].concat(r,h.options.modifiers)));return h.orderedModifiers=m.filter(function(y){return y.enabled}),c(),f.update()},forceUpdate:function(){if(!l){var v=h.elements,g=v.reference,m=v.popper;if(Tm(g,m)){h.rects={reference:RD(g,Ba(m),h.options.strategy==="fixed"),popper:$d(m)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(P){return h.modifiersData[P.name]=Object.assign({},P.data)});for(var y=0;y<h.orderedModifiers.length;y++){if(h.reset===!0){h.reset=!1,y=-1;continue}var _=h.orderedModifiers[y],b=_.fn,w=_.options,S=w===void 0?{}:w,x=_.name;typeof b=="function"&&(h=b({state:h,options:S,name:x,instance:f})||h)}}}},update:FD(function(){return new Promise(function(v){f.forceUpdate(),v(h)})}),destroy:function(){d(),l=!0}};if(!Tm(p,a))return f;f.setOptions(s).then(function(v){!l&&s.onFirstUpdate&&s.onFirstUpdate(v)});function c(){h.orderedModifiers.forEach(function(v){var g=v.name,m=v.options,y=m===void 0?{}:m,_=v.effect;if(typeof _=="function"){var b=_({state:h,name:g,instance:f,options:y}),w=function(){};u.push(b||w)}})}function d(){u.forEach(function(v){return v()}),u=[]}return f}}Ud();var BD=[S1,E1,C1,m1];Ud({defaultModifiers:BD});var $D=[S1,E1,C1,m1,xD,_D,kD,iD,wD],jD=Ud({defaultModifiers:$D});const ND=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:s})=>{const h=zD(s);Object.assign(p.value,h)},requires:["computeStyles"]},i=ne(()=>{const{onFirstUpdate:s,placement:h,strategy:u,modifiers:l}=E(n);return{onFirstUpdate:s,placement:h||"bottom",strategy:u||"absolute",modifiers:[...l||[],r,{name:"applyStyles",enabled:!1}]}}),o=sn(),p=pe({styles:{popper:{position:E(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return Me(i,s=>{const h=E(o);h&&h.setOptions(s)},{deep:!0}),Me([e,t],([s,h])=>{a(),!(!s||!h)&&(o.value=jD(s,h,E(i)))}),fn(()=>{a()}),{state:ne(()=>{var s;return{...((s=E(o))==null?void 0:s.state)||{}}}),styles:ne(()=>E(p).styles),attributes:ne(()=>E(p).attributes),update:()=>{var s;return(s=E(o))==null?void 0:s.update()},forceUpdate:()=>{var s;return(s=E(o))==null?void 0:s.forceUpdate()},instanceRef:ne(()=>E(o))}};function zD(e){const t=Object.keys(e.elements),n=Xl(t.map(i=>[i,e.styles[i]||{}])),r=Xl(t.map(i=>[i,e.attributes[i]]));return{styles:n,attributes:r}}function Em(){let e;const t=(r,i)=>{n(),e=window.setTimeout(r,i)},n=()=>window.clearTimeout(e);return Dc(()=>n()),{registerTimeout:t,cancelTimeout:n}}const Om={prefix:Math.floor(Math.random()*1e4),current:0},HD=Symbol("elIdInjection"),O1=()=>Dt()?Le(HD,Om):Om,Vc=e=>{const t=O1(),n=Fd();return ne(()=>E(e)||`${n.value}-id-${t.prefix}-${t.current++}`)};let bs=[];const km=e=>{const t=e;t.key===et.esc&&bs.forEach(n=>n(t))},UD=e=>{lt(()=>{bs.length===0&&document.addEventListener("keydown",km),mt&&bs.push(e)}),fn(()=>{bs=bs.filter(t=>t!==e),bs.length===0&&mt&&document.removeEventListener("keydown",km)})};let Pm;const k1=()=>{const e=Fd(),t=O1(),n=ne(()=>`${e.value}-popper-container-${t.prefix}`),r=ne(()=>`#${n.value}`);return{id:n,selector:r}},VD=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},WD=()=>{const{id:e,selector:t}=k1();return O_(()=>{mt&&!Pm&&!document.body.querySelector(t.value)&&(Pm=VD(e.value))}),{id:e,selector:t}},YD=Qe({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),GD=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:i})=>{const{registerTimeout:o}=Em(),{registerTimeout:p,cancelTimeout:a}=Em();return{onOpen:u=>{o(()=>{r(u);const l=E(n);rt(l)&&l>0&&p(()=>{i(u)},l)},E(e))},onClose:u=>{a(),o(()=>{i(u)},E(t))}}},P1=Symbol("elForwardRef"),XD=e=>{yt(P1,{setForwardRef:n=>{e.value=n}})},KD=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),Am=pe(0),A1=2e3,I1=Symbol("zIndexContextKey"),Vd=e=>{const t=e||(Dt()?Le(I1,void 0):void 0),n=ne(()=>{const o=E(t);return rt(o)?o:A1}),r=ne(()=>n.value+Am.value);return{initialZIndex:n,currentZIndex:r,nextZIndex:()=>(Am.value++,r.value)}};function qD(e){const t=pe();function n(){if(e.value==null)return;const{selectionStart:i,selectionEnd:o,value:p}=e.value;if(i==null||o==null)return;const a=p.slice(0,Math.max(0,i)),s=p.slice(Math.max(0,o));t.value={selectionStart:i,selectionEnd:o,value:p,beforeTxt:a,afterTxt:s}}function r(){if(e.value==null||t.value==null)return;const{value:i}=e.value,{beforeTxt:o,afterTxt:p,selectionStart:a}=t.value;if(o==null||p==null||a==null)return;let s=i.length;if(i.endsWith(p))s=i.length-p.length;else if(i.startsWith(o))s=o.length;else{const h=o[a-1],u=i.indexOf(h,a-1);u!==-1&&(s=u+1)}e.value.setSelectionRange(s,s)}return[n,r]}const ya=zc({type:String,values:E4,required:!1}),R1=Symbol("size"),JD=()=>{const e=Le(R1,{});return ne(()=>E(e.size)||"")};function ZD(e,{afterFocus:t,beforeBlur:n,afterBlur:r}={}){const i=Dt(),{emit:o}=i,p=sn(),a=pe(!1),s=l=>{a.value||(a.value=!0,o("focus",l),t?.())},h=l=>{var f;$e(n)&&n(l)||l.relatedTarget&&((f=p.value)!=null&&f.contains(l.relatedTarget))||(a.value=!1,o("blur",l),r?.())},u=()=>{var l;(l=e.value)==null||l.focus()};return Me(p,l=>{l&&l.setAttribute("tabindex","-1")}),Gt(p,"click",u),{wrapperRef:p,isFocused:a,handleFocus:s,handleBlur:h}}const M1=Symbol(),ql=pe();function Wd(e,t=void 0){const n=Dt()?Le(M1,ql):ql;return e?ne(()=>{var r,i;return(i=(r=n.value)==null?void 0:r[e])!=null?i:t}):n}function QD(e,t){const n=Wd(),r=it(e,ne(()=>{var a;return((a=n.value)==null?void 0:a.namespace)||Tl})),i=Qi(ne(()=>{var a;return(a=n.value)==null?void 0:a.locale})),o=Vd(ne(()=>{var a;return((a=n.value)==null?void 0:a.zIndex)||A1})),p=ne(()=>{var a;return E(t)||((a=n.value)==null?void 0:a.size)||""});return e5(ne(()=>E(n)||{})),{ns:r,locale:i,zIndex:o,size:p}}const e5=(e,t,n=!1)=>{var r;const i=!!Dt(),o=i?Wd():void 0,p=(r=t?.provide)!=null?r:i?yt:void 0;if(!p)return;const a=ne(()=>{const s=E(e);return o?.value?t5(o.value,s):s});return p(M1,a),p(h1,ne(()=>a.value.locale)),p(d1,ne(()=>a.value.namespace)),p(I1,ne(()=>a.value.zIndex)),p(R1,{size:ne(()=>a.value.size||"")}),(n||!ql.value)&&(ql.value=a.value),a},t5=(e,t)=>{var n;const r=[...new Set([...nh(e),...nh(t)])],i={};for(const o of r)i[o]=(n=t[o])!=null?n:e[o];return i},Im={};var Ge=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const n5=Qe({size:{type:Ae([Number,String])},color:{type:String}}),r5=ke({name:"ElIcon",inheritAttrs:!1}),i5=ke({...r5,props:n5,setup(e){const t=e,n=it("icon"),r=ne(()=>{const{size:i,color:o}=t;return!i&&!o?{}:{fontSize:Ro(i)?void 0:ga(i),"--color":o}});return(i,o)=>(z(),ie("i",Ot({class:E(n).b(),style:E(r)},i.$attrs),[Ie(i.$slots,"default")],16))}});var s5=Ge(i5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const Ke=Zt(s5),Yd=Symbol("formContextKey"),Jl=Symbol("formItemContextKey"),$a=(e,t={})=>{const n=pe(void 0),r=t.prop?n:g1("size"),i=t.global?n:JD(),o=t.form?{size:void 0}:Le(Yd,void 0),p=t.formItem?{size:void 0}:Le(Jl,void 0);return ne(()=>r.value||E(e)||p?.size||o?.size||i.value||"")},_i=e=>{const t=g1("disabled"),n=Le(Yd,void 0);return ne(()=>t.value||E(e)||n?.disabled||!1)},Wc=()=>{const e=Le(Yd,void 0),t=Le(Jl,void 0);return{form:e,formItem:t}},D1=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=pe(!1)),r||(r=pe(!1));const i=pe();let o;const p=ne(()=>{var a;return!!(!e.label&&t&&t.inputIds&&((a=t.inputIds)==null?void 0:a.length)<=1)});return lt(()=>{o=Me([Ht(e,"id"),n],([a,s])=>{const h=a??(s?void 0:Vc().value);h!==i.value&&(t?.removeInputId&&(i.value&&t.removeInputId(i.value),!r?.value&&!s&&h&&t.addInputId(h)),i.value=h)},{immediate:!0})}),Aa(()=>{o&&o(),t?.removeInputId&&i.value&&t.removeInputId(i.value)}),{isLabeledByFormItem:p,inputId:i}};let Wn;const o5=`
  height:0 !important;
  visibility:hidden !important;
  ${tO()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,a5=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function l5(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),i=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:a5.map(p=>`${p}:${t.getPropertyValue(p)}`).join(";"),paddingSize:r,borderSize:i,boxSizing:n}}function Rm(e,t=1,n){var r;Wn||(Wn=document.createElement("textarea"),document.body.appendChild(Wn));const{paddingSize:i,borderSize:o,boxSizing:p,contextStyle:a}=l5(e);Wn.setAttribute("style",`${a};${o5}`),Wn.value=e.value||e.placeholder||"";let s=Wn.scrollHeight;const h={};p==="border-box"?s=s+o:p==="content-box"&&(s=s-i),Wn.value="";const u=Wn.scrollHeight-i;if(rt(t)){let l=u*t;p==="border-box"&&(l=l+i+o),s=Math.max(l,s),h.minHeight=`${l}px`}if(rt(n)){let l=u*n;p==="border-box"&&(l=l+i+o),s=Math.min(l,s)}return h.height=`${s}px`,(r=Wn.parentNode)==null||r.removeChild(Wn),Wn=void 0,h}const c5=Qe({id:{type:String,default:void 0},size:ya,disabled:Boolean,modelValue:{type:Ae([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ae([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:$s},prefixIcon:{type:$s},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ae([Object,Array,String]),default:()=>Ni({})},autofocus:{type:Boolean,default:!1}}),u5={[mn]:e=>Ye(e),input:e=>Ye(e),change:e=>Ye(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},f5=["role"],h5=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],d5=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],p5=ke({name:"ElInput",inheritAttrs:!1}),g5=ke({...p5,props:c5,emits:u5,setup(e,{expose:t,emit:n}){const r=e,i=ad(),o=I_(),p=ne(()=>{const ue={};return r.containerRole==="combobox"&&(ue["aria-haspopup"]=i["aria-haspopup"],ue["aria-owns"]=i["aria-owns"],ue["aria-expanded"]=i["aria-expanded"]),ue}),a=ne(()=>[r.type==="textarea"?g.b():v.b(),v.m(c.value),v.is("disabled",d.value),v.is("exceed",j.value),{[v.b("group")]:o.prepend||o.append,[v.bm("group","append")]:o.append,[v.bm("group","prepend")]:o.prepend,[v.m("prefix")]:o.prefix||r.prefixIcon,[v.m("suffix")]:o.suffix||r.suffixIcon||r.clearable||r.showPassword,[v.bm("suffix","password-clear")]:R.value&&F.value},i.class]),s=ne(()=>[v.e("wrapper"),v.is("focus",G.value)]),h=f1({excludeKeys:ne(()=>Object.keys(p.value))}),{form:u,formItem:l}=Wc(),{inputId:f}=D1(r,{formItemContext:l}),c=$a(),d=_i(),v=it("input"),g=it("textarea"),m=sn(),y=sn(),_=pe(!1),b=pe(!1),w=pe(!1),S=pe(),x=sn(r.inputStyle),P=ne(()=>m.value||y.value),{wrapperRef:B,isFocused:G,handleFocus:K,handleBlur:Y}=ZD(P,{afterBlur(){var ue;r.validateEvent&&((ue=l?.validate)==null||ue.call(l,"blur").catch(Ee=>void 0))}}),W=ne(()=>{var ue;return(ue=u?.statusIcon)!=null?ue:!1}),ee=ne(()=>l?.validateState||""),le=ne(()=>ee.value&&S4[ee.value]),de=ne(()=>w.value?i4:n3),U=ne(()=>[i.style,r.inputStyle]),Q=ne(()=>[r.inputStyle,x.value,{resize:r.resize}]),O=ne(()=>Zn(r.modelValue)?"":String(r.modelValue)),R=ne(()=>r.clearable&&!d.value&&!r.readonly&&!!O.value&&(G.value||_.value)),F=ne(()=>r.showPassword&&!d.value&&!r.readonly&&!!O.value&&(!!O.value||G.value)),D=ne(()=>r.showWordLimit&&!!h.value.maxlength&&(r.type==="text"||r.type==="textarea")&&!d.value&&!r.readonly&&!r.showPassword),se=ne(()=>O.value.length),j=ne(()=>!!D.value&&se.value>Number(h.value.maxlength)),I=ne(()=>!!o.suffix||!!r.suffixIcon||R.value||r.showPassword||D.value||!!ee.value&&W.value),[X,$]=qD(m);_d(y,ue=>{if(ce(),!D.value||r.resize!=="both")return;const Ee=ue[0],{width:k}=Ee.contentRect;S.value={right:`calc(100% - ${k+15+6}px)`}});const V=()=>{const{type:ue,autosize:Ee}=r;if(!(!mt||ue!=="textarea"||!y.value))if(Ee){const k=Ze(Ee)?Ee.minRows:void 0,C=Ze(Ee)?Ee.maxRows:void 0,T=Rm(y.value,k,C);x.value={overflowY:"hidden",...T},ct(()=>{y.value.offsetHeight,x.value=T})}else x.value={minHeight:Rm(y.value).minHeight}},ce=(ue=>{let Ee=!1;return()=>{var k;if(Ee||!r.autosize)return;((k=y.value)==null?void 0:k.offsetParent)===null||(ue(),Ee=!0)}})(V),ve=()=>{const ue=P.value,Ee=r.formatter?r.formatter(O.value):O.value;!ue||ue.value===Ee||(ue.value=Ee)},L=async ue=>{X();let{value:Ee}=ue.target;if(r.formatter&&(Ee=r.parser?r.parser(Ee):Ee),!b.value){if(Ee===O.value){ve();return}n(mn,Ee),n("input",Ee),await ct(),ve(),$()}},A=ue=>{n("change",ue.target.value)},M=ue=>{n("compositionstart",ue),b.value=!0},q=ue=>{var Ee;n("compositionupdate",ue);const k=(Ee=ue.target)==null?void 0:Ee.value,C=k[k.length-1]||"";b.value=!O4(C)},te=ue=>{n("compositionend",ue),b.value&&(b.value=!1,L(ue))},Z=()=>{w.value=!w.value,re()},re=async()=>{var ue;await ct(),(ue=P.value)==null||ue.focus()},fe=()=>{var ue;return(ue=P.value)==null?void 0:ue.blur()},me=ue=>{_.value=!1,n("mouseleave",ue)},he=ue=>{_.value=!0,n("mouseenter",ue)},ae=ue=>{n("keydown",ue)},_e=()=>{var ue;(ue=P.value)==null||ue.select()},xe=()=>{n(mn,""),n("change",""),n("clear"),n("input","")};return Me(()=>r.modelValue,()=>{var ue;ct(()=>V()),r.validateEvent&&((ue=l?.validate)==null||ue.call(l,"change").catch(Ee=>void 0))}),Me(O,()=>ve()),Me(()=>r.type,async()=>{await ct(),ve(),V()}),lt(()=>{!r.formatter&&r.parser,ve(),ct(V)}),t({input:m,textarea:y,ref:P,textareaStyle:Q,autosize:Ht(r,"autosize"),focus:re,blur:fe,select:_e,clear:xe,resizeTextarea:V}),(ue,Ee)=>ut((z(),ie("div",Ot(E(p),{class:E(a),style:E(U),role:ue.containerRole,onMouseenter:he,onMouseleave:me}),[Te(" input "),ue.type!=="textarea"?(z(),ie(Re,{key:0},[Te(" prepend slot "),ue.$slots.prepend?(z(),ie("div",{key:0,class:be(E(v).be("group","prepend"))},[Ie(ue.$slots,"prepend")],2)):Te("v-if",!0),N("div",{ref_key:"wrapperRef",ref:B,class:be(E(s))},[Te(" prefix slot "),ue.$slots.prefix||ue.prefixIcon?(z(),ie("span",{key:0,class:be(E(v).e("prefix"))},[N("span",{class:be(E(v).e("prefix-inner"))},[Ie(ue.$slots,"prefix"),ue.prefixIcon?(z(),Oe(E(Ke),{key:0,class:be(E(v).e("icon"))},{default:Ce(()=>[(z(),Oe(nn(ue.prefixIcon)))]),_:1},8,["class"])):Te("v-if",!0)],2)],2)):Te("v-if",!0),N("input",Ot({id:E(f),ref_key:"input",ref:m,class:E(v).e("inner")},E(h),{type:ue.showPassword?w.value?"text":"password":ue.type,disabled:E(d),formatter:ue.formatter,parser:ue.parser,readonly:ue.readonly,autocomplete:ue.autocomplete,tabindex:ue.tabindex,"aria-label":ue.label,placeholder:ue.placeholder,style:ue.inputStyle,form:r.form,autofocus:r.autofocus,onCompositionstart:M,onCompositionupdate:q,onCompositionend:te,onInput:L,onFocus:Ee[0]||(Ee[0]=(...k)=>E(K)&&E(K)(...k)),onBlur:Ee[1]||(Ee[1]=(...k)=>E(Y)&&E(Y)(...k)),onChange:A,onKeydown:ae}),null,16,h5),Te(" suffix slot "),E(I)?(z(),ie("span",{key:1,class:be(E(v).e("suffix"))},[N("span",{class:be(E(v).e("suffix-inner"))},[!E(R)||!E(F)||!E(D)?(z(),ie(Re,{key:0},[Ie(ue.$slots,"suffix"),ue.suffixIcon?(z(),Oe(E(Ke),{key:0,class:be(E(v).e("icon"))},{default:Ce(()=>[(z(),Oe(nn(ue.suffixIcon)))]),_:1},8,["class"])):Te("v-if",!0)],64)):Te("v-if",!0),E(R)?(z(),Oe(E(Ke),{key:1,class:be([E(v).e("icon"),E(v).e("clear")]),onMousedown:Lt(E(nt),["prevent"]),onClick:xe},{default:Ce(()=>[ye(E(Rd))]),_:1},8,["class","onMousedown"])):Te("v-if",!0),E(F)?(z(),Oe(E(Ke),{key:2,class:be([E(v).e("icon"),E(v).e("password")]),onClick:Z},{default:Ce(()=>[(z(),Oe(nn(E(de))))]),_:1},8,["class"])):Te("v-if",!0),E(D)?(z(),ie("span",{key:3,class:be(E(v).e("count"))},[N("span",{class:be(E(v).e("count-inner"))},We(E(se))+" / "+We(E(h).maxlength),3)],2)):Te("v-if",!0),E(ee)&&E(le)&&E(W)?(z(),Oe(E(Ke),{key:4,class:be([E(v).e("icon"),E(v).e("validateIcon"),E(v).is("loading",E(ee)==="validating")])},{default:Ce(()=>[(z(),Oe(nn(E(le))))]),_:1},8,["class"])):Te("v-if",!0)],2)],2)):Te("v-if",!0)],2),Te(" append slot "),ue.$slots.append?(z(),ie("div",{key:1,class:be(E(v).be("group","append"))},[Ie(ue.$slots,"append")],2)):Te("v-if",!0)],64)):(z(),ie(Re,{key:1},[Te(" textarea "),N("textarea",Ot({id:E(f),ref_key:"textarea",ref:y,class:E(g).e("inner")},E(h),{tabindex:ue.tabindex,disabled:E(d),readonly:ue.readonly,autocomplete:ue.autocomplete,style:E(Q),"aria-label":ue.label,placeholder:ue.placeholder,form:r.form,autofocus:r.autofocus,onCompositionstart:M,onCompositionupdate:q,onCompositionend:te,onInput:L,onFocus:Ee[2]||(Ee[2]=(...k)=>E(K)&&E(K)(...k)),onBlur:Ee[3]||(Ee[3]=(...k)=>E(Y)&&E(Y)(...k)),onChange:A,onKeydown:ae}),null,16,d5),E(D)?(z(),ie("span",{key:0,style:je(S.value),class:be(E(v).e("count"))},We(E(se))+" / "+We(E(h).maxlength),7)):Te("v-if",!0)],64))],16,f5)),[[_t,ue.type!=="hidden"]])}});var v5=Ge(g5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const ih=Zt(v5),Cs=4,m5={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},y5=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),F1=Symbol("scrollbarContextKey"),_5=Qe({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),b5="Thumb",w5=ke({__name:"thumb",props:_5,setup(e){const t=e,n=Le(F1),r=it("scrollbar");n||co(b5,"can not inject scrollbar context");const i=pe(),o=pe(),p=pe({}),a=pe(!1);let s=!1,h=!1,u=mt?document.onselectstart:null;const l=ne(()=>m5[t.vertical?"vertical":"horizontal"]),f=ne(()=>y5({size:t.size,move:t.move,bar:l.value})),c=ne(()=>i.value[l.value.offset]**2/n.wrapElement[l.value.scrollSize]/t.ratio/o.value[l.value.offset]),d=S=>{var x;if(S.stopPropagation(),S.ctrlKey||[1,2].includes(S.button))return;(x=window.getSelection())==null||x.removeAllRanges(),g(S);const P=S.currentTarget;P&&(p.value[l.value.axis]=P[l.value.offset]-(S[l.value.client]-P.getBoundingClientRect()[l.value.direction]))},v=S=>{if(!o.value||!i.value||!n.wrapElement)return;const x=Math.abs(S.target.getBoundingClientRect()[l.value.direction]-S[l.value.client]),P=o.value[l.value.offset]/2,B=(x-P)*100*c.value/i.value[l.value.offset];n.wrapElement[l.value.scroll]=B*n.wrapElement[l.value.scrollSize]/100},g=S=>{S.stopImmediatePropagation(),s=!0,document.addEventListener("mousemove",m),document.addEventListener("mouseup",y),u=document.onselectstart,document.onselectstart=()=>!1},m=S=>{if(!i.value||!o.value||s===!1)return;const x=p.value[l.value.axis];if(!x)return;const P=(i.value.getBoundingClientRect()[l.value.direction]-S[l.value.client])*-1,B=o.value[l.value.offset]-x,G=(P-B)*100*c.value/i.value[l.value.offset];n.wrapElement[l.value.scroll]=G*n.wrapElement[l.value.scrollSize]/100},y=()=>{s=!1,p.value[l.value.axis]=0,document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",y),w(),h&&(a.value=!1)},_=()=>{h=!1,a.value=!!t.size},b=()=>{h=!0,a.value=s};fn(()=>{w(),document.removeEventListener("mouseup",y)});const w=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return Gt(Ht(n,"scrollbarElement"),"mousemove",_),Gt(Ht(n,"scrollbarElement"),"mouseleave",b),(S,x)=>(z(),Oe(Tr,{name:E(r).b("fade"),persisted:""},{default:Ce(()=>[ut(N("div",{ref_key:"instance",ref:i,class:be([E(r).e("bar"),E(r).is(E(l).key)]),onMousedown:v},[N("div",{ref_key:"thumb",ref:o,class:be(E(r).e("thumb")),style:je(E(f)),onMousedown:d},null,38)],34),[[_t,S.always||a.value]])]),_:1},8,["name"]))}});var Mm=Ge(w5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const C5=Qe({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),S5=ke({__name:"bar",props:C5,setup(e,{expose:t}){const n=e,r=pe(0),i=pe(0);return t({handleScroll:p=>{if(p){const a=p.offsetHeight-Cs,s=p.offsetWidth-Cs;i.value=p.scrollTop*100/a*n.ratioY,r.value=p.scrollLeft*100/s*n.ratioX}}}),(p,a)=>(z(),ie(Re,null,[ye(Mm,{move:r.value,ratio:p.ratioX,size:p.width,always:p.always},null,8,["move","ratio","size","always"]),ye(Mm,{move:i.value,ratio:p.ratioY,size:p.height,vertical:"",always:p.always},null,8,["move","ratio","size","always"])],64))}});var x5=Ge(S5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const T5=Qe({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Ae([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),E5={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(rt)},O5="ElScrollbar",k5=ke({name:O5}),P5=ke({...k5,props:T5,emits:E5,setup(e,{expose:t,emit:n}){const r=e,i=it("scrollbar");let o,p;const a=pe(),s=pe(),h=pe(),u=pe("0"),l=pe("0"),f=pe(),c=pe(1),d=pe(1),v=ne(()=>{const x={};return r.height&&(x.height=ga(r.height)),r.maxHeight&&(x.maxHeight=ga(r.maxHeight)),[r.wrapStyle,x]}),g=ne(()=>[r.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!r.native}]),m=ne(()=>[i.e("view"),r.viewClass]),y=()=>{var x;s.value&&((x=f.value)==null||x.handleScroll(s.value),n("scroll",{scrollTop:s.value.scrollTop,scrollLeft:s.value.scrollLeft}))};function _(x,P){Ze(x)?s.value.scrollTo(x):rt(x)&&rt(P)&&s.value.scrollTo(x,P)}const b=x=>{rt(x)&&(s.value.scrollTop=x)},w=x=>{rt(x)&&(s.value.scrollLeft=x)},S=()=>{if(!s.value)return;const x=s.value.offsetHeight-Cs,P=s.value.offsetWidth-Cs,B=x**2/s.value.scrollHeight,G=P**2/s.value.scrollWidth,K=Math.max(B,r.minSize),Y=Math.max(G,r.minSize);c.value=B/(x-B)/(K/(x-K)),d.value=G/(P-G)/(Y/(P-Y)),l.value=K+Cs<x?`${K}px`:"",u.value=Y+Cs<P?`${Y}px`:""};return Me(()=>r.noresize,x=>{x?(o?.(),p?.()):({stop:o}=_d(h,S),p=Gt("resize",S))},{immediate:!0}),Me(()=>[r.maxHeight,r.height],()=>{r.native||ct(()=>{var x;S(),s.value&&((x=f.value)==null||x.handleScroll(s.value))})}),yt(F1,St({scrollbarElement:a,wrapElement:s})),lt(()=>{r.native||ct(()=>{S()})}),Ec(()=>S()),t({wrapRef:s,update:S,scrollTo:_,setScrollTop:b,setScrollLeft:w,handleScroll:y}),(x,P)=>(z(),ie("div",{ref_key:"scrollbarRef",ref:a,class:be(E(i).b())},[N("div",{ref_key:"wrapRef",ref:s,class:be(E(g)),style:je(E(v)),onScroll:y},[(z(),Oe(nn(x.tag),{id:x.id,ref_key:"resizeRef",ref:h,class:be(E(m)),style:je(x.viewStyle),role:x.role,"aria-label":x.ariaLabel,"aria-orientation":x.ariaOrientation},{default:Ce(()=>[Ie(x.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),x.native?Te("v-if",!0):(z(),Oe(x5,{key:0,ref_key:"barRef",ref:f,height:l.value,width:u.value,always:x.always,"ratio-x":d.value,"ratio-y":c.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var A5=Ge(P5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const I5=Zt(A5),Gd=Symbol("popper"),L1=Symbol("popperContent"),R5=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],B1=Qe({role:{type:String,values:R5,default:"tooltip"}}),M5=ke({name:"ElPopper",inheritAttrs:!1}),D5=ke({...M5,props:B1,setup(e,{expose:t}){const n=e,r=pe(),i=pe(),o=pe(),p=pe(),a=ne(()=>n.role),s={triggerRef:r,popperInstanceRef:i,contentRef:o,referenceRef:p,role:a};return t(s),yt(Gd,s),(h,u)=>Ie(h.$slots,"default")}});var F5=Ge(D5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const $1=Qe({arrowOffset:{type:Number,default:5}}),L5=ke({name:"ElPopperArrow",inheritAttrs:!1}),B5=ke({...L5,props:$1,setup(e,{expose:t}){const n=e,r=it("popper"),{arrowOffset:i,arrowRef:o,arrowStyle:p}=Le(L1,void 0);return Me(()=>n.arrowOffset,a=>{i.value=a}),fn(()=>{o.value=void 0}),t({arrowRef:o}),(a,s)=>(z(),ie("span",{ref_key:"arrowRef",ref:o,class:be(E(r).e("arrow")),style:je(E(p)),"data-popper-arrow":""},null,6))}});var $5=Ge(B5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const j5="ElOnlyChild",j1=ke({name:j5,setup(e,{slots:t,attrs:n}){var r;const i=Le(P1),o=KD((r=i?.setForwardRef)!=null?r:nt);return()=>{var p;const a=(p=t.default)==null?void 0:p.call(t,n);if(!a||a.length>1)return null;const s=N1(a);return s?ut(Hr(s,n),[[o]]):null}}});function N1(e){if(!e)return null;const t=e;for(const n of t){if(Ze(n))switch(n.type){case bn:continue;case oo:case"svg":return Dm(n);case Re:return N1(n.children);default:return n}return Dm(n)}return null}function Dm(e){const t=it("only-child");return ye("span",{class:t.e("content")},[e])}const z1=Qe({virtualRef:{type:Ae(Object)},virtualTriggering:Boolean,onMouseenter:{type:Ae(Function)},onMouseleave:{type:Ae(Function)},onClick:{type:Ae(Function)},onKeydown:{type:Ae(Function)},onFocus:{type:Ae(Function)},onBlur:{type:Ae(Function)},onContextmenu:{type:Ae(Function)},id:String,open:Boolean}),N5=ke({name:"ElPopperTrigger",inheritAttrs:!1}),z5=ke({...N5,props:z1,setup(e,{expose:t}){const n=e,{role:r,triggerRef:i}=Le(Gd,void 0);XD(i);const o=ne(()=>a.value?n.id:void 0),p=ne(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),a=ne(()=>{if(r&&r.value!=="tooltip")return r.value}),s=ne(()=>a.value?`${n.open}`:void 0);let h;return lt(()=>{Me(()=>n.virtualRef,u=>{u&&(i.value=li(u))},{immediate:!0}),Me(i,(u,l)=>{h?.(),h=void 0,Bs(u)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var c;const d=n[f];d&&(u.addEventListener(f.slice(2).toLowerCase(),d),(c=l?.removeEventListener)==null||c.call(l,f.slice(2).toLowerCase(),d))}),h=Me([o,p,a,s],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((c,d)=>{Zn(f[d])?u.removeAttribute(c):u.setAttribute(c,f[d])})},{immediate:!0})),Bs(l)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>l.removeAttribute(f))},{immediate:!0})}),fn(()=>{h?.(),h=void 0}),t({triggerRef:i}),(u,l)=>u.virtualTriggering?Te("v-if",!0):(z(),Oe(E(j1),Ot({key:0},u.$attrs,{"aria-controls":E(o),"aria-describedby":E(p),"aria-expanded":E(s),"aria-haspopup":E(a)}),{default:Ce(()=>[Ie(u.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var H5=Ge(z5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const Mu="focus-trap.focus-after-trapped",Du="focus-trap.focus-after-released",U5="focus-trap.focusout-prevented",Fm={cancelable:!0,bubbles:!1},V5={cancelable:!0,bubbles:!1},Lm="focusAfterTrapped",Bm="focusAfterReleased",H1=Symbol("elFocusTrap"),Xd=pe(),Yc=pe(0),Kd=pe(0);let sl=0;const U1=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},$m=(e,t)=>{for(const n of e)if(!W5(n,t))return n},W5=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Y5=e=>{const t=U1(e),n=$m(t,e),r=$m(t.reverse(),e);return[n,r]},G5=e=>e instanceof HTMLInputElement&&"select"in e,ii=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),Kd.value=window.performance.now(),e!==n&&G5(e)&&t&&e.select()}};function jm(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const X5=()=>{let e=[];return{push:r=>{const i=e[0];i&&r!==i&&i.pause(),e=jm(e,r),e.unshift(r)},remove:r=>{var i,o;e=jm(e,r),(o=(i=e[0])==null?void 0:i.resume)==null||o.call(i)}}},K5=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(ii(r,t),document.activeElement!==n)return},Nm=X5(),q5=()=>Yc.value>Kd.value,ol=()=>{Xd.value="pointer",Yc.value=window.performance.now()},zm=()=>{Xd.value="keyboard",Yc.value=window.performance.now()},J5=()=>(lt(()=>{sl===0&&(document.addEventListener("mousedown",ol),document.addEventListener("touchstart",ol),document.addEventListener("keydown",zm)),sl++}),fn(()=>{sl--,sl<=0&&(document.removeEventListener("mousedown",ol),document.removeEventListener("touchstart",ol),document.removeEventListener("keydown",zm))}),{focusReason:Xd,lastUserFocusTimestamp:Yc,lastAutomatedFocusTimestamp:Kd}),al=e=>new CustomEvent(U5,{...V5,detail:e}),Z5=ke({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Lm,Bm,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=pe();let r,i;const{focusReason:o}=J5();UD(d=>{e.trapped&&!p.paused&&t("release-requested",d)});const p={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=d=>{if(!e.loop&&!e.trapped||p.paused)return;const{key:v,altKey:g,ctrlKey:m,metaKey:y,currentTarget:_,shiftKey:b}=d,{loop:w}=e,S=v===et.tab&&!g&&!m&&!y,x=document.activeElement;if(S&&x){const P=_,[B,G]=Y5(P);if(B&&G){if(!b&&x===G){const Y=al({focusReason:o.value});t("focusout-prevented",Y),Y.defaultPrevented||(d.preventDefault(),w&&ii(B,!0))}else if(b&&[B,P].includes(x)){const Y=al({focusReason:o.value});t("focusout-prevented",Y),Y.defaultPrevented||(d.preventDefault(),w&&ii(G,!0))}}else if(x===P){const Y=al({focusReason:o.value});t("focusout-prevented",Y),Y.defaultPrevented||d.preventDefault()}}};yt(H1,{focusTrapRef:n,onKeydown:a}),Me(()=>e.focusTrapEl,d=>{d&&(n.value=d)},{immediate:!0}),Me([n],([d],[v])=>{d&&(d.addEventListener("keydown",a),d.addEventListener("focusin",u),d.addEventListener("focusout",l)),v&&(v.removeEventListener("keydown",a),v.removeEventListener("focusin",u),v.removeEventListener("focusout",l))});const s=d=>{t(Lm,d)},h=d=>t(Bm,d),u=d=>{const v=E(n);if(!v)return;const g=d.target,m=d.relatedTarget,y=g&&v.contains(g);e.trapped||m&&v.contains(m)||(r=m),y&&t("focusin",d),!p.paused&&e.trapped&&(y?i=g:ii(i,!0))},l=d=>{const v=E(n);if(!(p.paused||!v))if(e.trapped){const g=d.relatedTarget;!Zn(g)&&!v.contains(g)&&setTimeout(()=>{if(!p.paused&&e.trapped){const m=al({focusReason:o.value});t("focusout-prevented",m),m.defaultPrevented||ii(i,!0)}},0)}else{const g=d.target;g&&v.contains(g)||t("focusout",d)}};async function f(){await ct();const d=E(n);if(d){Nm.push(p);const v=d.contains(document.activeElement)?r:document.activeElement;if(r=v,!d.contains(v)){const m=new Event(Mu,Fm);d.addEventListener(Mu,s),d.dispatchEvent(m),m.defaultPrevented||ct(()=>{let y=e.focusStartEl;Ye(y)||(ii(y),document.activeElement!==y&&(y="first")),y==="first"&&K5(U1(d),!0),(document.activeElement===v||y==="container")&&ii(d)})}}}function c(){const d=E(n);if(d){d.removeEventListener(Mu,s);const v=new CustomEvent(Du,{...Fm,detail:{focusReason:o.value}});d.addEventListener(Du,h),d.dispatchEvent(v),!v.defaultPrevented&&(o.value=="keyboard"||!q5()||d.contains(document.activeElement))&&ii(r??document.body),d.removeEventListener(Du,h),Nm.remove(p)}}return lt(()=>{e.trapped&&f(),Me(()=>e.trapped,d=>{d?f():c()})}),fn(()=>{e.trapped&&c()}),{onKeydown:a}}});function Q5(e,t,n,r,i,o){return Ie(e.$slots,"default",{handleKeydown:e.onKeydown})}var eF=Ge(Z5,[["render",Q5],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const tF=["fixed","absolute"],nF=Qe({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Ae(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:La,default:"bottom"},popperOptions:{type:Ae(Object),default:()=>({})},strategy:{type:String,values:tF,default:"absolute"}}),V1=Qe({...nF,id:String,style:{type:Ae([String,Array,Object])},className:{type:Ae([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Ae([String,Array,Object])},popperStyle:{type:Ae([String,Array,Object])},referenceEl:{type:Ae(Object)},triggerTargetEl:{type:Ae(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),rF={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},iF=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:i}=e,o={placement:n,strategy:r,...i,modifiers:[...oF(e),...t]};return aF(o,i?.modifiers),o},sF=e=>{if(mt)return li(e)};function oF(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function aF(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const lF=0,cF=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:i}=Le(Gd,void 0),o=pe(),p=pe(),a=ne(()=>({name:"eventListeners",enabled:!!e.visible})),s=ne(()=>{var m;const y=E(o),_=(m=E(p))!=null?m:lF;return{name:"arrow",enabled:!PR(y),options:{element:y,padding:_}}}),h=ne(()=>({onFirstUpdate:()=>{d()},...iF(e,[E(s),E(a)])})),u=ne(()=>sF(e.referenceEl)||E(r)),{attributes:l,state:f,styles:c,update:d,forceUpdate:v,instanceRef:g}=ND(u,n,h);return Me(g,m=>t.value=m),lt(()=>{Me(()=>{var m;return(m=E(u))==null?void 0:m.getBoundingClientRect()},()=>{d()})}),{attributes:l,arrowRef:o,contentRef:n,instanceRef:g,state:f,styles:c,role:i,forceUpdate:v,update:d}},uF=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:i}=Vd(),o=it("popper"),p=ne(()=>E(t).popper),a=pe(rt(e.zIndex)?e.zIndex:i()),s=ne(()=>[o.b(),o.is("pure",e.pure),o.is(e.effect),e.popperClass]),h=ne(()=>[{zIndex:E(a)},E(n).popper,e.popperStyle||{}]),u=ne(()=>r.value==="dialog"?"false":void 0),l=ne(()=>E(n).arrow||{});return{ariaModal:u,arrowStyle:l,contentAttrs:p,contentClass:s,contentStyle:h,contentZIndex:a,updateZIndex:()=>{a.value=rt(e.zIndex)?e.zIndex:i()}}},fF=(e,t)=>{const n=pe(!1),r=pe();return{focusStartRef:r,trapped:n,onFocusAfterReleased:h=>{var u;((u=h.detail)==null?void 0:u.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:h=>{e.visible&&!n.value&&(h.target&&(r.value=h.target),n.value=!0)},onFocusoutPrevented:h=>{e.trapping||(h.detail.focusReason==="pointer"&&h.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},hF=ke({name:"ElPopperContent"}),dF=ke({...hF,props:V1,emits:rF,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:i,trapped:o,onFocusAfterReleased:p,onFocusAfterTrapped:a,onFocusInTrap:s,onFocusoutPrevented:h,onReleaseRequested:u}=fF(r,n),{attributes:l,arrowRef:f,contentRef:c,styles:d,instanceRef:v,role:g,update:m}=cF(r),{ariaModal:y,arrowStyle:_,contentAttrs:b,contentClass:w,contentStyle:S,updateZIndex:x}=uF(r,{styles:d,attributes:l,role:g}),P=Le(Jl,void 0),B=pe();yt(L1,{arrowStyle:_,arrowRef:f,arrowOffset:B}),P&&(P.addInputId||P.removeInputId)&&yt(Jl,{...P,addInputId:nt,removeInputId:nt});let G;const K=(W=!0)=>{m(),W&&x()},Y=()=>{K(!1),r.visible&&r.focusOnShow?o.value=!0:r.visible===!1&&(o.value=!1)};return lt(()=>{Me(()=>r.triggerTargetEl,(W,ee)=>{G?.(),G=void 0;const le=E(W||c.value),de=E(ee||c.value);Bs(le)&&(G=Me([g,()=>r.ariaLabel,y,()=>r.id],U=>{["role","aria-label","aria-modal","id"].forEach((Q,O)=>{Zn(U[O])?le.removeAttribute(Q):le.setAttribute(Q,U[O])})},{immediate:!0})),de!==le&&Bs(de)&&["role","aria-label","aria-modal","id"].forEach(U=>{de.removeAttribute(U)})},{immediate:!0}),Me(()=>r.visible,Y,{immediate:!0})}),fn(()=>{G?.(),G=void 0}),t({popperContentRef:c,popperInstanceRef:v,updatePopper:K,contentStyle:S}),(W,ee)=>(z(),ie("div",Ot({ref_key:"contentRef",ref:c},E(b),{style:E(S),class:E(w),tabindex:"-1",onMouseenter:ee[0]||(ee[0]=le=>W.$emit("mouseenter",le)),onMouseleave:ee[1]||(ee[1]=le=>W.$emit("mouseleave",le))}),[ye(E(eF),{trapped:E(o),"trap-on-focus-in":!0,"focus-trap-el":E(c),"focus-start-el":E(i),onFocusAfterTrapped:E(a),onFocusAfterReleased:E(p),onFocusin:E(s),onFocusoutPrevented:E(h),onReleaseRequested:E(u)},{default:Ce(()=>[Ie(W.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var pF=Ge(dF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const gF=Zt(F5),qd=Symbol("elTooltip"),Pn=Qe({...YD,...V1,appendTo:{type:Ae([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Ae(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),_a=Qe({...z1,disabled:Boolean,trigger:{type:Ae([String,Array]),default:"hover"},triggerKeys:{type:Ae(Array),default:()=>[et.enter,et.space]}}),{useModelToggleProps:vF,useModelToggleEmits:mF,useModelToggle:yF}=p1("visible"),_F=Qe({...B1,...vF,...Pn,..._a,...$1,showArrow:{type:Boolean,default:!0}}),bF=[...mF,"before-show","before-hide","show","hide","open","close"],wF=(e,t)=>De(e)?e.includes(t):e===t,us=(e,t,n)=>r=>{wF(E(e),t)&&n(r)},CF=ke({name:"ElTooltipTrigger"}),SF=ke({...CF,props:_a,setup(e,{expose:t}){const n=e,r=it("tooltip"),{controlled:i,id:o,open:p,onOpen:a,onClose:s,onToggle:h}=Le(qd,void 0),u=pe(null),l=()=>{if(E(i)||n.disabled)return!0},f=Ht(n,"trigger"),c=Tt(l,us(f,"hover",a)),d=Tt(l,us(f,"hover",s)),v=Tt(l,us(f,"click",b=>{b.button===0&&h(b)})),g=Tt(l,us(f,"focus",a)),m=Tt(l,us(f,"focus",s)),y=Tt(l,us(f,"contextmenu",b=>{b.preventDefault(),h(b)})),_=Tt(l,b=>{const{code:w}=b;n.triggerKeys.includes(w)&&(b.preventDefault(),h(b))});return t({triggerRef:u}),(b,w)=>(z(),Oe(E(H5),{id:E(o),"virtual-ref":b.virtualRef,open:E(p),"virtual-triggering":b.virtualTriggering,class:be(E(r).e("trigger")),onBlur:E(m),onClick:E(v),onContextmenu:E(y),onFocus:E(g),onMouseenter:E(c),onMouseleave:E(d),onKeydown:E(_)},{default:Ce(()=>[Ie(b.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var xF=Ge(SF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const TF=ke({name:"ElTooltipContent",inheritAttrs:!1}),EF=ke({...TF,props:Pn,setup(e,{expose:t}){const n=e,{selector:r}=k1(),i=it("tooltip"),o=pe(null),p=pe(!1),{controlled:a,id:s,open:h,trigger:u,onClose:l,onOpen:f,onShow:c,onHide:d,onBeforeShow:v,onBeforeHide:g}=Le(qd,void 0),m=ne(()=>n.transition||`${i.namespace.value}-fade-in-linear`),y=ne(()=>n.persistent);fn(()=>{p.value=!0});const _=ne(()=>E(y)?!0:E(h)),b=ne(()=>n.disabled?!1:E(h)),w=ne(()=>n.appendTo||r.value),S=ne(()=>{var U;return(U=n.style)!=null?U:{}}),x=ne(()=>!E(h)),P=()=>{d()},B=()=>{if(E(a))return!0},G=Tt(B,()=>{n.enterable&&E(u)==="hover"&&f()}),K=Tt(B,()=>{E(u)==="hover"&&l()}),Y=()=>{var U,Q;(Q=(U=o.value)==null?void 0:U.updatePopper)==null||Q.call(U),v?.()},W=()=>{g?.()},ee=()=>{c(),de=UE(ne(()=>{var U;return(U=o.value)==null?void 0:U.popperContentRef}),()=>{if(E(a))return;E(u)!=="hover"&&l()})},le=()=>{n.virtualTriggering||l()};let de;return Me(()=>E(h),U=>{U||de?.()},{flush:"post"}),Me(()=>n.content,()=>{var U,Q;(Q=(U=o.value)==null?void 0:U.updatePopper)==null||Q.call(U)}),t({contentRef:o}),(U,Q)=>(z(),Oe(Oc,{disabled:!U.teleported,to:E(w)},[ye(Tr,{name:E(m),onAfterLeave:P,onBeforeEnter:Y,onAfterEnter:ee,onBeforeLeave:W},{default:Ce(()=>[E(_)?ut((z(),Oe(E(pF),Ot({key:0,id:E(s),ref_key:"contentRef",ref:o},U.$attrs,{"aria-label":U.ariaLabel,"aria-hidden":E(x),"boundaries-padding":U.boundariesPadding,"fallback-placements":U.fallbackPlacements,"gpu-acceleration":U.gpuAcceleration,offset:U.offset,placement:U.placement,"popper-options":U.popperOptions,strategy:U.strategy,effect:U.effect,enterable:U.enterable,pure:U.pure,"popper-class":U.popperClass,"popper-style":[U.popperStyle,E(S)],"reference-el":U.referenceEl,"trigger-target-el":U.triggerTargetEl,visible:E(b),"z-index":U.zIndex,onMouseenter:E(G),onMouseleave:E(K),onBlur:le,onClose:E(l)}),{default:Ce(()=>[p.value?Te("v-if",!0):Ie(U.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[_t,E(b)]]):Te("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var OF=Ge(EF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const kF=["innerHTML"],PF={key:1},AF=ke({name:"ElTooltip"}),IF=ke({...AF,props:_F,emits:bF,setup(e,{expose:t,emit:n}){const r=e;WD();const i=Vc(),o=pe(),p=pe(),a=()=>{var m;const y=E(o);y&&((m=y.popperInstanceRef)==null||m.update())},s=pe(!1),h=pe(),{show:u,hide:l,hasUpdateHandler:f}=yF({indicator:s,toggleReason:h}),{onOpen:c,onClose:d}=GD({showAfter:Ht(r,"showAfter"),hideAfter:Ht(r,"hideAfter"),autoClose:Ht(r,"autoClose"),open:u,close:l}),v=ne(()=>Ad(r.visible)&&!f.value);yt(qd,{controlled:v,id:i,open:so(s),trigger:Ht(r,"trigger"),onOpen:m=>{c(m)},onClose:m=>{d(m)},onToggle:m=>{E(s)?d(m):c(m)},onShow:()=>{n("show",h.value)},onHide:()=>{n("hide",h.value)},onBeforeShow:()=>{n("before-show",h.value)},onBeforeHide:()=>{n("before-hide",h.value)},updatePopper:a}),Me(()=>r.disabled,m=>{m&&s.value&&(s.value=!1)});const g=m=>{var y,_;const b=(_=(y=p.value)==null?void 0:y.contentRef)==null?void 0:_.popperContentRef,w=m?.relatedTarget||document.activeElement;return b&&b.contains(w)};return T_(()=>s.value&&l()),t({popperRef:o,contentRef:p,isFocusInsideContent:g,updatePopper:a,onOpen:c,onClose:d,hide:l}),(m,y)=>(z(),Oe(E(gF),{ref_key:"popperRef",ref:o,role:m.role},{default:Ce(()=>[ye(xF,{disabled:m.disabled,trigger:m.trigger,"trigger-keys":m.triggerKeys,"virtual-ref":m.virtualRef,"virtual-triggering":m.virtualTriggering},{default:Ce(()=>[m.$slots.default?Ie(m.$slots,"default",{key:0}):Te("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ye(OF,{ref_key:"contentRef",ref:p,"aria-label":m.ariaLabel,"boundaries-padding":m.boundariesPadding,content:m.content,disabled:m.disabled,effect:m.effect,enterable:m.enterable,"fallback-placements":m.fallbackPlacements,"hide-after":m.hideAfter,"gpu-acceleration":m.gpuAcceleration,offset:m.offset,persistent:m.persistent,"popper-class":m.popperClass,"popper-style":m.popperStyle,placement:m.placement,"popper-options":m.popperOptions,pure:m.pure,"raw-content":m.rawContent,"reference-el":m.referenceEl,"trigger-target-el":m.triggerTargetEl,"show-after":m.showAfter,strategy:m.strategy,teleported:m.teleported,transition:m.transition,"virtual-triggering":m.virtualTriggering,"z-index":m.zIndex,"append-to":m.appendTo},{default:Ce(()=>[Ie(m.$slots,"content",{},()=>[m.rawContent?(z(),ie("span",{key:0,innerHTML:m.content},null,8,kF)):(z(),ie("span",PF,We(m.content),1))]),m.showArrow?(z(),Oe(E($5),{key:0,"arrow-offset":m.arrowOffset},null,8,["arrow-offset"])):Te("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var RF=Ge(IF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const uo=Zt(RF),MF=Qe({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),DF=["textContent"],FF=ke({name:"ElBadge"}),LF=ke({...FF,props:MF,setup(e,{expose:t}){const n=e,r=it("badge"),i=ne(()=>n.isDot?"":rt(n.value)&&rt(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`);return t({content:i}),(o,p)=>(z(),ie("div",{class:be(E(r).b())},[Ie(o.$slots,"default"),ye(Tr,{name:`${E(r).namespace.value}-zoom-in-center`,persisted:""},{default:Ce(()=>[ut(N("sup",{class:be([E(r).e("content"),E(r).em("content",o.type),E(r).is("fixed",!!o.$slots.default),E(r).is("dot",o.isDot)]),textContent:We(E(i))},null,10,DF),[[_t,!o.hidden&&(E(i)||o.isDot)]])]),_:1},8,["name"])],2))}});var BF=Ge(LF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const $F=Zt(BF),W1=Symbol("buttonGroupContextKey"),jF=(e,t)=>{A4({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},ne(()=>e.type==="text"));const n=Le(W1,void 0),r=Wd("button"),{form:i}=Wc(),o=$a(ne(()=>n?.size)),p=_i(),a=pe(),s=I_(),h=ne(()=>e.type||n?.type||""),u=ne(()=>{var d,v,g;return(g=(v=e.autoInsertSpace)!=null?v:(d=r.value)==null?void 0:d.autoInsertSpace)!=null?g:!1}),l=ne(()=>e.tag==="button"?{ariaDisabled:p.value||e.loading,disabled:p.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),f=ne(()=>{var d;const v=(d=s.default)==null?void 0:d.call(s);if(u.value&&v?.length===1){const g=v[0];if(g?.type===oo){const m=g.children;return/^\p{Unified_Ideograph}{2}$/u.test(m.trim())}}return!1});return{_disabled:p,_size:o,_type:h,_ref:a,_props:l,shouldAddSpace:f,handleClick:d=>{e.nativeType==="reset"&&i?.resetFields(),t("click",d)}}},NF=["default","primary","success","warning","info","danger","text",""],zF=["button","submit","reset"],sh=Qe({size:ya,disabled:Boolean,type:{type:String,values:NF,default:""},icon:{type:$s},nativeType:{type:String,values:zF,default:"button"},loading:Boolean,loadingIcon:{type:$s,default:()=>o1},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Ae([String,Object]),default:"button"}}),HF={click:e=>e instanceof MouseEvent};function Vt(e,t){UF(e)&&(e="100%");var n=VF(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function ll(e){return Math.min(1,Math.max(0,e))}function UF(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function VF(e){return typeof e=="string"&&e.indexOf("%")!==-1}function Y1(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function cl(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Ri(e){return e.length===1?"0"+e:String(e)}function WF(e,t,n){return{r:Vt(e,255)*255,g:Vt(t,255)*255,b:Vt(n,255)*255}}function Hm(e,t,n){e=Vt(e,255),t=Vt(t,255),n=Vt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,p=0,a=(r+i)/2;if(r===i)p=0,o=0;else{var s=r-i;switch(p=a>.5?s/(2-r-i):s/(r+i),r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4;break}o/=6}return{h:o,s:p,l:a}}function Fu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function YF(e,t,n){var r,i,o;if(e=Vt(e,360),t=Vt(t,100),n=Vt(n,100),t===0)i=n,o=n,r=n;else{var p=n<.5?n*(1+t):n+t-n*t,a=2*n-p;r=Fu(a,p,e+1/3),i=Fu(a,p,e),o=Fu(a,p,e-1/3)}return{r:r*255,g:i*255,b:o*255}}function Um(e,t,n){e=Vt(e,255),t=Vt(t,255),n=Vt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,p=r,a=r-i,s=r===0?0:a/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/a+(t<n?6:0);break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4;break}o/=6}return{h:o,s,v:p}}function GF(e,t,n){e=Vt(e,360)*6,t=Vt(t,100),n=Vt(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),p=n*(1-i*t),a=n*(1-(1-i)*t),s=r%6,h=[n,p,o,o,a,n][s],u=[a,n,n,p,o,o][s],l=[o,o,a,n,n,p][s];return{r:h*255,g:u*255,b:l*255}}function Vm(e,t,n,r){var i=[Ri(Math.round(e).toString(16)),Ri(Math.round(t).toString(16)),Ri(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function XF(e,t,n,r,i){var o=[Ri(Math.round(e).toString(16)),Ri(Math.round(t).toString(16)),Ri(Math.round(n).toString(16)),Ri(KF(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function KF(e){return Math.round(parseFloat(e)*255).toString(16)}function Wm(e){return dn(e)/255}function dn(e){return parseInt(e,16)}function qF(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var oh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function JF(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,p=!1,a=!1;return typeof e=="string"&&(e=eL(e)),typeof e=="object"&&(Ir(e.r)&&Ir(e.g)&&Ir(e.b)?(t=WF(e.r,e.g,e.b),p=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Ir(e.h)&&Ir(e.s)&&Ir(e.v)?(r=cl(e.s),i=cl(e.v),t=GF(e.h,r,i),p=!0,a="hsv"):Ir(e.h)&&Ir(e.s)&&Ir(e.l)&&(r=cl(e.s),o=cl(e.l),t=YF(e.h,r,o),p=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Y1(n),{ok:p,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var ZF="[-\\+]?\\d+%?",QF="[-\\+]?\\d*\\.\\d+%?",ci="(?:".concat(QF,")|(?:").concat(ZF,")"),Lu="[\\s|\\(]+(".concat(ci,")[,|\\s]+(").concat(ci,")[,|\\s]+(").concat(ci,")\\s*\\)?"),Bu="[\\s|\\(]+(".concat(ci,")[,|\\s]+(").concat(ci,")[,|\\s]+(").concat(ci,")[,|\\s]+(").concat(ci,")\\s*\\)?"),Yn={CSS_UNIT:new RegExp(ci),rgb:new RegExp("rgb"+Lu),rgba:new RegExp("rgba"+Bu),hsl:new RegExp("hsl"+Lu),hsla:new RegExp("hsla"+Bu),hsv:new RegExp("hsv"+Lu),hsva:new RegExp("hsva"+Bu),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function eL(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(oh[e])e=oh[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Yn.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Yn.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Yn.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Yn.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Yn.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Yn.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Yn.hex8.exec(e),n?{r:dn(n[1]),g:dn(n[2]),b:dn(n[3]),a:Wm(n[4]),format:t?"name":"hex8"}:(n=Yn.hex6.exec(e),n?{r:dn(n[1]),g:dn(n[2]),b:dn(n[3]),format:t?"name":"hex"}:(n=Yn.hex4.exec(e),n?{r:dn(n[1]+n[1]),g:dn(n[2]+n[2]),b:dn(n[3]+n[3]),a:Wm(n[4]+n[4]),format:t?"name":"hex8"}:(n=Yn.hex3.exec(e),n?{r:dn(n[1]+n[1]),g:dn(n[2]+n[2]),b:dn(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Ir(e){return!!Yn.CSS_UNIT.exec(String(e))}var tL=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=qF(t)),this.originalInput=t;var i=JF(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,i,o=t.r/255,p=t.g/255,a=t.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),p<=.03928?r=p/12.92:r=Math.pow((p+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=Y1(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=Um(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=Um(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=Hm(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=Hm(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),Vm(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),XF(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(Vt(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(Vt(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+Vm(this.r,this.g,this.b,!1),n=0,r=Object.entries(oh);n<r.length;n++){var i=r[n],o=i[0],p=i[1];if(t===p)return o}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(t.startsWith("hex")||t==="name");return o?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=ll(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=ll(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=ll(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=ll(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),o=n/100,p={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new e(p)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,p=[],a=1/t;t--;)p.push(new e({h:r,s:i,v:o})),o=(o+a)%1;return p},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),i=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],o=360/t,p=1;p<t;p++)i.push(new e({h:(r+p*o)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function ei(e,t=20){return e.mix("#141414",t).toString()}function nL(e){const t=_i(),n=it("button");return ne(()=>{let r={};const i=e.color;if(i){const o=new tL(i),p=e.dark?o.tint(20).toString():ei(o,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?ei(o,90):o.tint(90).toString(),"text-color":i,"border-color":e.dark?ei(o,50):o.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":p,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":p}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?ei(o,90):o.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?ei(o,50):o.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?ei(o,80):o.tint(80).toString());else{const a=e.dark?ei(o,30):o.tint(30).toString(),s=o.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":i,"text-color":s,"border-color":i,"hover-bg-color":a,"hover-text-color":s,"hover-border-color":a,"active-bg-color":p,"active-border-color":p}),t.value){const h=e.dark?ei(o,50):o.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=h,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=h}}}return r})}const rL=ke({name:"ElButton"}),iL=ke({...rL,props:sh,emits:HF,setup(e,{expose:t,emit:n}){const r=e,i=nL(r),o=it("button"),{_ref:p,_size:a,_type:s,_disabled:h,_props:u,shouldAddSpace:l,handleClick:f}=jF(r,n);return t({ref:p,size:a,type:s,disabled:h,shouldAddSpace:l}),(c,d)=>(z(),Oe(nn(c.tag),Ot({ref_key:"_ref",ref:p},E(u),{class:[E(o).b(),E(o).m(E(s)),E(o).m(E(a)),E(o).is("disabled",E(h)),E(o).is("loading",c.loading),E(o).is("plain",c.plain),E(o).is("round",c.round),E(o).is("circle",c.circle),E(o).is("text",c.text),E(o).is("link",c.link),E(o).is("has-bg",c.bg)],style:E(i),onClick:E(f)}),{default:Ce(()=>[c.loading?(z(),ie(Re,{key:0},[c.$slots.loading?Ie(c.$slots,"loading",{key:0}):(z(),Oe(E(Ke),{key:1,class:be(E(o).is("loading"))},{default:Ce(()=>[(z(),Oe(nn(c.loadingIcon)))]),_:1},8,["class"]))],64)):c.icon||c.$slots.icon?(z(),Oe(E(Ke),{key:1},{default:Ce(()=>[c.icon?(z(),Oe(nn(c.icon),{key:0})):Ie(c.$slots,"icon",{key:1})]),_:3})):Te("v-if",!0),c.$slots.default?(z(),ie("span",{key:2,class:be({[E(o).em("text","expand")]:E(l)})},[Ie(c.$slots,"default")],2)):Te("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var sL=Ge(iL,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const oL={size:sh.size,type:sh.type},aL=ke({name:"ElButtonGroup"}),lL=ke({...aL,props:oL,setup(e){const t=e;yt(W1,St({size:Ht(t,"size"),type:Ht(t,"type")}));const n=it("button");return(r,i)=>(z(),ie("div",{class:be(`${E(n).b("group")}`)},[Ie(r.$slots,"default")],2))}});var G1=Ge(lL,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const X1=Zt(sL,{ButtonGroup:G1});Dd(G1);function K1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cL(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}const uL=100,fL=600,Ym={beforeMount(e,t){const n=t.value,{interval:r=uL,delay:i=fL}=$e(n)?{}:n;let o,p;const a=()=>$e(n)?n():n.handler(),s=()=>{p&&(clearTimeout(p),p=void 0),o&&(clearInterval(o),o=void 0)};e.addEventListener("mousedown",h=>{h.button===0&&(s(),a(),document.addEventListener("mouseup",()=>s(),{once:!0}),p=setTimeout(()=>{o=setInterval(()=>{a()},r)},i))})}},hL=ke({inheritAttrs:!1});function dL(e,t,n,r,i,o){return Ie(e.$slots,"default")}var pL=Ge(hL,[["render",dL],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const gL=ke({name:"ElCollectionItem",inheritAttrs:!1});function vL(e,t,n,r,i,o){return Ie(e.$slots,"default")}var mL=Ge(gL,[["render",vL],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const q1="data-el-collection-item",J1=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),i=Symbol(n),o={...pL,name:t,setup(){const a=pe(null),s=new Map;yt(r,{itemMap:s,getItems:()=>{const u=E(a);if(!u)return[];const l=Array.from(u.querySelectorAll(`[${q1}]`));return[...s.values()].sort((c,d)=>l.indexOf(c.ref)-l.indexOf(d.ref))},collectionRef:a})}},p={...mL,name:n,setup(a,{attrs:s}){const h=pe(null),u=Le(r,void 0);yt(i,{collectionItemRef:h}),lt(()=>{const l=E(h);l&&u.itemMap.set(l,{ref:l,...s})}),fn(()=>{const l=E(h);u.itemMap.delete(l)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:o,ElCollectionItem:p}},yL=Qe({style:{type:Ae([String,Array,Object])},currentTabId:{type:Ae(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Ae(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:_L,ElCollectionItem:bL,COLLECTION_INJECTION_KEY:Jd,COLLECTION_ITEM_INJECTION_KEY:wL}=J1("RovingFocusGroup"),Zd=Symbol("elRovingFocusGroup"),Z1=Symbol("elRovingFocusGroupItem"),CL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},SL=(e,t)=>{if(t!=="rtl")return e;switch(e){case et.right:return et.left;case et.left:return et.right;default:return e}},xL=(e,t,n)=>{const r=SL(e.key,n);if(!(t==="vertical"&&[et.left,et.right].includes(r))&&!(t==="horizontal"&&[et.up,et.down].includes(r)))return CL[r]},TL=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),Qd=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},Gm="currentTabIdChange",Xm="rovingFocusGroup.entryFocus",EL={bubbles:!1,cancelable:!0},OL=ke({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:yL,emits:[Gm,"entryFocus"],setup(e,{emit:t}){var n;const r=pe((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),i=pe(!1),o=pe(!1),p=pe(null),{getItems:a}=Le(Jd,void 0),s=ne(()=>[{outline:"none"},e.style]),h=v=>{t(Gm,v)},u=()=>{i.value=!0},l=Tt(v=>{var g;(g=e.onMousedown)==null||g.call(e,v)},()=>{o.value=!0}),f=Tt(v=>{var g;(g=e.onFocus)==null||g.call(e,v)},v=>{const g=!E(o),{target:m,currentTarget:y}=v;if(m===y&&g&&!E(i)){const _=new Event(Xm,EL);if(y?.dispatchEvent(_),!_.defaultPrevented){const b=a().filter(B=>B.focusable),w=b.find(B=>B.active),S=b.find(B=>B.id===E(r)),P=[w,S,...b].filter(Boolean).map(B=>B.ref);Qd(P)}}o.value=!1}),c=Tt(v=>{var g;(g=e.onBlur)==null||g.call(e,v)},()=>{i.value=!1}),d=(...v)=>{t("entryFocus",...v)};yt(Zd,{currentTabbedId:so(r),loop:Ht(e,"loop"),tabIndex:ne(()=>E(i)?-1:0),rovingFocusGroupRef:p,rovingFocusGroupRootStyle:s,orientation:Ht(e,"orientation"),dir:Ht(e,"dir"),onItemFocus:h,onItemShiftTab:u,onBlur:c,onFocus:f,onMousedown:l}),Me(()=>e.currentTabId,v=>{r.value=v??null}),Gt(p,Xm,d)}});function kL(e,t,n,r,i,o){return Ie(e.$slots,"default")}var PL=Ge(OL,[["render",kL],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const AL=ke({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:_L,ElRovingFocusGroupImpl:PL}});function IL(e,t,n,r,i,o){const p=Be("el-roving-focus-group-impl"),a=Be("el-focus-group-collection");return z(),Oe(a,null,{default:Ce(()=>[ye(p,AS(U_(e.$attrs)),{default:Ce(()=>[Ie(e.$slots,"default")]),_:3},16)]),_:3})}var RL=Ge(AL,[["render",IL],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const ML=ke({components:{ElRovingFocusCollectionItem:bL},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:i,onItemShiftTab:o}=Le(Zd,void 0),{getItems:p}=Le(Jd,void 0),a=Vc(),s=pe(null),h=Tt(c=>{t("mousedown",c)},c=>{e.focusable?i(E(a)):c.preventDefault()}),u=Tt(c=>{t("focus",c)},()=>{i(E(a))}),l=Tt(c=>{t("keydown",c)},c=>{const{key:d,shiftKey:v,target:g,currentTarget:m}=c;if(d===et.tab&&v){o();return}if(g!==m)return;const y=xL(c);if(y){c.preventDefault();let b=p().filter(w=>w.focusable).map(w=>w.ref);switch(y){case"last":{b.reverse();break}case"prev":case"next":{y==="prev"&&b.reverse();const w=b.indexOf(m);b=r.value?TL(b,w+1):b.slice(w+1);break}}ct(()=>{Qd(b)})}}),f=ne(()=>n.value===E(a));return yt(Z1,{rovingFocusGroupItemRef:s,tabIndex:ne(()=>E(f)?0:-1),handleMousedown:h,handleFocus:u,handleKeydown:l}),{id:a,handleKeydown:l,handleFocus:u,handleMousedown:h}}});function DL(e,t,n,r,i,o){const p=Be("el-roving-focus-collection-item");return z(),Oe(p,{id:e.id,focusable:e.focusable,active:e.active},{default:Ce(()=>[Ie(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var FL=Ge(ML,[["render",DL],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const Ol=Qe({trigger:_a.trigger,effect:{...Pn.effect,default:"light"},type:{type:Ae(String)},placement:{type:Ae(String),default:"bottom"},popperOptions:{type:Ae(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Ae([Number,String]),default:0},maxHeight:{type:Ae([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:Ae(Object)},teleported:Pn.teleported}),Q1=Qe({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:$s}}),LL=Qe({onKeydown:{type:Ae(Function)}}),BL=[et.down,et.pageDown,et.home],ew=[et.up,et.pageUp,et.end],$L=[...BL,...ew],{ElCollection:jL,ElCollectionItem:NL,COLLECTION_INJECTION_KEY:zL,COLLECTION_ITEM_INJECTION_KEY:HL}=J1("Dropdown"),Gc=Symbol("elDropdown"),{ButtonGroup:UL}=X1,VL=ke({name:"ElDropdown",components:{ElButton:X1,ElButtonGroup:UL,ElScrollbar:I5,ElDropdownCollection:jL,ElTooltip:uo,ElRovingFocusGroup:RL,ElOnlyChild:j1,ElIcon:Ke,ArrowDown:Nc},props:Ol,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=Dt(),r=it("dropdown"),{t:i}=Qi(),o=pe(),p=pe(),a=pe(null),s=pe(null),h=pe(null),u=pe(null),l=pe(!1),f=[et.enter,et.space,et.down],c=ne(()=>({maxHeight:ga(e.maxHeight)})),d=ne(()=>[r.m(w.value)]),v=ne(()=>iA(e.trigger)),g=Vc().value,m=ne(()=>e.id||g);Me([o,v],([U,Q],[O])=>{var R,F,D;(R=O?.$el)!=null&&R.removeEventListener&&O.$el.removeEventListener("pointerenter",x),(F=U?.$el)!=null&&F.removeEventListener&&U.$el.removeEventListener("pointerenter",x),(D=U?.$el)!=null&&D.addEventListener&&Q.includes("hover")&&U.$el.addEventListener("pointerenter",x)},{immediate:!0}),fn(()=>{var U,Q;(Q=(U=o.value)==null?void 0:U.$el)!=null&&Q.removeEventListener&&o.value.$el.removeEventListener("pointerenter",x)});function y(){_()}function _(){var U;(U=a.value)==null||U.onClose()}function b(){var U;(U=a.value)==null||U.onOpen()}const w=$a();function S(...U){t("command",...U)}function x(){var U,Q;(Q=(U=o.value)==null?void 0:U.$el)==null||Q.focus()}function P(){}function B(){const U=E(s);v.value.includes("hover")&&U?.focus(),u.value=null}function G(U){u.value=U}function K(U){l.value||(U.preventDefault(),U.stopImmediatePropagation())}function Y(){t("visible-change",!0)}function W(U){U?.type==="keydown"&&s.value.focus()}function ee(){t("visible-change",!1)}return yt(Gc,{contentRef:s,role:ne(()=>e.role),triggerId:m,isUsingKeyboard:l,onItemEnter:P,onItemLeave:B}),yt("elDropdown",{instance:n,dropdownSize:w,handleClick:y,commandHandler:S,trigger:Ht(e,"trigger"),hideOnClick:Ht(e,"hideOnClick")}),{t:i,ns:r,scrollbar:h,wrapStyle:c,dropdownTriggerKls:d,dropdownSize:w,triggerId:m,triggerKeys:f,currentTabId:u,handleCurrentTabIdChange:G,handlerMainButtonClick:U=>{t("click",U)},handleEntryFocus:K,handleClose:_,handleOpen:b,handleBeforeShowTooltip:Y,handleShowTooltip:W,handleBeforeHideTooltip:ee,onFocusAfterTrapped:U=>{var Q,O;U.preventDefault(),(O=(Q=s.value)==null?void 0:Q.focus)==null||O.call(Q,{preventScroll:!0})},popperRef:a,contentRef:s,triggeringElementRef:o,referenceElementRef:p}}});function WL(e,t,n,r,i,o){var p;const a=Be("el-dropdown-collection"),s=Be("el-roving-focus-group"),h=Be("el-scrollbar"),u=Be("el-only-child"),l=Be("el-tooltip"),f=Be("el-button"),c=Be("arrow-down"),d=Be("el-icon"),v=Be("el-button-group");return z(),ie("div",{class:be([e.ns.b(),e.ns.is("disabled",e.disabled)])},[ye(l,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(p=e.referenceElementRef)==null?void 0:p.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Df({content:Ce(()=>[ye(h,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:Ce(()=>[ye(s,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:Ce(()=>[ye(a,null,{default:Ce(()=>[Ie(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:Ce(()=>[ye(u,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:Ce(()=>[Ie(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(z(),Oe(v,{key:0},{default:Ce(()=>[ye(f,Ot({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:Ce(()=>[Ie(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ye(f,Ot({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:Ce(()=>[ye(d,{class:be(e.ns.e("icon"))},{default:Ce(()=>[ye(c)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Te("v-if",!0)],2)}var YL=Ge(VL,[["render",WL],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const GL=ke({name:"DropdownItemImpl",components:{ElIcon:Ke},props:Q1,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=it("dropdown"),{role:r}=Le(Gc,void 0),{collectionItemRef:i}=Le(HL,void 0),{collectionItemRef:o}=Le(wL,void 0),{rovingFocusGroupItemRef:p,tabIndex:a,handleFocus:s,handleKeydown:h,handleMousedown:u}=Le(Z1,void 0),l=u1(i,o,p),f=ne(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),c=Tt(d=>{const{code:v}=d;if(v===et.enter||v===et.space)return d.preventDefault(),d.stopImmediatePropagation(),t("clickimpl",d),!0},h);return{ns:n,itemRef:l,dataset:{[q1]:""},role:f,tabIndex:a,handleFocus:s,handleKeydown:c,handleMousedown:u}}}),XL=["aria-disabled","tabindex","role"];function KL(e,t,n,r,i,o){const p=Be("el-icon");return z(),ie(Re,null,[e.divided?(z(),ie("li",Ot({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):Te("v-if",!0),N("li",Ot({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=a=>e.$emit("clickimpl",a)),onFocus:t[1]||(t[1]=(...a)=>e.handleFocus&&e.handleFocus(...a)),onKeydown:t[2]||(t[2]=Lt((...a)=>e.handleKeydown&&e.handleKeydown(...a),["self"])),onMousedown:t[3]||(t[3]=(...a)=>e.handleMousedown&&e.handleMousedown(...a)),onPointermove:t[4]||(t[4]=a=>e.$emit("pointermove",a)),onPointerleave:t[5]||(t[5]=a=>e.$emit("pointerleave",a))}),[e.icon?(z(),Oe(p,{key:0},{default:Ce(()=>[(z(),Oe(nn(e.icon)))]),_:1})):Te("v-if",!0),Ie(e.$slots,"default")],16,XL)],64)}var qL=Ge(GL,[["render",KL],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const tw=()=>{const e=Le("elDropdown",{}),t=ne(()=>e?.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},JL=ke({name:"ElDropdownItem",components:{ElDropdownCollectionItem:NL,ElRovingFocusItem:FL,ElDropdownItemImpl:qL},inheritAttrs:!1,props:Q1,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=tw(),i=Dt(),o=pe(null),p=ne(()=>{var c,d;return(d=(c=E(o))==null?void 0:c.textContent)!=null?d:""}),{onItemEnter:a,onItemLeave:s}=Le(Gc,void 0),h=Tt(c=>(t("pointermove",c),c.defaultPrevented),Iv(c=>{if(e.disabled){s(c);return}const d=c.currentTarget;d===document.activeElement||d.contains(document.activeElement)||(a(c),c.defaultPrevented||d?.focus())})),u=Tt(c=>(t("pointerleave",c),c.defaultPrevented),Iv(c=>{s(c)})),l=Tt(c=>{if(!e.disabled)return t("click",c),c.type!=="keydown"&&c.defaultPrevented},c=>{var d,v,g;if(e.disabled){c.stopImmediatePropagation();return}(d=r?.hideOnClick)!=null&&d.value&&((v=r.handleClick)==null||v.call(r)),(g=r.commandHandler)==null||g.call(r,e.command,i,c)}),f=ne(()=>({...e,...n}));return{handleClick:l,handlePointerMove:h,handlePointerLeave:u,textContent:p,propsAndAttrs:f}}});function ZL(e,t,n,r,i,o){var p;const a=Be("el-dropdown-item-impl"),s=Be("el-roving-focus-item"),h=Be("el-dropdown-collection-item");return z(),Oe(h,{disabled:e.disabled,"text-value":(p=e.textValue)!=null?p:e.textContent},{default:Ce(()=>[ye(s,{focusable:!e.disabled},{default:Ce(()=>[ye(a,Ot(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:Ce(()=>[Ie(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var nw=Ge(JL,[["render",ZL],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const QL=ke({name:"ElDropdownMenu",props:LL,setup(e){const t=it("dropdown"),{_elDropdownSize:n}=tw(),r=n.value,{focusTrapRef:i,onKeydown:o}=Le(H1,void 0),{contentRef:p,role:a,triggerId:s}=Le(Gc,void 0),{collectionRef:h,getItems:u}=Le(zL,void 0),{rovingFocusGroupRef:l,rovingFocusGroupRootStyle:f,tabIndex:c,onBlur:d,onFocus:v,onMousedown:g}=Le(Zd,void 0),{collectionRef:m}=Le(Jd,void 0),y=ne(()=>[t.b("menu"),t.bm("menu",r?.value)]),_=u1(p,h,i,l,m),b=Tt(S=>{var x;(x=e.onKeydown)==null||x.call(e,S)},S=>{const{currentTarget:x,code:P,target:B}=S;if(x.contains(B),et.tab===P&&S.stopImmediatePropagation(),S.preventDefault(),B!==E(p)||!$L.includes(P))return;const K=u().filter(Y=>!Y.disabled).map(Y=>Y.ref);ew.includes(P)&&K.reverse(),Qd(K)});return{size:r,rovingFocusGroupRootStyle:f,tabIndex:c,dropdownKls:y,role:a,triggerId:s,dropdownListWrapperRef:_,handleKeydown:S=>{b(S),o(S)},onBlur:d,onFocus:v,onMousedown:g}}}),eB=["role","aria-labelledby"];function tB(e,t,n,r,i,o){return z(),ie("ul",{ref:e.dropdownListWrapperRef,class:be(e.dropdownKls),style:je(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...p)=>e.onBlur&&e.onBlur(...p)),onFocus:t[1]||(t[1]=(...p)=>e.onFocus&&e.onFocus(...p)),onKeydown:t[2]||(t[2]=Lt((...p)=>e.handleKeydown&&e.handleKeydown(...p),["self"])),onMousedown:t[3]||(t[3]=Lt((...p)=>e.onMousedown&&e.onMousedown(...p),["self"]))},[Ie(e.$slots,"default")],46,eB)}var rw=Ge(QL,[["render",tB],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const nB=Zt(YL,{DropdownItem:nw,DropdownMenu:rw}),rB=Dd(nw),iB=Dd(rw),sB=Qe({urlList:{type:Ae(Array),default:()=>Ni([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),oB={close:()=>!0,switch:e=>rt(e),rotate:e=>rt(e)},aB=["src"],lB=ke({name:"ElImageViewer"}),cB=ke({...lB,props:sB,emits:oB,setup(e,{expose:t,emit:n}){const r=e,i={CONTAIN:{name:"contain",icon:$l(KM)},ORIGINAL:{name:"original",icon:$l(H3)}},{t:o}=Qi(),p=it("image-viewer"),{nextZIndex:a}=Vd(),s=pe(),h=pe([]),u=Jy(),l=pe(!0),f=pe(r.initialIndex),c=sn(i.CONTAIN),d=pe({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),v=ne(()=>{const{urlList:O}=r;return O.length<=1}),g=ne(()=>f.value===0),m=ne(()=>f.value===r.urlList.length-1),y=ne(()=>r.urlList[f.value]),_=ne(()=>[p.e("btn"),p.e("prev"),p.is("disabled",!r.infinite&&g.value)]),b=ne(()=>[p.e("btn"),p.e("next"),p.is("disabled",!r.infinite&&m.value)]),w=ne(()=>{const{scale:O,deg:R,offsetX:F,offsetY:D,enableTransition:se}=d.value;let j=F/O,I=D/O;switch(R%360){case 90:case-270:[j,I]=[I,-j];break;case 180:case-180:[j,I]=[-j,-I];break;case 270:case-90:[j,I]=[-I,j];break}const X={transform:`scale(${O}) rotate(${R}deg) translate(${j}px, ${I}px)`,transition:se?"transform .3s":""};return c.value.name===i.CONTAIN.name&&(X.maxWidth=X.maxHeight="100%"),X}),S=ne(()=>rt(r.zIndex)?r.zIndex:a());function x(){B(),n("close")}function P(){const O=xl(F=>{switch(F.code){case et.esc:r.closeOnPressEscape&&x();break;case et.space:ee();break;case et.left:de();break;case et.up:Q("zoomIn");break;case et.right:U();break;case et.down:Q("zoomOut");break}}),R=xl(F=>{const D=F.deltaY||F.deltaX;Q(D<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});u.run(()=>{Gt(document,"keydown",O),Gt(document,"wheel",R)})}function B(){u.stop()}function G(){l.value=!1}function K(O){l.value=!1,O.target.alt=o("el.image.error")}function Y(O){if(l.value||O.button!==0||!s.value)return;d.value.enableTransition=!1;const{offsetX:R,offsetY:F}=d.value,D=O.pageX,se=O.pageY,j=xl(X=>{d.value={...d.value,offsetX:R+X.pageX-D,offsetY:F+X.pageY-se}}),I=Gt(document,"mousemove",j);Gt(document,"mouseup",()=>{I()}),O.preventDefault()}function W(){d.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ee(){if(l.value)return;const O=nh(i),R=Object.values(i),F=c.value.name,se=(R.findIndex(j=>j.name===F)+1)%O.length;c.value=i[O[se]],W()}function le(O){const R=r.urlList.length;f.value=(O+R)%R}function de(){g.value&&!r.infinite||le(f.value-1)}function U(){m.value&&!r.infinite||le(f.value+1)}function Q(O,R={}){if(l.value)return;const{minScale:F,maxScale:D}=r,{zoomRate:se,rotateDeg:j,enableTransition:I}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...R};switch(O){case"zoomOut":d.value.scale>F&&(d.value.scale=Number.parseFloat((d.value.scale/se).toFixed(3)));break;case"zoomIn":d.value.scale<D&&(d.value.scale=Number.parseFloat((d.value.scale*se).toFixed(3)));break;case"clockwise":d.value.deg+=j,n("rotate",d.value.deg);break;case"anticlockwise":d.value.deg-=j,n("rotate",d.value.deg);break}d.value.enableTransition=I}return Me(y,()=>{ct(()=>{const O=h.value[0];O?.complete||(l.value=!0)})}),Me(f,O=>{W(),n("switch",O)}),lt(()=>{var O,R;P(),(R=(O=s.value)==null?void 0:O.focus)==null||R.call(O)}),t({setActiveItem:le}),(O,R)=>(z(),Oe(Oc,{to:"body",disabled:!O.teleported},[ye(Tr,{name:"viewer-fade",appear:""},{default:Ce(()=>[N("div",{ref_key:"wrapper",ref:s,tabindex:-1,class:be(E(p).e("wrapper")),style:je({zIndex:E(S)})},[N("div",{class:be(E(p).e("mask")),onClick:R[0]||(R[0]=Lt(F=>O.hideOnClickModal&&x(),["self"]))},null,2),Te(" CLOSE "),N("span",{class:be([E(p).e("btn"),E(p).e("close")]),onClick:x},[ye(E(Ke),null,{default:Ce(()=>[ye(E(Da))]),_:1})],2),Te(" ARROW "),E(v)?Te("v-if",!0):(z(),ie(Re,{key:0},[N("span",{class:be(E(_)),onClick:de},[ye(E(Ke),null,{default:Ce(()=>[ye(E(t1))]),_:1})],2),N("span",{class:be(E(b)),onClick:U},[ye(E(Ke),null,{default:Ce(()=>[ye(E(QR))]),_:1})],2)],64)),Te(" ACTIONS "),N("div",{class:be([E(p).e("btn"),E(p).e("actions")])},[N("div",{class:be(E(p).e("actions__inner"))},[ye(E(Ke),{onClick:R[1]||(R[1]=F=>Q("zoomOut"))},{default:Ce(()=>[ye(E(b4))]),_:1}),ye(E(Ke),{onClick:R[2]||(R[2]=F=>Q("zoomIn"))},{default:Ce(()=>[ye(E(l1))]),_:1}),N("i",{class:be(E(p).e("actions__divider"))},null,2),ye(E(Ke),{onClick:ee},{default:Ce(()=>[(z(),Oe(nn(E(c).icon)))]),_:1}),N("i",{class:be(E(p).e("actions__divider"))},null,2),ye(E(Ke),{onClick:R[3]||(R[3]=F=>Q("anticlockwise"))},{default:Ce(()=>[ye(E(A3))]),_:1}),ye(E(Ke),{onClick:R[4]||(R[4]=F=>Q("clockwise"))},{default:Ce(()=>[ye(E(L3))]),_:1})],2)],2),Te(" CANVAS "),N("div",{class:be(E(p).e("canvas"))},[(z(!0),ie(Re,null,st(O.urlList,(F,D)=>ut((z(),ie("img",{ref_for:!0,ref:se=>h.value[D]=se,key:F,src:F,style:je(E(w)),class:be(E(p).e("img")),onLoad:G,onError:K,onMousedown:Y},null,46,aB)),[[_t,D===f.value]])),128))],2),Ie(O.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var uB=Ge(cB,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const fB=Zt(uB),hB=Qe({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Ae([String,Object])},previewSrcList:{type:Ae(Array),default:()=>Ni([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),dB={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>rt(e),close:()=>!0,show:()=>!0},pB=["src","loading"],gB={key:0},vB=ke({name:"ElImage",inheritAttrs:!1}),mB=ke({...vB,props:hB,emits:dB,setup(e,{emit:t}){const n=e;let r="";const{t:i}=Qi(),o=it("image"),p=ad(),a=f1(),s=pe(),h=pe(!1),u=pe(!0),l=pe(!1),f=pe(),c=pe(),d=mt&&"loading"in HTMLImageElement.prototype;let v,g;const m=ne(()=>[o.e("inner"),b.value&&o.e("preview"),u.value&&o.is("loading")]),y=ne(()=>p.style),_=ne(()=>{const{fit:Q}=n;return mt&&Q?{objectFit:Q}:{}}),b=ne(()=>{const{previewSrcList:Q}=n;return Array.isArray(Q)&&Q.length>0}),w=ne(()=>{const{previewSrcList:Q,initialIndex:O}=n;let R=O;return O>Q.length-1&&(R=0),R}),S=ne(()=>n.loading==="eager"?!1:!d&&n.loading==="lazy"||n.lazy),x=()=>{mt&&(u.value=!0,h.value=!1,s.value=n.src)};function P(Q){u.value=!1,h.value=!1,t("load",Q)}function B(Q){u.value=!1,h.value=!0,t("error",Q)}function G(){nO(f.value,c.value)&&(x(),W())}const K=NE(G,200,!0);async function Y(){var Q;if(!mt)return;await ct();const{scrollContainer:O}=n;Bs(O)?c.value=O:Ye(O)&&O!==""?c.value=(Q=document.querySelector(O))!=null?Q:void 0:f.value&&(c.value=BR(f.value)),c.value&&(v=Gt(c,"scroll",K),setTimeout(()=>G(),100))}function W(){!mt||!c.value||!K||(v?.(),c.value=void 0)}function ee(Q){if(Q.ctrlKey){if(Q.deltaY<0)return Q.preventDefault(),!1;if(Q.deltaY>0)return Q.preventDefault(),!1}}function le(){b.value&&(g=Gt("wheel",ee,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",l.value=!0,t("show"))}function de(){g?.(),document.body.style.overflow=r,l.value=!1,t("close")}function U(Q){t("switch",Q)}return Me(()=>n.src,()=>{S.value?(u.value=!0,h.value=!1,W(),Y()):x()}),lt(()=>{S.value?Y():x()}),(Q,O)=>(z(),ie("div",{ref_key:"container",ref:f,class:be([E(o).b(),Q.$attrs.class]),style:je(E(y))},[h.value?Ie(Q.$slots,"error",{key:0},()=>[N("div",{class:be(E(o).e("error"))},We(E(i)("el.image.error")),3)]):(z(),ie(Re,{key:1},[s.value!==void 0?(z(),ie("img",Ot({key:0},E(a),{src:s.value,loading:Q.loading,style:E(_),class:E(m),onClick:le,onLoad:P,onError:B}),null,16,pB)):Te("v-if",!0),u.value?(z(),ie("div",{key:1,class:be(E(o).e("wrapper"))},[Ie(Q.$slots,"placeholder",{},()=>[N("div",{class:be(E(o).e("placeholder"))},null,2)])],2)):Te("v-if",!0)],64)),E(b)?(z(),ie(Re,{key:2},[l.value?(z(),Oe(E(fB),{key:0,"z-index":Q.zIndex,"initial-index":E(w),infinite:Q.infinite,"zoom-rate":Q.zoomRate,"min-scale":Q.minScale,"max-scale":Q.maxScale,"url-list":Q.previewSrcList,"hide-on-click-modal":Q.hideOnClickModal,teleported:Q.previewTeleported,"close-on-press-escape":Q.closeOnPressEscape,onClose:de,onSwitch:U},{default:Ce(()=>[Q.$slots.viewer?(z(),ie("div",gB,[Ie(Q.$slots,"viewer")])):Te("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):Te("v-if",!0)],64)):Te("v-if",!0)],6))}});var yB=Ge(mB,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const xo=Zt(yB),_B=Qe({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:ya,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||rt(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),bB={[Hc]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Fi]:e=>rt(e)||Zn(e),[mn]:e=>rt(e)||Zn(e)},wB=["aria-label","onKeydown"],CB=["aria-label","onKeydown"],SB=ke({name:"ElInputNumber"}),xB=ke({...SB,props:_B,emits:bB,setup(e,{expose:t,emit:n}){const r=e,{t:i}=Qi(),o=it("input-number"),p=pe(),a=St({currentValue:r.modelValue,userInput:null}),{formItem:s}=Wc(),h=ne(()=>rt(r.modelValue)&&r.modelValue<=r.min),u=ne(()=>rt(r.modelValue)&&r.modelValue>=r.max),l=ne(()=>{const W=m(r.step);return Ro(r.precision)?Math.max(m(r.modelValue),W):(W>r.precision,r.precision)}),f=ne(()=>r.controls&&r.controlsPosition==="right"),c=$a(),d=_i(),v=ne(()=>{if(a.userInput!==null)return a.userInput;let W=a.currentValue;if(Zn(W))return"";if(rt(W)){if(Number.isNaN(W))return"";Ro(r.precision)||(W=W.toFixed(r.precision))}return W}),g=(W,ee)=>{if(Ro(ee)&&(ee=l.value),ee===0)return Math.round(W);let le=String(W);const de=le.indexOf(".");if(de===-1||!le.replace(".","").split("")[de+ee])return W;const O=le.length;return le.charAt(O-1)==="5"&&(le=`${le.slice(0,Math.max(0,O-1))}6`),Number.parseFloat(Number(le).toFixed(ee))},m=W=>{if(Zn(W))return 0;const ee=W.toString(),le=ee.indexOf(".");let de=0;return le!==-1&&(de=ee.length-le-1),de},y=(W,ee=1)=>rt(W)?g(W+r.step*ee):a.currentValue,_=()=>{if(r.readonly||d.value||u.value)return;const W=Number(v.value)||0,ee=y(W);S(ee),n(Fi,a.currentValue)},b=()=>{if(r.readonly||d.value||h.value)return;const W=Number(v.value)||0,ee=y(W,-1);S(ee),n(Fi,a.currentValue)},w=(W,ee)=>{const{max:le,min:de,step:U,precision:Q,stepStrictly:O,valueOnClear:R}=r;le<de&&co("InputNumber","min should not be greater than max.");let F=Number(W);if(Zn(W)||Number.isNaN(F))return null;if(W===""){if(R===null)return null;F=Ye(R)?{min:de,max:le}[R]:R}return O&&(F=g(Math.round(F/U)*U,Q)),Ro(Q)||(F=g(F,Q)),(F>le||F<de)&&(F=F>le?le:de,ee&&n(mn,F)),F},S=(W,ee=!0)=>{var le;const de=a.currentValue,U=w(W);if(!ee){n(mn,U);return}de!==U&&(a.userInput=null,n(mn,U),n(Hc,U,de),r.validateEvent&&((le=s?.validate)==null||le.call(s,"change").catch(Q=>void 0)),a.currentValue=U)},x=W=>{a.userInput=W;const ee=W===""?null:Number(W);n(Fi,ee),S(ee,!1)},P=W=>{const ee=W!==""?Number(W):"";(rt(ee)&&!Number.isNaN(ee)||W==="")&&S(ee),a.userInput=null},B=()=>{var W,ee;(ee=(W=p.value)==null?void 0:W.focus)==null||ee.call(W)},G=()=>{var W,ee;(ee=(W=p.value)==null?void 0:W.blur)==null||ee.call(W)},K=W=>{n("focus",W)},Y=W=>{var ee;n("blur",W),r.validateEvent&&((ee=s?.validate)==null||ee.call(s,"blur").catch(le=>void 0))};return Me(()=>r.modelValue,W=>{const ee=w(a.userInput),le=w(W,!0);!rt(ee)&&(!ee||ee!==le)&&(a.currentValue=le,a.userInput=null)},{immediate:!0}),lt(()=>{var W;const{min:ee,max:le,modelValue:de}=r,U=(W=p.value)==null?void 0:W.input;if(U.setAttribute("role","spinbutton"),Number.isFinite(le)?U.setAttribute("aria-valuemax",String(le)):U.removeAttribute("aria-valuemax"),Number.isFinite(ee)?U.setAttribute("aria-valuemin",String(ee)):U.removeAttribute("aria-valuemin"),U.setAttribute("aria-valuenow",a.currentValue||a.currentValue===0?String(a.currentValue):""),U.setAttribute("aria-disabled",String(d.value)),!rt(de)&&de!=null){let Q=Number(de);Number.isNaN(Q)&&(Q=null),n(mn,Q)}}),Ec(()=>{var W,ee;const le=(W=p.value)==null?void 0:W.input;le?.setAttribute("aria-valuenow",`${(ee=a.currentValue)!=null?ee:""}`)}),t({focus:B,blur:G}),(W,ee)=>(z(),ie("div",{class:be([E(o).b(),E(o).m(E(c)),E(o).is("disabled",E(d)),E(o).is("without-controls",!W.controls),E(o).is("controls-right",E(f))]),onDragstart:ee[1]||(ee[1]=Lt(()=>{},["prevent"]))},[W.controls?ut((z(),ie("span",{key:0,role:"button","aria-label":E(i)("el.inputNumber.decrease"),class:be([E(o).e("decrease"),E(o).is("disabled",E(h))]),onKeydown:ws(b,["enter"])},[ye(E(Ke),null,{default:Ce(()=>[E(f)?(z(),Oe(E(Nc),{key:0})):(z(),Oe(E(y3),{key:1}))]),_:1})],42,wB)),[[E(Ym),b]]):Te("v-if",!0),W.controls?ut((z(),ie("span",{key:1,role:"button","aria-label":E(i)("el.inputNumber.increase"),class:be([E(o).e("increase"),E(o).is("disabled",E(u))]),onKeydown:ws(_,["enter"])},[ye(E(Ke),null,{default:Ce(()=>[E(f)?(z(),Oe(E(n1),{key:0})):(z(),Oe(E(x3),{key:1}))]),_:1})],42,CB)),[[E(Ym),_]]):Te("v-if",!0),ye(E(ih),{id:W.id,ref_key:"input",ref:p,type:"number",step:W.step,"model-value":E(v),placeholder:W.placeholder,readonly:W.readonly,disabled:E(d),size:E(c),max:W.max,min:W.min,name:W.name,label:W.label,"validate-event":!1,onWheel:ee[0]||(ee[0]=Lt(()=>{},["prevent"])),onKeydown:[ws(Lt(_,["prevent"]),["up"]),ws(Lt(b,["prevent"]),["down"])],onBlur:Y,onFocus:K,onInput:x,onChange:P},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var TB=Ge(xB,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const EB=Zt(TB),OB=Qe({trigger:_a.trigger,placement:Ol.placement,disabled:_a.disabled,visible:Pn.visible,transition:Pn.transition,popperOptions:Ol.popperOptions,tabindex:Ol.tabindex,content:Pn.content,popperStyle:Pn.popperStyle,popperClass:Pn.popperClass,enterable:{...Pn.enterable,default:!0},effect:{...Pn.effect,default:"light"},teleported:Pn.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),kB={"update:visible":e=>Ad(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},PB="onUpdate:visible",AB=ke({name:"ElPopover"}),IB=ke({...AB,props:OB,emits:kB,setup(e,{expose:t,emit:n}){const r=e,i=ne(()=>r[PB]),o=it("popover"),p=pe(),a=ne(()=>{var g;return(g=E(p))==null?void 0:g.popperRef}),s=ne(()=>[{width:ga(r.width)},r.popperStyle]),h=ne(()=>[o.b(),r.popperClass,{[o.m("plain")]:!!r.content}]),u=ne(()=>r.transition===`${o.namespace.value}-fade-in-linear`),l=()=>{var g;(g=p.value)==null||g.hide()},f=()=>{n("before-enter")},c=()=>{n("before-leave")},d=()=>{n("after-enter")},v=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:a,hide:l}),(g,m)=>(z(),Oe(E(uo),Ot({ref_key:"tooltipRef",ref:p},g.$attrs,{trigger:g.trigger,placement:g.placement,disabled:g.disabled,visible:g.visible,transition:g.transition,"popper-options":g.popperOptions,tabindex:g.tabindex,content:g.content,offset:g.offset,"show-after":g.showAfter,"hide-after":g.hideAfter,"auto-close":g.autoClose,"show-arrow":g.showArrow,"aria-label":g.title,effect:g.effect,enterable:g.enterable,"popper-class":E(h),"popper-style":E(s),teleported:g.teleported,persistent:g.persistent,"gpu-acceleration":E(u),"onUpdate:visible":E(i),onBeforeShow:f,onBeforeHide:c,onShow:d,onHide:v}),{content:Ce(()=>[g.title?(z(),ie("div",{key:0,class:be(E(o).e("title")),role:"title"},We(g.title),3)):Te("v-if",!0),Ie(g.$slots,"default",{},()=>[ao(We(g.content),1)])]),default:Ce(()=>[g.$slots.reference?Ie(g.$slots,"reference",{key:0}):Te("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var RB=Ge(IB,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const Km=(e,t)=>{const n=t.arg||t.value,r=n?.popperRef;r&&(r.triggerRef=e)};var MB={mounted(e,t){Km(e,t)},updated(e,t){Km(e,t)}};const DB="popover",FB=T4(MB,DB),LB=Zt(RB,{directive:FB}),BB=Qe({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Ae(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Ae([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Ae(Function),default:e=>`${e}%`}}),$B=["aria-valuenow"],jB={viewBox:"0 0 100 100"},NB=["d","stroke","stroke-linecap","stroke-width"],zB=["d","stroke","opacity","stroke-linecap","stroke-width"],HB={key:0},UB=ke({name:"ElProgress"}),VB=ke({...UB,props:BB,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=it("progress"),i=ne(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:y(t.percentage)})),o=ne(()=>(t.strokeWidth/t.width*100).toFixed(1)),p=ne(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(o.value)/2}`,10):0),a=ne(()=>{const _=p.value,b=t.type==="dashboard";return`
          M 50 50
          m 0 ${b?"":"-"}${_}
          a ${_} ${_} 0 1 1 0 ${b?"-":""}${_*2}
          a ${_} ${_} 0 1 1 0 ${b?"":"-"}${_*2}
          `}),s=ne(()=>2*Math.PI*p.value),h=ne(()=>t.type==="dashboard"?.75:1),u=ne(()=>`${-1*s.value*(1-h.value)/2}px`),l=ne(()=>({strokeDasharray:`${s.value*h.value}px, ${s.value}px`,strokeDashoffset:u.value})),f=ne(()=>({strokeDasharray:`${s.value*h.value*(t.percentage/100)}px, ${s.value}px`,strokeDashoffset:u.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),c=ne(()=>{let _;return t.color?_=y(t.percentage):_=n[t.status]||n.default,_}),d=ne(()=>t.status==="warning"?Md:t.type==="line"?t.status==="success"?Id:Rd:t.status==="success"?r1:Da),v=ne(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),g=ne(()=>t.format(t.percentage));function m(_){const b=100/_.length;return _.map((S,x)=>Ye(S)?{color:S,percentage:(x+1)*b}:S).sort((S,x)=>S.percentage-x.percentage)}const y=_=>{var b;const{color:w}=t;if($e(w))return w(_);if(Ye(w))return w;{const S=m(w);for(const x of S)if(x.percentage>_)return x.color;return(b=S[S.length-1])==null?void 0:b.color}};return(_,b)=>(z(),ie("div",{class:be([E(r).b(),E(r).m(_.type),E(r).is(_.status),{[E(r).m("without-text")]:!_.showText,[E(r).m("text-inside")]:_.textInside}]),role:"progressbar","aria-valuenow":_.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[_.type==="line"?(z(),ie("div",{key:0,class:be(E(r).b("bar"))},[N("div",{class:be(E(r).be("bar","outer")),style:je({height:`${_.strokeWidth}px`})},[N("div",{class:be([E(r).be("bar","inner"),{[E(r).bem("bar","inner","indeterminate")]:_.indeterminate},{[E(r).bem("bar","inner","striped")]:_.striped},{[E(r).bem("bar","inner","striped-flow")]:_.stripedFlow}]),style:je(E(i))},[(_.showText||_.$slots.default)&&_.textInside?(z(),ie("div",{key:0,class:be(E(r).be("bar","innerText"))},[Ie(_.$slots,"default",{percentage:_.percentage},()=>[N("span",null,We(E(g)),1)])],2)):Te("v-if",!0)],6)],6)],2)):(z(),ie("div",{key:1,class:be(E(r).b("circle")),style:je({height:`${_.width}px`,width:`${_.width}px`})},[(z(),ie("svg",jB,[N("path",{class:be(E(r).be("circle","track")),d:E(a),stroke:`var(${E(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":_.strokeLinecap,"stroke-width":E(o),fill:"none",style:je(E(l))},null,14,NB),N("path",{class:be(E(r).be("circle","path")),d:E(a),stroke:E(c),fill:"none",opacity:_.percentage?1:0,"stroke-linecap":_.strokeLinecap,"stroke-width":E(o),style:je(E(f))},null,14,zB)]))],6)),(_.showText||_.$slots.default)&&!_.textInside?(z(),ie("div",{key:2,class:be(E(r).e("text")),style:je({fontSize:`${E(v)}px`})},[Ie(_.$slots,"default",{percentage:_.percentage},()=>[_.status?(z(),Oe(E(Ke),{key:1},{default:Ce(()=>[(z(),Oe(nn(E(d))))]),_:1})):(z(),ie("span",HB,We(E(g)),1))])],6)):Te("v-if",!0)],10,$B))}});var WB=Ge(VB,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const YB=Zt(WB),iw=Symbol("sliderContextKey"),GB=Qe({modelValue:{type:Ae([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:ya,inputSize:ya,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Ae(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Ae(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:La,default:"top"},marks:{type:Ae(Object)},validateEvent:{type:Boolean,default:!0}}),$u=e=>rt(e)||De(e)&&e.every(rt),XB={[mn]:$u,[Fi]:$u,[Hc]:$u},KB=(e,t,n)=>{const r=pe();return lt(async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Gt(window,"resize",n),await ct(),n()}),{sliderWrapper:r}},qB=e=>ne(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),JB=(e,t,n)=>{const{form:r,formItem:i}=Wc(),o=sn(),p=pe(),a=pe(),s={firstButton:p,secondButton:a},h=ne(()=>e.disabled||r?.disabled||!1),u=ne(()=>Math.min(t.firstValue,t.secondValue)),l=ne(()=>Math.max(t.firstValue,t.secondValue)),f=ne(()=>e.range?`${100*(l.value-u.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),c=ne(()=>e.range?`${100*(u.value-e.min)/(e.max-e.min)}%`:"0%"),d=ne(()=>e.vertical?{height:e.height}:{}),v=ne(()=>e.vertical?{height:f.value,bottom:c.value}:{width:f.value,left:c.value}),g=()=>{o.value&&(t.sliderSize=o.value[`client${e.vertical?"Height":"Width"}`])},m=K=>{const Y=e.min+K*(e.max-e.min)/100;if(!e.range)return p;let W;return Math.abs(u.value-Y)<Math.abs(l.value-Y)?W=t.firstValue<t.secondValue?"firstButton":"secondButton":W=t.firstValue>t.secondValue?"firstButton":"secondButton",s[W]},y=K=>{const Y=m(K);return Y.value.setPosition(K),Y},_=K=>{t.firstValue=K,w(e.range?[u.value,l.value]:K)},b=K=>{t.secondValue=K,e.range&&w([u.value,l.value])},w=K=>{n(mn,K),n(Fi,K)},S=async()=>{await ct(),n(Hc,e.range?[u.value,l.value]:e.modelValue)},x=K=>{var Y,W,ee,le,de,U;if(h.value||t.dragging)return;g();let Q=0;if(e.vertical){const O=(ee=(W=(Y=K.touches)==null?void 0:Y.item(0))==null?void 0:W.clientY)!=null?ee:K.clientY;Q=(o.value.getBoundingClientRect().bottom-O)/t.sliderSize*100}else{const O=(U=(de=(le=K.touches)==null?void 0:le.item(0))==null?void 0:de.clientX)!=null?U:K.clientX,R=o.value.getBoundingClientRect().left;Q=(O-R)/t.sliderSize*100}if(!(Q<0||Q>100))return y(Q)};return{elFormItem:i,slider:o,firstButton:p,secondButton:a,sliderDisabled:h,minValue:u,maxValue:l,runwayStyle:d,barStyle:v,resetSize:g,setPosition:y,emitChange:S,onSliderWrapperPrevent:K=>{var Y,W;((Y=s.firstButton.value)!=null&&Y.dragging||(W=s.secondButton.value)!=null&&W.dragging)&&K.preventDefault()},onSliderClick:K=>{x(K)&&S()},onSliderDown:async K=>{const Y=x(K);Y&&(await ct(),Y.value.onButtonDown(K))},setFirstValue:_,setSecondValue:b}},{left:ZB,down:QB,right:e$,up:t$,home:n$,end:r$,pageUp:i$,pageDown:s$}=et,o$=(e,t,n)=>{const r=pe(),i=pe(!1),o=ne(()=>t.value instanceof Function),p=ne(()=>o.value&&t.value(e.modelValue)||e.modelValue),a=Qf(()=>{n.value&&(i.value=!0)},50),s=Qf(()=>{n.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:p,displayTooltip:a,hideTooltip:s}},a$=(e,t,n)=>{const{disabled:r,min:i,max:o,step:p,showTooltip:a,precision:s,sliderSize:h,formatTooltip:u,emitChange:l,resetSize:f,updateDragging:c}=Le(iw),{tooltip:d,tooltipVisible:v,formatValue:g,displayTooltip:m,hideTooltip:y}=o$(e,u,a),_=pe(),b=ne(()=>`${(e.modelValue-i.value)/(o.value-i.value)*100}%`),w=ne(()=>e.vertical?{bottom:b.value}:{left:b.value}),S=()=>{t.hovering=!0,m()},x=()=>{t.hovering=!1,t.dragging||y()},P=D=>{r.value||(D.preventDefault(),Q(D),window.addEventListener("mousemove",O),window.addEventListener("touchmove",O),window.addEventListener("mouseup",R),window.addEventListener("touchend",R),window.addEventListener("contextmenu",R),_.value.focus())},B=D=>{r.value||(t.newPosition=Number.parseFloat(b.value)+D/(o.value-i.value)*100,F(t.newPosition),l())},G=()=>{B(-p.value)},K=()=>{B(p.value)},Y=()=>{B(-p.value*4)},W=()=>{B(p.value*4)},ee=()=>{r.value||(F(0),l())},le=()=>{r.value||(F(100),l())},de=D=>{let se=!0;[ZB,QB].includes(D.key)?G():[e$,t$].includes(D.key)?K():D.key===n$?ee():D.key===r$?le():D.key===s$?Y():D.key===i$?W():se=!1,se&&D.preventDefault()},U=D=>{let se,j;return D.type.startsWith("touch")?(j=D.touches[0].clientY,se=D.touches[0].clientX):(j=D.clientY,se=D.clientX),{clientX:se,clientY:j}},Q=D=>{t.dragging=!0,t.isClick=!0;const{clientX:se,clientY:j}=U(D);e.vertical?t.startY=j:t.startX=se,t.startPosition=Number.parseFloat(b.value),t.newPosition=t.startPosition},O=D=>{if(t.dragging){t.isClick=!1,m(),f();let se;const{clientX:j,clientY:I}=U(D);e.vertical?(t.currentY=I,se=(t.startY-t.currentY)/h.value*100):(t.currentX=j,se=(t.currentX-t.startX)/h.value*100),t.newPosition=t.startPosition+se,F(t.newPosition)}},R=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||y(),t.isClick||F(t.newPosition),l()},0),window.removeEventListener("mousemove",O),window.removeEventListener("touchmove",O),window.removeEventListener("mouseup",R),window.removeEventListener("touchend",R),window.removeEventListener("contextmenu",R))},F=async D=>{if(D===null||Number.isNaN(+D))return;D<0?D=0:D>100&&(D=100);const se=100/((o.value-i.value)/p.value);let I=Math.round(D/se)*se*(o.value-i.value)*.01+i.value;I=Number.parseFloat(I.toFixed(s.value)),I!==e.modelValue&&n(mn,I),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await ct(),t.dragging&&m(),d.value.updatePopper()};return Me(()=>t.dragging,D=>{c(D)}),{disabled:r,button:_,tooltip:d,tooltipVisible:v,showTooltip:a,wrapperStyle:w,formatValue:g,handleMouseEnter:S,handleMouseLeave:x,onButtonDown:P,onKeyDown:de,setPosition:F}},l$=(e,t,n,r)=>({stops:ne(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const p=(e.max-e.min)/e.step,a=100*e.step/(e.max-e.min),s=Array.from({length:p-1}).map((h,u)=>(u+1)*a);return e.range?s.filter(h=>h<100*(n.value-e.min)/(e.max-e.min)||h>100*(r.value-e.min)/(e.max-e.min)):s.filter(h=>h>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:p=>e.vertical?{bottom:`${p}%`}:{left:`${p}%`}}),c$=(e,t,n,r,i,o)=>{const p=h=>{i(mn,h),i(Fi,h)},a=()=>e.range?![n.value,r.value].every((h,u)=>h===t.oldValue[u]):e.modelValue!==t.oldValue,s=()=>{var h,u;e.min>e.max&&co("Slider","min should not be greater than max.");const l=e.modelValue;e.range&&Array.isArray(l)?l[1]<e.min?p([e.min,e.min]):l[0]>e.max?p([e.max,e.max]):l[0]<e.min?p([e.min,l[1]]):l[1]>e.max?p([l[0],e.max]):(t.firstValue=l[0],t.secondValue=l[1],a()&&(e.validateEvent&&((h=o?.validate)==null||h.call(o,"change").catch(f=>void 0)),t.oldValue=l.slice())):!e.range&&typeof l=="number"&&!Number.isNaN(l)&&(l<e.min?p(e.min):l>e.max?p(e.max):(t.firstValue=l,a()&&(e.validateEvent&&((u=o?.validate)==null||u.call(o,"change").catch(f=>void 0)),t.oldValue=l)))};s(),Me(()=>t.dragging,h=>{h||s()}),Me(()=>e.modelValue,(h,u)=>{t.dragging||Array.isArray(h)&&Array.isArray(u)&&h.every((l,f)=>l===u[f])&&t.firstValue===h[0]&&t.secondValue===h[1]||s()},{deep:!0}),Me(()=>[e.min,e.max],()=>{s()})},u$=Qe({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:La,default:"top"}}),f$={[mn]:e=>rt(e)},h$=["tabindex"],d$=ke({name:"ElSliderButton"}),p$=ke({...d$,props:u$,emits:f$,setup(e,{expose:t,emit:n}){const r=e,i=it("slider"),o=St({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:p,button:a,tooltip:s,showTooltip:h,tooltipVisible:u,wrapperStyle:l,formatValue:f,handleMouseEnter:c,handleMouseLeave:d,onButtonDown:v,onKeyDown:g,setPosition:m}=a$(r,o,n),{hovering:y,dragging:_}=Rf(o);return t({onButtonDown:v,onKeyDown:g,setPosition:m,hovering:y,dragging:_}),(b,w)=>(z(),ie("div",{ref_key:"button",ref:a,class:be([E(i).e("button-wrapper"),{hover:E(y),dragging:E(_)}]),style:je(E(l)),tabindex:E(p)?-1:0,onMouseenter:w[0]||(w[0]=(...S)=>E(c)&&E(c)(...S)),onMouseleave:w[1]||(w[1]=(...S)=>E(d)&&E(d)(...S)),onMousedown:w[2]||(w[2]=(...S)=>E(v)&&E(v)(...S)),onTouchstart:w[3]||(w[3]=(...S)=>E(v)&&E(v)(...S)),onFocus:w[4]||(w[4]=(...S)=>E(c)&&E(c)(...S)),onBlur:w[5]||(w[5]=(...S)=>E(d)&&E(d)(...S)),onKeydown:w[6]||(w[6]=(...S)=>E(g)&&E(g)(...S))},[ye(E(uo),{ref_key:"tooltip",ref:s,visible:E(u),placement:b.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":b.tooltipClass,disabled:!E(h),persistent:""},{content:Ce(()=>[N("span",null,We(E(f)),1)]),default:Ce(()=>[N("div",{class:be([E(i).e("button"),{hover:E(y),dragging:E(_)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,h$))}});var qm=Ge(p$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const g$=Qe({mark:{type:Ae([String,Object]),default:void 0}});var v$=ke({name:"ElSliderMarker",props:g$,setup(e){const t=it("slider"),n=ne(()=>Ye(e.mark)?e.mark:e.mark.label),r=ne(()=>Ye(e.mark)?void 0:e.mark.style);return()=>Ac("div",{class:t.e("marks-text"),style:r.value},n.value)}});const m$=["id","role","aria-label","aria-labelledby"],y$={key:1},_$=ke({name:"ElSlider"}),b$=ke({..._$,props:GB,emits:XB,setup(e,{expose:t,emit:n}){const r=e,i=it("slider"),{t:o}=Qi(),p=St({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:a,slider:s,firstButton:h,secondButton:u,sliderDisabled:l,minValue:f,maxValue:c,runwayStyle:d,barStyle:v,resetSize:g,emitChange:m,onSliderWrapperPrevent:y,onSliderClick:_,onSliderDown:b,setFirstValue:w,setSecondValue:S}=JB(r,p,n),{stops:x,getStopStyle:P}=l$(r,p,f,c),{inputId:B,isLabeledByFormItem:G}=D1(r,{formItemContext:a}),K=$a(),Y=ne(()=>r.inputSize||K.value),W=ne(()=>r.label||o("el.slider.defaultLabel",{min:r.min,max:r.max})),ee=ne(()=>r.range?r.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):W.value),le=ne(()=>r.formatValueText?r.formatValueText(D.value):`${D.value}`),de=ne(()=>r.rangeEndLabel||o("el.slider.defaultRangeEndLabel")),U=ne(()=>r.formatValueText?r.formatValueText(se.value):`${se.value}`),Q=ne(()=>[i.b(),i.m(K.value),i.is("vertical",r.vertical),{[i.m("with-input")]:r.showInput}]),O=qB(r);c$(r,p,f,c,n,a);const R=ne(()=>{const X=[r.min,r.max,r.step].map($=>{const V=`${$}`.split(".")[1];return V?V.length:0});return Math.max.apply(null,X)}),{sliderWrapper:F}=KB(r,p,g),{firstValue:D,secondValue:se,sliderSize:j}=Rf(p),I=X=>{p.dragging=X};return yt(iw,{...Rf(r),sliderSize:j,disabled:l,precision:R,emitChange:m,resetSize:g,updateDragging:I}),t({onSliderClick:_}),(X,$)=>{var V,J;return z(),ie("div",{id:X.range?E(B):void 0,ref_key:"sliderWrapper",ref:F,class:be(E(Q)),role:X.range?"group":void 0,"aria-label":X.range&&!E(G)?E(W):void 0,"aria-labelledby":X.range&&E(G)?(V=E(a))==null?void 0:V.labelId:void 0,onTouchstart:$[2]||($[2]=(...ce)=>E(y)&&E(y)(...ce)),onTouchmove:$[3]||($[3]=(...ce)=>E(y)&&E(y)(...ce))},[N("div",{ref_key:"slider",ref:s,class:be([E(i).e("runway"),{"show-input":X.showInput&&!X.range},E(i).is("disabled",E(l))]),style:je(E(d)),onMousedown:$[0]||($[0]=(...ce)=>E(b)&&E(b)(...ce)),onTouchstart:$[1]||($[1]=(...ce)=>E(b)&&E(b)(...ce))},[N("div",{class:be(E(i).e("bar")),style:je(E(v))},null,6),ye(qm,{id:X.range?void 0:E(B),ref_key:"firstButton",ref:h,"model-value":E(D),vertical:X.vertical,"tooltip-class":X.tooltipClass,placement:X.placement,role:"slider","aria-label":X.range||!E(G)?E(ee):void 0,"aria-labelledby":!X.range&&E(G)?(J=E(a))==null?void 0:J.labelId:void 0,"aria-valuemin":X.min,"aria-valuemax":X.range?E(se):X.max,"aria-valuenow":E(D),"aria-valuetext":E(le),"aria-orientation":X.vertical?"vertical":"horizontal","aria-disabled":E(l),"onUpdate:modelValue":E(w)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),X.range?(z(),Oe(qm,{key:0,ref_key:"secondButton",ref:u,"model-value":E(se),vertical:X.vertical,"tooltip-class":X.tooltipClass,placement:X.placement,role:"slider","aria-label":E(de),"aria-valuemin":E(D),"aria-valuemax":X.max,"aria-valuenow":E(se),"aria-valuetext":E(U),"aria-orientation":X.vertical?"vertical":"horizontal","aria-disabled":E(l),"onUpdate:modelValue":E(S)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Te("v-if",!0),X.showStops?(z(),ie("div",y$,[(z(!0),ie(Re,null,st(E(x),(ce,ve)=>(z(),ie("div",{key:ve,class:be(E(i).e("stop")),style:je(E(P)(ce))},null,6))),128))])):Te("v-if",!0),E(O).length>0?(z(),ie(Re,{key:2},[N("div",null,[(z(!0),ie(Re,null,st(E(O),(ce,ve)=>(z(),ie("div",{key:ve,style:je(E(P)(ce.position)),class:be([E(i).e("stop"),E(i).e("marks-stop")])},null,6))),128))]),N("div",{class:be(E(i).e("marks"))},[(z(!0),ie(Re,null,st(E(O),(ce,ve)=>(z(),Oe(E(v$),{key:ve,mark:ce.mark,style:je(E(P)(ce.position))},null,8,["mark","style"]))),128))],2)],64)):Te("v-if",!0)],38),X.showInput&&!X.range?(z(),Oe(E(EB),{key:0,ref:"input","model-value":E(D),class:be(E(i).e("input")),step:X.step,disabled:E(l),controls:X.showInputControls,min:X.min,max:X.max,debounce:X.debounce,size:E(Y),"onUpdate:modelValue":E(w),onChange:E(m)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):Te("v-if",!0)],42,m$)}}});var w$=Ge(b$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const C$=Zt(w$),sw=Symbol("uploadContextKey"),S$="ElUpload";class x$ extends Error{constructor(t,n,r,i){super(t),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=i}}function Jm(e,t,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${t.method} ${e} ${n.status}`,new x$(r,n.status,t.method,e)}function T$(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const E$=e=>{typeof XMLHttpRequest>"u"&&co(S$,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",o=>{const p=o;p.percent=o.total>0?o.loaded/o.total*100:0,e.onProgress(p)});const r=new FormData;if(e.data)for(const[o,p]of Object.entries(e.data))De(p)&&p.length?r.append(o,...p):r.append(o,p);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(Jm(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(Jm(n,e,t));e.onSuccess(T$(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const i=e.headers||{};if(i instanceof Headers)i.forEach((o,p)=>t.setRequestHeader(p,o));else for(const[o,p]of Object.entries(i))Zn(p)||t.setRequestHeader(o,String(p));return t.send(r),t},ow=["text","picture","picture-card"];let O$=1;const ah=()=>Date.now()+O$++,aw=Qe({action:{type:String,default:"#"},headers:{type:Ae(Object)},method:{type:String,default:"post"},data:{type:Ae([Object,Function,Promise]),default:()=>Ni({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Ae(Array),default:()=>Ni([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:ow,default:"text"},httpRequest:{type:Ae(Function),default:E$},disabled:Boolean,limit:Number}),k$=Qe({...aw,beforeUpload:{type:Ae(Function),default:nt},beforeRemove:{type:Ae(Function)},onRemove:{type:Ae(Function),default:nt},onChange:{type:Ae(Function),default:nt},onPreview:{type:Ae(Function),default:nt},onSuccess:{type:Ae(Function),default:nt},onProgress:{type:Ae(Function),default:nt},onError:{type:Ae(Function),default:nt},onExceed:{type:Ae(Function),default:nt}}),P$=Qe({files:{type:Ae(Array),default:()=>Ni([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Ae(Function),default:nt},listType:{type:String,values:ow,default:"text"}}),A$={remove:e=>!!e},I$=["onKeydown"],R$=["src"],M$=["onClick"],D$=["title"],F$=["onClick"],L$=["onClick"],B$=ke({name:"ElUploadList"}),$$=ke({...B$,props:P$,emits:A$,setup(e,{emit:t}){const n=e,{t:r}=Qi(),i=it("upload"),o=it("icon"),p=it("list"),a=_i(),s=pe(!1),h=ne(()=>[i.b("list"),i.bm("list",n.listType),i.is("disabled",n.disabled)]),u=l=>{t("remove",l)};return(l,f)=>(z(),Oe(Fx,{tag:"ul",class:be(E(h)),name:E(p).b()},{default:Ce(()=>[(z(!0),ie(Re,null,st(l.files,c=>(z(),ie("li",{key:c.uid||c.name,class:be([E(i).be("list","item"),E(i).is(c.status),{focusing:s.value}]),tabindex:"0",onKeydown:ws(d=>!E(a)&&u(c),["delete"]),onFocus:f[0]||(f[0]=d=>s.value=!0),onBlur:f[1]||(f[1]=d=>s.value=!1),onClick:f[2]||(f[2]=d=>s.value=!1)},[Ie(l.$slots,"default",{file:c},()=>[l.listType==="picture"||c.status!=="uploading"&&l.listType==="picture-card"?(z(),ie("img",{key:0,class:be(E(i).be("list","item-thumbnail")),src:c.url,alt:""},null,10,R$)):Te("v-if",!0),c.status==="uploading"||l.listType!=="picture-card"?(z(),ie("div",{key:1,class:be(E(i).be("list","item-info"))},[N("a",{class:be(E(i).be("list","item-name")),onClick:Lt(d=>l.handlePreview(c),["prevent"])},[ye(E(Ke),{class:be(E(o).m("document"))},{default:Ce(()=>[ye(E(UM))]),_:1},8,["class"]),N("span",{class:be(E(i).be("list","item-file-name")),title:c.name},We(c.name),11,D$)],10,M$),c.status==="uploading"?(z(),Oe(E(YB),{key:0,type:l.listType==="picture-card"?"circle":"line","stroke-width":l.listType==="picture-card"?6:2,percentage:Number(c.percentage),style:je(l.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Te("v-if",!0)],2)):Te("v-if",!0),N("label",{class:be(E(i).be("list","item-status-label"))},[l.listType==="text"?(z(),Oe(E(Ke),{key:0,class:be([E(o).m("upload-success"),E(o).m("circle-check")])},{default:Ce(()=>[ye(E(Id))]),_:1},8,["class"])):["picture-card","picture"].includes(l.listType)?(z(),Oe(E(Ke),{key:1,class:be([E(o).m("upload-success"),E(o).m("check")])},{default:Ce(()=>[ye(E(r1))]),_:1},8,["class"])):Te("v-if",!0)],2),E(a)?Te("v-if",!0):(z(),Oe(E(Ke),{key:2,class:be(E(o).m("close")),onClick:d=>u(c)},{default:Ce(()=>[ye(E(Da))]),_:2},1032,["class","onClick"])),Te(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Te(" This is a bug which needs to be fixed "),Te(" TODO: Fix the incorrect navigation interaction "),E(a)?Te("v-if",!0):(z(),ie("i",{key:3,class:be(E(o).m("close-tip"))},We(E(r)("el.upload.deleteTip")),3)),l.listType==="picture-card"?(z(),ie("span",{key:4,class:be(E(i).be("list","item-actions"))},[N("span",{class:be(E(i).be("list","item-preview")),onClick:d=>l.handlePreview(c)},[ye(E(Ke),{class:be(E(o).m("zoom-in"))},{default:Ce(()=>[ye(E(l1))]),_:1},8,["class"])],10,F$),E(a)?Te("v-if",!0):(z(),ie("span",{key:0,class:be(E(i).be("list","item-delete")),onClick:d=>u(c)},[ye(E(Ke),{class:be(E(o).m("delete"))},{default:Ce(()=>[ye(E(BM))]),_:1},8,["class"])],10,L$))],2)):Te("v-if",!0)])],42,I$))),128)),Ie(l.$slots,"append")]),_:3},8,["class","name"]))}});var Zm=Ge($$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const j$=Qe({disabled:{type:Boolean,default:!1}}),N$={file:e=>De(e)},z$=["onDrop","onDragover"],lw="ElUploadDrag",H$=ke({name:lw}),U$=ke({...H$,props:j$,emits:N$,setup(e,{emit:t}){const n=Le(sw);n||co(lw,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=it("upload"),i=pe(!1),o=_i(),p=s=>{if(o.value)return;i.value=!1,s.stopPropagation();const h=Array.from(s.dataTransfer.files),u=n.accept.value;if(!u){t("file",h);return}const l=h.filter(f=>{const{type:c,name:d}=f,v=d.includes(".")?`.${d.split(".").pop()}`:"",g=c.replace(/\/.*$/,"");return u.split(",").map(m=>m.trim()).filter(m=>m).some(m=>m.startsWith(".")?v===m:/\/\*$/.test(m)?g===m.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(m)?c===m:!1)});t("file",l)},a=()=>{o.value||(i.value=!0)};return(s,h)=>(z(),ie("div",{class:be([E(r).b("dragger"),E(r).is("dragover",i.value)]),onDrop:Lt(p,["prevent"]),onDragover:Lt(a,["prevent"]),onDragleave:h[0]||(h[0]=Lt(u=>i.value=!1,["prevent"]))},[Ie(s.$slots,"default")],42,z$))}});var V$=Ge(U$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const W$=Qe({...aw,beforeUpload:{type:Ae(Function),default:nt},onRemove:{type:Ae(Function),default:nt},onStart:{type:Ae(Function),default:nt},onSuccess:{type:Ae(Function),default:nt},onProgress:{type:Ae(Function),default:nt},onError:{type:Ae(Function),default:nt},onExceed:{type:Ae(Function),default:nt}}),Y$=["onKeydown"],G$=["name","multiple","accept"],X$=ke({name:"ElUploadContent",inheritAttrs:!1}),K$=ke({...X$,props:W$,setup(e,{expose:t}){const n=e,r=it("upload"),i=_i(),o=sn({}),p=sn(),a=v=>{if(v.length===0)return;const{autoUpload:g,limit:m,fileList:y,multiple:_,onStart:b,onExceed:w}=n;if(m&&y.length+v.length>m){w(v,y);return}_||(v=v.slice(0,1));for(const S of v){const x=S;x.uid=ah(),b(x),g&&s(x)}},s=async v=>{if(p.value.value="",!n.beforeUpload)return u(v);let g,m={};try{const _=n.data,b=n.beforeUpload(v);m=Ml(n.data)?fm(n.data):n.data,g=await b,Ml(n.data)&&kR(_,m)&&(m=fm(n.data))}catch{g=!1}if(g===!1){n.onRemove(v);return}let y=v;g instanceof Blob&&(g instanceof File?y=g:y=new File([g],v.name,{type:v.type})),u(Object.assign(y,{uid:v.uid}),m)},h=async(v,g)=>$e(v)?v(g):v,u=async(v,g)=>{const{headers:m,data:y,method:_,withCredentials:b,name:w,action:S,onProgress:x,onSuccess:P,onError:B,httpRequest:G}=n;try{g=await h(g??y,v)}catch{n.onRemove(v);return}const{uid:K}=v,Y={headers:m||{},withCredentials:b,file:v,data:g,method:_,filename:w,action:S,onProgress:ee=>{x(ee,v)},onSuccess:ee=>{P(ee,v),delete o.value[K]},onError:ee=>{B(ee,v),delete o.value[K]}},W=G(Y);o.value[K]=W,W instanceof Promise&&W.then(Y.onSuccess,Y.onError)},l=v=>{const g=v.target.files;g&&a(Array.from(g))},f=()=>{i.value||(p.value.value="",p.value.click())},c=()=>{f()};return t({abort:v=>{MR(o.value).filter(v?([m])=>String(v.uid)===m:()=>!0).forEach(([m,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete o.value[m]})},upload:s}),(v,g)=>(z(),ie("div",{class:be([E(r).b(),E(r).m(v.listType),E(r).is("drag",v.drag)]),tabindex:"0",onClick:f,onKeydown:ws(Lt(c,["self"]),["enter","space"])},[v.drag?(z(),Oe(V$,{key:0,disabled:E(i),onFile:a},{default:Ce(()=>[Ie(v.$slots,"default")]),_:3},8,["disabled"])):Ie(v.$slots,"default",{key:1}),N("input",{ref_key:"inputRef",ref:p,class:be(E(r).e("input")),name:v.name,multiple:v.multiple,accept:v.accept,type:"file",onChange:l,onClick:g[0]||(g[0]=Lt(()=>{},["stop"]))},null,42,G$)],42,Y$))}});var Qm=Ge(K$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const e0="ElUpload",t0=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},q$=(e,t)=>{const n=eO(e,"fileList",void 0,{passive:!0}),r=f=>n.value.find(c=>c.uid===f.uid);function i(f){var c;(c=t.value)==null||c.abort(f)}function o(f=["ready","uploading","success","fail"]){n.value=n.value.filter(c=>!f.includes(c.status))}const p=(f,c)=>{const d=r(c);d&&(console.error(f),d.status="fail",n.value.splice(n.value.indexOf(d),1),e.onError(f,d,n.value),e.onChange(d,n.value))},a=(f,c)=>{const d=r(c);d&&(e.onProgress(f,d,n.value),d.status="uploading",d.percentage=Math.round(f.percent))},s=(f,c)=>{const d=r(c);d&&(d.status="success",d.response=f,e.onSuccess(f,d,n.value),e.onChange(d,n.value))},h=f=>{Zn(f.uid)&&(f.uid=ah());const c={name:f.name,percentage:0,status:"ready",size:f.size,raw:f,uid:f.uid};if(e.listType==="picture-card"||e.listType==="picture")try{c.url=URL.createObjectURL(f)}catch(d){d.message,e.onError(d,c,n.value)}n.value=[...n.value,c],e.onChange(c,n.value)},u=async f=>{const c=f instanceof File?r(f):f;c||co(e0,"file to be removed not found");const d=v=>{i(v);const g=n.value;g.splice(g.indexOf(v),1),e.onRemove(v,g),t0(v)};e.beforeRemove?await e.beforeRemove(c,n.value)!==!1&&d(c):d(c)};function l(){n.value.filter(({status:f})=>f==="ready").forEach(({raw:f})=>{var c;return f&&((c=t.value)==null?void 0:c.upload(f))})}return Me(()=>e.listType,f=>{f!=="picture-card"&&f!=="picture"||(n.value=n.value.map(c=>{const{raw:d,url:v}=c;if(!v&&d)try{c.url=URL.createObjectURL(d)}catch(g){e.onError(g,c,n.value)}return c}))}),Me(n,f=>{for(const c of f)c.uid||(c.uid=ah()),c.status||(c.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:i,clearFiles:o,handleError:p,handleProgress:a,handleStart:h,handleSuccess:s,handleRemove:u,submit:l,revokeFileObjectURL:t0}},J$=ke({name:"ElUpload"}),Z$=ke({...J$,props:k$,setup(e,{expose:t}){const n=e,r=_i(),i=sn(),{abort:o,submit:p,clearFiles:a,uploadFiles:s,handleStart:h,handleError:u,handleRemove:l,handleSuccess:f,handleProgress:c,revokeFileObjectURL:d}=q$(n,i),v=ne(()=>n.listType==="picture-card"),g=ne(()=>({...n,fileList:s.value,onStart:h,onProgress:c,onSuccess:f,onError:u,onRemove:l}));return fn(()=>{s.value.forEach(d)}),yt(sw,{accept:Ht(n,"accept")}),t({abort:o,submit:p,clearFiles:a,handleStart:h,handleRemove:l}),(m,y)=>(z(),ie("div",null,[E(v)&&m.showFileList?(z(),Oe(Zm,{key:0,disabled:E(r),"list-type":m.listType,files:E(s),"handle-preview":m.onPreview,onRemove:E(l)},Df({append:Ce(()=>[ye(Qm,Ot({ref_key:"uploadRef",ref:i},E(g)),{default:Ce(()=>[m.$slots.trigger?Ie(m.$slots,"trigger",{key:0}):Te("v-if",!0),!m.$slots.trigger&&m.$slots.default?Ie(m.$slots,"default",{key:1}):Te("v-if",!0)]),_:3},16)]),_:2},[m.$slots.file?{name:"default",fn:Ce(({file:_})=>[Ie(m.$slots,"file",{file:_})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):Te("v-if",!0),!E(v)||E(v)&&!m.showFileList?(z(),Oe(Qm,Ot({key:1,ref_key:"uploadRef",ref:i},E(g)),{default:Ce(()=>[m.$slots.trigger?Ie(m.$slots,"trigger",{key:0}):Te("v-if",!0),!m.$slots.trigger&&m.$slots.default?Ie(m.$slots,"default",{key:1}):Te("v-if",!0)]),_:3},16)):Te("v-if",!0),m.$slots.trigger?Ie(m.$slots,"default",{key:2}):Te("v-if",!0),Ie(m.$slots,"tip"),!E(v)&&m.showFileList?(z(),Oe(Zm,{key:3,disabled:E(r),"list-type":m.listType,files:E(s),"handle-preview":m.onPreview,onRemove:E(l)},Df({_:2},[m.$slots.file?{name:"default",fn:Ce(({file:_})=>[Ie(m.$slots,"file",{file:_})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):Te("v-if",!0)]))}});var Q$=Ge(Z$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const e8=Zt(Q$),cw=["success","info","warning","error"],en=Ni({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:mt?document.body:void 0}),t8=Qe({customClass:{type:String,default:en.customClass},center:{type:Boolean,default:en.center},dangerouslyUseHTMLString:{type:Boolean,default:en.dangerouslyUseHTMLString},duration:{type:Number,default:en.duration},icon:{type:$s,default:en.icon},id:{type:String,default:en.id},message:{type:Ae([String,Object,Function]),default:en.message},onClose:{type:Ae(Function),required:!1},showClose:{type:Boolean,default:en.showClose},type:{type:String,values:cw,default:en.type},offset:{type:Number,default:en.offset},zIndex:{type:Number,default:en.zIndex},grouping:{type:Boolean,default:en.grouping},repeatNum:{type:Number,default:en.repeatNum}}),n8={destroy:()=>!0},qn=ed([]),r8=e=>{const t=qn.findIndex(i=>i.id===e),n=qn[t];let r;return t>0&&(r=qn[t-1]),{current:n,prev:r}},i8=e=>{const{prev:t}=r8(e);return t?t.vm.exposed.bottom.value:0},s8=(e,t)=>qn.findIndex(r=>r.id===e)>0?20:t,o8=["id"],a8=["innerHTML"],l8=ke({name:"ElMessage"}),c8=ke({...l8,props:t8,emits:n8,setup(e,{expose:t}){const n=e,{Close:r}=C4,{ns:i,zIndex:o}=QD("message"),{currentZIndex:p,nextZIndex:a}=o,s=pe(),h=pe(!1),u=pe(0);let l;const f=ne(()=>n.type?n.type==="error"?"danger":n.type:"info"),c=ne(()=>{const x=n.type;return{[i.bm("icon",x)]:x&&vm[x]}}),d=ne(()=>n.icon||vm[n.type]||""),v=ne(()=>i8(n.id)),g=ne(()=>s8(n.id,n.offset)+v.value),m=ne(()=>u.value+g.value),y=ne(()=>({top:`${g.value}px`,zIndex:p.value}));function _(){n.duration!==0&&({stop:l}=HE(()=>{w()},n.duration))}function b(){l?.()}function w(){h.value=!1}function S({code:x}){x===et.esc&&w()}return lt(()=>{_(),a(),h.value=!0}),Me(()=>n.repeatNum,()=>{b(),_()}),Gt(document,"keydown",S),_d(s,()=>{u.value=s.value.getBoundingClientRect().height}),t({visible:h,bottom:m,close:w}),(x,P)=>(z(),Oe(Tr,{name:E(i).b("fade"),onBeforeLeave:x.onClose,onAfterLeave:P[0]||(P[0]=B=>x.$emit("destroy")),persisted:""},{default:Ce(()=>[ut(N("div",{id:x.id,ref_key:"messageRef",ref:s,class:be([E(i).b(),{[E(i).m(x.type)]:x.type&&!x.icon},E(i).is("center",x.center),E(i).is("closable",x.showClose),x.customClass]),style:je(E(y)),role:"alert",onMouseenter:b,onMouseleave:_},[x.repeatNum>1?(z(),Oe(E($F),{key:0,value:x.repeatNum,type:E(f),class:be(E(i).e("badge"))},null,8,["value","type","class"])):Te("v-if",!0),E(d)?(z(),Oe(E(Ke),{key:1,class:be([E(i).e("icon"),E(c)])},{default:Ce(()=>[(z(),Oe(nn(E(d))))]),_:1},8,["class"])):Te("v-if",!0),Ie(x.$slots,"default",{},()=>[x.dangerouslyUseHTMLString?(z(),ie(Re,{key:1},[Te(" Caution here, message could've been compromised, never use user's input as message "),N("p",{class:be(E(i).e("content")),innerHTML:x.message},null,10,a8)],2112)):(z(),ie("p",{key:0,class:be(E(i).e("content"))},We(x.message),3))]),x.showClose?(z(),Oe(E(Ke),{key:2,class:be(E(i).e("closeBtn")),onClick:Lt(w,["stop"])},{default:Ce(()=>[ye(E(r))]),_:1},8,["class","onClick"])):Te("v-if",!0)],46,o8),[[_t,h.value]])]),_:3},8,["name","onBeforeLeave"]))}});var u8=Ge(c8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let f8=1;const uw=e=>{const t=!e||Ye(e)||Is(e)||$e(e)?{message:e}:e,n={...en,...t};if(!n.appendTo)n.appendTo=document.body;else if(Ye(n.appendTo)){let r=document.querySelector(n.appendTo);Bs(r)||(r=document.body),n.appendTo=r}return n},h8=e=>{const t=qn.indexOf(e);if(t===-1)return;qn.splice(t,1);const{handler:n}=e;n.close()},d8=({appendTo:e,...t},n)=>{const r=`message_${f8++}`,i=t.onClose,o=document.createElement("div"),p={...t,id:r,onClose:()=>{i?.(),h8(u)},onDestroy:()=>{hv(null,o)}},a=ye(u8,p,$e(p.message)||Is(p.message)?{default:$e(p.message)?p.message:()=>p.message}:null);a.appContext=n||Vs._context,hv(a,o),e.appendChild(o.firstElementChild);const s=a.component,u={id:r,vnode:a,vm:s,handler:{close:()=>{s.exposed.visible.value=!1}},props:a.component.props};return u},Vs=(e={},t)=>{if(!mt)return{close:()=>{}};if(rt(Im.max)&&qn.length>=Im.max)return{close:()=>{}};const n=uw(e);if(n.grouping&&qn.length){const i=qn.find(({vnode:o})=>{var p;return((p=o.props)==null?void 0:p.message)===n.message});if(i)return i.props.repeatNum+=1,i.props.type=n.type,i.handler}const r=d8(n,t);return qn.push(r),r.handler};cw.forEach(e=>{Vs[e]=(t={},n)=>{const r=uw(t);return Vs({...r,type:e},n)}});function p8(e){for(const t of qn)(!e||e===t.props.type)&&t.handler.close()}Vs.closeAll=p8;Vs._context=null;const g8=x4(Vs,"$message"),v8={class:"material-editor-header"},m8={class:"material-editor-content"},y8={class:"material-editor-framework-left"},ju=313,Nu=265,zu=72,_8=ke({__name:"Framework",setup(e){const{state:t,commit:n}=Xi(),r=pe(),i=pe({module:zu,left:ju,center:window.document.body.clientWidth-ju-Nu-zu,right:Nu}),o=ne(()=>t.activeModule),p=ne(()=>t.isClose),a=ne(()=>o.value&&!o.value.drag&&JSON.stringify(o.value)!="{}");lt(()=>{i.value.center=r.value.offsetWidth-ju-Nu-zu});function s(u){n("setClose",u)}async function h(){s(!0),n("setActiveModule",null)}return(u,l)=>(z(),ie("div",{class:"material-editor",ref_key:"editor",ref:r},[N("div",v8,[Ie(u.$slots,"header",{},void 0,!0)]),N("div",m8,[N("div",{class:"material-editor-framework-module",style:je(`width:${i.value.module}px`)},[Ie(u.$slots,"module",{},void 0,!0)],4),N("div",{class:be(["material-editor-framework--collapsed",[!a.value||p.value?"material-editor-framework-transition":""]]),style:je({width:`${i.value.left}px`,"--width":-i.value.left+"px"})},[N("div",y8,[Ie(u.$slots,"left",{},void 0,!0)]),ye(E(uo),{class:"item",effect:"dark",content:"",placement:"right"},{default:Ce(()=>[ut(N("img",{src:hE,class:"material-editor-framework-close",onClick:h,alt:""},null,512),[[_t,i.value.left!=0&&!p.value]])]),_:1})],6),N("div",{class:"material-editor-framework-center",style:je(`width:${i.value.center}px`)},[Ie(u.$slots,"navlist",{},void 0,!0),Ie(u.$slots,"workspace",{},void 0,!0)],4),N("div",{class:"material-editor-framework-right",style:je(`width:${i.value.right}px`)},[Ie(u.$slots,"color",{},void 0,!0),Ie(u.$slots,"propsPanel",{},void 0,!0)],4)])],512))}}),b8=At(_8,[["__scopeId","data-v-2bfc859e"]]),w8=[{type:"add",text:"",drag:!1,icon:"icon-tianjia"},{type:"template",text:"",drag:!1,icon:"icon-templet-"},{type:"material",text:"",drag:!1,show:!0,icon:"icon-xingzhuang",fileType:["jpg","png","gif","svg"]},{type:"text",text:"",drag:!0,icon:"icon-text",options:{type:"FontCustom",text:"",width:60,height:30,fontSize:32,name:"New text"}},{type:"Image",text:"",drag:!1,icon:"icon-editor-background",fileType:["jpg","png","gif","svg"]},{type:"Video",text:"",drag:!1,icon:"icon-shipinbofang",fileType:["mp4"]},{type:"qrcode",text:"",drag:!1,icon:"icon-erweima1"}],C8={props:{onAddItem:{type:Function}},setup(e){const t=pe(w8),{onAddItem:n}=qe(e),{state:r,commit:i}=Xi(),o=ne(()=>r.activeModule),p=ne(()=>r.isClose),a=ne(()=>r.workspace);function s(u){i("setClose",u)}function h(u){i("setActiveModule",u)}return t.value.find(u=>{u.show&&(h(u),s(!1))}),{modulelist:t,activeModule:o,isClose:p,setActiveModule:h,selectModule(u){if(o.value&&u.type==o.value.type&&!u.drag?(s(!p.value),h(null)):(["text","qrcode"].includes(u.type)?s(!0):s(!1),h(u)),u.drag){let l;const f=parseInt(Math.random()*80);u.type=="text"?l={option:{width:60,height:30,fontSize:32,name:"",text:"",type:"FontCustom",left:a.value.left+a.value.width/2-30-f,top:a.value.top+a.value.height/2-15-f}}:u.type=="qrcode"&&(l={option:{width:200,height:200,name:"",type:"qrcode",src:"https://pic5.40017.cn/i/ori/1e1kdqSZAgo.png?h=200&w=200",left:this.canvasRef.handler.width/2-100-f,top:this.canvasRef.handler.height/2-100-f}});let c=Object.assign({},u,l);n(c)}}}}},S8={class:"module-aside-body"},x8=["onClick"];function T8(e,t,n,r,i,o){return z(),ie("div",S8,[(z(!0),ie(Re,null,st(r.modulelist,(p,a)=>(z(),ie("button",{class:be(["module-aside-button",r.activeModule&&r.activeModule.type==p.type?"actived":""]),key:a,onClick:s=>r.selectModule(p)},[N("i",{class:be([p.icon,"iconfont"])},null,2),N("span",null,We(p.text),1)],10,x8))),128))])}const E8=At(C8,[["render",T8],["__scopeId","data-v-cfdb4c0a"]]),O8="/vue-design-editor/assets/upload-d3fb70fb.svg",k8="/vue-design-editor/assets/h1-10d7bd47.svg",P8="/vue-design-editor/assets/h2-ac35d909.svg",A8="/vue-design-editor/assets/Aa-91318e82.svg",I8="/vue-design-editor/assets/3d-4a45aac9.svg",R8="/vue-design-editor/assets/square-b13ef26e.svg",M8="/vue-design-editor/assets/triangle-c58cdec2.svg",D8="/vue-design-editor/assets/circle-7da04343.svg",F8="/vue-design-editor/assets/line-146dd10e.svg",L8="/vue-design-editor/assets/qrcode-2cb253f0.svg",B8=[{type:"image",title:"//psd",list:[{type:"upload",icon:O8,title:""}]},{type:"text",title:"",list:[{type:"h1",icon:k8,title:""},{type:"h2",icon:P8,title:""},{type:"Aa",icon:A8,title:""},{type:"Aa",icon:I8,title:"3D"}]},{type:"shape",title:"",list:[{type:"square",icon:R8},{type:"triangle",icon:M8},{type:"circle",icon:D8},{type:"line",icon:F8}]},{type:"component",title:"",list:[{type:"qrcode",icon:L8,title:""}]}],$8=[{title:"",interval:[460,489]},{title:"",interval:[386,409]},{title:"",interval:[410,459]},{title:"",interval:[40,49]},{title:"icons"},{title:"",interval:[50,75]},{title:"",interval:[76,89]},{title:"",interval:[89,136]},{title:"",interval:[137,151]},{title:"",interval:[152,181]},{title:"",interval:[182,201]},{title:"",interval:[202,222]},{title:"",interval:[223,252]},{title:"",interval:[253,261]},{title:"",interval:[262,270]},{title:"",interval:[271,300]},{title:"",interval:[301,350]},{title:"",interval:[351,385]},{title:"",interval:[490,519]}],j8={class:"panel-block__header"},N8={class:"panel-block__header-title"},z8={class:"panel-block__header-action"},H8={__name:"panel-block",props:{title:String,subTitle:String},emits:["change"],setup(e,{emit:t}){function n(){t("change")}return(r,i)=>(z(),ie("div",j8,[N("div",N8,We(e.title),1),N("div",z8,[N("span",{onClick:n},[Ie(r.$slots,"default",{},()=>[ao(We(e.subTitle),1)],!0)])])]))}},U8=At(H8,[["__scopeId","data-v-2e948f55"]]),V8={props:{list:{type:Array,required:!0},column:{type:Number,default:4},height:{type:Number,default:225}},data(){return{itemWidth:0,columnData:[]}},watch:{list(){this.renderList()}},mounted(){this.renderList(),window.addEventListener("resize",this.renderList)},methods:{renderList(){this.row||(this.columnData=[],this.itemWidth=`${100/this.column}%`,this.$refs.container&&this.$nextTick(()=>{const e=this.$refs.container.getElementsByClassName("column-item");for(let t=0;t<e.length;t++)this.setElementStyle(e[t],this.list[t],t)}))},setElementStyle(e,t,n){const i=(this.$refs.container.offsetWidth/this.column-6)/t.width*t.height+6;if(n<this.column)e.style.left=`${n*(100/this.column)}%`,this.columnData[n]=this.columnData[n]?this.columnData[n]+i:i;else{let o={};for(let p=0;p<this.columnData.length;p++)Object.prototype.hasOwnProperty.call(o,"index")?this.columnData[p]<o.value&&(o={index:p,value:this.columnData[p]}):o={index:p,value:this.columnData[p]};e.style.left=`${o.index*(100/this.column)}%`,e.style.top=`${o.value}px`,this.columnData[o.index]+=i}e.style.width=this.itemWidth}}},W8={class:be({"waterfall-wrap":!0}),ref:"container"};function Y8(e,t,n,r,i,o){return z(),ie("div",W8,[(z(!0),ie(Re,null,st(n.list,(p,a)=>(z(),ie("div",{key:a,class:"column-item"},[Ie(e.$slots,"default",{item:p},void 0,!0)]))),128))],512)}const G8=At(V8,[["render",Y8],["__scopeId","data-v-61d1b56b"]]),X8=e=>(Sn("data-v-f3651e71"),e=e(),xn(),e),K8={key:0,class:"resource-station__panel page-scrollbar_container"},q8={key:0,class:"add"},J8={class:"header"},Z8={class:"title"},Q8={class:"container"},e6={class:"list"},t6={class:"content"},n6={class:"img-icon"},r6=["src"],i6={key:0,class:"name"},s6={key:1,class:"material"},o6={class:"nav-container"},a6={class:"navlist"},l6=["onClick"],c6={class:"el-dropdown-link"},u6={class:"material-container"},f6={class:"container page-scrollbar_container"},h6={class:"panel-content"},d6={key:0,class:"panel-batch"},p6={key:1,class:"panel-batch"},g6={key:0,class:"detail-list page-scrollbar_container"},v6={key:2,class:"Image"},m6=X8(()=>N("div",{class:"image-slot"},null,-1)),y6={__name:"resource",setup(e){const{state:t}=Xi(),n=pe("https://haixin-fang.github.io/vue-design-editor-static/"),r=pe(),i=ne(()=>t.activeModule),o=ne(()=>t.imageList?(t.imageList.forEach(f=>{f.url=n.value+"image/"+f.url}),t.imageList):[]),p=ne(()=>t.icons),a=sn(B8),s=sn($8.map((f,c)=>({...f,id:c})));function h(f){r.value=f}const u=([f,c])=>Array(c-(f-1)).fill("").map((v,g)=>g+f);function l(f,c,d){c.type=i.value.type,c.interval&&(c.url=`${n.value}svg/${d}.svg`),f.dataTransfer.setData("item",JSON.stringify(c))}return(f,c)=>i.value?(z(),ie("div",K8,[i.value.type=="add"?(z(),ie("div",q8,[(z(!0),ie(Re,null,st(a.value,(d,v)=>(z(),ie("div",{class:"addList",key:v},[N("div",J8,[N("div",Z8,We(d.title),1)]),N("div",Q8,[N("div",e6,[N("div",t6,[(z(!0),ie(Re,null,st(d.list,(g,m)=>(z(),ie("div",{class:"addItem",key:m},[N("div",n6,[N("img",{src:g.icon,alt:""},null,8,r6)]),g.title?(z(),ie("div",i6,We(g.title),1)):Te("",!0)]))),128))])])])]))),128))])):Te("",!0),i.value.type=="material"?(z(),ie("div",s6,[N("div",o6,[N("div",a6,[N("div",{class:be(["navItem",r.value?"":"navItemActive"]),onClick:c[0]||(c[0]=d=>r.value=null)},"  ",2),(z(!0),ie(Re,null,st(s.value.slice(0,4),d=>(z(),ie("div",{class:be(["navItem",r.value&&r.value.title==d.title?"navItemActive":""]),key:d.id,onClick:v=>h(d)},We(d.title),11,l6))),128)),s.value.length>4?(z(),Oe(E(nB),{key:0,onCommand:h,class:"navItem","popper-class":"navItem",trigger:"click",teleported:!1},{dropdown:Ce(()=>[ye(E(iB),null,{default:Ce(()=>[(z(!0),ie(Re,null,st(s.value.slice(4),d=>(z(),Oe(E(rB),{command:d,key:d.id},{default:Ce(()=>[N("span",{class:be(r.value&&r.value.title==d.title?"navItemActive":"")},We(d.title),3)]),_:2},1032,["command"]))),128))]),_:1})]),default:Ce(()=>[N("span",c6,[ao("  "),ye(E(Ke),{class:"el-icon--right"},{default:Ce(()=>[ye(E(Nc))]),_:1})])]),_:1})):Te("",!0)])]),N("div",u6,[N("div",f6,[(z(!0),ie(Re,null,st(s.value,d=>(z(),ie("div",{class:"panel-block",key:d.id},[ye(U8,{title:d.title,subTitle:"",onChange:v=>h(d)},null,8,["title","onChange"]),N("div",h6,[d.interval?(z(),ie("div",d6,[(z(!0),ie(Re,null,st(u(d.interval).slice(0,8),v=>(z(),ie("div",{class:"material-detail",key:v},[ye(E(xo),{src:`${n.value}svg/${v}.svg`,lazy:"",draggable:!0,onDragstart:g=>l(g,d,v)},null,8,["src","onDragstart"])]))),128))])):(z(),ie("div",p6,[(z(!0),ie(Re,null,st(p.value.slice(0,8),(v,g)=>(z(),ie("div",{class:"material-detail",style:{width:"60px",height:"60px"},key:g},[ye(E(xo),{src:v.url,lazy:"",draggable:!0,onDragstart:m=>l(m,v)},null,8,["src","onDragstart"])]))),128))]))])]))),128))]),ye(Tr,{name:"anime"},{default:Ce(()=>[r.value?(z(),ie("div",g6,[r.value.interval?(z(!0),ie(Re,{key:0},st(u(r.value.interval),d=>(z(),ie("div",{class:"detail-item",key:d},[ye(E(xo),{style:{width:"88px",height:"88px"},src:`${n.value}svg/${d}.svg`,draggable:!0,onDragstart:v=>l(v,d),lazy:""},null,8,["src","onDragstart"])]))),128)):p.value&&p.value.length>0?(z(!0),ie(Re,{key:1},st(p.value,(d,v)=>(z(),ie("div",{class:"detail-item",key:v},[ye(E(xo),{style:{width:"88px",height:"88px"},src:d.url,draggable:!0,onDragstart:g=>l(g,d),lazy:""},null,8,["src","onDragstart"])]))),128)):Te("",!0)])):Te("",!0)]),_:1})])])):Te("",!0),i.value.type=="Image"?(z(),ie("div",v6,[ye(G8,{list:o.value,column:2},{default:Ce(({item:d})=>[ye(E(xo),{src:d.url,loading:"lazy",lazy:"",onDragstart:v=>l(v,d)},{placeholder:Ce(()=>[m6]),_:2},1032,["src","onDragstart"])]),_:1},8,["list"])])):Te("",!0)])):Te("",!0)}},_6=At(y6,[["__scopeId","data-v-f3651e71"]]);function b6(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(r){return r.split(" ").map(function(i){return i?""+e+i:""}).join(" ")}).join(" ")}function w6(e,t){return t.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function ai(e,t){return function(n){n&&(e[t]=n)}}function C6(e,t,n){return function(r){r&&(e[t][n]=r)}}function n0(e,t){return function(n){var r=n.prototype;e.forEach(function(i){t(r,i)})}}var S6="function",x6="object",T6="string",E6="number",fw="undefined",O6=typeof document!==fw&&document,k6=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Hu=1e-7,ul={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,t){return e*t/100},vw:function(e,t){return t===void 0&&(t=window.innerWidth),e/100*t},vh:function(e,t){return t===void 0&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function P6(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],p=0,a=o.length;p<a;p++,i++)r[i]=o[p];return r}function hw(e){return typeof e===fw}function Sr(e){return e&&typeof e===x6}function dw(e){return Array.isArray(e)}function zi(e){return typeof e===T6}function A6(e){return typeof e===E6}function pw(e){return typeof e===S6}function I6(e,t){var n=e===""||e==" ",r=t===""||t==" ";return r&&n||e===t}function gw(e,t,n,r,i){var o=ep(e,t,n);return o?n:R6(e,t,n+1,r,i)}function ep(e,t,n){if(!e.ignore)return null;var r=t.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(r)}function R6(e,t,n,r,i){for(var o=function(h){var u=t[h].trim();if(u===e.close&&!ep(e,t,h))return{value:h};var l=h,f=Zl(i,function(c){var d=c.open;return d===u});if(f&&(l=gw(f,t,h,r,i)),l===-1)return p=h,"break";h=l,p=h},p,a=n;a<r;++a){var s=o(a);if(a=p,typeof s=="object")return s.value;if(s==="break")break}return-1}function tp(e,t){var n=zi(t)?{separator:t}:t,r=n.separator,i=r===void 0?",":r,o=n.isSeparateFirst,p=n.isSeparateOnlyOpenClose,a=n.isSeparateOpenClose,s=a===void 0?p:a,h=n.openCloseCharacters,u=h===void 0?k6:h,l=u.map(function(x){var P=x.open,B=x.close;return P===B?P:P+"|"+B}).join("|"),f="(\\s*"+i+"\\s*|"+l+"|\\s+)",c=new RegExp(f,"g"),d=e.split(c).filter(function(x){return x&&x!=="undefined"}),v=d.length,g=[],m=[];function y(){return m.length?(g.push(m.join("")),m=[],!0):!1}for(var _=function(x){var P=d[x].trim(),B=x,G=Zl(u,function(W){var ee=W.open;return ee===P}),K=Zl(u,function(W){var ee=W.close;return ee===P});if(G){if(B=gw(G,d,x,v,u),B!==-1&&s)return y()&&o||(g.push(d.slice(x,B+1).join("")),x=B,o)?(b=x,"break"):(b=x,"continue")}else if(K&&!ep(K,d,x)){var Y=P6(u);return Y.splice(u.indexOf(K),1),{value:tp(e,{separator:i,isSeparateFirst:o,isSeparateOnlyOpenClose:p,isSeparateOpenClose:s,openCloseCharacters:Y})}}else if(I6(P,i)&&!p)return y(),o?(b=x,"break"):(b=x,"continue");B===-1&&(B=v-1),m.push(d.slice(x,B+1).join("")),x=B,b=x},b,w=0;w<v;++w){var S=_(w);if(w=b,typeof S=="object")return S.value;if(S==="break")break}return m.length&&g.push(m.join("")),g}function M6(e){return tp(e,"")}function Mo(e){return tp(e,",")}function D6(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function vw(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2],i=t[3];return{prefix:n,unit:i,value:parseFloat(r)}}function F6(e){return e.replace(/[\s-_]+([^\s-_])/g,function(t,n){return n.toUpperCase()})}function Uu(e,t){return t===void 0&&(t="-"),e.replace(/([a-z])([A-Z])/g,function(n,r,i){return""+r+t+i.toLowerCase()})}function lh(){return Date.now?Date.now():new Date().getTime()}function Xc(e,t,n){n===void 0&&(n=-1);for(var r=e.length,i=0;i<r;++i)if(t(e[i],i,e))return i;return n}function L6(e,t,n){n===void 0&&(n=-1);for(var r=e.length,i=r-1;i>=0;--i)if(t(e[i],i,e))return i;return n}function B6(e,t,n){var r=L6(e,t);return r>-1?e[r]:n}function Zl(e,t,n){var r=Xc(e,t);return r>-1?e[r]:n}function ch(e){return Object.keys(e)}function $6(e){var t=ch(e);return t.map(function(n){return e[n]})}function Yo(e,t){var n=vw(e),r=n.value,i=n.unit;if(Sr(t)){var o=t[i];if(o){if(pw(o))return o(r);if(ul[i])return ul[i](r,o)}}else if(i==="%")return r*t/100;return ul[i]?ul[i](r):r}function Vu(e,t){if(!t)return e;var n=1/t;return Math.round(e/t)/n}function j6(e){return e.reduce(function(t,n){return t.concat(n)},[])}function N6(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function z6(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function H6(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function Nt(e,t,n,r){e.addEventListener(t,n,r)}function It(e,t,n,r){e.removeEventListener(t,n,r)}function np(e){return e?.ownerDocument||O6}function Wu(e){var t;return((t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function U6(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function rp(e){return Sr(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}var V6=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(n){return this.values[this.keys.indexOf(n)]},t.set=function(n,r){var i=this.keys,o=this.values,p=i.indexOf(n),a=p===-1?i.length:p;i[a]=n,o[a]=r},e}(),W6=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(n){return this.object[n]},t.set=function(n,r){this.object[n]=r},e}(),Y6=typeof Map=="function",G6=function(){function e(){}var t=e.prototype;return t.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},t.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},t.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},e}();function X6(e,t){var n=[],r=[];return e.forEach(function(i){var o=i[0],p=i[1],a=new G6;n[o]=a,r[p]=a}),n.forEach(function(i,o){i.connect(n[o-1])}),e.filter(function(i,o){return!t[o]}).map(function(i,o){var p=i[0],a=i[1];if(p===a)return[0,0];var s=n[p],h=r[a-1],u=s.getIndex();s.disconnect(),h?s.connect(h,h.next):s.connect(void 0,n[0]);var l=s.getIndex();return[u,l]})}var K6=function(){function e(n,r,i,o,p,a,s,h){this.prevList=n,this.list=r,this.added=i,this.removed=o,this.changed=p,this.maintained=a,this.changedBeforeAdded=s,this.fixed=h}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var n=X6(this.changedBeforeAdded,this.fixed),r=this.changed,i=[];this.cacheOrdered=n.filter(function(o,p){var a=o[0],s=o[1],h=r[p],u=h[0],l=h[1];if(a!==s)return i.push([u,l]),!0}),this.cachePureChanged=i},e}();function mw(e,t,n){var r=Y6?Map:n?W6:V6,i=n||function(y){return y},o=[],p=[],a=[],s=e.map(i),h=t.map(i),u=new r,l=new r,f=[],c=[],d={},v=[],g=0,m=0;return s.forEach(function(y,_){u.set(y,_)}),h.forEach(function(y,_){l.set(y,_)}),s.forEach(function(y,_){var b=l.get(y);typeof b>"u"?(++m,p.push(_)):d[b]=m}),h.forEach(function(y,_){var b=u.get(y);typeof b>"u"?(o.push(_),++g):(a.push([b,_]),m=d[_]||0,f.push([b-m,_-g]),c.push(_===b),b!==_&&v.push([b,_]))}),p.reverse(),new K6(e,t,o,p,v,a,f,c)}var uh=function(e,t){return uh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},uh(e,t)};function ja(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");uh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var pr=function(){return pr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},pr.apply(this,arguments)};function yw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function r0(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function i0(e){var t=0;return e.map(function(n){return n==null?"$compat".concat(++t):"".concat(n)})}function _w(e){var t=[];return e.forEach(function(n){t=t.concat(dw(n)?_w(n):n)}),t}function Yu(e,t){if(!t)return e;for(var n in t)hw(e[n])&&(e[n]=t[n]);return e}function Ql(e,t){if(e===t)return!1;for(var n in e)if(!(n in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function s0(e){var t=e.className,n=yw(e,["className"]);return t!=null&&(n.class=t),delete n.style,delete n.children,n}function o0(e){var t={},n={};for(var r in e)r.indexOf("on")===0?n[r]=e[r]:t[r]=e[r];return[t,n]}function Kc(e){if(!e)return null;var t=e.b;return rp(t)?t:Kc(e.c)}function bw(e){var t=e.parentNode;t&&t.removeChild(e)}function ww(e){e.forEach(function(t){t()})}function q6(){return this.constructor(this.props,this.context)}var ip=0,qc=function(){function e(n,r,i,o,p,a,s){s===void 0&&(s={}),this.t=n,this.d=r,this.k=i,this.i=o,this.c=p,this.ref=a,this.ps=s,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var t=e.prototype;return t.s=function(){return!0},t.u=function(n,r,i,o,p){var a=this,s=a.d,h=$6(r).filter(function(d){return d.$_req}),u=_w(h.map(function(d){return d.$_subs})),l=Zl(u,function(d){return d.d===s});if(a.b&&!zi(i)&&!p&&!a.s(i.props,o)&&!l){var f=u.reduce(function(d,v){var g=v.d;return d[0]?d[0].d===g&&d.push(v):g>s&&d.push(v),d},[]);return f.forEach(function(d){Na(d,d._ps,[d.o],n,r,!0)}),!1}a.o=i,a.ss(o);var c=a.ps;return zi(i)||(a.ps=i.props,a.ref=i.ref),sp(this),a.r(n,r,a.b?c:{},o),!0},t.md=function(){this.rr()},t.ss=function(){},t.ud=function(){this.rr()},t.rr=function(){var n=this,r=n.ref,i=n.fr;r&&r(i?i.current:n.b)},e}();function Cw(){return Object.__CROACT_CURRENT_INSTNACE__}function J6(){return ip}function Z6(e){ip=e}function sp(e){return Object.__CROACT_CURRENT_INSTNACE__=e,ip=0,e}var op=function(){function e(n,r){n===void 0&&(n={}),this.props=n,this.context=r,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var t=e.prototype;return t.render=function(){return null},t.shouldComponentUpdate=function(n,r){return this.props!==n||this.state!==r},t.setState=function(n,r,i){var o=this;o.$_timer||(o.$_state={}),clearTimeout(o.$_timer),o.$_timer=0,o.$_state=pr(pr({},o.$_state),n),i?o.$_setState(r,i):o.$_timer=window.setTimeout(function(){o.$_timer=0,o.$_setState(r,i)})},t.forceUpdate=function(n){this.setState({},n,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(n,r){},t.componentWillUnmount=function(){},t.$_setState=function(n,r){var i=[],o=this.$_p,p=Na(o.c,[o],[o.o],i,o._cs,pr(pr({},this.state),this.$_state),r);p&&(n&&i.push(n),ww(i),sp(null))},e}(),Sw=function(e){ja(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,i){return Ql(this.props,r)||Ql(this.state,i)},t}(op);function ap(e){var t=function(n){t.current=n};return t.current=e,t}function Q6(e){return e._fr=!0,e}function ej(e,t,n,r){var i,o;return!((i=e?.prototype)===null||i===void 0)&&i.render?o=new e(t,n):(o=new op(t,n),o.constructor=e,e._fr?(r.fr=ap(),o.render=function(){return this.constructor(this.props,r.fr)}):o.render=q6),o.$_p=r,o}var tj=function(e){ja(t,e);function t(r,i,o,p,a,s,h){h===void 0&&(h={});var u=e.call(this,r,i,o,p,a,s,Yu(h,r.defaultProps))||this;return u.typ="comp",u._usefs=[],u._uefs=[],u._defs=[],u}var n=t.prototype;return n.s=function(r,i){var o=this.b;return o.shouldComponentUpdate(Yu(r,this.t.defaultProps),i||o.state)!==!1},n.r=function(r,i,o){var p,a,s=this,h=s.t;s.ps=Yu(s.ps,s.t.defaultProps);var u=s.ps,l=!s.b,f=h.contextType,c=s.b,d=f?.get(s);s._cs=i,l?(c=ej(h,u,d,s),s.b=c):(c.props=u,c.context=d);var v=c.state;s._usefs=[],s._uefs=[];var g=c.render();((a=(p=g?.props)===null||p===void 0?void 0:p.children)===null||a===void 0?void 0:a.length)===0&&(g.props.children=s.ps.children);var m=pr(pr({},i),c.$_cs);Na(s,s._ps,g?[g]:[],r,m),l?s._uefs.push(function(){f?.register(s),c.componentDidMount()}):s._uefs.push(function(){c.componentDidUpdate(o,v)}),r.push(function(){s._usefs.forEach(function(y){y()}),l?s.md():s.ud(),s._defs=s._uefs.map(function(y){return y()})})},n.ss=function(r){var i=this.b;!i||!r||(i.state=r)},n.un=function(){var r,i=this;i._ps.forEach(function(p){p.un()});var o=i.t;(r=o.contextType)===null||r===void 0||r.unregister(i),clearTimeout(i.b.$_timer),i._defs.forEach(function(p){p&&p()}),i.b.componentWillUnmount()},t}(qc);function nj(e,t,n){var r=lp(s0(e),s0(t)),i=r.added,o=r.removed,p=r.changed;for(var a in i)n.setAttribute(a,i[a]);for(var s in p)n.setAttribute(s,p[s][1]);for(var h in o)n.removeAttribute(h)}function rj(e,t,n){var r=lp(e,t),i=r.added,o=r.removed;for(var p in o)n.e(p,!0);for(var a in i)n.e(a)}function lp(e,t){var n=ch(e),r=ch(t),i=mw(n,r,function(s){return s}),o={},p={},a={};return i.added.forEach(function(s){var h=r[s];o[h]=t[h]}),i.removed.forEach(function(s){var h=n[s];p[h]=e[h]}),i.maintained.forEach(function(s){var h=s[0],u=n[h],l=[e[u],t[u]];e[u]!==t[u]&&(a[u]=l)}),{added:o,removed:p,changed:a}}function ij(e,t,n){var r=n.style,i=lp(e,t),o=i.added,p=i.removed,a=i.changed;for(var s in o){var h=Uu(s,"-");r.setProperty(h,o[s])}for(var s in a){var u=Uu(s,"-");r.setProperty(u,a[s][1])}for(var s in p){var l=Uu(s,"-");r.removeProperty(l)}}function sj(e){return e.replace(/^on/g,"").toLowerCase()}var oj=function(e){ja(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="elem",r._es={},r._svg=!1,r}var n=t.prototype;return n.e=function(r,i){var o=this,p=o._es,a=o.b,s=sj(r);i?(It(a,s,p[r]),delete p[r]):(p[r]=function(h){var u,l;(l=(u=o.ps)[r])===null||l===void 0||l.call(u,h)},Nt(a,s,p[r]))},n.s=function(r){return Ql(this.ps,r)},n.r=function(r,i,o){var p,a=this,s=!a.b,h=a.ps;if(s){var u=Kc(a.c),l=!1;a._svg||a.t==="svg"?l=!0:l=u&&u.ownerSVGElement,a._svg=l;var f=(p=a._hyd)===null||p===void 0?void 0:p.splice(0,1)[0],c=a.t;if(f)a._hyd=[].slice.call(f.children||[]);else{var d=np(u);l?f=d.createElementNS("http://www.w3.org/2000/svg",c):f=d.createElement(c)}a.b=f}Na(a,a._ps,h.children,r,i);var v=a.b,g=o0(o),m=g[0],y=g[1],_=o0(h),b=_[0],w=_[1];return nj(m,b,v),rj(y,w,a),ij(o.style||{},h.style||{},v),r.push(function(){s?a.md():a.ud()}),!0},n.un=function(){var r=this,i=r._es,o=r.b;for(var p in i)It(o,p,i[p]);r._ps.forEach(function(a){a.un()}),r._es={},r._sel||bw(o)},t}(qc);function ba(e){if(!e||rp(e))return e;var t=e.$_p._ps;return t.length?ba(t[0].b):null}function xw(e){if(e){if(e.b&&rp(e.b))return e;var t=e._ps;return t.length?xw(t[0]):null}}function An(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=t||{},o=i.key,p=i.ref,a=yw(i,["key","ref"]);return{type:e,key:o,ref:p,props:pr(pr({},a),{children:j6(n).filter(function(s){return s!=null&&s!==!1})})}}var Tw=function(e){ja(t,e);function t(r,i){i===void 0&&(i=0);var o=e.call(this,"container",i,"container",0,null)||this;return o.typ="container",o.b=r,o}var n=t.prototype;return n.r=function(){return!0},n.un=function(){},t}(qc),aj=function(e){ja(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="text",r}var n=t.prototype;return n.r=function(r){var i,o=this,p=!o.b;if(p){var a=Kc(o.c),s=(i=o._hyd)===null||i===void 0?void 0:i.splice(0,1)[0];o.b=s||np(a).createTextNode(o.t.replace("text_",""))}return r.push(function(){p?o.md():o.ud()}),!0},n.un=function(){bw(this.b)},t}(qc);function lj(e,t,n){var r=n.map(function(s){return zi(s)?null:s.key}),i=i0(t.map(function(s){return s.k})),o=i0(r),p=mw(i,o,function(s){return s});p.removed.forEach(function(s){t.splice(s,1)[0].un()}),p.ordered.forEach(function(s){var h=s[0],u=s[1],l=t.splice(h,1)[0];t.splice(u,0,l);var f=ba(l.b),c=ba(t[u+1]&&t[u+1].b);f&&f.parentNode.insertBefore(f,c)}),p.added.forEach(function(s){t.splice(s,0,a0(n[s],r[s],s,e))});var a=p.maintained.filter(function(s){s[0];var h=s[1],u=n[h],l=t[h],f=zi(u)?"text_".concat(u):u.type;return f!==l.t?(l.un(),t.splice(h,1,a0(u,r[h],h,e)),!0):(l.i=h,!1)});return r0(r0([],p.added,!0),a.map(function(s){s[0];var h=s[1];return h}),!0)}function cj(e,t){for(var n=e._ps,r=n.length,i=t.i+1;i<r;++i){var o=ba(n[i].b);if(o)return o}return null}function a0(e,t,n,r){var i=r.d+1;if(zi(e)||A6(e))return new aj("text_".concat(e),i,t,n,r,null,{});var o=e.type,p=typeof o=="string"?oj:tj;return new p(o,i,t,n,r,e.ref,e.props)}function Na(e,t,n,r,i,o,p){var a=lj(e,t,n),s=e._hyd,h=t.filter(function(l,f){return l._hyd=s,l.u(r,i,n[f],o,p)});e.typ==="container"&&e._sel&&t.forEach(function(l){var f=xw(l);f&&(f._sel=!0)}),e._hyd=null;var u=Kc(e);return u&&a.reverse().forEach(function(l){var f=t[l],c=ba(f.b);if(c&&u!==c&&!c.parentNode){var d=cj(e,f);u.insertBefore(c,d)}}),h.length>0}function uj(e,t,n,r){n===void 0&&(n=t.__CROACT__),r===void 0&&(r={});var i=!!n;n||(n=new Tw(t));var o=[];return Na(n,n._ps,e?[e]:[],o,r,void 0,void 0),ww(o),sp(null),i||(t.__CROACT__=n),n}function l0(e,t,n){return!n&&e&&(n=new Tw(t.parentElement),n._hyd=[t],n._sel=!0),uj(e,t,n),n}function Ew(e){var t=Cw(),n=t._hs||(t._hs=[]),r=J6(),i=n[r];if(Z6(r+1),i){if(!Ql(i.deps,e.deps))return i.updated=!1,i;n[r]=e}else n.push(e);return e.value=e.func(),e.updated=!0,e}function fj(e,t){var n=Ew({func:e,deps:t});return n.value}function hj(e){return fj(function(){return ap(e)},[])}function Ow(e,t,n){var r=Cw(),i=Ew({func:function(){return e},deps:t}),o=n?r._usefs:r._uefs;i.updated?o.push(function(){return i.effect&&i.effect(),i.effect=e(),i.effect}):o.push(function(){return i.effect})}function dj(e,t,n){Ow(function(){e?.(t())},n,!0)}var fh=function(e,t){return fh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},fh(e,t)};function pj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");fh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var gj=function(e){pj(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={scrollPos:0},r.width=0,r.height=0,r._zoom=0,r._rulerScale=0,r._observer=null,r._checkResize=function(){r.resize()},r}var n=t.prototype;return n.render=function(){var r=this.props;return this._zoom=r.zoom,An("canvas",{ref:ai(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var r=this.props;this.state.scrollPos=r.defaultScrollPos||0;var i=this.canvasElement,o=i.getContext("2d",{alpha:!0});this.canvasContext=o,r.useResizeObserver?(this._observer=new ResizeObserver(this._checkResize),this._observer.observe(i,{box:"border-box"})):this.resize()},n.componentDidUpdate=function(){this.resize()},n.componentWillUnmount=function(){var r;this.state.scrollPos=0,(r=this._observer)===null||r===void 0||r.disconnect()},n.getScrollPos=function(){return this.state.scrollPos},n.scroll=function(r,i){this.draw({scrollPos:r,zoom:i})},n.resize=function(r){var i=this.canvasElement,o=this.props,p=o.width,a=o.height,s=o.scrollPos,h=this._getRulerScale();this.width=p||i.offsetWidth,this.height=a||i.offsetHeight,i.width=this.width*h,i.height=this.height*h,this.draw({scrollPos:s,zoom:r})},n.draw=function(r){r===void 0&&(r={});var i=this.props,o=r.zoom,p=o===void 0?this._zoom:o,a=r.scrollPos,s=a===void 0?this.state.scrollPos:a,h=r.marks,u=h===void 0?i.marks:h,l=r.selectedRanges,f=l===void 0?i.selectedRanges:l,c=r.segment,d=c===void 0?i.segment||10:c,v=r.unit,g=v===void 0?i.unit:v;this._zoom=p;var m=i,y=m.type,_=m.backgroundColor,b=m.lineColor,w=m.textColor,S=m.textBackgroundColor,x=m.direction,P=m.negativeRuler,B=P===void 0?!0:P,G=m.textFormat,K=m.range,Y=K===void 0?[-1/0,1/0]:K,W=m.rangeBackgroundColor,ee=m.selectedBackgroundColor,le=m.lineWidth,de=le===void 0?1:le,U=m.selectedRangesText,Q=m.selectedRangesTextColor,O=Q===void 0?"#44aaff":Q,R=m.selectedRangesTextOffset,F=R===void 0?[0,0]:R,D=m.markColor,se=D===void 0?"#ff5":D,j=this._getRulerScale(),I=this.width,X=this.height,$=this.state;$.scrollPos=s;var V=this.canvasContext,J=y==="horizontal",ce=B!==!1,ve=i.font||"10px sans-serif",L=i.textAlign||"left",A=i.textOffset||[0,0],M=J?X:I,q=Yo("".concat(i.mainLineSize||"100%"),M),te=Yo("".concat(i.longLineSize||10),M),Z=Yo("".concat(i.shortLineSize||7),M),re=i.lineOffset||[0,0];switch(_==="transparent"?V.clearRect(0,0,I*j,X*j):(V.rect(0,0,I*j,X*j),V.fillStyle=_,V.fill()),V.save(),V.scale(j,j),V.strokeStyle=b,V.lineWidth=de,V.font=ve,V.fillStyle=w,V.textAlign=L,x){case"start":V.textBaseline="top";break;case"center":V.textBaseline="middle";break;case"end":V.textBaseline="bottom";break}V.translate(.5,0),V.beginPath();for(var fe=J?I:X,me=p*g,he=Math.floor(s*p/me),ae=Math.ceil((s*p+fe)/me),_e=ae-he,xe=Math.max(["left","center","right"].indexOf(L)-1,-1),ue=J?X:I,Ee=[],k=0;k<=_e;++k){var C=(k+he)*g,T="".concat(C);G&&(T=G(C));var H=V.measureText(T).width;Ee.push({color:w,offset:A,backgroundColor:S,value:C,text:T,textSize:H})}if(ee!=="transparent"&&f?.length&&f.forEach(function(Qt){var En=Math.max(Qt[0],Y[0],B?-1/0:0),Vn=Math.min(Qt[1],Y[1]),Or=(En-s)*p,kr=(Vn-En)*p;U&&Qt.forEach(function(ar){var lr="".concat(ar);G&&(lr=G(ar));var Pr=V.measureText(lr).width,qr=ar*p,Xa=qr+Pr;B6(Ee,function(os,yo){var wi=os.value,vS=os.textSize,Sg=wi*p,mS=Sg+vS;Sg<=Xa&&qr<=mS&&Ee.splice(yo,1)}),Ee.push({value:ar,color:O,offset:F,text:lr,textSize:Pr})}),!(kr<=0)&&(V.save(),V.fillStyle=ee,J?V.fillRect(Or,0,kr,ue):V.fillRect(0,Or,ue,kr),V.restore())}),W!=="transparent"&&Y[0]!==-1/0&&Y[1]!==1/0){var oe=(Y[0]-s)*p,ge=(Y[1]-Y[0])*p;V.save(),V.fillStyle=W,J?V.fillRect(oe,0,ge,ue):V.fillRect(0,oe,ue,ge),V.restore()}for(var k=0;k<=_e;++k){var C=k+he;if(!(!ce&&C<0))for(var we=C*g,ze=(we-s)*p,He=0;He<d;++He){var Ve=ze+He/d*me,at=we+He/d*g;if(!(Ve<0||Ve>=fe||at<Y[0]||at>Y[1])){var tt=He===0?q:He%2===0?te:Z,mo=0;switch(x){case"start":mo=0;break;case"center":mo=ue/2-tt/2;break;case"end":mo=ue-tt;break}var wg=J?[Ve+re[0],mo+re[1]]:[mo+re[0],Ve+re[1]],pu=wg[0],gu=wg[1],Cg=J?[pu,gu+tt]:[pu+tt,gu],pS=Cg[0],gS=Cg[1];V.moveTo(pu+re[0],gu+re[1]),V.lineTo(pS+re[0],gS+re[1])}}}V.stroke(),V.beginPath(),V.strokeStyle=se,V.lineWidth=1,(u||[]).forEach(function(Qt){var En=(-s+Qt)*p;if(!(En<0||En>=fe||Qt<Y[0]||Qt>Y[1])){var Vn=J?[En+re[0],re[1]]:[re[0],En+re[1]],Or=Vn[0],kr=Vn[1],ar=J?[Or,kr+M]:[Or+M,kr],lr=ar[0],Pr=ar[1];V.moveTo(Or+re[0],kr+re[1]),V.lineTo(lr+re[0],Pr+re[1])}}),V.stroke(),Ee.forEach(function(Qt){var En=Qt.value,Vn=Qt.offset,Or=Qt.backgroundColor,kr=Qt.color,ar=Qt.text,lr=Qt.textSize;if(!(!ce&&En<0)){var Pr=(En-s)*p;if(!(Pr<-me||Pr>=fe+g*p||En<Y[0]||En>Y[1])){var qr=0;switch(x){case"start":qr=17;break;case"center":qr=ue/2;break;case"end":qr=ue-17;break}var Xa=J?[Pr+xe*-3,qr]:[qr,Pr+xe*3],os=Xa[0],yo=Xa[1];if(Or){var wi=0;switch(L){case"left":wi=0;break;case"center":wi=-lr/2;break;case"right":wi=-lr;break}V.save(),V.fillStyle=Or,J?V.fillRect(os+Vn[0]+wi,0,lr,q):(V.translate(0,yo+Vn[1]),V.rotate(-Math.PI/2),V.fillRect(wi,0,lr,q)),V.restore()}V.save(),V.fillStyle=kr,J?V.fillText(ar,os+Vn[0],yo+Vn[1]):(V.translate(os+Vn[0],yo+Vn[1]),V.rotate(-Math.PI/2),V.fillText(ar,0,0)),V.restore()}}}),V.restore()},n._getRulerScale=function(){var r=this.props.defaultPixelScale||2;if(!this._rulerScale){var i=window.devicePixelRatio>1;if(!i&&window.matchMedia){var o=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");i=o&&o.matches}this._rulerScale=i?3:r}return this._rulerScale},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555",defaultScrollPos:0,markColor:"#f55",marks:[]},t}(Sw),kw=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","defaultScrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat","warpSelf","selectedBackgroundColor","selectedRanges","defaultPixelScale","useResizeObserver","selectedRangesText","selectedRangesTextColor","selectedRangesTextOffset","marks","markColor"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hh=function(){return hh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},hh.apply(this,arguments)};function vj(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],p=0,a=o.length;p<a;p++,i++)r[i]=o[p];return r}var mj=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(Sr(n))for(var i in n)this.on(i,n[i]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(Sr(n))for(var i in n)this.off(i);else if(!r)this._events[n]=[];else{var o=this._events[n];if(o){var p=Xc(o,function(a){return a.listener===r});p>-1&&o.splice(p,1)}}return this},t.once=function(n,r){var i=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(o){i._addEvent(n,o,{once:!0})})},t.emit=function(n,r){var i=this;r===void 0&&(r={});var o=this._events[n];if(!n||!o)return!0;var p=!1;return r.eventType=n,r.stop=function(){p=!0},r.currentTarget=this,vj(o).forEach(function(a){a.listener(r),a.once&&i.off(n,a.listener)}),!p},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,i){var o=this._events;o[n]=o[n]||[];var p=o[n];p.push(hh({listener:r},i))},e}();const yj=mj;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dh=function(e,t){return dh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},dh(e,t)};function _j(e,t){dh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var xt=function(){return xt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},xt.apply(this,arguments)};function bj(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=Math.atan2(r,n);return i>=0?i:i+Math.PI*2}function Gu(e){return bj([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function wj(e){return e.touches&&e.touches.length>=2}function fl(e){return e?e.touches?Sj(e.touches):[Pw(e)]:[]}function Cj(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function c0(e,t,n){var r=n.length,i=Go(e,r),o=i.clientX,p=i.clientY,a=i.originalClientX,s=i.originalClientY,h=Go(t,r),u=h.clientX,l=h.clientY,f=Go(n,r),c=f.clientX,d=f.clientY,v=o-u,g=p-l,m=o-c,y=p-d;return{clientX:a,clientY:s,deltaX:v,deltaY:g,distX:m,distY:y}}function Xu(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function Sj(e){for(var t=Math.min(e.length,2),n=[],r=0;r<t;++r)n.push(Pw(e[r]));return n}function Pw(e){return{clientX:e.clientX,clientY:e.clientY}}function Go(e,t){t===void 0&&(t=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(e.length,t),i=0;i<r;++i){var o=e[i];n.originalClientX+="originalClientX"in o?o.originalClientX:o.clientX,n.originalClientY+="originalClientY"in o?o.originalClientY:o.clientY,n.clientX+=o.clientX,n.clientY+=o.clientY}return t?{clientX:n.clientX/t,clientY:n.clientY/t,originalClientX:n.originalClientX/t,originalClientY:n.originalClientY/t}:n}var Ku=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return e.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),Gu(t)},e.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),Gu(t)-Gu(this.startClients)},e.prototype.getPosition=function(t,n){t===void 0&&(t=this.prevClients);var r=c0(t||this.prevClients,this.prevClients,this.startClients),i=r.deltaX,o=r.deltaY;return this.movement+=Math.sqrt(i*i+o*o),this.prevClients=t,r},e.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var n=this.prevClients,r=this.startClients,i=Math.min(this.length,n.length),o=[],p=0;p<i;++p)o[p]=c0([t[p]],[n[p]],[r[p]]);return o},e.prototype.getMovement=function(t){var n=this.movement;if(!t)return n;var r=Go(t,this.length),i=Go(this.prevClients,this.length),o=r.clientX-i.clientX,p=r.clientY-i.clientY;return Math.sqrt(o*o+p*p)+n},e.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),Xu(t)},e.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),Xu(t)/Xu(this.startClients)},e.prototype.move=function(t,n){this.startClients.forEach(function(r){r.clientX-=t,r.clientY-=n}),this.prevClients.forEach(function(r){r.clientX-=t,r.clientY-=n})},e}(),u0=["textarea","input"],xj=function(e){_j(t,e);function t(n,r){r===void 0&&(r={});var i=e.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.data={},i.isDrag=!1,i.isPinch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._useMouse=!1,i._useTouch=!1,i._useDrag=!1,i._dragFlag=!1,i._isTrusted=!1,i._isMouseEvent=!1,i._isSecondaryButton=!1,i._preventMouseEvent=!1,i._prevInputEvent=null,i._isDragAPI=!1,i._isIdle=!0,i._window=window,i.onDragStart=function(f,c){if(c===void 0&&(c=!0),!(!i.flag&&f.cancelable===!1)){var d=f.type.indexOf("drag")>=-1;if(!(i.flag&&d)){i._isDragAPI=!0;var v=i.options,g=v.container,m=v.pinchOutside,y=v.preventWheelClick,_=v.preventRightClick,b=v.preventDefault,w=v.checkInput,S=v.dragFocusedInput,x=v.preventClickEventOnDragStart,P=v.preventClickEventOnDrag,B=v.preventClickEventByCondition,G=i._useTouch,K=!i.flag;if(i._isSecondaryButton=f.which===3||f.button===2,y&&(f.which===2||f.button===1)||_&&(f.which===3||f.button===2))return i.stop(),!1;if(K){var Y=i._window.document.activeElement,W=f.target;if(W){var ee=W.tagName.toLowerCase(),le=u0.indexOf(ee)>-1,de=W.isContentEditable;if(le||de){if(w||!S&&Y===W)return!1;if(Y&&(Y===W||de&&Y.isContentEditable&&Y.contains(W)))if(S)W.blur();else return!1}else if((b||f.type==="touchstart")&&Y){var U=Y.tagName.toLowerCase();(Y.isContentEditable||u0.indexOf(U)>-1)&&Y.blur()}(x||P||B)&&Nt(i._window,"click",i._onClick,!0)}i.clientStores=[new Ku(fl(f))],i._isIdle=!1,i.flag=!0,i.isDrag=!1,i._isTrusted=c,i._dragFlag=!0,i._prevInputEvent=f,i.data={},i.doubleFlag=lh()-i.prevTime<200,i._isMouseEvent=Cj(f),!i._isMouseEvent&&i._preventMouseEvent&&(i._preventMouseEvent=!1);var Q=i._preventMouseEvent||i.emit("dragStart",xt(xt({data:i.data,datas:i.data,inputEvent:f,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,isTrusted:c,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){f.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));Q===!1&&i.stop(),i._isMouseEvent&&i.flag&&b&&f.preventDefault()}if(!i.flag)return!1;var O=0;if(K?(i._attchDragEvent(),G&&m&&(O=setTimeout(function(){Nt(g,"touchstart",i.onDragStart,{passive:!1})}))):G&&m&&It(g,"touchstart",i.onDragStart),i.flag&&wj(f)){if(clearTimeout(O),K&&f.touches.length!==f.changedTouches.length)return;i.pinchFlag||i.onPinchStart(f)}}}},i.onDrag=function(f,c){if(i.flag){var d=i.options.preventDefault;!i._isMouseEvent&&d&&f.preventDefault(),i._prevInputEvent=f;var v=fl(f),g=i.moveClients(v,f,!1);if(i._dragFlag){if(i.pinchFlag||g.deltaX||g.deltaY){var m=i._preventMouseEvent||i.emit("drag",xt(xt({},g),{isScroll:!!c,inputEvent:f}));if(m===!1){i.stop();return}}i.pinchFlag&&i.onPinch(f,v)}i.getCurrentStore().getPosition(v,!0)}},i.onDragEnd=function(f){if(i.flag){var c=i.options,d=c.pinchOutside,v=c.container,g=c.preventClickEventOnDrag,m=c.preventClickEventOnDragStart,y=c.preventClickEventByCondition,_=i.isDrag;(g||m||y)&&requestAnimationFrame(function(){i._allowClickEvent()}),!y&&!m&&g&&!_&&i._allowClickEvent(),i._useTouch&&d&&It(v,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(f);var b=f?.touches?fl(f):[],w=b.length;w===0||!i.options.keepDragging?i.flag=!1:i._addStore(new Ku(b));var S=i._getPosition(),x=lh(),P=!_&&i.doubleFlag;i._prevInputEvent=null,i.prevTime=_||P?0:x,i.flag||(i._dettachDragEvent(),i._preventMouseEvent||i.emit("dragEnd",xt({data:i.data,datas:i.data,isDouble:P,isDrag:_,isClick:!_,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,inputEvent:f,isTrusted:i._isTrusted},S)),i.clientStores=[],i._isMouseEvent||(i._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){i._preventMouseEvent=!1})})),i._isIdle=!0)}},i.onBlur=function(){i.onDragEnd()},i._allowClickEvent=function(){It(i._window,"click",i._onClick,!0)},i._onClick=function(f){i._allowClickEvent(),i._preventMouseEvent=!1;var c=i.options.preventClickEventByCondition;c?.(f)||(f.stopPropagation(),f.preventDefault())},i._onContextMenu=function(f){var c=i.options;c.preventRightClick?i.onDragEnd(f):f.preventDefault()},i._passCallback=function(){};var o=[].concat(n),p=o[0];i._window=U6(p)?p:Wu(p),i.options=xt({checkInput:!1,container:p&&!("document"in p)?Wu(p):p,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},r);var a=i.options,s=a.container,h=a.events,u=a.checkWindowBlur;if(i._useDrag=h.indexOf("drag")>-1,i._useTouch=h.indexOf("touch")>-1,i._useMouse=h.indexOf("mouse")>-1,i.targets=o,i._useDrag&&o.forEach(function(f){Nt(f,"dragstart",i.onDragStart)}),i._useMouse&&(o.forEach(function(f){Nt(f,"mousedown",i.onDragStart),Nt(f,"mousemove",i._passCallback)}),Nt(s,"contextmenu",i._onContextMenu)),u&&Nt(Wu(),"blur",i.onBlur),i._useTouch){var l={passive:!1};o.forEach(function(f){Nt(f,"touchstart",i.onDragStart,l),Nt(f,"touchmove",i._passCallback,l)})}return i}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(r,i){return r+i.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(n,r,i,o){o===void 0&&(o=!0),this.flag&&(this.clientStores[0].move(n,r),o&&this.onDrag(i,!0))},t.prototype.move=function(n,r){var i=n[0],o=n[1],p=this.getCurrentStore(),a=p.prevClients;return this.moveClients(a.map(function(s){var h=s.clientX,u=s.clientY;return{clientX:h+i,clientY:u+o,originalClientX:h,originalClientY:u}}),r,!0)},t.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},t.prototype.setEventData=function(n){var r=this.data;for(var i in n)r[i]=n[i];return this},t.prototype.setEventDatas=function(n){return this.setEventData(n)},t.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),xt(xt({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var n=this,r=this.targets,i=this.options.container;this.off(),It(this._window,"blur",this.onBlur),this._useDrag&&r.forEach(function(o){It(o,"dragstart",n.onDragStart)}),this._useMouse&&(r.forEach(function(o){It(o,"mousedown",n.onDragStart)}),It(i,"contextmenu",this._onContextMenu)),this._useTouch&&(r.forEach(function(o){It(o,"touchstart",n.onDragStart)}),It(i,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(n){var r=this,i=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>i)){var o=new Ku(fl(n));this.pinchFlag=!0,this._addStore(o);var p=this.emit("pinchStart",xt(xt({data:this.data,datas:this.data,angle:o.getAngle(),touches:this.getCurrentStore().getPositions()},o.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){r._dragFlag=!1}}));p===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(n,r){if(!(!this.flag||!this.pinchFlag||r.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",xt(xt({data:this.data,datas:this.data,movement:this.getMovement(r),angle:i.getAngle(r),rotation:i.getRotation(r),touches:i.getPositions(r),scale:i.getScale(r),distance:i.getDistance(r)},i.getPosition(r)),{inputEvent:n,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(n){if(this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",xt(xt({data:this.data,datas:this.data,isPinch:r,touches:i.getPositions()},i.getPosition()),{inputEvent:n}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(n,r,i){var o=this._getPosition(n,i),p=this.isDrag;(o.deltaX||o.deltaY)&&(this.isDrag=!0);var a=!1;return!p&&this.isDrag&&(a=!0),xt(xt({data:this.data,datas:this.data},o),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:r,isTrusted:this._isTrusted,isFirstDrag:a})},t.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},t.prototype._getPosition=function(n,r){var i=this.getCurrentStore(),o=i.getPosition(n,r),p=this.clientStores.slice(1).reduce(function(h,u){var l=u.getPosition();return h.distX+=l.distX,h.distY+=l.distY,h},o),a=p.distX,s=p.distY;return xt(xt({},o),{distX:a,distY:s})},t.prototype._attchDragEvent=function(){var n=this._window,r=this.options.container,i={passive:!1};this._isDragAPI&&(Nt(r,"dragover",this.onDrag,i),Nt(n,"dragend",this.onDragEnd)),this._useMouse&&(Nt(r,"mousemove",this.onDrag),Nt(n,"mouseup",this.onDragEnd)),this._useTouch&&(Nt(r,"touchmove",this.onDrag,i),Nt(n,"touchend",this.onDragEnd,i),Nt(n,"touchcancel",this.onDragEnd,i))},t.prototype._dettachDragEvent=function(){var n=this._window,r=this.options.container;this._isDragAPI&&(It(r,"dragover",this.onDrag),It(n,"dragend",this.onDragEnd)),this._useMouse&&(It(r,"mousemove",this.onDrag),It(n,"mouseup",this.onDragEnd)),this._useTouch&&(It(r,"touchstart",this.onDragStart),It(r,"touchmove",this.onDrag),It(n,"touchend",this.onDragEnd),It(n,"touchcancel",this.onDragEnd))},t}(yj);function Tj(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var Ej=Tj;function Oj(e){return Ej(e).toString(36)}function kj(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function Pj(e,t,n){return n.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,i){var o=i.trim();return(o?Mo(o):[""]).map(function(p){var a=p.trim();return a.indexOf("@")===0?a:a.indexOf(":global")>-1?a.replace(/\:global/g,""):a.indexOf(":host")>-1?"".concat(a.replace(/\:host/g,".".concat(e))):a?".".concat(e," ").concat(a):".".concat(e)}).join(", ")+" {"})}function Aj(e,t,n,r,i){var o=np(r),p=o.createElement("style");return p.setAttribute("type","text/css"),p.setAttribute("data-styled-id",e),p.setAttribute("data-styled-count","1"),n.nonce&&p.setAttribute("nonce",n.nonce),p.innerHTML=Pj(e,t,n),(i||o.head||o.body).appendChild(p),p}function Ij(e){var t="rCS"+Oj(e);return{className:t,inject:function(n,r){r===void 0&&(r={});var i=kj(n),o=(i||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!o)o=Aj(t,e,r,n,i);else{var p=parseFloat(o.getAttribute("data-styled-count"))||0;o.setAttribute("data-styled-count","".concat(p+1))}return{destroy:function(){var a,s=parseFloat(o.getAttribute("data-styled-count"))||0;s<=1?(o.remove?o.remove():(a=o.parentNode)===null||a===void 0||a.removeChild(o),o=null):o.setAttribute("data-styled-count","".concat(s-1))}}}}}var ph=function(){return ph=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ph.apply(this,arguments)};function Rj(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Mj(e,t){var n=Ij(t),r=n.className;return Q6(function(i,o){var p=i.className,a=p===void 0?"":p;i.cspNonce;var s=Rj(i,["className","cspNonce"]),h=hj();return dj(o,function(){return h.current},[]),Ow(function(){var u=n.inject(h.current,{nonce:i.cspNonce});return function(){u.destroy()}},[]),An(e,ph({ref:h,"data-styled-id":r,className:"".concat(a," ").concat(r)},s))})}function Dj(e,t,n,r,i,o){for(var p=0;p<i;++p){var a=n+p*i,s=r+p*i;e[a]+=e[s]*o,t[a]+=t[s]*o}}function Fj(e,t,n,r,i){for(var o=0;o<i;++o){var p=n+o*i,a=r+o*i,s=e[p],h=t[p];e[p]=e[a],e[a]=s,t[p]=t[a],t[a]=h}}function Lj(e,t,n,r,i){for(var o=0;o<r;++o){var p=n+o*r;e[p]/=i,t[p]/=i}}function Bj(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var n=e.slice(),r=Aw(t),i=0;i<t;++i){var o=t*i+i;if(!Vu(n[o],Hu)){for(var p=i+1;p<t;++p)if(n[t*i+p]){Fj(n,r,i,p,t);break}}if(!Vu(n[o],Hu))return[];Lj(n,r,i,t,n[o]);for(var p=0;p<t;++p){var a=p,s=p+i*t,h=n[s];!Vu(h,Hu)||i===p||Dj(n,r,a,i,t,-h)}}return r}function es(e,t,n){n===void 0&&(n=Math.sqrt(e.length));var r=[],i=e.length/n,o=t.length/i;if(i){if(!o)return e}else return t;for(var p=0;p<n;++p)for(var a=0;a<o;++a){r[a*n+p]=0;for(var s=0;s<i;++s)r[a*n+p]+=e[s*n+p]*t[a*i+s]}return r}function $j(e,t,n){n===void 0&&(n=t.length);var r=es(e,t,n),i=r[n-1];return r.map(function(o){return o/i})}function jj(e,t){return es(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function Nj(e,t){return es(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function zj(e,t){return es(e,Hj(t,4))}function hl(e,t){var n=t[0],r=n===void 0?1:n,i=t[1],o=i===void 0?1:i,p=t[2],a=p===void 0?1:p;return es(e,[r,0,0,0,0,o,0,0,0,0,a,0,0,0,0,1],4)}function qu(e,t){var n=t[0],r=n===void 0?0:n,i=t[1],o=i===void 0?0:i,p=t[2],a=p===void 0?0:p;return es(e,[1,0,0,0,0,1,0,0,0,0,1,0,r,o,a,1],4)}function gh(e,t){return es(e,t,4)}function Hj(e,t){var n=Math.cos(e),r=Math.sin(e),i=Aw(t);return i[0]=n,i[1]=r,i[t]=-r,i[t+1]=n,i}function Aw(e){for(var t=e*e,n=[],r=0;r<t;++r)n[r]=r%(e+1)?0:1;return n}var Xo=function(){return Xo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Xo.apply(this,arguments)};function Iw(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Uj(e,t){return t===void 0&&(t=0),Wj(Yj(e,t))}function f0(e,t){var n=$j(e,[t[0],t[1]||0,t[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function Vj(e,t){t===void 0&&(t=document.body);for(var n=e,r=Iw();n;){var i=getComputedStyle(n).transform;if(r=gh(Uj(i),r),n===t)break;n=n.parentElement}return r=Bj(r,4),r[12]=0,r[13]=0,r[14]=0,r}function Wj(e){var t=Iw();return e.forEach(function(n){var r=n.matrixFunction,i=n.functionValue;r&&(t=r(t,i))}),t}function Yj(e,t){t===void 0&&(t=0);var n=dw(e)?e:M6(e);return n.map(function(r){var i=D6(r),o=i.prefix,p=i.value,a=null,s=o,h="";if(o==="translate"||o==="translateX"||o==="translate3d"){var u=Sr(t)?Xo(Xo({},t),{"o%":t["%"]}):{"%":t,"o%":t},l=Mo(p).map(function(W,ee){return ee===0&&"x%"in u?u["%"]=t["x%"]:ee===1&&"y%"in u?u["%"]=t["y%"]:u["%"]=t["o%"],Yo(W,u)}),f=l[0],c=l[1],d=c===void 0?0:c,v=l[2],g=v===void 0?0:v;a=qu,h=[f,d,g]}else if(o==="translateY"){var m=Sr(t)?Xo({"%":t["y%"]},t):{"%":t},d=Yo(p,m);a=qu,h=[0,d,0]}else if(o==="translateZ"){var g=parseFloat(p);a=qu,h=[0,0,g]}else if(o==="scale"||o==="scale3d"){var y=Mo(p).map(function(W){return parseFloat(W)}),_=y[0],b=y[1],w=b===void 0?_:b,S=y[2],x=S===void 0?1:S;a=hl,h=[_,w,x]}else if(o==="scaleX"){var _=parseFloat(p);a=hl,h=[_,1,1]}else if(o==="scaleY"){var w=parseFloat(p);a=hl,h=[1,w,1]}else if(o==="scaleZ"){var x=parseFloat(p);a=hl,h=[1,1,x]}else if(o==="rotate"||o==="rotateZ"||o==="rotateX"||o==="rotateY"){var P=vw(p),B=P.unit,G=P.value,K=B==="rad"?G:G*Math.PI/180;o==="rotate"||o==="rotateZ"?(s="rotateZ",a=zj):o==="rotateX"?a=jj:o==="rotateY"&&(a=Nj),h=K}else if(o==="matrix3d")a=gh,h=Mo(p).map(function(W){return parseFloat(W)});else if(o==="matrix"){var Y=Mo(p).map(function(W){return parseFloat(W)});a=gh,h=[Y[0],Y[1],0,0,Y[2],Y[3],0,0,0,0,1,0,Y[4],Y[5],0,1]}else s="";return{name:o,functionName:s,value:p,matrixFunction:a,functionValue:h}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vh=function(){return vh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},vh.apply(this,arguments)};function Gj(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],p=0,a=o.length;p<a;p++,i++)r[i]=o[p];return r}var Xj=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(Sr(n))for(var i in n)this.on(i,n[i]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(Sr(n))for(var i in n)this.off(i);else if(!r)this._events[n]=[];else{var o=this._events[n];if(o){var p=Xc(o,function(a){return a.listener===r});p>-1&&o.splice(p,1)}}return this},t.once=function(n,r){var i=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(o){i._addEvent(n,o,{once:!0})})},t.emit=function(n,r){var i=this;r===void 0&&(r={});var o=this._events[n];if(!n||!o)return!0;var p=!1;return r.eventType=n,r.stop=function(){p=!0},r.currentTarget=this,Gj(o).forEach(function(a){a.listener(r),a.once&&i.off(n,a.listener)}),!p},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,i){var o=this._events;o[n]=o[n]||[];var p=o[n];p.push(vh({listener:r},i))},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var mh=function(e,t){return mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},mh(e,t)};function Kj(e,t){mh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ss=function(){return Ss=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ss.apply(this,arguments)};function qj(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function Ju(e){if(e){if(zi(e))return document.querySelector(e)}else return null;if(pw(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var Jj=function(e){Kj(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r}var n=t.prototype;return n.dragStart=function(r,i){var o=Ju(i.container);if(!o){this._flag=!1;return}var p=0,a=0,s=0,h=0;if(o===document.body)s=window.innerWidth,h=window.innerHeight;else{var u=o.getBoundingClientRect();p=u.top,a=u.left,s=u.width,h=u.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:p,left:a,width:s,height:h},this._prevScrollPos=this._getScrollPosition([0,0],i)},n.drag=function(r,i){if(clearTimeout(this._timer),!!this._flag){var o=r.clientX,p=r.clientY,a=i.threshold,s=a===void 0?0:a,h=this,u=h._startRect,l=h._startPos,f=[0,0];return u.top>p-s?(l[1]>u.top||p<l[1])&&(f[1]=-1):u.top+u.height<p+s&&(l[1]<u.top+u.height||p>l[1])&&(f[1]=1),u.left>o-s?(l[0]>u.left||o<l[0])&&(f[0]=-1):u.left+u.width<o+s&&(l[0]<u.left+u.width||o>l[0])&&(f[0]=1),!f[0]&&!f[1]?!1:this._continueDrag(Ss(Ss({},i),{direction:f,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var i=this;if(this._isWait)return!1;var o=r.prevScrollPos,p=o===void 0?this._prevScrollPos:o,a=r.direction,s=r.throttleTime,h=s===void 0?0:s,u=r.inputEvent,l=r.isDrag,f=this._getScrollPosition(a||[0,0],r),c=f[0]-p[0],d=f[1]-p[1],v=a||[c?Math.abs(c)/c:0,d?Math.abs(d)/d:0];return this._prevScrollPos=f,!c&&!d?!1:(this.trigger("move",{offsetX:v[0]?c:0,offsetY:v[1]?d:0,inputEvent:u}),h&&l&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(r)},h)),!0)},n.dragEnd=function(){this._flag=!1,clearTimeout(this._timer)},n._getScrollPosition=function(r,i){var o=i.container,p=i.getScrollPosition,a=p===void 0?qj:p;return a({container:Ju(o),direction:r})},n._continueDrag=function(r){var i=this,o,p,a=r.container,s=r.direction,h=r.throttleTime,u=r.useScroll,l=r.isDrag,f=r.inputEvent;if(!(!this._flag||l&&this._isWait)){var c=lh(),d=Math.max(h+this._prevTime-c,0);if(d>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(r)},d),!1;this._prevTime=c;var v=this._getScrollPosition(s,r);this._prevScrollPos=v,l&&(this._isWait=!0);var g={container:Ju(a),direction:s,inputEvent:f};return(p=(o=r).requestScroll)===null||p===void 0||p.call(o,g),this.trigger("scroll",g),this._isWait=!1,u||this.checkScroll(Ss(Ss({},r),{prevScrollPos:v,direction:s,inputEvent:f}))}},t}(Xj),yh=function(e,t){return yh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},yh(e,t)};function Zj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var gn=function(){return gn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},gn.apply(this,arguments)};function Ko(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Br(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return b6.apply(void 0,Ko(["scena-guides-"],e,!1))}var Qj=Br("guide","adder"),eN=Br("guides"),tN=Br("guide"),h0=Br("dragging"),nN=Br("display-drag"),rN=w6("scena-guides-",`
{
    position: relative;
    width: 100%;
    height: 100%;
}
canvas {
    position: relative;
}
.guide-origin {
    position: absolute;
    width: 1px;
    height: 1px;
    top: 0;
    left: 0;
    opacity: 0;
}
.guides {
    position: absolute;
    bottom: 0;
    right: 0;
    will-change: transform;
    z-index: 2000;
}
.guide-pos {
    position: absolute;
    font-weight: bold;
    font-size: 12px;
    color: #f33;
}
.horizontal .guide-pos {
    bottom: 100%;
    left: 50%;
    transform: translate(-50%);
}
.vertical .guide-pos {
    left: calc(100% + 2px);
    top: 50%;
    transform: translateY(-50%);
}
.display-drag {
    position: absolute;
    will-change: transform;
    z-index: 2000;
    font-weight: bold;
    font-size: 12px;
    display: none;
    left: 20px;
    top: -20px;
    color: #f33;
}
:host.horizontal .guides {
    width: 100%;
    height: 0;
}
:host.vertical .guides {
    height: 100%;
    width: 0;
}
:host.horizontal canvas {
    cursor: ns-resize;
}
:host.vertical canvas {
    cursor: ew-resize;
}
.guide {
    position: absolute;
    background: #f33;
    z-index: 2;
}
.guide.dragging:before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
:host.horizontal .guide {
    width: 100%;
    height: 1px;
    cursor: row-resize;
}
:host.vertical .guide {
    width: 1px;
    height: 100%;
    cursor: col-resize;
}
.mobile :host.horizontal .guide {
    transform: scale(1, 2);
}
.mobile :host.vertical .guide {
    transform: scale(2, 1);
}
:host.horizontal .guide:before {
    height: 20px;
}
:host.vertical .guide:before {
    width: 20px;
}
.adder {
    display: none;
}
.adder.dragging {
    display: block;
}
`),iN=Ko(["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides","scrollOptions","guideStyle","guidesOffset","digit","defaultGuidesPos","dragGuideStyle","displayGuidePos","guidePosFormat","guidePosStyle","lockGuides"],kw,!0),sN=["getGuides","loadGuides","scroll","scrollGuides","resize","getElement","getRulerElement","forceUpdate","getRulerScrollPos","getGuideScrollPos","zoomTo","drawRuler"],oN=["changeGuides","requestScroll","dragStart","drag","dragEnd","clickRuler"],aN=Mj("div",rN),lN=function(e){Zj(t,e);function t(r){var i=e.call(this,r)||this;return i.state={guides:[]},i.scrollPos=0,i.managerRef=ap(),i.guideElements=[],i._isFirstMove=!1,i._zoom=1,i._observer=null,i.onDragStart=function(o){var p=o.datas,a=o.inputEvent;i._isFirstMove=!0,i.movePos(o),i.props.onDragStart(gn(gn({},o),{dragElement:p.target})),i.gesto.isFlag()&&(a.stopPropagation(),a.preventDefault(),i._startDragScroll(o))},i._onDrag=function(o){i._isFirstMove&&(i._isFirstMove=!1,z6(o.datas.target,h0));var p=i.movePos(o);if(i.props.onDrag(gn(gn({},o),{dragElement:o.datas.target})),!i.gesto.isFlag()){i._endDragScroll(o);return}return i._dragScroll(o),p},i.onDragEnd=function(o){var p=o.datas,a=o.isDouble,s=o.distX,h=o.distY,u=i.movePos(o),l=i.state.guides,f=i.props,c=f.onChangeGuides,d=f.displayDragPos,v=f.digit,g=f.lockGuides,m=f.guidesOffset,y=i._zoom,_=parseFloat((u/y).toFixed(v||0)),b=i.scrollPos-(m||0);if(d&&(i.displayElement.style.cssText+="display: none;"),H6(p.target,h0),i.props.onDragEnd(gn(gn({},o),{dragElement:p.target})),i._endDragScroll(o),p.fromRuler)i._isFirstMove&&i.props.onClickRuler(gn(gn({},o),{pos:0})),_>=b&&l.indexOf(_)<0&&i.setState({guides:Ko(Ko([],l,!0),[_],!1)},function(){c({guides:i.state.guides,distX:s,distY:h,index:l.length,isAdd:!0,isRemove:!1,isChange:!1})});else{var w=parseFloat(p.target.getAttribute("data-index")),S=!1,x=!1;l=Ko([],l,!0);var P=l.indexOf(_);if(a||_<b||P>-1&&P!==w){if(g&&(g===!0||g.indexOf("remove")>-1))return;l.splice(w,1),S=!0}else{if(P>-1)return;if(g&&(g===!0||g.indexOf("change")>-1))return;l[w]=_,x=!0}i.setState({guides:l},function(){var B=i.state.guides;c({distX:s,distY:h,guides:B,isAdd:!1,index:w,isChange:x,isRemove:S})})}},i._onCheck=function(){i.resize()},i.state.guides=r.defaultGuides||[],i.scrollPos=r.defaultGuidesPos||0,i}var n=t.prototype;return n.render=function(){var r=this.props,i=r.className,o=r.type,p=r.zoom,a=r.style,s=r.rulerStyle,h=r.displayDragPos,u=r.cspNonce,l=r.dragGuideStyle,f=r.guidePosStyle,c=f===void 0?{}:f,d=this.props,v=this.getTranslateName(),g={};return kw.forEach(function(m){m==="style"||m==="warpSelf"||m==="useResizeObserver"||(g[m]=d[m])}),this._zoom=p,An(aN,{ref:this.managerRef,cspNonce:u,className:"".concat(Br("manager",o)," ").concat(i),style:a},An("div",{className:Br("guide-origin"),ref:ai(this,"originElement")}),An(gj,gn({ref:ai(this,"ruler"),style:s},g)),An("div",{className:eN,ref:ai(this,"guidesElement"),style:{transform:"".concat(v,"(").concat(-this.scrollPos*p,"px)")}},h&&An("div",{className:nN,ref:ai(this,"displayElement"),style:c||{}}),An("div",{className:Qj,ref:ai(this,"adderElement"),style:l}),this.renderGuides()))},n.drawRuler=function(r){this.ruler.draw(r)},n.renderGuides=function(){var r=this,i=this.props,o=i,p=o.type,a=o.showGuides,s=o.guideStyle,h=o.displayGuidePos,u=o.guidePosStyle,l=u===void 0?{}:u,f=o.guidesOffset,c=this._zoom,d=this.getTranslateName(),v=this.state.guides,g=i.guidePosFormat||i.dragPosFormat||function(m){return m};if(this.guideElements=[],a)return v.map(function(m,y){var _=m+(f||0);return An("div",{className:Br("guide",p),ref:C6(r,"guideElements",y),key:y,"data-index":y,"data-pos":m,style:gn(gn({},s),{transform:"".concat(d,"(").concat(_*c,"px) translateZ(0px)")})},h&&An("div",{className:Br("guide-pos"),style:l||{}},g(m)))})},n.componentDidMount=function(){var r=this;this.gesto=new xj(this.managerRef.current,{container:document.body}).on("dragStart",function(i){var o=r.props,p=o.type,a=o.lockGuides,s=r._zoom;if(a===!0){i.stop();return}var h=i.inputEvent,u=h.target,l=i.datas,f=r.ruler.canvasElement,c=r.guidesElement,d=p==="horizontal",v=r.originElement.getBoundingClientRect(),g=Vj(r.managerRef.current),m=f0(g,[i.clientX-v.left,i.clientY-v.top]);m[0]-=c.offsetLeft,m[1]-=c.offsetTop,m[d?1:0]+=r.scrollPos*s,l.offsetPos=m,l.matrix=g;var y=a&&a.indexOf("add")>-1,_=a&&a.indexOf("remove")>-1,b=a&&a.indexOf("change")>-1;if(u===f){if(y){i.stop();return}l.fromRuler=!0,l.target=r.adderElement}else if(N6(u,tN)){if(_&&b){i.stop();return}l.target=u}else return i.stop(),!1;r.onDragStart(i)}).on("drag",this._onDrag).on("dragEnd",this.onDragEnd),this.props.useResizeObserver?(this._observer=new ResizeObserver(this._onCheck),this._observer.observe(this.guidesElement,{box:"border-box"}),this._observer.observe(this.getRulerElement(),{box:"border-box"})):this._onCheck()},n.componentWillUnmount=function(){var r;this.gesto.unset(),(r=this._observer)===null||r===void 0||r.disconnect()},n.componentDidUpdate=function(r){var i=this.props.defaultGuides;r.defaultGuides!==i&&this.setState({guides:i||[]})},n.loadGuides=function(r){this.setState({guides:r})},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(r,i){i===void 0&&(i=this._zoom),this._zoom=i;var o=this.getTranslateName(),p=this.guidesElement;this.scrollPos=r,p.style.transform="".concat(o,"(").concat(-r*i,"px)");var a=this.state.guides,s=this.props.guidesOffset||0;this.guideElements.forEach(function(h,u){if(h){var l=a[u]+(s||0);h.style.transform="".concat(o,"(").concat(l*i,"px) translateZ(0px)"),h.style.display=-r+l<0?"none":"block"}})},n.zoomTo=function(r){this.scroll(this.getRulerScrollPos(),r),this.scrollGuides(this.getGuideScrollPos(),r)},n.getElement=function(){return this.managerRef.current},n.getRulerElement=function(){return this.ruler.canvasElement},n.getGuideScrollPos=function(){return this.scrollPos},n.getRulerScrollPos=function(){return this.ruler.getScrollPos()},n.scroll=function(r,i){i===void 0&&(i=this._zoom),this._zoom=i,this.ruler.scroll(r,i)},n.resize=function(r){r===void 0&&(r=this._zoom),this.ruler.resize(r)},n.movePos=function(r){var i=r.datas,o=r.distX,p=r.distY,a=this.props,s=a.type,h=a.snaps,u=a.snapThreshold,l=a.displayDragPos,f=a.digit,c=a.guidesOffset||0,d=this._zoom,v=a.dragPosFormat||function(K){return K},g=s==="horizontal",m=f0(i.matrix,[o,p]),y=i.offsetPos,_=m[0]+y[0],b=m[1]+y[1],w=c*d,S=Math.round(g?b:_)-c,x=parseFloat((S/d).toFixed(f||0)),P=h.slice().sort(function(K,Y){return Math.abs(x-K)-Math.abs(x-Y)});if(P.length&&Math.abs(P[0]*d-S)<u&&(x=P[0],S=x*d),!i.fromRuler||!this._isFirstMove){if(l){var B=s==="horizontal"?[_,S+w]:[S+w,b];this.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) "+"translate(".concat(B.map(function(K){return"".concat(K,"px")}).join(", "),")"),this.displayElement.innerHTML="".concat(v(x))}var G=i.target;G.setAttribute("data-pos",x),G.style.transform="".concat(this.getTranslateName(),"(").concat(S+c*d,"px)")}return S},n.getTranslateName=function(){return this.props.type==="horizontal"?"translateY":"translateX"},n._startDragScroll=function(r){var i=this,o=this.props.scrollOptions;if(o){var p=r.datas,a=new Jj;p.dragScroll=a,a.on("scroll",function(s){var h,u,l=s.container,f=s.direction;(u=(h=i.props).onRequestScroll)===null||u===void 0||u.call(h,{container:l,direction:f})}).on("move",function(s){var h=s.offsetX,u=s.offsetY,l=s.inputEvent;i.gesto.scrollBy(h,u,l.inputEvent,!0)}),a.dragStart(r,{container:o.container})}},n._dragScroll=function(r){var i=this.props.scrollOptions;if(i){var o=r.datas.dragScroll;o.drag(r,i)}},n._endDragScroll=function(r){var i;(i=r.datas.dragScroll)===null||i===void 0||i.dragEnd(),r.datas.dragScroll=null},t.defaultProps={className:"",type:"horizontal",zoom:1,style:{},snapThreshold:5,snaps:[],digit:0,onClickRuler:function(){},onChangeGuides:function(){},onRequestScroll:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(r){return r},defaultGuides:[],lockGuides:!1,showGuides:!0,guideStyle:{},dragGuideStyle:{},guidePosStyle:{},defaultGuidesPos:0},t}(Sw),_h=function(e,t){return _h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},_h(e,t)};function cp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_h(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ec=function(){return ec=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ec.apply(this,arguments)};function cN(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(p=e[a])&&(o=(i<3?p(o):i>3?p(t,n,o):p(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}var Rw=iN,Mw=sN,Dw=oN,uN=function(e){cp(t,e);function t(r){var i=e.call(this,r)||this;return i.state={},i.state=i.props,i}var n=t.prototype;return n.render=function(){return An(lN,ec({ref:ai(this,"guides")},this.state))},t}(op);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bh=function(){return bh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},bh.apply(this,arguments)};function fN(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],p=0,a=o.length;p<a;p++,i++)r[i]=o[p];return r}var hN=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(Sr(n))for(var i in n)this.on(i,n[i]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(Sr(n))for(var i in n)this.off(i);else if(!r)this._events[n]=[];else{var o=this._events[n];if(o){var p=Xc(o,function(a){return a.listener===r});p>-1&&o.splice(p,1)}}return this},t.once=function(n,r){var i=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(o){i._addEvent(n,o,{once:!0})})},t.emit=function(n,r){var i=this;r===void 0&&(r={});var o=this._events[n];if(!n||!o)return!0;var p=!1;return r.eventType=n,r.stop=function(){p=!0},r.currentTarget=this,fN(o).forEach(function(a){a.listener(r),a.once&&i.off(n,a.listener)}),!p},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,i){var o=this._events;o[n]=o[n]||[];var p=o[n];p.push(bh({listener:r},i))},e}(),dN=function(e){cp(t,e);function t(r,i){i===void 0&&(i={});var o=e.call(this)||this;o.containerProvider=null,o.selfElement=null,o._warp=!1;var p={};Dw.forEach(function(s){p[F6("on ".concat(s))]=function(h){return o.trigger(s,h)}});var a;return i.warpSelf?(delete i.warpSelf,o._warp=!0,a=r):(a=document.createElement("div"),r.appendChild(a)),o.containerProvider=l0(An(uN,ec({ref:ai(o,"innerGuides")},p,i)),a),o}var n=t.prototype;return n.setState=function(r,i){this.innerGuides.setState(r,i)},n.forceUpdate=function(r){this.innerGuides.forceUpdate(r)},n.destroy=function(){var r,i=this.selfElement;l0(null,i,this.containerProvider),this._warp||(r=i?.parentElement)===null||r===void 0||r.removeChild(i),this.selfElement=null,this.innerGuides=null},n.getInnerGuides=function(){return this.innerGuides.guides},t=cN([n0(Mw,function(r,i){r[i]||(r[i]=function(){for(var o=[],p=0;p<arguments.length;p++)o[p]=arguments[p];var a=this.getInnerGuides();if(!(!a||!a[i]))return a[i].apply(a,o)})}),n0(Rw,function(r,i){Object.defineProperty(r,i,{get:function(){return this.getInnerGuides().props[i]},set:function(o){var p;this.innerGuides.setState((p={},p[i]=o,p))},enumerable:!0,configurable:!0})})],t),t}(hN),pN=function(e){cp(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(dN);const wa=[...Rw];wa.splice(wa.indexOf("style"),1);const Fw={},up={};wa.forEach(e=>{up[e]=function(t){this.$_guides[e]=t}});up.vueStyle=function(e){this.$_guides.style=e};Mw.forEach(e=>{Fw[e]=function(...t){return this.$_guides[e](...t)}});const gN={name:"guides",methods:Fw,watch:up,props:[...wa,"vueStyle"],mounted(){const e={},t=this.$props;wa.forEach(o=>{const p=t[o];hw(p)||(e[o]=t[o])});const r=this.$refs.container;e.style=t.vueStyle,e.warpSelf=!0,this.$_guides=new pN(r,e);const i=this.$_guides;Dw.forEach(o=>{i.on(o,p=>{this.$emit(o,{...p})})})},beforeUnmount(){this.$_guides.destroy()}},vN={ref:"container"};function mN(e,t,n,r,i,o){return z(),ie("div",vN,null,512)}const yN=At(gN,[["render",mN]]),Lw={debounce(e,t){let n=null;return function(){n!==null&&clearTimeout(n),n=setTimeout(e,t)}},sleep(e){return new Promise(t=>{setTimeout(t,e)})},deepClone(e){let t;if(typeof e=="object")if(Array.isArray(e)){t=[];for(let n=0;n<e.length;n++)Object.prototype.hasOwnProperty.call(e,n)&&t.push(this.deepClone(e[n]))}else if(e===null)t=null;else if(e.constructor===RegExp)t=e;else{t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=this.deepClone(e[n]))}else t=e;return t},isPromise(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}},fp=e=>(Sn("data-v-228eb216"),e=e(),xn(),e),_N=fp(()=>N("path",{d:"M12.75 12.75H21V11.25H12.75H11.25H3V12.75H11.25H12.75Z",fill:"currentColor"},null,-1)),bN=[_N],wN=fp(()=>N("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.25 12.75V21H12.75V12.75H21V11.25H12.75V3H11.25V11.25H3V12.75H11.25Z",fill:"currentColor"},null,-1)),CN=[wN],SN=["random"],xN=["onClick"],TN={class:"dc-layout-scale-bar-item__menu__item--main"},EN=fp(()=>N("hr",null,null,-1)),ON={__name:"scale-bar",props:{clearRule:{type:Function},lockRule:{type:Function},onRuleShow:{type:Function},ruleShow:{type:Boolean}},setup(e){const t=e,n=pe(!1),r=pe(),i=Le("canvas"),o=Le("handler"),p=pe(),a=pe([[{type:"showRule",title:"",active:!1,status:async()=>{t.onRuleShow()}}],[{type:"clearRule",title:"",active:!1,status:()=>{t.clearRule()}}],[{type:"size",title:"400%",value:4,active:!1,status:()=>{o.value?.workareaHandler.setZoomAuto(4)}},{type:"size",title:"200%",value:2,active:!1,status:()=>{o.value?.workareaHandler.setZoomAuto(2)}},{type:"size",title:"100%",value:1,active:!1,status:()=>{o.value?.workareaHandler.setZoomAuto(1)}},{type:"size",title:"50%",value:.5,active:!1,status:()=>{o.value?.workareaHandler.setZoomAuto(.5)}}],[{type:"fullscreen",title:"",active:!1,status:()=>{o.value?.workareaHandler.one()}},{type:"fullscreen",title:"",active:!1,status:()=>{o.value?.workareaHandler.one()}}]]);async function s(v){v.status(),await ct(),a.value.forEach(g=>{g.forEach(m=>{m.active=u(m)})}),await Lw.sleep(200),n.value=!1}function h(){n.value=!n.value}function u(v){if(n.value){const g=o.value?.canvas?.viewportTransform||[],m=o.value?.workareaHandler?.getAutoScale();switch(v.type){case"showRule":return t.ruleShow;case"size":return v.value==g[0];case"fullscreen":return m==g[0]}}}function l(){return i.value?parseInt(i.value.getZoom()*100)+"%":"0%"}function f(){p.value=Math.random()*1e3}function c(){o.value?.workareaHandler.small()}function d(){o.value?.workareaHandler.big()}return lt(()=>{window.addEventListener("resize",f)}),Aa(()=>{window.removeEventListener("resize",f)}),(v,g)=>{const m=Be("popover");return z(),ie("div",{class:"dc-layout-scale-bar popover",ref_key:"scaleDom",ref:r},[(z(),ie("svg",{role:"img","aria-label":"minus",focusable:"false","data-icon":"minus","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-minus",onClick:c},bN)),(z(),ie("svg",{role:"img","aria-label":"add",focusable:"false","data-icon":"add","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-add",onClick:d},CN)),N("span",{class:"dc-layout-scale-bar__percent gda-popover-open",onClick:h,random:p.value},We(l()),9,SN),ye(m,{dom:r.value,show:n.value,onClose:g[0]||(g[0]=y=>n.value=!1)},{default:Ce(({setSlotRef:y})=>[N("div",{class:"content",ref:_=>y(_)},[(z(!0),ie(Re,null,st(a.value,(_,b)=>(z(),ie(Re,{key:b},[(z(!0),ie(Re,null,st(_,w=>(z(),ie("div",{key:w.type,class:be(["dc-layout-scale-bar-item__menu__item",w.active?"menu-active":""]),onClick:S=>s(w)},[N("span",TN,We(w.title),1)],10,xN))),128)),EN],64))),128))],512)]),_:1},8,["dom","show"])],512)}}},kN=At(ON,[["__scopeId","data-v-228eb216"]]);function PN(e){return Xh()?(Zy(e),!0):!1}function Ca(e){return typeof e=="function"?e():E(e)}const Bw=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const AN=Object.prototype.toString,IN=e=>AN.call(e)==="[object Object]",Sa=()=>{},RN=MN();function MN(){var e;return Bw&&((e=window?.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function $w(e,t){function n(...r){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(o)})}return n}const jw=e=>e();function DN(e,t={}){let n,r,i=Sa;const o=a=>{clearTimeout(a),i(),i=Sa};return a=>{const s=Ca(e),h=Ca(t.maxWait);return n&&o(n),s<=0||h!==void 0&&h<=0?(r&&(o(r),r=null),Promise.resolve(a())):new Promise((u,l)=>{i=t.rejectOnCancel?l:u,h&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,u(a())},h)),n=setTimeout(()=>{r&&o(r),r=null,u(a())},s)})}}function FN(e=jw){const t=pe(!0);function n(){t.value=!1}function r(){t.value=!0}const i=(...o)=>{t.value&&e(...o)};return{isActive:so(t),pause:n,resume:r,eventFilter:i}}function Hi(e,t=200,n={}){return $w(DN(t,n),e)}function LN(e,t,n={}){const{eventFilter:r=jw,...i}=n;return Me(e,$w(r,t),i)}function BN(e,t,n={}){const{eventFilter:r,...i}=n,{eventFilter:o,pause:p,resume:a,isActive:s}=FN(r);return{stop:LN(e,t,{...i,eventFilter:o}),pause:p,resume:a,isActive:s}}function ts(e,t=!0){Dt()?lt(e):t?e():ct(e)}function qt(e,t,n){return Me(e,(r,i,o)=>{r&&t(r,i,o)},n)}function Do(e){var t;const n=Ca(e);return(t=n?.$el)!=null?t:n}const xa=Bw?window:void 0;function Dn(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=xa):[t,n,r,i]=e,!t)return Sa;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],p=()=>{o.forEach(u=>u()),o.length=0},a=(u,l,f,c)=>(u.addEventListener(l,f,c),()=>u.removeEventListener(l,f,c)),s=Me(()=>[Do(t),Ca(i)],([u,l])=>{if(p(),!u)return;const f=IN(l)?{...l}:l;o.push(...n.flatMap(c=>r.map(d=>a(u,c,d,f))))},{immediate:!0,flush:"post"}),h=()=>{s(),p()};return PN(h),h}let d0=!1;function $N(e,t,n={}){const{window:r=xa,ignore:i=[],capture:o=!0,detectIframe:p=!1}=n;if(!r)return;RN&&!d0&&(d0=!0,Array.from(r.document.body.children).forEach(f=>f.addEventListener("click",Sa)),r.document.documentElement.addEventListener("click",Sa));let a=!0;const s=f=>i.some(c=>{if(typeof c=="string")return Array.from(r.document.querySelectorAll(c)).some(d=>d===f.target||f.composedPath().includes(d));{const d=Do(c);return d&&(f.target===d||f.composedPath().includes(d))}}),u=[Dn(r,"click",f=>{const c=Do(e);if(!(!c||c===f.target||f.composedPath().includes(c))){if(f.detail===0&&(a=!s(f)),!a){a=!0;return}t(f)}},{passive:!0,capture:o}),Dn(r,"pointerdown",f=>{const c=Do(e);a=!s(f)&&!!(c&&!f.composedPath().includes(c))},{passive:!0}),p&&Dn(r,"blur",f=>{setTimeout(()=>{var c;const d=Do(e);((c=r.document.activeElement)==null?void 0:c.tagName)==="IFRAME"&&!d?.contains(r.document.activeElement)&&t(f)},0)})].filter(Boolean);return()=>u.forEach(f=>f())}function jN(){const e=pe(!1);return Dt()&&lt(()=>{e.value=!0}),e}function NN(e){const t=jN();return ne(()=>(t.value,!!e()))}const dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pl="__vueuse_ssr_handlers__",zN=HN();function HN(){return pl in dl||(dl[pl]=dl[pl]||{}),dl[pl]}function UN(e,t){return zN[e]||t}function VN(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const WN={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},p0="vueuse-storage";function YN(e,t,n,r={}){var i;const{flush:o="pre",deep:p=!0,listenToStorageChanges:a=!0,writeDefaults:s=!0,mergeDefaults:h=!1,shallow:u,window:l=xa,eventFilter:f,onError:c=B=>{console.error(B)},initOnMounted:d}=r,v=(u?sn:pe)(typeof t=="function"?t():t);if(!n)try{n=UN("getDefaultStorage",()=>{var B;return(B=xa)==null?void 0:B.localStorage})()}catch(B){c(B)}if(!n)return v;const g=Ca(t),m=VN(g),y=(i=r.serializer)!=null?i:WN[m],{pause:_,resume:b}=BN(v,()=>w(v.value),{flush:o,deep:p,eventFilter:f});return l&&a&&ts(()=>{Dn(l,"storage",P),Dn(l,p0,x),d&&P()}),d||P(),v;function w(B){try{if(B==null)n.removeItem(e);else{const G=y.write(B),K=n.getItem(e);K!==G&&(n.setItem(e,G),l&&l.dispatchEvent(new CustomEvent(p0,{detail:{key:e,oldValue:K,newValue:G,storageArea:n}})))}}catch(G){c(G)}}function S(B){const G=B?B.newValue:n.getItem(e);if(G==null)return s&&g!==null&&n.setItem(e,y.write(g)),g;if(!B&&h){const K=y.read(G);return typeof h=="function"?h(K,g):m==="object"&&!Array.isArray(K)?{...g,...K}:K}else return typeof G!="string"?G:y.read(G)}function x(B){P(B.detail)}function P(B){if(!(B&&B.storageArea!==n)){if(B&&B.key==null){v.value=g;return}if(!(B&&B.key!==e)){_();try{B?.newValue!==y.write(v.value)&&(v.value=S(B))}catch(G){c(G)}finally{B?ct(b):b()}}}}}function GN(e={}){const{initialValue:t=""}=e,n=NN(()=>typeof window<"u"&&"EyeDropper"in window),r=pe(t);async function i(o){if(!n.value)return;const a=await new window.EyeDropper().open(o);return r.value=a.sRGBHex,a}return{isSupported:n,sRGBHex:r,open:i}}function hp(e,t,n={}){const{window:r=xa}=n;return YN(e,t,r?.localStorage,n)}const XN={components:{Guides:yN,ScaleBar:kN},setup(){const e=pe(),t=pe(),n=pe(),r=pe(null),i=pe(),o=Le("handler"),p=pe(!0),a=pe(),s=pe(!0),{state:h}=Xi(),u=ne(()=>{const S=o.value?.canvas?.viewportTransform,x=h.workspace;return S&&x?{left:parseInt(S[4]),top:parseInt(S[5]),zoom:S[0],width:x.width,height:x.height}:{left:0,x:1,y:1,top:0}}),l=ne(()=>h.workspace?.unit);Me(()=>u.value?.zoom,()=>{m()},{deep:!0}),Me(()=>[h.workspace?.width,h.workspace?.height,l.value],()=>{d()}),lt(()=>{Dn(window,"resize",v),Dn(i.value,"scroll",g)});const f=ne(()=>r.value?[[r.value.left,r.value.left+r.value.width]]:[]),c=ne(()=>r.value?[[r.value.top,r.value.top+r.value.height]]:[]);ne(()=>r.value?r.value.width-r.value.width*(1-r.value.zoom)/2:0);function d(){if(i.value&&o.value){const{offsetWidth:S,offsetHeight:x}=i.value,{width:P,height:B}=o.value.workareaHandler.option;let G=o.value.workareaHandler?.unitEnum[l.value];const K={px:1e3,cm:3e3,mm:100};let Y=u.value?.zoom?u.value.zoom>1?1:u.value.zoom:1;const W=o.value?.workareaHandler.getAutoScale();Y<W&&(Y=Y/W);const ee=P>1e3||B>1e3?100:50,le=50,de=50;l.value=="mm"&&(G/=3),S/P<x/B?a.value=parseInt((Math.floor(parseInt(de/(S/P)/Y)/le)||1)*ee||10):a.value=parseInt((Math.floor(parseInt(de/(x/B)/Y)/le)||1)*ee||10),a.value<G?a.value=G/Y*2:a.value>K[l.value]&&(a.value=K[l.value])}}function v(){e.value.resize(),t.value.resize(),u.value&&m()}function g(){const S=i.value.scrollTop,x=i.value.scrollLeft;e.value.scroll(x),t.value.scrollGuides(x),t.value.scroll(S),e.value.scrollGuides(S)}function m(){u.value&&(r.value={left:u.value.left,top:u.value.top,width:u.value.width,height:u.value.height,zoom:u.value.zoom})}function y(){e.value.loadGuides([]),t.value.loadGuides([])}function _(){p.value=!p.value}function b(S){S.isChange=!1}function w(){s.value=!s.value}return{guides1:e,guides2:t,horRange:f,verRange:c,shell:n,shellPoi:r,container:i,clearRule:y,lockRule:_,unitType:l,unit:a,OnChangeGuides:b,ruleShow:s,onRuleShow:w,initRuleRange:m,textFormat(S){return parseInt(S/o.value?.workareaHandler.unitEnum[l.value])},verTextFormat(S){return parseInt(S/o.value?.workareaHandler.unitEnum[l.value])},DragPosFormat(S){return console.log("value",S),S}}}},KN={class:"main"},qN={class:"ruler horizontal"},JN={class:"ruler vertical"},ZN={class:"editor-container",ref:"container"},QN={class:"editor-shell-wrap",ref:"shell"},ez={class:"edit-bottom"};function tz(e,t,n,r,i,o){const p=Be("Guides"),a=Be("ScaleBar");return z(),ie("div",KN,[ut(N("div",{class:"box",onClick:t[0]||(t[0]=(...s)=>e.onRestore&&e.onRestore(...s)),ref:"box"},[N("span",null,We(r.unitType),1)],512),[[_t,r.ruleShow]]),ut(N("div",qN,[ye(p,{ref:"guides1",type:"horizontal",direction:"start",textAlign:"left",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[0,-8],selectedRangesTextOffset:[0,-8],longLineSize:5,textFormat:r.textFormat,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",defaultPixelScale:1,scrollPos:20,selectedRangesText:!0,textColor:"#7f8792",selectedRangesTextColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,markColor:"red",segment:2,displayDragPos:!1,rulerStyle:{left:"20px",width:"calc(100% - 20px)",height:"20px"},unit:r.unit,useResizeObserver:!0,onChangeGuides:r.OnChangeGuides},null,8,["textFormat","zoom","rulerStyle","unit","onChangeGuides"])],512),[[_t,r.ruleShow]]),ut(N("div",JN,[ye(p,{ref:"guides2",type:"vertical",direction:"start",textAlign:"right",textBackgroundColor:"transparent",rangeBackgroundColor:"red",textOffset:[-8,0],selectedRangesTextOffset:[-8,0],longLineSize:5,mainLineSize:"50%",selectedBackgroundColor:"#d9dcdf",backgroundColor:"#f6f7f9",lineColor:"#7f8792",selectedRangesText:!0,textFormat:r.verTextFormat,textColor:"#7f8792",selectedRangesTextColor:"red",markColor:"red",zoom:r.shellPoi&&r.shellPoi.zoom,segment:1,useResizeObserver:!0,unit:r.unit,displayDragPos:!0,rulerStyle:{top:"20px",height:"calc(100% - 20px)",width:"20px"}},null,8,["textFormat","zoom","unit","rulerStyle"])],512),[[_t,r.ruleShow]]),N("div",ZN,[N("div",QN,[Ie(e.$slots,"canvas",{},void 0,!0)],512)],512),N("div",ez,[ye(a,{clearRule:r.clearRule,lockRule:r.lockRule,ruleShow:r.ruleShow,onRuleShow:r.onRuleShow},null,8,["clearRule","lockRule","ruleShow","onRuleShow"])])])}const nz=At(XN,[["render",tz],["__scopeId","data-v-997db84c"]]),rz=[{text:"",type:"design"},{text:"",type:"animate",showList:["textbox","FontCustom","Image"]}],iz={class:"common-checkbox"},sz=["id"],oz=["for"],az={__name:"checkbox",props:{className:{type:String,default:""},initValue:{type:Object,default:()=>({})},typeKey:{type:String,default:""},content:{type:String,default:""},disabled:{type:Boolean,default:!1},activeName:{type:String,default:""},effect:{type:String,default:"dark"},placement:{type:String,default:"bottom"}},setup(e){const t=e,{emit:n}=ad(),r=ne({get(){return t.initValue[t.typeKey]},set(i){n("change",i)}});return(i,o)=>{const p=Be("el-tooltip");return z(),Oe(p,{class:"item",effect:e.effect,content:e.content,placement:e.placement},{default:Ce(()=>[N("div",iz,[ut(N("input",{type:"checkbox",id:"toggle_"+e.typeKey,"onUpdate:modelValue":o[0]||(o[0]=a=>r.value=a)},null,8,sz),[[eb,r.value]]),N("label",{for:"toggle_"+e.typeKey,class:be(["switch",[e.className,r.value?"switch-active":"",r.value?e.activeName:"",e.disabled?"switch-disabeld":""]])},[Ie(i.$slots,"default",{},void 0,!0)],10,oz)])]),_:3},8,["effect","content","placement"])}}},lz=At(az,[["__scopeId","data-v-037d29d3"]]),cz={components:{Checkbox:lz},props:{onChange:{type:Function},canvasRef:{type:Object},barShow:{type:Array,default:()=>["locked","layer","flip","copy","delete"]},poi:{type:String,default:"bottom"}},computed:{islocked(){return!1}},methods:{myCheck(){},getBarShow(e){return this.barShow.includes(e)},copy(){},handleDelete(){}}},uz={class:"bar"},fz={class:"func-content"},hz={class:"func-content"},dz={class:"func-content"},pz={class:"func-content"},gz={class:"func-content"};function vz(e,t,n,r,i,o){const p=Be("el-tooltip"),a=Be("Checkbox");return z(),ie("div",uz,[ut(N("div",fz,[ye(p,{class:"item",effect:"dark",content:"",placement:"top",disabled:o.islocked},{default:Ce(()=>[N("i",{class:"iconfont icon-cengji",onClick:t[0]||(t[0]=Lt((...s)=>e.onLayerShow&&e.onLayerShow(...s),["stop"]))})]),_:1},8,["disabled"])],512),[[_t,o.getBarShow("layer")]]),ut(N("div",hz,[ye(p,{class:"item",effect:"dark",content:"",placement:"top",disabled:o.islocked},{default:Ce(()=>[N("i",{class:"iconfont icon-zuoyoufanzhuan",onClick:t[1]||(t[1]=Lt((...s)=>e.handleFlip&&e.handleFlip(...s),["stop"]))})]),_:1},8,["disabled"])],512),[[_t,o.getBarShow("flip")]]),ut(N("div",dz,[ye(a,{className:"iconfont icon-unlock",activeName:"icon-suoding_huaban",content:"",initValue:{locked:!1},typeKey:"locked",effect:"dark",placement:"top",onChange:o.myCheck},null,8,["onChange"])],512),[[_t,o.getBarShow("locked")]]),ut(N("div",pz,[ye(p,{class:"item",effect:"dark",content:"",placement:"top",disabled:o.islocked},{default:Ce(()=>[N("i",{class:"iconfont icon-fuzhi",onClick:t[2]||(t[2]=(...s)=>o.copy&&o.copy(...s))})]),_:1},8,["disabled"])],512),[[_t,o.getBarShow("copy")]]),ut(N("div",gz,[ye(p,{class:"item",effect:"dark",content:"",placement:"top",disabled:o.islocked},{default:Ce(()=>[N("i",{class:be(["iconfont icon-delete",o.islocked?"icon_noactive":""]),onClick:t[3]||(t[3]=(...s)=>o.handleDelete&&o.handleDelete(...s))},null,2)]),_:1},8,["disabled"])],512),[[_t,o.getBarShow("delete")]])])}const mz=At(cz,[["render",vz],["__scopeId","data-v-a6b76b0b"]]),yz=[{material_type:"canvas_size",id:2931,title:"",material:{unit:"px",name:"",width:"1242",height:"2208"}},{material_type:"canvas_size",id:2932,title:" ",material:{unit:"px",name:" ",width:"900",height:"383"}},{material_type:"canvas_size",id:2933,title:"",material:{unit:"px",name:"",width:"500",height:"500"}},{material_type:"canvas_size",id:12425,title:"",material:{unit:"px",name:"",width:"1242",height:"1660"}},{material_type:"canvas_size",id:2934,title:"",material:{unit:"px",name:"",width:"800",height:"800"}},{material_type:"canvas_size",id:2935,title:"",material:{unit:"px",name:"",width:"520",height:"416"}},{material_type:"canvas_size",id:2936,title:"",material:{unit:"px",name:"",width:"1200",height:"675"}},{material_type:"canvas_size",id:2937,title:"",material:{unit:"px",name:"",width:"1200",height:"1920"}},{material_type:"canvas_size",id:2938,title:"",material:{unit:"px",name:"",width:"1920",height:"700"}},{material_type:"canvas_size",id:2939,title:"",material:{unit:"px",name:"",width:"1920",height:"150"}},{material_type:"canvas_size",id:2940,title:" ",material:{unit:"px",name:" ",width:"750",height:"1000"}},{material_type:"canvas_size",id:12427,title:"",material:{unit:"px",name:"",width:"1920",height:"1080"}},{material_type:"canvas_size",id:12428,title:"",material:{unit:"px",name:"",width:"1080",height:"1260"}},{material_type:"canvas_size",id:12426,title:"",material:{unit:"px",name:"",width:"1242",height:"2690"}},{material_type:"canvas_size",id:2941,title:"PPT16:9",material:{unit:"px",name:"PPT16:9",width:"1920",height:"1080"}},{material_type:"canvas_size",id:2942,title:"",material:{unit:"mm",name:"",width:"96",dpi:"300",height:"60"}},{material_type:"canvas_size",id:2949,title:"",material:{unit:"mm",name:"",width:"426",dpi:"300",height:"576"}},{material_type:"canvas_size",id:2948,title:"2m",material:{unit:"cm",name:"2m",width:"80",dpi:"150",height:"200"}},{material_type:"canvas_size",id:2947,title:"1.8m",material:{unit:"cm",name:"1.8m",width:"80",dpi:"150",height:"180"}},{material_type:"canvas_size",id:2946,title:"",material:{unit:"mm",name:"",width:"168",dpi:"300",height:"66"}},{material_type:"canvas_size",id:2945,title:"",material:{unit:"mm",name:"",width:"206",dpi:"300",height:"86"}},{material_type:"canvas_size",id:2944,title:"",material:{unit:"mm",name:"",width:"291",dpi:"300",height:"216"}},{material_type:"canvas_size",id:2943,title:"",material:{unit:"mm",name:"",width:"426",dpi:"300",height:"291"}},{material_type:"canvas_size",id:2950,title:"A3",material:{unit:"mm",name:"A3",width:"291",dpi:"300",height:"420"}},{material_type:"canvas_size",id:2951,title:"A4",material:{unit:"mm",name:"A4",width:"210",dpi:"300",height:"297"}},{material_type:"canvas_size",id:2952,title:"A5",material:{unit:"mm",name:"A5",width:"148",dpi:"300",height:"210"}}],dp=e=>(Sn("data-v-3f9145c4"),e=e(),xn(),e),_z={class:"workspace-size"},bz={class:"size-header"},wz=dp(()=>N("span",null,"",-1)),Cz={class:"header_toolbar"},Sz={class:"custom-size popover"},xz={class:"input-number-group"},Tz={class:"input-number",type:"number"},Ez={class:"input-number",type:"number"},Oz={class:"input-number-group__suffix"},kz={key:0,class:"iconfont icon-link-outline"},Pz={key:1,class:"iconfont icon-unlink-outline"},Az={type:"button",class:"btn-px"},Iz={class:"dbu-resize-panel__unit-select__text"},Rz={class:"unit-menu-list"},Mz=["onClick"],Dz={class:"size-body"},Fz={class:"size-list"},Lz=dp(()=>N("div",{class:"size-name"},"",-1)),Bz=["onClick"],$z={class:"size-name"},jz={class:"size-info"},Nz=dp(()=>N("span",{class:"m03"},"",-1)),zz={class:"m03"},Hz={__name:"workspace-size",setup(e){const{state:t}=Xi(),n=pe(yz),r=Le("handler"),i=pe(!1);pe(!1);const o=pe([{unit:"px",title:""},{unit:"cm",title:""},{unit:"mm",title:""}]),p=ne({get(){const d=r.value?.workareaHandler.unitEnum[h.value];let v=0;return d&&(v=t.workspace?.width/d),parseInt(v||0)},set(d){if(i.value){const v=r.value?.workareaHandler.getBili(),g=d/v;r.value?.workareaHandler.setSize(parseInt(d),parseInt(g));return}r.value?.workareaHandler.setWidth(parseInt(d))}}),a=ne({get(){const d=r.value?.workareaHandler.unitEnum[h.value];let v=0;return d&&(v=t.workspace?.height/d),parseInt(v||0)},set(d){if(i.value){const v=r.value?.workareaHandler.getBili(),g=d*v;r.value?.workareaHandler.setSize(parseInt(g),parseInt(d));return}r.value?.workareaHandler.setHeight(parseInt(d))}}),s=ne(()=>t.workspace),h=ne(()=>s.value?.unit);function u(d){s.value.set({sizeId:d.id,unit:d?.material.unit}),r.value?.workareaHandler.setSize(parseInt(d?.material.width),parseInt(d?.material.height))}function l(){s.value.sizeId=""}function f(){i.value=!i.value}function c(d){r.value?.workareaHandler.unpdateUnit(d.unit)}return(d,v)=>{const g=Be("el-tooltip");return z(),ie("div",_z,[N("div",bz,[N("div",{class:"header_back",onClick:v[0]||(v[0]=m=>d.$emit("back"))},[ye(E(t1),{style:{width:"16px",height:"16px"}}),wz]),N("div",Cz,[N("div",Sz,[N("div",xz,[N("div",Tz,[ye(E(ih),{modelValue:p.value,"onUpdate:modelValue":v[1]||(v[1]=m=>p.value=m),min:1,max:2e3},null,8,["modelValue"])]),N("div",Ez,[ye(E(ih),{modelValue:a.value,"onUpdate:modelValue":v[2]||(v[2]=m=>a.value=m),min:1,max:2e3},null,8,["modelValue"])]),N("div",Oz,[ye(g,{class:"item",effect:"dark",content:"",placement:"top"},{default:Ce(()=>[N("button",{type:"button",onClick:f},[i.value?(z(),ie("i",kz)):(z(),ie("i",Pz))])]),_:1})])]),ye(E(LB),{placement:"bottom-start","popper-class":"unit-menu",width:200,offset:2,trigger:"hover","show-arrow":!1},{reference:Ce(()=>[N("button",Az,[N("span",Iz,We(s.value&&s.value.unit),1),ye(E(Ke),{size:12,class:"up"},{default:Ce(()=>[ye(E(n1))]),_:1}),ye(E(Ke),{size:12,class:"down"},{default:Ce(()=>[ye(E(Nc))]),_:1})])]),default:Ce(()=>[N("div",Rz,[(z(!0),ie(Re,null,st(o.value,(m,y)=>(z(),ie("div",{class:"unit-menu-item",key:y,onClick:_=>c(m)},[N("div",{class:be(m.unit==s.value?.unit?"unit-menu-item-select":"")},[ao(We(m.unit)+"("+We(m.title)+") ",1),m.unit==s.value?.unit?(z(),Oe(E(Ke),{key:0,style:{width:"1em",height:"1em"}},{default:Ce(()=>[ye(E(Ru))]),_:1})):Te("",!0)],2)],8,Mz))),128))])]),_:1})])])]),N("div",Dz,[N("div",Fz,[N("div",{class:be(["size-item",!s.value||!s.value.sizeId?"size-item-select":""]),onClick:l},[ye(E(Ke),{style:{width:"1em",height:"1em"}},{default:Ce(()=>[ye(E(Ru))]),_:1}),Lz],2),(z(!0),ie(Re,null,st(n.value,(m,y)=>(z(),ie("div",{class:be(["size-item",s.value&&m.id==s.value.sizeId?"size-item-select":""]),key:y,onClick:_=>u(m)},[ye(E(Ke),{style:{width:"1em",height:"1em"}},{default:Ce(()=>[ye(E(Ru))]),_:1}),N("div",$z,We(m.title),1),N("div",jz,[N("span",null,We(m.material.width),1),Nz,N("span",null,We(m.material.height),1),N("span",zz,We(m.material.unit),1)])],10,Bz))),128))])])])}}},Uz=At(Hz,[["__scopeId","data-v-3f9145c4"]]),Vz={components:{ElSlider:C$},props:{onChange:{type:Function},step:{type:Number,default:.01},item:{type:Object,default:null},min:{type:Number,default:0},max:{type:Number,default:1},size:{type:String,default:"mini"},value:{type:Number,default:1},typeKey:{type:String,default:""},lw:{type:String,default:"30%"},twoKey:{type:String,default:""},precentage:{type:Boolean,default:!1}},computed:{...Eb({selectedItem:e=>e.selectedItem}),slideData(){return this.selectedItem&&this.selectedItem[this.typeKey]?Number(this.selectedItem[this.typeKey]).toFixed(2):0},slideValue(){return this.getValue(this.selectedItem&&this.selectedItem[this.typeKey])}},methods:{onInputChange(e){this.precentage&&(e=e/100),this.twoKey?this.onChange(this.selectedItem,{[this.twoKey]:{[this.typeKey]:e}},{start:!0}):this.onChange(null,{[this.typeKey]:e},{start:!0})},slideChange(e){this.precentage&&(e=e/100),this.twoKey?this.onChange(this.selectedItem,{[this.twoKey]:{[this.typeKey]:e}},{end:!0}):this.onChange(null,{[this.typeKey]:e},{end:!0})},getValue(e){return console.log("888",e),e?this.precentage?e*100:e:0}}},Wz={key:0,class:"slide"},Yz={key:1,class:"slide"},Gz={class:"slide-text"};function Xz(e,t,n,r,i,o){const p=Be("el-slider");return z(),ie("div",{class:be(["slider",[e.selectedItem?"":"slider-disable"]])},[N("div",{class:"slider-icon",style:je({width:n.lw})},[Ie(e.$slots,"left",{},void 0,!0)],4),n.item?(z(),ie("div",Wz,[ye(p,{value:o.getValue(n.item[n.typeKey]),size:n.size,min:n.min,max:n.max,onInput:o.onInputChange,step:n.step,height:"6",onChange:o.slideChange},null,8,["value","size","min","max","onInput","step","onChange"])])):(z(),ie("div",Yz,[ye(p,{modelValue:o.slideValue,"onUpdate:modelValue":t[0]||(t[0]=a=>o.slideValue=a),size:n.size,min:n.min,max:n.max,onInput:o.onInputChange,step:n.step,onChange:o.slideChange},null,8,["modelValue","size","min","max","onInput","step","onChange"])])),N("div",Gz,[Ie(e.$slots,"right",{data:o.slideData},void 0,!0)])],2)}const Kz=At(Vz,[["render",Xz],["__scopeId","data-v-fded4240"]]),qz={props:{type:{type:String,default:""},initValue:{type:Object,default:()=>({})},prefix:{type:Boolean,default:!0},endfix:{type:Boolean,default:!0},inputType:{type:String,default:"number"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{newinitValue(){return this.initValue}}},Jz={class:"data-input"},Zz={class:"input-number"},Qz=["type","placeholder","disabled"],eH={key:1,class:"prefix endfix"};function tH(e,t,n,r,i,o){return z(),ie("div",Jz,[n.prefix?(z(),ie("div",{key:0,class:be(["prefix",n.disabled?"prefix_disabled":""])},[Ie(e.$slots,"prefix",{},void 0,!0)],2)):Te("",!0),N("div",Zz,[ut(N("input",{type:n.inputType,class:be(["input-number-input",[n.prefix?"":"input-number-input-nopadding",n.disabled?"input-disabled":""]]),placeholder:n.placeholder,"onUpdate:modelValue":t[0]||(t[0]=p=>o.newinitValue[n.type]=p),onInput:t[1]||(t[1]=p=>e.$emit("change",o.newinitValue)),onChange:t[2]||(t[2]=p=>e.$emit("end",o.newinitValue)),disabled:n.disabled},null,42,Qz),[[Ux,o.newinitValue[n.type]]]),Ie(e.$slots,"inputprefix",{},void 0,!0)]),n.endfix?(z(),ie("div",eH,[Ie(e.$slots,"endfix",{},void 0,!0)])):Te("",!0)])}const nH=At(qz,[["render",tH],["__scopeId","data-v-d046cfc6"]]),rH={components:{Slider:Kz,InputNumber:nH},props:{onChange:{type:Function}},computed:{...Eb({selectedItem:e=>e.selectedItem})},methods:{onInputChange(e){e.opacity=Number(e.opacity)/100,this.onChange(this.selectedItem,e)}}},iH=e=>(Sn("data-v-d7bf9f15"),e=e(),xn(),e),sH={class:"opacity"},oH=iH(()=>N("span",null,"",-1));function aH(e,t,n,r,i,o){const p=Be("InputNumber"),a=Be("Slider");return z(),ie("div",sH,[ye(a,{onChange:n.onChange,typeKey:"opacity",lw:"40%",precentage:!0,min:0,max:100,step:1},{left:Ce(()=>[oH]),right:Ce(()=>[ye(p,{type:"opacity",prefix:!1,endfix:!1,initValue:{opacity:parseInt(Number(e.selectedItem&&e.selectedItem.opacity)*100)},onChange:o.onInputChange},null,8,["initValue","onChange"])]),_:1},8,["onChange"])])}const lH=At(rH,[["render",aH],["__scopeId","data-v-d7bf9f15"]]);function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}var cH=/^\s+/,uH=/\s+$/;function Pe(e,t){if(e=e||"",t=t||{},e instanceof Pe)return e;if(!(this instanceof Pe))return new Pe(e,t);var n=fH(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Pe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,o,p,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?p=r/12.92:p=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*p+.0722*a},setAlpha:function(t){return this._a=Nw(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=v0(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=v0(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=g0(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=g0(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return m0(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return gH(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(vt(this._r,255)*100)+"%",g:Math.round(vt(this._g,255)*100)+"%",b:Math.round(vt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(vt(this._r,255)*100)+"%, "+Math.round(vt(this._g,255)*100)+"%, "+Math.round(vt(this._b,255)*100)+"%)":"rgba("+Math.round(vt(this._r,255)*100)+"%, "+Math.round(vt(this._g,255)*100)+"%, "+Math.round(vt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:OH[m0(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+y0(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var o=Pe(t);r="#"+y0(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return o?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Pe(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(_H,arguments)},brighten:function(){return this._applyModification(bH,arguments)},darken:function(){return this._applyModification(wH,arguments)},desaturate:function(){return this._applyModification(vH,arguments)},saturate:function(){return this._applyModification(mH,arguments)},greyscale:function(){return this._applyModification(yH,arguments)},spin:function(){return this._applyModification(CH,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(TH,arguments)},complement:function(){return this._applyCombination(SH,arguments)},monochromatic:function(){return this._applyCombination(EH,arguments)},splitcomplement:function(){return this._applyCombination(xH,arguments)},triad:function(){return this._applyCombination(_0,[3])},tetrad:function(){return this._applyCombination(_0,[4])}};Pe.fromRatio=function(e,t){if(tc(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Fo(e[r]));e=n}return Pe(e,t)};function fH(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,p=!1,a=!1;return typeof e=="string"&&(e=IH(e)),tc(e)=="object"&&(Rr(e.r)&&Rr(e.g)&&Rr(e.b)?(t=hH(e.r,e.g,e.b),p=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Rr(e.h)&&Rr(e.s)&&Rr(e.v)?(r=Fo(e.s),i=Fo(e.v),t=pH(e.h,r,i),p=!0,a="hsv"):Rr(e.h)&&Rr(e.s)&&Rr(e.l)&&(r=Fo(e.s),o=Fo(e.l),t=dH(e.h,r,o),p=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Nw(n),{ok:p,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function hH(e,t,n){return{r:vt(e,255)*255,g:vt(t,255)*255,b:vt(n,255)*255}}function g0(e,t,n){e=vt(e,255),t=vt(t,255),n=vt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,p,a=(r+i)/2;if(r==i)o=p=0;else{var s=r-i;switch(p=a>.5?s/(2-r-i):s/(r+i),r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4;break}o/=6}return{h:o,s:p,l:a}}function dH(e,t,n){var r,i,o;e=vt(e,360),t=vt(t,100),n=vt(n,100);function p(h,u,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?h+(u-h)*6*l:l<1/2?u:l<2/3?h+(u-h)*(2/3-l)*6:h}if(t===0)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=p(s,a,e+1/3),i=p(s,a,e),o=p(s,a,e-1/3)}return{r:r*255,g:i*255,b:o*255}}function v0(e,t,n){e=vt(e,255),t=vt(t,255),n=vt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,p,a=r,s=r-i;if(p=r===0?0:s/r,r==i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4;break}o/=6}return{h:o,s:p,v:a}}function pH(e,t,n){e=vt(e,360)*6,t=vt(t,100),n=vt(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),p=n*(1-i*t),a=n*(1-(1-i)*t),s=r%6,h=[n,p,o,o,a,n][s],u=[a,n,n,p,o,o][s],l=[o,o,a,n,n,p][s];return{r:h*255,g:u*255,b:l*255}}function m0(e,t,n,r){var i=[Jn(Math.round(e).toString(16)),Jn(Math.round(t).toString(16)),Jn(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function gH(e,t,n,r,i){var o=[Jn(Math.round(e).toString(16)),Jn(Math.round(t).toString(16)),Jn(Math.round(n).toString(16)),Jn(zw(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function y0(e,t,n,r){var i=[Jn(zw(r)),Jn(Math.round(e).toString(16)),Jn(Math.round(t).toString(16)),Jn(Math.round(n).toString(16))];return i.join("")}Pe.equals=function(e,t){return!e||!t?!1:Pe(e).toRgbString()==Pe(t).toRgbString()};Pe.random=function(){return Pe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function vH(e,t){t=t===0?0:t||10;var n=Pe(e).toHsl();return n.s-=t/100,n.s=Jc(n.s),Pe(n)}function mH(e,t){t=t===0?0:t||10;var n=Pe(e).toHsl();return n.s+=t/100,n.s=Jc(n.s),Pe(n)}function yH(e){return Pe(e).desaturate(100)}function _H(e,t){t=t===0?0:t||10;var n=Pe(e).toHsl();return n.l+=t/100,n.l=Jc(n.l),Pe(n)}function bH(e,t){t=t===0?0:t||10;var n=Pe(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),Pe(n)}function wH(e,t){t=t===0?0:t||10;var n=Pe(e).toHsl();return n.l-=t/100,n.l=Jc(n.l),Pe(n)}function CH(e,t){var n=Pe(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,Pe(n)}function SH(e){var t=Pe(e).toHsl();return t.h=(t.h+180)%360,Pe(t)}function _0(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Pe(e).toHsl(),r=[Pe(e)],i=360/t,o=1;o<t;o++)r.push(Pe({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function xH(e){var t=Pe(e).toHsl(),n=t.h;return[Pe(e),Pe({h:(n+72)%360,s:t.s,l:t.l}),Pe({h:(n+216)%360,s:t.s,l:t.l})]}function TH(e,t,n){t=t||6,n=n||30;var r=Pe(e).toHsl(),i=360/n,o=[Pe(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(Pe(r));return o}function EH(e,t){t=t||6;for(var n=Pe(e).toHsv(),r=n.h,i=n.s,o=n.v,p=[],a=1/t;t--;)p.push(Pe({h:r,s:i,v:o})),o=(o+a)%1;return p}Pe.mix=function(e,t,n){n=n===0?0:n||50;var r=Pe(e).toRgb(),i=Pe(t).toRgb(),o=n/100,p={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return Pe(p)};Pe.readability=function(e,t){var n=Pe(e),r=Pe(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Pe.isReadable=function(e,t,n){var r=Pe.readability(e,t),i,o;switch(o=!1,i=RH(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};Pe.mostReadable=function(e,t,n){var r=null,i=0,o,p,a,s;n=n||{},p=n.includeFallbackColors,a=n.level,s=n.size;for(var h=0;h<t.length;h++)o=Pe.readability(e,t[h]),o>i&&(i=o,r=Pe(t[h]));return Pe.isReadable(e,r,{level:a,size:s})||!p?r:(n.includeFallbackColors=!1,Pe.mostReadable(e,["#fff","#000"],n))};var wh=Pe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},OH=Pe.hexNames=kH(wh);function kH(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Nw(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function vt(e,t){PH(e)&&(e="100%");var n=AH(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Jc(e){return Math.min(1,Math.max(0,e))}function pn(e){return parseInt(e,16)}function PH(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function AH(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Jn(e){return e.length==1?"0"+e:""+e}function Fo(e){return e<=1&&(e=e*100+"%"),e}function zw(e){return Math.round(parseFloat(e)*255).toString(16)}function b0(e){return pn(e)/255}var Gn=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Rr(e){return!!Gn.CSS_UNIT.exec(e)}function IH(e){e=e.replace(cH,"").replace(uH,"").toLowerCase();var t=!1;if(wh[e])e=wh[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Gn.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Gn.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Gn.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Gn.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Gn.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Gn.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Gn.hex8.exec(e))?{r:pn(n[1]),g:pn(n[2]),b:pn(n[3]),a:b0(n[4]),format:t?"name":"hex8"}:(n=Gn.hex6.exec(e))?{r:pn(n[1]),g:pn(n[2]),b:pn(n[3]),format:t?"name":"hex"}:(n=Gn.hex4.exec(e))?{r:pn(n[1]+""+n[1]),g:pn(n[2]+""+n[2]),b:pn(n[3]+""+n[3]),a:b0(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Gn.hex3.exec(e))?{r:pn(n[1]+""+n[1]),g:pn(n[2]+""+n[2]),b:pn(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function RH(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}var ns=ns||{};ns.stringify=function(){var e={"visit_linear-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return e.visit_gradient(t)},"visit_radial-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return e.visit_gradient(t)},visit_gradient:function(t){var n=e.visit(t.orientation);return n&&(n+=", "),t.type+"("+n+e.visit(t.colorStops)+")"},visit_shape:function(t){var n=t.value,r=e.visit(t.at),i=e.visit(t.style);return i&&(n+=" "+i),r&&(n+=" at "+r),n},"visit_default-radial":function(t){var n="",r=e.visit(t.at);return r&&(n+=r),n},"visit_extent-keyword":function(t){var n=t.value,r=e.visit(t.at);return r&&(n+=" at "+r),n},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return e.visit(t.value.x)+" "+e.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return e.visit_color(t.value,t)},visit_hex:function(t){return e.visit_color("#"+t.value,t)},visit_rgb:function(t){return e.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return e.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,n){var r=t,i=e.visit(n.length);return i&&(r+=" "+i),r},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var n="",r=t.length;return t.forEach(function(i,o){n+=e.visit(i),o<r-1&&(n+=", ")}),n},visit:function(t){if(!t)return"";var n="";if(t instanceof Array)return e.visit_array(t,n);if(t.type){var r=e["visit_"+t.type];if(r)return r(t);throw Error("Missing visitor visit_"+t.type)}else throw Error("Invalid node.")}};return function(t){return e.visit(t)}}();var ns=ns||{};ns.parse=function(){var e={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function n(U){var Q=new Error(t+": "+U);throw Q.source=t,Q}function r(){var U=i();return t.length>0&&n("Invalid input not EOF"),U}function i(){return _(o)}function o(){return p("linear-gradient",e.linearGradient,s)||p("repeating-linear-gradient",e.repeatingLinearGradient,s)||p("radial-gradient",e.radialGradient,l)||p("repeating-radial-gradient",e.repeatingRadialGradient,l)}function p(U,Q,O){return a(Q,function(R){var F=O();return F&&(le(e.comma)||n("Missing comma before color stops")),{type:U,orientation:F,colorStops:_(b)}})}function a(U,Q){var O=le(U);if(O){le(e.startCall)||n("Missing (");var R=Q(O);return le(e.endCall)||n("Missing )"),R}}function s(){return h()||u()}function h(){return ee("directional",e.sideOrCorner,1)}function u(){return ee("angular",e.angleValue,1)}function l(){var U,Q=f(),O;return Q&&(U=[],U.push(Q),O=t,le(e.comma)&&(Q=f(),Q?U.push(Q):t=O)),U}function f(){var U=c()||d();if(U)U.at=g();else{var Q=v();if(Q){U=Q;var O=g();O&&(U.at=O)}else{var R=m();R&&(U={type:"default-radial",at:R})}}return U}function c(){var U=ee("shape",/^(circle)/i,0);return U&&(U.style=W()||v()),U}function d(){var U=ee("shape",/^(ellipse)/i,0);return U&&(U.style=K()||v()),U}function v(){return ee("extent-keyword",e.extentKeywords,1)}function g(){if(ee("position",/^at/,0)){var U=m();return U||n("Missing positioning value"),U}}function m(){var U=y();if(U.x||U.y)return{type:"position",value:U}}function y(){return{x:K(),y:K()}}function _(U){var Q=U(),O=[];if(Q)for(O.push(Q);le(e.comma);)Q=U(),Q?O.push(Q):n("One extra comma");return O}function b(){var U=w();return U||n("Expected color definition"),U.length=K(),U}function w(){return x()||B()||P()||S()}function S(){return ee("literal",e.literalColor,0)}function x(){return ee("hex",e.hexColor,1)}function P(){return a(e.rgbColor,function(){return{type:"rgb",value:_(G)}})}function B(){return a(e.rgbaColor,function(){return{type:"rgba",value:_(G)}})}function G(){return le(e.number)[1]}function K(){return ee("%",e.percentageValue,1)||Y()||W()}function Y(){return ee("position-keyword",e.positionKeywords,1)}function W(){return ee("px",e.pixelValue,1)||ee("em",e.emValue,1)}function ee(U,Q,O){var R=le(Q);if(R)return{type:U,value:R[O]}}function le(U){var Q,O;return O=/^[\n\r\t\s]+/.exec(t),O&&de(O[0].length),Q=U.exec(t),Q&&de(Q[0].length),Q}function de(U){t=t.substr(U)}return function(U){return t=U.toString(),r()}}();var MH=ns.parse,DH=ns.stringify,ln="top",zn="bottom",Hn="right",cn="left",pp="auto",za=[ln,zn,Hn,cn],Ws="start",Ta="end",FH="clippingParents",Hw="viewport",To="popper",LH="reference",w0=za.reduce(function(e,t){return e.concat([t+"-"+Ws,t+"-"+Ta])},[]),Uw=[].concat(za,[pp]).reduce(function(e,t){return e.concat([t,t+"-"+Ws,t+"-"+Ta])},[]),BH="beforeRead",$H="read",jH="afterRead",NH="beforeMain",zH="main",HH="afterMain",UH="beforeWrite",VH="write",WH="afterWrite",YH=[BH,$H,jH,NH,zH,HH,UH,VH,WH];function xr(e){return e?(e.nodeName||"").toLowerCase():null}function Cn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ui(e){var t=Cn(e).Element;return e instanceof t||e instanceof Element}function Fn(e){var t=Cn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function gp(e){if(typeof ShadowRoot>"u")return!1;var t=Cn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function GH(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Fn(o)||!xr(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(p){var a=i[p];a===!1?o.removeAttribute(p):o.setAttribute(p,a===!0?"":a)}))})}function XH(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},p=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=p.reduce(function(s,h){return s[h]="",s},{});!Fn(i)||!xr(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(s){i.removeAttribute(s)}))})}}const KH={name:"applyStyles",enabled:!0,phase:"write",fn:GH,effect:XH,requires:["computeStyles"]};function yr(e){return e.split("-")[0]}var Bi=Math.max,nc=Math.min,Ys=Math.round;function Ch(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Vw(){return!/^((?!chrome|android).)*safari/i.test(Ch())}function Gs(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Fn(e)&&(i=e.offsetWidth>0&&Ys(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Ys(r.height)/e.offsetHeight||1);var p=Ui(e)?Cn(e):window,a=p.visualViewport,s=!Vw()&&n,h=(r.left+(s&&a?a.offsetLeft:0))/i,u=(r.top+(s&&a?a.offsetTop:0))/o,l=r.width/i,f=r.height/o;return{width:l,height:f,top:u,right:h+l,bottom:u+f,left:h,x:h,y:u}}function vp(e){var t=Gs(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Ww(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&gp(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vr(e){return Cn(e).getComputedStyle(e)}function qH(e){return["table","td","th"].indexOf(xr(e))>=0}function bi(e){return((Ui(e)?e.ownerDocument:e.document)||window.document).documentElement}function Zc(e){return xr(e)==="html"?e:e.assignedSlot||e.parentNode||(gp(e)?e.host:null)||bi(e)}function C0(e){return!Fn(e)||Vr(e).position==="fixed"?null:e.offsetParent}function JH(e){var t=/firefox/i.test(Ch()),n=/Trident/i.test(Ch());if(n&&Fn(e)){var r=Vr(e);if(r.position==="fixed")return null}var i=Zc(e);for(gp(i)&&(i=i.host);Fn(i)&&["html","body"].indexOf(xr(i))<0;){var o=Vr(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Ha(e){for(var t=Cn(e),n=C0(e);n&&qH(n)&&Vr(n).position==="static";)n=C0(n);return n&&(xr(n)==="html"||xr(n)==="body"&&Vr(n).position==="static")?t:n||JH(e)||t}function mp(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function qo(e,t,n){return Bi(e,nc(t,n))}function ZH(e,t,n){var r=qo(e,t,n);return r>n?n:r}function Yw(){return{top:0,right:0,bottom:0,left:0}}function Gw(e){return Object.assign({},Yw(),e)}function Xw(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var QH=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Gw(typeof t!="number"?t:Xw(t,za))};function e9(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,p=n.modifiersData.popperOffsets,a=yr(n.placement),s=mp(a),h=[cn,Hn].indexOf(a)>=0,u=h?"height":"width";if(!(!o||!p)){var l=QH(i.padding,n),f=vp(o),c=s==="y"?ln:cn,d=s==="y"?zn:Hn,v=n.rects.reference[u]+n.rects.reference[s]-p[s]-n.rects.popper[u],g=p[s]-n.rects.reference[s],m=Ha(o),y=m?s==="y"?m.clientHeight||0:m.clientWidth||0:0,_=v/2-g/2,b=l[c],w=y-f[u]-l[d],S=y/2-f[u]/2+_,x=qo(b,S,w),P=s;n.modifiersData[r]=(t={},t[P]=x,t.centerOffset=x-S,t)}}function t9(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||Ww(t.elements.popper,i)&&(t.elements.arrow=i))}const n9={name:"arrow",enabled:!0,phase:"main",fn:e9,effect:t9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xs(e){return e.split("-")[1]}var r9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function i9(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Ys(n*i)/i||0,y:Ys(r*i)/i||0}}function S0(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,p=e.offsets,a=e.position,s=e.gpuAcceleration,h=e.adaptive,u=e.roundOffsets,l=e.isFixed,f=p.x,c=f===void 0?0:f,d=p.y,v=d===void 0?0:d,g=typeof u=="function"?u({x:c,y:v}):{x:c,y:v};c=g.x,v=g.y;var m=p.hasOwnProperty("x"),y=p.hasOwnProperty("y"),_=cn,b=ln,w=window;if(h){var S=Ha(n),x="clientHeight",P="clientWidth";if(S===Cn(n)&&(S=bi(n),Vr(S).position!=="static"&&a==="absolute"&&(x="scrollHeight",P="scrollWidth")),S=S,i===ln||(i===cn||i===Hn)&&o===Ta){b=zn;var B=l&&S===w&&w.visualViewport?w.visualViewport.height:S[x];v-=B-r.height,v*=s?1:-1}if(i===cn||(i===ln||i===zn)&&o===Ta){_=Hn;var G=l&&S===w&&w.visualViewport?w.visualViewport.width:S[P];c-=G-r.width,c*=s?1:-1}}var K=Object.assign({position:a},h&&r9),Y=u===!0?i9({x:c,y:v},Cn(n)):{x:c,y:v};if(c=Y.x,v=Y.y,s){var W;return Object.assign({},K,(W={},W[b]=y?"0":"",W[_]=m?"0":"",W.transform=(w.devicePixelRatio||1)<=1?"translate("+c+"px, "+v+"px)":"translate3d("+c+"px, "+v+"px, 0)",W))}return Object.assign({},K,(t={},t[b]=y?v+"px":"",t[_]=m?c+"px":"",t.transform="",t))}function s9(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,p=o===void 0?!0:o,a=n.roundOffsets,s=a===void 0?!0:a,h={placement:yr(t.placement),variation:Xs(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,S0(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:p,roundOffsets:s})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,S0(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const o9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:s9,data:{}};var gl={passive:!0};function a9(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,p=r.resize,a=p===void 0?!0:p,s=Cn(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(u){u.addEventListener("scroll",n.update,gl)}),a&&s.addEventListener("resize",n.update,gl),function(){o&&h.forEach(function(u){u.removeEventListener("scroll",n.update,gl)}),a&&s.removeEventListener("resize",n.update,gl)}}const l9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:a9,data:{}};var c9={left:"right",right:"left",bottom:"top",top:"bottom"};function kl(e){return e.replace(/left|right|bottom|top/g,function(t){return c9[t]})}var u9={start:"end",end:"start"};function x0(e){return e.replace(/start|end/g,function(t){return u9[t]})}function yp(e){var t=Cn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function _p(e){return Gs(bi(e)).left+yp(e).scrollLeft}function f9(e,t){var n=Cn(e),r=bi(e),i=n.visualViewport,o=r.clientWidth,p=r.clientHeight,a=0,s=0;if(i){o=i.width,p=i.height;var h=Vw();(h||!h&&t==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:o,height:p,x:a+_p(e),y:s}}function h9(e){var t,n=bi(e),r=yp(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Bi(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),p=Bi(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+_p(e),s=-r.scrollTop;return Vr(i||n).direction==="rtl"&&(a+=Bi(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:p,x:a,y:s}}function bp(e){var t=Vr(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Kw(e){return["html","body","#document"].indexOf(xr(e))>=0?e.ownerDocument.body:Fn(e)&&bp(e)?e:Kw(Zc(e))}function Jo(e,t){var n;t===void 0&&(t=[]);var r=Kw(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Cn(r),p=i?[o].concat(o.visualViewport||[],bp(r)?r:[]):r,a=t.concat(p);return i?a:a.concat(Jo(Zc(p)))}function Sh(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function d9(e,t){var n=Gs(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function T0(e,t,n){return t===Hw?Sh(f9(e,n)):Ui(t)?d9(t,n):Sh(h9(bi(e)))}function p9(e){var t=Jo(Zc(e)),n=["absolute","fixed"].indexOf(Vr(e).position)>=0,r=n&&Fn(e)?Ha(e):e;return Ui(r)?t.filter(function(i){return Ui(i)&&Ww(i,r)&&xr(i)!=="body"}):[]}function g9(e,t,n,r){var i=t==="clippingParents"?p9(e):[].concat(t),o=[].concat(i,[n]),p=o[0],a=o.reduce(function(s,h){var u=T0(e,h,r);return s.top=Bi(u.top,s.top),s.right=nc(u.right,s.right),s.bottom=nc(u.bottom,s.bottom),s.left=Bi(u.left,s.left),s},T0(e,p,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function qw(e){var t=e.reference,n=e.element,r=e.placement,i=r?yr(r):null,o=r?Xs(r):null,p=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,s;switch(i){case ln:s={x:p,y:t.y-n.height};break;case zn:s={x:p,y:t.y+t.height};break;case Hn:s={x:t.x+t.width,y:a};break;case cn:s={x:t.x-n.width,y:a};break;default:s={x:t.x,y:t.y}}var h=i?mp(i):null;if(h!=null){var u=h==="y"?"height":"width";switch(o){case Ws:s[h]=s[h]-(t[u]/2-n[u]/2);break;case Ta:s[h]=s[h]+(t[u]/2-n[u]/2);break}}return s}function Ea(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,p=o===void 0?e.strategy:o,a=n.boundary,s=a===void 0?FH:a,h=n.rootBoundary,u=h===void 0?Hw:h,l=n.elementContext,f=l===void 0?To:l,c=n.altBoundary,d=c===void 0?!1:c,v=n.padding,g=v===void 0?0:v,m=Gw(typeof g!="number"?g:Xw(g,za)),y=f===To?LH:To,_=e.rects.popper,b=e.elements[d?y:f],w=g9(Ui(b)?b:b.contextElement||bi(e.elements.popper),s,u,p),S=Gs(e.elements.reference),x=qw({reference:S,element:_,strategy:"absolute",placement:i}),P=Sh(Object.assign({},_,x)),B=f===To?P:S,G={top:w.top-B.top+m.top,bottom:B.bottom-w.bottom+m.bottom,left:w.left-B.left+m.left,right:B.right-w.right+m.right},K=e.modifiersData.offset;if(f===To&&K){var Y=K[i];Object.keys(G).forEach(function(W){var ee=[Hn,zn].indexOf(W)>=0?1:-1,le=[ln,zn].indexOf(W)>=0?"y":"x";G[W]+=Y[le]*ee})}return G}function v9(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,p=n.padding,a=n.flipVariations,s=n.allowedAutoPlacements,h=s===void 0?Uw:s,u=Xs(r),l=u?a?w0:w0.filter(function(d){return Xs(d)===u}):za,f=l.filter(function(d){return h.indexOf(d)>=0});f.length===0&&(f=l);var c=f.reduce(function(d,v){return d[v]=Ea(e,{placement:v,boundary:i,rootBoundary:o,padding:p})[yr(v)],d},{});return Object.keys(c).sort(function(d,v){return c[d]-c[v]})}function m9(e){if(yr(e)===pp)return[];var t=kl(e);return[x0(e),t,x0(t)]}function y9(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,p=n.altAxis,a=p===void 0?!0:p,s=n.fallbackPlacements,h=n.padding,u=n.boundary,l=n.rootBoundary,f=n.altBoundary,c=n.flipVariations,d=c===void 0?!0:c,v=n.allowedAutoPlacements,g=t.options.placement,m=yr(g),y=m===g,_=s||(y||!d?[kl(g)]:m9(g)),b=[g].concat(_).reduce(function(j,I){return j.concat(yr(I)===pp?v9(t,{placement:I,boundary:u,rootBoundary:l,padding:h,flipVariations:d,allowedAutoPlacements:v}):I)},[]),w=t.rects.reference,S=t.rects.popper,x=new Map,P=!0,B=b[0],G=0;G<b.length;G++){var K=b[G],Y=yr(K),W=Xs(K)===Ws,ee=[ln,zn].indexOf(Y)>=0,le=ee?"width":"height",de=Ea(t,{placement:K,boundary:u,rootBoundary:l,altBoundary:f,padding:h}),U=ee?W?Hn:cn:W?zn:ln;w[le]>S[le]&&(U=kl(U));var Q=kl(U),O=[];if(o&&O.push(de[Y]<=0),a&&O.push(de[U]<=0,de[Q]<=0),O.every(function(j){return j})){B=K,P=!1;break}x.set(K,O)}if(P)for(var R=d?3:1,F=function(I){var X=b.find(function($){var V=x.get($);if(V)return V.slice(0,I).every(function(J){return J})});if(X)return B=X,"break"},D=R;D>0;D--){var se=F(D);if(se==="break")break}t.placement!==B&&(t.modifiersData[r]._skip=!0,t.placement=B,t.reset=!0)}}const _9={name:"flip",enabled:!0,phase:"main",fn:y9,requiresIfExists:["offset"],data:{_skip:!1}};function E0(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function O0(e){return[ln,Hn,zn,cn].some(function(t){return e[t]>=0})}function b9(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,p=Ea(t,{elementContext:"reference"}),a=Ea(t,{altBoundary:!0}),s=E0(p,r),h=E0(a,i,o),u=O0(s),l=O0(h);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:h,isReferenceHidden:u,hasPopperEscaped:l},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":l})}const w9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:b9};function C9(e,t,n){var r=yr(e),i=[cn,ln].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,p=o[0],a=o[1];return p=p||0,a=(a||0)*i,[cn,Hn].indexOf(r)>=0?{x:a,y:p}:{x:p,y:a}}function S9(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,p=Uw.reduce(function(u,l){return u[l]=C9(l,t.rects,o),u},{}),a=p[t.placement],s=a.x,h=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=p}const x9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:S9};function T9(e){var t=e.state,n=e.name;t.modifiersData[n]=qw({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const E9={name:"popperOffsets",enabled:!0,phase:"read",fn:T9,data:{}};function O9(e){return e==="x"?"y":"x"}function k9(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,p=n.altAxis,a=p===void 0?!1:p,s=n.boundary,h=n.rootBoundary,u=n.altBoundary,l=n.padding,f=n.tether,c=f===void 0?!0:f,d=n.tetherOffset,v=d===void 0?0:d,g=Ea(t,{boundary:s,rootBoundary:h,padding:l,altBoundary:u}),m=yr(t.placement),y=Xs(t.placement),_=!y,b=mp(m),w=O9(b),S=t.modifiersData.popperOffsets,x=t.rects.reference,P=t.rects.popper,B=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,G=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),K=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Y={x:0,y:0};if(S){if(o){var W,ee=b==="y"?ln:cn,le=b==="y"?zn:Hn,de=b==="y"?"height":"width",U=S[b],Q=U+g[ee],O=U-g[le],R=c?-P[de]/2:0,F=y===Ws?x[de]:P[de],D=y===Ws?-P[de]:-x[de],se=t.elements.arrow,j=c&&se?vp(se):{width:0,height:0},I=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Yw(),X=I[ee],$=I[le],V=qo(0,x[de],j[de]),J=_?x[de]/2-R-V-X-G.mainAxis:F-V-X-G.mainAxis,ce=_?-x[de]/2+R+V+$+G.mainAxis:D+V+$+G.mainAxis,ve=t.elements.arrow&&Ha(t.elements.arrow),L=ve?b==="y"?ve.clientTop||0:ve.clientLeft||0:0,A=(W=K?.[b])!=null?W:0,M=U+J-A-L,q=U+ce-A,te=qo(c?nc(Q,M):Q,U,c?Bi(O,q):O);S[b]=te,Y[b]=te-U}if(a){var Z,re=b==="x"?ln:cn,fe=b==="x"?zn:Hn,me=S[w],he=w==="y"?"height":"width",ae=me+g[re],_e=me-g[fe],xe=[ln,cn].indexOf(m)!==-1,ue=(Z=K?.[w])!=null?Z:0,Ee=xe?ae:me-x[he]-P[he]-ue+G.altAxis,k=xe?me+x[he]+P[he]-ue-G.altAxis:_e,C=c&&xe?ZH(Ee,me,k):qo(c?Ee:ae,me,c?k:_e);S[w]=C,Y[w]=C-me}t.modifiersData[r]=Y}}const P9={name:"preventOverflow",enabled:!0,phase:"main",fn:k9,requiresIfExists:["offset"]};function A9(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function I9(e){return e===Cn(e)||!Fn(e)?yp(e):A9(e)}function R9(e){var t=e.getBoundingClientRect(),n=Ys(t.width)/e.offsetWidth||1,r=Ys(t.height)/e.offsetHeight||1;return n!==1||r!==1}function M9(e,t,n){n===void 0&&(n=!1);var r=Fn(t),i=Fn(t)&&R9(t),o=bi(t),p=Gs(e,i,n),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&((xr(t)!=="body"||bp(o))&&(a=I9(t)),Fn(t)?(s=Gs(t,!0),s.x+=t.clientLeft,s.y+=t.clientTop):o&&(s.x=_p(o))),{x:p.left+a.scrollLeft-s.x,y:p.top+a.scrollTop-s.y,width:p.width,height:p.height}}function D9(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var p=[].concat(o.requires||[],o.requiresIfExists||[]);p.forEach(function(a){if(!n.has(a)){var s=t.get(a);s&&i(s)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function F9(e){var t=D9(e);return YH.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function L9(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function B9(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var k0={placement:"bottom",modifiers:[],strategy:"absolute"};function P0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function $9(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?k0:i;return function(a,s,h){h===void 0&&(h=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},k0,o),modifiersData:{},elements:{reference:a,popper:s},attributes:{},styles:{}},l=[],f=!1,c={state:u,setOptions:function(m){var y=typeof m=="function"?m(u.options):m;v(),u.options=Object.assign({},o,u.options,y),u.scrollParents={reference:Ui(a)?Jo(a):a.contextElement?Jo(a.contextElement):[],popper:Jo(s)};var _=F9(B9([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(b){return b.enabled}),d(),c.update()},forceUpdate:function(){if(!f){var m=u.elements,y=m.reference,_=m.popper;if(P0(y,_)){u.rects={reference:M9(y,Ha(_),u.options.strategy==="fixed"),popper:vp(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(G){return u.modifiersData[G.name]=Object.assign({},G.data)});for(var b=0;b<u.orderedModifiers.length;b++){if(u.reset===!0){u.reset=!1,b=-1;continue}var w=u.orderedModifiers[b],S=w.fn,x=w.options,P=x===void 0?{}:x,B=w.name;typeof S=="function"&&(u=S({state:u,options:P,name:B,instance:c})||u)}}}},update:L9(function(){return new Promise(function(g){c.forceUpdate(),g(u)})}),destroy:function(){v(),f=!0}};if(!P0(a,s))return c;c.setOptions(h).then(function(g){!f&&h.onFirstUpdate&&h.onFirstUpdate(g)});function d(){u.orderedModifiers.forEach(function(g){var m=g.name,y=g.options,_=y===void 0?{}:y,b=g.effect;if(typeof b=="function"){var w=b({state:u,name:m,instance:c,options:_}),S=function(){};l.push(w||S)}})}function v(){l.forEach(function(g){return g()}),l=[]}return c}}var j9=[l9,E9,o9,KH,x9,_9,P9,n9,w9],N9=$9({defaultModifiers:j9});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function A0(e){return Object.prototype.toString.call(e)==="[object Object]"}function z9(e){var t,n;return A0(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(A0(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zo.apply(this,arguments)}function Jw(e,t){if(e==null)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}const H9={silent:!1,logLevel:"warn"},U9=["validator"],Zw=Object.prototype,Qw=Zw.toString,V9=Zw.hasOwnProperty,eC=/^\s*function (\w+)/;function I0(e){var t;const n=(t=e?.type)!==null&&t!==void 0?t:e;if(n){const r=n.toString().match(eC);return r?r[1]:""}return""}const Vi=z9,W9=e=>e;let Yt=W9;const Ks=(e,t)=>V9.call(e,t),Y9=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},qs=Array.isArray||function(e){return Qw.call(e)==="[object Array]"},Js=e=>Qw.call(e)==="[object Function]",rc=e=>Vi(e)&&Ks(e,"_vueTypes_name"),tC=e=>Vi(e)&&(Ks(e,"type")||["_vueTypes_name","validator","default","required"].some(t=>Ks(e,t)));function wp(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function rs(e,t,n=!1){let r,i=!0,o="";r=Vi(e)?e:{type:e};const p=rc(r)?r._vueTypes_name+" - ":"";if(tC(r)&&r.type!==null){if(r.type===void 0||r.type===!0||!r.required&&t===void 0)return i;qs(r.type)?(i=r.type.some(a=>rs(a,t,!0)===!0),o=r.type.map(a=>I0(a)).join(" or ")):(o=I0(r),i=o==="Array"?qs(t):o==="Object"?Vi(t):o==="String"||o==="Number"||o==="Boolean"||o==="Function"?function(a){if(a==null)return"";const s=a.constructor.toString().match(eC);return s?s[1]:""}(t)===o:t instanceof r.type)}if(!i){const a=`${p}value "${t}" should be of type "${o}"`;return n===!1?(Yt(a),!1):a}if(Ks(r,"validator")&&Js(r.validator)){const a=Yt,s=[];if(Yt=h=>{s.push(h)},i=r.validator(t),Yt=a,!i){const h=(s.length>1?"* ":"")+s.join(`
* `);return s.length=0,n===!1?(Yt(h),i):h}}return i}function wn(e,t){const n=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(i){return i===void 0?(Ks(this,"default")&&delete this.default,this):Js(i)||rs(this,i,!0)===!0?(this.default=qs(i)?()=>[...i]:Vi(i)?()=>Object.assign({},i):i,this):(Yt(`${this._vueTypes_name} - invalid default value: "${i}"`),this)}}}),{validator:r}=n;return Js(r)&&(n.validator=wp(r,n)),n}function _r(e,t){const n=wn(e,t);return Object.defineProperty(n,"validate",{value(r){return Js(this.validator)&&Yt(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:
${JSON.stringify(this)}`),this.validator=wp(r,this),this}})}function R0(e,t,n){const r=function(s){const h={};return Object.getOwnPropertyNames(s).forEach(u=>{h[u]=Object.getOwnPropertyDescriptor(s,u)}),Object.defineProperties({},h)}(t);if(r._vueTypes_name=e,!Vi(n))return r;const{validator:i}=n,o=Jw(n,U9);if(Js(i)){let{validator:s}=r;s&&(s=(a=(p=s).__original)!==null&&a!==void 0?a:p),r.validator=wp(s?function(h){return s.call(this,h)&&i.call(this,h)}:i,r)}var p,a;return Object.assign(r,o)}function Qc(e){return e.replace(/^(?!\s*$)/gm,"  ")}const G9=()=>_r("any",{}),X9=()=>_r("function",{type:Function}),K9=()=>_r("boolean",{type:Boolean}),q9=()=>_r("string",{type:String}),J9=()=>_r("number",{type:Number}),Z9=()=>_r("array",{type:Array}),Q9=()=>_r("object",{type:Object}),eU=()=>wn("integer",{type:Number,validator:e=>Y9(e)}),tU=()=>wn("symbol",{validator:e=>typeof e=="symbol"});function nU(e,t="custom validation failed"){if(typeof e!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return wn(e.name||"<<anonymous function>>",{type:null,validator(n){const r=e(n);return r||Yt(`${this._vueTypes_name} - ${t}`),r}})}function rU(e){if(!qs(e))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const t=`oneOf - value should be one of "${e.join('", "')}".`,n=e.reduce((r,i)=>{if(i!=null){const o=i.constructor;r.indexOf(o)===-1&&r.push(o)}return r},[]);return wn("oneOf",{type:n.length>0?n:void 0,validator(r){const i=e.indexOf(r)!==-1;return i||Yt(t),i}})}function iU(e){if(!qs(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");let t=!1,n=[];for(let i=0;i<e.length;i+=1){const o=e[i];if(tC(o)){if(rc(o)&&o._vueTypes_name==="oneOf"&&o.type){n=n.concat(o.type);continue}if(Js(o.validator)&&(t=!0),o.type===!0||!o.type){Yt('oneOfType - invalid usage of "true" or "null" as types.');continue}n=n.concat(o.type)}else n.push(o)}n=n.filter((i,o)=>n.indexOf(i)===o);const r=n.length>0?n:null;return wn("oneOfType",t?{type:r,validator(i){const o=[],p=e.some(a=>{const s=rs(rc(a)&&a._vueTypes_name==="oneOf"?a.type||null:a,i,!0);return typeof s=="string"&&o.push(s),s===!0});return p||Yt(`oneOfType - provided value does not match any of the ${o.length} passed-in validators:
${Qc(o.join(`
`))}`),p}}:{type:r})}function sU(e){return wn("arrayOf",{type:Array,validator(t){let n="";const r=t.every(i=>(n=rs(e,i,!0),n===!0));return r||Yt(`arrayOf - value validation error:
${Qc(n)}`),r}})}function oU(e){return wn("instanceOf",{type:e})}function aU(e){return wn("objectOf",{type:Object,validator(t){let n="";const r=Object.keys(t).every(i=>(n=rs(e,t[i],!0),n===!0));return r||Yt(`objectOf - value validation error:
${Qc(n)}`),r}})}function lU(e){const t=Object.keys(e),n=t.filter(i=>{var o;return!((o=e[i])===null||o===void 0||!o.required)}),r=wn("shape",{type:Object,validator(i){if(!Vi(i))return!1;const o=Object.keys(i);if(n.length>0&&n.some(p=>o.indexOf(p)===-1)){const p=n.filter(a=>o.indexOf(a)===-1);return Yt(p.length===1?`shape - required property "${p[0]}" is not defined.`:`shape - required properties "${p.join('", "')}" are not defined.`),!1}return o.every(p=>{if(t.indexOf(p)===-1)return this._vueTypes_isLoose===!0||(Yt(`shape - shape definition does not include a "${p}" property. Allowed keys: "${t.join('", "')}".`),!1);const a=rs(e[p],i[p],!0);return typeof a=="string"&&Yt(`shape - "${p}" property validation error:
 ${Qc(a)}`),a===!0})}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),r}const cU=["name","validate","getter"],uU=(()=>{var e;return(e=class{static get any(){return G9()}static get func(){return X9().def(this.defaults.func)}static get bool(){return K9().def(this.defaults.bool)}static get string(){return q9().def(this.defaults.string)}static get number(){return J9().def(this.defaults.number)}static get array(){return Z9().def(this.defaults.array)}static get object(){return Q9().def(this.defaults.object)}static get integer(){return eU().def(this.defaults.integer)}static get symbol(){return tU()}static get nullable(){return{type:null}}static extend(t){if(qs(t))return t.forEach(s=>this.extend(s)),this;const{name:n,validate:r=!1,getter:i=!1}=t,o=Jw(t,cU);if(Ks(this,n))throw new TypeError(`[VueTypes error]: Type "${n}" already defined`);const{type:p}=o;if(rc(p))return delete o.type,Object.defineProperty(this,n,i?{get:()=>R0(n,p,o)}:{value(...s){const h=R0(n,p,o);return h.validator&&(h.validator=h.validator.bind(h,...s)),h}});let a;return a=i?{get(){const s=Object.assign({},o);return r?_r(n,s):wn(n,s)},enumerable:!0}:{value(...s){const h=Object.assign({},o);let u;return u=r?_r(n,h):wn(n,h),h.validator&&(u.validator=h.validator.bind(u,...s)),u},enumerable:!0},Object.defineProperty(this,n,a)}}).defaults={},e.sensibleDefaults=void 0,e.config=H9,e.custom=nU,e.oneOf=rU,e.instanceOf=oU,e.oneOfType=iU,e.arrayOf=sU,e.objectOf=aU,e.shape=lU,e.utils={validate:(t,n)=>rs(n,t,!0)===!0,toType:(t,n,r=!1)=>r?_r(t,n):wn(t,n)},e})();function fU(e={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var t;return(t=class extends uU{static get sensibleDefaults(){return Zo({},this.defaults)}static set sensibleDefaults(n){this.defaults=n!==!1?Zo({},n!==!0?n:e):{}}}).defaults=Zo({},e),t}let Ne=class extends fU(){};var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cp(e){var t={exports:{}};return e(t,t.exports),t.exports}var vl=function(e){return e&&e.Math==Math&&e},Mt=vl(typeof globalThis=="object"&&globalThis)||vl(typeof window=="object"&&window)||vl(typeof self=="object"&&self)||vl(typeof M0=="object"&&M0)||function(){return this}()||Function("return this")(),gt=function(e){try{return!!e()}catch{return!0}},In=!gt(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),D0={}.propertyIsEnumerable,F0=Object.getOwnPropertyDescriptor,hU={f:F0&&!D0.call({1:2},1)?function(e){var t=F0(this,e);return!!t&&t.enumerable}:D0},eu=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},dU={}.toString,$r=function(e){return dU.call(e).slice(8,-1)},pU="".split,tu=gt(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return $r(e)=="String"?pU.call(e,""):Object(e)}:Object,gi=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},fo=function(e){return tu(gi(e))},Bt=function(e){return typeof e=="object"?e!==null:typeof e=="function"},Sp=function(e,t){if(!Bt(e))return e;var n,r;if(t&&typeof(n=e.toString)=="function"&&!Bt(r=n.call(e))||typeof(n=e.valueOf)=="function"&&!Bt(r=n.call(e))||!t&&typeof(n=e.toString)=="function"&&!Bt(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},gU={}.hasOwnProperty,Et=function(e,t){return gU.call(e,t)},xh=Mt.document,vU=Bt(xh)&&Bt(xh.createElement),nC=function(e){return vU?xh.createElement(e):{}},rC=!In&&!gt(function(){return Object.defineProperty(nC("div"),"a",{get:function(){return 7}}).a!=7}),L0=Object.getOwnPropertyDescriptor,xp={f:In?L0:function(e,t){if(e=fo(e),t=Sp(t,!0),rC)try{return L0(e,t)}catch{}if(Et(e,t))return eu(!hU.f.call(e,t),e[t])}},Jt=function(e){if(!Bt(e))throw TypeError(String(e)+" is not an object");return e},B0=Object.defineProperty,Xr={f:In?B0:function(e,t,n){if(Jt(e),t=Sp(t,!0),Jt(n),rC)try{return B0(e,t,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Ln=In?function(e,t,n){return Xr.f(e,t,eu(1,n))}:function(e,t,n){return e[t]=n,e},Tp=function(e,t){try{Ln(Mt,e,t)}catch{Mt[e]=t}return t},Wi=Mt["__core-js_shared__"]||Tp("__core-js_shared__",{}),mU=Function.toString;typeof Wi.inspectSource!="function"&&(Wi.inspectSource=function(e){return mU.call(e)});var ic,Qo,sc,iC=Wi.inspectSource,$0=Mt.WeakMap,yU=typeof $0=="function"&&/native code/.test(iC($0)),sC=Cp(function(e){(e.exports=function(t,n){return Wi[t]||(Wi[t]=n!==void 0?n:{})})("versions",[]).push({version:"3.8.3",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),_U=0,bU=Math.random(),Ep=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++_U+bU).toString(36)},j0=sC("keys"),Op=function(e){return j0[e]||(j0[e]=Ep(e))},nu={},wU=Mt.WeakMap;if(yU){var fs=Wi.state||(Wi.state=new wU),CU=fs.get,SU=fs.has,xU=fs.set;ic=function(e,t){return t.facade=e,xU.call(fs,e,t),t},Qo=function(e){return CU.call(fs,e)||{}},sc=function(e){return SU.call(fs,e)}}else{var Eo=Op("state");nu[Eo]=!0,ic=function(e,t){return t.facade=e,Ln(e,Eo,t),t},Qo=function(e){return Et(e,Eo)?e[Eo]:{}},sc=function(e){return Et(e,Eo)}}var vi={set:ic,get:Qo,has:sc,enforce:function(e){return sc(e)?Qo(e):ic(e,{})},getterFor:function(e){return function(t){var n;if(!Bt(t)||(n=Qo(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},mi=Cp(function(e){var t=vi.get,n=vi.enforce,r=String(String).split("String");(e.exports=function(i,o,p,a){var s,h=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;typeof p=="function"&&(typeof o!="string"||Et(p,"name")||Ln(p,"name",o),(s=n(p)).source||(s.source=r.join(typeof o=="string"?o:""))),i!==Mt?(h?!l&&i[o]&&(u=!0):delete i[o],u?i[o]=p:Ln(i,o,p)):u?i[o]=p:Tp(o,p)})(Function.prototype,"toString",function(){return typeof this=="function"&&t(this).source||iC(this)})}),Zu=Mt,N0=function(e){return typeof e=="function"?e:void 0},ru=function(e,t){return arguments.length<2?N0(Zu[e])||N0(Mt[e]):Zu[e]&&Zu[e][t]||Mt[e]&&Mt[e][t]},TU=Math.ceil,EU=Math.floor,ho=function(e){return isNaN(e=+e)?0:(e>0?EU:TU)(e)},OU=Math.min,Tn=function(e){return e>0?OU(ho(e),9007199254740991):0},kU=Math.max,PU=Math.min,oc=function(e,t){var n=ho(e);return n<0?kU(n+t,0):PU(n,t)},z0=function(e){return function(t,n,r){var i,o=fo(t),p=Tn(o.length),a=oc(r,p);if(e&&n!=n){for(;p>a;)if((i=o[a++])!=i)return!0}else for(;p>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},oC={includes:z0(!0),indexOf:z0(!1)},AU=oC.indexOf,aC=function(e,t){var n,r=fo(e),i=0,o=[];for(n in r)!Et(nu,n)&&Et(r,n)&&o.push(n);for(;t.length>i;)Et(r,n=t[i++])&&(~AU(o,n)||o.push(n));return o},ac=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],IU=ac.concat("length","prototype"),RU={f:Object.getOwnPropertyNames||function(e){return aC(e,IU)}},MU={f:Object.getOwnPropertySymbols},DU=ru("Reflect","ownKeys")||function(e){var t=RU.f(Jt(e)),n=MU.f;return n?t.concat(n(e)):t},FU=function(e,t){for(var n=DU(t),r=Xr.f,i=xp.f,o=0;o<n.length;o++){var p=n[o];Et(e,p)||r(e,p,i(t,p))}},LU=/#|\.prototype\./,Ua=function(e,t){var n=$U[BU(e)];return n==NU||n!=jU&&(typeof t=="function"?gt(t):!!t)},BU=Ua.normalize=function(e){return String(e).replace(LU,".").toLowerCase()},$U=Ua.data={},jU=Ua.NATIVE="N",NU=Ua.POLYFILL="P",Th=Ua,zU=xp.f,Xt=function(e,t){var n,r,i,o,p,a=e.target,s=e.global,h=e.stat;if(n=s?Mt:h?Mt[a]||Tp(a,{}):(Mt[a]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(p=zU(n,r))&&p.value:n[r],!Th(s?r:a+(h?".":"#")+r,e.forced)&&i!==void 0){if(typeof o==typeof i)continue;FU(o,i)}(e.sham||i&&i.sham)&&Ln(o,"sham",!0),mi(n,r,o,e)}},kp=function(e,t){var n=[][e];return!!n&&gt(function(){n.call(null,t||function(){throw 1},1)})},HU=Object.defineProperty,Qu={},H0=function(e){throw e},po=function(e,t){if(Et(Qu,e))return Qu[e];t||(t={});var n=[][e],r=!!Et(t,"ACCESSORS")&&t.ACCESSORS,i=Et(t,0)?t[0]:H0,o=Et(t,1)?t[1]:void 0;return Qu[e]=!!n&&!gt(function(){if(r&&!In)return!0;var p={length:-1};r?HU(p,1,{enumerable:!0,get:H0}):p[1]=1,n.call(p,i,o)})},UU=oC.indexOf,lC=[].indexOf,U0=!!lC&&1/[1].indexOf(1,-0)<0,VU=kp("indexOf"),WU=po("indexOf",{ACCESSORS:!0,1:0});function is(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ss(e,t,n){return t&&V0(e.prototype,t),n&&V0(e,n),e}Xt({target:"Array",proto:!0,forced:U0||!VU||!WU},{indexOf:function(e){return U0?lC.apply(this,arguments)||0:UU(this,e,arguments.length>1?arguments[1]:void 0)}});(function(){function e(){is(this,e)}return ss(e,null,[{key:"isInBrowser",value:function(){return typeof window<"u"}},{key:"isServer",value:function(){return typeof window>"u"}},{key:"getUA",value:function(){return e.isInBrowser()?window.navigator.userAgent.toLowerCase():""}},{key:"isMobile",value:function(){return/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion)}},{key:"isOpera",value:function(){return navigator.userAgent.indexOf("Opera")!==-1}},{key:"isIE",value:function(){var t=e.getUA();return t!==""&&t.indexOf("msie")>0}},{key:"isIE9",value:function(){var t=e.getUA();return t!==""&&t.indexOf("msie 9.0")>0}},{key:"isEdge",value:function(){var t=e.getUA();return t!==""&&t.indexOf("edge/")>0}},{key:"isChrome",value:function(){var t=e.getUA();return t!==""&&/chrome\/\d+/.test(t)&&!e.isEdge()}},{key:"isPhantomJS",value:function(){var t=e.getUA();return t!==""&&/phantomjs/.test(t)}},{key:"isFirefox",value:function(){var t=e.getUA();return t!==""&&/firefox/.test(t)}}]),e})();var YU=[].join,GU=tu!=Object,XU=kp("join",",");Xt({target:"Array",proto:!0,forced:GU||!XU},{join:function(e){return YU.call(fo(this),e===void 0?",":e)}});var hs,lc,Kr=function(e){return Object(gi(e))},Zs=Array.isArray||function(e){return $r(e)=="Array"},cC=!!Object.getOwnPropertySymbols&&!gt(function(){return!String(Symbol())}),KU=cC&&!Symbol.sham&&typeof Symbol.iterator=="symbol",ml=sC("wks"),ea=Mt.Symbol,qU=KU?ea:ea&&ea.withoutSetter||Ep,bt=function(e){return Et(ml,e)||(cC&&Et(ea,e)?ml[e]=ea[e]:ml[e]=qU("Symbol."+e)),ml[e]},JU=bt("species"),iu=function(e,t){var n;return Zs(e)&&(typeof(n=e.constructor)!="function"||n!==Array&&!Zs(n.prototype)?Bt(n)&&(n=n[JU])===null&&(n=void 0):n=void 0),new(n===void 0?Array:n)(t===0?0:t)},Qs=function(e,t,n){var r=Sp(t);r in e?Xr.f(e,r,eu(0,n)):e[r]=n},ef=ru("navigator","userAgent")||"",W0=Mt.process,Y0=W0&&W0.versions,G0=Y0&&Y0.v8;G0?lc=(hs=G0.split("."))[0]+hs[1]:ef&&(!(hs=ef.match(/Edge\/(\d+)/))||hs[1]>=74)&&(hs=ef.match(/Chrome\/(\d+)/))&&(lc=hs[1]);var cc=lc&&+lc,ZU=bt("species"),Pp=function(e){return cc>=51||!gt(function(){var t=[];return(t.constructor={})[ZU]=function(){return{foo:1}},t[e](Boolean).foo!==1})},QU=Pp("splice"),eV=po("splice",{ACCESSORS:!0,0:0,1:2}),tV=Math.max,nV=Math.min;Xt({target:"Array",proto:!0,forced:!QU||!eV},{splice:function(e,t){var n,r,i,o,p,a,s=Kr(this),h=Tn(s.length),u=oc(e,h),l=arguments.length;if(l===0?n=r=0:l===1?(n=0,r=h-u):(n=l-2,r=nV(tV(ho(t),0),h-u)),h+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=iu(s,r),o=0;o<r;o++)(p=u+o)in s&&Qs(i,o,s[p]);if(i.length=r,n<r){for(o=u;o<h-r;o++)a=o+n,(p=o+r)in s?s[a]=s[p]:delete s[a];for(o=h;o>h-r+n;o--)delete s[o-1]}else if(n>r)for(o=h-r;o>u;o--)a=o+n-1,(p=o+r-1)in s?s[a]=s[p]:delete s[a];for(o=0;o<n;o++)s[o+u]=arguments[o+2];return s.length=h-r+n,i}});var uC={};uC[bt("toStringTag")]="z";var Ap=String(uC)==="[object z]",rV=bt("toStringTag"),iV=$r(function(){return arguments}())=="Arguments",fC=Ap?$r:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=function(i,o){try{return i[o]}catch{}}(t=Object(e),rV))=="string"?n:iV?$r(t):(r=$r(t))=="Object"&&typeof t.callee=="function"?"Arguments":r},sV=Ap?{}.toString:function(){return"[object "+fC(this)+"]"};Ap||mi(Object.prototype,"toString",sV,{unsafe:!0});var hC=function(){var e=Jt(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function X0(e,t){return RegExp(e,t)}var tf,nf,K0={UNSUPPORTED_Y:gt(function(){var e=X0("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),BROKEN_CARET:gt(function(){var e=X0("^r","gy");return e.lastIndex=2,e.exec("str")!=null})},uc=RegExp.prototype.exec,oV=String.prototype.replace,dC=uc,rf=(tf=/a/,nf=/b*/g,uc.call(tf,"a"),uc.call(nf,"a"),tf.lastIndex!==0||nf.lastIndex!==0),q0=K0.UNSUPPORTED_Y||K0.BROKEN_CARET,sf=/()??/.exec("")[1]!==void 0;(rf||sf||q0)&&(dC=function(e){var t,n,r,i,o=this,p=q0&&o.sticky,a=hC.call(o),s=o.source,h=0,u=e;return p&&((a=a.replace("y","")).indexOf("g")===-1&&(a+="g"),u=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&e[o.lastIndex-1]!==`
`)&&(s="(?: "+s+")",u=" "+u,h++),n=new RegExp("^(?:"+s+")",a)),sf&&(n=new RegExp("^"+s+"$(?!\\s)",a)),rf&&(t=o.lastIndex),r=uc.call(p?n:o,u),p?r?(r.input=r.input.slice(h),r[0]=r[0].slice(h),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:rf&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),sf&&r&&r.length>1&&oV.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)arguments[i]===void 0&&(r[i]=void 0)}),r});var Oa=dC;Xt({target:"RegExp",proto:!0,forced:/./.exec!==Oa},{exec:Oa});var pC=RegExp.prototype,gC=pC.toString,aV=gt(function(){return gC.call({source:"a",flags:"b"})!="/a/b"}),lV=gC.name!="toString";(aV||lV)&&mi(RegExp.prototype,"toString",function(){var e=Jt(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(n===void 0&&e instanceof RegExp&&!("flags"in pC)?hC.call(e):n)},{unsafe:!0});var cV=bt("species"),uV=!gt(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"}),J0="a".replace(/./,"$0")==="$0",Z0=bt("replace"),Q0=!!/./[Z0]&&/./[Z0]("a","$0")==="",fV=!gt(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return n.length!==2||n[0]!=="a"||n[1]!=="b"}),vC=function(e,t,n,r){var i=bt(e),o=!gt(function(){var l={};return l[i]=function(){return 7},""[e](l)!=7}),p=o&&!gt(function(){var l=!1,f=/a/;return e==="split"&&((f={}).constructor={},f.constructor[cV]=function(){return f},f.flags="",f[i]=/./[i]),f.exec=function(){return l=!0,null},f[i](""),!l});if(!o||!p||e==="replace"&&(!uV||!J0||Q0)||e==="split"&&!fV){var a=/./[i],s=n(i,""[e],function(l,f,c,d,v){return f.exec===Oa?o&&!v?{done:!0,value:a.call(f,c,d)}:{done:!0,value:l.call(c,f,d)}:{done:!1}},{REPLACE_KEEPS_$0:J0,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Q0}),h=s[0],u=s[1];mi(String.prototype,e,h),mi(RegExp.prototype,i,t==2?function(l,f){return u.call(l,this,f)}:function(l){return u.call(l,this)})}r&&Ln(RegExp.prototype[i],"sham",!0)},hV=bt("match"),mC=function(e){var t;return Bt(e)&&((t=e[hV])!==void 0?!!t:$r(e)=="RegExp")},Ip=function(e){if(typeof e!="function")throw TypeError(String(e)+" is not a function");return e},dV=bt("species"),ey=function(e){return function(t,n){var r,i,o=String(gi(t)),p=ho(n),a=o.length;return p<0||p>=a?e?"":void 0:(r=o.charCodeAt(p))<55296||r>56319||p+1===a||(i=o.charCodeAt(p+1))<56320||i>57343?e?o.charAt(p):r:e?o.slice(p,p+2):i-56320+(r-55296<<10)+65536}},yC={codeAt:ey(!1),charAt:ey(!0)},pV=yC.charAt,_C=function(e,t,n){return t+(n?pV(e,t).length:1)},Eh=function(e,t){var n=e.exec;if(typeof n=="function"){var r=n.call(e,t);if(typeof r!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return r}if($r(e)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return Oa.call(e,t)},gV=[].push,vV=Math.min,ds=!gt(function(){return!RegExp(4294967295,"y")});vC("split",2,function(e,t,n){var r;return r="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(i,o){var p=String(gi(this)),a=o===void 0?4294967295:o>>>0;if(a===0)return[];if(i===void 0)return[p];if(!mC(i))return t.call(p,i,a);for(var s,h,u,l=[],f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(i.sticky?"y":""),c=0,d=new RegExp(i.source,f+"g");(s=Oa.call(d,p))&&!((h=d.lastIndex)>c&&(l.push(p.slice(c,s.index)),s.length>1&&s.index<p.length&&gV.apply(l,s.slice(1)),u=s[0].length,c=h,l.length>=a));)d.lastIndex===s.index&&d.lastIndex++;return c===p.length?!u&&d.test("")||l.push(""):l.push(p.slice(c)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(i,o){return i===void 0&&o===0?[]:t.call(this,i,o)}:t,[function(i,o){var p=gi(this),a=i?.[e];return a!==void 0?a.call(i,p,o):r.call(String(p),i,o)},function(i,o){var p=n(r,i,this,o,r!==t);if(p.done)return p.value;var a=Jt(i),s=String(this),h=function(b,w){var S,x=Jt(b).constructor;return x===void 0||(S=Jt(x)[dV])==null?w:Ip(S)}(a,RegExp),u=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(ds?"y":"g"),f=new h(ds?a:"^(?:"+a.source+")",l),c=o===void 0?4294967295:o>>>0;if(c===0)return[];if(s.length===0)return Eh(f,s)===null?[s]:[];for(var d=0,v=0,g=[];v<s.length;){f.lastIndex=ds?v:0;var m,y=Eh(f,ds?s:s.slice(v));if(y===null||(m=vV(Tn(f.lastIndex+(ds?0:v)),s.length))===d)v=_C(s,v,u);else{if(g.push(s.slice(d,v)),g.length===c)return g;for(var _=1;_<=y.length-1;_++)if(g.push(y[_]),g.length===c)return g;v=d=m}}return g.push(s.slice(d)),g}]},!ds);var Oh=`	
\v\f\r \u2028\u2029\uFEFF`,fc="["+Oh+"]",mV=RegExp("^"+fc+fc+"*"),yV=RegExp(fc+fc+"*$"),of=function(e){return function(t){var n=String(gi(t));return 1&e&&(n=n.replace(mV,"")),2&e&&(n=n.replace(yV,"")),n}},_V={start:of(1),end:of(2),trim:of(3)},bV=_V.trim;Xt({target:"String",proto:!0,forced:function(e){return gt(function(){return!!Oh[e]()||""[e]()!=""||Oh[e].name!==e})}("trim")},{trim:function(){return bV(this)}});var wV=Pp("slice"),CV=po("slice",{ACCESSORS:!0,0:0,1:2}),SV=bt("species"),xV=[].slice,TV=Math.max;Xt({target:"Array",proto:!0,forced:!wV||!CV},{slice:function(e,t){var n,r,i,o=fo(this),p=Tn(o.length),a=oc(e,p),s=oc(t===void 0?p:t,p);if(Zs(o)&&(typeof(n=o.constructor)!="function"||n!==Array&&!Zs(n.prototype)?Bt(n)&&(n=n[SV])===null&&(n=void 0):n=void 0,n===Array||n===void 0))return xV.call(o,a,s);for(r=new(n===void 0?Array:n)(TV(s-a,0)),i=0;a<s;a++,i++)a in o&&Qs(r,i,o[a]);return r.length=i,r}});var Rp=Object.keys||function(e){return aC(e,ac)},EV=gt(function(){Rp(1)});Xt({target:"Object",stat:!0,forced:EV},{keys:function(e){return Rp(Kr(e))}});var af,OV=function(e){if(mC(e))throw TypeError("The method doesn't accept regular expressions");return e},kV=bt("match"),PV=xp.f,ty="".startsWith,AV=Math.min,bC=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[kV]=!1,"/./"[e](t)}catch{}}return!1}("startsWith"),IV=!(bC||(af=PV(String.prototype,"startsWith"),!af||af.writable));function wC(e){return(wC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Xt({target:"String",proto:!0,forced:!IV&&!bC},{startsWith:function(e){var t=String(gi(this));OV(e);var n=Tn(AV(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return ty?ty.call(t,r,n):t.slice(n,n+r.length)===r}});var ps=function(e){return typeof e=="string"},gs=function(e){return e!==null&&wC(e)==="object"},su=function(){function e(){is(this,e)}return ss(e,null,[{key:"isWindow",value:function(t){return t===window}},{key:"addEventListener",value:function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];t&&n&&r&&t.addEventListener(n,r,i)}},{key:"removeEventListener",value:function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];t&&n&&r&&t.removeEventListener(n,r,i)}},{key:"triggerDragEvent",value:function(t,n){var r=!1,i=function(p){var a;(a=n.drag)===null||a===void 0||a.call(n,p)},o=function p(a){var s;e.removeEventListener(document,"mousemove",i),e.removeEventListener(document,"mouseup",p),document.onselectstart=null,document.ondragstart=null,r=!1,(s=n.end)===null||s===void 0||s.call(n,a)};e.addEventListener(t,"mousedown",function(p){var a;r||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},e.addEventListener(document,"mousemove",i),e.addEventListener(document,"mouseup",o),r=!0,(a=n.start)===null||a===void 0||a.call(n,p))})}},{key:"getBoundingClientRect",value:function(t){return t&&gs(t)&&t.nodeType===1?t.getBoundingClientRect():null}},{key:"hasClass",value:function(t,n){return!!(t&&gs(t)&&ps(n)&&t.nodeType===1)&&t.classList.contains(n.trim())}},{key:"addClass",value:function(t,n){if(t&&gs(t)&&ps(n)&&t.nodeType===1&&(n=n.trim(),!e.hasClass(t,n))){var r=t.className;t.className=r?r+" "+n:n}}},{key:"removeClass",value:function(t,n){if(t&&gs(t)&&ps(n)&&t.nodeType===1&&typeof t.className=="string"){n=n.trim();for(var r=t.className.trim().split(" "),i=r.length-1;i>=0;i--)r[i]=r[i].trim(),r[i]&&r[i]!==n||r.splice(i,1);t.className=r.join(" ")}}},{key:"toggleClass",value:function(t,n,r){t&&gs(t)&&ps(n)&&t.nodeType===1&&t.classList.toggle(n,r)}},{key:"replaceClass",value:function(t,n,r){t&&gs(t)&&ps(n)&&ps(r)&&t.nodeType===1&&(n=n.trim(),r=r.trim(),e.removeClass(t,n),e.addClass(t,r))}},{key:"getScrollTop",value:function(t){var n="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(n,0)}},{key:"setScrollTop",value:function(t,n){"scrollTop"in t?t.scrollTop=n:t.scrollTo(t.scrollX,n)}},{key:"getRootScrollTop",value:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},{key:"setRootScrollTop",value:function(t){e.setScrollTop(window,t),e.setScrollTop(document.body,t)}},{key:"getElementTop",value:function(t,n){if(e.isWindow(t))return 0;var r=n?e.getScrollTop(n):e.getRootScrollTop();return t.getBoundingClientRect().top+r}},{key:"getVisibleHeight",value:function(t){return e.isWindow(t)?t.innerHeight:t.getBoundingClientRect().height}},{key:"isHidden",value:function(t){if(!t)return!1;var n=window.getComputedStyle(t),r=n.display==="none",i=t.offsetParent===null&&n.position!=="fixed";return r||i}},{key:"triggerEvent",value:function(t,n){if("createEvent"in document){var r=document.createEvent("HTMLEvents");r.initEvent(n,!1,!0),t.dispatchEvent(r)}}},{key:"calcAngle",value:function(t,n){var r=t.getBoundingClientRect(),i=r.left+r.width/2,o=r.top+r.height/2,p=Math.abs(i-n.clientX),a=Math.abs(o-n.clientY),s=a/Math.sqrt(Math.pow(p,2)+Math.pow(a,2)),h=Math.acos(s),u=Math.floor(180/(Math.PI/h));return n.clientX>i&&n.clientY>o&&(u=180-u),n.clientX==i&&n.clientY>o&&(u=180),n.clientX>i&&n.clientY==o&&(u=90),n.clientX<i&&n.clientY>o&&(u=180+u),n.clientX<i&&n.clientY==o&&(u=270),n.clientX<i&&n.clientY<o&&(u=360-u),u}},{key:"querySelector",value:function(t,n){return n?n.querySelector(t):document.querySelector(t)}},{key:"createElement",value:function(t){for(var n=document.createElement(t),r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(var p=0;p<i.length;p++)i[p]&&n.classList.add(i[p]);return n}},{key:"appendChild",value:function(t){for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t.appendChild(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])}},{key:"getWindow",value:function(t){if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}},{key:"isElement",value:function(t){return t instanceof this.getWindow(t).Element||t instanceof Element}},{key:"isHTMLElement",value:function(t){return t instanceof this.getWindow(t).HTMLElement||t instanceof HTMLElement}},{key:"isShadowRoot",value:function(t){return typeof ShadowRoot<"u"&&(t instanceof this.getWindow(t).ShadowRoot||t instanceof ShadowRoot)}},{key:"getWindowScroll",value:function(t){var n=this.getWindow(t);return{scrollLeft:n.pageXOffset||0,scrollTop:n.pageYOffset||0}}}]),e}(),RV=Math.floor,MV="".replace,DV=/\$([$&'`]|\d\d?|<[^>]*>)/g,FV=/\$([$&'`]|\d\d?)/g,LV=function(e,t,n,r,i,o){var p=n+e.length,a=r.length,s=FV;return i!==void 0&&(i=Kr(i),s=DV),MV.call(o,s,function(h,u){var l;switch(u.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(p);case"<":l=i[u.slice(1,-1)];break;default:var f=+u;if(f===0)return h;if(f>a){var c=RV(f/10);return c===0?h:c<=a?r[c-1]===void 0?u.charAt(1):r[c-1]+u.charAt(1):h}l=r[f-1]}return l===void 0?"":l})},BV=Math.max,$V=Math.min;vC("replace",2,function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,p=i?"$":"$0";return[function(a,s){var h=gi(this),u=a?.[e];return u!==void 0?u.call(a,h,s):t.call(String(h),a,s)},function(a,s){if(!i&&o||typeof s=="string"&&s.indexOf(p)===-1){var h=n(t,a,this,s);if(h.done)return h.value}var u=Jt(a),l=String(this),f=typeof s=="function";f||(s=String(s));var c=u.global;if(c){var d=u.unicode;u.lastIndex=0}for(var v=[];;){var g=Eh(u,l);if(g===null||(v.push(g),!c))break;String(g[0])===""&&(u.lastIndex=_C(l,Tn(u.lastIndex),d))}for(var m,y="",_=0,b=0;b<v.length;b++){g=v[b];for(var w=String(g[0]),S=BV($V(ho(g.index),l.length),0),x=[],P=1;P<g.length;P++)x.push((m=g[P])===void 0?m:String(m));var B=g.groups;if(f){var G=[w].concat(x,S,l);B!==void 0&&G.push(B);var K=String(s.apply(void 0,G))}else K=LV(w,l,S,x,B,s);S>=_&&(y+=l.slice(_,S)+K,_=S+w.length)}return y+l.slice(_)}]});(function(){function e(){is(this,e)}return ss(e,null,[{key:"camelize",value:function(t){return t.replace(/-(\w)/g,function(n,r){return r?r.toUpperCase():""})}},{key:"capitalize",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}]),e})();(function(){function e(){is(this,e)}return ss(e,null,[{key:"_clone",value:function(){}}]),e})();var CC=bt("isConcatSpreadable"),jV=cc>=51||!gt(function(){var e=[];return e[CC]=!1,e.concat()[0]!==e}),NV=Pp("concat"),zV=function(e){if(!Bt(e))return!1;var t=e[CC];return t!==void 0?!!t:Zs(e)};Xt({target:"Array",proto:!0,forced:!jV||!NV},{concat:function(e){var t,n,r,i,o,p=Kr(this),a=iu(p,0),s=0;for(t=-1,r=arguments.length;t<r;t++)if(zV(o=t===-1?p:arguments[t])){if(s+(i=Tn(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,s++)n in o&&Qs(a,s,o[n])}else{if(s>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Qs(a,s++,o)}return a.length=s,a}});var lf,Va=function(e,t,n){if(Ip(e),t===void 0)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,i){return e.call(t,r,i)};case 3:return function(r,i,o){return e.call(t,r,i,o)}}return function(){return e.apply(t,arguments)}},ny=[].push,ti=function(e){var t=e==1,n=e==2,r=e==3,i=e==4,o=e==6,p=e==7,a=e==5||o;return function(s,h,u,l){for(var f,c,d=Kr(s),v=tu(d),g=Va(h,u,3),m=Tn(v.length),y=0,_=l||iu,b=t?_(s,m):n||p?_(s,0):void 0;m>y;y++)if((a||y in v)&&(c=g(f=v[y],y,d),e))if(t)b[y]=c;else if(c)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:ny.call(b,f)}else switch(e){case 4:return!1;case 7:ny.call(b,f)}return o?-1:r||i?i:b}},SC={forEach:ti(0),map:ti(1),filter:ti(2),some:ti(3),every:ti(4),find:ti(5),findIndex:ti(6),filterOut:ti(7)},HV=In?Object.defineProperties:function(e,t){Jt(e);for(var n,r=Rp(t),i=r.length,o=0;i>o;)Xr.f(e,n=r[o++],t[n]);return e},UV=ru("document","documentElement"),xC=Op("IE_PROTO"),cf=function(){},ry=function(e){return"<script>"+e+"<\/script>"},Pl=function(){try{lf=document.domain&&new ActiveXObject("htmlfile")}catch{}var e,t;Pl=lf?function(r){r.write(ry("")),r.close();var i=r.parentWindow.Object;return r=null,i}(lf):((t=nC("iframe")).style.display="none",UV.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write(ry("document.F=Object")),e.close(),e.F);for(var n=ac.length;n--;)delete Pl.prototype[ac[n]];return Pl()};nu[xC]=!0;var Mp=Object.create||function(e,t){var n;return e!==null?(cf.prototype=Jt(e),n=new cf,cf.prototype=null,n[xC]=e):n=Pl(),t===void 0?n:HV(n,t)},kh=bt("unscopables"),Ph=Array.prototype;Ph[kh]==null&&Xr.f(Ph,kh,{configurable:!0,value:Mp(null)});var Ps=function(e){Ph[kh][e]=!0},VV=SC.find,iy=!0,WV=po("find");"find"in[]&&Array(1).find(function(){iy=!1}),Xt({target:"Array",proto:!0,forced:iy||!WV},{find:function(e){return VV(this,e,arguments.length>1?arguments[1]:void 0)}}),Ps("find");var YV=SC.findIndex,sy=!0,GV=po("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){sy=!1}),Xt({target:"Array",proto:!0,forced:sy||!GV},{findIndex:function(e){return YV(this,e,arguments.length>1?arguments[1]:void 0)}}),Ps("findIndex");var TC=function(e,t,n,r,i,o,p,a){for(var s,h=i,u=0,l=!!p&&Va(p,a,3);u<r;){if(u in n){if(s=l?l(n[u],u,t):n[u],o>0&&Zs(s))h=TC(e,t,s,Tn(s.length),h,o-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=s}h++}u++}return h},XV=TC;Xt({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=Kr(this),n=Tn(t.length),r=iu(t,0);return r.length=XV(r,t,t,n,0,e===void 0?1:ho(e)),r}});var Ah=function(e){var t=e.return;if(t!==void 0)return Jt(t.call(e)).value},KV=function(e,t,n,r){try{return r?t(Jt(n)[0],n[1]):t(n)}catch(i){throw Ah(e),i}},eo={},qV=bt("iterator"),JV=Array.prototype,EC=function(e){return e!==void 0&&(eo.Array===e||JV[qV]===e)},ZV=bt("iterator"),OC=function(e){if(e!=null)return e[ZV]||e["@@iterator"]||eo[fC(e)]},kC=bt("iterator"),PC=!1;try{var QV=0,oy={next:function(){return{done:!!QV++}},return:function(){PC=!0}};oy[kC]=function(){return this},Array.from(oy,function(){throw 2})}catch{}var AC=function(e,t){if(!t&&!PC)return!1;var n=!1;try{var r={};r[kC]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},e7=!AC(function(e){Array.from(e)});Xt({target:"Array",stat:!0,forced:e7},{from:function(e){var t,n,r,i,o,p,a=Kr(e),s=typeof this=="function"?this:Array,h=arguments.length,u=h>1?arguments[1]:void 0,l=u!==void 0,f=OC(a),c=0;if(l&&(u=Va(u,h>2?arguments[2]:void 0,2)),f==null||s==Array&&EC(f))for(n=new s(t=Tn(a.length));t>c;c++)p=l?u(a[c],c):a[c],Qs(n,c,p);else for(o=(i=f.call(a)).next,n=new s;!(r=o.call(i)).done;c++)p=l?KV(i,u,[r.value,c],!0):r.value,Qs(n,c,p);return n.length=c,n}});var ay=function(e){return function(t,n,r,i){Ip(n);var o=Kr(t),p=tu(o),a=Tn(o.length),s=e?a-1:0,h=e?-1:1;if(r<2)for(;;){if(s in p){i=p[s],s+=h;break}if(s+=h,e?s<0:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;e?s>=0:a>s;s+=h)s in p&&(i=n(i,p[s],s,o));return i}},t7={left:ay(!1),right:ay(!0)},n7=$r(Mt.process)=="process",r7=t7.left,i7=kp("reduce"),s7=po("reduce",{1:0});Xt({target:"Array",proto:!0,forced:!i7||!s7||!n7&&cc>79&&cc<83},{reduce:function(e){return r7(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}}),Ps("flat");var Oi,ly,cy,o7=!gt(function(){return Object.isExtensible(Object.preventExtensions({}))}),IC=Cp(function(e){var t=Xr.f,n=Ep("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(a){t(a,n,{value:{objectID:"O"+ ++r,weakData:{}}})},p=e.exports={REQUIRED:!1,fastKey:function(a,s){if(!Bt(a))return typeof a=="symbol"?a:(typeof a=="string"?"S":"P")+a;if(!Et(a,n)){if(!i(a))return"F";if(!s)return"E";o(a)}return a[n].objectID},getWeakData:function(a,s){if(!Et(a,n)){if(!i(a))return!0;if(!s)return!1;o(a)}return a[n].weakData},onFreeze:function(a){return o7&&p.REQUIRED&&i(a)&&!Et(a,n)&&o(a),a}};nu[n]=!0}),Oo=function(e,t){this.stopped=e,this.result=t},uy=function(e,t,n){var r,i,o,p,a,s,h,u=n&&n.that,l=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),c=!(!n||!n.INTERRUPTED),d=Va(t,u,1+l+c),v=function(m){return r&&Ah(r),new Oo(!0,m)},g=function(m){return l?(Jt(m),c?d(m[0],m[1],v):d(m[0],m[1])):c?d(m,v):d(m)};if(f)r=e;else{if(typeof(i=OC(e))!="function")throw TypeError("Target is not iterable");if(EC(i)){for(o=0,p=Tn(e.length);p>o;o++)if((a=g(e[o]))&&a instanceof Oo)return a;return new Oo(!1)}r=i.call(e)}for(s=r.next;!(h=s.call(r)).done;){try{a=g(h.value)}catch(m){throw Ah(r),m}if(typeof a=="object"&&a&&a instanceof Oo)return a}return new Oo(!1)},fy=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},a7=Xr.f,hy=bt("toStringTag"),Ih=function(e,t,n){e&&!Et(e=n?e:e.prototype,hy)&&a7(e,hy,{configurable:!0,value:t})},hc=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch{}return function(r,i){return Jt(r),function(o){if(!Bt(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype")}(i),t?e.call(r,i):r.__proto__=i,r}}():void 0),dy=function(e,t,n){for(var r in t)mi(e,r,t[r],n);return e},l7=!gt(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),py=Op("IE_PROTO"),c7=Object.prototype,dc=l7?Object.getPrototypeOf:function(e){return e=Kr(e),Et(e,py)?e[py]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c7:null},uf=bt("iterator"),RC=!1;[].keys&&("next"in(cy=[].keys())?(ly=dc(dc(cy)))!==Object.prototype&&(Oi=ly):RC=!0),(Oi==null||gt(function(){var e={};return Oi[uf].call(e)!==e}))&&(Oi={}),Et(Oi,uf)||Ln(Oi,uf,function(){return this});var Dp={IteratorPrototype:Oi,BUGGY_SAFARI_ITERATORS:RC},u7=Dp.IteratorPrototype,f7=function(){return this},ff=Dp.IteratorPrototype,yl=Dp.BUGGY_SAFARI_ITERATORS,ko=bt("iterator"),h7=function(){return this},Fp=function(e,t,n,r,i,o,p){(function(m,y,_){var b=y+" Iterator";m.prototype=Mp(u7,{next:eu(1,_)}),Ih(m,b,!1),eo[b]=f7})(n,t,r);var a,s,h,u=function(m){if(m===i&&v)return v;if(!yl&&m in c)return c[m];switch(m){case"keys":case"values":case"entries":return function(){return new n(this,m)}}return function(){return new n(this)}},l=t+" Iterator",f=!1,c=e.prototype,d=c[ko]||c["@@iterator"]||i&&c[i],v=!yl&&d||u(i),g=t=="Array"&&c.entries||d;if(g&&(a=dc(g.call(new e)),ff!==Object.prototype&&a.next&&(dc(a)!==ff&&(hc?hc(a,ff):typeof a[ko]!="function"&&Ln(a,ko,h7)),Ih(a,l,!0))),i=="values"&&d&&d.name!=="values"&&(f=!0,v=function(){return d.call(this)}),c[ko]!==v&&Ln(c,ko,v),eo[t]=v,i)if(s={values:u("values"),keys:o?v:u("keys"),entries:u("entries")},p)for(h in s)(yl||f||!(h in c))&&mi(c,h,s[h]);else Xt({target:t,proto:!0,forced:yl||f},s);return s},gy=bt("species"),d7=Xr.f,vy=IC.fastKey,my=vi.set,hf=vi.getterFor;(function(e,t,n){var r=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=r?"set":"add",p=Mt[e],a=p&&p.prototype,s=p,h={},u=function(g){var m=a[g];mi(a,g,g=="add"?function(y){return m.call(this,y===0?0:y),this}:g=="delete"?function(y){return!(i&&!Bt(y))&&m.call(this,y===0?0:y)}:g=="get"?function(y){return i&&!Bt(y)?void 0:m.call(this,y===0?0:y)}:g=="has"?function(y){return!(i&&!Bt(y))&&m.call(this,y===0?0:y)}:function(y,_){return m.call(this,y===0?0:y,_),this})};if(Th(e,typeof p!="function"||!(i||a.forEach&&!gt(function(){new p().entries().next()}))))s=n.getConstructor(t,e,r,o),IC.REQUIRED=!0;else if(Th(e,!0)){var l=new s,f=l[o](i?{}:-0,1)!=l,c=gt(function(){l.has(1)}),d=AC(function(g){new p(g)}),v=!i&&gt(function(){for(var g=new p,m=5;m--;)g[o](m,m);return!g.has(-0)});d||((s=t(function(g,m){fy(g,s,e);var y=function(_,b,w){var S,x;return hc&&typeof(S=b.constructor)=="function"&&S!==w&&Bt(x=S.prototype)&&x!==w.prototype&&hc(_,x),_}(new p,g,s);return m!=null&&uy(m,y[o],{that:y,AS_ENTRIES:r}),y})).prototype=a,a.constructor=s),(c||v)&&(u("delete"),u("has"),r&&u("get")),(v||f)&&u(o),i&&a.clear&&delete a.clear}h[e]=s,Xt({global:!0,forced:s!=p},h),Ih(s,e),i||n.setStrong(s,e,r)})("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(e,t,n,r){var i=e(function(s,h){fy(s,i,t),my(s,{type:t,index:Mp(null),first:void 0,last:void 0,size:0}),In||(s.size=0),h!=null&&uy(h,s[r],{that:s,AS_ENTRIES:n})}),o=hf(t),p=function(s,h,u){var l,f,c=o(s),d=a(s,h);return d?d.value=u:(c.last=d={index:f=vy(h,!0),key:h,value:u,previous:l=c.last,next:void 0,removed:!1},c.first||(c.first=d),l&&(l.next=d),In?c.size++:s.size++,f!=="F"&&(c.index[f]=d)),s},a=function(s,h){var u,l=o(s),f=vy(h);if(f!=="F")return l.index[f];for(u=l.first;u;u=u.next)if(u.key==h)return u};return dy(i.prototype,{clear:function(){for(var s=o(this),h=s.index,u=s.first;u;)u.removed=!0,u.previous&&(u.previous=u.previous.next=void 0),delete h[u.index],u=u.next;s.first=s.last=void 0,In?s.size=0:this.size=0},delete:function(s){var h=this,u=o(h),l=a(h,s);if(l){var f=l.next,c=l.previous;delete u.index[l.index],l.removed=!0,c&&(c.next=f),f&&(f.previous=c),u.first==l&&(u.first=f),u.last==l&&(u.last=c),In?u.size--:h.size--}return!!l},forEach:function(s){for(var h,u=o(this),l=Va(s,arguments.length>1?arguments[1]:void 0,3);h=h?h.next:u.first;)for(l(h.value,h.key,this);h&&h.removed;)h=h.previous},has:function(s){return!!a(this,s)}}),dy(i.prototype,n?{get:function(s){var h=a(this,s);return h&&h.value},set:function(s,h){return p(this,s===0?0:s,h)}}:{add:function(s){return p(this,s=s===0?0:s,s)}}),In&&d7(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=hf(t),o=hf(r);Fp(e,t,function(p,a){my(this,{type:r,target:p,state:i(p),kind:a,last:void 0})},function(){for(var p=o(this),a=p.kind,s=p.last;s&&s.removed;)s=s.previous;return p.target&&(p.last=s=s?s.next:p.state.first)?a=="keys"?{value:s.key,done:!1}:a=="values"?{value:s.value,done:!1}:{value:[s.key,s.value],done:!1}:(p.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),function(p){var a=ru(p),s=Xr.f;In&&a&&!a[gy]&&s(a,gy,{configurable:!0,get:function(){return this}})}(t)}});var p7=yC.charAt,g7=vi.set,v7=vi.getterFor("String Iterator");Fp(String,"String",function(e){g7(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=v7(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=p7(n,r),t.index+=e.length,{value:e,done:!1})});var yy={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},m7=vi.set,y7=vi.getterFor("Array Iterator"),Lo=Fp(Array,"Array",function(e,t){m7(this,{type:"Array Iterator",target:fo(e),index:0,kind:t})},function(){var e=y7(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:r,done:!1}:n=="values"?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values");eo.Arguments=eo.Array,Ps("keys"),Ps("values"),Ps("entries");var df=bt("iterator"),_y=bt("toStringTag"),pf=Lo.values;for(var gf in yy){var by=Mt[gf],Mr=by&&by.prototype;if(Mr){if(Mr[df]!==pf)try{Ln(Mr,df,pf)}catch{Mr[df]=pf}if(Mr[_y]||Ln(Mr,_y,gf),yy[gf]){for(var vs in Lo)if(Mr[vs]!==Lo[vs])try{Ln(Mr,vs,Lo[vs])}catch{Mr[vs]=Lo[vs]}}}}(function(){function e(){is(this,e)}return ss(e,null,[{key:"deduplicate",value:function(t){return Array.from(new Set(t))}},{key:"flat",value:function(t){return t.reduce(function(n,r){var i=Array.isArray(r)?e.flat(r):r;return n.concat(i)},[])}},{key:"find",value:function(t,n){return t.find(n)}},{key:"findIndex",value:function(t,n){return t.findIndex(n)}}]),e})();(function(){function e(){is(this,e)}return ss(e,null,[{key:"today",value:function(){return new Date}}]),e})();(function(){function e(){is(this,e)}return ss(e,null,[{key:"range",value:function(t,n,r){return Math.min(Math.max(t,n),r)}},{key:"clamp",value:function(t,n,r){return n<r?t<n?n:t>r?r:t:t<r?r:t>n?n:t}}]),e})();var jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.validateAlphaValue=jr.validateColorStops=jr.validateMinMaxValues=void 0;function _7(e,t){if(e===t)throw new Error("The minimum value cannot be equal to the maximum value.");if(e>t)throw new Error("The minimum value must be less than the maximum value.")}jr.validateMinMaxValues=_7;function b7(e){if(e.length<2)throw new Error("At least two colors must be provided.")}jr.validateColorStops=b7;function w7(e){if(e<0||e>1)throw new Error("The alpha value must be between 0 and 1.")}jr.validateAlphaValue=w7;const C7=jr;function vf(e){const t=e.toString(16);return t.length===1?"0"+t:t}function S7(e){const t=Math.floor(e.r*e.a),n=Math.floor(e.g*e.a),r=Math.floor(e.b*e.a);return`#${vf(t)}${vf(n)}${vf(r)}`}let x7=class{constructor(t,n,r,i=1){C7.validateAlphaValue(i),this.r=t,this.g=n,this.b=r,this.a=i}toRGBString(){return`rgb(${Math.floor(this.r*this.a)},${Math.floor(this.g*this.a)},${Math.floor(this.b*this.a)})`}toRGBAString(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}toHexString(){return S7(this)}};var T7=x7;const MC=T7,mf=jr;function E7(e,t){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(n)return new MC(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),t);throw new Error(`${e} is not a valid hex value.`)}let O7=class{constructor(t,n,r,i=1){mf.validateMinMaxValues(t,n),mf.validateColorStops(r),mf.validateAlphaValue(i),this.min=t,this.max=n,this.alpha=i,this.colorStops=r.map(o=>E7(o,i))}getColor(t){const n=this.colorStops.length;if(t<this.min)return this.colorStops[0];if(t>this.max)return this.colorStops[n-1];const r=this.max-this.min;let i=(t-this.min)/r;const o=Math.max(Math.ceil(i*(n-1)),1),p=this.colorStops[o-1],a=this.colorStops[o];i=i*(n-1)-(o-1);const s=Math.floor(i*a.r+(1-i)*p.r),h=Math.floor(i*a.g+(1-i)*p.g),u=Math.floor(i*a.b+(1-i)*p.b);return new MC(s,h,u,this.alpha)}};var k7=O7;const P7=k7;var A7=P7;const I7=K1(A7);var R7=Object.defineProperty,M7=(e,t,n)=>t in e?R7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jt=(e,t,n)=>(M7(e,typeof t!="symbol"?t+"":t,n),n);const wt=e=>Math.round(e*100)/100;class $t{constructor(t){jt(this,"instance"),jt(this,"alphaValue",0),jt(this,"redValue",0),jt(this,"greenValue",0),jt(this,"blueValue",0),jt(this,"hueValue",0),jt(this,"saturationValue",0),jt(this,"brightnessValue",0),jt(this,"hslSaturationValue",0),jt(this,"lightnessValue",0),jt(this,"pst",0),jt(this,"initAlpha",()=>{const n=this.instance.getAlpha();this.alphaValue=Math.min(1,n)*100}),jt(this,"initLightness",()=>{const{s:n,l:r}=this.instance.toHsl();this.hslSaturationValue=wt(n),this.lightnessValue=wt(r)}),jt(this,"initRgb",()=>{const{r:n,g:r,b:i}=this.instance.toRgb();this.redValue=wt(n),this.greenValue=wt(r),this.blueValue=wt(i)}),jt(this,"initHsb",()=>{const{h:n,s:r,v:i}=this.instance.toHsv();this.hueValue=Math.min(360,Math.ceil(n)),this.saturationValue=wt(r),this.brightnessValue=wt(i)}),jt(this,"toHexString",()=>this.instance.toHexString()),jt(this,"toRgbString",()=>this.instance.toRgbString()),this.instance=Pe(t),this.initRgb(),this.initHsb(),this.initLightness(),this.initAlpha()}toString(t){return this.instance.toString(t)}get hex(){return this.instance.toHex()}set hex(t){this.instance=Pe(t),this.initHsb(),this.initRgb(),this.initAlpha(),this.initLightness()}set hue(t){this.saturation===0&&this.brightness===0&&(this.saturationValue=1,this.brightnessValue=1),this.instance=Pe({h:wt(t),s:this.saturation,v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.hueValue=wt(t)}get hue(){return this.hueValue}set saturation(t){this.instance=Pe({h:this.hue,s:wt(t),v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.saturationValue=wt(t)}get saturation(){return this.saturationValue}set brightness(t){this.instance=Pe({h:this.hue,s:this.saturation,v:wt(t),a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.brightnessValue=wt(t)}get brightness(){return this.brightnessValue}set lightness(t){this.instance=Pe({h:this.hue,s:this.hslSaturationValue,l:wt(t),a:this.alphaValue/100}),this.initRgb(),this.initHsb(),this.lightnessValue=wt(t)}get lightness(){return this.lightnessValue}set red(t){const n=this.instance.toRgb();this.instance=Pe({...n,r:wt(t),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.redValue=wt(t)}get red(){return this.redValue}set green(t){const n=this.instance.toRgb();this.instance=Pe({...n,g:wt(t),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.greenValue=wt(t)}get green(){return this.greenValue}set blue(t){const n=this.instance.toRgb();this.instance=Pe({...n,b:wt(t),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.blueValue=wt(t)}get blue(){return this.blueValue}set alpha(t){this.instance.setAlpha(t/100),this.alphaValue=t}get alpha(){return this.alphaValue}get RGB(){return[this.red,this.green,this.blue,this.alpha/100]}get HSB(){return[this.hue,this.saturation,this.brightness,this.alpha/100]}get HSL(){return[this.hue,this.hslSaturationValue,this.lightness,this.alpha/100]}}function wy(e,t,n,r){return`rgba(${[e,t,n,r/100].join(",")})`}const yf=(e,t,n)=>t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e,Lp="color-history",Bp=8,Un=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},D7=ke({name:"Alpha",props:{color:Ne.instanceOf($t),size:Ne.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=pe(null),r=pe(null);let i=e.color||new $t;const o=St({red:i.red,green:i.green,blue:i.blue,alpha:i.alpha});Me(()=>e.color,l=>{l&&(i=l,jc(o,{red:l.red,green:l.green,blue:l.blue,alpha:l.alpha}))},{deep:!0});const p=ne(()=>{const l=wy(o.red,o.green,o.blue,0),f=wy(o.red,o.green,o.blue,100);return{background:`linear-gradient(to right, ${l} , ${f})`}}),a=()=>{if(n.value&&r.value){const l=o.alpha/100,f=n.value.getBoundingClientRect(),c=r.value.offsetWidth;return Math.round(l*(f.width-c)+c/2)}return 0},s=ne(()=>({left:a()+"px",top:0})),h=l=>{l.target!==n.value&&u(l)},u=l=>{if(l.stopPropagation(),n.value&&r.value){const f=n.value.getBoundingClientRect(),c=r.value.offsetWidth;let d=l.clientX-f.left;d=Math.max(c/2,d),d=Math.min(d,f.width-c/2);const v=Math.round((d-c/2)/(f.width-c)*100);i.alpha=v,o.alpha=v,t("change",v)}};return ts(()=>{const l={drag:f=>{u(f)},end:f=>{u(f)}};n.value&&r.value&&su.triggerDragEvent(n.value,l)}),{barElement:n,cursorElement:r,getCursorStyle:s,getBackgroundStyle:p,onClickSider:h}}}),F7=e=>(Sn("data-v-18925ba6"),e=e(),xn(),e),L7=F7(()=>N("div",{class:"vc-alpha-slider__bar-handle"},null,-1)),B7=[L7];function $7(e,t,n,r,i,o){return z(),ie("div",{class:be(["vc-alpha-slider","transparent",{"small-slider":e.size==="small"}])},[N("div",{ref:"barElement",class:"vc-alpha-slider__bar",style:je(e.getBackgroundStyle),onClick:t[0]||(t[0]=(...p)=>e.onClickSider&&e.onClickSider(...p))},[N("div",{class:be(["vc-alpha-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:je(e.getCursorStyle)},B7,6)],4)],2)}const $p=Un(D7,[["render",$7],["__scopeId","data-v-18925ba6"]]),j7=[["#fcc02e","#f67c01","#e64a19","#d81b43","#8e24aa","#512da7","#1f87e8","#008781","#05a045"],["#fed835","#fb8c00","#f5511e","#eb1d4e","#9c28b1","#5d35b0","#2097f3","#029688","#4cb050"],["#ffeb3c","#ffa727","#fe5722","#eb4165","#aa47bc","#673bb7","#42a5f6","#26a59a","#83c683"],["#fff176","#ffb74e","#ff8a66","#f1627e","#b968c7","#7986cc","#64b5f6","#80cbc4","#a5d6a7"],["#fff59c","#ffcc80","#ffab91","#fb879e","#cf93d9","#9ea8db","#90caf8","#b2dfdc","#c8e6ca"],["transparent","#ffffff","#dedede","#a9a9a9","#4b4b4b","#353535","#212121","#000000","advance"]],N7=ke({name:"Palette",emits:["change"],setup(e,{emit:t}){return{palettes:j7,computedBgStyle:n=>n==="transparent"?n:n==="advance"?{}:{background:Pe(n).toRgbString()},onColorChange:n=>{t("change",n)}}}}),z7={class:"vc-compact"},H7=["onClick"];function U7(e,t,n,r,i,o){return z(),ie("div",z7,[(z(!0),ie(Re,null,st(e.palettes,(p,a)=>(z(),ie("div",{key:a,class:"vc-compact__row"},[(z(!0),ie(Re,null,st(p,(s,h)=>(z(),ie("div",{key:h,class:"vc-compact__color-cube--wrap",onClick:u=>e.onColorChange(s)},[N("div",{class:be(["vc-compact__color_cube",{advance:s==="advance",transparent:s==="transparent"}]),style:je(e.computedBgStyle(s))},null,6)],8,H7))),128))]))),128))])}const DC=Un(N7,[["render",U7],["__scopeId","data-v-b969fd48"]]),V7=ke({name:"Board",props:{color:Ne.instanceOf($t),round:Ne.bool.def(!1),hide:Ne.bool.def(!0)},emits:["change"],setup(e,{emit:t}){var n,r,i;const o=Dt(),p={h:((n=e.color)==null?void 0:n.hue)||0,s:1,v:1},a=new $t(p).toHexString(),s=St({hueColor:a,saturation:((r=e.color)==null?void 0:r.saturation)||0,brightness:((i=e.color)==null?void 0:i.brightness)||0}),h=pe(0),u=pe(0),l=pe(),f=pe(),c=ne(()=>({top:h.value+"px",left:u.value+"px"})),d=()=>{if(o){const m=o.vnode.el;u.value=s.saturation*m?.clientWidth,h.value=(1-s.brightness)*m?.clientHeight}},v=m=>{m.target!==f.value&&g(m)},g=m=>{if(o){const y=o.vnode.el,_=y?.getBoundingClientRect();let b=m.clientX-_.left,w=m.clientY-_.top;b=yf(b,0,_.width),w=yf(w,0,_.height);const S=b/_.width,x=yf(-(w/_.height)+1,0,1);u.value=b,h.value=w,s.saturation=S,s.brightness=x,t("change",S,x)}};return ts(()=>{o&&o.vnode.el&&l.value&&(su.triggerDragEvent(l.value,{drag:m=>{g(m)},end:m=>{g(m)}}),ct(()=>{d()}))}),qt(()=>e.color,m=>{jc(s,{hueColor:new $t({h:m.hue,s:1,v:1}).toHexString(),saturation:m.saturation,brightness:m.brightness}),d()},{deep:!0}),{state:s,cursorElement:l,getCursorStyle:c,onClickBoard:v}}}),jp=e=>(Sn("data-v-058e5db2"),e=e(),xn(),e),W7=jp(()=>N("div",{class:"vc-saturation__white"},null,-1)),Y7=jp(()=>N("div",{class:"vc-saturation__black"},null,-1)),G7=jp(()=>N("div",null,null,-1)),X7=[G7];function K7(e,t,n,r,i,o){return z(),ie("div",{ref:"boardElement",class:be(["vc-saturation",{"vc-saturation__chrome":e.round,"vc-saturation__hidden":e.hide}]),style:je({backgroundColor:e.state.hueColor}),onClick:t[0]||(t[0]=(...p)=>e.onClickBoard&&e.onClickBoard(...p))},[W7,Y7,N("div",{class:"vc-saturation__cursor",ref:"cursorElement",style:je(e.getCursorStyle)},X7,4)],6)}const Np=Un(V7,[["render",K7],["__scopeId","data-v-058e5db2"]]),q7=ke({name:"Hue",props:{color:Ne.instanceOf($t),size:Ne.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=pe(null),r=pe(null);let i=e.color||new $t;const o=St({hue:i.hue||0});Me(()=>e.color,u=>{u&&(i=u,jc(o,{hue:i.hue}))},{deep:!0});const p=()=>{if(n.value&&r.value){const u=n.value.getBoundingClientRect(),l=r.value.offsetWidth;return o.hue===360?u.width-l/2:o.hue%360*(u.width-l)/360+l/2}return 0},a=ne(()=>({left:p()+"px",top:0})),s=u=>{u.target!==n.value&&h(u)},h=u=>{if(u.stopPropagation(),n.value&&r.value){const l=n.value.getBoundingClientRect(),f=r.value.offsetWidth;let c=u.clientX-l.left;c=Math.min(c,l.width-f/2),c=Math.max(f/2,c);const d=Math.round((c-f/2)/(l.width-f)*360);i.hue=d,o.hue=d,t("change",d)}};return ts(()=>{const u={drag:l=>{h(l)},end:l=>{h(l)}};n.value&&r.value&&su.triggerDragEvent(n.value,u)}),{barElement:n,cursorElement:r,getCursorStyle:a,onClickSider:s}}}),J7=e=>(Sn("data-v-e1a08576"),e=e(),xn(),e),Z7=J7(()=>N("div",{class:"vc-hue-slider__bar-handle"},null,-1)),Q7=[Z7];function eW(e,t,n,r,i,o){return z(),ie("div",{class:be(["vc-hue-slider",{"small-slider":e.size==="small"}])},[N("div",{ref:"barElement",class:"vc-hue-slider__bar",onClick:t[0]||(t[0]=(...p)=>e.onClickSider&&e.onClickSider(...p))},[N("div",{class:be(["vc-hue-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:je(e.getCursorStyle)},Q7,6)],512)],2)}const zp=Un(q7,[["render",eW],["__scopeId","data-v-e1a08576"]]),tW=ke({name:"Lightness",props:{color:Ne.instanceOf($t),size:Ne.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=pe(null),r=pe(null);let i=e.color||new $t;const[o,p,a]=i.HSL,s=St({hue:o,saturation:p,lightness:a});Me(()=>e.color,d=>{if(d){i=d;const[v,g,m]=i.HSL;jc(s,{hue:v,saturation:g,lightness:m})}},{deep:!0});const h=ne(()=>{const d=Pe({h:s.hue,s:s.saturation,l:.8}).toPercentageRgbString(),v=Pe({h:s.hue,s:s.saturation,l:.6}).toPercentageRgbString(),g=Pe({h:s.hue,s:s.saturation,l:.4}).toPercentageRgbString(),m=Pe({h:s.hue,s:s.saturation,l:.2}).toPercentageRgbString();return{background:[`linear-gradient(to right, rgb(255, 255, 255), ${d}, ${v}, ${g}, ${m}, rgb(0, 0, 0))`,`-webkit-linear-gradient(left, rgb(255, 255, 255), ${d}, ${v}, ${g}, ${m}, rgb(0, 0, 0))`,`-moz-linear-gradient(left, rgb(255, 255, 255), ${d}, ${v}, ${g}, ${m}, rgb(0, 0, 0))`,`-ms-linear-gradient(left, rgb(255, 255, 255), ${d}, ${v}, ${g}, ${m}, rgb(0, 0, 0))`]}}),u=()=>{if(n.value&&r.value){const d=s.lightness,v=n.value.getBoundingClientRect(),g=r.value.offsetWidth;return(1-d)*(v.width-g)+g/2}return 0},l=ne(()=>({left:u()+"px",top:0})),f=d=>{d.target!==n.value&&c(d)},c=d=>{if(d.stopPropagation(),n.value&&r.value){const v=n.value.getBoundingClientRect(),g=r.value.offsetWidth;let m=d.clientX-v.left;m=Math.max(g/2,m),m=Math.min(m,v.width-g/2);const y=1-(m-g/2)/(v.width-g);i.lightness=y,t("change",y)}};return ts(()=>{const d={drag:v=>{c(v)},end:v=>{c(v)}};n.value&&r.value&&su.triggerDragEvent(n.value,d)}),{barElement:n,cursorElement:r,getCursorStyle:l,getBackgroundStyle:h,onClickSider:f}}}),nW=e=>(Sn("data-v-94a50a9e"),e=e(),xn(),e),rW=nW(()=>N("div",{class:"vc-lightness-slider__bar-handle"},null,-1)),iW=[rW];function sW(e,t,n,r,i,o){return z(),ie("div",{class:be(["vc-lightness-slider",{"small-slider":e.size==="small"}])},[N("div",{ref:"barElement",class:"vc-lightness-slider__bar",style:je(e.getBackgroundStyle),onClick:t[0]||(t[0]=(...p)=>e.onClickSider&&e.onClickSider(...p))},[N("div",{class:be(["vc-lightness-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:je(e.getCursorStyle)},iW,6)],4)],2)}const FC=Un(tW,[["render",sW],["__scopeId","data-v-94a50a9e"]]),oW=ke({name:"History",props:{colors:Ne.arrayOf(String).def(()=>[]),round:Ne.bool.def(!1)},emits:["change"],setup(e,{emit:t}){return{onColorSelect:n=>{t("change",n)}}}}),aW={key:0,class:"vc-colorPicker__record"},lW={class:"color-list"},cW=["onClick"];function uW(e,t,n,r,i,o){return e.colors&&e.colors.length>0?(z(),ie("div",aW,[N("div",lW,[(z(!0),ie(Re,null,st(e.colors,(p,a)=>(z(),ie("div",{key:a,class:be(["color-item","transparent",{"color-item__round":e.round}]),onClick:s=>e.onColorSelect(p)},[N("div",{class:"color-item__display",style:je({backgroundColor:p})},null,4)],10,cW))),128))])])):Te("",!0)}const Hp=Un(oW,[["render",uW],["__scopeId","data-v-0f657238"]]),fW=ke({name:"Display",props:{color:Ne.instanceOf($t),disableAlpha:Ne.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:t}){var n,r,i,o;const p=pe("hex"),a=St({color:e.color,hex:(n=e.color)==null?void 0:n.hex,alpha:((r=e.color)==null?void 0:r.alpha)+"%",rgba:(i=e.color)==null?void 0:i.RGB,previewBgColor:(o=e.color)==null?void 0:o.toRgbString()}),{isSupported:s,open:h,sRGBHex:u}=GN(),l=ne(()=>({background:a.previewBgColor})),f=()=>{p.value=p.value==="rgba"?"hex":"rgba"},c=Hi(v=>{if(!v.target.value)return;let g=parseInt(v.target.value.replace("%",""));g>100&&(v.target.value="100%",g=100),g<0&&(v.target.value="0%",g=0),isNaN(g)&&(v.target.value="100%",g=100),!isNaN(g)&&a.color&&(a.color.alpha=g),t("update:color",a.color),t("change",a.color)},300),d=Hi((v,g)=>{if(console.log(v.target.value),!!v.target.value){if(p.value==="hex"){const m=v.target.value.replace("#","");Pe(m).isValid()&&a.color&&(a.color.hex=m)}else if(g!==void 0&&a.rgba&&a.color){v.target.value<0&&(v.target.value=0),g===3&&v.target.value>1&&(v.target.value=1),g<3&&v.target.value>255&&(v.target.value=255),a.rgba[g]=Number(v.target.value);const[m,y,_,b]=a.rgba;a.color.hex=Pe({r:m,g:y,b:_}).toHex(),a.color.alpha=Math.floor(b*100)}t("update:color",a.color),t("change",a.color)}},300);return qt(()=>e.color,v=>{v&&(a.color=v,a.alpha=Math.floor(a.color.alpha)+"%",a.hex=a.color.hex,a.rgba=a.color.RGB)},{deep:!0}),qt(()=>a.color,()=>{a.color&&(a.previewBgColor=a.color.toRgbString())},{deep:!0}),qt(()=>u.value,()=>{u.value&&(a.color.hex=u.value,t("update:color",a.color),t("change",a.color))}),{state:a,getBgColorStyle:l,inputType:p,onInputTypeChange:f,onAlphaBlur:c,onInputChange:d,isSupported:s,open:h}}}),hW=e=>(Sn("data-v-7160be11"),e=e(),xn(),e),dW={class:"vc-display"},pW=hW(()=>N("svg",{role:"img","aria-label":"colorpicker",focusable:"false","data-icon":"colorpicker","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-colorpicker"},[N("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.5314 4.65249C16.6694 3.51448 18.5145 3.51448 19.6525 4.65249C20.7905 5.7905 20.7905 7.63558 19.6525 8.77359L16.3651 12.061L17.8128 13.5087L16.8618 14.4597L15.4141 13.012L7.7735 20.6526C7.59799 20.8281 7.34012 20.8926 7.1027 20.8205L7.10183 20.8203L7.0942 20.8181C7.08596 20.8157 7.07199 20.8118 7.0527 20.8067C7.01409 20.7964 6.95436 20.7813 6.87673 20.7643C6.72103 20.7301 6.49582 20.6883 6.22625 20.6605C5.67988 20.604 4.98878 20.6086 4.332 20.8178C4.07704 20.899 3.79821 20.8213 3.62195 20.62C3.4457 20.4187 3.40556 20.1321 3.51974 19.8901C3.76831 19.3633 3.78212 18.7214 3.70747 18.1587C3.67122 17.8854 3.61663 17.6496 3.57135 17.4832C3.54882 17.4004 3.52889 17.3359 3.51521 17.2937C3.50839 17.2727 3.50314 17.2573 3.49995 17.2481L3.49704 17.2398C3.40634 16.9937 3.46691 16.7169 3.6524 16.5315L11.2611 8.92276L9.68871 7.35038L10.6397 6.39936L12.2121 7.97174L15.5314 4.65249ZM12.2169 9.86903L14.4582 12.0658L7.08953 19.4345C6.90072 19.3953 6.65289 19.3524 6.3645 19.3226C5.99352 19.2843 5.5433 19.2663 5.05859 19.3109C5.11737 18.8242 5.09099 18.3606 5.04074 17.9818C4.99969 17.6724 4.94043 17.4028 4.88733 17.1986L12.2169 9.86903Z",fill:"currentColor"})],-1)),gW=[pW],vW={key:1,class:"vc-current-color2 vc-transparent"},mW={key:2,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},yW={class:"vc-color-input"},_W=["value"],bW={key:0,class:"vc-alpha-input"},wW=["value"],CW={key:3,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},SW=["value","onInput"];function xW(e,t,n,r,i,o){return z(),ie("div",dW,[e.isSupported?(z(),ie("div",{key:0,class:"vc-current-color",onClick:t[0]||(t[0]=(...p)=>e.open&&e.open(...p))},gW)):(z(),ie("div",vW,[N("div",{class:"color-cube",style:je(e.getBgColorStyle)},null,4)])),e.inputType==="hex"?(z(),ie("div",mW,[N("div",yW,[N("input",{value:e.state.hex,onInput:t[1]||(t[1]=(...p)=>e.onInputChange&&e.onInputChange(...p))},null,40,_W)]),e.disableAlpha?Te("",!0):(z(),ie("div",bW,[N("input",{class:"vc-alpha-input__inner",value:parseInt(e.state.alpha),onInput:t[2]||(t[2]=(...p)=>e.onAlphaBlur&&e.onAlphaBlur(...p))},null,40,wW)]))])):e.state.rgba?(z(),ie("div",CW,[(z(!0),ie(Re,null,st(e.state.rgba,(p,a)=>(z(),ie("div",{class:"vc-rgb-input",key:a},[N("div",null,[N("input",{value:p.toFixed(2),onInput:s=>e.onInputChange(s,a)},null,40,SW)]),N("div",null,We(["R","G","B","A"][a]),1)]))),128))])):Te("",!0),N("div",{class:"vc-input-toggle",onClick:t[3]||(t[3]=(...p)=>e.onInputTypeChange&&e.onInputTypeChange(...p))})])}const Up=Un(fW,[["render",xW],["__scopeId","data-v-7160be11"]]),TW=ke({name:"FkColorPicker",components:{Display:Up,Alpha:$p,Palette:DC,Board:Np,Hue:zp,Lightness:FC,History:Hp},props:{color:Ne.instanceOf($t),disableHistory:Ne.bool.def(!1),roundHistory:Ne.bool.def(!1),disableAlpha:Ne.bool.def(!1)},emits:["update:color","change","advanceChange"],setup(e,{emit:t}){const n=e.color||new $t,r=St({color:n,hex:n.toHexString(),rgb:n.toRgbString()}),i=pe(!1),o=ne(()=>({background:r.rgb})),p=()=>{i.value=!1,t("advanceChange",!1)},a=hp(Lp,[],{}),s=Hi(()=>{if(e.disableHistory)return;const v=r.color.toRgbString();if(a.value=a.value.filter(g=>!Pe.equals(g,v)),!a.value.includes(v)){for(;a.value.length>Bp;)a.value.pop();a.value.unshift(v)}},500),h=v=>{v==="advance"?(i.value=!0,t("advanceChange",!0)):(r.color.hex=v,t("advanceChange",!1))},u=v=>{r.color.alpha=v},l=v=>{r.color.hue=v},f=(v,g)=>{r.color.saturation=v,r.color.brightness=g},c=v=>{r.color.lightness=v},d=v=>{const g=v.target.value.replace("#","");Pe(g).isValid()&&(r.color.hex=g)};return qt(()=>e.color,v=>{v&&(r.color=v)},{deep:!0}),qt(()=>r.color,()=>{r.hex=r.color.hex,r.rgb=r.color.toRgbString(),s(),t("update:color",r.color),t("change",r.color)},{deep:!0}),{state:r,advancePanelShow:i,onBack:p,onCompactChange:h,onAlphaChange:u,onHueChange:l,onBoardChange:f,onLightChange:c,onInputChange:d,previewStyle:o,historyColors:a}}}),EW=e=>(Sn("data-v-26b9cede"),e=e(),xn(),e),OW={class:"vc-fk-colorPicker"},kW={class:"vc-fk-colorPicker__inner"},PW={class:"vc-fk-colorPicker__header"},AW=EW(()=>N("div",{class:"back"},null,-1)),IW=[AW];function RW(e,t,n,r,i,o){const p=Be("Palette"),a=Be("Board"),s=Be("Hue"),h=Be("Lightness"),u=Be("Alpha"),l=Be("Display"),f=Be("History");return z(),ie("div",OW,[N("div",kW,[N("div",PW,[e.advancePanelShow?(z(),ie("span",{key:0,style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...c)=>e.onBack&&e.onBack(...c))},IW)):Te("",!0)]),e.advancePanelShow?Te("",!0):(z(),Oe(p,{key:0,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?(z(),Oe(a,{key:1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"])):Te("",!0),e.advancePanelShow?(z(),Oe(s,{key:2,color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"])):Te("",!0),e.advancePanelShow?Te("",!0):(z(),Oe(h,{key:3,color:e.state.color,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?Te("",!0):(z(),Oe(u,{key:4,color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"])),ye(l,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?Te("",!0):(z(),Oe(f,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}const Cy=Un(TW,[["render",RW],["__scopeId","data-v-26b9cede"]]),MW=ke({name:"ChromeColorPicker",components:{Display:Up,Alpha:$p,Board:Np,Hue:zp,History:Hp},props:{color:Ne.instanceOf($t),disableHistory:Ne.bool.def(!1),roundHistory:Ne.bool.def(!1),disableAlpha:Ne.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:t}){const n=e.color||new $t,r=St({color:n,hex:n.toHexString(),rgb:n.toRgbString()}),i=ne(()=>({background:r.rgb})),o=hp(Lp,[],{}),p=Hi(()=>{if(e.disableHistory)return;const l=r.color.toRgbString();if(o.value=o.value.filter(f=>!Pe.equals(f,l)),!o.value.includes(l)){for(;o.value.length>Bp;)o.value.pop();o.value.unshift(l)}},500),a=l=>{r.color.alpha=l},s=l=>{r.color.hue=l},h=(l,f)=>{r.color.saturation=l,r.color.brightness=f},u=l=>{l!=="advance"&&(r.color.hex=l)};return qt(()=>e.color,l=>{l&&(r.color=l)},{deep:!0}),qt(()=>r.color,()=>{r.hex=r.color.hex,r.rgb=r.color.toRgbString(),p(),t("update:color",r.color),t("change",r.color)},{deep:!0}),{state:r,previewStyle:i,historyColors:o,onAlphaChange:a,onHueChange:s,onBoardChange:h,onCompactChange:u}}}),DW={class:"vc-chrome-colorPicker"},FW={class:"vc-chrome-colorPicker-body"},LW={class:"chrome-controls"},BW={class:"chrome-sliders"};function $W(e,t,n,r,i,o){const p=Be("Board"),a=Be("Hue"),s=Be("Alpha"),h=Be("Display"),u=Be("History");return z(),ie("div",DW,[ye(p,{round:!0,hide:!1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"]),N("div",FW,[N("div",LW,[N("div",BW,[ye(a,{size:"small",color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"]),e.disableAlpha?Te("",!0):(z(),Oe(s,{key:0,size:"small",color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"]))])]),ye(h,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?Te("",!0):(z(),Oe(u,{key:0,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}const Sy=Un(MW,[["render",$W],["__scopeId","data-v-33636434"]]),Vp="ColorPickersProvider",jW=(e,t)=>{const n=e.getBoundingClientRect(),r=n.left+n.width/2,i=n.top+n.height/2,o=Math.abs(r-t.clientX),p=Math.abs(i-t.clientY),a=Math.sqrt(Math.pow(o,2)+Math.pow(p,2)),s=p/a,h=Math.acos(s);let u=Math.floor(180/(Math.PI/h));return t.clientX>r&&t.clientY>i&&(u=180-u),t.clientX==r&&t.clientY>i&&(u=180),t.clientX>r&&t.clientY==i&&(u=90),t.clientX<r&&t.clientY>i&&(u=180+u),t.clientX<r&&t.clientY==i&&(u=270),t.clientX<r&&t.clientY<i&&(u=360-u),u};let _f=!1;const NW=(e,t)=>{const n=function(i){var o;(o=t.drag)==null||o.call(t,i)},r=function(i){var o;document.removeEventListener("mousemove",n,!1),document.removeEventListener("mouseup",r,!1),document.onselectstart=null,document.ondragstart=null,_f=!1,(o=t.end)==null||o.call(t,i)};e&&e.addEventListener("mousedown",i=>{var o;_f||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n,!1),document.addEventListener("mouseup",r,!1),_f=!0,(o=t.start)==null||o.call(t,i))})},zW={angle:{type:Number,default:0},size:{type:Number,default:16,validator:e=>e>=16},borderWidth:{type:Number,default:1,validator:e=>e>=1},borderColor:{type:String,default:"#666"}},HW=ke({name:"Angle",props:zW,emits:["update:angle","change"],setup(e,{emit:t}){const n=pe(null),r=pe(0);Me(()=>e.angle,a=>{r.value=a});const i=()=>{let a=Number(r.value);isNaN(a)||(a=a>360||a<0?e.angle:a,r.value=a===360?0:a,t("update:angle",r.value),t("change",r.value))},o=ne(()=>({width:e.size+"px",height:e.size+"px",borderWidth:e.borderWidth+"px",borderColor:e.borderColor,transform:`rotate(${r.value}deg)`})),p=a=>{n.value&&(r.value=jW(n.value,a)%360,i())};return lt(()=>{const a={drag:s=>{p(s)},end:s=>{p(s)}};n.value&&NW(n.value,a)}),()=>ye("div",{class:"bee-angle"},[ye("div",{class:"bee-angle__round",ref:n,style:o.value},null)])}});function pc(e){let t;if(Array.isArray(e))t=[],e.forEach(n=>{t.push(pc(n))});else if(typeof e=="object"&&e!==null){t={};for(const n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=pc(e[n]))}else t=e;return t}function UW(e,t=2){const n=new RegExp(`^\\d+(?:\\.\\d{0,${t}})?`,"g");return e.match(n)?e.match(n):""}const VW=ke({name:"GradientColorPicker",components:{Angle:HW,Display:Up,Alpha:$p,Palette:DC,Board:Np,Hue:zp,Lightness:FC,History:Hp},props:{angle:Ne.number.def(0),type:Ne.oneOf(["linear","radial"]).def("linear"),disableHistory:Ne.bool.def(!1),roundHistory:Ne.bool.def(!1),disableAlpha:Ne.bool.def(!1),pickerType:Ne.oneOf(["fk","chrome"]).def("fk"),colors:Ne.array.def([]),colorStops:Ne.array.def([]),gradientType:Ne.oneOf(["both","liner","radial"]).def("both")},emits:["update:startColor","update:endColor","update:angle","gradientChange","advanceChange","angleChange","typeChange"],setup(e,{emit:t}){const n=St({angle:e.angle,type:e.gradientType=="both"?e.type:e.gradientType,colors:e.colors,colorStops:e.colorStops,selectIndex:0,movePst:{x:0,y:0},pageX:0,pageY:0,mouseStartPst:{x:0,y:0},startMovePst:0});let r=!1;const i=Le(Vp),o=pe(e.pickerType==="chrome"),p=pe(),a=pe(),s=pe(),h=pe();Me(()=>[e.angle],R=>{n.angle=R[0]}),Me(()=>e.type,R=>{n.type=R});const u=ne({get:()=>n.colors[n.selectIndex],set:R=>{n.colors[n.selectIndex]=R}}),l=ne(()=>{const R=pc(n.colors).sort((D,se)=>D.pst-se.pst).map(D=>`${D.toRgbString()} ${UW(String(D.pst)||"",5)}%`);let F=`background:linear-gradient(${n.angle}deg, ${R.join(",")})`;return n.type==="radial"&&(F=`background: radial-gradient(circle,  ${R.join(",")})`),F}),f=ne(()=>e.gradientType=="both"?["linear","radial"]:[]),c=R=>{r&&(n.movePst.x=R.pageX-n.mouseStartPst.x,n.movePst.y=R.pageY-n.mouseStartPst.y,n.pageX=R.pageX,n.pageY=R.pageY,d())},d=()=>{if(h.value){const R=h.value.getBoundingClientRect().width;let F=(n.startMovePst*R/100+n.movePst.x)/R;F>1?F=1:F<0&&(F=0),n.colors[n.selectIndex].pst=Math.round(F*100),t("gradientChange",n.colors)}},v=()=>{r=!1,g()},g=()=>{m()},m=()=>{r=!1,n.mouseStartPst={x:0,y:0},n.movePst.x=0,n.movePst.y=0},y=()=>{Dn(document.body,"mousemove",c),Dn(document.body,"mouseup",v)},_=R=>{n.selectIndex!==R&&(n.selectIndex=R)},b=()=>{n.startMovePst=n.colors[n.selectIndex].pst},w=(R,F)=>{y();const D=F;_(R),r=!0,n.mouseStartPst.x=D.pageX,n.mouseStartPst.y=D.pageY,b()},S=R=>{if(h.value){const F=h.value.getBoundingClientRect(),D=F.left,se=R.pageX-D,j=pc(n.colors).sort((V,J)=>V.pst-J.pst).map(V=>V.toHexString()),I=new I7(0,F.width,j).getColor(se).toHexString(),X=100*se/F.width,$=new $t(I);$.pst=X,n.colors.push($),n.selectIndex=n.colors.length-1,t("gradientChange",n.colors)}},x=R=>{const F=R.target,D=parseInt(F.value.replace("",""));isNaN(D)||(n.angle=D%360),t("update:angle",n.angle),t("angleChange",n.angle)},P=R=>{n.angle=R,t("update:angle",n.angle),t("angleChange",n.angle)},B=R=>{R==="advance"?(o.value=!0,t("advanceChange",!0)):(u.value.hex=R,t("advanceChange",!1)),le()},G=R=>{u.value.alpha=R,le()},K=R=>{u.value.hue=R,le()},Y=(R,F)=>{u.value.saturation=R,u.value.brightness=F,le()},W=R=>{u.value.lightness=R,le()},ee=()=>{le()},le=()=>{t("gradientChange",n.colors)},de=()=>{o.value=!1,t("advanceChange",!1)},U=()=>{n.type=n.type==="linear"?"radial":"linear",t("typeChange",n.type)},Q=hp(Lp,[],{}),O=Hi(()=>{if(e.disableHistory)return;const R=u.value.toRgbString();if(Q.value=Q.value.filter(F=>!Pe.equals(F,R)),!Q.value.includes(R)){for(;Q.value.length>Bp;)Q.value.pop();Q.value.unshift(R)}},100);return qt(()=>u.value,()=>{O()},{deep:!0}),{handlePotBar:S,refColorBar:h,startGradientRef:p,stopGradientRef:a,colorRangeRef:s,state:n,currentColor:u,gradientBg:l,advancePanelShow:o,onDegreeBlur:x,onCompactChange:B,onAlphaChange:G,onHueChange:K,onBoardChange:Y,onLightChange:W,historyColors:Q,onBack:de,onDegreeChange:P,onDisplayChange:ee,onTypeChange:U,lang:i?.lang,sliderPotDown:w,clickGColorPot:_,getGradientTypes:f}}}),WW=e=>(Sn("data-v-816df9b8"),e=e(),xn(),e),YW={class:"vc-gradient-picker"},GW={class:"vc-gradient-picker__header"},XW={key:0,class:"vc-gradient__types"},KW={class:"vc-gradient-picker__body"},qW={class:"vc-color-range",ref:"colorRangeRef"},JW={class:"vc-color-range__container",ref:"refColorBar"},ZW={class:"vc-gradient__stop__container"},QW=["onMousedown","onClick"],eY=WW(()=>N("span",{class:"vc-gradient__stop--inner"},null,-1)),tY=[eY],nY={class:"vc-picker-degree-input vc-degree-input"},rY={class:"vc-degree-input__control"},iY=["value"],sY={class:"vc-degree-input__panel"},oY={class:"vc-degree-input__disk"};function aY(e,t,n,r,i,o){const p=Be("Angle"),a=Be("Board"),s=Be("Hue"),h=Be("Palette"),u=Be("Lightness"),l=Be("Alpha"),f=Be("Display"),c=Be("History");return z(),ie("div",YW,[N("div",GW,[N("div",null,[ut(N("div",{class:"back",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...d)=>e.onBack&&e.onBack(...d))},null,512),[[_t,e.pickerType==="fk"&&e.advancePanelShow]])]),e.getGradientTypes.length==2?(z(),ie("div",XW,[(z(!0),ie(Re,null,st(e.getGradientTypes,d=>(z(),ie("div",{class:be(["vc-gradient__type",{active:e.state.type===d}]),key:d,onClick:t[1]||(t[1]=(...v)=>e.onTypeChange&&e.onTypeChange(...v))},We(e.lang?e.lang[d]:d),3))),128))])):Te("",!0)]),N("div",KW,[N("div",qW,[N("div",JW,[N("div",{class:"vc-background",style:je(e.gradientBg),onClick:t[2]||(t[2]=(...d)=>e.handlePotBar&&e.handlePotBar(...d))},null,4),N("div",ZW,[(z(!0),ie(Re,null,st(e.colors,(d,v)=>(z(),ie("div",{class:be(["vc-gradient__stop",{"vc-gradient__stop--current":v==e.state.selectIndex}]),key:v,ref_for:!0,ref:"startGradientRef",style:je({left:`calc(${d.pst+"%"} - 8px)`}),onMousedown:g=>e.sliderPotDown(v,g),onClick:g=>e.clickGColorPot(v)},tY,46,QW))),128))])],512)],512),N("div",nY,[N("div",rY,[N("input",{value:e.state.angle,onBlur:t[3]||(t[3]=(...d)=>e.onDegreeBlur&&e.onDegreeBlur(...d))},null,40,iY),ao("deg ")]),N("div",sY,[N("div",oY,[ye(p,{angle:e.state.angle,"onUpdate:angle":t[4]||(t[4]=d=>e.state.angle=d),size:40,onChange:e.onDegreeChange},null,8,["angle","onChange"])])])])]),e.advancePanelShow?(z(),Oe(a,{key:0,color:e.currentColor,onChange:e.onBoardChange},null,8,["color","onChange"])):Te("",!0),e.advancePanelShow?(z(),Oe(s,{key:1,color:e.currentColor,onChange:e.onHueChange},null,8,["color","onChange"])):Te("",!0),e.advancePanelShow?Te("",!0):(z(),Oe(h,{key:2,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?Te("",!0):(z(),Oe(u,{key:3,color:e.currentColor,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?Te("",!0):(z(),Oe(l,{key:4,color:e.currentColor,onChange:e.onAlphaChange},null,8,["color","onChange"])),ye(f,{color:e.currentColor,"disable-alpha":e.disableAlpha,onChange:e.onDisplayChange},null,8,["color","disable-alpha","onChange"]),e.disableHistory?Te("",!0):(z(),Oe(c,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])}const xy=Un(VW,[["render",aY],["__scopeId","data-v-816df9b8"]]),lY=ke({name:"WrapContainer",props:{theme:Ne.oneOf(["white","black"]).def("white"),showTab:Ne.bool.def(!1),activeKey:Ne.oneOf(["pure","gradient"]).def("pure")},emits:["update:activeKey","change"],setup(e,{emit:t}){const n=St({activeKey:e.activeKey}),r=Le(Vp),i=o=>{n.activeKey=o,t("update:activeKey",o),t("change",o)};return qt(()=>e.activeKey,o=>{n.activeKey=o}),{state:n,onActiveKeyChange:i,lang:r?.lang}}}),cY={class:"vc-colorpicker--container"},uY={key:0,class:"vc-colorpicker--tabs"},fY={class:"vc-colorpicker--tabs__inner"},hY={class:"vc-btn__content"},dY={class:"vc-btn__content"};function pY(e,t,n,r,i,o){var p,a;return z(),ie("div",{class:be(["vc-colorpicker",e.theme])},[N("div",cY,[e.showTab?(z(),ie("div",uY,[N("div",fY,[N("div",{class:be(["vc-colorpicker--tabs__btn",{"vc-btn-active":e.state.activeKey==="pure"}]),onClick:t[0]||(t[0]=s=>e.onActiveKeyChange("pure"))},[N("button",null,[N("div",hY,We((p=e.lang)==null?void 0:p.pure),1)])],2),N("div",{class:be(["vc-colorpicker--tabs__btn",{"vc-btn-active":e.state.activeKey==="gradient"}]),onClick:t[1]||(t[1]=s=>e.onActiveKeyChange("gradient"))},[N("button",null,[N("div",dY,We((a=e.lang)==null?void 0:a.gradient),1)])],2),N("div",{class:"vc-colorpicker--tabs__bg",style:je({width:"50%",left:`calc(${e.state.activeKey==="gradient"?50:0}%)`})},null,4)])])):Te("",!0),Ie(e.$slots,"default",{},void 0,!0)])],2)}const gY=Un(lY,[["render",pY],["__scopeId","data-v-0492277d"]]),vY={start:"Start",end:"End",pure:"Pure",gradient:"Gradient",linear:"linear",radial:"radial"},mY={start:"",end:"",pure:"",gradient:"",linear:"",radial:""},yY={En:vY,"ZH-cn":mY},_Y={isWidget:Ne.bool.def(!1),pickerType:Ne.oneOf(["fk","chrome"]).def("fk"),shape:Ne.oneOf(["circle","square"]).def("square"),pureColor:{type:[String,Object],default:"#000000"},gradientColor:Ne.string.def(""),format:{type:String,default:"rgb"},disableAlpha:Ne.bool.def(!1),disableHistory:Ne.bool.def(!1),roundHistory:Ne.bool.def(!1),useType:Ne.oneOf(["pure","gradient","both"]).def("pure"),activeKey:Ne.oneOf(["pure","gradient"]).def("pure"),lang:{type:String,default:"ZH-cn"},zIndex:Ne.number.def(9999),pickerContainer:{type:[String,HTMLElement],default:"body"},debounce:Ne.number.def(100),theme:Ne.oneOf(["white","black"]).def("white"),gradientData:Ne.object.def({}),gradientType:Ne.oneOf(["both","liner","radial"]).def("both")},bY=ke({name:"ColorPicker",components:{FkColorPicker:Cy,ChromeColorPicker:Sy,GradientColorPicker:xy,WrapContainer:gY},inheritAttrs:!1,props:_Y,emits:["update:pureColor","pureColorChange","update:gradientColor","gradientColorChange","update:activeKey","activeKeyChange","update:gradientData","gradientDataChange"],setup(e,{emit:t}){yt(Vp,{lang:ne(()=>yY[e.lang||"ZH-cn"])});const n=St({pureColor:e.pureColor||"",activeKey:e.useType==="gradient"?"gradient":e.activeKey,isAdvanceMode:!1}),r=new $t(n.pureColor),i=St({colors:[],angle:0,type:"linear",gradientColor:e.gradientColor});!e.gradientColor&&e.gradientData&&e.gradientData.gradientColor?i.gradientColor=e.gradientData.gradientColor||"linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)":e.gradientColor||(i.gradientColor="linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)");const o=pe(r),p=pe(!1),a=pe(null),s=pe(null);let h=null;const u=ne(()=>({background:n.activeKey!=="gradient"?Pe(n.pureColor).toRgbString():i.gradientColor})),l=ne(()=>n.activeKey==="gradient"?xy.name:e.pickerType==="fk"?Cy.name:Sy.name),f=x=>{n.isAdvanceMode=x},c=ne(()=>{const x={disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,pickerType:e.pickerType};return n.activeKey==="gradient"?{...x,angle:i.angle,type:i.type,colors:i.colors,gradientType:e.gradientType,onAngleChange:P=>{i.angle=P,m()},onTypeChange:P=>{i.type=P,m()},onGradientChange:P=>{i.colors=P,m()},onAdvanceChange:f}:{...x,disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,color:o.value,onChange:b,onAdvanceChange:f}}),d=()=>{p.value=!0,h?h.update():_()},v=()=>{p.value=!1},g=()=>{var x,P;try{const[B]=MH(i.gradientColor);B&&B.type.includes("gradient")&&B.colorStops.length>=2&&(B.colorStops.forEach((G,K)=>{var Y;const W=Number((Y=G.length)==null?void 0:Y.value)||0,[ee,le,de,U]=G.value;i.colors[K]=new $t({r:Number(ee),g:Number(le),b:Number(de),a:Number(U)}),i.colors[K].pst=W}),B.type==="linear-gradient"&&((x=B.orientation)==null?void 0:x.type)==="angular"&&(i.angle=Number((P=B.orientation)==null?void 0:P.value)||0),i.type=B.type.split("-")[0])}catch(B){console.log(`[Parse Color]: ${B}`)}},m=Hi(()=>{const x=y();try{i.gradientColor=DH(x),t("update:gradientColor",i.gradientColor),t("gradientColorChange",i.gradientColor);const P=x[0];P.gradientColor=i.gradientColor,t("gradientDataChange",P),t("update:gradientData",P)}catch(P){console.log(P)}},e.debounce),y=()=>{const x=[],P=i.colors.map(B=>({type:"rgba",value:B.RGB.map(G=>G.toString()),length:{value:B.pst+"",type:"%"}}));return i.type==="linear"?x.push({type:"linear-gradient",orientation:{type:"angular",value:i.angle+""},colorStops:P}):i.type==="radial"&&x.push({type:"radial-gradient",orientation:[{type:"shape",value:"circle"}],colorStops:P}),x},_=()=>{a.value&&s.value&&(h=N9(a.value,s.value,{placement:"auto",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"flip",options:{allowedAutoPlacements:["top","bottom","left","right"],rootBoundary:"viewport"}}]}))},b=x=>{o.value=x,n.pureColor=x.toString(e.format),w()},w=Hi(()=>{t("update:pureColor",n.pureColor),t("pureColorChange",n.pureColor)},e.debounce);$N(s,()=>{v()});const S=x=>{n.activeKey=x,t("update:activeKey",x),t("activeKeyChange",x)};return ts(()=>{g()}),qt(()=>e.gradientColor,x=>{x!=i.gradientColor&&(i.gradientColor=x)}),qt(()=>i.gradientColor,()=>{g()}),qt(()=>e.activeKey,x=>{n.activeKey=x}),qt(()=>e.useType,x=>{n.activeKey!=="gradient"&&x==="gradient"?n.activeKey="gradient":n.activeKey="pure"}),qt(()=>e.pureColor,x=>{Pe.equals(x,n.pureColor)||(n.pureColor=x,o.value=new $t(x))},{deep:!0}),{colorCubeRef:a,pickerRef:s,showPicker:p,colorInstance:o,getBgColorStyle:u,onColorChange:b,onShowPicker:d,onActiveKeyChange:S,getComponentName:l,getBindArgs:c,state:n}}});function wY(e,t,n,r,i,o){const p=Be("WrapContainer");return z(),ie(Re,null,[e.isWidget?(z(),Oe(p,{key:0,"active-key":e.state.activeKey,"onUpdate:activeKey":t[0]||(t[0]=a=>e.state.activeKey=a),"show-tab":e.useType==="both",onChange:e.onActiveKeyChange,style:je({zIndex:e.zIndex}),theme:e.theme},{default:Ce(()=>[(z(),Oe(nn(e.getComponentName),Ot({key:e.getComponentName},e.getBindArgs),null,16))]),_:1},8,["active-key","show-tab","onChange","style","theme"])):Te("",!0),e.isWidget?Te("",!0):(z(),ie(Re,{key:1},[N("div",{class:be(["vc-color-wrap transparent",{round:e.shape==="circle"}]),ref:"colorCubeRef"},[N("div",{class:"current-color",style:je(e.getBgColorStyle),onClick:t[1]||(t[1]=(...a)=>e.onShowPicker&&e.onShowPicker(...a))},null,4)],2),(z(),Oe(Oc,{to:e.pickerContainer},[ut(N("div",{ref:"pickerRef",style:je({zIndex:e.zIndex})},[e.showPicker?(z(),Oe(p,{key:0,"show-tab":e.useType==="both"&&!e.state.isAdvanceMode,"active-key":e.state.activeKey,"onUpdate:activeKey":t[2]||(t[2]=a=>e.state.activeKey=a),onChange:e.onActiveKeyChange,theme:e.theme},{default:Ce(()=>[(z(),Oe(nn(e.getComponentName),Ot({key:e.getComponentName},e.getBindArgs),null,16))]),_:1},8,["show-tab","active-key","onChange","theme"])):Te("",!0)],4),[[_t,e.showPicker]])],8,["to"]))],64))],64)}const CY=Un(bY,[["render",wY],["__scopeId","data-v-c1ec9a22"]]),SY={__name:"color",props:{useType:{type:String,default:"both"},pureColor:{type:String,default:"red"},gradientColor:{type:String,default:""}},emits:["select"],setup(e,{emit:t}){function n(i){t("select",{fill:i})}function r(i){t("select",{gradient:i})}return(i,o)=>(z(),Oe(E(CY),{pureColor:e.pureColor,gradientColor:e.gradientColor,isWidget:!0,useType:e.useType,onPureColorChange:n,onGradientDataChange:r},null,8,["pureColor","gradientColor","useType"]))}},xY={components:{Bar:mz,WorkspaceSize:Uz,ElUpload:e8,ElTooltip:uo,Opactiy:lH,Color:SY},props:{onChange:{type:Function}},setup(e){const t=pe(rz),n=pe("design"),r=pe(!1),i=pe(!1),o=pe(),{state:p}=Xi(),a=Le("handler"),s=Le("canvas"),h=ne(()=>p.workspace),u=ne(()=>p.selectedItem),l=ne(()=>u.value&&u.value.type=="background"?u.value:null);function f(c){e.onChange(null,c)}return{headtool:t,sizeShow:r,workspace:h,selectColor:f,bgObject:l,colorRound:o,colorShow:i,selectedItem:u,getActiveClass(c){return Array.isArray(c.type)?c.type.includes(n.value)?"tabActive":"":c.type==n.value?"tabActive":""},selectTabs(c){n.value=c.type},getActiveTab(c){return c.type==n.value},onTabShow(c){if(c.showList){if(u.value){const{type:d}=u.value;return!!c.showList.includes(d)}}else return!0},async uploadImage(c,d="Image"){c&&await a.value.utils.fileUpload(c.raw,c.name,d)},getBgColor(){if(h.value){if(typeof h.value.fill=="string")return`background: ${h.value.fill}`;if(h.value.backgroundColor)return`background: ${h.value.backgroundColor}`}},onflip(){e.onChange(l.value,{scaleX:-1});const c=s.value.getZoom();a.value.workareaHandler.setZoomAuto(c)},bgToImage(){a.value.workareaHandler.bgToImage()},remove(){a.value.remove(l.value)},toGroup(){a.value.toGroup()},nogroup(){a.value.nogroup()}}}},go=e=>(Sn("data-v-4c03460b"),e=e(),xn(),e),TY={class:"editor-props-panel"},EY={class:"tab-panel-header"},OY={class:"tab-panel-block__header"},kY=["onClick"],PY={class:"tab-button"},AY={key:0,class:"tab-panel-bloack_content"},IY={class:"tab-panel"},RY={class:"tab-scrollbar__container"},MY={class:"panel-block"},DY=go(()=>N("div",{class:"panel-block__header"},[N("div",{class:"panel-block__header-title"},"")],-1)),FY={class:"panel-block__content"},LY={class:"gda-space-item"},BY={class:"panel-row"},$Y=go(()=>N("div",{class:"panel-row__label"},"",-1)),jY={key:0,class:"panel-row__content"},NY={class:"gda-space-item"},zY={class:"panel-row"},HY={class:"panel-row__content"},UY={class:"panel-block"},VY=go(()=>N("div",{class:"panel-block__header"},[N("div",{class:"panel-block__header-title"},"")],-1)),WY={class:"panel-block__content"},YY={class:"gda-space-item"},GY={class:"gda-space-item"},XY={key:0,class:"panel-row"},KY={class:"panel-row__content"},qY=go(()=>N("button",{class:"right-canvas-resize-btn"},"",-1)),JY={key:1,class:"panel-row panel-row-bg"},ZY={class:"panel-row-image"},QY=["src"],eG={class:"panel-row__content"},tG=go(()=>N("button",{class:"right-canvas-resize-btn"},"  ",-1)),nG={class:"background-edit-control__tools"},rG={class:"panel-block"},iG={class:"panel-block__header"},sG=go(()=>N("div",{class:"panel-block__header-title"},"",-1)),oG={class:"panel-block__header-action"},aG={class:"popup popover"};function lG(e,t,n,r,i,o){const p=Be("Bar"),a=Be("el-upload"),s=Be("el-tooltip"),h=Be("Opactiy"),u=Be("Color"),l=Be("popover"),f=Be("workspace-size");return z(),ie("div",TY,[N("div",EY,[N("div",OY,[(z(!0),ie(Re,null,st(r.headtool,c=>ut((z(),ie("div",{key:c.text,onClick:d=>r.selectTabs(c)},[N("button",PY,[N("div",{class:be(["tab-content",r.getActiveClass(c)])},We(c.text),3)])],8,kY)),[[_t,r.onTabShow(c)]])),128))]),r.selectedItem?(z(),ie("div",AY,[ye(p)])):Te("",!0)]),N("div",IY,[N("div",RY,[N("div",MY,[DY,N("div",FY,[N("div",LY,[N("div",BY,[$Y,r.workspace?(z(),ie("div",jY,We(r.workspace.width)+"  "+We(r.workspace.height)+" px ",1)):Te("",!0)]),N("div",NY,[N("div",zY,[N("div",HY,[N("button",{class:"right-canvas-resize-btn",onClick:t[0]||(t[0]=c=>r.sizeShow=!0)},"  ")])])])])])]),N("div",UY,[VY,N("div",WY,[N("div",YY,[N("div",GY,[r.bgObject?(z(),ie("div",JY,[N("div",ZY,[r.bgObject.src?(z(),ie("img",{key:0,src:r.bgObject.src,alt:""},null,8,QY)):Te("",!0),ut(N("div",eG,[ye(a,{"show-file-list":!1,"auto-upload":!1,"on-change":c=>r.uploadImage(c,"background")},{default:Ce(()=>[tG]),_:1},8,["on-change"])],512),[[_t,!1]]),N("div",nG,[ye(s,{class:"item",effect:"dark",content:"",placement:"top"},{default:Ce(()=>[N("i",{class:"iconfont icon-zuoyoufanzhuan",onClick:t[1]||(t[1]=(...c)=>r.onflip&&r.onflip(...c))})]),_:1}),ye(s,{class:"item",effect:"dark",content:"",placement:"top"},{default:Ce(()=>[N("i",{class:"iconfont icon-zhaopian",onClick:t[2]||(t[2]=(...c)=>r.bgToImage&&r.bgToImage(...c))})]),_:1}),ye(s,{class:"item",effect:"dark",content:"",placement:"top"},{default:Ce(()=>[N("i",{class:"iconfont icon-delete",onClick:t[3]||(t[3]=(...c)=>r.remove&&r.remove(...c))})]),_:1})])]),ye(h,{onChange:n.onChange},null,8,["onChange"])])):(z(),ie("div",XY,[N("div",KY,[ye(a,{"show-file-list":!1,"auto-upload":!1,"on-change":c=>r.uploadImage(c,"background")},{default:Ce(()=>[qY]),_:1},8,["on-change"])])]))])])])]),N("div",rG,[N("div",iG,[sG,N("div",oG,[N("div",aG,[N("div",{ref:"colorRound",class:"swatch--shape-round",style:je(`${r.getBgColor()}`),onClick:t[4]||(t[4]=c=>r.colorShow=!0)},null,4),ye(l,{dom:r.colorRound,show:r.colorShow,placement:"left",onClose:t[5]||(t[5]=c=>r.colorShow=!1)},{default:Ce(({setSlotRef:c})=>[N("div",{class:"content",ref:d=>c(d)},[ye(u,{onSelect:r.selectColor},null,8,["onSelect"])],512)]),_:1},8,["dom","show"])])])])]),N("div",{onClick:t[6]||(t[6]=(...c)=>r.toGroup&&r.toGroup(...c))},""),N("div",{onClick:t[7]||(t[7]=(...c)=>r.nogroup&&r.nogroup(...c))},"")])]),ye(Tr,{name:"anime"},{default:Ce(()=>[r.sizeShow?(z(),Oe(f,{key:0,onBack:t[8]||(t[8]=c=>r.sizeShow=!1)})):Te("",!0)]),_:1})])}const cG=At(xY,[["render",lG],["__scopeId","data-v-4c03460b"]]),uG="/vue-design-editor/assets/upload-file-image-cb880832.svg",bf=[{mime:"video/mp4",ext:"mp4",offset:4,signature:[102,116,121,112,105,115,111,109]},{mime:"video/mp4",ext:"mp4",offset:4,signature:[102,116,121,112,109,112,52]},{mime:"image/jpeg",ext:"jpeg",signature:[255,216,255]},{mime:"image/png",ext:"png",signature:[137,80,78,71,13,10,26,10]},{mime:"image/gif",ext:"gif",signature:[71,73,70,56,55,97]},{mime:"image/gif",ext:"gif",signature:[71,73,70,56,57,97]},{mime:"image/vnd.adobe.photoshop",ext:"psd",signature:[56,66,80,83]},{mime:"image/webp",ext:"webp",signature:[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80,86,80]},{mime:"image/x-icon",ext:"ico",signature:[0,0,1,0]},{mime:"image/x-icon",ext:"cur",signature:[0,0,2,0]},{ext:"tif",mime:"image/tiff",signature:[77,77,0,42]},{ext:"tif",mime:"image/tiff",signature:[73,73,42,0]},{ext:"bpg",mime:"image/bpg",signature:[66,80,71,251]},{mime:"application/pdf",ext:"pdf",signature:[37,80,68,70,45]},{mime:"application/ogg",ext:"ogg",signature:[79,103,103,83]},{mime:"audio/midi",ext:"midi",signature:[77,84,104,100]},{mime:"audio/mpeg",ext:"mp3",signature:[73,68,51]},{ext:"flac",mime:"audio/x-flac",signature:[102,76,97,67]},{ext:"mpg",mime:"video/mpeg",signature:[0,0,1,186]},{ext:"mpg",mime:"video/mpeg",signature:[0,0,1,179]},{mime:"video/x-flv",ext:"flv",signature:[70,76,86]},{mime:"image/bmp",ext:"bmp",signature:[66,77]},{mime:"audio/aiff",ext:"aiff",signature:[70,79,82,77,void 0,void 0,void 0,void 0,65,73,70,70]},{mime:"video/vnd.avi",ext:"avi",signature:[82,73,70,70,void 0,void 0,void 0,void 0,65,86,73,32]},{mime:"video/webm",ext:"webm",signature:[26,69,223,163]},{mime:"audio/mpeg",ext:"mp3",signature:[255,251]},{mime:"audio/mpeg",ext:"mp3",signature:[255,243]},{mime:"audio/mpeg",ext:"mp3",signature:[255,242]},{mime:"audio/mpeg",ext:"mp3",signature:[255,251]},{mime:"audio/vnd.wave",ext:"wav",signature:[82,73,70,70,void 0,void 0,void 0,void 0,87,65,86,69]},{mime:"audio/qcelp",ext:"qcp",signature:[82,73,70,70,void 0,void 0,void 0,void 0,81,76,67,77]},{mime:"font/ttf",ext:"ttf",signature:[0,1,0,0]},{mime:"font/otf",ext:"otf",signature:[79,84,84,79]},{mime:"font/collection",ext:"ttcf",signature:[116,116,99,102]},{mime:"font/woff",ext:"woff",signature:[119,79,70,70]},{mime:"font/woff2",ext:"woff2",signature:[119,79,70,50]},{mime:"application/x-rar-compressed",ext:"rar",signature:[82,97,114,32,26,7,0]},{mime:"application/x-msdownload",ext:"exe",signature:[77,90]},{ext:"xz",mime:"application/x-xz",signature:[253,55,122,88,90,0]},{ext:"7z",mime:"application/x-7z-compressed",signature:[55,122,188,175,39,28]},{mime:"application/wasm",ext:"wasm",signature:[0,97,115,109]},{mime:"application/x-nintendo-nes-rom",ext:"nes",signature:[78,69,83,26]},{ext:"rpm",mime:"application/x-rpm",signature:[237,171,238,219]},{ext:"zst",mime:"application/zstd",signature:[40,181,47,253]},{ext:"alias",mime:"application/x.apple.alias",signature:[98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]},{ext:"deb",mime:"application/x-deb",signature:[33,60,97,114,99,104,62,10]},{ext:"blend",mime:"application/x-blender",signature:[66,76,69,78,68,69,82]},{ext:"chm",mime:"application/vnd.ms-htmlhelp",signature:[73,84,83,70,3,0,0,0,96,0,0,0]},{ext:"rtf",mime:"application/rtf",signature:[123,92,114,116,102,49]},{ext:"cab",mime:"application/vnd.ms-cab-compressed",signature:[77,83,67,70]},{ext:"cab",mime:"application/vnd.ms-cab-compressed",signature:[73,83,99,40]},{ext:"crx",mime:"application/x-google-chrome-extension",signature:[67,114,50,52]},{ext:"nes",mime:"application/x-nintendo-nes-rom",signature:[78,69,83,26]},{ext:"sqlite",mime:"application/x-sqlite3",signature:[83,81,76,105,116,101,32,102,111,114,109,97,116,32,51,0]},{ext:"lz",mime:"application/x-lzip",signature:[76,90,73,80]},{ext:"pcap",mime:"application/vnd.tcpdump.pcap",signature:[212,195,178,161]},{ext:"pcap",mime:"application/vnd.tcpdump.pcap",signature:[161,178,195,212]},{mime:"text/plain",ext:"txt",signature:[239,187,191]},{mime:"text/plain",ext:"txt",signature:[254,255]},{mime:"text/plain",ext:"txt",signature:[255,254]}],fG=(e,{signature:t,offset:n=0})=>{for(let r=0,i=t.length;r<i;r++)if(e[r+n]!==t[r]&&t[r]!==void 0)return!1;return!0},hG=(e,{start:t,end:n})=>new Promise((r,i)=>{try{const o=new FileReader;o.onload=p=>{const a=new Uint8Array(p.target.result);r(a)},o.onerror=p=>i(p),o.onabort=p=>i(p),o.readAsArrayBuffer(e.slice(t,n))}catch(o){i(o)}}),Ty=(e,t={start:0,end:32})=>hG(e,t).then(n=>{for(let r=0,i=bf.length;r<i;r++)if(fG(n,bf[r])){const{mime:o,ext:p}=bf[r];return{mime:o,ext:p}}return{mime:e.type,ext:""}}).catch(n=>n);var dG=Object.defineProperty,pG=(e,t,n)=>t in e?dG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ou=(e,t,n)=>(pG(e,typeof t!="symbol"?t+"":t,n),n);const rn={pad2:function(e){return e+1&-2},pad4:function(e){return(e+4&-4)-1},getUnicodeCharacter:function(e){if(e>=0&&e<=55295||e>=57344&&e<=65535)return String.fromCharCode(e);if(e>=65536&&e<=1114111){e-=65536;const t=((1047552&e)>>10)+55296,n=(1023&e)+56320;return String.fromCharCode(t)+String.fromCharCode(n)}},clamp:function(e,t,n){return Math.min(Math.max(e,t),n)}};let ms={};const Rh={setColorConverters:function(e){Object.assign(ms,e)},rgbToRgb(e,t,n){return ms.rgbToRgb?ms.rgbToRgb([e,t,n]):[e,t,n]},cmykToRgb:function(e,t,n,r){if(ms&&ms.cmykToRgb)return ms.cmykToRgb([e,t,n,r]);const i=rn.clamp(65535-(e*(255-r)+(r<<8))>>8,0,255),o=rn.clamp(65535-(t*(255-r)+(r<<8))>>8,0,255),p=rn.clamp(65535-(n*(255-r)+(r<<8))>>8,0,255);return[i,o,p]}},gG=new TextDecoder("utf-16be");let vG=class{constructor(t){this.data=t,this.dataView=new DataView(t.buffer),this.pos=0}tell(){return this.pos}read(t){const n=this.pos;return this.pos+=t,this.data.subarray(n,this.pos)}seek(t,n=!1){n?this.pos=this.pos+t:this.pos=t}readString(t){return String.fromCharCode.apply(null,this.read(t)).replace(/\u0000/g,"")}readUnicodeString(t=null){return t||(t=this.readInt()),gG.decode(this.read(t*2)).replace(/\u0000/g,"")}readByte(){return this.read(1)[0]}readBoolean(){return this.readByte()!==0}readSpaceColor(){let t;const n=this.readShort();for(let r=0;r<4;r++)t=this.readShort()>>8;return{colorSpace:n,components:t}}readPathNumber(){const t=this.readByte(),n=this.read(3),r=n[0]<<16,i=n[1]<<8,o=n[2],p=r|i|o;return parseFloat(t,10)+parseFloat(p/Math.pow(2,24),10)}readInt(){const t=this.dataView.getInt32(this.pos);return this.pos+=4,t}readUInt(){const t=this.dataView.getUint32(this.pos);return this.pos+=4,t}readShort(){const t=this.dataView.getInt16(this.pos);return this.pos+=2,t}readUShort(){const t=this.dataView.getUint16(this.pos);return this.pos+=2,t}readFloat(){const t=this.dataView.getFloat32(this.pos);return this.pos+=4,t}readDouble(){const t=this.dataView.getFloat64(this.pos);return this.pos+=8,t}readLongLong(){const t=this.read(8);let n=0;for(let r=0;r<8;r++){const i=7-r;n+=t[r]*Math.pow(256,i)}return n}};const mG=["Bitmap","GrayScale","IndexedColor","RGBColor","CMYKColor","HSLColor","HSBColor","Multichannel","Duotone","LabColor","Gray16","RGB48","Lab48","CMYK64","DeepMultichannel","Duotone16"];class yG{constructor(t){this.file=t,this.sig=null,this.version=null,this.channels=null,this.height=null,this.width=null,this.depth=null,this.mode=null}parse(){if(this.sig=this.file.readString(4),this.sig!=="8BPS")throw new Error("Invalid file signature detected. Got: "+this.sig+". Expected 8BPS.");this.version=this.file.readUShort(),this.file.seek(6,!0),this.channels=this.file.readUShort(),this.height=this.file.readUInt(),this.width=this.file.readUInt(),this.depth=this.file.readUShort(),this.mode=this.file.readUShort();const t=this.file.readUInt();this.file.seek(t,!0)}get rows(){return console.warn("rows is deprecated, use height instead."),this.height}get cols(){return console.warn("cols is deprecated, use width instead."),this.height}modeName(){return mG[this.mode]}export(){const t={},n=["sig","version","channels","height","width","depth","mode"],r=n.length;for(let i=0;i<r;i++){const o=n[i];t[o]=this[o]}return t}}const _G={toBase64(){const e=document.createElement("canvas");e.width=this.width(),e.height=this.height();const t=e.getContext("2d",{willReadFrequently:!0}),n=t.getImageData(0,0,this.width(),this.height()),r=n.data,i=this.pixelData.length;for(let o=0;o<i;o++)r[o]=this.pixelData[o];return t.putImageData(n,0,0),e.toDataURL("image/png")},toPng(){const e=this.toBase64(),t=new Image;return t.width=this.width(),t.height=this.height(),t.src=e,t},saveAsPng(){throw"Not available in the browser. Use toPng() instead."}};let Wp=class{constructor(t,n,r){if(this.file=t,this.header=n,r&&(this.layer=r,this._width=r.width,this._height=r.height,this.width=function(){return this._width},this.height=function(){return this._height}),this.numPixels=this.width()*this.height(),this.depth()===16&&(this.numPixels*=2),this.calculateLength(),this.pixelData=new Uint8Array(this.channelLength*4),this.layer&&this.layer.mask.size){const i=this.header.width,o=this.header.height,p=this.layer.mask,a=Math.min(p.right,i)-Math.max(p.left,0),s=Math.min(p.bottom,o)-Math.max(p.top,0),h=2e3*3e3,u=a*s;this.maskLength>h&&u/this.maskLength<.5?(p.width=i,p.height=o,p.isSingleChannel=!0,this.maskData=new Uint8Array(i*o)):this.maskData=new Uint8Array(this.maskLength*4)}this.channelData=new Uint8Array(this.length+this.maskLength),this.opacity=1,this.hasMask=!1,this.startPos=this.file.tell(),this.endPos=this.startPos+this.length,this.setChannelsInfo()}setChannelsInfo(){switch(this.mode()){case 1:return this.setGreyscaleChannels();case 3:return this.setRgbChannels();case 4:return this.setCmykChannels()}}_calcAreaByDepth(t){switch(t){case 1:return(this.width()+7)/8*this.height();case 16:return this.width()*this.height()*2;default:return this.width()*this.height()}}calculateLength(){var t,n,r,i;if(this.length=this._calcAreaByDepth(this.depth()),this.channelLength=this.length,this.length*=this.channels(),this.maskLength=0,(n=(t=this.layer)==null?void 0:t.mask)!=null&&n.size&&(this.maskLength+=this.layer.mask.width*this.layer.mask.height),(i=(r=this.layer)==null?void 0:r.mask)!=null&&i.vmask){const{width:o,height:p}=this.layer.mask.vmask;this.maskLength+=o*p}}parse(){if(this.compression=this.parseCompression(),this.compression===2||this.compression===3){this.file.seek(this.endPos);return}this.parseImageData()}parseCompression(){return this.file.readShort()}parseImageData(){switch(this.compression){case 0:this.parseRaw();break;case 1:this.parseRLE();break;case 2:case 3:this.parseZip();break;default:this.file.seek(this.endPos)}this.processImageData()}processImageData(){switch(this.mode()){case 1:this.combineGreyscaleChannel();break;case 3:this.combineRgbChannel();break;case 4:this.combineCmykChannel()}this.channelData=null}parseRaw(){this.channelData.set(this.file.read(this.length))}parseRLE(){this.byteCounts=this.parseByteCounts(),this.parseChannelData()}parseByteCounts(){const t=this.channels()*this.height(),n=[];for(let r=0;r<t;r++)this.header.version===1?n.push(this.file.readShort()):n.push(this.file.readInt());return n}parseChannelData(){this.chanPos=0,this.lineIndex=0;const t=this.channels();for(let n=0;n<t;n++)this.decodeRLEChannel(),this.lineIndex+=this.height()}decodeRLEChannel(){const t=this.height();for(let n=0;n<t;n++){const r=this.byteCounts[this.lineIndex+n],i=this.file.tell()+r;for(;this.file.tell()<i;){let o=this.file.read(1)[0];if(o<128){o+=1;const p=this.file.read(o);this.channelData.set(p,this.chanPos),this.chanPos+=o}else if(o>128){o^=255,o+=2;const p=this.file.read(1)[0];this.channelData.fill(p,this.chanPos,this.chanPos+o),this.chanPos+=o}}}}setGreyscaleChannels(){if(this.channelsInfo=[{id:0}],this.channels()===2)return this.channelsInfo.push({id:-1})}combineGreyscaleChannel(){for(let t=0;t<this.numPixels;t++){const n=this.channelData[t],r=this.channels()===2?this.channelData[this.channelLength+t]:25;this.pixelData.set([n,n,n,r],t*4)}}setRgbChannels(){if(this.channelsInfo=[{id:0},{id:1},{id:2}],this.channels()===4)return this.channelsInfo.push({id:-1})}combineRgbChannel(){const t=this.channelsInfo.map(n=>n.id).filter(n=>n>=-1);for(let n=0;n<this.numPixels;n++){let r=0,i=0,o=0,p=255;const a=t.length;for(let l=0;l<a;l++){const f=t[l],c=this.channelData[n+this.channelLength*l];switch(f){case-1:p=c;break;case 0:r=c;break;case 1:i=c;break;case 2:o=c}}const[s,h,u]=Rh.rgbToRgb(r,i,o);this.pixelData.set([s,h,u,p],n*4)}return this.readMaskData(t)}readMaskData(t){if(this.hasMask){let n;const r=this.layer.mask.width*this.layer.mask.height,i=this.channelLength*t.length;if(this.layer.mask.isSingleChannel){n=new Uint8Array(this.channelData.buffer,i,r),this.maskData.set(n);return}let o=0;for(;o<r;)n=this.channelData[o+i],this.maskData.set([0,0,0,n],o*4),o++}}setCmykChannels(){if(this.channelsInfo=[{id:0},{id:1},{id:2},{id:3}],this.channels()===5)return this.channelsInfo.push({id:-1})}combineCmykChannel(){const t=this.channelsInfo.map(n=>n.id).filter(n=>n>=-1);for(let n=0;n<this.numPixels;n++){let r=0,i=0,o=0,p=0,a=255;const s=t.length;for(let f=0;f<s;f++){const c=t[f],d=this.channelData[n+this.channelLength*f];switch(c){case-1:a=d;break;case 0:r=d;break;case 1:i=d;break;case 2:o=d;break;case 3:p=d}}const[h,u,l]=Rh.cmykToRgb(255-r,255-i,255-o,255-p);this.pixelData.set([h,u,l,a],n*4)}this.readMaskData(t)}width(){return this.header.width}height(){return this.header.height}channels(){return this.header.channels}depth(){return this.header.depth}mode(){return this.header.mode}};function bG(e,t){Object.keys(t).forEach(n=>{e.prototype[n]=t[n]})}bG(Wp,_G);function wG(e){const t=new Set;for(;e&&e.constructor!==Object;){const n=Reflect.ownKeys(e);for(const r of n)t.add(r);e=Reflect.getPrototypeOf(e)}return[...t]}class Yp{constructor(t,n){this.obj=t,this.file=n,this.startPos=this.file.tell(),this.loaded=!1,this.loadMethod=null,this.loadArgs=[],this.passthru=[]}now(t,...n){return this.obj[t].apply(this.obj,n),this}later(t,...n){return this.loadMethod=t,this.loadArgs=n,this}ignore(...t){return this.passthru.concat(t),this}get(){const t=wG(this.obj);for(const n of t)this[n]||Object.defineProperty(this,n,{get:function(){return!this.loaded&&!this.passthru.includes(n)&&this.load(),this.obj[n]}});return this}load(){const t=this.file.tell();this.file.seek(this.startPos),this.obj[this.loadMethod].apply(this.obj,this.loadArgs),this.file.seek(t),this.loaded=!0}}class kt{constructor(t){this.file=t,this.data={}}parse(){this.data.class=this.parseClass();const t=this.file.readInt();for(let n=0;n<t;n++){const[r,i]=this.parseKeyItem();this.data[r]=i}return this.data}parseClass(){return{name:this.file.readUnicodeString(),id:this.parseId()}}parseId(){const t=this.file.readInt();return t===0?this.file.readString(4):this.file.readString(t)}parseKeyItem(){const t=this.parseId(),n=this.parseItem();return[t,n]}parseItem(t=null){switch(t==null&&(t=this.file.readString(4)),t){case"bool":return this.parseBoolean();case"type":case"GlbC":return this.parseClass();case"Objc":case"GlbO":return new kt(this.file).parse();case"doub":return this.parseDouble();case"enum":return this.parseEnum();case"alis":return this.parseAlias();case"Pth":return this.parseFilePath();case"long":return this.parseInteger();case"comp":return this.parseLargeInteger();case"VlLs":return this.parseList();case"ObAr":return this.parseObjectArray();case"tdta":return this.parseRawData();case"obj ":return this.parseReference();case"TEXT":return this.file.readUnicodeString();case"UntF":return this.parseUnitDouble();case"UnFl":return this.parseUnitFloat();case"uglg":return this.parseBoolean()}}parseBoolean(){return this.file.readBoolean()}parseDouble(){return this.file.readDouble()}parseInteger(){return this.file.readInt()}parseLargeInteger(){return this.file.readLongLong()}parseIdentifier(){return this.file.readInt()}parseIndex(){return this.file.readInt()}parseOffset(){return this.file.readInt()}parseProperty(){return{class:this.parseClass(),id:this.parseId()}}parseEnum(){return{type:this.parseId(),value:this.parseId()}}parseEnumReference(){return{class:this.parseClass(),type:this.parseId(),value:this.parseId()}}parseAlias(){const t=this.file.readInt();return this.file.readString(t)}parseFilePath(){this.file.readInt();const t=this.file.readString(4);this.file.read("<i");const n=this.file.read("<i"),r=this.file.readUnicodeString(n);return{sig:t,path:r}}parseList(){const t=this.file.readInt(),n=[];for(let r=0;r<t;r++)n.push(this.parseItem());return n}parseObjectArray(){throw`Descriptor object array not implemented yet @ ${this.file.tell()}`}parseRawData(){const t=this.file.readInt();return this.file.read(t)}_getReferenceValue(t){switch(t){case"prop":return this.parseProperty();case"Clss":return this.parseClass();case"Enmr":return this.parseEnumReference();case"Idnt":return this.parseIdentifier();case"indx":return this.parseIndex();case"name":return this.file.readUnicodeString();case"rele":return this.parseOffset()}}parseReference(){const t=this.file.readInt(),n=[];for(let r=0;r<t;r++){const i=this.file.readString(4),o=this._getReferenceValue(i);n.push({type:i,value:o})}return n}parseUnitDouble(){const t=this.file.readString(4),n=function(){switch(t){case"#Ang":return"Angle";case"#Rsl":return"Density";case"#Rlt":return"Distance";case"#Nne":return"None";case"#Prc":return"Percent";case"#Pxl":return"Pixels";case"#Mlm":return"Millimeters";case"#Pnt":return"Points"}}(),r=this.file.readDouble();return{id:t,unit:n,value:r}}parseUnitFloat(){const t=this.file.readString(4),n=function(){switch(t){case"#Ang":return"Angle";case"#Rsl":return"Density";case"#Rlt":return"Distance";case"#Nne":return"None";case"#Prc":return"Percent";case"#Pxl":return"Pixels";case"#Mlm":return"Millimeters";case"#Pnt":return"Points"}}(),r=this.file.readFloat();return{id:t,unit:n,value:r}}}class Ue{constructor(t,n){this.layer=t,this.length=n,this.file=t.file,this.section_end=this.file.tell()+n,this.data={}}skip(){this.file.seek(this.section_end)}parse(){this.skip()}}class CG extends Ue{static shouldParse(t){return t==="artb"}parse(){return this.file.seek(4,!0),this.data=new kt(this.file).parse(),this.data}export(){return{coords:{left:this.data.artboardRect.Left,top:this.data.artboardRect["Top "],right:this.data.artboardRect.Rght,bottom:this.data.artboardRect.Btom}}}}class SG extends Ue{static shouldParse(t){return t==="clbl"}parse(){this.enabled=this.file.readBoolean(),this.file.seek(3,!0)}}class xG extends Ue{static shouldParse(t){return t==="infx"}parse(){this.enabled=this.file.readBoolean(),this.file.seek(3,!0)}}class TG extends Ue{static shouldParse(t){return t==="iOpa"}parse(){const t=this.file.readByte(),n=Math.round(t*100/255),r="Percent";this.data.opacity=n,this.data.unit=r}}class EG extends Ue{static shouldParse(t){return t==="GdFl"}parse(){return this.file.seek(4,!0),this.data=new kt(this.file).parse(),this.data}}class OG extends Ue{constructor(t,n){super(t,n),this.pos=this.file.tell()}static shouldParse(t){return t==="lyid"}parse(){const t=this.file.tell();return this.file.seek(this.pos),this.id=this.file.readInt(),this.file.seek(t),this.id}}class kG extends Ue{static shouldParse(t){return t==="lnsr"}parse(){return this.id=this.file.readString(4),this.id}}const PG=new TextDecoder("utf-16be"),Ey=[FG,LG,BG,$G,jG,NG,VG,zG,HG,UG,WG];let Gp=[],au=[],hi=[];const AG=function(e){return Gp=au=hi=[],MG(RG(IG(e))),hi.shift()};function IG(e){return String.fromCharCode.apply(null,e)}function RG(e){return e.split(`
`)}function MG(e){e.map(function(t){Xp(t.replace(/^\t+/g,""))})}function Xp(e){for(const t in Ey){const n=new Ey[t](e);if(n.match)return n.parse()}return e}function sr(e,t){return e.test(t)}function DG(e){return Object.prototype.toString.call(e)==="[object Array]"}function FG(e){return{match:sr(/^<<$/,e),parse:function(){LC({})}}}function LG(e){return{match:sr(/^>>$/,e),parse:function(){BC()}}}function BG(e){const t=/^\/(\w+) \[$/;return{match:sr(t,e),parse:function(){au.push(e.match(t)[1]),LC([])}}}function $G(e){return{match:sr(/^]$/,e),parse:function(){BC()}}}function jG(e){const t=/^\/([_A-Z0-9]+)$/i;return{match:sr(t,e),parse:function(){au.push(e.match(t)[1])}}}function NG(e){const t=/^\/([_A-Z0-9]+)\s((.|\r)*)$/i;return{match:sr(t,e),parse:function(){const n=e.match(t);YG(n[1],Xp(n[2]))}}}function zG(e){return{match:sr(/^(true|false)$/,e),parse:function(){return e==="true"}}}function HG(e){return{match:sr(/^-?\d+$/,e),parse:function(){return Number(e)}}}function UG(e){return{match:sr(/^(-?\d*)\.(\d+)$/,e),parse:function(){return Number(e)}}}function VG(e){const t=/^\[(.*)\]$/;return{match:sr(t,e),parse:function(){const n=e.match(t)[1].trim().split(" "),r=[],i=n.length;for(let o=0;o<i;o++)r.push(Xp(n[o]));return r}}}function WG(e){const t=/^\(((.|\r)*)\)$/;return{match:sr(t,e),parse:function(){const n=e.match(t)[1],r=[],i=n.length;for(let o=0;o<i;o++)r.push(n.charCodeAt(o));return PG.decode(new Uint8Array(r))}}}function LC(e){Gp.push(hi),hi=e}function BC(){const e=Gp.pop();DG(e)?e.push(hi):e[au.pop()]=hi,hi=e}function YG(e,t){hi[e]=t}let Mh,Dh;class $C extends Ue{static shouldParse(t){return t==="TySh"}constructor(t,n){super(t,n),this.version=null,this.transform={},this.textVersion=null,this.descriptorVersion=null,this.textData=null,this.engineData=null,this.textValue=null,this.warpVersion=null,this.descriptorVersion=null,this.warpData=null,this.coords={}}parse(){this.version=this.file.readShort(),this.parseTransformInfo(),this.textVersion=this.file.readShort(),this.descriptorVersion=this.file.readInt(),this.textData=new kt(this.file).parse(),this.textValue=this.textData["Txt "],this.engineData=AG(this.textData.EngineData),this.warpVersion=this.file.readShort(),this.descriptorVersion=this.file.readInt(),this.warpData=new kt(this.file).parse();const t=Mh.length;for(let n=0;n<t;n++){const r=Mh[n];this.coords[r]=this.file.readInt()}}parseTransformInfo(){const t=Dh.length;for(let n=0;n<t;n++){const r=Dh[n];this.transform[r]=this.file.readDouble()}}fonts(){return this.engineData==null?[]:this.engineData.ResourceDict.FontSet.map(function(t){return t.Name})}lengthArray(){const t=this.engineData.EngineDict.StyleRun.RunLengthArray;return t.reduce((r,i)=>r+i)-this.textValue.length===1&&(t[t.length-1]=t[t.length-1]-1),t}fontStyles(){return this.engineData.EngineDict.StyleRun.RunArray.map(function(n){return n.StyleSheet.StyleSheetData}).map(function(n){let r;return n.FauxItalic?r="italic":r="normal",r})}fontWeights(){return this.engineData.EngineDict.StyleRun.RunArray.map(function(n){return n.StyleSheet.StyleSheetData}).map(function(n){let r;return n.FauxBold?r="bold":r="normal",r})}textDecoration(){return this.engineData.EngineDict.StyleRun.RunArray.map(function(n){return n.StyleSheet.StyleSheetData}).map(function(n){let r;return n.Underline?r="underline":r="none",r})}leading(){return this.engineData.EngineDict.StyleRun.RunArray.map(function(n){return n.StyleSheet.StyleSheetData}).map(function(n){let r;return n.Leading?r=n.Leading:r="auto",r})}sizes(){return this.engineData==null&&this.styles().FontSize==null?[]:this.styles().FontSize}alignment(){if(this.engineData==null)return[];const t=["left","right","center","justify"];return this.engineData.EngineDict.ParagraphRun.RunArray.map(function(n){return t[Math.min(parseInt(n.ParagraphSheet.Properties.Justification,10),3)]})}colors(){return this.engineData==null||this.styles().FillColor==null?[[0,0,0,255]]:this.styles().FillColor.map(function(t){const n=t.Values.map(function(r){return Math.round(r*255)});return n.push(n.shift()),n})}fillTypes(){return this.styles().FillColor?this.styles().FillColor.map(function(t){return t.Type}):1}styles(){if(this.engineData==null)return{};if(this._styles!=null)return this._styles;const t=this.engineData.EngineDict.StyleRun.RunArray.map(function(n){return n.StyleSheet.StyleSheetData});return this._styles=t.reduce(function(n,r){for(const i in r){if(!r.hasOwnProperty(i))continue;const o=r[i];n[i]||(n[i]=[]),n[i].push(o)}return n},{})}toCSS(){const t={"font-family":this.fonts().join(", "),"font-size":`${this.sizes()[0]}pt`,color:`rgba(${this.colors()[0].join(", ")})`,"text-align":this.alignment()[0]},n=[];for(const r in t){const i=t[r];i!=null&&n.push(`${r}: ${i};`)}return n.join(`
`)}export(){return{value:this.textValue,font:{lengthArray:this.lengthArray(),styles:this.fontStyles(),weights:this.fontWeights(),names:this.fonts(),sizes:this.sizes(),colors:this.colors(),alignment:this.alignment(),textDecoration:this.textDecoration(),leading:this.leading()},left:this.coords.left,top:this.coords.top,right:this.coords.right,bottom:this.coords.bottom,transform:this.transform}}}Dh=["xx","xy","yx","yy","tx","ty"];Mh=["left","top","right","bottom"];class GG extends $C{static shouldParse(t){return t==="tySh"}constructor(t,n){super(t,n),this.transform={},this.faces=[],this.styles=[],this.lines=[],this.type=0,this.scalingFactor=0,this.characterCount=0,this.horzPlace=0,this.vertPlace=0,this.selectStart=0,this.selectEnd=0,this.color=null,this.antialias=null}parse(){this.file.seek(2,!0),this.parseTransformInfo(),this.file.seek(2,!0);const t=this.file.readShort();for(let i=0;i<t;i++){const o={};o.mark=this.file.readShort(),o.fontType=this.file.readInt(),o.fontName=this.file.readString(this.file.readByte()),o.fontFamilyName=this.file.readString(this.file.readByte()),o.fontStyleName=this.file.readString(this.file.readByte()),o.script=this.file.readShort(),o.numberAxesVector=this.file.readInt(),o.vector=[];for(let p=0;p<o.numberAxesVector;p++)o.vector.push(this.file.readInt());this.faces.push(o)}const n=this.file.readShort();for(let i=0;i<n;i++){const o={};o.mark=this.file.readShort(),o.faceMark=this.file.readShort(),o.size=this.file.readInt(),o.tracking=this.file.readInt(),o.kerning=this.file.readInt(),o.leading=this.file.readInt(),o.baseShift=this.file.readInt(),o.autoKern=this.file.readBoolean(),this.file.seek(1,!0),o.rotate=this.file.readBoolean(),this.styles.push(o)}this.type=this.file.readShort(),this.scalingFactor=this.file.readInt(),this.characterCount=this.file.readInt(),this.horzPlace=this.file.readInt(),this.vertPlace=this.file.readInt(),this.selectStart=this.file.readInt(),this.selectEnd=this.file.readInt();const r=this.file.readShort();for(let i=0;i<r;i++){const o={};o.charCount=this.file.readInt(),o.orientation=this.file.readShort(),o.alignment=this.file.readShort(),o.actualChar=this.file.readShort(),o.style=this.file.readShort(),this.lines.push(o)}this.color=this.file.readSpaceColor(),this.antialias=this.file.readBoolean()}}class XG extends Ue{static shouldParse(t){return t==="lspf"}constructor(t,n){super(t,n),this.transparencyLocked=!1,this.compositeLocked=!1,this.positionLocked=!1,this.allLocked=!1}parse(){const t=this.file.readInt();this.transparencyLocked=(t&1)>0||t===-2147483648,this.compositeLocked=(t&2)>0||t===-2147483648,this.positionLocked=(t&4)>0||t===-2147483648,this.allLocked=this.transparencyLocked&&this.compositeLocked&&this.positionLocked}}class KG extends Ue{static shouldParse(t){return t==="shmd"}parse(){this.data={};const t=this.file.readInt();for(let n=0;n<t;n++){this.file.seek(4,!0);const r=this.file.readString(4);this.file.readByte(),this.file.seek(3,!0);const i=this.file.readInt(),o=this.file.tell()+i;if(["cust","cmls","extn","mlst","tmln"].includes(r)){let p=this.file.readInt();p!==16&&(p=this.file.readInt()),p===16&&(this.data[r]=new kt(this.file).parse())}else console.log("Unhandled meta key: ",r);this.file.seek(o)}}}class qG extends Ue{static shouldParse(t){return t==="luni"}parse(){const t=this.file.tell();return this.data=this.file.readUnicodeString(),this.file.seek(t+this.length),this}}class JG extends Ue{static shouldParse(t){return t==="lsdk"}constructor(t,n){super(t,n),this.isFolder=!1,this.isHidden=!1}parse(){switch(this.file.readInt()){case 1:case 2:return this.isFolder=!0;case 3:return this.isHidden=!0}}}class ZG extends Ue{static shouldParse(t){return t==="lfx2"||t==="lmfx"}parse(){return this.file.seek(8,!0),this.data=new kt(this.file).parse(),this.data}}const QG=["other","open folder","closed folder","bounding section divider"];class eX extends Ue{static shouldParse(t){return t==="lsct"}constructor(t,n){super(t,n),this.isFolder=!1,this.isHidden=!1,this.layerType=null,this.blendMode=null,this.subType=null}parse(){const t=this.file.readInt();switch(this.layerType=QG[t],t){case 1:case 2:this.isFolder=!0;break;case 3:this.isHidden=!0}this.length>=12&&(this.file.seek(4,!0),this.blendMode=this.file.readString(4),this.length>=16&&(this.subType=this.file.readInt()===0?"normal":"scene group"))}}class Kp{constructor(t){this.file=t,this.recordType=null}parse(){switch(this.recordType=this.file.readShort(),this.recordType){case 0:case 3:this._readPathRecord();break;case 1:case 2:case 4:case 5:this._readBezierPoint();break;case 7:this._readClipboardRecord();break;case 8:this._readInitialFill();break;default:this.file.seek(24,!0)}}export(){const n=(()=>{switch(this.recordType){case 0:case 3:return{numPoints:this.numPoints,operation:this.operation};case 1:case 2:case 4:case 5:return{linked:this.linked,closed:this.recordType===1||this.recordType===2,preceding:{vert:this.precedingVert,horiz:this.precedingHoriz},anchor:{vert:this.anchorVert,horiz:this.anchorHoriz},leaving:{vert:this.leavingVert,horiz:this.leavingHoriz}};case 7:return{clipboard:{top:this.clipboardTop,left:this.clipboardLeft,bottom:this.clipboardBottom,right:this.clipboardRight,resolution:this.clipboardResolution}};case 8:return{initialFill:this.initialFill};default:return{}}})();return n.recordType=this.recordType,n}isBezierPoint(){const t=this.recordType;return t===1||t===2||t===4||t===5}_readPathRecord(){this.numPoints=this.file.readShort(),this.operation=this.file.readShort(),this.file.seek(20,!0)}_readBezierPoint(){const t=this.recordType;this.linked=t===1||t===4,this.precedingVert=this.file.readPathNumber(),this.precedingHoriz=this.file.readPathNumber(),this.anchorVert=this.file.readPathNumber(),this.anchorHoriz=this.file.readPathNumber(),this.leavingVert=this.file.readPathNumber(),this.leavingHoriz=this.file.readPathNumber()}_readClipboardRecord(){this.clipboardTop=this.file.readPathNumber(),this.clipboardLeft=this.file.readPathNumber(),this.clipboardBottom=this.file.readPathNumber(),this.clipboardRight=this.file.readPathNumber(),this.clipboardResolution=this.file.readPathNumber(),this.file.seek(4,!0)}_readInitialFill(){this.initialFill=this.file.readShort(),this.file.seek(22,!0)}}class tX extends Ue{static shouldParse(t){return t==="vmsk"||t==="vsms"}constructor(t,n){super(t,n),this.invert=null,this.notLink=null,this.disable=null,this.paths=[]}parse(){this.file.seek(4,!0);const t=this.file.readInt();this.invert=(t&1)>0,this.notLink=(t&2)>0,this.disable=(t&4)>0;const n=(this.length-10)/26;for(let r=0;r<n;r++){const i=new Kp(this.file);i.parse(),this.paths.push(i)}}export(){return{invert:this.invert,notLink:this.notLink,disable:this.disable,paths:this.paths.map(t=>t.export())}}}class nX extends Ue{static shouldParse(t){return t==="vogk"}parse(){return this.file.seek(8,!0),this.data=new kt(this.file).parse(),this.data}}class rX extends Ue{static shouldParse(t){return t==="vstk"}parse(){return this.file.seek(4,!0),this.data=new kt(this.file).parse(),this.data}}class iX extends Ue{static shouldParse(t){return t==="vscg"}parse(){return this.file.seek(8,!0),this.data=new kt(this.file).parse(),this.data}}class sX extends Ue{static shouldParse(t){return t==="PlLd"}constructor(t,n){super(t,n),this.Trnf=[]}parse(){this.identifier=this.file.readString(this.file.readByte()),this.version=this.file.readInt();const t=rn.pad2(this.file.readByte());return this.Idnt=this.file.readString(t),this.PgNm=this.file.parseInt(),this.totalPages=this.file.parseInt(),this.Annt=this.file.readInt(),this.Type=this.file.readInt(),this.parseTransformInfo(),this.warpValue=this.file.readInt(),this.file.seek(4,!0),this.warpData=new kt(this.file).parse(),this}parseTransformInfo(){for(let n=0;n<8;n++)this.Trnf.push(this.file.readDouble())}}class jC extends Ue{static shouldParse(t){return t==="lnk2"}constructor(t,n){super(t,n)}parse(){const t=this.file.tell()+this.length;for(this.files=[];this.file.tell()<t;){const n={};this.file.seek(4,!0);const i=1+rn.pad4(this.file.readInt())+this.file.tell(),o=this.file.readString(4),p=this.file.readInt();n.uuid=this.file.readString(this.file.readByte()),n.fileName=this.file.readUnicodeString(),n.fileType=this.file.readString(4),n.creator=this.file.readString(4),this.file.seek(4,!0),n.datasize=this.file.readInt(),n.openFile=this.file.readBoolean(),n.openFile===!0&&(this.file.seek(4,!0),n.openFile=new kt(this.file).parse()),o==="liFD"&&(n.fileData=this.file.read(n.datasize)),p>=5&&(n.childId=this.file.readUnicodeString()),p>=6&&(n.modTime=this.file.readDouble()),p>=7&&(n.lockedState=this.file.readBoolean()),this.files.push(n),this.file.seek(i)}return this.file.seek(t),this.files}}class oX extends Ue{static shouldParse(t){return t==="SoLd"}constructor(t,n){super(t,n)}parse(){return this.identifier=this.file.readString(this.file.readByte()),this.version=this.file.readInt(),this.file.seek(4,!0),this.data=new kt(this.file).parse(),this}}class aX extends Ue{constructor(t,n){super(t,n),this.pos=this.file.tell()}static shouldParse(t){return t==="expA"}parse(){const t=this.file.tell();return this.file.seek(this.pos),this.version=this.file.readShort(),this.exposure=this.file.readFloat(),this.offset=this.file.readFloat(),this.gamma=this.file.readFloat(),this.file.seek(t),{version:this.version,exposure:this.exposure,offset:this.offset,gamma:this.gamma}}}class lX extends Ue{static shouldParse(t){return t==="PtFl"}parse(){this.data=":PtFl"}}class cX extends Ue{static shouldParse(t){return t==="brit"}parse(){this.data=":brit"}}class uX extends Ue{static shouldParse(t){return t==="levl"}parse(){this.data=":levl"}}class fX extends Ue{static shouldParse(t){return t==="curv"}parse(){this.data=":curv"}}class hX extends Ue{static shouldParse(t){return t==="hue2"}parse(){this.data=":hue2"}}class dX extends Ue{static shouldParse(t){return t==="blnc"}parse(){this.data=":blnc"}}class pX extends Ue{static shouldParse(t){return t==="blwh"}parse(){this.data=":blwh"}}class gX extends Ue{static shouldParse(t){return t==="phfl"}parse(){this.data=":phfl"}}class vX extends Ue{static shouldParse(t){return t==="clrL"}parse(){this.data=":clrL"}}class mX extends Ue{static shouldParse(t){return t==="nvrt"}parse(){this.data=":nvrt"}}class yX extends Ue{static shouldParse(t){return t==="thrs"}parse(){this.data=":thrs"}}class _X extends Ue{static shouldParse(t){return t==="grdm"}parse(){this.data=":grdm"}}class bX extends Ue{static shouldParse(t){return t==="selc"}parse(){this.data=":selc"}}class wX extends Ue{static shouldParse(t){return t==="SoCo"}constructor(t,n){super(t,n),this.r=this.g=this.b=0}parse(){this.file.seek(4,!0),this.data=new kt(this.file).parse(),this.r=Math.round(this.colorData()["Rd  "]),this.g=Math.round(this.colorData()["Grn "]),this.b=Math.round(this.colorData()["Bl  "])}colorData(){return this.data["Clr "]}color(){return[this.r,this.g,this.b]}}let CX=class extends Ue{static shouldParse(t){return t==="mixr"}parse(){this.data=":mixr"}};class SX extends Ue{static shouldParse(t){return t==="post"}parse(){this.file.seek(4,!0),this.data=":post"}}class xX extends Ue{static shouldParse(t){return t==="vibA"}parse(){this.data=":vibA"}}const Oy={artboard:CG,blendClippingElements:SG,blendInteriorElements:xG,fillOpacity:TG,gradientFill:EG,layerId:OG,layerNameSource:kG,legacyTypetool:GG,locked:XG,metadata:KG,name:qG,nestedSectionDivider:JG,objectEffects:ZG,sectionDivider:eX,typeTool:$C,vectorMask:tX,vectorOrigination:nX,vectorStroke:rX,vectorStrokeContent:iX,placedLayer:sX,linkedLayer:jC,smartObject:oX,exposure:aX,pattern:lX,brightnessContrast:cX,levels:uX,curves:fX,hue2:hX,colorBalance:dX,blackWhite:pX,photoFilter:gX,colorLookup:vX,invert:mX,threshold:yX,gradientMap:_X,selectiveColor:bX,solidColor:wX,channelMixer:CX,posterize:SX,vibrance:xX},TX=["LMsk","Lr16","Lr32","Layr","Mt16","Mt32","Mtrn","Alph","FMsk","Ink2","FEid","FXid","PxSD"];function EX(){for(;this.file.tell()<this.layerEnd;){this.file.seek(4,!0);const e=this.file.readString(4);let t;if(this.header.version===2&&TX.includes(e)?t=rn.pad2(this.file.readLongLong()):t=rn.pad2(this.file.readInt()),this.file.tell(),t<=0)continue;let n=!1;for(const r in Oy){const i=Oy[r];if(!i.shouldParse(e))continue;const o=new i(this,t);if(this.externalFiles&&e==="lnk2"){this.externalFiles.push(o.parse());break}this.adjustments[r]=new Yp(o,this.file).now("skip").later("parse").get(),this[r]==null&&(this[r]=()=>this.adjustments[r]),this.infoKeys.push(e),n=!0;break}n||this.file.seek(t,!0)}}const OX={norm:"normal",dark:"darken",lite:"lighten",hue:"hue",sat:"saturation",colr:"color",lum:"luminosity",mul:"multiply",scrn:"screen",diss:"dissolve",over:"overlay",hLit:"hard_light",sLit:"soft_light",diff:"difference",smud:"exclusion",div:"color_dodge",idiv:"color_burn",lbrn:"linear_burn",lddg:"linear_dodge",vLit:"vivid_light",lLit:"linear_light",pLit:"pin_light",hMix:"hard_mix",pass:"passthru",dkCl:"darker_color",lgCl:"lighter_color",fsub:"subtract",fdiv:"divide"};class kX{constructor(t){this.file=t,this.blendKey=null,this.opacity=null,this.clipping=null,this.clipped=null,this.flags=null,this.blendingMode=null,this.visible=null}parse(){this.file.seek(4,!0),this.blendKey=this.file.readString(4).trim(),this.opacity=this.file.readByte(),this.clipping=this.file.readByte(),this.flags=this.file.readByte(),this.blendingMode=OX[this.blendKey],this.clipped=this.clipping===1,this.visible=!((this.flags&2)>0),this.file.seek(1,!0)}get mode(){return console.warn("mode is deprecated, use blendingMode instead."),this.blendingMode}opacityPercentage(){return this.opacity*100/255}}class PX{constructor(t,n){this.file=t,this.hasRealUserSuppliedLayerMask=n,this.top=0,this.right=0,this.bottom=0,this.left=0}parse(){if(this.size=this.file.readInt(),this.size===0)return this;const t=this.file.tell()+this.size;if(this.top=this.file.readInt(),this.left=this.file.readInt(),this.bottom=this.file.readInt(),this.right=this.file.readInt(),this.defaultColor=this.file.readByte(),this.flags=this.file.readByte(),this.relative=(this.flags>>0&1)===0,this.isEnabled=(this.flags>>1&1)===0,this.disabled=!this.isEnabled,this.invert=(this.flags>>3&1)===1,this.hasParam=this.flags>>4&1,this.external=this.hasParam,this.hasParam){let n=255,r=0,i=255,o=0;this.hasRealUserSuppliedLayerMask&&this.readRealUserSuppliedLayerMask();const p=this.file.tell(),a=this.file.readByte();a>>0&1&&(n=this.file.readByte()),a>>1&1&&(r=this.file.readDouble()),a>>2&1&&(i=this.file.readByte()),a>>3&1&&(o=this.file.readDouble()),(this.file.tell()-p&1)===1&&this.file.readByte(),this.maskParameters=[n,r,i,o]}else this.size===20?this.file.seek(2,!0):this.readRealUserSuppliedLayerMask();return this.width=this.right-this.left,this.height=this.bottom-this.top,this.file.seek(t),this}readRealUserSuppliedLayerMask(){const t=this.file.readByte(),n=this.file.readByte(),r=this.file.readInt(),i=this.file.readInt(),o=this.file.readInt(),p=this.file.readInt(),a=p-i,s=o-r;this.vmask={relative:(t>>0&1)===0,isEnabled:(t>>1&1)===0,invert:(t>>3&1)===1,hasParam:t>>4&1,color:n,top:r,left:i,bottom:o,right:p,width:a,height:s}}export(){return this.size===0?{}:{top:this.top,left:this.left,bottom:this.bottom,right:this.right,width:this.width,height:this.height,defaultColor:this.defaultColor,relative:this.relative,disabled:this.disabled,invert:this.invert,padding:this.padding,external:this.external}}}class AX extends Wp{constructor(t,n,r){super(t,n,r),this.layer=r,this._width=this.layer.width,this._height=this.layer.height,this.width=function(){return this._width},this.height=function(){return this._height},this.channelsInfo=this.layer.channelsInfo,this.hasMask=this.channelsInfo.some(i=>i.id<-1),this.opacity=this.layer.opacity/255}skip(){const t=this.channelsInfo,n=t.length;for(let r=0;r<n;r++){const i=t[r];this.file.seek(i.length,!0)}}channels(){return this.layer.channels}parse(){var t;this.chanPos=0;const n=this.channelsInfo,r=n.length;for(let i=0;i<r;i++){const o=n[i];if(o.length<=0){this.parseCompression();continue}if(this.chan=o,o.id<-1){if(this._width=this.layer.mask.width,this._height=this.layer.mask.height,o.id===-2){const{width:s,height:h}=this.layer.mask;if(!s||!h)throw new Error("Incorrect layer mask size");this._width=s,this._height=h}if(o.id===-3){const{width:s,height:h}=(t=this.layer.mask)==null?void 0:t.vmask;if(!s||!h)throw new Error("Incorrect vector mask size");this._width=s,this._height=h}}else this._width=this.layer.width,this._height=this.layer.height;this.length=this._width*this._height;const p=this.file.tell();this.parseImageData(),this.file.tell()!==p+this.chan.length&&this.file.seek(p+this.chan.length)}this._width=this.layer.width,this._height=this.layer.height,this.processImageData()}parseImageData(){switch(this.compression=this.parseCompression(),this.compression){case 0:this.parseRaw();break;case 1:this.parseRLE();break;case 2:case 3:this.parseZip();break;default:this.file.seek(this.endPos)}}parseRaw(){const t=this.chanPos+this.chan.length-2;for(let n=this.chanPos;n<t;n++)this.channelData[n]=this.file.readByte();this.chanPos+=this.chan.length-2}parseByteCounts(){const t=this.height(),n=[];for(let r=0;r<t;r++)this.header.version===1?n.push(this.file.readShort()):n.push(this.file.readInt());return n}parseChannelData(){this.lineIndex=0,this.decodeRLEChannel()}}let IX=class{constructor(t,n){this.file=t,this.header=n,this.mask={},this.blendingRanges={},this.adjustments={},this.channelsInfo=[],this.blendMode={},this.groupLayer=null,this.infoKeys=[],Object.defineProperty(this,"name",{get:function(){return this.adjustments.name!=null?this.adjustments.name.data:this.legacyName}})}parse(){this.parsePositionAndChannels(),this.parseBlendModes();const t=this.file.readInt();return this.layerEnd=this.file.tell()+t,this.hasRealUserSuppliedLayerMask=this.channelsInfo.some(n=>n.id===-3),this.parseMaskData(),this.parseBlendingRanges(),this.parseLegacyLayerName(),this.parseLayerInfo(),this.file.seek(this.layerEnd),this}export(){return{name:this.name,top:this.top,right:this.right,bottom:this.bottom,left:this.left,width:this.width,height:this.height,opacity:this.opacity,visible:this.visible,clipped:this.clipped,mask:this.mask.export()}}parsePositionAndChannels(){this.top=this.file.readInt(),this.left=this.file.readInt(),this.bottom=this.file.readInt(),this.right=this.file.readInt(),this.channels=this.file.readShort(),this.rows=this.height=this.bottom-this.top,this.cols=this.width=this.right-this.left;for(let t=0;t<this.channels;t++){const n=this.file.readShort();let r;this.header.version===1?r=this.file.readInt():r=this.file.readLongLong(),this.channelsInfo.push({id:n,length:r})}}parseBlendModes(){this.blendMode=new kX(this.file),this.blendMode.parse(),this.opacity=this.blendMode.opacity,this.visible=this.blendMode.visible,this.clipped=this.blendMode.clipped}hidden(){return!this.visible}blendingMode(){return this.blendMode.blendingMode}parseMaskData(){return this.mask=new PX(this.file,this.hasRealUserSuppliedLayerMask),this.mask.parse(),this.mask}parseBlendingRanges(){const t=this.file.readInt();if(t===0)return;this.blendingRanges.grey={source:{black:[this.file.readByte(),this.file.readByte()],white:[this.file.readByte(),this.file.readByte()]},dest:{black:[this.file.readByte(),this.file.readByte()],white:[this.file.readByte(),this.file.readByte()]}};const n=(t-8)/8;this.blendingRanges.channels=[];for(let r=0;r<n;r++)this.blendingRanges.channels.push({source:{black:[this.file.readByte(),this.file.readByte()],white:[this.file.readByte(),this.file.readByte()]},dest:{black:[this.file.readByte(),this.file.readByte()],white:[this.file.readByte(),this.file.readByte()]}})}parseLegacyLayerName(){const t=rn.pad4(this.file.readByte());return this.legacyName=this.file.readString(t),this.legacyName}parseLayerInfo(){EX.call(this)}isFolder(){return this.adjustments.sectionDivider!=null?this.adjustments.sectionDivider.isFolder:this.adjustments.nestedSectionDivider!=null?this.adjustments.nestedSectionDivider.isFolder:this.name==="<Layer group>"}isFolderEnd(){return this.adjustments.sectionDivider!=null?this.adjustments.sectionDivider.isHidden:this.adjustments.nestedSectionDivider!=null?this.adjustments.nestedSectionDivider.isHidden:this.name==="</Layer group>"}parseChannelImage(){const t=new AX(this.file,this.header,this);this.image=new Yp(t,this.file).now("skip").later("parse").get()}};class RX extends Ue{static shouldParse(t){return t==="pths"}parse(){return this.file.seek(4),this.data=new kt(this.file).parse(),this}}function xs(e){return e===9||e===10||e===32}function MX(e,t,n){const r=[];let i="";for(;t<n;){const o=e[t++];o===92?r.push(e[t++]):r.push(o)}for(let o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]<<8|r[o+1]);return i}function Fh(e,t,n){let r="";for(let i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r}function DX(e,t,n){for(;e[n]!==60;)n++,console.log("ipka");return n+=2,n=zC(e,t,n),n}function NC(e,t,n){const r=t,i={type:"",size:0,value:0};for(;xs(e[t]);)t++;if(e[t]===60)i.type="Object",i.value={},t=DX(e,i.value,t);else if(e[t]===40)if(i.type="String",t++,e[t]===41)i.value="e",t++;else{t+=2;let o=t;for(;!(e[o]===41&&e[o-1]!==92);)o+=1;i.value="s"+MX(e,t,o),t=o+2}else if(e[t]===91){for(t++,i.value=[],i.type="Array";xs(e[t]);)t++;for(;e[t]!==93;){const o=NC(e,t);if(o===-1)return-1;for(i.value.push(o.value),t+=o.size,delete o.size;xs(e[t]);)t++}t++}else{let o=t;for(;!xs(e[o]);)o++;const p=Fh(e,t,o-t),a=parseFloat(p);if(!isNaN(a)&&p.indexOf(".")!==-1)i.type="Float",i.value="f"+parseFloat(p);else if(!isNaN(a)&&p.indexOf(".")===-1)i.type="Integer",i.value="i"+parseInt(p);else if(p==="true"||p==="false")i.type="Boolean",i.value=p==="true";else if(p.charAt(0)==="/")i.type="BString",i.value=p;else if(p==="NaN"||p==="undefined")i.type="Float",i.value="f0";else throw console.log("unknown value",JSON.stringify(p)),"e";t=o+1}return i.size=t-r,i}function zC(e,t,n){for(;;){for(;xs(e[n])||e[n]===0;)n++;if(n>=e.length)break;if(e[n]===47){n++;let r=n;for(;!xs(e[r]);)r++;const i=Fh(e,n,r-n);n=r+1;const o=NC(e,n);t["_"+i]=o.value,n+=o.size}else if(e[n]===62){n+=2;break}else{const r=e[n];throw console.log(Fh(e,n,n+100)),console.log("unknown byte: "+r+", char: "+String.fromCharCode(r)+", offset: "+n),n++,"e"}}return n}function FX(e){const t={};return zC(e,t,0),t}const wf={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]},qp={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,wf],_StrokeColor:[54,wf],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,wf],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]},HC={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,qp],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]},ky={_Name:[0],_Features:[5,HC],_Parent:[6],_UUID:[97]},Py={_Name:[0],_Parent:[5],_Features:[6,qp],_UUID:[97]},LX={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,Py]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,ky]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_2:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_7:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,ky]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,Py]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,qp],_OriginalNormalParagraphFeatures:[3,HC]}]},Lh=function(e,t,n){let r;if(typeof e=="string")return e;if(e instanceof Array){r=[];for(let i=0;i<e.length;i++)r[i]=Lh(e[i],t)}else{r={};const i={};for(const o in t){const p=t[o],a="_"+p[0];e[a]!=null&&(r[o]=p[1]?Lh(e[a],p[1]):e[a],i[a]=!0)}for(const o in e)if(i[o]==null){if(o.length>3)continue;throw console.log(t,i),console.log(o,e),"e"}}return r};function BX(e){return Lh(e,LX)}class $X extends Ue{static shouldParse(t){return t==="Txt2"}constructor(t,n){super(t,n),this.textEngineData=null}parse(){const t=this.file.read(this.length),n=FX(t);this.textEngineData=BX(n)}export(){return{textEngineData:this.textEngineData}}}class jX extends Ue{static shouldParse(t){return t==="FMsk"}constructor(t,n){super(t,n)}parse(){this.color=this.file.readSpaceColor(),this.opacity=this.file.readShort()}}class NX extends Ue{static shouldParse(t){return["Patt","Pat2","Pat3"].includes(t)}constructor(t,n){super(t,n),this.length=n,this.patterns={}}readVirtualMemoryArrayList(){const{file:t}=this;t.seek(4,!0);const n=t.readInt()+t.tell(),r={top:t.readInt(),left:t.readInt(),bottom:t.readInt(),right:t.readInt(),channels:t.readInt(),data:[]};r.width=r.right-r.left,r.height=r.bottom-r.top;for(let i=0;i<r.channels+2;i++){let o=0,p=0;if(!t.readInt())continue;const a=t.readInt(),s=a+t.tell();if(t.readInt(),t.readInt(),t.readInt(),t.readInt(),t.readInt(),t.readShort(),t.readByte()){const u=[];r.data[i]=new Uint8Array(r.width*r.height);for(let l=0;l<r.height;l++)u.push(t.readShort());for(let l=0;l<r.height;l++){const f=t.tell()+u[o+l];for(;t.tell()<f;){let c=t.read(1)[0];if(c<128){c+=1;const d=t.read(c);r.data[i].set(d,p),p+=c}else if(c>128){c^=255,c+=2;const d=t.read(1)[0];r.data[i].fill(d,p,p+c),p+=c}}}o+=r.height}else r.data[i]=new Uint8Array(t.read(a-23));t.seek(s)}return t.seek(n),r}readPattern(){const t=this.file,r=(t.readInt()+3&-4)+t.tell();t.readInt();const i=t.readInt(),o=[t.readShort(),t.readShort()],p={name:t.readUnicodeString(),id:t.readString(t.readByte()),mode:i,palette:[],width:o[1],height:o[0]};i===2&&(p.palette=t.read(256*3),t.seek(4,!0)),p.data=this.readVirtualMemoryArrayList(),this.patterns[p.id]=p,t.seek(r)}parse(){const t=this.file,n=this.length+t.tell();for(;t.tell()<n;)this.readPattern();t.seek(n)}}const Ay={linkedLayer:jC,unicodePath:RX,textEngineData:$X,filterMask:jX,patternsData:NX};class zX{constructor(t,n){this.file=t,this.header=n,this.layers=[],this.mergedAlpha=!1,this.globalMask=null,this.infoKeys=[],this.adjustments={},this.obj=this}skip(){this.file.seek(this.file.readInt(),!0)}parse(){let t;this.header.version===1?t=this.file.readInt():t=this.file.readLongLong(),this.layerEnd=t+this.file.tell(),!(t<=0)&&(this.parseLayers(),this.parseGlobalMask(),this.layers.reverse(),this.parseAdditionalLayerInformation(),this.assignGlobalEngineData(),this.file.seek(this.layerEnd))}parseLayers(){let t;this.header.version===1?t=rn.pad2(this.file.readInt()):t=rn.pad2(this.file.readLongLong());const n=this.file.tell()+t;if(t>0){let r=this.file.readShort();r<0&&(r=Math.abs(r),this.mergedAlpha=!0);for(let o=0;o<r;o++){const p=new IX(this.file,this.header);p.parse(),this.layers.push(p)}const i=this.layers.length;for(let o=0;o<i;o++)this.layers[o].parseChannelImage()}this.file.seek(n)}parseGlobalMask(){const t=this.file.readInt();if(t<=0)return;const n=rn.pad2(this.file.tell()+t),r={};r.overlayColorSpace=this.file.readShort(),r.colorComponents=[this.file.readShort()>>8,this.file.readShort()>>8,this.file.readShort()>>8,this.file.readShort()>>8],r.opacity=this.file.readShort()/16,r.kind=this.file.readByte(),this.globalMask=r,this.file.seek(n)}parseAdditionalLayerInformation(){for(;this.file.tell()<this.layerEnd;){this.file.seek(4,!0);const t=this.file.readString(4),n=rn.pad2(this.file.readInt());if(this.file.tell(),n<=0)continue;let r=!1;for(const i in Ay){const o=Ay[i];if(!o.shouldParse(t))continue;const p=new o(this,n);this.adjustments[i]=new Yp(p,this.file).now("skip").later("parse").get(),this[i]==null&&(this[i]=()=>this.adjustments[i]),this.infoKeys.push(t),r=!0;break}r||this.file.seek(n,!0)}}assignGlobalEngineData(){var t,n,r,i;const o=(n=(t=this.adjustments)==null?void 0:t.textEngineData)==null?void 0:n.textEngineData,p=(i=(r=o?._DocumentResources)==null?void 0:r._TextFrameSet)==null?void 0:i._Resources;if(!p||!this.layers.length)return;let a=p.length-1;this.layers.forEach(s=>{var h,u;const l=(u=(h=s.adjustments)==null?void 0:h.typeTool)==null?void 0:u.engineData;l&&(l.curve=p[a--])})}parseLayerInfo(){throw new Error("layerMask.parseLayerInfo is not implemented")}}class Jp{constructor(t){this.resource=t,this.file=this.resource.file,this.start=this.file.pos,this.end=this.start+this.resource.length}parse(){return this.data=this.file.data.subarray(this.start,this.end),this.data}}Jp.prototype.id=1039;Jp.prototype.name="icc profile";class Zp{static visibilityCaptured(t){return t.capturedInfo&parseInt("001",2)>0}static positionCaptured(t){return t.positionCaptured&parseInt("010",2)>0}static appearanceCaptured(t){return t.appearanceCaptured&parseInt("100",2)>0}constructor(t){this.resource=t,this.file=this.resource.file}parse(){return this.file.seek(4,!0),this.data=new kt(this.file).parse(),this.data}names(){return this.data.list.map(t=>t["Nm  "])}export(){return this.data.list.map(t=>({id:t.compID,name:t["Nm  "],capturedInfo:t.capturedInfo}))}}Zp.prototype.id=1065;Zp.prototype.name="layerComps";let Qp=class{constructor(t){this.resource=t,this.file=this.resource.file}parse(){return this.angle=this.file.readInt(),this.angle}};Qp.prototype.id=1037;Qp.prototype.name="globalLightAngle";class eg{constructor(t){this.resource=t,this.file=this.resource.file}parse(){return this.altitude=this.file.readInt(),this.altitude}}eg.prototype.id=1049;eg.prototype.name="globalLightAngle";class tg{constructor(t){this.resource=t,this.file=this.resource.file}parse(){return this.file.seek(4,!0),this.data=new kt(this.file).parse(),this.data}}tg.prototype.id=3e3;tg.prototype.name="originPathInfo";class ng{constructor(t){this.resource=t,this.file=this.resource.file}parse(){return this.file.seek(4,!0),this.data=new kt(this.file).parse(),this.data}}ng.prototype.id=1088;ng.prototype.name="pathSelection";class rg{constructor(t){this.resource=t,this.file=this.resource.file,this.paths=[]}parse(){const t=this.resource.length/26;for(let n=0;n<t;n++){const r=new Kp(this.file);r.parse(),this.paths.push(r)}}export(){return this.paths}}rg.prototype.id=2e3;rg.prototype.name="path";class ig{constructor(t){this.resource=t,this.file=this.resource.file}parse(){this.format=this.file.readString(4),this.width=this.file.readInt(),this.height=this.file.readInt(),this.widthBytes=this.file.readInt(),this.totalSize=this.file.readInt(),this.compressedSize=this.file.readInt(),this.bitsPerPixel=this.file.readShort(),this.numberOfPlanes=this.file.readShort(),this.jfif=this.file.read(this.compressedSize),this.binaryString=String.fromCharCode.apply(null,this.jfif)}}ig.prototype.id=1036;ig.prototype.name="thumbnail";class sg{constructor(t){this.resource=t,this.file=this.resource.file,this.linkArray=[]}parse(){const t=this.file.tell()+this.resource.length;for(;t>this.file.tell();)this.linkArray.push(this.file.readShort());return this.linkArray.reverse(),this.linkArray}}sg.prototype.id=1026;sg.prototype.name="LinkLayers";class og{constructor(t){this.resource=t,this.file=this.resource.file}parse(){return this.h_res=this.file.readUInt()/65536,this.h_res_unit=this.file.readUShort(),this.width_unit=this.file.readUShort(),this.v_res=this.file.readUInt()/65536,this.v_res_unit=this.file.readUShort(),this.height_unit=this.file.readUShort(),this.resource.data={h_res:this.h_res,h_res_unit:this.h_res_unit,width_unit:this.width_unit,v_res:this.v_res,v_res_unit:this.v_res_unit,height_unit:this.height_unit},this.resource.data}export(){const t={},n=["h_res","h_res_unit","width_unit","v_res","v_res_unit","height_unit"],r=n.length;for(let i=0;i<r;i++){const o=n[i];t[o]=this[o]}return t}}og.prototype.id=1005;og.prototype.name="resolutionInfo";class ag{constructor(t){this.resource=t,this.file=this.resource.file,this.data=[]}parse(){this.file.seek(4,!0),this.file.seek(8,!0);const t=this.file.readInt();for(let n=0;n<t;n++){const r=(this.file.readInt()/32).toFixed(1),i=this.file.readByte()?"horizontal":"vertical";this.data.push({location:r,direction:i})}}export(){return this.data}}ag.prototype.id=1032;ag.prototype.name="guides";class lg{constructor(t){this.resource=t,this.file=this.resource.file}parse(){return this.xmp=this.file.read(this.resource.length),this.xmp}}lg.prototype.id=1060;lg.prototype.name="xmp";class cg{constructor(t){this.resource=t,this.file=this.resource.file}parse(){this.file.seek(4,!0),this.data=new kt(this.file).parse()}}cg.prototype.id=1075;cg.prototype.name="timeline";class ug{constructor(t){this.resource=t,this.file=this.resource.file,this.paths=[]}parse(){const t=(this.resource.length-10)/26;for(let n=0;n<t;n++){const r=new Kp(this.file);r.parse(),this.paths.push(r)}}}ug.prototype.id=1025;ug.prototype.name="WorkingPath";const Iy=[Jp,Zp,Qp,eg,tg,ng,rg,ig,sg,og,ag,lg,cg,ug];class HX{static factory(t){const n=Iy.length;for(let r=0;r<n;r++){const i=Iy[r];if(i.prototype.id===t.id||t.id>=2e3&&t.id<2998&&i.prototype.id===2e3){const o=new i(t);return o.parse(),o}}return null}}class Bh{constructor(t){this.file=t,this.id=null,this.type=null,this.length=0}parse(){this.type=this.file.readString(4),this.id=this.file.readShort();const t=rn.pad2(this.file.readByte()+1)-1;this.name=this.file.readString(t),this.length=rn.pad2(this.file.readInt())}}Bh.Section=HX;class UX{constructor(t){this.file=t,this.resources={},this.typeIndex={},this.length=null}skip(){this.length=this.file.readInt(),this.file.seek(this.length,!0)}parse(){this.length=this.file.readInt();const t=this.length+this.file.tell();for(;this.file.tell()<t;){const n=new Bh(this.file);n.parse();const r=this.file.tell()+n.length,i=Bh.Section.factory(n);if(i==null){this.file.seek(r);continue}this.resources[i.id]=i,i.name!=null&&(this.typeIndex[i.name]=i.id),this.file.seek(r)}this.file.seek(t)}resource(t){return typeof t=="string"?this.byType(t):this.resources[t]}byType(t){return this.resources[this.typeIndex[t]]}load(){console.warn("Need not to call load() since version 3.6.6")}}class Yi{constructor(t,n){ou(this,"type","node"),this.parent=n,this.layer=t,this.layer.node=this,this._children=[],this.name=this.layer.name,this.forceVisible=null,this.coords={top:this.layer.top,bottom:this.layer.bottom,left:this.layer.left,right:this.layer.right},this.topOffset=0,this.leftOffset=0,this.createProperties()}createProperties(){return Object.defineProperty(this,"top",{get:function(){return this.coords.top+this.topOffset},set:function(t){return this.coords.top=t}}),Object.defineProperty(this,"right",{get:function(){return this.coords.right+this.leftOffset},set:function(t){return this.coords.right=t}}),Object.defineProperty(this,"bottom",{get:function(){return this.coords.bottom+this.topOffset},set:function(t){return this.coords.bottom=t}}),Object.defineProperty(this,"left",{get:function(){return this.coords.left+this.leftOffset},set:function(t){return this.coords.left=t}}),Object.defineProperty(this,"width",{get:function(){return this.right-this.left}}),Object.defineProperty(this,"height",{get:function(){return this.bottom-this.top}})}get(t){const n=this[t]!=null?this[t]:this.layer[t];return typeof n=="function"?n():n}visible(){return this.layer.clipped&&!this.clippingMask().visible()?!1:this.forceVisible!=null?this.forceVisible:this.layer.visible}hidden(){return!this.visible()}isLayer(){return this.type==="layer"}isGroup(){return this.type==="group"}isRoot(){return this.type==="root"}clippingMask(){if(!this.layer.clipped)return null;if(!this.clippingMaskCached){let t=this.nextSibling();for(;t.clipped;)t=t.nextSibling();this.clippingMaskCached=t}return this.clippingMaskCached}clippedBy(){return this.clippingMask()}export(){const t={type:null,visible:this.visible(),opacity:this.layer.opacity/255,blendingMode:this.layer.blendingMode()},n=Yi.PROPERTIES,r=n.length;for(let i=0;i<r;i++){const o=n[i];t[o]=this[o]}return t}updateDimensions(){if(this.isLayer())return;const t=this._children,n=t.length;for(let i=0;i<n;i++)t[i].updateDimensions();if(this.isRoot())return;const r=this._children.filter(i=>!i.isEmpty());this.left=Math.min.call(null,r.map(i=>i.left))||0,this.top=Math.min.call(null,r.map(i=>i.top))||0,this.bottom=Math.max.call(null,r.map(i=>i.bottom))||0,this.right=Math.max.call(null,r.map(i=>i.right))||0}root(){return this.isRoot()?this:this.parent.root()}children(){return this._children}ancestors(){return this.parent==null||this.parent.isRoot()?[]:this.parent.ancestors().concat([this.parent])}hasChildren(){return this._children.length>0}childless(){return!this.hasChildren()}siblings(){return this.parent==null?[]:this.parent.children()}nextSibling(){if(this.parent==null)return null;const t=this.siblings().indexOf(this);return this.siblings()[t+1]}prevSibling(){if(this.parent==null)return null;const t=this.siblings().indexOf(this);return this.siblings()[t-1]}hasSiblings(){return this.siblings().length>1}onlyChild(){return!this.hasSiblings()}descendants(){return this._children.map(t=>t.subtree()).flat()}subtree(){return[this].concat(this.descendants())}depth(){return this.ancestors().length+1}path(t=!1){const n=this.ancestors().map(function(r){return r.name}).concat([this.name]);return t?n:n.join("/")}toPng(){return this.layer.image.toPng()}saveAsPng(t){return this.layer.image.saveAsPng(t)}childrenAtPath(t,n={}){Array.isArray(t)||(t=t.split("/").filter(o=>o.length>0)),t=[...t];const r=t.shift(),i=this.children().filter(function(o){return n.caseSensitive?o.name===r:o.name.toLowerCase()===r.toLowerCase()});return t.length===0?i:i.map(o=>o.childrenAtPath([...t],n)).flat()}}Yi.PROPERTIES=["name","left","right","top","bottom","height","width"];class VX extends Yi{constructor(){super(...arguments),ou(this,"type","group")}passthruBlending(){return this.get("blendingMode")==="passthru"}isEmpty(){const t=this._children,n=t.length;for(let r=0;r<n;r++)if(!t[r].isEmpty())return!1;return!0}export(){const t=super.export();return t.type="group",t.children=this._children.map(function(n){return n.export()}),t}}class WX extends Yi{constructor(){super(...arguments),ou(this,"type","layer")}hasMask(){if(!this.layer.adjustments)return!1;const t=this.layer.adjustments.vectorMask,n=this.layer.adjustments.vectorStroke;return t||n}isEmpty(){return(this.width===0||this.height===0)&&!this.hasMask()}export(){const t=this.get("typeTool"),n=super.export();return n.type="layer",n.mask=this.layer.mask.export(),n.text=t?t.export():void 0,n.image={},n}}class fg extends Yi{constructor(t){super(fg.layerForPsd(t)),ou(this,"type","root"),this.psd=t,this.buildHierarchy()}static layerForPsd(t){const n={},r=Yi.PROPERTIES,i=r.length;for(let o=0;o<i;o++){const p=r[o];n[p]=null}return n.top=0,n.left=0,n.right=t.header.width,n.bottom=t.header.height,n}documentDimensions(){return[this.width,this.height]}depth(){return 0}opacity(){return 255}fillOpacity(){return 255}export(){const t=this.psd.resources.resource("layerComps"),n=this.psd.resources.resource("resolutionInfo"),r=this.psd.resources.resource("guides");return{children:this._children.map(i=>i.export()),document:{width:this.width,height:this.height,resources:{layerComps:t?t.export():[],resolutionInfo:n?n.export():[],guides:r?r.export():null,slices:[]}}}}buildHierarchy(){let t=this;const n=[],r=this.psd.layers,i=r.length;for(let o=0;o<i;o++){const p=r[o];if(p.isFolder()){n.push(t);const a=n[n.length-1];t=new VX(p,a)}else if(p.isFolderEnd()&&n.length){const a=n.pop();a.children().push(t),t=a}else t.children().push(new WX(p,t))}this.updateDimensions()}}const YX={extended:function(e){e.fromURL=function(t){return new Promise(function(n,r){const i=new XMLHttpRequest;return i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){const o=new Uint8Array(i.response||i.mozResponseArrayBuffer);try{const p=new e(o);p.parse(),n(p)}catch(p){return r(p)}},i.send(null)})},e.fromEvent=function(t){return new Promise(function(n,r){const i=t.dataTransfer.files[0],o=new FileReader;return o.onload=function(p){try{const a=new e(new Uint8Array(p.target.result));a.parse(),n(a)}catch(a){r(a)}},o.onerror=r,o.readAsArrayBuffer(i)})},e.fromDroppedFile=function(t){return new Promise(function(n,r){const i=new FileReader;i.onload=function(o){try{const p=new e(new Uint8Array(o.target.result));p.parse(),n(p)}catch(p){r(p)}},i.onerror=r,i.readAsArrayBuffer(t)})}}};class Wa{constructor(t){this.file=new vG(t),this.parsed=!1,this.header=null,Object.defineProperty(this,"layers",{get:function(){return this.layerMask.layers}})}parse(){this.parsed||(this.parseHeader(),this.parseResources(),this.parseLayerMask(),this.parseImage(),this.parsed=!0)}parseHeader(){this.header=new yG(this.file),this.header.parse()}parseResources(){const t=new UX(this.file);t.parse(),this.resources=t}parseLayerMask(){const t=new zX(this.file,this.header);t.parse(),this.layerMask=t}parseImage(){const t=new Wp(this.file,this.header);t.parse(),this.image=t}tree(){return new Wa.Node.Root(this)}setColorConverters(){Rh.setColorConverters(...arguments)}}Wa.Node={Root:fg};YX.extended(Wa);var UC={},lu={};lu.byteLength=KX;lu.toByteArray=JX;lu.fromByteArray=eK;var hr=[],kn=[],GX=typeof Uint8Array<"u"?Uint8Array:Array,Cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ys=0,XX=Cf.length;ys<XX;++ys)hr[ys]=Cf[ys],kn[Cf.charCodeAt(ys)]=ys;kn["-".charCodeAt(0)]=62;kn["_".charCodeAt(0)]=63;function VC(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function KX(e){var t=VC(e),n=t[0],r=t[1];return(n+r)*3/4-r}function qX(e,t,n){return(t+n)*3/4-n}function JX(e){var t,n=VC(e),r=n[0],i=n[1],o=new GX(qX(e,r,i)),p=0,a=i>0?r-4:r,s;for(s=0;s<a;s+=4)t=kn[e.charCodeAt(s)]<<18|kn[e.charCodeAt(s+1)]<<12|kn[e.charCodeAt(s+2)]<<6|kn[e.charCodeAt(s+3)],o[p++]=t>>16&255,o[p++]=t>>8&255,o[p++]=t&255;return i===2&&(t=kn[e.charCodeAt(s)]<<2|kn[e.charCodeAt(s+1)]>>4,o[p++]=t&255),i===1&&(t=kn[e.charCodeAt(s)]<<10|kn[e.charCodeAt(s+1)]<<4|kn[e.charCodeAt(s+2)]>>2,o[p++]=t>>8&255,o[p++]=t&255),o}function ZX(e){return hr[e>>18&63]+hr[e>>12&63]+hr[e>>6&63]+hr[e&63]}function QX(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(ZX(r));return i.join("")}function eK(e){for(var t,n=e.length,r=n%3,i=[],o=16383,p=0,a=n-r;p<a;p+=o)i.push(QX(e,p,p+o>a?a:p+o));return r===1?(t=e[n-1],i.push(hr[t>>2]+hr[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(hr[t>>10]+hr[t>>4&63]+hr[t<<2&63]+"=")),i.join("")}var hg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */hg.read=function(e,t,n,r,i){var o,p,a=i*8-r-1,s=(1<<a)-1,h=s>>1,u=-7,l=n?i-1:0,f=n?-1:1,c=e[t+l];for(l+=f,o=c&(1<<-u)-1,c>>=-u,u+=a;u>0;o=o*256+e[t+l],l+=f,u-=8);for(p=o&(1<<-u)-1,o>>=-u,u+=r;u>0;p=p*256+e[t+l],l+=f,u-=8);if(o===0)o=1-h;else{if(o===s)return p?NaN:(c?-1:1)*(1/0);p=p+Math.pow(2,r),o=o-h}return(c?-1:1)*p*Math.pow(2,o-r)};hg.write=function(e,t,n,r,i,o){var p,a,s,h=o*8-i-1,u=(1<<h)-1,l=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=r?0:o-1,d=r?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,p=u):(p=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-p))<1&&(p--,s*=2),p+l>=1?t+=f/s:t+=f*Math.pow(2,1-l),t*s>=2&&(p++,s/=2),p+l>=u?(a=0,p=u):p+l>=1?(a=(t*s-1)*Math.pow(2,i),p=p+l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),p=0));i>=8;e[n+c]=a&255,c+=d,a/=256,i-=8);for(p=p<<i|a,h+=i;h>0;e[n+c]=p&255,c+=d,p/=256,h-=8);e[n+c-d]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=lu,n=hg,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const k=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(k,C),k.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function p(k){if(k>i)throw new RangeError('The value "'+k+'" is invalid for option "size"');const C=new Uint8Array(k);return Object.setPrototypeOf(C,a.prototype),C}function a(k,C,T){if(typeof k=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(k)}return s(k,C,T)}a.poolSize=8192;function s(k,C,T){if(typeof k=="string")return f(k,C);if(ArrayBuffer.isView(k))return d(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(ae(k,ArrayBuffer)||k&&ae(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(k,SharedArrayBuffer)||k&&ae(k.buffer,SharedArrayBuffer)))return v(k,C,T);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const H=k.valueOf&&k.valueOf();if(H!=null&&H!==k)return a.from(H,C,T);const oe=g(k);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return a.from(k[Symbol.toPrimitive]("string"),C,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}a.from=function(k,C,T){return s(k,C,T)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function h(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function u(k,C,T){return h(k),k<=0?p(k):C!==void 0?typeof T=="string"?p(k).fill(C,T):p(k).fill(C):p(k)}a.alloc=function(k,C,T){return u(k,C,T)};function l(k){return h(k),p(k<0?0:m(k)|0)}a.allocUnsafe=function(k){return l(k)},a.allocUnsafeSlow=function(k){return l(k)};function f(k,C){if((typeof C!="string"||C==="")&&(C="utf8"),!a.isEncoding(C))throw new TypeError("Unknown encoding: "+C);const T=_(k,C)|0;let H=p(T);const oe=H.write(k,C);return oe!==T&&(H=H.slice(0,oe)),H}function c(k){const C=k.length<0?0:m(k.length)|0,T=p(C);for(let H=0;H<C;H+=1)T[H]=k[H]&255;return T}function d(k){if(ae(k,Uint8Array)){const C=new Uint8Array(k);return v(C.buffer,C.byteOffset,C.byteLength)}return c(k)}function v(k,C,T){if(C<0||k.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<C+(T||0))throw new RangeError('"length" is outside of buffer bounds');let H;return C===void 0&&T===void 0?H=new Uint8Array(k):T===void 0?H=new Uint8Array(k,C):H=new Uint8Array(k,C,T),Object.setPrototypeOf(H,a.prototype),H}function g(k){if(a.isBuffer(k)){const C=m(k.length)|0,T=p(C);return T.length===0||k.copy(T,0,0,C),T}if(k.length!==void 0)return typeof k.length!="number"||_e(k.length)?p(0):c(k);if(k.type==="Buffer"&&Array.isArray(k.data))return c(k.data)}function m(k){if(k>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return k|0}function y(k){return+k!=k&&(k=0),a.alloc(+k)}a.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==a.prototype},a.compare=function(C,T){if(ae(C,Uint8Array)&&(C=a.from(C,C.offset,C.byteLength)),ae(T,Uint8Array)&&(T=a.from(T,T.offset,T.byteLength)),!a.isBuffer(C)||!a.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===T)return 0;let H=C.length,oe=T.length;for(let ge=0,we=Math.min(H,oe);ge<we;++ge)if(C[ge]!==T[ge]){H=C[ge],oe=T[ge];break}return H<oe?-1:oe<H?1:0},a.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(C,T){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return a.alloc(0);let H;if(T===void 0)for(T=0,H=0;H<C.length;++H)T+=C[H].length;const oe=a.allocUnsafe(T);let ge=0;for(H=0;H<C.length;++H){let we=C[H];if(ae(we,Uint8Array))ge+we.length>oe.length?(a.isBuffer(we)||(we=a.from(we)),we.copy(oe,ge)):Uint8Array.prototype.set.call(oe,we,ge);else if(a.isBuffer(we))we.copy(oe,ge);else throw new TypeError('"list" argument must be an Array of Buffers');ge+=we.length}return oe};function _(k,C){if(a.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||ae(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const T=k.length,H=arguments.length>2&&arguments[2]===!0;if(!H&&T===0)return 0;let oe=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Z(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return me(k).length;default:if(oe)return H?-1:Z(k).length;C=(""+C).toLowerCase(),oe=!0}}a.byteLength=_;function b(k,C,T){let H=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,C>>>=0,T<=C))return"";for(k||(k="utf8");;)switch(k){case"hex":return O(this,C,T);case"utf8":case"utf-8":return ee(this,C,T);case"ascii":return U(this,C,T);case"latin1":case"binary":return Q(this,C,T);case"base64":return W(this,C,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,C,T);default:if(H)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),H=!0}}a.prototype._isBuffer=!0;function w(k,C,T){const H=k[C];k[C]=k[T],k[T]=H}a.prototype.swap16=function(){const C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<C;T+=2)w(this,T,T+1);return this},a.prototype.swap32=function(){const C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<C;T+=4)w(this,T,T+3),w(this,T+1,T+2);return this},a.prototype.swap64=function(){const C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<C;T+=8)w(this,T,T+7),w(this,T+1,T+6),w(this,T+2,T+5),w(this,T+3,T+4);return this},a.prototype.toString=function(){const C=this.length;return C===0?"":arguments.length===0?ee(this,0,C):b.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(C){if(!a.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:a.compare(this,C)===0},a.prototype.inspect=function(){let C="";const T=e.INSPECT_MAX_BYTES;return C=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(C+=" ... "),"<Buffer "+C+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(C,T,H,oe,ge){if(ae(C,Uint8Array)&&(C=a.from(C,C.offset,C.byteLength)),!a.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(T===void 0&&(T=0),H===void 0&&(H=C?C.length:0),oe===void 0&&(oe=0),ge===void 0&&(ge=this.length),T<0||H>C.length||oe<0||ge>this.length)throw new RangeError("out of range index");if(oe>=ge&&T>=H)return 0;if(oe>=ge)return-1;if(T>=H)return 1;if(T>>>=0,H>>>=0,oe>>>=0,ge>>>=0,this===C)return 0;let we=ge-oe,ze=H-T;const He=Math.min(we,ze),Ve=this.slice(oe,ge),at=C.slice(T,H);for(let tt=0;tt<He;++tt)if(Ve[tt]!==at[tt]){we=Ve[tt],ze=at[tt];break}return we<ze?-1:ze<we?1:0};function S(k,C,T,H,oe){if(k.length===0)return-1;if(typeof T=="string"?(H=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,_e(T)&&(T=oe?0:k.length-1),T<0&&(T=k.length+T),T>=k.length){if(oe)return-1;T=k.length-1}else if(T<0)if(oe)T=0;else return-1;if(typeof C=="string"&&(C=a.from(C,H)),a.isBuffer(C))return C.length===0?-1:x(k,C,T,H,oe);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(k,C,T):Uint8Array.prototype.lastIndexOf.call(k,C,T):x(k,[C],T,H,oe);throw new TypeError("val must be string, number or Buffer")}function x(k,C,T,H,oe){let ge=1,we=k.length,ze=C.length;if(H!==void 0&&(H=String(H).toLowerCase(),H==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(k.length<2||C.length<2)return-1;ge=2,we/=2,ze/=2,T/=2}function He(at,tt){return ge===1?at[tt]:at.readUInt16BE(tt*ge)}let Ve;if(oe){let at=-1;for(Ve=T;Ve<we;Ve++)if(He(k,Ve)===He(C,at===-1?0:Ve-at)){if(at===-1&&(at=Ve),Ve-at+1===ze)return at*ge}else at!==-1&&(Ve-=Ve-at),at=-1}else for(T+ze>we&&(T=we-ze),Ve=T;Ve>=0;Ve--){let at=!0;for(let tt=0;tt<ze;tt++)if(He(k,Ve+tt)!==He(C,tt)){at=!1;break}if(at)return Ve}return-1}a.prototype.includes=function(C,T,H){return this.indexOf(C,T,H)!==-1},a.prototype.indexOf=function(C,T,H){return S(this,C,T,H,!0)},a.prototype.lastIndexOf=function(C,T,H){return S(this,C,T,H,!1)};function P(k,C,T,H){T=Number(T)||0;const oe=k.length-T;H?(H=Number(H),H>oe&&(H=oe)):H=oe;const ge=C.length;H>ge/2&&(H=ge/2);let we;for(we=0;we<H;++we){const ze=parseInt(C.substr(we*2,2),16);if(_e(ze))return we;k[T+we]=ze}return we}function B(k,C,T,H){return he(Z(C,k.length-T),k,T,H)}function G(k,C,T,H){return he(re(C),k,T,H)}function K(k,C,T,H){return he(me(C),k,T,H)}function Y(k,C,T,H){return he(fe(C,k.length-T),k,T,H)}a.prototype.write=function(C,T,H,oe){if(T===void 0)oe="utf8",H=this.length,T=0;else if(H===void 0&&typeof T=="string")oe=T,H=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(H)?(H=H>>>0,oe===void 0&&(oe="utf8")):(oe=H,H=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ge=this.length-T;if((H===void 0||H>ge)&&(H=ge),C.length>0&&(H<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");let we=!1;for(;;)switch(oe){case"hex":return P(this,C,T,H);case"utf8":case"utf-8":return B(this,C,T,H);case"ascii":case"latin1":case"binary":return G(this,C,T,H);case"base64":return K(this,C,T,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,C,T,H);default:if(we)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),we=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(k,C,T){return C===0&&T===k.length?t.fromByteArray(k):t.fromByteArray(k.slice(C,T))}function ee(k,C,T){T=Math.min(k.length,T);const H=[];let oe=C;for(;oe<T;){const ge=k[oe];let we=null,ze=ge>239?4:ge>223?3:ge>191?2:1;if(oe+ze<=T){let He,Ve,at,tt;switch(ze){case 1:ge<128&&(we=ge);break;case 2:He=k[oe+1],(He&192)===128&&(tt=(ge&31)<<6|He&63,tt>127&&(we=tt));break;case 3:He=k[oe+1],Ve=k[oe+2],(He&192)===128&&(Ve&192)===128&&(tt=(ge&15)<<12|(He&63)<<6|Ve&63,tt>2047&&(tt<55296||tt>57343)&&(we=tt));break;case 4:He=k[oe+1],Ve=k[oe+2],at=k[oe+3],(He&192)===128&&(Ve&192)===128&&(at&192)===128&&(tt=(ge&15)<<18|(He&63)<<12|(Ve&63)<<6|at&63,tt>65535&&tt<1114112&&(we=tt))}}we===null?(we=65533,ze=1):we>65535&&(we-=65536,H.push(we>>>10&1023|55296),we=56320|we&1023),H.push(we),oe+=ze}return de(H)}const le=4096;function de(k){const C=k.length;if(C<=le)return String.fromCharCode.apply(String,k);let T="",H=0;for(;H<C;)T+=String.fromCharCode.apply(String,k.slice(H,H+=le));return T}function U(k,C,T){let H="";T=Math.min(k.length,T);for(let oe=C;oe<T;++oe)H+=String.fromCharCode(k[oe]&127);return H}function Q(k,C,T){let H="";T=Math.min(k.length,T);for(let oe=C;oe<T;++oe)H+=String.fromCharCode(k[oe]);return H}function O(k,C,T){const H=k.length;(!C||C<0)&&(C=0),(!T||T<0||T>H)&&(T=H);let oe="";for(let ge=C;ge<T;++ge)oe+=xe[k[ge]];return oe}function R(k,C,T){const H=k.slice(C,T);let oe="";for(let ge=0;ge<H.length-1;ge+=2)oe+=String.fromCharCode(H[ge]+H[ge+1]*256);return oe}a.prototype.slice=function(C,T){const H=this.length;C=~~C,T=T===void 0?H:~~T,C<0?(C+=H,C<0&&(C=0)):C>H&&(C=H),T<0?(T+=H,T<0&&(T=0)):T>H&&(T=H),T<C&&(T=C);const oe=this.subarray(C,T);return Object.setPrototypeOf(oe,a.prototype),oe};function F(k,C,T){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+C>T)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(C,T,H){C=C>>>0,T=T>>>0,H||F(C,T,this.length);let oe=this[C],ge=1,we=0;for(;++we<T&&(ge*=256);)oe+=this[C+we]*ge;return oe},a.prototype.readUintBE=a.prototype.readUIntBE=function(C,T,H){C=C>>>0,T=T>>>0,H||F(C,T,this.length);let oe=this[C+--T],ge=1;for(;T>0&&(ge*=256);)oe+=this[C+--T]*ge;return oe},a.prototype.readUint8=a.prototype.readUInt8=function(C,T){return C=C>>>0,T||F(C,1,this.length),this[C]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(C,T){return C=C>>>0,T||F(C,2,this.length),this[C]|this[C+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(C,T){return C=C>>>0,T||F(C,2,this.length),this[C]<<8|this[C+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(C,T){return C=C>>>0,T||F(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(C,T){return C=C>>>0,T||F(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},a.prototype.readBigUInt64LE=ue(function(C){C=C>>>0,A(C,"offset");const T=this[C],H=this[C+7];(T===void 0||H===void 0)&&M(C,this.length-8);const oe=T+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24,ge=this[++C]+this[++C]*2**8+this[++C]*2**16+H*2**24;return BigInt(oe)+(BigInt(ge)<<BigInt(32))}),a.prototype.readBigUInt64BE=ue(function(C){C=C>>>0,A(C,"offset");const T=this[C],H=this[C+7];(T===void 0||H===void 0)&&M(C,this.length-8);const oe=T*2**24+this[++C]*2**16+this[++C]*2**8+this[++C],ge=this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+H;return(BigInt(oe)<<BigInt(32))+BigInt(ge)}),a.prototype.readIntLE=function(C,T,H){C=C>>>0,T=T>>>0,H||F(C,T,this.length);let oe=this[C],ge=1,we=0;for(;++we<T&&(ge*=256);)oe+=this[C+we]*ge;return ge*=128,oe>=ge&&(oe-=Math.pow(2,8*T)),oe},a.prototype.readIntBE=function(C,T,H){C=C>>>0,T=T>>>0,H||F(C,T,this.length);let oe=T,ge=1,we=this[C+--oe];for(;oe>0&&(ge*=256);)we+=this[C+--oe]*ge;return ge*=128,we>=ge&&(we-=Math.pow(2,8*T)),we},a.prototype.readInt8=function(C,T){return C=C>>>0,T||F(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},a.prototype.readInt16LE=function(C,T){C=C>>>0,T||F(C,2,this.length);const H=this[C]|this[C+1]<<8;return H&32768?H|4294901760:H},a.prototype.readInt16BE=function(C,T){C=C>>>0,T||F(C,2,this.length);const H=this[C+1]|this[C]<<8;return H&32768?H|4294901760:H},a.prototype.readInt32LE=function(C,T){return C=C>>>0,T||F(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},a.prototype.readInt32BE=function(C,T){return C=C>>>0,T||F(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},a.prototype.readBigInt64LE=ue(function(C){C=C>>>0,A(C,"offset");const T=this[C],H=this[C+7];(T===void 0||H===void 0)&&M(C,this.length-8);const oe=this[C+4]+this[C+5]*2**8+this[C+6]*2**16+(H<<24);return(BigInt(oe)<<BigInt(32))+BigInt(T+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24)}),a.prototype.readBigInt64BE=ue(function(C){C=C>>>0,A(C,"offset");const T=this[C],H=this[C+7];(T===void 0||H===void 0)&&M(C,this.length-8);const oe=(T<<24)+this[++C]*2**16+this[++C]*2**8+this[++C];return(BigInt(oe)<<BigInt(32))+BigInt(this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+H)}),a.prototype.readFloatLE=function(C,T){return C=C>>>0,T||F(C,4,this.length),n.read(this,C,!0,23,4)},a.prototype.readFloatBE=function(C,T){return C=C>>>0,T||F(C,4,this.length),n.read(this,C,!1,23,4)},a.prototype.readDoubleLE=function(C,T){return C=C>>>0,T||F(C,8,this.length),n.read(this,C,!0,52,8)},a.prototype.readDoubleBE=function(C,T){return C=C>>>0,T||F(C,8,this.length),n.read(this,C,!1,52,8)};function D(k,C,T,H,oe,ge){if(!a.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>oe||C<ge)throw new RangeError('"value" argument is out of bounds');if(T+H>k.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(C,T,H,oe){if(C=+C,T=T>>>0,H=H>>>0,!oe){const ze=Math.pow(2,8*H)-1;D(this,C,T,H,ze,0)}let ge=1,we=0;for(this[T]=C&255;++we<H&&(ge*=256);)this[T+we]=C/ge&255;return T+H},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(C,T,H,oe){if(C=+C,T=T>>>0,H=H>>>0,!oe){const ze=Math.pow(2,8*H)-1;D(this,C,T,H,ze,0)}let ge=H-1,we=1;for(this[T+ge]=C&255;--ge>=0&&(we*=256);)this[T+ge]=C/we&255;return T+H},a.prototype.writeUint8=a.prototype.writeUInt8=function(C,T,H){return C=+C,T=T>>>0,H||D(this,C,T,1,255,0),this[T]=C&255,T+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(C,T,H){return C=+C,T=T>>>0,H||D(this,C,T,2,65535,0),this[T]=C&255,this[T+1]=C>>>8,T+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(C,T,H){return C=+C,T=T>>>0,H||D(this,C,T,2,65535,0),this[T]=C>>>8,this[T+1]=C&255,T+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(C,T,H){return C=+C,T=T>>>0,H||D(this,C,T,4,4294967295,0),this[T+3]=C>>>24,this[T+2]=C>>>16,this[T+1]=C>>>8,this[T]=C&255,T+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(C,T,H){return C=+C,T=T>>>0,H||D(this,C,T,4,4294967295,0),this[T]=C>>>24,this[T+1]=C>>>16,this[T+2]=C>>>8,this[T+3]=C&255,T+4};function se(k,C,T,H,oe){L(C,H,oe,k,T,7);let ge=Number(C&BigInt(4294967295));k[T++]=ge,ge=ge>>8,k[T++]=ge,ge=ge>>8,k[T++]=ge,ge=ge>>8,k[T++]=ge;let we=Number(C>>BigInt(32)&BigInt(4294967295));return k[T++]=we,we=we>>8,k[T++]=we,we=we>>8,k[T++]=we,we=we>>8,k[T++]=we,T}function j(k,C,T,H,oe){L(C,H,oe,k,T,7);let ge=Number(C&BigInt(4294967295));k[T+7]=ge,ge=ge>>8,k[T+6]=ge,ge=ge>>8,k[T+5]=ge,ge=ge>>8,k[T+4]=ge;let we=Number(C>>BigInt(32)&BigInt(4294967295));return k[T+3]=we,we=we>>8,k[T+2]=we,we=we>>8,k[T+1]=we,we=we>>8,k[T]=we,T+8}a.prototype.writeBigUInt64LE=ue(function(C,T=0){return se(this,C,T,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ue(function(C,T=0){return j(this,C,T,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(C,T,H,oe){if(C=+C,T=T>>>0,!oe){const He=Math.pow(2,8*H-1);D(this,C,T,H,He-1,-He)}let ge=0,we=1,ze=0;for(this[T]=C&255;++ge<H&&(we*=256);)C<0&&ze===0&&this[T+ge-1]!==0&&(ze=1),this[T+ge]=(C/we>>0)-ze&255;return T+H},a.prototype.writeIntBE=function(C,T,H,oe){if(C=+C,T=T>>>0,!oe){const He=Math.pow(2,8*H-1);D(this,C,T,H,He-1,-He)}let ge=H-1,we=1,ze=0;for(this[T+ge]=C&255;--ge>=0&&(we*=256);)C<0&&ze===0&&this[T+ge+1]!==0&&(ze=1),this[T+ge]=(C/we>>0)-ze&255;return T+H},a.prototype.writeInt8=function(C,T,H){return C=+C,T=T>>>0,H||D(this,C,T,1,127,-128),C<0&&(C=255+C+1),this[T]=C&255,T+1},a.prototype.writeInt16LE=function(C,T,H){return C=+C,T=T>>>0,H||D(this,C,T,2,32767,-32768),this[T]=C&255,this[T+1]=C>>>8,T+2},a.prototype.writeInt16BE=function(C,T,H){return C=+C,T=T>>>0,H||D(this,C,T,2,32767,-32768),this[T]=C>>>8,this[T+1]=C&255,T+2},a.prototype.writeInt32LE=function(C,T,H){return C=+C,T=T>>>0,H||D(this,C,T,4,2147483647,-2147483648),this[T]=C&255,this[T+1]=C>>>8,this[T+2]=C>>>16,this[T+3]=C>>>24,T+4},a.prototype.writeInt32BE=function(C,T,H){return C=+C,T=T>>>0,H||D(this,C,T,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[T]=C>>>24,this[T+1]=C>>>16,this[T+2]=C>>>8,this[T+3]=C&255,T+4},a.prototype.writeBigInt64LE=ue(function(C,T=0){return se(this,C,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ue(function(C,T=0){return j(this,C,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function I(k,C,T,H,oe,ge){if(T+H>k.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function X(k,C,T,H,oe){return C=+C,T=T>>>0,oe||I(k,C,T,4),n.write(k,C,T,H,23,4),T+4}a.prototype.writeFloatLE=function(C,T,H){return X(this,C,T,!0,H)},a.prototype.writeFloatBE=function(C,T,H){return X(this,C,T,!1,H)};function $(k,C,T,H,oe){return C=+C,T=T>>>0,oe||I(k,C,T,8),n.write(k,C,T,H,52,8),T+8}a.prototype.writeDoubleLE=function(C,T,H){return $(this,C,T,!0,H)},a.prototype.writeDoubleBE=function(C,T,H){return $(this,C,T,!1,H)},a.prototype.copy=function(C,T,H,oe){if(!a.isBuffer(C))throw new TypeError("argument should be a Buffer");if(H||(H=0),!oe&&oe!==0&&(oe=this.length),T>=C.length&&(T=C.length),T||(T=0),oe>0&&oe<H&&(oe=H),oe===H||C.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),C.length-T<oe-H&&(oe=C.length-T+H);const ge=oe-H;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,H,oe):Uint8Array.prototype.set.call(C,this.subarray(H,oe),T),ge},a.prototype.fill=function(C,T,H,oe){if(typeof C=="string"){if(typeof T=="string"?(oe=T,T=0,H=this.length):typeof H=="string"&&(oe=H,H=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!a.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(C.length===1){const we=C.charCodeAt(0);(oe==="utf8"&&we<128||oe==="latin1")&&(C=we)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(T<0||this.length<T||this.length<H)throw new RangeError("Out of range index");if(H<=T)return this;T=T>>>0,H=H===void 0?this.length:H>>>0,C||(C=0);let ge;if(typeof C=="number")for(ge=T;ge<H;++ge)this[ge]=C;else{const we=a.isBuffer(C)?C:a.from(C,oe),ze=we.length;if(ze===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(ge=0;ge<H-T;++ge)this[ge+T]=we[ge%ze]}return this};const V={};function J(k,C,T){V[k]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(oe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:oe,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}J("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(k,C){return`The "${k}" argument must be of type number. Received type ${typeof C}`},TypeError),J("ERR_OUT_OF_RANGE",function(k,C,T){let H=`The value of "${k}" is out of range.`,oe=T;return Number.isInteger(T)&&Math.abs(T)>2**32?oe=ce(String(T)):typeof T=="bigint"&&(oe=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(oe=ce(oe)),oe+="n"),H+=` It must be ${C}. Received ${oe}`,H},RangeError);function ce(k){let C="",T=k.length;const H=k[0]==="-"?1:0;for(;T>=H+4;T-=3)C=`_${k.slice(T-3,T)}${C}`;return`${k.slice(0,T)}${C}`}function ve(k,C,T){A(C,"offset"),(k[C]===void 0||k[C+T]===void 0)&&M(C,k.length-(T+1))}function L(k,C,T,H,oe,ge){if(k>T||k<C){const we=typeof C=="bigint"?"n":"";let ze;throw ge>3?C===0||C===BigInt(0)?ze=`>= 0${we} and < 2${we} ** ${(ge+1)*8}${we}`:ze=`>= -(2${we} ** ${(ge+1)*8-1}${we}) and < 2 ** ${(ge+1)*8-1}${we}`:ze=`>= ${C}${we} and <= ${T}${we}`,new V.ERR_OUT_OF_RANGE("value",ze,k)}ve(H,oe,ge)}function A(k,C){if(typeof k!="number")throw new V.ERR_INVALID_ARG_TYPE(C,"number",k)}function M(k,C,T){throw Math.floor(k)!==k?(A(k,T),new V.ERR_OUT_OF_RANGE(T||"offset","an integer",k)):C<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE(T||"offset",`>= ${T?1:0} and <= ${C}`,k)}const q=/[^+/0-9A-Za-z-_]/g;function te(k){if(k=k.split("=")[0],k=k.trim().replace(q,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function Z(k,C){C=C||1/0;let T;const H=k.length;let oe=null;const ge=[];for(let we=0;we<H;++we){if(T=k.charCodeAt(we),T>55295&&T<57344){if(!oe){if(T>56319){(C-=3)>-1&&ge.push(239,191,189);continue}else if(we+1===H){(C-=3)>-1&&ge.push(239,191,189);continue}oe=T;continue}if(T<56320){(C-=3)>-1&&ge.push(239,191,189),oe=T;continue}T=(oe-55296<<10|T-56320)+65536}else oe&&(C-=3)>-1&&ge.push(239,191,189);if(oe=null,T<128){if((C-=1)<0)break;ge.push(T)}else if(T<2048){if((C-=2)<0)break;ge.push(T>>6|192,T&63|128)}else if(T<65536){if((C-=3)<0)break;ge.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((C-=4)<0)break;ge.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return ge}function re(k){const C=[];for(let T=0;T<k.length;++T)C.push(k.charCodeAt(T)&255);return C}function fe(k,C){let T,H,oe;const ge=[];for(let we=0;we<k.length&&!((C-=2)<0);++we)T=k.charCodeAt(we),H=T>>8,oe=T%256,ge.push(oe),ge.push(H);return ge}function me(k){return t.toByteArray(te(k))}function he(k,C,T,H){let oe;for(oe=0;oe<H&&!(oe+T>=C.length||oe>=k.length);++oe)C[oe+T]=k[oe];return oe}function ae(k,C){return k instanceof C||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===C.name}function _e(k){return k!==k}const xe=function(){const k="0123456789abcdef",C=new Array(256);for(let T=0;T<16;++T){const H=T*16;for(let oe=0;oe<16;++oe)C[H+oe]=k[T]+k[oe]}return C}();function ue(k){return typeof BigInt>"u"?Ee:k}function Ee(){throw new Error("BigInt not supported")}})(UC);const tK=K1(UC);let _l;const nK=new Uint8Array(16);function rK(){if(!_l&&(_l=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _l(nK)}const zt=[];for(let e=0;e<256;++e)zt.push((e+256).toString(16).slice(1));function iK(e,t=0){return zt[e[t+0]]+zt[e[t+1]]+zt[e[t+2]]+zt[e[t+3]]+"-"+zt[e[t+4]]+zt[e[t+5]]+"-"+zt[e[t+6]]+zt[e[t+7]]+"-"+zt[e[t+8]]+zt[e[t+9]]+"-"+zt[e[t+10]]+zt[e[t+11]]+zt[e[t+12]]+zt[e[t+13]]+zt[e[t+14]]+zt[e[t+15]]}const sK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ry={randomUUID:sK};function dr(e,t,n){if(Ry.randomUUID&&!t&&!e)return Ry.randomUUID();e=e||{};const r=e.random||(e.rng||rK)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return iK(r)}typeof window.Buffer>"u"&&(window.Buffer=tK.Buffer);class dg{constructor(t,n){this.json=[],this.uploadUrl=t,this.uploadCallback=n}async init(t){return new Promise(n=>{let r=t.name.substring(0,t.name.lastIndexOf("."))+".png";var i=URL.createObjectURL(t);Wa.fromURL(i).then(async o=>{const{backgroundImage:p,width:a,height:s}=await this.getPsdBgImage(o),h=o.tree().children();let u=[];const l=this.getPsdJson(h,null,u);Promise.all(l).then(()=>{let f=[];u=this.resReverse(u);let c={};return c.width=a,c.height=s,c.id="workarea",c.name=r,f.push(c),u.forEach(d=>{f.push(d)}),f}).then(f=>{console.log(JSON.parse(JSON.stringify(f))),n({json:f,slImage:p})})}).catch(o=>{console.log(o)})})}getRotation(t){let n=Math.round(Math.atan(t.xy/t.xx)*(180/Math.PI));return t.xx<0?n+=180:n<0&&(n+=360),n}getPsdJson(t,n,r){let i=[];return Array.from(t).forEach((o,p)=>{let a=new Promise(s=>{if(o.type=="group"){var h=o.children();let u={};return u.type="group",u.left=o.left,u.top=o.top,u.opacity=o.export().opacity,u.visible=o.export().visible,u.id=dr(),u.name=o.name,u.objects=[],o=u,r[p]=o,this.getPsdJson(h,s,o.objects)}else{let u={};u=o,this.getChildData(t[p]).then(l=>{if(l){if(u.type=l.type,l.type=="text"){u.tracking=l.data;let f={},c=u.export();f.type="FontCustom",f.left=u.left,f.top=u.top,f.width=u.width,f.height=u.height;let d=c.text.font.colors[0];f.fill=`rgb(${d[0]},${d[1]},${d[2]})`,c.opacity!=1&&(f.opacity=c.opacity),c.visible||(f.visible=c.visible),c.text.font.weights[0]!="normal"&&(f.fontWeight=c.text.font.weights[0]),f.fontSize=c.text.font.sizes[0],c.text.font.styles[0]!="normal"&&(f.fontStyle=c.text.font.styles[0]),f.fontFamily=c.text.font.names[0],f.text=c.text.value,c.text.font.alignment[0]!="left"&&(f.textAlign=c.text.font.alignment[0]),u.tracking!=0&&(f.charSpacing=u.tracking),f.name=u.name;let v=this.getRotation(c.text.transform);if(v!=0&&(f.angle=v),f.fontStyle=="italic"&&(f.width+=f.fontSize),f.text.indexOf(" ")!=-1){let y=/(^\s*)|(\s*$)/g;const _=f.text.match(y)||[];let b=0;_.forEach(w=>{b+=w.length||1}),f.width+=f.fontSize*b,f.width=parseInt(f.width)}let g=c.text.transform.yy,m=f.fontSize;f.fontSize=Math.round(m*g*100)*.01,u=f}else if(l.type=="image"){if(o.isMask){s();return}u.image=l.data;let f={};f.type="Image",f.left=u.left,f.top=u.top,f.width=u.width,f.height=u.height,u.maskSvg&&(f.maskSvg=u.maskSvg,f.maskType="custom",f.poi=u.poi),u.export().opacity!=1&&(f.opacity=u.export().opacity),u.export().visible||(f.visible=u.export().visible),f.name=u.name,f.src=u.image,u=f}r&&Array.isArray(r)&&(r[p]=u),s(u)}else s()}).catch(l=>{console.error(t[p].name,l)})}});i.push(a)}),n?Promise.all(i).then(n):i}getChildData(t){return new Promise(n=>{let r={type:"",data:void 0};try{const o=t.get("typeTool");if(typeof o<"u")typeof o.styles().Tracking<"u"?t.tracking=o.styles().Tracking[0]:t.tracking=void 0,r.type="text",r.data=t.tracking,n(r);else{const p=t.layer.image.toBase64();var i=this.dataURItoBlob(p);this.slfileUpload(i,t.name+".png",p).then(a=>{t.image=a,r.type="image",r.data=t.image,n(r)})}}catch(o){console.log("eee",o),n()}}).catch(n=>{console.log("eeee",t,n)})}dataURItoBlob(t){var n;t.split(",")[0].indexOf("base64")>=0?n=atob(t.split(",")[1]):n=unescape(t.split(",")[1]);for(var r=t.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(n.length),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([i],{type:r})}slfileUpload(t,n,r){return new Promise(i=>{if(this.uploadUrl){var o=new FormData,p=new XMLHttpRequest;o.append("file",t,n),p.open("post",this.uploadUrl,!0),p.onload=()=>{try{const a=this.uploadCallback(p.responseText);i(a)}catch(a){console.error(a),i()}},p.send(o)}else i(r)})}resReverse(t){return t.reverse().map(n=>(n.type=="group"&&(n.objects=this.resReverse(n.objects)),n))}async getSliceData(t){try{const n=await t.arrayBuffer();return dg.parse(n).slices.map(p=>{let a=p.right-p.left,s=p.bottom-p.top;return{id:dr(),left:p.left,width:a,height:s,ps:!0,top:p.top}})}catch{return[]}}createCanvas(){return document.createElement("canvas")}getPsdBgImage(t){return new Promise(n=>{const r=t.image.toBase64();let i=new Image;i.src=r,i.setAttribute("crossOrigin","Anonymous"),i.onload=()=>{n({backgroundImage:r,width:i.width,height:i.height})}})}}const or=e=>(Sn("data-v-4a60f292"),e=e(),xn(),e),oK={class:"gda-modal-root"},aK=or(()=>N("div",{class:"gda-modal-mask"},null,-1)),lK={tabindex:"-1",role:"dialog","aria-labelledby":"rcDialogTitle1",class:"gda-modal-wrap gda-modal-centered"},cK={role:"document",class:"gda-modal",style:{width:"560px","transform-origin":"-308px 130.5px"}},uK=or(()=>N("div",{tabindex:"0","aria-hidden":"true",style:{width:"0px",height:"0px",overflow:"hidden"}},null,-1)),fK={class:"gda-modal-content"},hK={type:"button","aria-label":"Close",class:"gda-modal-close"},dK=or(()=>N("div",{class:"gda-modal-header"},[N("div",{id:"rcDialogTitle1",class:"gda-modal-title"},"")],-1)),pK={class:"gda-modal-body",style:{padding:"0px",height:"444px","box-sizing":"border-box"}},gK={class:"design-choose-file"},vK=or(()=>N("img",{src:"https://cdn.dancf.com/fe-assets/20221017/f285085e35bfff5e3b59701095636a40.png",alt:"",width:"200",class:"design-choose-file__pointer-none"},null,-1)),mK=or(()=>N("div",{style:{"font-weight":"600"}},"",-1)),yK=or(()=>N("div",{class:"design-choose-file__dragging-tip-title"},"  ",-1)),_K=or(()=>N("div",{class:"design-choose-file__dragging-tip-text"},"  ",-1)),bK={class:"design-choose-file__drag-footer design-choose-file__flex-center"},wK=or(()=>N("div",null,"  PSD ",-1)),CK=[wK],SK={class:"design-choose-file__files-wrap design-choose-file__hide-scrollbar"},xK={class:"design-choose-file__file-item-main"},TK=or(()=>N("img",{src:uG,class:"design-choose-file__file-image design-choose-file__pointer-none"},null,-1)),EK={class:"design-choose-file__file-name design-choose-file__text-ellipsis"},OK=["onClick"],kK=or(()=>N("span",null,"",-1)),PK=[kK],AK=or(()=>N("div",{tabindex:"0","aria-hidden":"true",style:{width:"0px",height:"0px",overflow:"hidden"}},null,-1)),IK=ke({__name:"upload-file",emits:["close","render"],setup(e,{emit:t}){const n=pe([]),r=pe(),i=pe(!1),o={psd:c=>new dg(c)},p=ne(()=>Object.keys(o));ts(()=>{Dn(r.value,"dragover",a),Dn(r.value,"dragleave",s),Dn(r.value,"drop",h)});function a(c){c.preventDefault(),r.value.classList.add("dragover"),i.value=!0}function s(c){c.preventDefault(),r.value.classList.remove("dragover"),i.value=!1}async function h(c){c.preventDefault(),r.value.classList.remove("dragover"),i.value=!1;const d=c.dataTransfer.files;console.log(d);const v=await Ty(d);v.ext&&p.value.includes(v.ext)?(d.type=v.ext,n.value=[d]):console.log("")}function u(){t("close")}async function l(){let c;if(window.showOpenFilePicker)c=await window.showOpenFilePicker({types:[{accept:{"image/*":[p.value.map(d=>"."+d).join(",")]}}],multiple:!1});else{const d=document.createElement("input");d.type="file",d.multiple=!0,d.click(),c=await new Promise(v=>{d.addEventListener("change",g=>{v([...g.target.files])})})}for(const d of c){const v=await d.getFile();n.value.push(v)}}async function f(){const c=n.value[0],d=await Ty(c);if(d){const{ext:v}=d;if(o[v]){const m=await o[v]().init(c);console.log("json",JSON.stringify(m.json)),t("render",m)}}}return(c,d)=>(z(),ie("div",oK,[aK,N("div",lK,[N("div",cK,[uK,N("div",fK,[N("button",hK,[N("span",{class:"gda-modal-close-x",onClick:u},[ye(E(Ke),{class:"gdaicon gdaicon-close gda-modal-close-icon"},{default:Ce(()=>[ye(E(Da))]),_:1})])]),dK,N("div",pK,[N("div",gK,[n.value.length==0?(z(),ie(Re,{key:0},[N("div",{class:"design-choose-file__empty-file-main design-choose-file__flex-center",ref_key:"dragArea",ref:r},[i.value?(z(),ie(Re,{key:1},[yK,_K],64)):(z(),ie(Re,{key:0},[vK,mK,N("div",{class:"design-choose-file__choose-file-button-2",onClick:l}," ... ")],64))],512),ut(N("div",bK,CK,512),[[_t,!i.value]])],64)):(z(),ie(Re,{key:1},[N("div",SK,[(z(!0),ie(Re,null,st(n.value,(v,g)=>(z(),ie("div",{class:"design-choose-file__file-item design-choose-file__flex-center",key:v.lastModified+v.name},[N("div",xK,[TK,N("span",EK,We(v.name),1)]),N("i",{onClick:m=>n.value.splice(g,1),class:"iconfont icon-delete design-choose-file__close"},null,8,OK)]))),128))]),N("div",{class:"design-choose-file__not-empty-footer design-choose-file__flex-center"},[N("span",{class:"design-choose-file__choose-file-button",onClick:l}),N("button",{type:"button",class:"gda-btn gda-btn-primary",style:{width:"88px"},onClick:f},PK)])],64))])])]),AK])])]))}}),RK=At(IK,[["__scopeId","data-v-4a60f292"]]),MK={class:"header_nav"},DK=N("svg",{viewBox:"0 0 24 24"},[N("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 6.75L20 6.75V5.25H4V6.75ZM20 12.75H4V11.25H20V12.75ZM20 18.75H4V17.25H20V18.75Z",fill:"currentColor"})],-1),FK=[DK],LK=N("div",{class:"starfish-link"},[N("a",{href:"https://github.com/haixin-fang/vue-design-editor",target:"_black"},[N("i",{class:"iconfont icon-GitHub"})])],-1),BK=["onClick"],$K={class:"dc-layout-scale-bar-item__menu__item--main"},jK=N("hr",null,null,-1),NK={__name:"Nav",setup(e){Le("canvas");const t=Le("handler"),n=pe(),r=pe(!1),i=pe(!1),o=[{type:"rect",version:"5.3.0",originX:"left",originY:"top",left:0,top:0,width:260,height:641,fill:"#fff",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeDashOffset:0,strokeLineJoin:"miter",strokeUniform:!1,strokeMiterLimit:4,scaleX:1,scaleY:1,angle:0,flipX:!1,flipY:!1,opacity:1,shadow:null,visible:!0,backgroundColor:"",fillRule:"nonzero",paintFirst:"fill",globalCompositeOperation:"source-over",skewX:0,skewY:0,rx:0,ry:0,id:"workarea",name:""},{type:"group",version:"5.3.0",originX:"left",originY:"top",left:30.4755,top:231.5064,width:220,height:64.16,fill:"rgb(0,0,0)",stroke:null,strokeWidth:0,strokeDashArray:null,strokeLineCap:"butt",strokeDashOffset:0,strokeLineJoin:"miter",strokeUniform:!0,strokeMiterLimit:4,scaleX:1,scaleY:1,angle:0,flipX:!1,flipY:!1,opacity:1,shadow:null,visible:!0,backgroundColor:"",fillRule:"nonzero",paintFirst:"fill",globalCompositeOperation:"source-over",skewX:0,skewY:0,id:"81bb3c84-e7cd-4c6b-86a7-33071d093d9e",name:"New group",objects:[{type:"FontCustom",version:"5.3.0",originX:"left",originY:"top",left:-110,top:-32.08,width:192,height:36.16,fill:"rgb(0,0,0)",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeDashOffset:0,strokeLineJoin:"miter",strokeUniform:!0,strokeMiterLimit:4,scaleX:1,scaleY:1,angle:0,flipX:!1,flipY:!1,opacity:1,shadow:null,visible:!0,backgroundColor:"",fillRule:"nonzero",paintFirst:"fill",globalCompositeOperation:"source-over",skewX:0,skewY:0,fontFamily:"Times New Roman",fontWeight:"normal",fontSize:32,text:"",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",charSpacing:0,styles:[],direction:"ltr",path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",minWidth:20,splitByGrapheme:!1,id:"20abaac2-9fb2-40c2-8841-a015f01e576c",name:""},{type:"FontCustom",version:"5.3.0",originX:"left",originY:"top",left:-83,top:-5.08,width:192,height:36.16,fill:"rgb(0,0,0)",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeDashOffset:0,strokeLineJoin:"miter",strokeUniform:!0,strokeMiterLimit:4,scaleX:1,scaleY:1,angle:0,flipX:!1,flipY:!1,opacity:1,shadow:null,visible:!0,backgroundColor:"",fillRule:"nonzero",paintFirst:"fill",globalCompositeOperation:"source-over",skewX:0,skewY:0,fontFamily:"Times New Roman",fontWeight:"normal",fontSize:32,text:"",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",charSpacing:0,styles:[],direction:"ltr",path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",minWidth:20,splitByGrapheme:!1,id:"1727e10d-9ae5-4f28-aeec-db5e6eeb8914",name:""}]}],p=pe([[{type:"guide",title:"",status:()=>{i.value=!0,r.value=!1}}],[{type:"json",title:"json",status:()=>{console.log(JSON.stringify(t.value.exportJSON()))}},{type:"exportImage",title:"",status:()=>{const u=t.value.exportImage();t.value.utils.download(u)}},{type:"exportJSON",title:"",status:()=>{t.value.importJSON(o)}}]]);function a(){r.value=!0}function s(u){u.type=="guide"?i.value=!0:u.status(),r.value=!1}function h(u){i.value=!1,t.value.importJSON(u.json)}return(u,l)=>{const f=Be("popover");return z(),ie("div",MK,[N("div",{class:"menu popover",ref_key:"menu",ref:n},[ye(E(uo),{effect:"dark",content:"",placement:"bottom",disabled:r.value},{default:Ce(()=>[N("div",{class:"menu-btn",onClick:a},FK)]),_:1},8,["disabled"])],512),LK,ye(f,{dom:n.value,show:i.value,onClose:l[1]||(l[1]=c=>i.value=!1)},{default:Ce(({setSlotRef:c})=>[N("div",{ref:d=>c(d)},[ye(RK,{onClose:l[0]||(l[0]=d=>i.value=!1),onRender:h})],512)]),_:1},8,["dom","show"]),ye(f,{dom:n.value,show:r.value,onClose:l[2]||(l[2]=c=>r.value=!1)},{default:Ce(({setSlotRef:c})=>[N("div",{class:"content",ref:d=>c(d)},[(z(!0),ie(Re,null,st(p.value,(d,v)=>(z(),ie(Re,{key:v},[(z(!0),ie(Re,null,st(d,g=>(z(),ie("div",{key:g.type,class:"dc-layout-scale-bar-item__menu__item",onClick:m=>s(g)},[N("span",$K,We(g.title),1)],8,BK))),128)),jK],64))),128))],512)]),_:1},8,["dom","show"])])}}};var Fe={};const zK={},HK=Object.freeze(Object.defineProperty({__proto__:null,default:zK},Symbol.toStringTag,{value:"Module"})),Sf=cL(HK);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=Sf,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=Sf.implForWrapper,t.nodeCanvas=Sf.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function a(c,d){if(this.__eventListeners[c]){var v=this.__eventListeners[c];d?v[v.indexOf(d)]=!1:t.util.array.fill(v,!1)}}function s(c,d){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var v in c)this.on(v,c[v]);else this.__eventListeners[c]||(this.__eventListeners[c]=[]),this.__eventListeners[c].push(d);return this}function h(c,d){var v=function(){d.apply(this,arguments),this.off(c,v)}.bind(this);this.on(c,v)}function u(c,d){if(arguments.length===1)for(var v in c)h.call(this,v,c[v]);else h.call(this,c,d);return this}function l(c,d){if(!this.__eventListeners)return this;if(arguments.length===0)for(c in this.__eventListeners)a.call(this,c);else if(arguments.length===1&&typeof arguments[0]=="object")for(var v in c)a.call(this,v,c[v]);else a.call(this,c,d);return this}function f(c,d){if(!this.__eventListeners)return this;var v=this.__eventListeners[c];if(!v)return this;for(var g=0,m=v.length;g<m;g++)v[g]&&v[g].call(this,d||{});return this.__eventListeners[c]=v.filter(function(y){return y!==!1}),this}t.Observable={fire:f,on:s,once:u,off:l}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var a=0,s=arguments.length;a<s;a++)this._onObjectAdded(arguments[a]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(a,s,h){var u=this._objects;return h?u[s]=a:u.splice(s,0,a),this._onObjectAdded&&this._onObjectAdded(a),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var a=this._objects,s,h=!1,u=0,l=arguments.length;u<l;u++)s=a.indexOf(arguments[u]),s!==-1&&(h=!0,a.splice(s,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[u]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(a,s){for(var h=this.getObjects(),u=0,l=h.length;u<l;u++)a.call(s,h[u],u,h);return this},getObjects:function(a){return typeof a>"u"?this._objects.concat():this._objects.filter(function(s){return s.type===a})},item:function(a){return this._objects[a]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(a,s){return this._objects.indexOf(a)>-1?!0:s?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(a,!0)}):!1},complexity:function(){return this._objects.reduce(function(a,s){return a+=s.complexity?s.complexity():0,a},0)}},t.CommonMethods={_setOptions:function(a){for(var s in a)this.set(s,a[s])},_initGradient:function(a,s){a&&a.colorStops&&!(a instanceof t.Gradient)&&this.set(s,new t.Gradient(a))},_initPattern:function(a,s,h){a&&a.source&&!(a instanceof t.Pattern)?this.set(s,new t.Pattern(a,h)):h&&h()},_setObject:function(a){for(var s in a)this._set(s,a[s])},set:function(a,s){return typeof a=="object"?this._setObject(a):this._set(a,s),this},_set:function(a,s){this[a]=s},toggle:function(a){var s=this.get(a);return typeof s=="boolean"&&this.set(a,!s),this},get:function(a){return this[a]}},function(a){var s=Math.sqrt,h=Math.atan2,u=Math.pow,l=Math.PI/180,f=Math.PI/2;t.util={cos:function(c){if(c===0)return 1;c<0&&(c=-c);var d=c/f;switch(d){case 1:case 3:return 0;case 2:return-1}return Math.cos(c)},sin:function(c){if(c===0)return 0;var d=c/f,v=1;switch(c<0&&(v=-1),d){case 1:return v;case 2:return 0;case 3:return-v}return Math.sin(c)},removeFromArray:function(c,d){var v=c.indexOf(d);return v!==-1&&c.splice(v,1),c},getRandomInt:function(c,d){return Math.floor(Math.random()*(d-c+1))+c},degreesToRadians:function(c){return c*l},radiansToDegrees:function(c){return c/l},rotatePoint:function(c,d,v){var g=new t.Point(c.x-d.x,c.y-d.y),m=t.util.rotateVector(g,v);return new t.Point(m.x,m.y).addEquals(d)},rotateVector:function(c,d){var v=t.util.sin(d),g=t.util.cos(d),m=c.x*g-c.y*v,y=c.x*v+c.y*g;return{x:m,y}},createVector:function(c,d){return new t.Point(d.x-c.x,d.y-c.y)},calcAngleBetweenVectors:function(c,d){return Math.acos((c.x*d.x+c.y*d.y)/(Math.hypot(c.x,c.y)*Math.hypot(d.x,d.y)))},getHatVector:function(c){return new t.Point(c.x,c.y).multiply(1/Math.hypot(c.x,c.y))},getBisector:function(c,d,v){var g=t.util.createVector(c,d),m=t.util.createVector(c,v),y=t.util.calcAngleBetweenVectors(g,m),_=t.util.calcAngleBetweenVectors(t.util.rotateVector(g,y),m),b=y*(_===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(g,b)),angle:y}},projectStrokeOnPoints:function(c,d,v){var g=[],m=d.strokeWidth/2,y=d.strokeUniform?new t.Point(1/d.scaleX,1/d.scaleY):new t.Point(1,1),_=function(b){var w=m/Math.hypot(b.x,b.y);return new t.Point(b.x*w*y.x,b.y*w*y.y)};return c.length<=1||c.forEach(function(b,w){var S=new t.Point(b.x,b.y),x,P;w===0?(P=c[w+1],x=v?_(t.util.createVector(P,S)).addEquals(S):c[c.length-1]):w===c.length-1?(x=c[w-1],P=v?_(t.util.createVector(x,S)).addEquals(S):c[0]):(x=c[w-1],P=c[w+1]);var B=t.util.getBisector(S,x,P),G=B.vector,K=B.angle,Y,W;if(d.strokeLineJoin==="miter"&&(Y=-m/Math.sin(K/2),W=new t.Point(G.x*Y*y.x,G.y*Y*y.y),Math.hypot(W.x,W.y)/m<=d.strokeMiterLimit)){g.push(S.add(W)),g.push(S.subtract(W));return}Y=-m*Math.SQRT2,W=new t.Point(G.x*Y*y.x,G.y*Y*y.y),g.push(S.add(W)),g.push(S.subtract(W))}),g},transformPoint:function(c,d,v){return v?new t.Point(d[0]*c.x+d[2]*c.y,d[1]*c.x+d[3]*c.y):new t.Point(d[0]*c.x+d[2]*c.y+d[4],d[1]*c.x+d[3]*c.y+d[5])},makeBoundingBoxFromPoints:function(c,d){if(d)for(var v=0;v<c.length;v++)c[v]=t.util.transformPoint(c[v],d);var g=[c[0].x,c[1].x,c[2].x,c[3].x],m=t.util.array.min(g),y=t.util.array.max(g),_=y-m,b=[c[0].y,c[1].y,c[2].y,c[3].y],w=t.util.array.min(b),S=t.util.array.max(b),x=S-w;return{left:m,top:w,width:_,height:x}},invertTransform:function(c){var d=1/(c[0]*c[3]-c[1]*c[2]),v=[d*c[3],-d*c[1],-d*c[2],d*c[0]],g=t.util.transformPoint({x:c[4],y:c[5]},v,!0);return v[4]=-g.x,v[5]=-g.y,v},toFixed:function(c,d){return parseFloat(Number(c).toFixed(d))},parseUnit:function(c,d){var v=/\D{0,2}$/.exec(c),g=parseFloat(c);switch(d||(d=t.Text.DEFAULT_SVG_FONT_SIZE),v[0]){case"mm":return g*t.DPI/25.4;case"cm":return g*t.DPI/2.54;case"in":return g*t.DPI;case"pt":return g*t.DPI/72;case"pc":return g*t.DPI/72*12;case"em":return g*d;default:return g}},falseFunction:function(){return!1},getKlass:function(c,d){return c=t.util.string.camelize(c.charAt(0).toUpperCase()+c.slice(1)),t.util.resolveNamespace(d)[c]},getSvgAttributes:function(c){var d=["instantiated_by_use","style","id","class"];switch(c){case"linearGradient":d=d.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":d=d.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":d=d.concat(["offset","stop-color","stop-opacity"]);break}return d},resolveNamespace:function(c){if(!c)return t;var d=c.split("."),v=d.length,g,m=a||t.window;for(g=0;g<v;++g)m=m[d[g]];return m},loadImage:function(c,d,v,g){if(!c){d&&d.call(v,c);return}var m=t.util.createImage(),y=function(){d&&d.call(v,m,!1),m=m.onload=m.onerror=null};m.onload=y,m.onerror=function(){t.log("Error loading "+m.src),d&&d.call(v,null,!0),m=m.onload=m.onerror=null},c.indexOf("data")!==0&&g!==void 0&&g!==null&&(m.crossOrigin=g),c.substring(0,14)==="data:image/svg"&&(m.onload=null,t.util.loadImageInDom(m,y)),m.src=c},loadImageInDom:function(c,d){var v=t.document.createElement("div");v.style.width=v.style.height="1px",v.style.left=v.style.top="-100%",v.style.position="absolute",v.appendChild(c),t.document.querySelector("body").appendChild(v),c.onload=function(){d(),v.parentNode.removeChild(v),v=null}},enlivenObjects:function(c,d,v,g){c=c||[];var m=[],y=0,_=c.length;function b(){++y===_&&d&&d(m.filter(function(w){return w}))}if(!_){d&&d(m);return}c.forEach(function(w,S){if(!w||!w.type){b();return}var x=t.util.getKlass(w.type,v);x.fromObject(w,function(P,B){B||(m[S]=P),g&&g(w,P,B),b()})})},enlivenObjectEnlivables:function(c,d,v){var g=t.Object.ENLIVEN_PROPS.filter(function(m){return!!c[m]});t.util.enlivenObjects(g.map(function(m){return c[m]}),function(m){var y={};g.forEach(function(_,b){y[_]=m[b],d&&(d[_]=m[b])}),v&&v(y)})},enlivenPatterns:function(c,d){c=c||[];function v(){++m===y&&d&&d(g)}var g=[],m=0,y=c.length;if(!y){d&&d(g);return}c.forEach(function(_,b){_&&_.source?new t.Pattern(_,function(w){g[b]=w,v()}):(g[b]=_,v())})},groupSVGElements:function(c,d,v){var g;return c&&c.length===1?(typeof v<"u"&&(c[0].sourcePath=v),c[0]):(d&&(d.width&&d.height?d.centerPoint={x:d.width/2,y:d.height/2}:(delete d.width,delete d.height)),g=new t.Group(c,d),typeof v<"u"&&(g.sourcePath=v),g)},populateWithProperties:function(c,d,v){if(v&&Array.isArray(v))for(var g=0,m=v.length;g<m;g++)v[g]in c&&(d[v[g]]=c[v[g]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(c){var d=t.util.createCanvasElement();return d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0),d},toDataURL:function(c,d,v){return c.toDataURL("image/"+d,v)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(c,d,v){return[c[0]*d[0]+c[2]*d[1],c[1]*d[0]+c[3]*d[1],c[0]*d[2]+c[2]*d[3],c[1]*d[2]+c[3]*d[3],v?0:c[0]*d[4]+c[2]*d[5]+c[4],v?0:c[1]*d[4]+c[3]*d[5]+c[5]]},qrDecompose:function(c){var d=h(c[1],c[0]),v=u(c[0],2)+u(c[1],2),g=s(v),m=(c[0]*c[3]-c[2]*c[1])/g,y=h(c[0]*c[2]+c[1]*c[3],v);return{angle:d/l,scaleX:g,scaleY:m,skewX:y/l,skewY:0,translateX:c[4],translateY:c[5]}},calcRotateMatrix:function(c){if(!c.angle)return t.iMatrix.concat();var d=t.util.degreesToRadians(c.angle),v=t.util.cos(d),g=t.util.sin(d);return[v,g,-g,v,0,0]},calcDimensionsMatrix:function(c){var d=typeof c.scaleX>"u"?1:c.scaleX,v=typeof c.scaleY>"u"?1:c.scaleY,g=[c.flipX?-d:d,0,0,c.flipY?-v:v,0,0],m=t.util.multiplyTransformMatrices,y=t.util.degreesToRadians;return c.skewX&&(g=m(g,[1,0,Math.tan(y(c.skewX)),1],!0)),c.skewY&&(g=m(g,[1,Math.tan(y(c.skewY)),0,1],!0)),g},composeMatrix:function(c){var d=[1,0,0,1,c.translateX||0,c.translateY||0],v=t.util.multiplyTransformMatrices;return c.angle&&(d=v(d,t.util.calcRotateMatrix(c))),(c.scaleX!==1||c.scaleY!==1||c.skewX||c.skewY||c.flipX||c.flipY)&&(d=v(d,t.util.calcDimensionsMatrix(c))),d},resetObjectTransform:function(c){c.scaleX=1,c.scaleY=1,c.skewX=0,c.skewY=0,c.flipX=!1,c.flipY=!1,c.rotate(0)},saveObjectTransform:function(c){return{scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,angle:c.angle,left:c.left,flipX:c.flipX,flipY:c.flipY,top:c.top}},isTransparent:function(c,d,v,g){g>0&&(d>g?d-=g:d=0,v>g?v-=g:v=0);var m=!0,y,_,b=c.getImageData(d,v,g*2||1,g*2||1),w=b.data.length;for(y=3;y<w&&(_=b.data[y],m=_<=0,m!==!1);y+=4);return b=null,m},parsePreserveAspectRatioAttribute:function(c){var d="meet",v="Mid",g="Mid",m=c.split(" "),y;return m&&m.length&&(d=m.pop(),d!=="meet"&&d!=="slice"?(y=d,d="meet"):m.length&&(y=m.pop())),v=y!=="none"?y.slice(1,4):"none",g=y!=="none"?y.slice(5,8):"none",{meetOrSlice:d,alignX:v,alignY:g}},clearFabricFontCache:function(c){c=(c||"").toLowerCase(),c?t.charWidthsCache[c]&&delete t.charWidthsCache[c]:t.charWidthsCache={}},limitDimsByArea:function(c,d){var v=Math.sqrt(d*c),g=Math.floor(d/v);return{x:Math.floor(v),y:g}},capValue:function(c,d,v){return Math.max(c,Math.min(d,v))},findScaleToFit:function(c,d){return Math.min(d.width/c.width,d.height/c.height)},findScaleToCover:function(c,d){return Math.max(d.width/c.width,d.height/c.height)},matrixToSVG:function(c){return"matrix("+c.map(function(d){return t.util.toFixed(d,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(c,d){var v=t.util.invertTransform(d),g=t.util.multiplyTransformMatrices(v,c.calcOwnMatrix());t.util.applyTransformToObject(c,g)},addTransformToObject:function(c,d){t.util.applyTransformToObject(c,t.util.multiplyTransformMatrices(d,c.calcOwnMatrix()))},applyTransformToObject:function(c,d){var v=t.util.qrDecompose(d),g=new t.Point(v.translateX,v.translateY);c.flipX=!1,c.flipY=!1,c.set("scaleX",v.scaleX),c.set("scaleY",v.scaleY),c.skewX=v.skewX,c.skewY=v.skewY,c.angle=v.angle,c.setPositionByOrigin(g,"center","center")},sizeAfterTransform:function(c,d,v){var g=c/2,m=d/2,y=[{x:-g,y:-m},{x:g,y:-m},{x:-g,y:m},{x:g,y:m}],_=t.util.calcDimensionsMatrix(v),b=t.util.makeBoundingBoxFromPoints(y,_);return{x:b.width,y:b.height}},mergeClipPaths:function(c,d){var v=c,g=d;v.inverted&&!g.inverted&&(v=d,g=c),t.util.applyTransformToObject(g,t.util.multiplyTransformMatrices(t.util.invertTransform(v.calcTransformMatrix()),g.calcTransformMatrix()));var m=v.inverted&&g.inverted;return m&&(v.inverted=g.inverted=!1),new t.Group([v],{clipPath:g,inverted:m})},hasStyleChanged:function(c,d,v){return v=v||!1,c.fill!==d.fill||c.stroke!==d.stroke||c.strokeWidth!==d.strokeWidth||c.fontSize!==d.fontSize||c.fontFamily!==d.fontFamily||c.fontWeight!==d.fontWeight||c.fontStyle!==d.fontStyle||c.textBackgroundColor!==d.textBackgroundColor||c.deltaY!==d.deltaY||v&&(c.overline!==d.overline||c.underline!==d.underline||c.linethrough!==d.linethrough)},stylesToArray:function(v,d){for(var v=t.util.object.clone(v,!0),g=d.split(`
`),m=-1,y={},_=[],b=0;b<g.length;b++){if(!v[b]){m+=g[b].length;continue}for(var w=0;w<g[b].length;w++){m++;var S=v[b][w];if(S&&Object.keys(S).length>0){var x=t.util.hasStyleChanged(y,S,!0);x?_.push({start:m,end:m+1,style:S}):_[_.length-1].end++}y=S||{}}}return _},stylesFromArray:function(c,d){if(!Array.isArray(c))return c;for(var v=d.split(`
`),g=-1,m=0,y={},_=0;_<v.length;_++)for(var b=0;b<v[_].length;b++)g++,c[m]&&c[m].start<=g&&g<c[m].end&&(y[_]=y[_]||{},y[_][b]=Object.assign({},c[m].style),g===c[m].end-1&&m++);return y}}}(e),function(){var a=Array.prototype.join,s={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function u(O,R,F,D,se,j,I,X,$,V,J){var ce=t.util.cos(O),ve=t.util.sin(O),L=t.util.cos(R),A=t.util.sin(R),M=F*se*L-D*j*A+I,q=D*se*L+F*j*A+X,te=V+$*(-F*se*ve-D*j*ce),Z=J+$*(-D*se*ve+F*j*ce),re=M+$*(F*se*A+D*j*L),fe=q+$*(D*se*A-F*j*L);return["C",te,Z,re,fe,M,q]}function l(O,R,F,D,se,j,I){var X=Math.PI,$=I*X/180,V=t.util.sin($),J=t.util.cos($),ce=0,ve=0;F=Math.abs(F),D=Math.abs(D);var L=-J*O*.5-V*R*.5,A=-J*R*.5+V*O*.5,M=F*F,q=D*D,te=A*A,Z=L*L,re=M*q-M*te-q*Z,fe=0;if(re<0){var me=Math.sqrt(1-re/(M*q));F*=me,D*=me}else fe=(se===j?-1:1)*Math.sqrt(re/(M*te+q*Z));var he=fe*F*A/D,ae=-fe*D*L/F,_e=J*he-V*ae+O*.5,xe=V*he+J*ae+R*.5,ue=f(1,0,(L-he)/F,(A-ae)/D),Ee=f((L-he)/F,(A-ae)/D,(-L-he)/F,(-A-ae)/D);j===0&&Ee>0?Ee-=2*X:j===1&&Ee<0&&(Ee+=2*X);for(var k=Math.ceil(Math.abs(Ee/X*2)),C=[],T=Ee/k,H=8/3*Math.sin(T/4)*Math.sin(T/4)/Math.sin(T/2),oe=ue+T,ge=0;ge<k;ge++)C[ge]=u(ue,oe,J,V,F,D,_e,xe,H,ce,ve),ce=C[ge][5],ve=C[ge][6],ue=oe,oe+=T;return C}function f(O,R,F,D){var se=Math.atan2(R,O),j=Math.atan2(D,F);return j>=se?j-se:2*Math.PI-(se-j)}function c(O,R,F,D,se,j,I,X){var $;if(t.cachesBoundsOfCurve&&($=a.call(arguments),t.boundsOfCurveCache[$]))return t.boundsOfCurveCache[$];var V=Math.sqrt,J=Math.min,ce=Math.max,ve=Math.abs,L=[],A=[[],[]],M,q,te,Z,re,fe,me,he;q=6*O-12*F+6*se,M=-3*O+9*F-9*se+3*I,te=3*F-3*O;for(var ae=0;ae<2;++ae){if(ae>0&&(q=6*R-12*D+6*j,M=-3*R+9*D-9*j+3*X,te=3*D-3*R),ve(M)<1e-12){if(ve(q)<1e-12)continue;Z=-te/q,0<Z&&Z<1&&L.push(Z);continue}me=q*q-4*te*M,!(me<0)&&(he=V(me),re=(-q+he)/(2*M),0<re&&re<1&&L.push(re),fe=(-q-he)/(2*M),0<fe&&fe<1&&L.push(fe))}for(var _e,xe,ue=L.length,Ee=ue,k;ue--;)Z=L[ue],k=1-Z,_e=k*k*k*O+3*k*k*Z*F+3*k*Z*Z*se+Z*Z*Z*I,A[0][ue]=_e,xe=k*k*k*R+3*k*k*Z*D+3*k*Z*Z*j+Z*Z*Z*X,A[1][ue]=xe;A[0][Ee]=O,A[1][Ee]=R,A[0][Ee+1]=I,A[1][Ee+1]=X;var C=[{x:J.apply(null,A[0]),y:J.apply(null,A[1])},{x:ce.apply(null,A[0]),y:ce.apply(null,A[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[$]=C),C}function d(O,R,F){for(var D=F[1],se=F[2],j=F[3],I=F[4],X=F[5],$=F[6],V=F[7],J=l($-O,V-R,D,se,I,X,j),ce=0,ve=J.length;ce<ve;ce++)J[ce][1]+=O,J[ce][2]+=R,J[ce][3]+=O,J[ce][4]+=R,J[ce][5]+=O,J[ce][6]+=R;return J}function v(O){var R=0,F=0,D=O.length,se=0,j=0,I,X,$,V=[],J,ce,ve;for(X=0;X<D;++X){switch($=!1,I=O[X].slice(0),I[0]){case"l":I[0]="L",I[1]+=R,I[2]+=F;case"L":R=I[1],F=I[2];break;case"h":I[1]+=R;case"H":I[0]="L",I[2]=F,R=I[1];break;case"v":I[1]+=F;case"V":I[0]="L",F=I[1],I[1]=R,I[2]=F;break;case"m":I[0]="M",I[1]+=R,I[2]+=F;case"M":R=I[1],F=I[2],se=I[1],j=I[2];break;case"c":I[0]="C",I[1]+=R,I[2]+=F,I[3]+=R,I[4]+=F,I[5]+=R,I[6]+=F;case"C":ce=I[3],ve=I[4],R=I[5],F=I[6];break;case"s":I[0]="S",I[1]+=R,I[2]+=F,I[3]+=R,I[4]+=F;case"S":J==="C"?(ce=2*R-ce,ve=2*F-ve):(ce=R,ve=F),R=I[3],F=I[4],I[0]="C",I[5]=I[3],I[6]=I[4],I[3]=I[1],I[4]=I[2],I[1]=ce,I[2]=ve,ce=I[3],ve=I[4];break;case"q":I[0]="Q",I[1]+=R,I[2]+=F,I[3]+=R,I[4]+=F;case"Q":ce=I[1],ve=I[2],R=I[3],F=I[4];break;case"t":I[0]="T",I[1]+=R,I[2]+=F;case"T":J==="Q"?(ce=2*R-ce,ve=2*F-ve):(ce=R,ve=F),I[0]="Q",R=I[1],F=I[2],I[1]=ce,I[2]=ve,I[3]=R,I[4]=F;break;case"a":I[0]="A",I[6]+=R,I[7]+=F;case"A":$=!0,V=V.concat(d(R,F,I)),R=I[6],F=I[7];break;case"z":case"Z":R=se,F=j;break}$||V.push(I),J=I[0]}return V}function g(O,R,F,D){return Math.sqrt((F-O)*(F-O)+(D-R)*(D-R))}function m(O){return O*O*O}function y(O){return 3*O*O*(1-O)}function _(O){return 3*O*(1-O)*(1-O)}function b(O){return(1-O)*(1-O)*(1-O)}function w(O,R,F,D,se,j,I,X){return function($){var V=m($),J=y($),ce=_($),ve=b($);return{x:I*V+se*J+F*ce+O*ve,y:X*V+j*J+D*ce+R*ve}}}function S(O,R,F,D,se,j,I,X){return function($){var V=1-$,J=3*V*V*(F-O)+6*V*$*(se-F)+3*$*$*(I-se),ce=3*V*V*(D-R)+6*V*$*(j-D)+3*$*$*(X-j);return Math.atan2(ce,J)}}function x(O){return O*O}function P(O){return 2*O*(1-O)}function B(O){return(1-O)*(1-O)}function G(O,R,F,D,se,j){return function(I){var X=x(I),$=P(I),V=B(I);return{x:se*X+F*$+O*V,y:j*X+D*$+R*V}}}function K(O,R,F,D,se,j){return function(I){var X=1-I,$=2*X*(F-O)+2*I*(se-F),V=2*X*(D-R)+2*I*(j-D);return Math.atan2(V,$)}}function Y(O,R,F){var D={x:R,y:F},se,j=0,I;for(I=1;I<=100;I+=1)se=O(I/100),j+=g(D.x,D.y,se.x,se.y),D=se;return j}function W(O,R){for(var F=0,D=0,se=O.iterator,j={x:O.x,y:O.y},I,X,$=.01,V=O.angleFinder,J;D<R&&$>1e-4;)I=se(F),J=F,X=g(j.x,j.y,I.x,I.y),X+D>R?(F-=$,$/=2):(j=I,F+=$,D+=X);return I.angle=V(J),I}function ee(O){for(var R=0,F=O.length,D,se=0,j=0,I=0,X=0,$=[],V,J,ce,ve=0;ve<F;ve++){switch(D=O[ve],J={x:se,y:j,command:D[0]},D[0]){case"M":J.length=0,I=se=D[1],X=j=D[2];break;case"L":J.length=g(se,j,D[1],D[2]),se=D[1],j=D[2];break;case"C":V=w(se,j,D[1],D[2],D[3],D[4],D[5],D[6]),ce=S(se,j,D[1],D[2],D[3],D[4],D[5],D[6]),J.iterator=V,J.angleFinder=ce,J.length=Y(V,se,j),se=D[5],j=D[6];break;case"Q":V=G(se,j,D[1],D[2],D[3],D[4]),ce=K(se,j,D[1],D[2],D[3],D[4]),J.iterator=V,J.angleFinder=ce,J.length=Y(V,se,j),se=D[3],j=D[4];break;case"Z":case"z":J.destX=I,J.destY=X,J.length=g(se,j,I,X),se=I,j=X;break}R+=J.length,$.push(J)}return $.push({length:R,x:se,y:j}),$}function le(O,R,F){F||(F=ee(O));for(var D=0;R-F[D].length>0&&D<F.length-2;)R-=F[D].length,D++;var se=F[D],j=R/se.length,I=se.command,X=O[D],$;switch(I){case"M":return{x:se.x,y:se.y,angle:0};case"Z":case"z":return $=new t.Point(se.x,se.y).lerp(new t.Point(se.destX,se.destY),j),$.angle=Math.atan2(se.destY-se.y,se.destX-se.x),$;case"L":return $=new t.Point(se.x,se.y).lerp(new t.Point(X[1],X[2]),j),$.angle=Math.atan2(X[2]-se.y,X[1]-se.x),$;case"C":return W(se,R);case"Q":return W(se,R)}}function de(O){var R=[],F=[],D,se,j=t.rePathCommand,I="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",X="("+I+")"+t.commaWsp,$="([01])"+t.commaWsp+"?",V=X+"?"+X+"?"+X+$+$+X+"?("+I+")",J=new RegExp(V,"g"),ce,ve,L;if(!O||!O.match)return R;L=O.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var A=0,M,q=L.length;A<q;A++){D=L[A],ve=D.slice(1).trim(),F.length=0;var te=D.charAt(0);if(M=[te],te.toLowerCase()==="a")for(var Z;Z=J.exec(ve);)for(var re=1;re<Z.length;re++)F.push(Z[re]);else for(;ce=j.exec(ve);)F.push(ce[0]);for(var re=0,fe=F.length;re<fe;re++)se=parseFloat(F[re]),isNaN(se)||M.push(se);var me=s[te.toLowerCase()],he=h[te]||te;if(M.length-1>me)for(var ae=1,_e=M.length;ae<_e;ae+=me)R.push([te].concat(M.slice(ae,ae+me))),te=he;else R.push(M)}return R}function U(O,R){var F=[],D,se=new t.Point(O[0].x,O[0].y),j=new t.Point(O[1].x,O[1].y),I=O.length,X=1,$=0,V=I>2;for(R=R||0,V&&(X=O[2].x<j.x?-1:O[2].x===j.x?0:1,$=O[2].y<j.y?-1:O[2].y===j.y?0:1),F.push(["M",se.x-X*R,se.y-$*R]),D=1;D<I;D++){if(!se.eq(j)){var J=se.midPointFrom(j);F.push(["Q",se.x,se.y,J.x,J.y])}se=O[D],D+1<O.length&&(j=O[D+1])}return V&&(X=se.x>O[D-2].x?1:se.x===O[D-2].x?0:-1,$=se.y>O[D-2].y?1:se.y===O[D-2].y?0:-1),F.push(["L",se.x+X*R,se.y+$*R]),F}function Q(O,R,F){return F&&(R=t.util.multiplyTransformMatrices(R,[1,0,0,1,-F.x,-F.y])),O.map(function(D){for(var se=D.slice(0),j={},I=1;I<D.length-1;I+=2)j.x=D[I],j.y=D[I+1],j=t.util.transformPoint(j,R),se[I]=j.x,se[I+1]=j.y;return se})}t.util.joinPath=function(O){return O.map(function(R){return R.join(" ")}).join(" ")},t.util.parsePath=de,t.util.makePathSimpler=v,t.util.getSmoothPathFromPoints=U,t.util.getPathSegmentsInfo=ee,t.util.getBoundsOfCurve=c,t.util.getPointOnPath=le,t.util.transformPath=Q}(),function(){var a=Array.prototype.slice;function s(c,d){for(var v=a.call(arguments,2),g=[],m=0,y=c.length;m<y;m++)g[m]=v.length?c[m][d].apply(c[m],v):c[m][d].call(c[m]);return g}function h(c,d){return f(c,d,function(v,g){return v>=g})}function u(c,d){return f(c,d,function(v,g){return v<g})}function l(c,d){for(var v=c.length;v--;)c[v]=d;return c}function f(c,d,v){if(!(!c||c.length===0)){var g=c.length-1,m=d?c[g][d]:c[g];if(d)for(;g--;)v(c[g][d],m)&&(m=c[g][d]);else for(;g--;)v(c[g],m)&&(m=c[g]);return m}}t.util.array={fill:l,invoke:s,min:u,max:h}}(),function(){function a(h,u,l){if(l)if(!t.isLikelyNode&&u instanceof Element)h=u;else if(u instanceof Array){h=[];for(var f=0,c=u.length;f<c;f++)h[f]=a({},u[f],l)}else if(u&&typeof u=="object")for(var d in u)d==="canvas"||d==="group"?h[d]=null:u.hasOwnProperty(d)&&(h[d]=a({},u[d],l));else h=u;else for(var d in u)h[d]=u[d];return h}function s(h,u){return a({},h,u)}t.util.object={extend:a,clone:s},t.util.object.extend(t.util,t.Observable)}(),function(){function a(f){return f.replace(/-+(.)?/g,function(c,d){return d?d.toUpperCase():""})}function s(f,c){return f.charAt(0).toUpperCase()+(c?f.slice(1):f.slice(1).toLowerCase())}function h(f){return f.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(f){var c=0,d,v=[];for(c=0,d;c<f.length;c++)(d=l(f,c))!==!1&&v.push(d);return v}function l(f,c){var d=f.charCodeAt(c);if(isNaN(d))return"";if(d<55296||d>57343)return f.charAt(c);if(55296<=d&&d<=56319){if(f.length<=c+1)throw"High surrogate without following low surrogate";var v=f.charCodeAt(c+1);if(56320>v||v>57343)throw"High surrogate without following low surrogate";return f.charAt(c)+f.charAt(c+1)}if(c===0)throw"Low surrogate without preceding high surrogate";var g=f.charCodeAt(c-1);if(55296>g||g>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:a,capitalize:s,escapeXml:h,graphemeSplit:u}}(),function(){var a=Array.prototype.slice,s=function(){},h=function(){for(var d in{toString:1})if(d==="toString")return!1;return!0}(),u=function(d,v,g){for(var m in v)m in d.prototype&&typeof d.prototype[m]=="function"&&(v[m]+"").indexOf("callSuper")>-1?d.prototype[m]=function(y){return function(){var _=this.constructor.superclass;this.constructor.superclass=g;var b=v[y].apply(this,arguments);if(this.constructor.superclass=_,y!=="initialize")return b}}(m):d.prototype[m]=v[m],h&&(v.toString!==Object.prototype.toString&&(d.prototype.toString=v.toString),v.valueOf!==Object.prototype.valueOf&&(d.prototype.valueOf=v.valueOf))};function l(){}function f(d){for(var v=null,g=this;g.constructor.superclass;){var m=g.constructor.superclass.prototype[d];if(g[d]!==m){v=m;break}g=g.constructor.superclass.prototype}return v?arguments.length>1?v.apply(this,a.call(arguments,1)):v.call(this):console.log("tried to callSuper "+d+", method not found in prototype chain",this)}function c(){var d=null,v=a.call(arguments,0);typeof v[0]=="function"&&(d=v.shift());function g(){this.initialize.apply(this,arguments)}g.superclass=d,g.subclasses=[],d&&(l.prototype=d.prototype,g.prototype=new l,d.subclasses.push(g));for(var m=0,y=v.length;m<y;m++)u(g,v[m],d);return g.prototype.initialize||(g.prototype.initialize=s),g.prototype.constructor=g,g.prototype.callSuper=f,g}t.util.createClass=c}(),function(){var a=!!t.document.createElement("div").attachEvent,s=["touchstart","touchmove","touchend"];t.util.addListener=function(u,l,f,c){u&&u.addEventListener(l,f,a?!1:c)},t.util.removeListener=function(u,l,f,c){u&&u.removeEventListener(l,f,a?!1:c)};function h(u){var l=u.changedTouches;return l&&l[0]?l[0]:u}t.util.getPointer=function(u){var l=u.target,f=t.util.getScrollLeftTop(l),c=h(u);return{x:c.clientX+f.left,y:c.clientY+f.top}},t.util.isTouchEvent=function(u){return s.indexOf(u.type)>-1||u.pointerType==="touch"}}(),function(){function a(c,d){var v=c.style;if(!v)return c;if(typeof d=="string")return c.style.cssText+=";"+d,d.indexOf("opacity")>-1?f(c,d.match(/opacity:\s*(\d?\.?\d*)/)[1]):c;for(var g in d)if(g==="opacity")f(c,d[g]);else{var m=g==="float"||g==="cssFloat"?typeof v.styleFloat>"u"?"cssFloat":"styleFloat":g;v.setProperty(m,d[g])}return c}var s=t.document.createElement("div"),h=typeof s.style.opacity=="string",u=typeof s.style.filter=="string",l=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,f=function(c){return c};h?f=function(c,d){return c.style.opacity=d,c}:u&&(f=function(c,d){var v=c.style;return c.currentStyle&&!c.currentStyle.hasLayout&&(v.zoom=1),l.test(v.filter)?(d=d>=.9999?"":"alpha(opacity="+d*100+")",v.filter=v.filter.replace(l,d)):v.filter+=" alpha(opacity="+d*100+")",c}),t.util.setStyle=a}(),function(){var a=Array.prototype.slice;function s(b){return typeof b=="string"?t.document.getElementById(b):b}var h,u=function(b){return a.call(b,0)};try{h=u(t.document.childNodes)instanceof Array}catch{}h||(u=function(b){for(var w=new Array(b.length),S=b.length;S--;)w[S]=b[S];return w});function l(b,w){var S=t.document.createElement(b);for(var x in w)x==="class"?S.className=w[x]:x==="for"?S.htmlFor=w[x]:S.setAttribute(x,w[x]);return S}function f(b,w){b&&(" "+b.className+" ").indexOf(" "+w+" ")===-1&&(b.className+=(b.className?" ":"")+w)}function c(b,w,S){return typeof w=="string"&&(w=l(w,S)),b.parentNode&&b.parentNode.replaceChild(w,b),w.appendChild(b),w}function d(b){for(var w=0,S=0,x=t.document.documentElement,P=t.document.body||{scrollLeft:0,scrollTop:0};b&&(b.parentNode||b.host)&&(b=b.parentNode||b.host,b===t.document?(w=P.scrollLeft||x.scrollLeft||0,S=P.scrollTop||x.scrollTop||0):(w+=b.scrollLeft||0,S+=b.scrollTop||0),!(b.nodeType===1&&b.style.position==="fixed")););return{left:w,top:S}}function v(b){var w,S=b&&b.ownerDocument,x={left:0,top:0},P={left:0,top:0},B,G={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!S)return P;for(var K in G)P[G[K]]+=parseInt(g(b,K),10)||0;return w=S.documentElement,typeof b.getBoundingClientRect<"u"&&(x=b.getBoundingClientRect()),B=d(b),{left:x.left+B.left-(w.clientLeft||0)+P.left,top:x.top+B.top-(w.clientTop||0)+P.top}}var g;t.document.defaultView&&t.document.defaultView.getComputedStyle?g=function(b,w){var S=t.document.defaultView.getComputedStyle(b,null);return S?S[w]:void 0}:g=function(b,w){var S=b.style[w];return!S&&b.currentStyle&&(S=b.currentStyle[w]),S},function(){var b=t.document.documentElement.style,w="userSelect"in b?"userSelect":"MozUserSelect"in b?"MozUserSelect":"WebkitUserSelect"in b?"WebkitUserSelect":"KhtmlUserSelect"in b?"KhtmlUserSelect":"";function S(P){return typeof P.onselectstart<"u"&&(P.onselectstart=t.util.falseFunction),w?P.style[w]="none":typeof P.unselectable=="string"&&(P.unselectable="on"),P}function x(P){return typeof P.onselectstart<"u"&&(P.onselectstart=null),w?P.style[w]="":typeof P.unselectable=="string"&&(P.unselectable=""),P}t.util.makeElementUnselectable=S,t.util.makeElementSelectable=x}();function m(b){var w=t.jsdomImplForWrapper(b);return w._canvas||w._image}function y(b){if(t.isLikelyNode){var w=t.jsdomImplForWrapper(b);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function _(b,w){b.imageSmoothingEnabled=b.imageSmoothingEnabled||b.webkitImageSmoothingEnabled||b.mozImageSmoothingEnabled||b.msImageSmoothingEnabled||b.oImageSmoothingEnabled,b.imageSmoothingEnabled=w}t.util.setImageSmoothing=_,t.util.getById=s,t.util.toArray=u,t.util.addClass=f,t.util.makeElement=l,t.util.wrapElement=c,t.util.getScrollLeftTop=d,t.util.getElementOffset=v,t.util.getNodeCanvas=m,t.util.cleanUpJsdomNode=y}(),function(){function a(u,l){return u+(/\?/.test(u)?"&":"?")+l}function s(){}function h(u,l){l||(l={});var f=l.method?l.method.toUpperCase():"GET",c=l.onComplete||function(){},d=new t.window.XMLHttpRequest,v=l.body||l.parameters;return d.onreadystatechange=function(){d.readyState===4&&(c(d),d.onreadystatechange=s)},f==="GET"&&(v=null,typeof l.parameters=="string"&&(u=a(u,l.parameters))),d.open(f,u,!0),(f==="POST"||f==="PUT")&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.send(v),d}t.util.request=h}(),t.log=console.log,t.warn=console.warn,function(){var a=t.util.object.extend,s=t.util.object.clone,h=[];t.util.object.extend(h,{cancelAll:function(){var m=this.splice(0);return m.forEach(function(y){y.cancel()}),m},cancelByCanvas:function(m){if(!m)return[];var y=this.filter(function(_){return typeof _.target=="object"&&_.target.canvas===m});return y.forEach(function(_){_.cancel()}),y},cancelByTarget:function(m){var y=this.findAnimationsByTarget(m);return y.forEach(function(_){_.cancel()}),y},findAnimationIndex:function(m){return this.indexOf(this.findAnimation(m))},findAnimation:function(m){return this.find(function(y){return y.cancel===m})},findAnimationsByTarget:function(m){return m?this.filter(function(y){return y.target===m}):[]}});function u(){return!1}function l(m,y,_,b){return-_*Math.cos(m/b*(Math.PI/2))+_+y}function f(m){m||(m={});var y=!1,_,b=function(){var w=t.runningAnimations.indexOf(_);return w>-1&&t.runningAnimations.splice(w,1)[0]};return _=a(s(m),{cancel:function(){return y=!0,b()},currentValue:"startValue"in m?m.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(_),v(function(w){var S=w||+new Date,x=m.duration||500,P=S+x,B,G=m.onChange||u,K=m.abort||u,Y=m.onComplete||u,W=m.easing||l,ee="startValue"in m?m.startValue.length>0:!1,le="startValue"in m?m.startValue:0,de="endValue"in m?m.endValue:100,U=m.byValue||(ee?le.map(function(Q,O){return de[O]-le[O]}):de-le);m.onStart&&m.onStart(),function Q(O){B=O||+new Date;var R=B>P?x:B-S,F=R/x,D=ee?le.map(function(j,I){return W(R,le[I],U[I],x)}):W(R,le,U,x),se=Math.abs(ee?(D[0]-le[0])/U[0]:(D-le)/U);if(_.currentValue=ee?D.slice():D,_.completionRate=se,_.durationRate=F,!y){if(K(D,se,F)){b();return}if(B>P){_.currentValue=ee?de.slice():de,_.completionRate=1,_.durationRate=1,G(ee?de.slice():de,1,1),Y(de,1,1),b();return}else G(D,se,F),v(Q)}}(S)}),_.cancel}var c=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(m){return t.window.setTimeout(m,1e3/60)},d=t.window.cancelAnimationFrame||t.window.clearTimeout;function v(){return c.apply(t.window,arguments)}function g(){return d.apply(t.window,arguments)}t.util.animate=f,t.util.requestAnimFrame=v,t.util.cancelAnimFrame=g,t.runningAnimations=h}(),function(){function a(h,u,l){var f="rgba("+parseInt(h[0]+l*(u[0]-h[0]),10)+","+parseInt(h[1]+l*(u[1]-h[1]),10)+","+parseInt(h[2]+l*(u[2]-h[2]),10);return f+=","+(h&&u?parseFloat(h[3]+l*(u[3]-h[3])):1),f+=")",f}function s(h,u,l,f){var c=new t.Color(h).getSource(),d=new t.Color(u).getSource(),v=f.onComplete,g=f.onChange;return f=f||{},t.util.animate(t.util.object.extend(f,{duration:l||500,startValue:c,endValue:d,byValue:d,easing:function(m,y,_,b){var w=f.colorEasing?f.colorEasing(m,b):1-Math.cos(m/b*(Math.PI/2));return a(y,_,w)},onComplete:function(m,y,_){if(v)return v(a(d,d,0),y,_)},onChange:function(m,y,_){if(g){if(Array.isArray(m))return g(a(m,m,0),y,_);g(m,y,_)}}}))}t.util.animateColor=s}(),function(){function a(O,R,F,D){return O<Math.abs(R)?(O=R,D=F/4):R===0&&O===0?D=F/(2*Math.PI)*Math.asin(1):D=F/(2*Math.PI)*Math.asin(R/O),{a:O,c:R,p:F,s:D}}function s(O,R,F){return O.a*Math.pow(2,10*(R-=1))*Math.sin((R*F-O.s)*(2*Math.PI)/O.p)}function h(O,R,F,D){return F*((O=O/D-1)*O*O+1)+R}function u(O,R,F,D){return O/=D/2,O<1?F/2*O*O*O+R:F/2*((O-=2)*O*O+2)+R}function l(O,R,F,D){return F*(O/=D)*O*O*O+R}function f(O,R,F,D){return-F*((O=O/D-1)*O*O*O-1)+R}function c(O,R,F,D){return O/=D/2,O<1?F/2*O*O*O*O+R:-F/2*((O-=2)*O*O*O-2)+R}function d(O,R,F,D){return F*(O/=D)*O*O*O*O+R}function v(O,R,F,D){return F*((O=O/D-1)*O*O*O*O+1)+R}function g(O,R,F,D){return O/=D/2,O<1?F/2*O*O*O*O*O+R:F/2*((O-=2)*O*O*O*O+2)+R}function m(O,R,F,D){return-F*Math.cos(O/D*(Math.PI/2))+F+R}function y(O,R,F,D){return F*Math.sin(O/D*(Math.PI/2))+R}function _(O,R,F,D){return-F/2*(Math.cos(Math.PI*O/D)-1)+R}function b(O,R,F,D){return O===0?R:F*Math.pow(2,10*(O/D-1))+R}function w(O,R,F,D){return O===D?R+F:F*(-Math.pow(2,-10*O/D)+1)+R}function S(O,R,F,D){return O===0?R:O===D?R+F:(O/=D/2,O<1?F/2*Math.pow(2,10*(O-1))+R:F/2*(-Math.pow(2,-10*--O)+2)+R)}function x(O,R,F,D){return-F*(Math.sqrt(1-(O/=D)*O)-1)+R}function P(O,R,F,D){return F*Math.sqrt(1-(O=O/D-1)*O)+R}function B(O,R,F,D){return O/=D/2,O<1?-F/2*(Math.sqrt(1-O*O)-1)+R:F/2*(Math.sqrt(1-(O-=2)*O)+1)+R}function G(O,R,F,D){var se=1.70158,j=0,I=F;if(O===0)return R;if(O/=D,O===1)return R+F;j||(j=D*.3);var X=a(I,F,j,se);return-s(X,O,D)+R}function K(O,R,F,D){var se=1.70158,j=0,I=F;if(O===0)return R;if(O/=D,O===1)return R+F;j||(j=D*.3);var X=a(I,F,j,se);return X.a*Math.pow(2,-10*O)*Math.sin((O*D-X.s)*(2*Math.PI)/X.p)+X.c+R}function Y(O,R,F,D){var se=1.70158,j=0,I=F;if(O===0)return R;if(O/=D/2,O===2)return R+F;j||(j=D*(.3*1.5));var X=a(I,F,j,se);return O<1?-.5*s(X,O,D)+R:X.a*Math.pow(2,-10*(O-=1))*Math.sin((O*D-X.s)*(2*Math.PI)/X.p)*.5+X.c+R}function W(O,R,F,D,se){return se===void 0&&(se=1.70158),F*(O/=D)*O*((se+1)*O-se)+R}function ee(O,R,F,D,se){return se===void 0&&(se=1.70158),F*((O=O/D-1)*O*((se+1)*O+se)+1)+R}function le(O,R,F,D,se){return se===void 0&&(se=1.70158),O/=D/2,O<1?F/2*(O*O*(((se*=1.525)+1)*O-se))+R:F/2*((O-=2)*O*(((se*=1.525)+1)*O+se)+2)+R}function de(O,R,F,D){return F-U(D-O,0,F,D)+R}function U(O,R,F,D){return(O/=D)<1/2.75?F*(7.5625*O*O)+R:O<2/2.75?F*(7.5625*(O-=1.5/2.75)*O+.75)+R:O<2.5/2.75?F*(7.5625*(O-=2.25/2.75)*O+.9375)+R:F*(7.5625*(O-=2.625/2.75)*O+.984375)+R}function Q(O,R,F,D){return O<D/2?de(O*2,0,F,D)*.5+R:U(O*2-D,0,F,D)*.5+F*.5+R}t.util.ease={easeInQuad:function(O,R,F,D){return F*(O/=D)*O+R},easeOutQuad:function(O,R,F,D){return-F*(O/=D)*(O-2)+R},easeInOutQuad:function(O,R,F,D){return O/=D/2,O<1?F/2*O*O+R:-F/2*(--O*(O-2)-1)+R},easeInCubic:function(O,R,F,D){return F*(O/=D)*O*O+R},easeOutCubic:h,easeInOutCubic:u,easeInQuart:l,easeOutQuart:f,easeInOutQuart:c,easeInQuint:d,easeOutQuint:v,easeInOutQuint:g,easeInSine:m,easeOutSine:y,easeInOutSine:_,easeInExpo:b,easeOutExpo:w,easeInOutExpo:S,easeInCirc:x,easeOutCirc:P,easeInOutCirc:B,easeInElastic:G,easeOutElastic:K,easeInOutElastic:Y,easeInBack:W,easeOutBack:ee,easeInOutBack:le,easeInBounce:de,easeOutBounce:U,easeInOutBounce:Q}}(),function(a){var s=a.fabric||(a.fabric={}),h=s.util.object.extend,u=s.util.object.clone,l=s.util.toFixed,f=s.util.parseUnit,c=s.util.multiplyTransformMatrices,d=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],v=["symbol","image","marker","pattern","view","svg"],g=["pattern","defs","symbol","metadata","clipPath","mask","desc"],m=["symbol","g","a","svg","clipPath","defs"],y={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_={stroke:"strokeOpacity",fill:"fillOpacity"},b="font-size",w="clip-path";s.svgValidTagNamesRegEx=P(d),s.svgViewBoxElementsRegEx=P(v),s.svgInvalidAncestorsRegEx=P(g),s.svgValidParentsRegEx=P(m),s.cssRules={},s.gradientDefs={},s.clipPaths={};function S(j){return j in y?y[j]:j}function x(j,I,X,$){var V=Array.isArray(I),J;if((j==="fill"||j==="stroke")&&I==="none")I="";else{if(j==="strokeUniform")return I==="non-scaling-stroke";if(j==="strokeDashArray")I==="none"?I=null:I=I.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(j==="transformMatrix")X&&X.transformMatrix?I=c(X.transformMatrix,s.parseTransformAttribute(I)):I=s.parseTransformAttribute(I);else if(j==="visible")I=I!=="none"&&I!=="hidden",X&&X.visible===!1&&(I=!1);else if(j==="opacity")I=parseFloat(I),X&&typeof X.opacity<"u"&&(I*=X.opacity);else if(j==="textAnchor")I=I==="start"?"left":I==="end"?"right":"center";else if(j==="charSpacing")J=f(I,$)/$*1e3;else if(j==="paintFirst"){var ce=I.indexOf("fill"),ve=I.indexOf("stroke"),I="fill";(ce>-1&&ve>-1&&ve<ce||ce===-1&&ve>-1)&&(I="stroke")}else{if(j==="href"||j==="xlink:href"||j==="font")return I;if(j==="imageSmoothing")return I==="optimizeQuality";J=V?I.map(f):f(I,$)}}return!V&&isNaN(J)?I:J}function P(j){return new RegExp("^("+j.join("|")+")\\b","i")}function B(j){for(var I in _)if(!(typeof j[_[I]]>"u"||j[I]==="")){if(typeof j[I]>"u"){if(!s.Object.prototype[I])continue;j[I]=s.Object.prototype[I]}if(j[I].indexOf("url(")!==0){var X=new s.Color(j[I]);j[I]=X.setAlpha(l(X.getAlpha()*j[_[I]],2)).toRgba()}}return j}function G(j,I){var X,$=[],V,J,ce;for(J=0,ce=I.length;J<ce;J++)X=I[J],V=j.getElementsByTagName(X),$=$.concat(Array.prototype.slice.call(V));return $}s.parseTransformAttribute=function(){function j(ae,_e){var xe=s.util.cos(_e[0]),ue=s.util.sin(_e[0]),Ee=0,k=0;_e.length===3&&(Ee=_e[1],k=_e[2]),ae[0]=xe,ae[1]=ue,ae[2]=-ue,ae[3]=xe,ae[4]=Ee-(xe*Ee-ue*k),ae[5]=k-(ue*Ee+xe*k)}function I(ae,_e){var xe=_e[0],ue=_e.length===2?_e[1]:_e[0];ae[0]=xe,ae[3]=ue}function X(ae,_e,xe){ae[xe]=Math.tan(s.util.degreesToRadians(_e[0]))}function $(ae,_e){ae[4]=_e[0],_e.length===2&&(ae[5]=_e[1])}var V=s.iMatrix,J=s.reNum,ce=s.commaWsp,ve="(?:(skewX)\\s*\\(\\s*("+J+")\\s*\\))",L="(?:(skewY)\\s*\\(\\s*("+J+")\\s*\\))",A="(?:(rotate)\\s*\\(\\s*("+J+")(?:"+ce+"("+J+")"+ce+"("+J+"))?\\s*\\))",M="(?:(scale)\\s*\\(\\s*("+J+")(?:"+ce+"("+J+"))?\\s*\\))",q="(?:(translate)\\s*\\(\\s*("+J+")(?:"+ce+"("+J+"))?\\s*\\))",te="(?:(matrix)\\s*\\(\\s*("+J+")"+ce+"("+J+")"+ce+"("+J+")"+ce+"("+J+")"+ce+"("+J+")"+ce+"("+J+")\\s*\\))",Z="(?:"+te+"|"+q+"|"+M+"|"+A+"|"+ve+"|"+L+")",re="(?:"+Z+"(?:"+ce+"*"+Z+")*)",fe="^\\s*(?:"+re+"?)\\s*$",me=new RegExp(fe),he=new RegExp(Z,"g");return function(ae){var _e=V.concat(),xe=[];if(!ae||ae&&!me.test(ae))return _e;ae.replace(he,function(Ee){var k=new RegExp(Z).exec(Ee).filter(function(H){return!!H}),C=k[1],T=k.slice(2).map(parseFloat);switch(C){case"translate":$(_e,T);break;case"rotate":T[0]=s.util.degreesToRadians(T[0]),j(_e,T);break;case"scale":I(_e,T);break;case"skewX":X(_e,T,2);break;case"skewY":X(_e,T,1);break;case"matrix":_e=T;break}xe.push(_e.concat()),_e=V.concat()});for(var ue=xe[0];xe.length>1;)xe.shift(),ue=s.util.multiplyTransformMatrices(ue,xe[0]);return ue}}();function K(j,I){var X,$;j.replace(/;\s*$/,"").split(";").forEach(function(V){var J=V.split(":");X=J[0].trim().toLowerCase(),$=J[1].trim(),I[X]=$})}function Y(j,I){var X,$;for(var V in j)typeof j[V]>"u"||(X=V.toLowerCase(),$=j[V],I[X]=$)}function W(j,I){var X={};for(var $ in s.cssRules[I])if(ee(j,$.split(" ")))for(var V in s.cssRules[I][$])X[V]=s.cssRules[I][$][V];return X}function ee(j,I){var X,$=!0;return X=de(j,I.pop()),X&&I.length&&($=le(j,I)),X&&$&&I.length===0}function le(j,I){for(var X,$=!0;j.parentNode&&j.parentNode.nodeType===1&&I.length;)$&&(X=I.pop()),j=j.parentNode,$=de(j,X);return I.length===0}function de(j,I){var X=j.nodeName,$=j.getAttribute("class"),V=j.getAttribute("id"),J,ce;if(J=new RegExp("^"+X,"i"),I=I.replace(J,""),V&&I.length&&(J=new RegExp("#"+V+"(?![a-zA-Z\\-]+)","i"),I=I.replace(J,"")),$&&I.length)for($=$.split(" "),ce=$.length;ce--;)J=new RegExp("\\."+$[ce]+"(?![a-zA-Z\\-]+)","i"),I=I.replace(J,"");return I.length===0}function U(j,I){var X;if(j.getElementById&&(X=j.getElementById(I)),X)return X;var $,V,J,ce=j.getElementsByTagName("*");for(V=0,J=ce.length;V<J;V++)if($=ce[V],I===$.getAttribute("id"))return $}function Q(j){for(var I=G(j,["use","svg:use"]),X=0;I.length&&X<I.length;){var $=I[X],V=$.getAttribute("xlink:href")||$.getAttribute("href");if(V===null)return;var J=V.slice(1),ce=$.getAttribute("x")||0,ve=$.getAttribute("y")||0,L=U(j,J).cloneNode(!0),A=(L.getAttribute("transform")||"")+" translate("+ce+", "+ve+")",M,q=I.length,te,Z,re,fe,me=s.svgNS;if(R(L),/^svg$/i.test(L.nodeName)){var he=L.ownerDocument.createElementNS(me,"g");for(Z=0,re=L.attributes,fe=re.length;Z<fe;Z++)te=re.item(Z),he.setAttributeNS(me,te.nodeName,te.nodeValue);for(;L.firstChild;)he.appendChild(L.firstChild);L=he}for(Z=0,re=$.attributes,fe=re.length;Z<fe;Z++)te=re.item(Z),!(te.nodeName==="x"||te.nodeName==="y"||te.nodeName==="xlink:href"||te.nodeName==="href")&&(te.nodeName==="transform"?A=te.nodeValue+" "+A:L.setAttribute(te.nodeName,te.nodeValue));L.setAttribute("transform",A),L.setAttribute("instantiated_by_use","1"),L.removeAttribute("id"),M=$.parentNode,M.replaceChild(L,$),I.length===q&&X++}}var O=new RegExp("^\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*$");function R(j){if(!s.svgViewBoxElementsRegEx.test(j.nodeName))return{};var I=j.getAttribute("viewBox"),X=1,$=1,V=0,J=0,ce,ve,L,A,M=j.getAttribute("width"),q=j.getAttribute("height"),te=j.getAttribute("x")||0,Z=j.getAttribute("y")||0,re=j.getAttribute("preserveAspectRatio")||"",fe=!I||!(I=I.match(O)),me=!M||!q||M==="100%"||q==="100%",he=fe&&me,ae={},_e="",xe=0,ue=0;if(ae.width=0,ae.height=0,ae.toBeParsed=he,fe&&(te||Z)&&j.parentNode&&j.parentNode.nodeName!=="#document"&&(_e=" translate("+f(te)+" "+f(Z)+") ",L=(j.getAttribute("transform")||"")+_e,j.setAttribute("transform",L),j.removeAttribute("x"),j.removeAttribute("y")),he)return ae;if(fe)return ae.width=f(M),ae.height=f(q),ae;if(V=-parseFloat(I[1]),J=-parseFloat(I[2]),ce=parseFloat(I[3]),ve=parseFloat(I[4]),ae.minX=V,ae.minY=J,ae.viewBoxWidth=ce,ae.viewBoxHeight=ve,me?(ae.width=ce,ae.height=ve):(ae.width=f(M),ae.height=f(q),X=ae.width/ce,$=ae.height/ve),re=s.util.parsePreserveAspectRatioAttribute(re),re.alignX!=="none"&&(re.meetOrSlice==="meet"&&($=X=X>$?$:X),re.meetOrSlice==="slice"&&($=X=X>$?X:$),xe=ae.width-ce*X,ue=ae.height-ve*X,re.alignX==="Mid"&&(xe/=2),re.alignY==="Mid"&&(ue/=2),re.alignX==="Min"&&(xe=0),re.alignY==="Min"&&(ue=0)),X===1&&$===1&&V===0&&J===0&&te===0&&Z===0)return ae;if((te||Z)&&j.parentNode.nodeName!=="#document"&&(_e=" translate("+f(te)+" "+f(Z)+") "),L=_e+" matrix("+X+" 0 0 "+$+" "+(V*X+xe)+" "+(J*$+ue)+") ",j.nodeName==="svg"){for(A=j.ownerDocument.createElementNS(s.svgNS,"g");j.firstChild;)A.appendChild(j.firstChild);j.appendChild(A)}else A=j,A.removeAttribute("x"),A.removeAttribute("y"),L=A.getAttribute("transform")+L;return A.setAttribute("transform",L),ae}function F(j,I){for(;j&&(j=j.parentNode);)if(j.nodeName&&I.test(j.nodeName.replace("svg:",""))&&!j.getAttribute("instantiated_by_use"))return!0;return!1}s.parseSVGDocument=function(j,I,X,$){if(j){Q(j);var V=s.Object.__uid++,J,ce,ve=R(j),L=s.util.toArray(j.getElementsByTagName("*"));if(ve.crossOrigin=$&&$.crossOrigin,ve.svgUid=V,L.length===0&&s.isLikelyNode){L=j.selectNodes('//*[name(.)!="svg"]');var A=[];for(J=0,ce=L.length;J<ce;J++)A[J]=L[J];L=A}var M=L.filter(function(te){return R(te),s.svgValidTagNamesRegEx.test(te.nodeName.replace("svg:",""))&&!F(te,s.svgInvalidAncestorsRegEx)});if(!M||M&&!M.length){I&&I([],{});return}var q={};L.filter(function(te){return te.nodeName.replace("svg:","")==="clipPath"}).forEach(function(te){var Z=te.getAttribute("id");q[Z]=s.util.toArray(te.getElementsByTagName("*")).filter(function(re){return s.svgValidTagNamesRegEx.test(re.nodeName.replace("svg:",""))})}),s.gradientDefs[V]=s.getGradientDefs(j),s.cssRules[V]=s.getCSSRules(j),s.clipPaths[V]=q,s.parseElements(M,function(te,Z){I&&(I(te,ve,Z,L),delete s.gradientDefs[V],delete s.cssRules[V],delete s.clipPaths[V])},u(ve),X,$)}};function D(j,I){var X=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],$="xlink:href",V=I.getAttribute($).slice(1),J=U(j,V);if(J&&J.getAttribute($)&&D(j,J),X.forEach(function(ve){J&&!I.hasAttribute(ve)&&J.hasAttribute(ve)&&I.setAttribute(ve,J.getAttribute(ve))}),!I.children.length)for(var ce=J.cloneNode(!0);ce.firstChild;)I.appendChild(ce.firstChild);I.removeAttribute($)}var se=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+s.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+s.reNum+"))?\\s+(.*)");h(s,{parseFontDeclaration:function(j,I){var X=j.match(se);if(X){var $=X[1],V=X[3],J=X[4],ce=X[5],ve=X[6];$&&(I.fontStyle=$),V&&(I.fontWeight=isNaN(parseFloat(V))?V:parseFloat(V)),J&&(I.fontSize=f(J)),ve&&(I.fontFamily=ve),ce&&(I.lineHeight=ce==="normal"?1:ce)}},getGradientDefs:function(j){var I=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],X=G(j,I),$,V=0,J={};for(V=X.length;V--;)$=X[V],$.getAttribute("xlink:href")&&D(j,$),J[$.getAttribute("id")]=$;return J},parseAttributes:function(j,I,X){if(j){var $,V={},J,ce;typeof X>"u"&&(X=j.getAttribute("svgUid")),j.parentNode&&s.svgValidParentsRegEx.test(j.parentNode.nodeName)&&(V=s.parseAttributes(j.parentNode,I,X));var ve=I.reduce(function(re,fe){return $=j.getAttribute(fe),$&&(re[fe]=$),re},{}),L=h(W(j,X),s.parseStyleAttribute(j));ve=h(ve,L),L[w]&&j.setAttribute(w,L[w]),J=ce=V.fontSize||s.Text.DEFAULT_SVG_FONT_SIZE,ve[b]&&(ve[b]=J=f(ve[b],ce));var A,M,q={};for(var te in ve)A=S(te),M=x(A,ve[te],V,J),q[A]=M;q&&q.font&&s.parseFontDeclaration(q.font,q);var Z=h(V,q);return s.svgValidParentsRegEx.test(j.nodeName)?Z:B(Z)}},parseElements:function(j,I,X,$,V){new s.ElementsParser(j,I,X,$,V).parse()},parseStyleAttribute:function(j){var I={},X=j.getAttribute("style");return X&&(typeof X=="string"?K(X,I):Y(X,I)),I},parsePointsAttribute:function(j){if(!j)return null;j=j.replace(/,/g," ").trim(),j=j.split(/\s+/);var I=[],X,$;for(X=0,$=j.length;X<$;X+=2)I.push({x:parseFloat(j[X]),y:parseFloat(j[X+1])});return I},getCSSRules:function(j){var I=j.getElementsByTagName("style"),X,$,V={},J;for(X=0,$=I.length;X<$;X++){var ce=I[X].textContent;ce=ce.replace(/\/\*[\s\S]*?\*\//g,""),ce.trim()!==""&&(J=ce.split("}"),J=J.filter(function(ve){return ve.trim()}),J.forEach(function(ve){var L=ve.split("{"),A={},M=L[1].trim(),q=M.split(";").filter(function(fe){return fe.trim()});for(X=0,$=q.length;X<$;X++){var te=q[X].split(":"),Z=te[0].trim(),re=te[1].trim();A[Z]=re}ve=L[0].trim(),ve.split(",").forEach(function(fe){fe=fe.replace(/^svg/i,"").trim(),fe!==""&&(V[fe]?s.util.object.extend(V[fe],A):V[fe]=s.util.object.clone(A))})}))}return V},loadSVGFromURL:function(j,I,X,$){j=j.replace(/^\n\s*/,"").trim(),new s.util.request(j,{method:"get",onComplete:V});function V(J){var ce=J.responseXML;if(!ce||!ce.documentElement)return I&&I(null),!1;s.parseSVGDocument(ce.documentElement,function(ve,L,A,M){I&&I(ve,L,A,M)},X,$)}},loadSVGFromString:function(j,I,X,$){var V=new s.window.DOMParser,J=V.parseFromString(j.trim(),"text/xml");s.parseSVGDocument(J.documentElement,function(ce,ve,L,A){I(ce,ve,L,A)},X,$)}})}(e),t.ElementsParser=function(a,s,h,u,l,f){this.elements=a,this.callback=s,this.options=h,this.reviver=u,this.svgUid=h&&h.svgUid||0,this.parsingOptions=l,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=f},function(a){a.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},a.createObjects=function(){var s=this;this.elements.forEach(function(h,u){h.setAttribute("svgUid",s.svgUid),s.createObject(h,u)})},a.findTag=function(s){return t[t.util.string.capitalize(s.tagName.replace("svg:",""))]},a.createObject=function(s,h){var u=this.findTag(s);if(u&&u.fromElement)try{u.fromElement(s,this.createCallback(h,s),this.options)}catch(l){t.log(l)}else this.checkIfDone()},a.createCallback=function(s,h){var u=this;return function(l){var f;u.resolveGradient(l,h,"fill"),u.resolveGradient(l,h,"stroke"),l instanceof t.Image&&l._originalElement&&(f=l.parsePreserveAspectRatioAttribute(h)),l._removeTransformMatrix(f),u.resolveClipPath(l,h),u.reviver&&u.reviver(h,l),u.instances[s]=l,u.checkIfDone()}},a.extractPropertyDefinition=function(s,h,u){var l=s[h],f=this.regexUrl;if(f.test(l)){f.lastIndex=0;var c=f.exec(l)[1];return f.lastIndex=0,t[u][this.svgUid][c]}},a.resolveGradient=function(s,h,u){var l=this.extractPropertyDefinition(s,u,"gradientDefs");if(l){var f=h.getAttribute(u+"-opacity"),c=t.Gradient.fromElement(l,s,f,this.options);s.set(u,c)}},a.createClipPathCallback=function(s,h){return function(u){u._removeTransformMatrix(),u.fillRule=u.clipRule,h.push(u)}},a.resolveClipPath=function(s,h){var u=this.extractPropertyDefinition(s,"clipPath","clipPaths"),l,f,c,d,v,g;if(u){d=[],c=t.util.invertTransform(s.calcTransformMatrix());for(var m=u[0].parentNode,y=h;y.parentNode&&y.getAttribute("clip-path")!==s.clipPath;)y=y.parentNode;y.parentNode.appendChild(m);for(var _=0;_<u.length;_++)l=u[_],f=this.findTag(l),f.fromElement(l,this.createClipPathCallback(s,d),this.options);d.length===1?u=d[0]:u=new t.Group(d),v=t.util.multiplyTransformMatrices(c,u.calcTransformMatrix()),u.clipPath&&this.resolveClipPath(u,y);var g=t.util.qrDecompose(v);u.flipX=!1,u.flipY=!1,u.set("scaleX",g.scaleX),u.set("scaleY",g.scaleY),u.angle=g.angle,u.skewX=g.skewX,u.skewY=0,u.setPositionByOrigin({x:g.translateX,y:g.translateY},"center","center"),s.clipPath=u}else delete s.clipPath},a.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(s){return s!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(a){var s=a.fabric||(a.fabric={});if(s.Point){s.warn("fabric.Point is already defined");return}s.Point=h;function h(u,l){this.x=u,this.y=l}h.prototype={type:"point",constructor:h,add:function(u){return new h(this.x+u.x,this.y+u.y)},addEquals:function(u){return this.x+=u.x,this.y+=u.y,this},scalarAdd:function(u){return new h(this.x+u,this.y+u)},scalarAddEquals:function(u){return this.x+=u,this.y+=u,this},subtract:function(u){return new h(this.x-u.x,this.y-u.y)},subtractEquals:function(u){return this.x-=u.x,this.y-=u.y,this},scalarSubtract:function(u){return new h(this.x-u,this.y-u)},scalarSubtractEquals:function(u){return this.x-=u,this.y-=u,this},multiply:function(u){return new h(this.x*u,this.y*u)},multiplyEquals:function(u){return this.x*=u,this.y*=u,this},divide:function(u){return new h(this.x/u,this.y/u)},divideEquals:function(u){return this.x/=u,this.y/=u,this},eq:function(u){return this.x===u.x&&this.y===u.y},lt:function(u){return this.x<u.x&&this.y<u.y},lte:function(u){return this.x<=u.x&&this.y<=u.y},gt:function(u){return this.x>u.x&&this.y>u.y},gte:function(u){return this.x>=u.x&&this.y>=u.y},lerp:function(u,l){return typeof l>"u"&&(l=.5),l=Math.max(Math.min(1,l),0),new h(this.x+(u.x-this.x)*l,this.y+(u.y-this.y)*l)},distanceFrom:function(u){var l=this.x-u.x,f=this.y-u.y;return Math.sqrt(l*l+f*f)},midPointFrom:function(u){return this.lerp(u)},min:function(u){return new h(Math.min(this.x,u.x),Math.min(this.y,u.y))},max:function(u){return new h(Math.max(this.x,u.x),Math.max(this.y,u.y))},toString:function(){return this.x+","+this.y},setXY:function(u,l){return this.x=u,this.y=l,this},setX:function(u){return this.x=u,this},setY:function(u){return this.y=u,this},setFromPoint:function(u){return this.x=u.x,this.y=u.y,this},swap:function(u){var l=this.x,f=this.y;this.x=u.x,this.y=u.y,u.x=l,u.y=f},clone:function(){return new h(this.x,this.y)}}}(e),function(a){var s=a.fabric||(a.fabric={});if(s.Intersection){s.warn("fabric.Intersection is already defined");return}function h(u){this.status=u,this.points=[]}s.Intersection=h,s.Intersection.prototype={constructor:h,appendPoint:function(u){return this.points.push(u),this},appendPoints:function(u){return this.points=this.points.concat(u),this}},s.Intersection.intersectLineLine=function(u,l,f,c){var d,v=(c.x-f.x)*(u.y-f.y)-(c.y-f.y)*(u.x-f.x),g=(l.x-u.x)*(u.y-f.y)-(l.y-u.y)*(u.x-f.x),m=(c.y-f.y)*(l.x-u.x)-(c.x-f.x)*(l.y-u.y);if(m!==0){var y=v/m,_=g/m;0<=y&&y<=1&&0<=_&&_<=1?(d=new h("Intersection"),d.appendPoint(new s.Point(u.x+y*(l.x-u.x),u.y+y*(l.y-u.y)))):d=new h}else v===0||g===0?d=new h("Coincident"):d=new h("Parallel");return d},s.Intersection.intersectLinePolygon=function(u,l,f){var c=new h,d=f.length,v,g,m,y;for(y=0;y<d;y++)v=f[y],g=f[(y+1)%d],m=h.intersectLineLine(u,l,v,g),c.appendPoints(m.points);return c.points.length>0&&(c.status="Intersection"),c},s.Intersection.intersectPolygonPolygon=function(u,l){var f=new h,c=u.length,d;for(d=0;d<c;d++){var v=u[d],g=u[(d+1)%c],m=h.intersectLinePolygon(v,g,l);f.appendPoints(m.points)}return f.points.length>0&&(f.status="Intersection"),f},s.Intersection.intersectPolygonRectangle=function(u,l,f){var c=l.min(f),d=l.max(f),v=new s.Point(d.x,c.y),g=new s.Point(c.x,d.y),m=h.intersectLinePolygon(c,v,u),y=h.intersectLinePolygon(v,d,u),_=h.intersectLinePolygon(d,g,u),b=h.intersectLinePolygon(g,c,u),w=new h;return w.appendPoints(m.points),w.appendPoints(y.points),w.appendPoints(_.points),w.appendPoints(b.points),w.points.length>0&&(w.status="Intersection"),w}}(e),function(a){var s=a.fabric||(a.fabric={});if(s.Color){s.warn("fabric.Color is already defined.");return}function h(l){l?this._tryParsingColor(l):this.setSource([0,0,0,1])}s.Color=h,s.Color.prototype={_tryParsingColor:function(l){var f;l in h.colorNameMap&&(l=h.colorNameMap[l]),l==="transparent"&&(f=[255,255,255,0]),f||(f=h.sourceFromHex(l)),f||(f=h.sourceFromRgb(l)),f||(f=h.sourceFromHsl(l)),f||(f=[0,0,0,1]),f&&this.setSource(f)},_rgbToHsl:function(l,f,c){l/=255,f/=255,c/=255;var d,v,g,m=s.util.array.max([l,f,c]),y=s.util.array.min([l,f,c]);if(g=(m+y)/2,m===y)d=v=0;else{var _=m-y;switch(v=g>.5?_/(2-m-y):_/(m+y),m){case l:d=(f-c)/_+(f<c?6:0);break;case f:d=(c-l)/_+2;break;case c:d=(l-f)/_+4;break}d/=6}return[Math.round(d*360),Math.round(v*100),Math.round(g*100)]},getSource:function(){return this._source},setSource:function(l){this._source=l},toRgb:function(){var l=this.getSource();return"rgb("+l[0]+","+l[1]+","+l[2]+")"},toRgba:function(){var l=this.getSource();return"rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+")"},toHsl:function(){var l=this.getSource(),f=this._rgbToHsl(l[0],l[1],l[2]);return"hsl("+f[0]+","+f[1]+"%,"+f[2]+"%)"},toHsla:function(){var l=this.getSource(),f=this._rgbToHsl(l[0],l[1],l[2]);return"hsla("+f[0]+","+f[1]+"%,"+f[2]+"%,"+l[3]+")"},toHex:function(){var l=this.getSource(),f,c,d;return f=l[0].toString(16),f=f.length===1?"0"+f:f,c=l[1].toString(16),c=c.length===1?"0"+c:c,d=l[2].toString(16),d=d.length===1?"0"+d:d,f.toUpperCase()+c.toUpperCase()+d.toUpperCase()},toHexa:function(){var l=this.getSource(),f;return f=Math.round(l[3]*255),f=f.toString(16),f=f.length===1?"0"+f:f,this.toHex()+f.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(l){var f=this.getSource();return f[3]=l,this.setSource(f),this},toGrayscale:function(){var l=this.getSource(),f=parseInt((l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),10),c=l[3];return this.setSource([f,f,f,c]),this},toBlackWhite:function(l){var f=this.getSource(),c=(f[0]*.3+f[1]*.59+f[2]*.11).toFixed(0),d=f[3];return l=l||127,c=Number(c)<Number(l)?0:255,this.setSource([c,c,c,d]),this},overlayWith:function(l){l instanceof h||(l=new h(l));var f=[],c=this.getAlpha(),d=.5,v=this.getSource(),g=l.getSource(),m;for(m=0;m<3;m++)f.push(Math.round(v[m]*(1-d)+g[m]*d));return f[3]=c,this.setSource(f),this}},s.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,s.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,s.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,s.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function u(l,f,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?l+(f-l)*6*c:c<1/2?f:c<2/3?l+(f-l)*(2/3-c)*6:l}s.Color.fromRgb=function(l){return h.fromSource(h.sourceFromRgb(l))},s.Color.sourceFromRgb=function(l){var f=l.match(h.reRGBa);if(f){var c=parseInt(f[1],10)/(/%$/.test(f[1])?100:1)*(/%$/.test(f[1])?255:1),d=parseInt(f[2],10)/(/%$/.test(f[2])?100:1)*(/%$/.test(f[2])?255:1),v=parseInt(f[3],10)/(/%$/.test(f[3])?100:1)*(/%$/.test(f[3])?255:1);return[parseInt(c,10),parseInt(d,10),parseInt(v,10),f[4]?parseFloat(f[4]):1]}},s.Color.fromRgba=h.fromRgb,s.Color.fromHsl=function(l){return h.fromSource(h.sourceFromHsl(l))},s.Color.sourceFromHsl=function(l){var f=l.match(h.reHSLa);if(f){var c=(parseFloat(f[1])%360+360)%360/360,d=parseFloat(f[2])/(/%$/.test(f[2])?100:1),v=parseFloat(f[3])/(/%$/.test(f[3])?100:1),g,m,y;if(d===0)g=m=y=v;else{var _=v<=.5?v*(d+1):v+d-v*d,b=v*2-_;g=u(b,_,c+1/3),m=u(b,_,c),y=u(b,_,c-1/3)}return[Math.round(g*255),Math.round(m*255),Math.round(y*255),f[4]?parseFloat(f[4]):1]}},s.Color.fromHsla=h.fromHsl,s.Color.fromHex=function(l){return h.fromSource(h.sourceFromHex(l))},s.Color.sourceFromHex=function(l){if(l.match(h.reHex)){var f=l.slice(l.indexOf("#")+1),c=f.length===3||f.length===4,d=f.length===8||f.length===4,v=c?f.charAt(0)+f.charAt(0):f.substring(0,2),g=c?f.charAt(1)+f.charAt(1):f.substring(2,4),m=c?f.charAt(2)+f.charAt(2):f.substring(4,6),y=d?c?f.charAt(3)+f.charAt(3):f.substring(6,8):"FF";return[parseInt(v,16),parseInt(g,16),parseInt(m,16),parseFloat((parseInt(y,16)/255).toFixed(2))]}},s.Color.fromSource=function(l){var f=new h;return f.setSource(l),f}}(e),function(a){var s=a.fabric||(a.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],u=["ns","nesw","ew","nwse"],l={},f="left",c="top",d="right",v="bottom",g="center",m={top:v,bottom:c,left:d,right:f,center:g},y=s.util.radiansToDegrees,_=Math.sign||function(A){return(A>0)-(A<0)||+A};function b(A,M){var q=A.angle+y(Math.atan2(M.y,M.x))+360;return Math.round(q%360/45)}function w(A,M){var q=M.transform.target,te=q.canvas,Z=s.util.object.clone(M);Z.target=q,te&&te.fire("object:"+A,Z),q.fire(A,M)}function S(A,M){var q=M.canvas,te=q.uniScaleKey,Z=A[te];return q.uniformScaling&&!Z||!q.uniformScaling&&Z}function x(A){return A.originX===g&&A.originY===g}function P(A,M,q){var te=A.lockScalingX,Z=A.lockScalingY;return!!(te&&Z||!M&&(te||Z)&&q||te&&M==="x"||Z&&M==="y")}function B(A,M,q){var te="not-allowed",Z=S(A,q),re="";if(M.x!==0&&M.y===0?re="x":M.x===0&&M.y!==0&&(re="y"),P(q,re,Z))return te;var fe=b(q,M);return h[fe]+"-resize"}function G(A,M,q){var te="not-allowed";if(M.x!==0&&q.lockSkewingY||M.y!==0&&q.lockSkewingX)return te;var Z=b(q,M)%4;return u[Z]+"-resize"}function K(A,M,q){return A[q.canvas.altActionKey]?l.skewCursorStyleHandler(A,M,q):l.scaleCursorStyleHandler(A,M,q)}function Y(A,M,q){var te=A[q.canvas.altActionKey];if(M.x===0)return te?"skewX":"scaleY";if(M.y===0)return te?"skewY":"scaleX"}function W(A,M,q){return q.lockRotation?"not-allowed":M.cursorStyle}function ee(A,M,q,te){return{e:A,transform:M,pointer:{x:q,y:te}}}function le(A){return function(M,q,te,Z){var re=q.target,fe=re.getCenterPoint(),me=re.translateToOriginPoint(fe,q.originX,q.originY),he=A(M,q,te,Z);return re.setPositionByOrigin(me,q.originX,q.originY),he}}function de(A,M){return function(q,te,Z,re){var fe=M(q,te,Z,re);return fe&&w(A,ee(q,te,Z,re)),fe}}function U(A,M,q,te,Z){var re=A.target,fe=re.controls[A.corner],me=re.canvas.getZoom(),he=re.padding/me,ae=re.toLocalPoint(new s.Point(te,Z),M,q);return ae.x>=he&&(ae.x-=he),ae.x<=-he&&(ae.x+=he),ae.y>=he&&(ae.y-=he),ae.y<=he&&(ae.y+=he),ae.x-=fe.offsetX,ae.y-=fe.offsetY,ae}function Q(A){return A.flipX!==A.flipY}function O(A,M,q,te,Z){if(A[M]!==0){var re=A._getTransformedDimensions()[te],fe=Z/re*A[q];A.set(q,fe)}}function R(A,M,q,te){var Z=M.target,re=Z._getTransformedDimensions(0,Z.skewY),fe=U(M,M.originX,M.originY,q,te),me=Math.abs(fe.x*2)-re.x,he=Z.skewX,ae;me<2?ae=0:(ae=y(Math.atan2(me/Z.scaleX,re.y/Z.scaleY)),M.originX===f&&M.originY===v&&(ae=-ae),M.originX===d&&M.originY===c&&(ae=-ae),Q(Z)&&(ae=-ae));var _e=he!==ae;if(_e){var xe=Z._getTransformedDimensions().y;Z.set("skewX",ae),O(Z,"skewY","scaleY","y",xe)}return _e}function F(A,M,q,te){var Z=M.target,re=Z._getTransformedDimensions(Z.skewX,0),fe=U(M,M.originX,M.originY,q,te),me=Math.abs(fe.y*2)-re.y,he=Z.skewY,ae;me<2?ae=0:(ae=y(Math.atan2(me/Z.scaleY,re.x/Z.scaleX)),M.originX===f&&M.originY===v&&(ae=-ae),M.originX===d&&M.originY===c&&(ae=-ae),Q(Z)&&(ae=-ae));var _e=he!==ae;if(_e){var xe=Z._getTransformedDimensions().x;Z.set("skewY",ae),O(Z,"skewX","scaleX","x",xe)}return _e}function D(A,M,q,te){var Z=M.target,re=Z.skewX,fe,me=M.originY;if(Z.lockSkewingX)return!1;if(re===0){var he=U(M,g,g,q,te);he.x>0?fe=f:fe=d}else re>0&&(fe=me===c?f:d),re<0&&(fe=me===c?d:f),Q(Z)&&(fe=fe===f?d:f);M.originX=fe;var ae=de("skewing",le(R));return ae(A,M,q,te)}function se(A,M,q,te){var Z=M.target,re=Z.skewY,fe,me=M.originX;if(Z.lockSkewingY)return!1;if(re===0){var he=U(M,g,g,q,te);he.y>0?fe=c:fe=v}else re>0&&(fe=me===f?c:v),re<0&&(fe=me===f?v:c),Q(Z)&&(fe=fe===c?v:c);M.originY=fe;var ae=de("skewing",le(F));return ae(A,M,q,te)}function j(A,M,q,te){var Z=M,re=Z.target,fe=re.translateToOriginPoint(re.getCenterPoint(),Z.originX,Z.originY);if(re.lockRotation)return!1;var me=Math.atan2(Z.ey-fe.y,Z.ex-fe.x),he=Math.atan2(te-fe.y,q-fe.x),ae=y(he-me+Z.theta),_e=!0;if(re.snapAngle>0){var xe=re.snapAngle,ue=re.snapThreshold||xe,Ee=Math.ceil(ae/xe)*xe,k=Math.floor(ae/xe)*xe;Math.abs(ae-k)<ue?ae=k:Math.abs(ae-Ee)<ue&&(ae=Ee)}return ae<0&&(ae=360+ae),ae%=360,_e=re.angle!==ae,re.angle=ae,_e}function I(A,M,q,te,Z){Z=Z||{};var re=M.target,fe=re.lockScalingX,me=re.lockScalingY,he=Z.by,ae,_e,xe,ue,Ee=S(A,re),k=P(re,he,Ee),C,T,H=M.gestureScale;if(k)return!1;if(H)_e=M.scaleX*H,xe=M.scaleY*H;else{if(ae=U(M,M.originX,M.originY,q,te),C=he!=="y"?_(ae.x):1,T=he!=="x"?_(ae.y):1,M.signX||(M.signX=C),M.signY||(M.signY=T),re.lockScalingFlip&&(M.signX!==C||M.signY!==T))return!1;if(ue=re._getTransformedDimensions(),Ee&&!he){var oe=Math.abs(ae.x)+Math.abs(ae.y),ge=M.original,we=Math.abs(ue.x*ge.scaleX/re.scaleX)+Math.abs(ue.y*ge.scaleY/re.scaleY),ze=oe/we;_e=ge.scaleX*ze,xe=ge.scaleY*ze}else _e=Math.abs(ae.x*re.scaleX/ue.x),xe=Math.abs(ae.y*re.scaleY/ue.y);x(M)&&(_e*=2,xe*=2),M.signX!==C&&he!=="y"&&(M.originX=m[M.originX],_e*=-1,M.signX=C),M.signY!==T&&he!=="x"&&(M.originY=m[M.originY],xe*=-1,M.signY=T)}var He=re.scaleX,Ve=re.scaleY;return he?(he==="x"&&re.set("scaleX",_e),he==="y"&&re.set("scaleY",xe)):(!fe&&re.set("scaleX",_e),!me&&re.set("scaleY",xe)),He!==re.scaleX||Ve!==re.scaleY}function X(A,M,q,te){return I(A,M,q,te)}function $(A,M,q,te){return I(A,M,q,te,{by:"x"})}function V(A,M,q,te){return I(A,M,q,te,{by:"y"})}function J(A,M,q,te){return A[M.target.canvas.altActionKey]?l.skewHandlerX(A,M,q,te):l.scalingY(A,M,q,te)}function ce(A,M,q,te){return A[M.target.canvas.altActionKey]?l.skewHandlerY(A,M,q,te):l.scalingX(A,M,q,te)}function ve(A,M,q,te){var Z=M.target,re=U(M,M.originX,M.originY,q,te),fe=Z.strokeWidth/(Z.strokeUniform?Z.scaleX:1),me=x(M)?2:1,he=Z.width,ae=Math.abs(re.x*me/Z.scaleX)-fe;return Z.set("width",Math.max(ae,0)),he!==ae}function L(A,M,q,te){var Z=M.target,re=q-M.offsetX,fe=te-M.offsetY,me=!Z.get("lockMovementX")&&Z.left!==re,he=!Z.get("lockMovementY")&&Z.top!==fe;return me&&Z.set("left",re),he&&Z.set("top",fe),(me||he)&&w("moving",ee(A,M,q,te)),me||he}l.scaleCursorStyleHandler=B,l.skewCursorStyleHandler=G,l.scaleSkewCursorStyleHandler=K,l.rotationWithSnapping=de("rotating",le(j)),l.scalingEqually=de("scaling",le(X)),l.scalingX=de("scaling",le($)),l.scalingY=de("scaling",le(V)),l.scalingYOrSkewingX=J,l.scalingXOrSkewingY=ce,l.changeWidth=de("resizing",le(ve)),l.skewHandlerX=D,l.skewHandlerY=se,l.dragHandler=L,l.scaleOrSkewActionName=Y,l.rotationStyleHandler=W,l.fireEvent=w,l.wrapWithFixedAnchor=le,l.wrapWithFireEvent=de,l.getLocalPoint=U,s.controlsUtils=l}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.util.degreesToRadians,u=s.controlsUtils;function l(c,d,v,g,m){g=g||{};var y=this.sizeX||g.cornerSize||m.cornerSize,_=this.sizeY||g.cornerSize||m.cornerSize,b=typeof g.transparentCorners<"u"?g.transparentCorners:m.transparentCorners,w=b?"stroke":"fill",S=!b&&(g.cornerStrokeColor||m.cornerStrokeColor),x=d,P=v,B;c.save(),c.fillStyle=g.cornerColor||m.cornerColor,c.strokeStyle=g.cornerStrokeColor||m.cornerStrokeColor,y>_?(B=y,c.scale(1,_/y),P=v*y/_):_>y?(B=_,c.scale(y/_,1),x=d*_/y):B=y,c.lineWidth=1,c.beginPath(),c.arc(x,P,B/2,0,2*Math.PI,!1),c[w](),S&&c.stroke(),c.restore()}function f(c,d,v,g,m){g=g||{};var y=this.sizeX||g.cornerSize||m.cornerSize,_=this.sizeY||g.cornerSize||m.cornerSize,b=typeof g.transparentCorners<"u"?g.transparentCorners:m.transparentCorners,w=b?"stroke":"fill",S=!b&&(g.cornerStrokeColor||m.cornerStrokeColor),x=y/2,P=_/2;c.save(),c.fillStyle=g.cornerColor||m.cornerColor,c.strokeStyle=g.cornerStrokeColor||m.cornerStrokeColor,c.lineWidth=1,c.translate(d,v),c.rotate(h(m.angle)),c[w+"Rect"](-x,-P,y,_),S&&c.strokeRect(-x,-P,y,_),c.restore()}u.renderCircleControl=l,u.renderSquareControl=f}(e),function(a){var s=a.fabric||(a.fabric={});function h(u){for(var l in u)this[l]=u[l]}s.Control=h,s.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(u,l){return l.cursorStyle},getActionName:function(u,l){return l.actionName},getVisibility:function(u,l){var f=u._controlsVisibility;return f&&typeof f[l]<"u"?f[l]:this.visible},setVisibility:function(u){this.visible=u},positionHandler:function(u,l){var f=s.util.transformPoint({x:this.x*u.x+this.offsetX,y:this.y*u.y+this.offsetY},l);return f},calcCornerCoords:function(u,l,f,c,d){var v,g,m,y,_=d?this.touchSizeX:this.sizeX,b=d?this.touchSizeY:this.sizeY;if(_&&b&&_!==b){var w=Math.atan2(b,_),S=Math.sqrt(_*_+b*b)/2,x=w-s.util.degreesToRadians(u),P=Math.PI/2-w-s.util.degreesToRadians(u);v=S*s.util.cos(x),g=S*s.util.sin(x),m=S*s.util.cos(P),y=S*s.util.sin(P)}else{var B=_&&b?_:l;S=B*.7071067812;var x=s.util.degreesToRadians(45-u);v=m=S*s.util.cos(x),g=y=S*s.util.sin(x)}return{tl:{x:f-y,y:c-m},tr:{x:f+v,y:c-g},bl:{x:f-v,y:c+g},br:{x:f+y,y:c+m}}},render:function(u,l,f,c,d){switch(c=c||{},c.cornerStyle||d.cornerStyle){case"circle":s.controlsUtils.renderCircleControl.call(this,u,l,f,c,d);break;default:s.controlsUtils.renderSquareControl.call(this,u,l,f,c,d)}}}}(e),function(){function a(f,c){var d=f.getAttribute("style"),v=f.getAttribute("offset")||0,g,m,y,_;if(v=parseFloat(v)/(/%$/.test(v)?100:1),v=v<0?0:v>1?1:v,d){var b=d.split(/\s*;\s*/);for(b[b.length-1]===""&&b.pop(),_=b.length;_--;){var w=b[_].split(/\s*:\s*/),S=w[0].trim(),x=w[1].trim();S==="stop-color"?g=x:S==="stop-opacity"&&(y=x)}}return g||(g=f.getAttribute("stop-color")||"rgb(0,0,0)"),y||(y=f.getAttribute("stop-opacity")),g=new t.Color(g),m=g.getAlpha(),y=isNaN(parseFloat(y))?1:parseFloat(y),y*=m*c,{offset:v,color:g.toRgb(),opacity:y}}function s(f){return{x1:f.getAttribute("x1")||0,y1:f.getAttribute("y1")||0,x2:f.getAttribute("x2")||"100%",y2:f.getAttribute("y2")||0}}function h(f){return{x1:f.getAttribute("fx")||f.getAttribute("cx")||"50%",y1:f.getAttribute("fy")||f.getAttribute("cy")||"50%",r1:0,x2:f.getAttribute("cx")||"50%",y2:f.getAttribute("cy")||"50%",r2:f.getAttribute("r")||"50%"}}var u=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(f){f||(f={}),f.coords||(f.coords={});var c,d=this;Object.keys(f).forEach(function(v){d[v]=f[v]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,c={x1:f.coords.x1||0,y1:f.coords.y1||0,x2:f.coords.x2||0,y2:f.coords.y2||0},this.type==="radial"&&(c.r1=f.coords.r1||0,c.r2=f.coords.r2||0),this.coords=c,this.colorStops=f.colorStops.slice()},addColorStop:function(f){for(var c in f){var d=new t.Color(f[c]);this.colorStops.push({offset:parseFloat(c),color:d.toRgb(),opacity:d.getAlpha()})}return this},toObject:function(f){var c={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,c,f),c},toSVG:function(f,m){var d=u(this.coords,!0),v,g,m=m||{},y,_,b=u(this.colorStops,!0),w=d.r1>d.r2,S=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),x=-this.offsetX,P=-this.offsetY,B=!!m.additionalTransform,G=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(b.sort(function(le,de){return le.offset-de.offset}),G==="objectBoundingBox"?(x/=f.width,P/=f.height):(x+=f.width/2,P+=f.height/2),f.type==="path"&&this.gradientUnits!=="percentage"&&(x-=f.pathOffset.x,P-=f.pathOffset.y),S[4]-=x,S[5]-=P,_='id="SVGID_'+this.id+'" gradientUnits="'+G+'"',_+=' gradientTransform="'+(B?m.additionalTransform+" ":"")+t.util.matrixToSVG(S)+'" ',this.type==="linear"?y=["<linearGradient ",_,' x1="',d.x1,'" y1="',d.y1,'" x2="',d.x2,'" y2="',d.y2,`">
`]:this.type==="radial"&&(y=["<radialGradient ",_,' cx="',w?d.x1:d.x2,'" cy="',w?d.y1:d.y2,'" r="',w?d.r1:d.r2,'" fx="',w?d.x2:d.x1,'" fy="',w?d.y2:d.y1,`">
`]),this.type==="radial"){if(w)for(b=b.concat(),b.reverse(),v=0,g=b.length;v<g;v++)b[v].offset=1-b[v].offset;var K=Math.min(d.r1,d.r2);if(K>0){var Y=Math.max(d.r1,d.r2),W=K/Y;for(v=0,g=b.length;v<g;v++)b[v].offset+=W*(1-b[v].offset)}}for(v=0,g=b.length;v<g;v++){var ee=b[v];y.push("<stop ",'offset="',ee.offset*100+"%",'" style="stop-color:',ee.color,typeof ee.opacity<"u"?";stop-opacity: "+ee.opacity:";",`"/>
`)}return y.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),y.join("")},toLive:function(f){var c,d=t.util.object.clone(this.coords),v,g;if(this.type){for(this.type==="linear"?c=f.createLinearGradient(d.x1,d.y1,d.x2,d.y2):this.type==="radial"&&(c=f.createRadialGradient(d.x1,d.y1,d.r1,d.x2,d.y2,d.r2)),v=0,g=this.colorStops.length;v<g;v++){var m=this.colorStops[v].color,y=this.colorStops[v].opacity,_=this.colorStops[v].offset;typeof y<"u"&&(m=new t.Color(m).setAlpha(y).toRgba()),c.addColorStop(_,m)}return c}}}),t.util.object.extend(t.Gradient,{fromElement:function(f,c,d,v){var g=parseFloat(d)/(/%$/.test(d)?100:1);g=g<0?0:g>1?1:g,isNaN(g)&&(g=1);var m=f.getElementsByTagName("stop"),y,_=f.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",b=f.getAttribute("gradientTransform")||"",w=[],S,x,P=0,B=0,G;for(f.nodeName==="linearGradient"||f.nodeName==="LINEARGRADIENT"?(y="linear",S=s(f)):(y="radial",S=h(f)),x=m.length;x--;)w.push(a(m[x],g));G=t.parseTransformAttribute(b),l(c,S,v,_),_==="pixels"&&(P=-c.left,B=-c.top);var K=new t.Gradient({id:f.getAttribute("id"),type:y,coords:S,colorStops:w,gradientUnits:_,gradientTransform:G,offsetX:P,offsetY:B});return K}});function l(f,c,d,v){var g,m;Object.keys(c).forEach(function(y){g=c[y],g==="Infinity"?m=1:g==="-Infinity"?m=0:(m=parseFloat(c[y],10),typeof g=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(g)&&(m*=.01,v==="pixels"&&((y==="x1"||y==="x2"||y==="r2")&&(m*=d.viewBoxWidth||d.width),(y==="y1"||y==="y2")&&(m*=d.viewBoxHeight||d.height)))),c[y]=m})}}(),function(){var a=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(s,h){if(s||(s={}),this.id=t.Object.__uid++,this.setOptions(s),!s.source||s.source&&typeof s.source!="string"){h&&h(this);return}else{var u=this;this.source=t.util.createImage(),t.util.loadImage(s.source,function(l,f){u.source=l,h&&h(u,f)},null,this.crossOrigin)}},toObject:function(s){var h=t.Object.NUM_FRACTION_DIGITS,u,l;return typeof this.source.src=="string"?u=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(u=this.source.toDataURL()),l={type:"pattern",source:u,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:a(this.offsetX,h),offsetY:a(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,l,s),l},toSVG:function(s){var h=typeof this.source=="function"?this.source():this.source,u=h.width/s.width,l=h.height/s.height,f=this.offsetX/s.width,c=this.offsetY/s.height,d="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(l=1,c&&(l+=Math.abs(c))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(u=1,f&&(u+=Math.abs(f))),h.src?d=h.src:h.toDataURL&&(d=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+f+'" y="'+c+'" width="'+u+'" height="'+l+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+d+`"></image>
</pattern>
`},setOptions:function(s){for(var h in s)this[h]=s[h]},toLive:function(s){var h=this.source;return!h||typeof h.src<"u"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":s.createPattern(h,this.repeat)}})}(),function(a){var s=a.fabric||(a.fabric={}),h=s.util.toFixed;if(s.Shadow){s.warn("fabric.Shadow is already defined.");return}s.Shadow=s.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(u){typeof u=="string"&&(u=this._parseShadow(u));for(var l in u)this[l]=u[l];this.id=s.Object.__uid++},_parseShadow:function(u){var l=u.trim(),f=s.Shadow.reOffsetsAndBlur.exec(l)||[],c=l.replace(s.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:c.trim(),offsetX:parseFloat(f[1],10)||0,offsetY:parseFloat(f[2],10)||0,blur:parseFloat(f[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(u){var l=40,f=40,c=s.Object.NUM_FRACTION_DIGITS,d=s.util.rotateVector({x:this.offsetX,y:this.offsetY},s.util.degreesToRadians(-u.angle)),v=20,g=new s.Color(this.color);return u.width&&u.height&&(l=h((Math.abs(d.x)+this.blur)/u.width,c)*100+v,f=h((Math.abs(d.y)+this.blur)/u.height,c)*100+v),u.flipX&&(d.x*=-1),u.flipY&&(d.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+f+'%" height="'+(100+2*f)+'%" x="-'+l+'%" width="'+(100+2*l)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,c)+`"></feGaussianBlur>
	<feOffset dx="`+h(d.x,c)+'" dy="'+h(d.y,c)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+g.toRgb()+'" flood-opacity="'+g.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var u={},l=s.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(f){this[f]!==l[f]&&(u[f]=this[f])},this),u}}),s.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var a=t.util.object.extend,s=t.util.getElementOffset,h=t.util.removeFromArray,u=t.util.toFixed,l=t.util.transformPoint,f=t.util.invertTransform,c=t.util.getNodeCanvas,d=t.util.createCanvasElement,v=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(g,m){m||(m={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(g,m)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(g,m){var y=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(g),this._initOptions(m),this.interactive||this._initRetinaScaling(),m.overlayImage&&this.setOverlayImage(m.overlayImage,y),m.backgroundImage&&this.setBackgroundImage(m.backgroundImage,y),m.backgroundColor&&this.setBackgroundColor(m.backgroundColor,y),m.overlayColor&&this.setOverlayColor(m.overlayColor,y),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var g=t.devicePixelRatio;this.__initRetinaScaling(g,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(g,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(g,m,y){m.setAttribute("width",this.width*g),m.setAttribute("height",this.height*g),y.scale(g,g)},calcOffset:function(){return this._offset=s(this.lowerCanvasEl),this},setOverlayImage:function(g,m,y){return this.__setBgOverlayImage("overlayImage",g,m,y)},setBackgroundImage:function(g,m,y){return this.__setBgOverlayImage("backgroundImage",g,m,y)},setOverlayColor:function(g,m){return this.__setBgOverlayColor("overlayColor",g,m)},setBackgroundColor:function(g,m){return this.__setBgOverlayColor("backgroundColor",g,m)},__setBgOverlayImage:function(g,m,y,_){return typeof m=="string"?t.util.loadImage(m,function(b,w){if(b){var S=new t.Image(b,_);this[g]=S,S.canvas=this}y&&y(b,w)},this,_&&_.crossOrigin):(_&&m.setOptions(_),this[g]=m,m&&(m.canvas=this),y&&y(m,!1)),this},__setBgOverlayColor:function(g,m,y){return this[g]=m,this._initGradient(m,g),this._initPattern(m,g,y),this},_createCanvasElement:function(){var g=d();if(!g||(g.style||(g.style={}),typeof g.getContext>"u"))throw v;return g},_initOptions:function(g){var m=this.lowerCanvasEl;this._setOptions(g),this.width=this.width||parseInt(m.width,10)||0,this.height=this.height||parseInt(m.height,10)||0,this.lowerCanvasEl.style&&(m.width=this.width,m.height=this.height,m.style.width=this.width+"px",m.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(g){g&&g.getContext?this.lowerCanvasEl=g:this.lowerCanvasEl=t.util.getById(g)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(g,m){return this.setDimensions({width:g},m)},setHeight:function(g,m){return this.setDimensions({height:g},m)},setDimensions:function(g,m){var y;m=m||{};for(var _ in g)y=g[_],m.cssOnly||(this._setBackstoreDimension(_,g[_]),y+="px",this.hasLostContext=!0),m.backstoreOnly||this._setCssDimension(_,y);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),m.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(g,m){return this.lowerCanvasEl[g]=m,this.upperCanvasEl&&(this.upperCanvasEl[g]=m),this.cacheCanvasEl&&(this.cacheCanvasEl[g]=m),this[g]=m,this},_setCssDimension:function(g,m){return this.lowerCanvasEl.style[g]=m,this.upperCanvasEl&&(this.upperCanvasEl.style[g]=m),this.wrapperEl&&(this.wrapperEl.style[g]=m),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(g){var m=this._activeObject,y=this.backgroundImage,_=this.overlayImage,b,w,S;for(this.viewportTransform=g,w=0,S=this._objects.length;w<S;w++)b=this._objects[w],b.group||b.setCoords(!0);return m&&m.setCoords(),y&&y.setCoords(!0),_&&_.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(g,m){var y=g,_=this.viewportTransform.slice(0);g=l(g,f(this.viewportTransform)),_[0]=m,_[3]=m;var b=l(g,_);return _[4]+=y.x-b.x,_[5]+=y.y-b.y,this.setViewportTransform(_)},setZoom:function(g){return this.zoomToPoint(new t.Point(0,0),g),this},absolutePan:function(g){var m=this.viewportTransform.slice(0);return m[4]=-g.x,m[5]=-g.y,this.setViewportTransform(m)},relativePan:function(g){return this.absolutePan(new t.Point(-g.x-this.viewportTransform[4],-g.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(g){this.stateful&&g.setupState(),g._set("canvas",this),g.setCoords(),this.fire("object:added",{target:g}),g.fire("added")},_onObjectRemoved:function(g){this.fire("object:removed",{target:g}),g.fire("removed"),delete g.canvas},clearContext:function(g){return g.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var g=this.contextContainer;return this.renderCanvas(g,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var g={},m=this.width,y=this.height,_=f(this.viewportTransform);return g.tl=l({x:0,y:0},_),g.br=l({x:m,y},_),g.tr=new t.Point(g.br.x,g.tl.y),g.bl=new t.Point(g.tl.x,g.br.y),this.vptCoords=g,g},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(g,m){var y=this.viewportTransform,_=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(g),t.util.setImageSmoothing(g,this.imageSmoothingEnabled),this.fire("before:render",{ctx:g}),this._renderBackground(g),g.save(),g.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._renderObjects(g,m),g.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(g),_&&(_.canvas=this,_.shouldCache(),_._transformDone=!0,_.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(g)),this._renderOverlay(g),this.controlsAboveOverlay&&this.interactive&&this.drawControls(g),this.fire("after:render",{ctx:g})},drawClipPathOnCanvas:function(g){var m=this.viewportTransform,y=this.clipPath;g.save(),g.transform(m[0],m[1],m[2],m[3],m[4],m[5]),g.globalCompositeOperation="destination-in",y.transform(g),g.scale(1/y.zoomX,1/y.zoomY),g.drawImage(y._cacheCanvas,-y.cacheTranslationX,-y.cacheTranslationY),g.restore()},_renderObjects:function(g,m){var y,_;for(y=0,_=m.length;y<_;++y)m[y]&&m[y].render(g)},_renderBackgroundOrOverlay:function(g,m){var y=this[m+"Color"],_=this[m+"Image"],b=this.viewportTransform,w=this[m+"Vpt"];if(!(!y&&!_)){if(y){g.save(),g.beginPath(),g.moveTo(0,0),g.lineTo(this.width,0),g.lineTo(this.width,this.height),g.lineTo(0,this.height),g.closePath(),g.fillStyle=y.toLive?y.toLive(g,this):y,w&&g.transform(b[0],b[1],b[2],b[3],b[4],b[5]),g.transform(1,0,0,1,y.offsetX||0,y.offsetY||0);var S=y.gradientTransform||y.patternTransform;S&&g.transform(S[0],S[1],S[2],S[3],S[4],S[5]),g.fill(),g.restore()}_&&(g.save(),w&&g.transform(b[0],b[1],b[2],b[3],b[4],b[5]),_.render(g),g.restore())}},_renderBackground:function(g){this._renderBackgroundOrOverlay(g,"background")},_renderOverlay:function(g){this._renderBackgroundOrOverlay(g,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(g){return this._centerObject(g,new t.Point(this.getCenterPoint().x,g.getCenterPoint().y))},centerObjectV:function(g){return this._centerObject(g,new t.Point(g.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(g){var m=this.getCenterPoint();return this._centerObject(g,m)},viewportCenterObject:function(g){var m=this.getVpCenter();return this._centerObject(g,m)},viewportCenterObjectH:function(g){var m=this.getVpCenter();return this._centerObject(g,new t.Point(m.x,g.getCenterPoint().y)),this},viewportCenterObjectV:function(g){var m=this.getVpCenter();return this._centerObject(g,new t.Point(g.getCenterPoint().x,m.y))},getVpCenter:function(){var g=this.getCenterPoint(),m=f(this.viewportTransform);return l(g,m)},_centerObject:function(g,m){return g.setPositionByOrigin(m,"center","center"),g.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(g){return this.toDatalessObject(g)},toObject:function(g){return this._toObjectMethod("toObject",g)},toDatalessObject:function(g){return this._toObjectMethod("toDatalessObject",g)},_toObjectMethod:function(g,m){var y=this.clipPath,_={version:t.version,objects:this._toObjects(g,m)};return y&&!y.excludeFromExport&&(_.clipPath=this._toObject(this.clipPath,g,m)),a(_,this.__serializeBgOverlay(g,m)),t.util.populateWithProperties(this,_,m),_},_toObjects:function(g,m){return this._objects.filter(function(y){return!y.excludeFromExport}).map(function(y){return this._toObject(y,g,m)},this)},_toObject:function(g,m,y){var _;this.includeDefaultValues||(_=g.includeDefaultValues,g.includeDefaultValues=!1);var b=g[m](y);return this.includeDefaultValues||(g.includeDefaultValues=_),b},__serializeBgOverlay:function(g,m){var y={},_=this.backgroundImage,b=this.overlayImage,w=this.backgroundColor,S=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(y.background=w.toObject(m)):w&&(y.background=w),S&&S.toObject?S.excludeFromExport||(y.overlay=S.toObject(m)):S&&(y.overlay=S),_&&!_.excludeFromExport&&(y.backgroundImage=this._toObject(_,g,m)),b&&!b.excludeFromExport&&(y.overlayImage=this._toObject(b,g,m)),y},svgViewportTransformation:!0,toSVG:function(g,m){g||(g={}),g.reviver=m;var y=[];return this._setSVGPreamble(y,g),this._setSVGHeader(y,g),this.clipPath&&y.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(y,"background"),this._setSVGBgOverlayImage(y,"backgroundImage",m),this._setSVGObjects(y,m),this.clipPath&&y.push(`</g>
`),this._setSVGBgOverlayColor(y,"overlay"),this._setSVGBgOverlayImage(y,"overlayImage",m),y.push("</svg>"),y.join("")},_setSVGPreamble:function(g,m){m.suppressPreamble||g.push('<?xml version="1.0" encoding="',m.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(g,m){var y=m.width||this.width,_=m.height||this.height,b,w='viewBox="0 0 '+this.width+" "+this.height+'" ',S=t.Object.NUM_FRACTION_DIGITS;m.viewBox?w='viewBox="'+m.viewBox.x+" "+m.viewBox.y+" "+m.viewBox.width+" "+m.viewBox.height+'" ':this.svgViewportTransformation&&(b=this.viewportTransform,w='viewBox="'+u(-b[4]/b[0],S)+" "+u(-b[5]/b[3],S)+" "+u(this.width/b[0],S)+" "+u(this.height/b[3],S)+'" '),g.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',y,'" ','height="',_,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(m),`</defs>
`)},createSVGClipPathMarkup:function(g){var m=this.clipPath;return m?(m.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+m.clipPathId+`" >
`+this.clipPath.toClipPathSVG(g.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var g=this,m=["background","overlay"].map(function(y){var _=g[y+"Color"];if(_&&_.toLive){var b=g[y+"Vpt"],w=g.viewportTransform,S={width:g.width/(b?w[0]:1),height:g.height/(b?w[3]:1)};return _.toSVG(S,{additionalTransform:b?t.util.matrixToSVG(w):""})}});return m.join("")},createSVGFontFacesMarkup:function(){var g="",m={},y,_,b,w,S,x,P,B,G,K=t.fontPaths,Y=[];for(this._objects.forEach(function ee(le){Y.push(le),le._objects&&le._objects.forEach(ee)}),B=0,G=Y.length;B<G;B++)if(y=Y[B],_=y.fontFamily,!(y.type.indexOf("text")===-1||m[_]||!K[_])&&(m[_]=!0,!!y.styles)){b=y.styles;for(S in b){w=b[S];for(P in w)x=w[P],_=x.fontFamily,!m[_]&&K[_]&&(m[_]=!0)}}for(var W in m)g+=[`		@font-face {
`,"			font-family: '",W,`';
`,"			src: url('",K[W],`');
`,`		}
`].join("");return g&&(g=['	<style type="text/css">',`<![CDATA[
`,g,"]]>",`</style>
`].join("")),g},_setSVGObjects:function(g,m){var y,_,b,w=this._objects;for(_=0,b=w.length;_<b;_++)y=w[_],!y.excludeFromExport&&this._setSVGObject(g,y,m)},_setSVGObject:function(g,m,y){g.push(m.toSVG(y))},_setSVGBgOverlayImage:function(g,m,y){this[m]&&!this[m].excludeFromExport&&this[m].toSVG&&g.push(this[m].toSVG(y))},_setSVGBgOverlayColor:function(g,m){var y=this[m+"Color"],_=this.viewportTransform,b=this.width,w=this.height;if(y)if(y.toLive){var S=y.repeat,x=t.util.invertTransform(_),P=this[m+"Vpt"],B=P?t.util.matrixToSVG(x):"";g.push('<rect transform="'+B+" translate(",b/2,",",w/2,')"',' x="',y.offsetX-b/2,'" y="',y.offsetY-w/2,'" ','width="',S==="repeat-y"||S==="no-repeat"?y.source.width:b,'" height="',S==="repeat-x"||S==="no-repeat"?y.source.height:w,'" fill="url(#SVGID_'+y.id+')"',`></rect>
`)}else g.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',y,'"',`></rect>
`)},sendToBack:function(g){if(!g)return this;var m=this._activeObject,y,_,b;if(g===m&&g.type==="activeSelection")for(b=m._objects,y=b.length;y--;)_=b[y],h(this._objects,_),this._objects.unshift(_);else h(this._objects,g),this._objects.unshift(g);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(g){if(!g)return this;var m=this._activeObject,y,_,b;if(g===m&&g.type==="activeSelection")for(b=m._objects,y=0;y<b.length;y++)_=b[y],h(this._objects,_),this._objects.push(_);else h(this._objects,g),this._objects.push(g);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(g,m){if(!g)return this;var y=this._activeObject,_,b,w,S,x,P=0;if(g===y&&g.type==="activeSelection")for(x=y._objects,_=0;_<x.length;_++)b=x[_],w=this._objects.indexOf(b),w>0+P&&(S=w-1,h(this._objects,b),this._objects.splice(S,0,b)),P++;else w=this._objects.indexOf(g),w!==0&&(S=this._findNewLowerIndex(g,w,m),h(this._objects,g),this._objects.splice(S,0,g));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(g,m,y){var _,b;if(y)for(_=m,b=m-1;b>=0;--b){var w=g.intersectsWithObject(this._objects[b])||g.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(g);if(w){_=b;break}}else _=m-1;return _},bringForward:function(g,m){if(!g)return this;var y=this._activeObject,_,b,w,S,x,P=0;if(g===y&&g.type==="activeSelection")for(x=y._objects,_=x.length;_--;)b=x[_],w=this._objects.indexOf(b),w<this._objects.length-1-P&&(S=w+1,h(this._objects,b),this._objects.splice(S,0,b)),P++;else w=this._objects.indexOf(g),w!==this._objects.length-1&&(S=this._findNewUpperIndex(g,w,m),h(this._objects,g),this._objects.splice(S,0,g));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(g,m,y){var _,b,w;if(y)for(_=m,b=m+1,w=this._objects.length;b<w;++b){var S=g.intersectsWithObject(this._objects[b])||g.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(g);if(S){_=b;break}}else _=m+1;return _},moveTo:function(g,m){return h(this._objects,g),this._objects.splice(m,0,g),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(g){g.dispose&&g.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),a(t.StaticCanvas.prototype,t.Observable),a(t.StaticCanvas.prototype,t.Collection),a(t.StaticCanvas.prototype,t.DataURLExporter),a(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(g){var m=d();if(!m||!m.getContext)return null;var y=m.getContext("2d");if(!y)return null;switch(g){case"setLineDash":return typeof y.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var g=c(this.lowerCanvasEl);return g&&g.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(g){var m=c(this.lowerCanvasEl);return m&&m.createJPEGStream(g)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(a){a.strokeStyle=this.color,a.lineWidth=this.width,a.lineCap=this.strokeLineCap,a.miterLimit=this.strokeMiterLimit,a.lineJoin=this.strokeLineJoin,a.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(a){var s=this.canvas.viewportTransform;a.save(),a.transform(s[0],s[1],s[2],s[3],s[4],s[5])},_setShadow:function(){if(this.shadow){var a=this.canvas,s=this.shadow,h=a.contextTop,u=a.getZoom();a&&a._isRetinaScaling()&&(u*=t.devicePixelRatio),h.shadowColor=s.color,h.shadowBlur=s.blur*u,h.shadowOffsetX=s.offsetX*u,h.shadowOffsetY=s.offsetY*u}},needsFullRender:function(){var a=new t.Color(this.color);return a.getAlpha()<1||!!this.shadow},_resetShadow:function(){var a=this.canvas.contextTop;a.shadowColor="",a.shadowBlur=a.shadowOffsetX=a.shadowOffsetY=0},_isOutSideCanvas:function(a){return a.x<0||a.x>this.canvas.getWidth()||a.y<0||a.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(a){this.canvas=a,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(a,s,h){var u=s.midPointFrom(h);return a.quadraticCurveTo(s.x,s.y,u.x,u.y),u},onMouseDown:function(a,s){this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],this._prepareForDrawing(a),this._captureDrawingPath(a),this._render())},onMouseMove:function(a,s){if(this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a))&&this._captureDrawingPath(a)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,u=h.length,l=this.canvas.contextTop;this._saveAndTransform(l),this.oldEnd&&(l.beginPath(),l.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(l,h[u-2],h[u-1],!0),l.stroke(),l.restore()}},onMouseUp:function(a){return this.canvas._isMainEvent(a.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(a){var s=new t.Point(a.x,a.y);this._reset(),this._addPoint(s),this.canvas.contextTop.moveTo(s.x,s.y)},_addPoint:function(a){return this._points.length>1&&a.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(a),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(a){var s=new t.Point(a.x,a.y);return this._addPoint(s)},_render:function(a){var s,h,u=this._points[0],l=this._points[1];if(a=a||this.canvas.contextTop,this._saveAndTransform(a),a.beginPath(),this._points.length===2&&u.x===l.x&&u.y===l.y){var f=this.width/1e3;u=new t.Point(u.x,u.y),l=new t.Point(l.x,l.y),u.x-=f,l.x+=f}for(a.moveTo(u.x,u.y),s=1,h=this._points.length;s<h;s++)this._drawSegment(a,u,l),u=this._points[s],l=this._points[s+1];a.lineTo(u.x,u.y),a.stroke(),a.restore()},convertPointsToSVGPath:function(a){var s=this.width/1e3;return t.util.getSmoothPathFromPoints(a,s)},_isEmptySVGPath:function(a){var s=t.util.joinPath(a);return s==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(a){var s=new t.Path(a,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,s.shadow=new t.Shadow(this.shadow)),s},decimatePoints:function(a,s){if(a.length<=2)return a;var h=this.canvas.getZoom(),u=Math.pow(s/h,2),l,f=a.length-1,c=a[0],d=[c],v;for(l=1;l<f-1;l++)v=Math.pow(c.x-a[l].x,2)+Math.pow(c.y-a[l].y,2),v>=u&&(c=a[l],d.push(c));return d.push(a[f]),d},_finalizeAndAddPath:function(){var a=this.canvas.contextTop;a.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var s=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(s)){this.canvas.requestRenderAll();return}var h=this.createPath(s);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(a){this.canvas=a,this.points=[]},drawDot:function(a){var s=this.addPoint(a),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,s),h.restore()},dot:function(a,s){a.fillStyle=s.fill,a.beginPath(),a.arc(s.x,s.y,s.radius,0,Math.PI*2,!1),a.closePath(),a.fill()},onMouseDown:function(a){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(a)},_render:function(){var a=this.canvas.contextTop,s,h,u=this.points;for(this._saveAndTransform(a),s=0,h=u.length;s<h;s++)this.dot(a,u[s]);a.restore()},onMouseMove:function(a){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(a),this._render()):this.drawDot(a))},onMouseUp:function(){var a=this.canvas.renderOnAddRemove,s,h;this.canvas.renderOnAddRemove=!1;var u=[];for(s=0,h=this.points.length;s<h;s++){var l=this.points[s],f=new t.Circle({radius:l.radius,left:l.x,top:l.y,originX:"center",originY:"center",fill:l.fill});this.shadow&&(f.shadow=new t.Shadow(this.shadow)),u.push(f)}var c=new t.Group(u);c.canvas=this.canvas,this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=a,this.canvas.requestRenderAll()},addPoint:function(a){var s=new t.Point(a.x,a.y),h=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,u=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return s.radius=h,s.fill=u,this.points.push(s),s}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(a){this.canvas=a,this.sprayChunks=[]},onMouseDown:function(a){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(a),this.render(this.sprayChunkPoints)},onMouseMove:function(a){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a)||(this.addSprayChunk(a),this.render(this.sprayChunkPoints))},onMouseUp:function(){var a=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var s=[],h=0,u=this.sprayChunks.length;h<u;h++)for(var l=this.sprayChunks[h],f=0,c=l.length;f<c;f++){var d=new t.Rect({width:l[f].width,height:l[f].width,left:l[f].x+1,top:l[f].y+1,originX:"center",originY:"center",fill:this.color});s.push(d)}this.optimizeOverlapping&&(s=this._getOptimizedRects(s));var v=new t.Group(s);this.shadow&&v.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:v}),this.canvas.add(v),this.canvas.fire("path:created",{path:v}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=a,this.canvas.requestRenderAll()},_getOptimizedRects:function(a){var s={},h,u,l;for(u=0,l=a.length;u<l;u++)h=a[u].left+""+a[u].top,s[h]||(s[h]=a[u]);var f=[];for(h in s)f.push(s[h]);return f},render:function(a){var s=this.canvas.contextTop,h,u;for(s.fillStyle=this.color,this._saveAndTransform(s),h=0,u=a.length;h<u;h++){var l=a[h];typeof l.opacity<"u"&&(s.globalAlpha=l.opacity),s.fillRect(l.x,l.y,l.width,l.width)}s.restore()},_render:function(){var a=this.canvas.contextTop,s,h;for(a.fillStyle=this.color,this._saveAndTransform(a),s=0,h=this.sprayChunks.length;s<h;s++)this.render(this.sprayChunks[s]);a.restore()},addSprayChunk:function(a){this.sprayChunkPoints=[];var s,h,u,l=this.width/2,f;for(f=0;f<this.density;f++){s=t.util.getRandomInt(a.x-l,a.x+l),h=t.util.getRandomInt(a.y-l,a.y+l),this.dotWidthVariance?u=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):u=this.dotWidth;var c=new t.Point(s,h);c.width=u,this.randomOpacity&&(c.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(c)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var a=20,s=5,h=t.util.createCanvasElement(),u=h.getContext("2d");return h.width=h.height=a+s,u.fillStyle=this.color,u.beginPath(),u.arc(a/2,a/2,a/2,0,Math.PI*2,!1),u.closePath(),u.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(a){return a.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(a){this.callSuper("_setBrushStyles",a),a.strokeStyle=this.getPattern(a)},createPath:function(a){var s=this.callSuper("createPath",a),h=s._getLeftTopCoords().scalarAdd(s.strokeWidth/2);return s.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),s}}),function(){var a=t.util.getPointer,s=t.util.degreesToRadians,h=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(l,f){f||(f={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,f),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var l=this.getActiveObjects(),f,c,d;if(l.length>0&&!this.preserveObjectStacking){c=[],d=[];for(var v=0,g=this._objects.length;v<g;v++)f=this._objects[v],l.indexOf(f)===-1?c.push(f):d.push(f);l.length>1&&(this._activeObject._objects=d),c.push.apply(c,d)}else c=this._objects;return c},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var l=this.contextContainer;return this.renderCanvas(l,this._chooseObjectsToRender()),this},renderTopLayer:function(l){l.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(l),this.contextTopDirty=!0),l.restore()},renderTop:function(){var l=this.contextTop;return this.clearContext(l),this.renderTopLayer(l),this.fire("after:render"),this},_normalizePointer:function(l,f){var c=l.calcTransformMatrix(),d=t.util.invertTransform(c),v=this.restorePointerVpt(f);return t.util.transformPoint(v,d)},isTargetTransparent:function(l,f,c){if(l.shouldCache()&&l._cacheCanvas&&l!==this._activeObject){var d=this._normalizePointer(l,{x:f,y:c}),v=Math.max(l.cacheTranslationX+d.x*l.zoomX,0),g=Math.max(l.cacheTranslationY+d.y*l.zoomY,0),b=t.util.isTransparent(l._cacheContext,Math.round(v),Math.round(g),this.targetFindTolerance);return b}var m=this.contextCache,y=l.selectionBackgroundColor,_=this.viewportTransform;l.selectionBackgroundColor="",this.clearContext(m),m.save(),m.transform(_[0],_[1],_[2],_[3],_[4],_[5]),l.render(m),m.restore(),l.selectionBackgroundColor=y;var b=t.util.isTransparent(m,f,c,this.targetFindTolerance);return b},_isSelectionKeyPressed:function(l){var f=!1;return Array.isArray(this.selectionKey)?f=!!this.selectionKey.find(function(c){return l[c]===!0}):f=l[this.selectionKey],f},_shouldClearSelection:function(l,f){var c=this.getActiveObjects(),d=this._activeObject;return!f||f&&d&&c.length>1&&c.indexOf(f)===-1&&d!==f&&!this._isSelectionKeyPressed(l)||f&&!f.evented||f&&!f.selectable&&d&&d!==f},_shouldCenterTransform:function(l,f,c){if(l){var d;return f==="scale"||f==="scaleX"||f==="scaleY"||f==="resizing"?d=this.centeredScaling||l.centeredScaling:f==="rotate"&&(d=this.centeredRotation||l.centeredRotation),d?!c:c}},_getOriginFromCorner:function(l,f){var c={x:l.originX,y:l.originY};return f==="ml"||f==="tl"||f==="bl"?c.x="right":(f==="mr"||f==="tr"||f==="br")&&(c.x="left"),f==="tl"||f==="mt"||f==="tr"?c.y="bottom":(f==="bl"||f==="mb"||f==="br")&&(c.y="top"),c},_getActionFromCorner:function(l,f,c,d){if(!f||!l)return"drag";var v=d.controls[f];return v.getActionName(c,v,d)},_setupCurrentTransform:function(l,f,c){if(f){var d=this.getPointer(l),v=f.__corner,g=f.controls[v],m=c&&v?g.getActionHandler(l,f,g):t.controlsUtils.dragHandler,y=this._getActionFromCorner(c,v,l,f),_=this._getOriginFromCorner(f,v),b=l[this.centeredKey],w={target:f,action:y,actionHandler:m,corner:v,scaleX:f.scaleX,scaleY:f.scaleY,skewX:f.skewX,skewY:f.skewY,offsetX:d.x-f.left,offsetY:d.y-f.top,originX:_.x,originY:_.y,ex:d.x,ey:d.y,lastX:d.x,lastY:d.y,theta:s(f.angle),width:f.width*f.scaleX,shiftKey:l.shiftKey,altKey:b,original:t.util.saveObjectTransform(f)};this._shouldCenterTransform(f,y,b)&&(w.originX="center",w.originY="center"),w.original.originX=_.x,w.original.originY=_.y,this._currentTransform=w,this._beforeTransform(l)}},setCursor:function(l){this.upperCanvasEl.style.cursor=l},_drawSelection:function(l){var f=this._groupSelector,c=new t.Point(f.ex,f.ey),d=t.util.transformPoint(c,this.viewportTransform),v=new t.Point(f.ex+f.left,f.ey+f.top),g=t.util.transformPoint(v,this.viewportTransform),m=Math.min(d.x,g.x),y=Math.min(d.y,g.y),_=Math.max(d.x,g.x),b=Math.max(d.y,g.y),w=this.selectionLineWidth/2;this.selectionColor&&(l.fillStyle=this.selectionColor,l.fillRect(m,y,_-m,b-y)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(l.lineWidth=this.selectionLineWidth,l.strokeStyle=this.selectionBorderColor,m+=w,y+=w,_-=w,b-=w,t.Object.prototype._setLineDash.call(this,l,this.selectionDashArray),l.strokeRect(m,y,_-m,b-y))},findTarget:function(l,f){if(!this.skipTargetFind){var c=!0,d=this.getPointer(l,c),v=this._activeObject,g=this.getActiveObjects(),m,y,_=h(l),b=g.length>1&&!f||g.length===1;if(this.targets=[],b&&v._findTargetCorner(d,_)||g.length>1&&!f&&v===this._searchPossibleTargets([v],d))return v;if(g.length===1&&v===this._searchPossibleTargets([v],d))if(this.preserveObjectStacking)m=v,y=this.targets,this.targets=[];else return v;var w=this._searchPossibleTargets(this._objects,d);return l[this.altSelectionKey]&&w&&m&&w!==m&&(w=m,this.targets=y),w}},_checkTarget:function(l,f,c){if(f&&f.visible&&f.evented&&f.containsPoint(l))if((this.perPixelTargetFind||f.perPixelTargetFind)&&!f.isEditing){var d=this.isTargetTransparent(f,c.x,c.y);if(!d)return!0}else return!0},_searchPossibleTargets:function(l,f){for(var c,d=l.length,v;d--;){var g=l[d],m=g.group?this._normalizePointer(g.group,f):f;if(this._checkTarget(m,g,f)){c=l[d],c.subTargetCheck&&c instanceof t.Group&&(v=this._searchPossibleTargets(c._objects,f),v&&this.targets.push(v));break}}return c},restorePointerVpt:function(l){return t.util.transformPoint(l,t.util.invertTransform(this.viewportTransform))},getPointer:function(l,f){if(this._absolutePointer&&!f)return this._absolutePointer;if(this._pointer&&f)return this._pointer;var c=a(l),d=this.upperCanvasEl,v=d.getBoundingClientRect(),g=v.width||0,m=v.height||0,y;(!g||!m)&&("top"in v&&"bottom"in v&&(m=Math.abs(v.top-v.bottom)),"right"in v&&"left"in v&&(g=Math.abs(v.right-v.left))),this.calcOffset(),c.x=c.x-this._offset.left,c.y=c.y-this._offset.top,f||(c=this.restorePointerVpt(c));var _=this.getRetinaScaling();return _!==1&&(c.x/=_,c.y/=_),g===0||m===0?y={width:1,height:1}:y={width:d.width/g,height:d.height/m},{x:c.x*y.width,y:c.y*y.height}},_createUpperCanvas:function(){var l=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),f=this.lowerCanvasEl,c=this.upperCanvasEl;c?c.className="":(c=this._createCanvasElement(),this.upperCanvasEl=c),t.util.addClass(c,"upper-canvas "+l),this.wrapperEl.appendChild(c),this._copyCanvasStyle(f,c),this._applyCanvasStyle(c),this.contextTop=c.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(l){var f=this.width||l.width,c=this.height||l.height;t.util.setStyle(l,{position:"absolute",width:f+"px",height:c+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),l.width=f,l.height=c,t.util.makeElementUnselectable(l)},_copyCanvasStyle:function(l,f){f.style.cssText=l.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var l=this._activeObject;return l?l.type==="activeSelection"&&l._objects?l._objects.slice(0):[l]:[]},_onObjectRemoved:function(l){l===this._activeObject&&(this.fire("before:selection:cleared",{target:l}),this._discardActiveObject(),this.fire("selection:cleared",{target:l}),l.fire("deselected")),l===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",l)},_fireSelectionEvents:function(l,f){var c=!1,d=this.getActiveObjects(),v=[],g=[];l.forEach(function(m){d.indexOf(m)===-1&&(c=!0,m.fire("deselected",{e:f,target:m}),g.push(m))}),d.forEach(function(m){l.indexOf(m)===-1&&(c=!0,m.fire("selected",{e:f,target:m}),v.push(m))}),l.length>0&&d.length>0?c&&this.fire("selection:updated",{e:f,selected:v,deselected:g}):d.length>0?this.fire("selection:created",{e:f,selected:v}):l.length>0&&this.fire("selection:cleared",{e:f,deselected:g})},setActiveObject:function(l,f){var c=this.getActiveObjects();return this._setActiveObject(l,f),this._fireSelectionEvents(c,f),this},_setActiveObject:function(l,f){return this._activeObject===l||!this._discardActiveObject(f,l)||l.onSelect({e:f})?!1:(this._activeObject=l,!0)},_discardActiveObject:function(l,f){var c=this._activeObject;if(c){if(c.onDeselect({e:l,object:f}))return!1;this._activeObject=null}return!0},discardActiveObject:function(l){var f=this.getActiveObjects(),c=this.getActiveObject();return f.length&&this.fire("before:selection:cleared",{target:c,e:l}),this._discardActiveObject(l),this._fireSelectionEvents(f,l),this},dispose:function(){var l=this.wrapperEl;return this.removeListeners(),l.removeChild(this.upperCanvasEl),l.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(f){t.util.cleanUpJsdomNode(this[f]),this[f]=void 0}.bind(this)),l.parentNode&&l.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(l){var f=this._activeObject;f&&f._renderControls(l)},_toObject:function(l,f,c){var d=this._realizeGroupTransformOnObject(l),v=this.callSuper("_toObject",l,f,c);return this._unwindGroupTransformOnObject(l,d),v},_realizeGroupTransformOnObject:function(l){if(l.group&&l.group.type==="activeSelection"&&this._activeObject===l.group){var f=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],c={};return f.forEach(function(d){c[d]=l[d]}),t.util.addTransformToObject(l,this._activeObject.calcOwnMatrix()),c}else return null},_unwindGroupTransformOnObject:function(l,f){f&&l.set(f)},_setSVGObject:function(l,f,c){var d=this._realizeGroupTransformOnObject(f);this.callSuper("_setSVGObject",l,f,c),this._unwindGroupTransformOnObject(f,d)},setViewportTransform:function(l){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,l)}});for(var u in t.StaticCanvas)u!=="prototype"&&(t.Canvas[u]=t.StaticCanvas[u])}(),function(){var a=t.util.addListener,s=t.util.removeListener,h=3,u=2,l=1,f={passive:!1};function c(d,v){return d.button&&d.button===v-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(a,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(d,v){var g=this.upperCanvasEl,m=this._getEventPrefix();d(t.window,"resize",this._onResize),d(g,m+"down",this._onMouseDown),d(g,m+"move",this._onMouseMove,f),d(g,m+"out",this._onMouseOut),d(g,m+"enter",this._onMouseEnter),d(g,"wheel",this._onMouseWheel),d(g,"contextmenu",this._onContextMenu),d(g,"dblclick",this._onDoubleClick),d(g,"dragover",this._onDragOver),d(g,"dragenter",this._onDragEnter),d(g,"dragleave",this._onDragLeave),d(g,"drop",this._onDrop),this.enablePointerEvents||d(g,"touchstart",this._onTouchStart,f),typeof eventjs<"u"&&v in eventjs&&(eventjs[v](g,"gesture",this._onGesture),eventjs[v](g,"drag",this._onDrag),eventjs[v](g,"orientation",this._onOrientationChange),eventjs[v](g,"shake",this._onShake),eventjs[v](g,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(s,"remove");var d=this._getEventPrefix();s(t.document,d+"up",this._onMouseUp),s(t.document,"touchend",this._onTouchEnd,f),s(t.document,d+"move",this._onMouseMove,f),s(t.document,"touchmove",this._onMouseMove,f)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(d,v){this.__onTransformGesture&&this.__onTransformGesture(d,v)},_onDrag:function(d,v){this.__onDrag&&this.__onDrag(d,v)},_onMouseWheel:function(d){this.__onMouseWheel(d)},_onMouseOut:function(d){var v=this._hoveredTarget;this.fire("mouse:out",{target:v,e:d}),this._hoveredTarget=null,v&&v.fire("mouseout",{e:d});var g=this;this._hoveredTargets.forEach(function(m){g.fire("mouse:out",{target:v,e:d}),m&&v.fire("mouseout",{e:d})}),this._hoveredTargets=[]},_onMouseEnter:function(d){!this._currentTransform&&!this.findTarget(d)&&(this.fire("mouse:over",{target:null,e:d}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(d,v){this.__onOrientationChange&&this.__onOrientationChange(d,v)},_onShake:function(d,v){this.__onShake&&this.__onShake(d,v)},_onLongPress:function(d,v){this.__onLongPress&&this.__onLongPress(d,v)},_onDragOver:function(d){d.preventDefault();var v=this._simpleEventHandler("dragover",d);this._fireEnterLeaveEvents(v,d)},_onDrop:function(d){return this._simpleEventHandler("drop:before",d),this._simpleEventHandler("drop",d)},_onContextMenu:function(d){return this.stopContextMenu&&(d.stopPropagation(),d.preventDefault()),!1},_onDoubleClick:function(d){this._cacheTransformEventData(d),this._handleEvent(d,"dblclick"),this._resetTransformEventData(d)},getPointerId:function(d){var v=d.changedTouches;return v?v[0]&&v[0].identifier:this.enablePointerEvents?d.pointerId:-1},_isMainEvent:function(d){return d.isPrimary===!0?!0:d.isPrimary===!1?!1:d.type==="touchend"&&d.touches.length===0?!0:d.changedTouches?d.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(d){d.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(d)),this.__onMouseDown(d),this._resetTransformEventData();var v=this.upperCanvasEl,g=this._getEventPrefix();a(t.document,"touchend",this._onTouchEnd,f),a(t.document,"touchmove",this._onMouseMove,f),s(v,g+"down",this._onMouseDown)},_onMouseDown:function(d){this.__onMouseDown(d),this._resetTransformEventData();var v=this.upperCanvasEl,g=this._getEventPrefix();s(v,g+"move",this._onMouseMove,f),a(t.document,g+"up",this._onMouseUp),a(t.document,g+"move",this._onMouseMove,f)},_onTouchEnd:function(d){if(!(d.touches.length>0)){this.__onMouseUp(d),this._resetTransformEventData(),this.mainTouchId=null;var v=this._getEventPrefix();s(t.document,"touchend",this._onTouchEnd,f),s(t.document,"touchmove",this._onMouseMove,f);var g=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){a(g.upperCanvasEl,v+"down",g._onMouseDown),g._willAddMouseDown=0},400)}},_onMouseUp:function(d){this.__onMouseUp(d),this._resetTransformEventData();var v=this.upperCanvasEl,g=this._getEventPrefix();this._isMainEvent(d)&&(s(t.document,g+"up",this._onMouseUp),s(t.document,g+"move",this._onMouseMove,f),a(v,g+"move",this._onMouseMove,f))},_onMouseMove:function(d){!this.allowTouchScrolling&&d.preventDefault&&d.preventDefault(),this.__onMouseMove(d)},_onResize:function(){this.calcOffset()},_shouldRender:function(d){var v=this._activeObject;return!!v!=!!d||v&&d&&v!==d?!0:(v&&v.isEditing,!1)},__onMouseUp:function(d){var v,g=this._currentTransform,m=this._groupSelector,y=!1,_=!m||m.left===0&&m.top===0;if(this._cacheTransformEventData(d),v=this._target,this._handleEvent(d,"up:before"),c(d,h)){this.fireRightClick&&this._handleEvent(d,"up",h,_);return}if(c(d,u)){this.fireMiddleClick&&this._handleEvent(d,"up",u,_),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(d);return}if(this._isMainEvent(d)){if(g&&(this._finalizeCurrentTransform(d),y=g.actionPerformed),!_){var b=v===this._activeObject;this._maybeGroupObjects(d),y||(y=this._shouldRender(v)||!b&&v===this._activeObject)}var w,S;if(v){if(w=v._findTargetCorner(this.getPointer(d,!0),t.util.isTouchEvent(d)),v.selectable&&v!==this._activeObject&&v.activeOn==="up")this.setActiveObject(v,d),y=!0;else{var x=v.controls[w],P=x&&x.getMouseUpHandler(d,v,x);P&&(S=this.getPointer(d),P(d,g,S.x,S.y))}v.isMoving=!1}if(g&&(g.target!==v||g.corner!==w)){var B=g.target&&g.target.controls[g.corner],G=B&&B.getMouseUpHandler(d,v,x);S=S||this.getPointer(d),G&&G(d,g,S.x,S.y)}this._setCursorFromEvent(d,v),this._handleEvent(d,"up",l,_),this._groupSelector=null,this._currentTransform=null,v&&(v.__corner=0),y?this.requestRenderAll():_||this.renderTop()}},_simpleEventHandler:function(d,v){var g=this.findTarget(v),m=this.targets,y={e:v,target:g,subTargets:m};if(this.fire(d,y),g&&g.fire(d,y),!m)return g;for(var _=0;_<m.length;_++)m[_].fire(d,y);return g},_handleEvent:function(d,v,g,m){var y=this._target,_=this.targets||[],b={e:d,target:y,subTargets:_,button:g||l,isClick:m||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};v==="up"&&(b.currentTarget=this.findTarget(d),b.currentSubTargets=this.targets),this.fire("mouse:"+v,b),y&&y.fire("mouse"+v,b);for(var w=0;w<_.length;w++)_[w].fire("mouse"+v,b)},_finalizeCurrentTransform:function(d){var v=this._currentTransform,g=v.target,m={e:d,target:g,transform:v,action:v.action};g._scaling&&(g._scaling=!1),g.setCoords(),(v.actionPerformed||this.stateful&&g.hasStateChanged())&&this._fire("modified",m)},_onMouseDownInDrawingMode:function(d){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(d).requestRenderAll();var v=this.getPointer(d);this.freeDrawingBrush.onMouseDown(v,{e:d,pointer:v}),this._handleEvent(d,"down")},_onMouseMoveInDrawingMode:function(d){if(this._isCurrentlyDrawing){var v=this.getPointer(d);this.freeDrawingBrush.onMouseMove(v,{e:d,pointer:v})}this.setCursor(this.freeDrawingCursor),this._handleEvent(d,"move")},_onMouseUpInDrawingMode:function(d){var v=this.getPointer(d);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:d,pointer:v}),this._handleEvent(d,"up")},__onMouseDown:function(d){this._cacheTransformEventData(d),this._handleEvent(d,"down:before");var v=this._target;if(c(d,h)){this.fireRightClick&&this._handleEvent(d,"down",h);return}if(c(d,u)){this.fireMiddleClick&&this._handleEvent(d,"down",u);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(d);return}if(this._isMainEvent(d)&&!this._currentTransform){var g=this._pointer;this._previousPointer=g;var m=this._shouldRender(v),y=this._shouldGroup(d,v);if(this._shouldClearSelection(d,v)?this.discardActiveObject(d):y&&(this._handleGrouping(d,v),v=this._activeObject),this.selection&&(!v||!v.selectable&&!v.isEditing&&v!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),v){var _=v===this._activeObject;v.selectable&&v.activeOn==="down"&&this.setActiveObject(v,d);var b=v._findTargetCorner(this.getPointer(d,!0),t.util.isTouchEvent(d));if(v.__corner=b,v===this._activeObject&&(b||!y)){this._setupCurrentTransform(d,v,_);var w=v.controls[b],g=this.getPointer(d),S=w&&w.getMouseDownHandler(d,v,w);S&&S(d,this._currentTransform,g.x,g.y)}}this._handleEvent(d,"down"),(m||y)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(d){this._resetTransformEventData(),this._pointer=this.getPointer(d,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(d)||null},_beforeTransform:function(d){var v=this._currentTransform;this.stateful&&v.target.saveState(),this.fire("before:transform",{e:d,transform:v})},__onMouseMove:function(d){this._handleEvent(d,"move:before"),this._cacheTransformEventData(d);var v,g;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(d);return}if(this._isMainEvent(d)){var m=this._groupSelector;m?(g=this._absolutePointer,m.left=g.x-m.ex,m.top=g.y-m.ey,this.renderTop()):this._currentTransform?this._transformObject(d):(v=this.findTarget(d)||null,this._setCursorFromEvent(d,v),this._fireOverOutEvents(v,d)),this._handleEvent(d,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(d,v){var g=this._hoveredTarget,m=this._hoveredTargets,y=this.targets,_=Math.max(m.length,y.length);this.fireSyntheticInOutEvents(d,v,{oldTarget:g,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var b=0;b<_;b++)this.fireSyntheticInOutEvents(y[b],v,{oldTarget:m[b],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=d,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(d,v){var g=this._draggedoverTarget,m=this._hoveredTargets,y=this.targets,_=Math.max(m.length,y.length);this.fireSyntheticInOutEvents(d,v,{oldTarget:g,evtOut:"dragleave",evtIn:"dragenter"});for(var b=0;b<_;b++)this.fireSyntheticInOutEvents(y[b],v,{oldTarget:m[b],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=d},fireSyntheticInOutEvents:function(d,v,g){var m,y,_=g.oldTarget,b,w,S=_!==d,x=g.canvasEvtIn,P=g.canvasEvtOut;S&&(m={e:v,target:d,previousTarget:_},y={e:v,target:_,nextTarget:d}),w=d&&S,b=_&&S,b&&(P&&this.fire(P,y),_.fire(g.evtOut,y)),w&&(x&&this.fire(x,m),d.fire(g.evtIn,m))},__onMouseWheel:function(d){this._cacheTransformEventData(d),this._handleEvent(d,"wheel"),this._resetTransformEventData()},_transformObject:function(d){var v=this.getPointer(d),g=this._currentTransform;g.reset=!1,g.shiftKey=d.shiftKey,g.altKey=d[this.centeredKey],this._performTransformAction(d,g,v),g.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(d,v,g){var m=g.x,y=g.y,_=v.action,b=!1,w=v.actionHandler;w&&(b=w(d,v,m,y)),_==="drag"&&b&&(v.target.isMoving=!0,this.setCursor(v.target.moveCursor||this.moveCursor)),v.actionPerformed=v.actionPerformed||b},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(d,v){if(!v)return this.setCursor(this.defaultCursor),!1;var g=v.hoverCursor||this.hoverCursor,m=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,y=(!m||!m.contains(v))&&v._findTargetCorner(this.getPointer(d,!0));y?this.setCursor(this.getCornerCursor(y,v,d)):(v.subTargetCheck&&this.targets.concat().reverse().map(function(_){g=_.hoverCursor||g}),this.setCursor(g))},getCornerCursor:function(d,v,g){var m=v.controls[d];return m.cursorStyleHandler(g,m,v)}})}(),function(){var a=Math.min,s=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(h,u){var l=this._activeObject;return l&&this._isSelectionKeyPressed(h)&&u&&u.selectable&&this.selection&&(l!==u||l.type==="activeSelection")&&!u.onSelect({e:h})},_handleGrouping:function(h,u){var l=this._activeObject;l.__corner||u===l&&(u=this.findTarget(h,!0),!u||!u.selectable)||(l&&l.type==="activeSelection"?this._updateActiveSelection(u,h):this._createActiveSelection(u,h))},_updateActiveSelection:function(h,u){var l=this._activeObject,f=l._objects.slice(0);l.contains(h)?(l.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),l.size()===1&&this._setActiveObject(l.item(0),u)):(l.addWithUpdate(h),this._hoveredTarget=l,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(f,u)},_createActiveSelection:function(h,u){var l=this.getActiveObjects(),f=this._createGroup(h);this._hoveredTarget=f,this._setActiveObject(f,u),this._fireSelectionEvents(l,u)},_createGroup:function(h){var u=this._objects,l=u.indexOf(this._activeObject)<u.indexOf(h),f=l?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(f,{canvas:this})},_groupSelectedObjects:function(h){var u=this._collectObjects(h),l;u.length===1?this.setActiveObject(u[0],h):u.length>1&&(l=new t.ActiveSelection(u.reverse(),{canvas:this}),this.setActiveObject(l,h))},_collectObjects:function(h){for(var u=[],l,f=this._groupSelector.ex,c=this._groupSelector.ey,d=f+this._groupSelector.left,v=c+this._groupSelector.top,g=new t.Point(a(f,d),a(c,v)),m=new t.Point(s(f,d),s(c,v)),y=!this.selectionFullyContained,_=f===d&&c===v,b=this._objects.length;b--&&(l=this._objects[b],!(!(!l||!l.selectable||!l.visible)&&(y&&l.intersectsWithRect(g,m,!0)||l.isContainedWithinRect(g,m,!0)||y&&l.containsPoint(g,null,!0)||y&&l.containsPoint(m,null,!0))&&(u.push(l),_))););return u.length>1&&(u=u.filter(function(w){return!w.onSelect({e:h})})),u},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(a){a||(a={});var s=a.format||"png",h=a.quality||1,u=(a.multiplier||1)*(a.enableRetinaScaling?this.getRetinaScaling():1),l=this.toCanvasElement(u,a);return t.util.toDataURL(l,s,h)},toCanvasElement:function(a,s){a=a||1,s=s||{};var h=(s.width||this.width)*a,u=(s.height||this.height)*a,l=this.getZoom(),f=this.width,c=this.height,d=l*a,v=this.viewportTransform,g=(v[4]-(s.left||0))*a,m=(v[5]-(s.top||0))*a,y=this.interactive,_=[d,0,0,d,g,m],b=this.enableRetinaScaling,w=t.util.createCanvasElement(),S=this.contextTop;return w.width=h,w.height=u,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=_,this.width=h,this.height=u,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=v,this.width=f,this.height=c,this.calcViewportBoundaries(),this.interactive=y,this.enableRetinaScaling=b,this.contextTop=S,w}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(a,s,h){if(a){var u=typeof a=="string"?JSON.parse(a):t.util.object.clone(a),l=this,f=u.clipPath,c=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete u.clipPath,this._enlivenObjects(u.objects,function(d){l.clear(),l._setBgOverlay(u,function(){f?l._enlivenObjects([f],function(v){l.clipPath=v[0],l.__setupCanvas.call(l,u,d,c,s)}):l.__setupCanvas.call(l,u,d,c,s)})},h),this}},__setupCanvas:function(a,s,h,u){var l=this;s.forEach(function(f,c){l.insertAt(f,c)}),this.renderOnAddRemove=h,delete a.objects,delete a.backgroundImage,delete a.overlayImage,delete a.background,delete a.overlay,this._setOptions(a),this.renderAll(),u&&u()},_setBgOverlay:function(a,s){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!a.backgroundImage&&!a.overlayImage&&!a.background&&!a.overlay){s&&s();return}var u=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&s&&s()};this.__setBgOverlay("backgroundImage",a.backgroundImage,h,u),this.__setBgOverlay("overlayImage",a.overlayImage,h,u),this.__setBgOverlay("backgroundColor",a.background,h,u),this.__setBgOverlay("overlayColor",a.overlay,h,u)},__setBgOverlay:function(a,s,h,u){var l=this;if(!s){h[a]=!0,u&&u();return}a==="backgroundImage"||a==="overlayImage"?t.util.enlivenObjects([s],function(f){l[a]=f[0],h[a]=!0,u&&u()}):this["set"+t.util.string.capitalize(a,!0)](s,function(){h[a]=!0,u&&u()})},_enlivenObjects:function(a,s,h){if(!a||a.length===0){s&&s([]);return}t.util.enlivenObjects(a,function(u){s&&s(u)},null,h)},_toDataURL:function(a,s){this.clone(function(h){s(h.toDataURL(a))})},_toDataURLWithMultiplier:function(a,s,h){this.clone(function(u){h(u.toDataURLWithMultiplier(a,s))})},clone:function(a,s){var h=JSON.stringify(this.toJSON(s));this.cloneWithoutData(function(u){u.loadFromJSON(h,function(){a&&a(u)})})},cloneWithoutData:function(a){var s=t.util.createCanvasElement();s.width=this.width,s.height=this.height;var h=new t.Canvas(s);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),a&&a(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):a&&a(h)}}),function(a){var s=a.fabric||(a.fabric={}),h=s.util.object.extend,u=s.util.object.clone,l=s.util.toFixed,f=s.util.string.capitalize,c=s.util.degreesToRadians,d=!s.isLikelyNode,v=2;s.Object||(s.Object=s.util.createClass(s.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:d,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(g){g&&this.setOptions(g)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=s.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(g){var m=s.perfLimitSizeTotal,y=g.width,_=g.height,b=s.maxCacheSideLimit,w=s.minCacheSideLimit;if(y<=b&&_<=b&&y*_<=m)return y<w&&(g.width=w),_<w&&(g.height=w),g;var S=y/_,x=s.util.limitDimsByArea(S,m),P=s.util.capValue,B=P(w,x.x,b),G=P(w,x.y,b);return y>B&&(g.zoomX/=y/B,g.width=B,g.capped=!0),_>G&&(g.zoomY/=_/G,g.height=G,g.capped=!0),g},_getCacheCanvasDimensions:function(){var g=this.getTotalObjectScaling(),m=this._getTransformedDimensions(0,0),y=m.x*g.scaleX/this.scaleX,_=m.y*g.scaleY/this.scaleY;return{width:y+v,height:_+v,zoomX:g.scaleX,zoomY:g.scaleY,x:y,y:_}},_updateCacheCanvas:function(){var g=this.canvas;if(this.noScaleCache&&g&&g._currentTransform){var m=g._currentTransform.target,y=g._currentTransform.action;if(this===m&&y.slice&&y.slice(0,5)==="scale")return!1}var _=this._cacheCanvas,b=this._limitCacheSize(this._getCacheCanvasDimensions()),w=s.minCacheSideLimit,S=b.width,x=b.height,P,B,G=b.zoomX,K=b.zoomY,Y=S!==this.cacheWidth||x!==this.cacheHeight,W=this.zoomX!==G||this.zoomY!==K,ee=Y||W,le=0,de=0,U=!1;if(Y){var Q=this._cacheCanvas.width,O=this._cacheCanvas.height,R=S>Q||x>O,F=(S<Q*.9||x<O*.9)&&Q>w&&O>w;U=R||F,R&&!b.capped&&(S>w||x>w)&&(le=S*.1,de=x*.1)}return this instanceof s.Text&&this.path&&(ee=!0,U=!0,le+=this.getHeightOfLine(0)*this.zoomX,de+=this.getHeightOfLine(0)*this.zoomY),ee?(U?(_.width=Math.ceil(S+le),_.height=Math.ceil(x+de)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,_.width,_.height)),P=b.x/2,B=b.y/2,this.cacheTranslationX=Math.round(_.width/2-P)+P,this.cacheTranslationY=Math.round(_.height/2-B)+B,this.cacheWidth=S,this.cacheHeight=x,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(G,K),this.zoomX=G,this.zoomY=K,!0):!1},setOptions:function(g){this._setOptions(g),this._initGradient(g.fill,"fill"),this._initGradient(g.stroke,"stroke"),this._initPattern(g.fill,"fill"),this._initPattern(g.stroke,"stroke")},transform:function(g){var m=this.group&&!this.group._transformDone||this.group&&this.canvas&&g===this.canvas.contextTop,y=this.calcTransformMatrix(!m);g.transform(y[0],y[1],y[2],y[3],y[4],y[5])},toObject:function(g){var m=s.Object.NUM_FRACTION_DIGITS,y={type:this.type,version:s.version,originX:this.originX,originY:this.originY,left:l(this.left,m),top:l(this.top,m),width:l(this.width,m),height:l(this.height,m),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:l(this.strokeWidth,m),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:l(this.strokeMiterLimit,m),scaleX:l(this.scaleX,m),scaleY:l(this.scaleY,m),angle:l(this.angle,m),flipX:this.flipX,flipY:this.flipY,opacity:l(this.opacity,m),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:l(this.skewX,m),skewY:l(this.skewY,m)};return this.clipPath&&!this.clipPath.excludeFromExport&&(y.clipPath=this.clipPath.toObject(g),y.clipPath.inverted=this.clipPath.inverted,y.clipPath.absolutePositioned=this.clipPath.absolutePositioned),s.util.populateWithProperties(this,y,g),this.includeDefaultValues||(y=this._removeDefaultValues(y)),y},toDatalessObject:function(g){return this.toObject(g)},_removeDefaultValues:function(g){var m=s.util.getKlass(g.type).prototype,y=m.stateProperties;return y.forEach(function(_){_==="left"||_==="top"||(g[_]===m[_]&&delete g[_],Array.isArray(g[_])&&Array.isArray(m[_])&&g[_].length===0&&m[_].length===0&&delete g[_])}),g},toString:function(){return"#<fabric."+f(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var g=s.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(g.scaleX),scaleY:Math.abs(g.scaleY)}},getTotalObjectScaling:function(){var g=this.getObjectScaling(),m=g.scaleX,y=g.scaleY;if(this.canvas){var _=this.canvas.getZoom(),b=this.canvas.getRetinaScaling();m*=_*b,y*=_*b}return{scaleX:m,scaleY:y}},getObjectOpacity:function(){var g=this.opacity;return this.group&&(g*=this.group.getObjectOpacity()),g},_set:function(g,m){var y=g==="scaleX"||g==="scaleY",_=this[g]!==m,b=!1;return y&&(m=this._constrainScale(m)),g==="scaleX"&&m<0?(this.flipX=!this.flipX,m*=-1):g==="scaleY"&&m<0?(this.flipY=!this.flipY,m*=-1):g==="shadow"&&m&&!(m instanceof s.Shadow)?m=new s.Shadow(m):g==="dirty"&&this.group&&this.group.set("dirty",m),this[g]=m,_&&(b=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(g)>-1?(this.dirty=!0,b&&this.group.set("dirty",!0)):b&&this.stateProperties.indexOf(g)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:s.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(g){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(g.save(),this._setupCompositeOperation(g),this.drawSelectionBackground(g),this.transform(g),this._setOpacity(g),this._setShadow(g,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(g)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(g),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),g.restore())},renderCache:function(g){g=g||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,g.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(g,m){if(g.save(),m.inverted?g.globalCompositeOperation="destination-out":g.globalCompositeOperation="destination-in",m.absolutePositioned){var y=s.util.invertTransform(this.calcTransformMatrix());g.transform(y[0],y[1],y[2],y[3],y[4],y[5])}m.transform(g),g.scale(1/m.zoomX,1/m.zoomY),g.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),g.restore()},drawObject:function(g,m){var y=this.fill,_=this.stroke;m?(this.fill="black",this.stroke="",this._setClippingProperties(g)):this._renderBackground(g),this._render(g),this._drawClipPath(g,this.clipPath),this.fill=y,this.stroke=_},_drawClipPath:function(g,m){m&&(m.canvas=this.canvas,m.shouldCache(),m._transformDone=!0,m.renderCache({forClipping:!0}),this.drawClipPathOnCache(g,m))},drawCacheOnCanvas:function(g){g.scale(1/this.zoomX,1/this.zoomY),g.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(g){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!g&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!g){var m=this.cacheWidth/this.zoomX,y=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-m/2,-y/2,m,y)}return!0}return!1},_renderBackground:function(g){if(this.backgroundColor){var m=this._getNonTransformedDimensions();g.fillStyle=this.backgroundColor,g.fillRect(-m.x/2,-m.y/2,m.x,m.y),this._removeShadow(g)}},_setOpacity:function(g){this.group&&!this.group._transformDone?g.globalAlpha=this.getObjectOpacity():g.globalAlpha*=this.opacity},_setStrokeStyles:function(g,m){var y=m.stroke;y&&(g.lineWidth=m.strokeWidth,g.lineCap=m.strokeLineCap,g.lineDashOffset=m.strokeDashOffset,g.lineJoin=m.strokeLineJoin,g.miterLimit=m.strokeMiterLimit,y.toLive?y.gradientUnits==="percentage"||y.gradientTransform||y.patternTransform?this._applyPatternForTransformedGradient(g,y):(g.strokeStyle=y.toLive(g,this),this._applyPatternGradientTransform(g,y)):g.strokeStyle=m.stroke)},_setFillStyles:function(g,m){var y=m.fill;y&&(y.toLive?(g.fillStyle=y.toLive(g,this),this._applyPatternGradientTransform(g,m.fill)):g.fillStyle=y)},_setClippingProperties:function(g){g.globalAlpha=1,g.strokeStyle="transparent",g.fillStyle="#000000"},_setLineDash:function(g,m){!m||m.length===0||(1&m.length&&m.push.apply(m,m),g.setLineDash(m))},_renderControls:function(g,m){var y=this.getViewportTransform(),_=this.calcTransformMatrix(),b,w,S;m=m||{},w=typeof m.hasBorders<"u"?m.hasBorders:this.hasBorders,S=typeof m.hasControls<"u"?m.hasControls:this.hasControls,_=s.util.multiplyTransformMatrices(y,_),b=s.util.qrDecompose(_),g.save(),g.translate(b.translateX,b.translateY),g.lineWidth=1*this.borderScaleFactor,this.group||(g.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(b.angle-=180),g.rotate(c(this.group?b.angle:this.angle)),m.forActiveSelection||this.group?w&&this.drawBordersInGroup(g,b,m):w&&this.drawBorders(g,m),S&&this.drawControls(g,m),g.restore()},_setShadow:function(g){if(this.shadow){var m=this.shadow,y=this.canvas,_,b=y&&y.viewportTransform[0]||1,w=y&&y.viewportTransform[3]||1;m.nonScaling?_={scaleX:1,scaleY:1}:_=this.getObjectScaling(),y&&y._isRetinaScaling()&&(b*=s.devicePixelRatio,w*=s.devicePixelRatio),g.shadowColor=m.color,g.shadowBlur=m.blur*s.browserShadowBlurConstant*(b+w)*(_.scaleX+_.scaleY)/4,g.shadowOffsetX=m.offsetX*b*_.scaleX,g.shadowOffsetY=m.offsetY*w*_.scaleY}},_removeShadow:function(g){this.shadow&&(g.shadowColor="",g.shadowBlur=g.shadowOffsetX=g.shadowOffsetY=0)},_applyPatternGradientTransform:function(g,m){if(!m||!m.toLive)return{offsetX:0,offsetY:0};var y=m.gradientTransform||m.patternTransform,_=-this.width/2+m.offsetX||0,b=-this.height/2+m.offsetY||0;return m.gradientUnits==="percentage"?g.transform(this.width,0,0,this.height,_,b):g.transform(1,0,0,1,_,b),y&&g.transform(y[0],y[1],y[2],y[3],y[4],y[5]),{offsetX:_,offsetY:b}},_renderPaintInOrder:function(g){this.paintFirst==="stroke"?(this._renderStroke(g),this._renderFill(g)):(this._renderFill(g),this._renderStroke(g))},_render:function(){},_renderFill:function(g){this.fill&&(g.save(),this._setFillStyles(g,this),this.fillRule==="evenodd"?g.fill("evenodd"):g.fill(),g.restore())},_renderStroke:function(g){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(g),g.save(),this.strokeUniform&&this.group){var m=this.getObjectScaling();g.scale(1/m.scaleX,1/m.scaleY)}else this.strokeUniform&&g.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(g,this.strokeDashArray),this._setStrokeStyles(g,this),g.stroke(),g.restore()}},_applyPatternForTransformedGradient:function(g,m){var y=this._limitCacheSize(this._getCacheCanvasDimensions()),_=s.util.createCanvasElement(),b,w=this.canvas.getRetinaScaling(),S=y.x/this.scaleX/w,x=y.y/this.scaleY/w;_.width=S,_.height=x,b=_.getContext("2d"),b.beginPath(),b.moveTo(0,0),b.lineTo(S,0),b.lineTo(S,x),b.lineTo(0,x),b.closePath(),b.translate(S/2,x/2),b.scale(y.zoomX/this.scaleX/w,y.zoomY/this.scaleY/w),this._applyPatternGradientTransform(b,m),b.fillStyle=m.toLive(g),b.fill(),g.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),g.scale(w*this.scaleX/y.zoomX,w*this.scaleY/y.zoomY),g.strokeStyle=b.createPattern(_,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var g=s.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",g.scaleX),this.set("scaleY",g.scaleY),this.angle=g.angle,this.skewX=g.skewX,this.skewY=0}},_removeTransformMatrix:function(g){var m=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),m=s.util.transformPoint(m,this.transformMatrix)),this.transformMatrix=null,g&&(this.scaleX*=g.scaleX,this.scaleY*=g.scaleY,this.cropX=g.cropX,this.cropY=g.cropY,m.x+=g.offsetLeft,m.y+=g.offsetTop,this.width=g.width,this.height=g.height),this.setPositionByOrigin(m,"center","center")},clone:function(g,m){var y=this.toObject(m);this.constructor.fromObject?this.constructor.fromObject(y,g):s.Object._fromObject("Object",y,g)},cloneAsImage:function(g,m){var y=this.toCanvasElement(m);return g&&g(new s.Image(y)),this},toCanvasElement:function(g){g||(g={});var m=s.util,y=m.saveObjectTransform(this),_=this.group,b=this.shadow,w=Math.abs,S=(g.multiplier||1)*(g.enableRetinaScaling?s.devicePixelRatio:1);delete this.group,g.withoutTransform&&m.resetObjectTransform(this),g.withoutShadow&&(this.shadow=null);var x=s.util.createCanvasElement(),P=this.getBoundingRect(!0,!0),B=this.shadow,G,K={x:0,y:0},Y,W,ee;B&&(Y=B.blur,B.nonScaling?G={scaleX:1,scaleY:1}:G=this.getObjectScaling(),K.x=2*Math.round(w(B.offsetX)+Y)*w(G.scaleX),K.y=2*Math.round(w(B.offsetY)+Y)*w(G.scaleY)),W=P.width+K.x,ee=P.height+K.y,x.width=Math.ceil(W),x.height=Math.ceil(ee);var le=new s.StaticCanvas(x,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});g.format==="jpeg"&&(le.backgroundColor="#fff"),this.setPositionByOrigin(new s.Point(le.width/2,le.height/2),"center","center");var de=this.canvas;le.add(this);var U=le.toCanvasElement(S||1,g);return this.shadow=b,this.set("canvas",de),_&&(this.group=_),this.set(y).setCoords(),le._objects=[],le.dispose(),le=null,U},toDataURL:function(g){return g||(g={}),s.util.toDataURL(this.toCanvasElement(g),g.format||"png",g.quality||1)},isType:function(g){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===g},complexity:function(){return 1},toJSON:function(g){return this.toObject(g)},rotate:function(g){var m=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return m&&this._setOriginToCenter(),this.set("angle",g),m&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(g,m){m=m||this.canvas.getPointer(g);var y=new s.Point(m.x,m.y),_=this._getLeftTopCoords();return this.angle&&(y=s.util.rotatePoint(y,_,c(-this.angle))),{x:y.x-_.x,y:y.y-_.y}},_setupCompositeOperation:function(g){this.globalCompositeOperation&&(g.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){s.runningAnimations&&s.runningAnimations.cancelByTarget(this)}}),s.util.createAccessors&&s.util.createAccessors(s.Object),h(s.Object.prototype,s.Observable),s.Object.NUM_FRACTION_DIGITS=2,s.Object.ENLIVEN_PROPS=["clipPath"],s.Object._fromObject=function(g,m,y,_){var b=s[g];m=u(m,!0),s.util.enlivenPatterns([m.fill,m.stroke],function(w){typeof w[0]<"u"&&(m.fill=w[0]),typeof w[1]<"u"&&(m.stroke=w[1]),s.util.enlivenObjectEnlivables(m,m,function(){var S=_?new b(m[_],m):new b(m);y&&y(S)})})},s.Object.__uid=0)}(e),function(){var a=t.util.degreesToRadians,s={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(u,l,f,c,d){var v=u.x,g=u.y,m,y,_;return typeof l=="string"?l=s[l]:l-=.5,typeof c=="string"?c=s[c]:c-=.5,m=c-l,typeof f=="string"?f=h[f]:f-=.5,typeof d=="string"?d=h[d]:d-=.5,y=d-f,(m||y)&&(_=this._getTransformedDimensions(),v=u.x+m*_.x,g=u.y+y*_.y),new t.Point(v,g)},translateToCenterPoint:function(u,l,f){var c=this.translateToGivenOrigin(u,l,f,"center","center");return this.angle?t.util.rotatePoint(c,u,a(this.angle)):c},translateToOriginPoint:function(u,l,f){var c=this.translateToGivenOrigin(u,"center","center",l,f);return this.angle?t.util.rotatePoint(c,u,a(this.angle)):c},getCenterPoint:function(){var u=new t.Point(this.left,this.top);return this.translateToCenterPoint(u,this.originX,this.originY)},getPointByOrigin:function(u,l){var f=this.getCenterPoint();return this.translateToOriginPoint(f,u,l)},toLocalPoint:function(u,l,f){var c=this.getCenterPoint(),d,v;return typeof l<"u"&&typeof f<"u"?d=this.translateToGivenOrigin(c,"center","center",l,f):d=new t.Point(this.left,this.top),v=new t.Point(u.x,u.y),this.angle&&(v=t.util.rotatePoint(v,c,-a(this.angle))),v.subtractEquals(d)},setPositionByOrigin:function(u,l,f){var c=this.translateToCenterPoint(u,l,f),d=this.translateToOriginPoint(c,this.originX,this.originY);this.set("left",d.x),this.set("top",d.y)},adjustPosition:function(u){var l=a(this.angle),f=this.getScaledWidth(),c=t.util.cos(l)*f,d=t.util.sin(l)*f,v,g;typeof this.originX=="string"?v=s[this.originX]:v=this.originX-.5,typeof u=="string"?g=s[u]:g=u-.5,this.left+=c*(g-v),this.top+=d*(g-v),this.setCoords(),this.originX=u},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var u=this.getCenterPoint();this.originX="center",this.originY="center",this.left=u.x,this.top=u.y},_resetOrigin:function(){var u=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=u.x,this.top=u.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function a(f){return[new t.Point(f.tl.x,f.tl.y),new t.Point(f.tr.x,f.tr.y),new t.Point(f.br.x,f.br.y),new t.Point(f.bl.x,f.bl.y)]}var s=t.util,h=s.degreesToRadians,u=s.multiplyTransformMatrices,l=s.transformPoint;s.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(f,c){return c?f?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),f?this.aCoords:this.lineCoords)},getCoords:function(f,c){return a(this._getCoords(f,c))},intersectsWithRect:function(f,c,d,v){var g=this.getCoords(d,v),m=t.Intersection.intersectPolygonRectangle(g,f,c);return m.status==="Intersection"},intersectsWithObject:function(f,c,d){var v=t.Intersection.intersectPolygonPolygon(this.getCoords(c,d),f.getCoords(c,d));return v.status==="Intersection"||f.isContainedWithinObject(this,c,d)||this.isContainedWithinObject(f,c,d)},isContainedWithinObject:function(f,c,d){for(var v=this.getCoords(c,d),g=c?f.aCoords:f.lineCoords,m=0,y=f._getImageLines(g);m<4;m++)if(!f.containsPoint(v[m],y))return!1;return!0},isContainedWithinRect:function(f,c,d,v){var g=this.getBoundingRect(d,v);return g.left>=f.x&&g.left+g.width<=c.x&&g.top>=f.y&&g.top+g.height<=c.y},containsPoint:function(f,m,d,v){var g=this._getCoords(d,v),m=m||this._getImageLines(g),y=this._findCrossPoints(f,m);return y!==0&&y%2===1},isOnScreen:function(f){if(!this.canvas)return!1;var c=this.canvas.vptCoords.tl,d=this.canvas.vptCoords.br,v=this.getCoords(!0,f);return v.some(function(g){return g.x<=d.x&&g.x>=c.x&&g.y<=d.y&&g.y>=c.y})||this.intersectsWithRect(c,d,!0,f)?!0:this._containsCenterOfCanvas(c,d,f)},_containsCenterOfCanvas:function(f,c,d){var v={x:(f.x+c.x)/2,y:(f.y+c.y)/2};return!!this.containsPoint(v,null,!0,d)},isPartiallyOnScreen:function(f){if(!this.canvas)return!1;var c=this.canvas.vptCoords.tl,d=this.canvas.vptCoords.br;if(this.intersectsWithRect(c,d,!0,f))return!0;var v=this.getCoords(!0,f).every(function(g){return(g.x>=d.x||g.x<=c.x)&&(g.y>=d.y||g.y<=c.y)});return v&&this._containsCenterOfCanvas(c,d,f)},_getImageLines:function(f){var c={topline:{o:f.tl,d:f.tr},rightline:{o:f.tr,d:f.br},bottomline:{o:f.br,d:f.bl},leftline:{o:f.bl,d:f.tl}};return c},_findCrossPoints:function(f,c){var d,v,g,m,y,_=0,b;for(var w in c)if(b=c[w],!(b.o.y<f.y&&b.d.y<f.y)&&!(b.o.y>=f.y&&b.d.y>=f.y)&&(b.o.x===b.d.x&&b.o.x>=f.x?y=b.o.x:(d=0,v=(b.d.y-b.o.y)/(b.d.x-b.o.x),g=f.y-d*f.x,m=b.o.y-v*b.o.x,y=-(g-m)/(d-v)),y>=f.x&&(_+=1),_===2))break;return _},getBoundingRect:function(f,c){var d=this.getCoords(f,c);return s.makeBoundingBoxFromPoints(d)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(f){return Math.abs(f)<this.minScaleLimit?f<0?-this.minScaleLimit:this.minScaleLimit:f===0?1e-4:f},scale:function(f){return this._set("scaleX",f),this._set("scaleY",f),this.setCoords()},scaleToWidth:function(f,c){var d=this.getBoundingRect(c).width/this.getScaledWidth();return this.scale(f/this.width/d)},scaleToHeight:function(f,c){var d=this.getBoundingRect(c).height/this.getScaledHeight();return this.scale(f/this.height/d)},calcLineCoords:function(){var f=this.getViewportTransform(),c=this.padding,d=h(this.angle),v=s.cos(d),g=s.sin(d),m=v*c,y=g*c,_=m+y,b=m-y,w=this.calcACoords(),S={tl:l(w.tl,f),tr:l(w.tr,f),bl:l(w.bl,f),br:l(w.br,f)};return c&&(S.tl.x-=b,S.tl.y-=_,S.tr.x+=_,S.tr.y-=b,S.bl.x-=_,S.bl.y+=b,S.br.x+=b,S.br.y+=_),S},calcOCoords:function(){var f=this._calcRotateMatrix(),c=this._calcTranslateMatrix(),d=this.getViewportTransform(),v=u(d,c),g=u(v,f),g=u(g,[1/d[0],0,0,1/d[3],0,0]),m=this._calculateCurrentDimensions(),y={};return this.forEachControl(function(_,b,w){y[b]=_.positionHandler(m,g,w)}),y},calcACoords:function(){var f=this._calcRotateMatrix(),c=this._calcTranslateMatrix(),d=u(c,f),v=this._getTransformedDimensions(),g=v.x/2,m=v.y/2;return{tl:l({x:-g,y:-m},d),tr:l({x:g,y:-m},d),bl:l({x:-g,y:m},d),br:l({x:g,y:m},d)}},setCoords:function(f){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),f?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return s.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var f=this.getCenterPoint();return[1,0,0,1,f.x,f.y]},transformMatrixKey:function(f){var c="_",d="";return!f&&this.group&&(d=this.group.transformMatrixKey(f)+c),d+this.top+c+this.left+c+this.scaleX+c+this.scaleY+c+this.skewX+c+this.skewY+c+this.angle+c+this.originX+c+this.originY+c+this.width+c+this.height+c+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(f){var c=this.calcOwnMatrix();if(f||!this.group)return c;var d=this.transformMatrixKey(f),v=this.matrixCache||(this.matrixCache={});return v.key===d?v.value:(this.group&&(c=u(this.group.calcTransformMatrix(!1),c)),v.key=d,v.value=c,c)},calcOwnMatrix:function(){var f=this.transformMatrixKey(!0),c=this.ownMatrixCache||(this.ownMatrixCache={});if(c.key===f)return c.value;var d=this._calcTranslateMatrix(),v={angle:this.angle,translateX:d[4],translateY:d[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return c.key=f,c.value=s.composeMatrix(v),c.value},_getNonTransformedDimensions:function(){var f=this.strokeWidth,c=this.width+f,d=this.height+f;return{x:c,y:d}},_getTransformedDimensions:function(f,c){typeof f>"u"&&(f=this.skewX),typeof c>"u"&&(c=this.skewY);var d,v,g,m=f===0&&c===0;if(this.strokeUniform?(v=this.width,g=this.height):(d=this._getNonTransformedDimensions(),v=d.x,g=d.y),m)return this._finalizeDimensions(v*this.scaleX,g*this.scaleY);var y=s.sizeAfterTransform(v,g,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:f,skewY:c});return this._finalizeDimensions(y.x,y.y)},_finalizeDimensions:function(f,c){return this.strokeUniform?{x:f+this.strokeWidth,y:c+this.strokeWidth}:{x:f,y:c}},_calculateCurrentDimensions:function(){var f=this.getViewportTransform(),c=this._getTransformedDimensions(),d=l(c,f,!0);return d.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(a){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,a):this.canvas&&this.canvas.sendBackwards(this,a),this},bringForward:function(a){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,a):this.canvas&&this.canvas.bringForward(this,a),this},moveTo:function(a){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,a):this.canvas&&this.canvas.moveTo(this,a),this}}),function(){function a(h,u){if(u){if(u.toLive)return h+": url(#SVGID_"+u.id+"); ";var l=new t.Color(u),f=h+": "+l.toRgb()+"; ",c=l.getAlpha();return c!==1&&(f+=h+"-opacity: "+c.toString()+"; "),f}else return h+": none; "}var s=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(h){var u=this.fillRule?this.fillRule:"nonzero",l=this.strokeWidth?this.strokeWidth:"0",f=this.strokeDashArray?this.strokeDashArray.join(" "):"none",c=this.strokeDashOffset?this.strokeDashOffset:"0",d=this.strokeLineCap?this.strokeLineCap:"butt",v=this.strokeLineJoin?this.strokeLineJoin:"miter",g=this.strokeMiterLimit?this.strokeMiterLimit:"4",m=typeof this.opacity<"u"?this.opacity:"1",y=this.visible?"":" visibility: hidden;",_=h?"":this.getSvgFilter(),b=a("fill",this.fill),w=a("stroke",this.stroke);return[w,"stroke-width: ",l,"; ","stroke-dasharray: ",f,"; ","stroke-linecap: ",d,"; ","stroke-dashoffset: ",c,"; ","stroke-linejoin: ",v,"; ","stroke-miterlimit: ",g,"; ",b,"fill-rule: ",u,"; ","opacity: ",m,";",_,y].join("")},getSvgSpanStyles:function(h,u){var l="; ",c=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+l:"",f=h.strokeWidth?"stroke-width: "+h.strokeWidth+l:"",c=c,d=h.fontSize?"font-size: "+h.fontSize+"px"+l:"",v=h.fontStyle?"font-style: "+h.fontStyle+l:"",g=h.fontWeight?"font-weight: "+h.fontWeight+l:"",m=h.fill?a("fill",h.fill):"",y=h.stroke?a("stroke",h.stroke):"",_=this.getSvgTextDecoration(h),b=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return _&&(_="text-decoration: "+_+l),[y,f,c,d,v,g,_,m,b,u?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(u){return h[u.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,u){var l=h?this.calcTransformMatrix():this.calcOwnMatrix(),f='transform="'+t.util.matrixToSVG(l);return f+(u||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var u=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',s(-this.width/2,u),'" y="',s(-this.height/2,u),'" width="',s(this.width,u),'" height="',s(this.height,u),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,u){u=u||{};var l=u.reviver,f=u.additionalTransform||"",c=[this.getSvgTransform(!0,f),this.getSvgCommons()].join(""),d=h.indexOf("COMMON_PARTS");return h[d]=c,l?l(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,u){u=u||{};var l=u.noStyle,f=u.reviver,c=l?"":'style="'+this.getSvgStyles()+'" ',d=u.withShadow?'style="'+this.getSvgFilter()+'" ':"",v=this.clipPath,g=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",m=v&&v.absolutePositioned,y=this.stroke,_=this.fill,b=this.shadow,w,S=[],x,P=h.indexOf("COMMON_PARTS"),B=u.additionalTransform;return v&&(v.clipPathId="CLIPPATH_"+t.Object.__uid++,x='<clipPath id="'+v.clipPathId+`" >
`+v.toClipPathSVG(f)+`</clipPath>
`),m&&S.push("<g ",d,this.getSvgCommons(),` >
`),S.push("<g ",this.getSvgTransform(!1),m?"":d+this.getSvgCommons(),` >
`),w=[c,g,l?"":this.addPaintOrder()," ",B?'transform="'+B+'" ':""].join(""),h[P]=w,_&&_.toLive&&S.push(_.toSVG(this)),y&&y.toLive&&S.push(y.toSVG(this)),b&&S.push(b.toSVG(this)),v&&S.push(x),S.push(h.join("")),S.push(`</g>
`),m&&S.push(`</g>
`),f?f(S.join("")):S.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var a=t.util.object.extend,s="stateProperties";function h(l,f,c){var d={},v=!0;c.forEach(function(g){d[g]=l[g]}),a(l[f],d,v)}function u(l,f,c){if(l===f)return!0;if(Array.isArray(l)){if(!Array.isArray(f)||l.length!==f.length)return!1;for(var d=0,v=l.length;d<v;d++)if(!u(l[d],f[d]))return!1;return!0}else if(l&&typeof l=="object"){var g=Object.keys(l),m;if(!f||typeof f!="object"||!c&&g.length!==Object.keys(f).length)return!1;for(var d=0,v=g.length;d<v;d++)if(m=g[d],!(m==="canvas"||m==="group")&&!u(l[m],f[m]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(l){l=l||s;var f="_"+l;return Object.keys(this[f]).length<this[l].length?!0:!u(this[f],this,!0)},saveState:function(l){var f=l&&l.propertySet||s,c="_"+f;return this[c]?(h(this,c,this[f]),l&&l.stateProperties&&h(this,c,l.stateProperties),this):this.setupState(l)},setupState:function(l){l=l||{};var f=l.propertySet||s;return l.propertySet=f,this["_"+f]={},this.saveState(l),this}})}(),function(){var a=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(s,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var u=s.x,l=s.y,f,c,d=Object.keys(this.oCoords),v=d.length-1,g;for(this.__corner=0;v>=0;v--)if(g=d[v],!!this.isControlVisible(g)&&(c=this._getImageLines(h?this.oCoords[g].touchCorner:this.oCoords[g].corner),f=this._findCrossPoints({x:u,y:l},c),f!==0&&f%2===1))return this.__corner=g,g;return!1},forEachControl:function(s){for(var h in this.controls)s(this.controls[h],h,this)},_setCornerCoords:function(){var s=this.oCoords;for(var h in s){var u=this.controls[h];s[h].corner=u.calcCornerCoords(this.angle,this.cornerSize,s[h].x,s[h].y,!1),s[h].touchCorner=u.calcCornerCoords(this.angle,this.touchCornerSize,s[h].x,s[h].y,!0)}},drawSelectionBackground:function(s){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;s.save();var h=this.getCenterPoint(),u=this._calculateCurrentDimensions(),l=this.canvas.viewportTransform;return s.translate(h.x,h.y),s.scale(1/l[0],1/l[3]),s.rotate(a(this.angle)),s.fillStyle=this.selectionBackgroundColor,s.fillRect(-u.x/2,-u.y/2,u.x,u.y),s.restore(),this},drawBorders:function(s,h){h=h||{};var u=this._calculateCurrentDimensions(),l=this.borderScaleFactor,f=u.x+l,c=u.y+l,d=typeof h.hasControls<"u"?h.hasControls:this.hasControls,v=!1;return s.save(),s.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(s,h.borderDashArray||this.borderDashArray),s.strokeRect(-f/2,-c/2,f,c),d&&(s.beginPath(),this.forEachControl(function(g,m,y){g.withConnection&&g.getVisibility(y,m)&&(v=!0,s.moveTo(g.x*f,g.y*c),s.lineTo(g.x*f+g.offsetX,g.y*c+g.offsetY))}),v&&s.stroke()),s.restore(),this},drawBordersInGroup:function(s,h,u){u=u||{};var l=t.util.sizeAfterTransform(this.width,this.height,h),f=this.strokeWidth,c=this.strokeUniform,d=this.borderScaleFactor,v=l.x+f*(c?this.canvas.getZoom():h.scaleX)+d,g=l.y+f*(c?this.canvas.getZoom():h.scaleY)+d;return s.save(),this._setLineDash(s,u.borderDashArray||this.borderDashArray),s.strokeStyle=u.borderColor||this.borderColor,s.strokeRect(-v/2,-g/2,v,g),s.restore(),this},drawControls:function(s,h){h=h||{},s.save();var u=this.canvas.getRetinaScaling(),l,f;return s.setTransform(u,0,0,u,0,0),s.strokeStyle=s.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(s.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(s,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(l=this.group.calcTransformMatrix()),this.forEachControl(function(c,d,v){f=v.oCoords[d],c.getVisibility(v,d)&&(l&&(f=t.util.transformPoint(f,l)),c.render(s,f.x,f.y,h,v))}),s.restore(),this},isControlVisible:function(s){return this.controls[s]&&this.controls[s].getVisibility(this,s)},setControlVisible:function(s,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[s]=h,this},setControlsVisibility:function(s){s||(s={});for(var h in s)this.setControlVisible(h,s[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(a,s){s=s||{};var h=function(){},u=s.onComplete||h,l=s.onChange||h,f=this;return t.util.animate({target:this,startValue:a.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(c){a.set("left",c),f.requestRenderAll(),l()},onComplete:function(){a.setCoords(),u()}})},fxCenterObjectV:function(a,s){s=s||{};var h=function(){},u=s.onComplete||h,l=s.onChange||h,f=this;return t.util.animate({target:this,startValue:a.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(c){a.set("top",c),f.requestRenderAll(),l()},onComplete:function(){a.setCoords(),u()}})},fxRemove:function(a,s){s=s||{};var h=function(){},u=s.onComplete||h,l=s.onChange||h,f=this;return t.util.animate({target:this,startValue:a.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(c){a.set("opacity",c),f.requestRenderAll(),l()},onComplete:function(){f.remove(a),u()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var a=[],s,h,u=[];for(s in arguments[0])a.push(s);for(var l=0,f=a.length;l<f;l++)s=a[l],h=l!==f-1,u.push(this._animate(s,arguments[0][s],arguments[1],h));return u}else return this._animate.apply(this,arguments)},_animate:function(a,s,h,u){var l=this,f;s=s.toString(),h?h=t.util.object.clone(h):h={},~a.indexOf(".")&&(f=a.split("."));var c=l.colorProperties.indexOf(a)>-1||f&&l.colorProperties.indexOf(f[1])>-1,d=f?this.get(f[0])[f[1]]:this.get(a);"from"in h||(h.from=d),c||(~s.indexOf("=")?s=d+parseFloat(s.replace("=","")):s=parseFloat(s));var v={target:this,startValue:h.from,endValue:s,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(g,m,y){return h.abort.call(l,g,m,y)},onChange:function(g,m,y){f?l[f[0]][f[1]]=g:l.set(a,g),!u&&h.onChange&&h.onChange(g,m,y)},onComplete:function(g,m,y){u||(l.setCoords(),h.onComplete&&h.onComplete(g,m,y))}};return c?t.util.animateColor(v.startValue,v.endValue,v.duration,v):t.util.animate(v)}}),function(a){var s=a.fabric||(a.fabric={}),h=s.util.object.extend,u=s.util.object.clone,l={x1:1,x2:1,y1:1,y2:1};if(s.Line){s.warn("fabric.Line is already defined");return}s.Line=s.util.createClass(s.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:s.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(c,d){c||(c=[0,0,0,0]),this.callSuper("initialize",d),this.set("x1",c[0]),this.set("y1",c[1]),this.set("x2",c[2]),this.set("y2",c[3]),this._setWidthHeight(d)},_setWidthHeight:function(c){c||(c={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in c?c.left:this._getLeftToOriginX(),this.top="top"in c?c.top:this._getTopToOriginY()},_set:function(c,d){return this.callSuper("_set",c,d),typeof l[c]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:f({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:f({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(c){c.beginPath();var d=this.calcLinePoints();c.moveTo(d.x1,d.y1),c.lineTo(d.x2,d.y2),c.lineWidth=this.strokeWidth;var v=c.strokeStyle;c.strokeStyle=this.stroke||c.fillStyle,this.stroke&&this._renderStroke(c),c.strokeStyle=v},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(c){return h(this.callSuper("toObject",c),this.calcLinePoints())},_getNonTransformedDimensions:function(){var c=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(c.y-=this.strokeWidth),this.height===0&&(c.x-=this.strokeWidth)),c},calcLinePoints:function(){var c=this.x1<=this.x2?-1:1,d=this.y1<=this.y2?-1:1,v=c*this.width*.5,g=d*this.height*.5,m=c*this.width*-.5,y=d*this.height*-.5;return{x1:v,x2:m,y1:g,y2:y}},_toSVG:function(){var c=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',c.x1,'" y1="',c.y1,'" x2="',c.x2,'" y2="',c.y2,`" />
`]}}),s.Line.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),s.Line.fromElement=function(c,d,v){v=v||{};var g=s.parseAttributes(c,s.Line.ATTRIBUTE_NAMES),m=[g.x1||0,g.y1||0,g.x2||0,g.y2||0];d(new s.Line(m,h(g,v)))},s.Line.fromObject=function(c,d){function v(m){delete m.points,d&&d(m)}var g=u(c,!0);g.points=[c.x1,c.y1,c.x2,c.y2],s.Object._fromObject("Line",g,v,"points")};function f(c,d){var v=c.origin,g=c.axis1,m=c.axis2,y=c.dimension,_=d.nearest,b=d.center,w=d.farthest;return function(){switch(this.get(v)){case _:return Math.min(this.get(g),this.get(m));case b:return Math.min(this.get(g),this.get(m))+.5*this.get(y);case w:return Math.max(this.get(g),this.get(m))}}}}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.util.degreesToRadians;if(s.Circle){s.warn("fabric.Circle is already defined.");return}s.Circle=s.util.createClass(s.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:s.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(l,f){return this.callSuper("_set",l,f),l==="radius"&&this.setRadius(f),this},toObject:function(l){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(l))},_toSVG:function(){var l,f=0,c=0,d=(this.endAngle-this.startAngle)%360;if(d===0)l=["<circle ","COMMON_PARTS",'cx="'+f+'" cy="'+c+'" ','r="',this.radius,`" />
`];else{var v=h(this.startAngle),g=h(this.endAngle),m=this.radius,y=s.util.cos(v)*m,_=s.util.sin(v)*m,b=s.util.cos(g)*m,w=s.util.sin(g)*m,S=d>180?"1":"0";l=['<path d="M '+y+" "+_," A "+m+" "+m," 0 ",+S+" 1"," "+b+" "+w,'" ',"COMMON_PARTS",` />
`]}return l},_render:function(l){l.beginPath(),l.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(l)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(l){return this.radius=l,this.set("width",l*2).set("height",l*2)}}),s.Circle.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),s.Circle.fromElement=function(l,f){var c=s.parseAttributes(l,s.Circle.ATTRIBUTE_NAMES);if(!u(c))throw new Error("value of `r` attribute is required and can not be negative");c.left=(c.left||0)-c.radius,c.top=(c.top||0)-c.radius,f(new s.Circle(c))};function u(l){return"radius"in l&&l.radius>=0}s.Circle.fromObject=function(l,f){s.Object._fromObject("Circle",l,f)}}(e),function(a){var s=a.fabric||(a.fabric={});if(s.Triangle){s.warn("fabric.Triangle is already defined");return}s.Triangle=s.util.createClass(s.Object,{type:"triangle",width:100,height:100,_render:function(h){var u=this.width/2,l=this.height/2;h.beginPath(),h.moveTo(-u,l),h.lineTo(0,-l),h.lineTo(u,l),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,u=this.height/2,l=[-h+" "+u,"0 "+-u,h+" "+u].join(",");return["<polygon ","COMMON_PARTS",'points="',l,'" />']}}),s.Triangle.fromObject=function(h,u){return s.Object._fromObject("Triangle",h,u)}}(e),function(a){var s=a.fabric||(a.fabric={}),h=Math.PI*2;if(s.Ellipse){s.warn("fabric.Ellipse is already defined.");return}s.Ellipse=s.util.createClass(s.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(u){this.callSuper("initialize",u),this.set("rx",u&&u.rx||0),this.set("ry",u&&u.ry||0)},_set:function(u,l){switch(this.callSuper("_set",u,l),u){case"rx":this.rx=l,this.set("width",l*2);break;case"ry":this.ry=l,this.set("height",l*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(u){return this.callSuper("toObject",["rx","ry"].concat(u))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(u){u.beginPath(),u.save(),u.transform(1,0,0,this.ry/this.rx,0,0),u.arc(0,0,this.rx,0,h,!1),u.restore(),this._renderPaintInOrder(u)}}),s.Ellipse.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),s.Ellipse.fromElement=function(u,l){var f=s.parseAttributes(u,s.Ellipse.ATTRIBUTE_NAMES);f.left=(f.left||0)-f.rx,f.top=(f.top||0)-f.ry,l(new s.Ellipse(f))},s.Ellipse.fromObject=function(u,l){s.Object._fromObject("Ellipse",u,l)}}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.util.object.extend;if(s.Rect){s.warn("fabric.Rect is already defined");return}s.Rect=s.util.createClass(s.Object,{stateProperties:s.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(u){this.callSuper("initialize",u),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(u){var l=this.rx?Math.min(this.rx,this.width/2):0,f=this.ry?Math.min(this.ry,this.height/2):0,c=this.width,d=this.height,v=-this.width/2,g=-this.height/2,m=l!==0||f!==0,y=1-.5522847498;u.beginPath(),u.moveTo(v+l,g),u.lineTo(v+c-l,g),m&&u.bezierCurveTo(v+c-y*l,g,v+c,g+y*f,v+c,g+f),u.lineTo(v+c,g+d-f),m&&u.bezierCurveTo(v+c,g+d-y*f,v+c-y*l,g+d,v+c-l,g+d),u.lineTo(v+l,g+d),m&&u.bezierCurveTo(v+y*l,g+d,v,g+d-y*f,v,g+d-f),u.lineTo(v,g+f),m&&u.bezierCurveTo(v,g+y*f,v+y*l,g,v+l,g),u.closePath(),this._renderPaintInOrder(u)},toObject:function(u){return this.callSuper("toObject",["rx","ry"].concat(u))},_toSVG:function(){var u=-this.width/2,l=-this.height/2;return["<rect ","COMMON_PARTS",'x="',u,'" y="',l,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),s.Rect.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),s.Rect.fromElement=function(u,l,f){if(!u)return l(null);f=f||{};var c=s.parseAttributes(u,s.Rect.ATTRIBUTE_NAMES);c.left=c.left||0,c.top=c.top||0,c.height=c.height||0,c.width=c.width||0;var d=new s.Rect(h(f?s.util.object.clone(f):{},c));d.visible=d.visible&&d.width>0&&d.height>0,l(d)},s.Rect.fromObject=function(u,l){return s.Object._fromObject("Rect",u,l)}}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.util.object.extend,u=s.util.array.min,l=s.util.array.max,f=s.util.toFixed,c=s.util.projectStrokeOnPoints;if(s.Polyline){s.warn("fabric.Polyline is already defined");return}s.Polyline=s.util.createClass(s.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:s.Object.prototype.cacheProperties.concat("points"),initialize:function(d,v){v=v||{},this.points=d||[],this.callSuper("initialize",v),this._setPositionDimensions(v)},_projectStrokeOnPoints:function(){return c(this.points,this,!0)},_setPositionDimensions:function(d){var v=this._calcDimensions(d),g,m=this.exactBoundingBox?this.strokeWidth:0;this.width=v.width-m,this.height=v.height-m,d.fromSVG||(g=this.translateToGivenOrigin({x:v.left-this.strokeWidth/2+m/2,y:v.top-this.strokeWidth/2+m/2},"left","top",this.originX,this.originY)),typeof d.left>"u"&&(this.left=d.fromSVG?v.left:g.x),typeof d.top>"u"&&(this.top=d.fromSVG?v.top:g.y),this.pathOffset={x:v.left+this.width/2+m/2,y:v.top+this.height/2+m/2}},_calcDimensions:function(){var d=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,v=u(d,"x")||0,g=u(d,"y")||0,m=l(d,"x")||0,y=l(d,"y")||0,_=m-v,b=y-g;return{left:v,top:g,width:_,height:b}},toObject:function(d){return h(this.callSuper("toObject",d),{points:this.points.concat()})},_toSVG:function(){for(var d=[],v=this.pathOffset.x,g=this.pathOffset.y,m=s.Object.NUM_FRACTION_DIGITS,y=0,_=this.points.length;y<_;y++)d.push(f(this.points[y].x-v,m),",",f(this.points[y].y-g,m)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',d.join(""),`" />
`]},commonRender:function(d){var v,g=this.points.length,m=this.pathOffset.x,y=this.pathOffset.y;if(!g||isNaN(this.points[g-1].y))return!1;d.beginPath(),d.moveTo(this.points[0].x-m,this.points[0].y-y);for(var _=0;_<g;_++)v=this.points[_],d.lineTo(v.x-m,v.y-y);return!0},_render:function(d){this.commonRender(d)&&this._renderPaintInOrder(d)},complexity:function(){return this.get("points").length}}),s.Polyline.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polyline.fromElementGenerator=function(d){return function(v,g,m){if(!v)return g(null);m||(m={});var y=s.parsePointsAttribute(v.getAttribute("points")),_=s.parseAttributes(v,s[d].ATTRIBUTE_NAMES);_.fromSVG=!0,g(new s[d](y,h(_,m)))}},s.Polyline.fromElement=s.Polyline.fromElementGenerator("Polyline"),s.Polyline.fromObject=function(d,v){return s.Object._fromObject("Polyline",d,v,"points")}}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.util.projectStrokeOnPoints;if(s.Polygon){s.warn("fabric.Polygon is already defined");return}s.Polygon=s.util.createClass(s.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(u){this.commonRender(u)&&(u.closePath(),this._renderPaintInOrder(u))}}),s.Polygon.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polygon.fromElement=s.Polyline.fromElementGenerator("Polygon"),s.Polygon.fromObject=function(u,l){s.Object._fromObject("Polygon",u,l,"points")}}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.util.array.min,u=s.util.array.max,l=s.util.object.extend,f=s.util.object.clone,c=s.util.toFixed;if(s.Path){s.warn("fabric.Path is already defined");return}s.Path=s.util.createClass(s.Object,{type:"path",path:null,cacheProperties:s.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:s.Object.prototype.stateProperties.concat("path"),initialize:function(d,v){v=f(v||{}),delete v.path,this.callSuper("initialize",v),this._setPath(d||[],v)},_setPath:function(d,v){this.path=s.util.makePathSimpler(Array.isArray(d)?d:s.util.parsePath(d)),s.Polyline.prototype._setPositionDimensions.call(this,v||{})},_renderPathCommands:function(d){var v,g=0,m=0,y=0,_=0,b=0,w=0,S=-this.pathOffset.x,x=-this.pathOffset.y;d.beginPath();for(var P=0,B=this.path.length;P<B;++P)switch(v=this.path[P],v[0]){case"L":y=v[1],_=v[2],d.lineTo(y+S,_+x);break;case"M":y=v[1],_=v[2],g=y,m=_,d.moveTo(y+S,_+x);break;case"C":y=v[5],_=v[6],b=v[3],w=v[4],d.bezierCurveTo(v[1]+S,v[2]+x,b+S,w+x,y+S,_+x);break;case"Q":d.quadraticCurveTo(v[1]+S,v[2]+x,v[3]+S,v[4]+x),y=v[3],_=v[4],b=v[1],w=v[2];break;case"z":case"Z":y=g,_=m,d.closePath();break}},_render:function(d){this._renderPathCommands(d),this._renderPaintInOrder(d)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(d){return l(this.callSuper("toObject",d),{path:this.path.map(function(v){return v.slice()})})},toDatalessObject:function(d){var v=this.toObject(["sourcePath"].concat(d));return v.sourcePath&&delete v.path,v},_toSVG:function(){var d=s.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',d,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var d=s.Object.NUM_FRACTION_DIGITS;return" translate("+c(-this.pathOffset.x,d)+", "+c(-this.pathOffset.y,d)+")"},toClipPathSVG:function(d){var v=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:d,additionalTransform:v})},toSVG:function(d){var v=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:d,additionalTransform:v})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var d=[],v=[],g,m=0,y=0,_=0,b=0,w,S=0,x=this.path.length;S<x;++S){switch(g=this.path[S],g[0]){case"L":_=g[1],b=g[2],w=[];break;case"M":_=g[1],b=g[2],m=_,y=b,w=[];break;case"C":w=s.util.getBoundsOfCurve(_,b,g[1],g[2],g[3],g[4],g[5],g[6]),_=g[5],b=g[6];break;case"Q":w=s.util.getBoundsOfCurve(_,b,g[1],g[2],g[1],g[2],g[3],g[4]),_=g[3],b=g[4];break;case"z":case"Z":_=m,b=y;break}w.forEach(function(ee){d.push(ee.x),v.push(ee.y)}),d.push(_),v.push(b)}var P=h(d)||0,B=h(v)||0,G=u(d)||0,K=u(v)||0,Y=G-P,W=K-B;return{left:P,top:B,width:Y,height:W}}}),s.Path.fromObject=function(d,v){if(typeof d.sourcePath=="string"){var g=d.sourcePath;s.loadSVGFromURL(g,function(m){var y=m[0];y.setOptions(d),d.clipPath?s.util.enlivenObjects([d.clipPath],function(_){y.clipPath=_[0],v&&v(y)}):v&&v(y)})}else s.Object._fromObject("Path",d,v,"path")},s.Path.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(["d"]),s.Path.fromElement=function(d,v,g){var m=s.parseAttributes(d,s.Path.ATTRIBUTE_NAMES);m.fromSVG=!0,v(new s.Path(m.d,l(m,g)))}}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.util.array.min,u=s.util.array.max;s.Group||(s.Group=s.util.createClass(s.Object,s.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(l,f,c){f=f||{},this._objects=[],c&&this.callSuper("initialize",f),this._objects=l||[];for(var d=this._objects.length;d--;)this._objects[d].group=this;if(c)this._updateObjectsACoords();else{var v=f&&f.centerPoint;f.originX!==void 0&&(this.originX=f.originX),f.originY!==void 0&&(this.originY=f.originY),v||this._calcBounds(),this._updateObjectsCoords(v),delete f.centerPoint,this.callSuper("initialize",f)}this.setCoords()},_updateObjectsACoords:function(){for(var l=!0,f=this._objects.length;f--;)this._objects[f].setCoords(l)},_updateObjectsCoords:function(f){for(var f=f||this.getCenterPoint(),c=this._objects.length;c--;)this._updateObjectCoords(this._objects[c],f)},_updateObjectCoords:function(l,f){var c=l.left,d=l.top,v=!0;l.set({left:c-f.x,top:d-f.y}),l.group=this,l.setCoords(v)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(l){var f=!!this.group;return this._restoreObjectsState(),s.util.resetObjectTransform(this),l&&(f&&s.util.removeTransformFromObject(l,this.group.calcTransformMatrix()),this._objects.push(l),l.group=this,l._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,f?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(l){return this._restoreObjectsState(),s.util.resetObjectTransform(this),this.remove(l),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(l){this.dirty=!0,l.group=this,l._set("canvas",this.canvas)},_onObjectRemoved:function(l){this.dirty=!0,delete l.group},_set:function(l,f){var c=this._objects.length;if(this.useSetOnGroup)for(;c--;)this._objects[c].setOnGroup(l,f);if(l==="canvas")for(;c--;)this._objects[c]._set(l,f);s.Object.prototype._set.call(this,l,f)},toObject:function(l){var f=this.includeDefaultValues,c=this._objects.filter(function(v){return!v.excludeFromExport}).map(function(v){var g=v.includeDefaultValues;v.includeDefaultValues=f;var m=v.toObject(l);return v.includeDefaultValues=g,m}),d=s.Object.prototype.toObject.call(this,l);return d.objects=c,d},toDatalessObject:function(l){var f,c=this.sourcePath;if(c)f=c;else{var d=this.includeDefaultValues;f=this._objects.map(function(g){var m=g.includeDefaultValues;g.includeDefaultValues=d;var y=g.toDatalessObject(l);return g.includeDefaultValues=m,y})}var v=s.Object.prototype.toDatalessObject.call(this,l);return v.objects=f,v},render:function(l){this._transformDone=!0,this.callSuper("render",l),this._transformDone=!1},shouldCache:function(){var l=s.Object.prototype.shouldCache.call(this);if(l){for(var f=0,c=this._objects.length;f<c;f++)if(this._objects[f].willDrawShadow())return this.ownCaching=!1,!1}return l},willDrawShadow:function(){if(s.Object.prototype.willDrawShadow.call(this))return!0;for(var l=0,f=this._objects.length;l<f;l++)if(this._objects[l].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(l){for(var f=0,c=this._objects.length;f<c;f++)this._objects[f].render(l);this._drawClipPath(l,this.clipPath)},isCacheDirty:function(l){if(this.callSuper("isCacheDirty",l))return!0;if(!this.statefullCache)return!1;for(var f=0,c=this._objects.length;f<c;f++)if(this._objects[f].isCacheDirty(!0)){if(this._cacheCanvas){var d=this.cacheWidth/this.zoomX,v=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-d/2,-v/2,d,v)}return!0}return!1},_restoreObjectsState:function(){var l=this.calcOwnMatrix();return this._objects.forEach(function(f){s.util.addTransformToObject(f,l),delete f.group,f.setCoords()}),this},destroy:function(){return this._objects.forEach(function(l){l.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var l=this._objects,f=this.canvas;this._objects=[];var c=this.toObject();delete c.objects;var d=new s.ActiveSelection([]);return d.set(c),d.type="activeSelection",f.remove(this),l.forEach(function(v){v.group=d,v.dirty=!0,f.add(v)}),d.canvas=f,d._objects=l,f._activeObject=d,d.setCoords(),d}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var l=!0;return this.forEachObject(function(f){f.setCoords(l)}),this},_calcBounds:function(l){for(var f=[],c=[],d,v,g,m=["tr","br","bl","tl"],y=0,_=this._objects.length,b,w=m.length;y<_;++y){for(d=this._objects[y],g=d.calcACoords(),b=0;b<w;b++)v=m[b],f.push(g[v].x),c.push(g[v].y);d.aCoords=g}this._getBounds(f,c,l)},_getBounds:function(l,f,c){var d=new s.Point(h(l),h(f)),v=new s.Point(u(l),u(f)),g=d.y||0,m=d.x||0,y=v.x-d.x||0,_=v.y-d.y||0;this.width=y,this.height=_,c||this.setPositionByOrigin({x:m,y:g},"left","top")},_toSVG:function(l){for(var f=["<g ","COMMON_PARTS",` >
`],c=0,d=this._objects.length;c<d;c++)f.push("		",this._objects[c].toSVG(l));return f.push(`</g>
`),f},getSvgStyles:function(){var l=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",f=this.visible?"":" visibility: hidden;";return[l,this.getSvgFilter(),f].join("")},toClipPathSVG:function(l){for(var f=[],c=0,d=this._objects.length;c<d;c++)f.push("	",this._objects[c].toClipPathSVG(l));return this._createBaseClipPathSVGMarkup(f,{reviver:l})}}),s.Group.fromObject=function(l,f){var c=l.objects,d=s.util.object.clone(l,!0);if(delete d.objects,typeof c=="string"){s.loadSVGFromURL(c,function(v){var g=s.util.groupSVGElements(v,l,c),m=d.clipPath;delete d.clipPath,g.set(d),m?s.util.enlivenObjects([m],function(y){g.clipPath=y[0],f&&f(g)}):f&&f(g)});return}s.util.enlivenObjects(c,function(v){s.util.enlivenObjectEnlivables(l,d,function(){f&&f(new s.Group(v,d,!0))})})})}(e),function(a){var s=a.fabric||(a.fabric={});s.ActiveSelection||(s.ActiveSelection=s.util.createClass(s.Group,{type:"activeSelection",initialize:function(h,u){u=u||{},this._objects=h||[];for(var l=this._objects.length;l--;)this._objects[l].group=this;u.originX&&(this.originX=u.originX),u.originY&&(this.originY=u.originY),this._calcBounds(),this._updateObjectsCoords(),s.Object.prototype.initialize.call(this,u),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var u=s.Object.prototype.toObject.call(this),l=new s.Group([]);if(delete u.type,l.set(u),h.forEach(function(c){c.canvas.remove(c),c.group=l}),l._objects=h,!this.canvas)return l;var f=this.canvas;return f.add(l),f._activeObject=l,l.setCoords(),l},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,u,l){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,u),l=l||{},typeof l.hasControls>"u"&&(l.hasControls=!1),l.forActiveSelection=!0;for(var f=0,c=this._objects.length;f<c;f++)this._objects[f]._renderControls(h,l);h.restore()}}),s.ActiveSelection.fromObject=function(h,u){s.util.enlivenObjects(h.objects,function(l){delete h.objects,u&&u(new s.ActiveSelection(l,h,!0))})})}(e),function(a){var s=t.util.object.extend;if(a.fabric||(a.fabric={}),a.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,u){u||(u={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",u),this._initElement(h,u)},getElement:function(){return this._element||{}},setElement:function(h,u){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(u),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var u=t.filterBackend;u&&u.evictCachesForKey&&u.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(h){t.util.cleanUpJsdomNode(this[h]),this[h]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var u=this.width/2,l=this.height/2;h.beginPath(),h.moveTo(-u,-l),h.lineTo(u,-l),h.lineTo(u,l),h.lineTo(-u,l),h.lineTo(-u,-l),h.closePath()}},toObject:function(h){var u=[];this.filters.forEach(function(f){f&&u.push(f.toObject())});var l=s(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:u});return this.resizeFilter&&(l.resizeFilter=this.resizeFilter.toObject()),l},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],u=[],l,f=this._element,c=-this.width/2,d=-this.height/2,v="",g="";if(!f)return[];if(this.hasCrop()){var m=t.Object.__uid++;h.push('<clipPath id="imageCrop_'+m+`">
`,'	<rect x="'+c+'" y="'+d+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),v=' clip-path="url(#imageCrop_'+m+')" '}if(this.imageSmoothing||(g='" image-rendering="optimizeSpeed'),u.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',c-this.cropX,'" y="',d-this.cropY,'" width="',f.width||f.naturalWidth,'" height="',f.height||f.height,g,'"',v,`></image>
`),this.stroke||this.strokeDashArray){var y=this.fill;this.fill=null,l=["	<rect ",'x="',c,'" y="',d,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=y}return this.paintFirst!=="fill"?h=h.concat(l,u):h=h.concat(u,l),h},getSrc:function(h){var u=h?this._element:this._originalElement;return u?u.toDataURL?u.toDataURL():this.srcFromAttribute?u.getAttribute("src"):u.src:this.src||""},setSrc:function(h,u,l){return t.util.loadImage(h,function(f,c){this.setElement(f,l),this._setWidthHeight(),u&&u(this,c)},this,l&&l.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,u=this.minimumScaleTrigger,l=this.getTotalObjectScaling(),f=l.scaleX,c=l.scaleY,d=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||f>u&&c>u){this._element=d,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=f,this._lastScaleY=c;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var v=t.util.createCanvasElement(),g=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,m=d.width,y=d.height;v.width=m,v.height=y,this._element=v,this._lastScaleX=h.scaleX=f,this._lastScaleY=h.scaleY=c,t.filterBackend.applyFilters([h],d,m,y,this._element,g),this._filterScalingX=v.width/this._originalElement.width,this._filterScalingY=v.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(d){return d&&!d.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var u=this._originalElement,l=u.naturalWidth||u.width,f=u.naturalHeight||u.height;if(this._element===this._originalElement){var c=t.util.createCanvasElement();c.width=l,c.height=f,this._element=c,this._filteredEl=c}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,l,f),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(h,this._originalElement,l,f,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var u=this._element;if(u){var l=this._filterScalingX,f=this._filterScalingY,c=this.width,d=this.height,v=Math.min,g=Math.max,m=g(this.cropX,0),y=g(this.cropY,0),_=u.naturalWidth||u.width,b=u.naturalHeight||u.height,w=m*l,S=y*f,x=v(c*l,_-w),P=v(d*f,b-S),B=-c/2,G=-d/2,K=v(c,_/l-m),Y=v(d,b/f-y);u&&h.drawImage(u,w,S,x,P,B,G,K,Y)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,u){this.setElement(t.util.getById(h),u),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,u){h&&h.length?t.util.enlivenObjects(h,function(l){u&&u(l)},"fabric.Image.filters"):u&&u()},_setWidthHeight:function(h){h||(h={});var u=this.getElement();this.width=h.width||u.naturalWidth||u.width||0,this.height=h.height||u.naturalHeight||u.height||0},parsePreserveAspectRatioAttribute:function(){var h=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),u=this._element.width,l=this._element.height,f=1,c=1,d=0,v=0,g=0,m=0,y,_=this.width,b=this.height,w={width:_,height:b};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(f=c=t.util.findScaleToFit(this._element,w),y=(_-u*f)/2,h.alignX==="Min"&&(d=-y),h.alignX==="Max"&&(d=y),y=(b-l*c)/2,h.alignY==="Min"&&(v=-y),h.alignY==="Max"&&(v=y)),h.meetOrSlice==="slice"&&(f=c=t.util.findScaleToCover(this._element,w),y=u-_/f,h.alignX==="Mid"&&(g=y/2),h.alignX==="Max"&&(g=y),y=l-b/c,h.alignY==="Mid"&&(m=y/2),h.alignY==="Max"&&(m=y),u=_/f,l=b/c)):(f=_/u,c=b/l),{width:u,height:l,scaleX:f,scaleY:c,offsetLeft:d,offsetTop:v,cropX:g,cropY:m}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(h,u){var l=t.util.object.clone(h);t.util.loadImage(l.src,function(f,c){if(c){u&&u(null,!0);return}t.Image.prototype._initFilters.call(l,l.filters,function(d){l.filters=d||[],t.Image.prototype._initFilters.call(l,[l.resizeFilter],function(v){l.resizeFilter=v[0],t.util.enlivenObjectEnlivables(l,l,function(){var g=new t.Image(f,l);u(g,!1)})})})},null,l.crossOrigin)},t.Image.fromURL=function(h,u,l){t.util.loadImage(h,function(f,c){u&&u(new t.Image(f,l),c)},null,l&&l.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(h,u,l){var f=t.parseAttributes(h,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(f["xlink:href"],u,s(l?t.util.object.clone(l):{},f))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var a=this.angle%360;return a>0?Math.round((a-1)/90)*90:Math.round(a/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(a){a=a||{};var s=function(){},h=a.onComplete||s,u=a.onChange||s,l=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(f){l.rotate(f),u()},onComplete:function(){l.setCoords(),h()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(a){return a.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(a){return a.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function a(h,u){var l="precision "+u+` float;
void main(){}`,f=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(f,l),h.compileShader(f),!!h.getShaderParameter(f,h.COMPILE_STATUS)}t.isWebglSupported=function(h){if(t.isLikelyNode)return!1;h=h||t.WebglFilterBackend.prototype.tileSize;var u=document.createElement("canvas"),l=u.getContext("webgl")||u.getContext("experimental-webgl"),f=!1;if(l){t.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),f=t.maxTextureSize>=h;for(var c=["highp","mediump","lowp"],d=0;d<3;d++)if(a(l,c[d])){t.webGlPrecision=c[d];break}}return this.isSupported=f,f},t.WebglFilterBackend=s;function s(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}s.prototype={tileSize:2048,resources:{},setupGLContext:function(h,u){this.dispose(),this.createWebGLCanvas(h,u),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,u)},chooseFastestCopyGLTo2DMethod:function(h,u){var l=typeof window.performance<"u",f;try{new ImageData(1,1),f=!0}catch{f=!1}var c=typeof ArrayBuffer<"u",d=typeof Uint8ClampedArray<"u";if(l&&f&&c&&d){var v=t.util.createCanvasElement(),g=new ArrayBuffer(h*u*4);if(t.forceGLPutImageData){this.imageBuffer=g,this.copyGLTo2D=p;return}var m={imageBuffer:g,destinationWidth:h,destinationHeight:u,targetCanvas:v},y,_,b;v.width=h,v.height=u,y=window.performance.now(),o.call(m,this.gl,m),_=window.performance.now()-y,y=window.performance.now(),p.call(m,this.gl,m),b=window.performance.now()-y,_>b?(this.imageBuffer=g,this.copyGLTo2D=p):this.copyGLTo2D=o}},createWebGLCanvas:function(h,u){var l=t.util.createCanvasElement();l.width=h,l.height=u;var f={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},c=l.getContext("webgl",f);c||(c=l.getContext("experimental-webgl",f)),c&&(c.clearColor(0,0,0,0),this.canvas=l,this.gl=c)},applyFilters:function(h,u,l,f,c,d){var v=this.gl,g;d&&(g=this.getCachedTexture(d,u));var m={originalWidth:u.width||u.originalWidth,originalHeight:u.height||u.originalHeight,sourceWidth:l,sourceHeight:f,destinationWidth:l,destinationHeight:f,context:v,sourceTexture:this.createTexture(v,l,f,!g&&u),targetTexture:this.createTexture(v,l,f),originalTexture:g||this.createTexture(v,l,f,!g&&u),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:c},y=v.createFramebuffer();return v.bindFramebuffer(v.FRAMEBUFFER,y),h.forEach(function(_){_&&_.applyTo(m)}),i(m),this.copyGLTo2D(v,m),v.bindTexture(v.TEXTURE_2D,null),v.deleteTexture(m.sourceTexture),v.deleteTexture(m.targetTexture),v.deleteFramebuffer(y),c.getContext("2d").setTransform(1,0,0,1,0,0),m},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,u,l,f,c){var d=h.createTexture();return h.bindTexture(h.TEXTURE_2D,d),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,c||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,c||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),f?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,f):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,u,l,0,h.RGBA,h.UNSIGNED_BYTE,null),d},getCachedTexture:function(h,u){if(this.textureCache[h])return this.textureCache[h];var l=this.createTexture(this.gl,u.width,u.height,u);return this.textureCache[h]=l,l},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:o,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,u={renderer:"",vendor:""};if(!h)return u;var l=h.getExtension("WEBGL_debug_renderer_info");if(l){var f=h.getParameter(l.UNMASKED_RENDERER_WEBGL),c=h.getParameter(l.UNMASKED_VENDOR_WEBGL);f&&(u.renderer=f.toLowerCase()),c&&(u.vendor=c.toLowerCase())}return this.gpuInfo=u,u}}}();function i(a){var s=a.targetCanvas,h=s.width,u=s.height,l=a.destinationWidth,f=a.destinationHeight;(h!==l||u!==f)&&(s.width=l,s.height=f)}function o(a,s){var h=a.canvas,u=s.targetCanvas,l=u.getContext("2d");l.translate(0,u.height),l.scale(1,-1);var f=h.height-u.height;l.drawImage(h,0,f,u.width,u.height,0,0,u.width,u.height)}function p(a,s){var h=s.targetCanvas,u=h.getContext("2d"),l=s.destinationWidth,f=s.destinationHeight,c=l*f*4,d=new Uint8Array(this.imageBuffer,0,c),v=new Uint8ClampedArray(this.imageBuffer,0,c);a.readPixels(0,0,l,f,a.RGBA,a.UNSIGNED_BYTE,d);var g=new ImageData(v,l,f);u.putImageData(g,0,0)}(function(){var a=function(){};t.Canvas2dFilterBackend=s;function s(){}s.prototype={evictCachesForKey:a,dispose:a,clearWebGLCaches:a,resources:{},applyFilters:function(h,u,l,f,c){var d=c.getContext("2d");d.drawImage(u,0,0,l,f);var v=d.getImageData(0,0,l,f),g=d.getImageData(0,0,l,f),m={sourceWidth:l,sourceHeight:f,imageData:v,originalEl:u,originalImageData:g,canvasEl:c,ctx:d,filterBackend:this};return h.forEach(function(y){y.applyTo(m)}),(m.imageData.width!==l||m.imageData.height!==f)&&(c.width=m.imageData.width,c.height=m.imageData.height),d.putImageData(m.imageData,0,0),m}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(a){a&&this.setOptions(a)},setOptions:function(a){for(var s in a)this[s]=a[s]},createProgram:function(a,s,h){s=s||this.fragmentSource,h=h||this.vertexSource,t.webGlPrecision!=="highp"&&(s=s.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var u=a.createShader(a.VERTEX_SHADER);if(a.shaderSource(u,h),a.compileShader(u),!a.getShaderParameter(u,a.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+a.getShaderInfoLog(u));var l=a.createShader(a.FRAGMENT_SHADER);if(a.shaderSource(l,s),a.compileShader(l),!a.getShaderParameter(l,a.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+a.getShaderInfoLog(l));var f=a.createProgram();if(a.attachShader(f,u),a.attachShader(f,l),a.linkProgram(f),!a.getProgramParameter(f,a.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+a.getProgramInfoLog(f));var c=this.getAttributeLocations(a,f),d=this.getUniformLocations(a,f)||{};return d.uStepW=a.getUniformLocation(f,"uStepW"),d.uStepH=a.getUniformLocation(f,"uStepH"),{program:f,attributeLocations:c,uniformLocations:d}},getAttributeLocations:function(a,s){return{aPosition:a.getAttribLocation(s,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(a,s,h){var u=s.aPosition,l=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,l),a.enableVertexAttribArray(u),a.vertexAttribPointer(u,2,a.FLOAT,!1,0,0),a.bufferData(a.ARRAY_BUFFER,h,a.STATIC_DRAW)},_setupFrameBuffer:function(a){var s=a.context,h,u;a.passes>1?(h=a.destinationWidth,u=a.destinationHeight,(a.sourceWidth!==h||a.sourceHeight!==u)&&(s.deleteTexture(a.targetTexture),a.targetTexture=a.filterBackend.createTexture(s,h,u)),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,a.targetTexture,0)):(s.bindFramebuffer(s.FRAMEBUFFER,null),s.finish())},_swapTextures:function(a){a.passes--,a.pass++;var s=a.targetTexture;a.targetTexture=a.sourceTexture,a.sourceTexture=s},isNeutralState:function(){var a=this.mainParameter,s=t.Image.filters[this.type].prototype;if(a)if(Array.isArray(s[a])){for(var h=s[a].length;h--;)if(this[a][h]!==s[a][h])return!1;return!0}else return s[a]===this[a];else return!1},applyTo:function(a){a.webgl?(this._setupFrameBuffer(a),this.applyToWebGL(a),this._swapTextures(a)):this.applyTo2d(a)},retrieveShader:function(a){return a.programCache.hasOwnProperty(this.type)||(a.programCache[this.type]=this.createProgram(a.context)),a.programCache[this.type]},applyToWebGL:function(a){var s=a.context,h=this.retrieveShader(a);a.pass===0&&a.originalTexture?s.bindTexture(s.TEXTURE_2D,a.originalTexture):s.bindTexture(s.TEXTURE_2D,a.sourceTexture),s.useProgram(h.program),this.sendAttributeData(s,h.attributeLocations,a.aPosition),s.uniform1f(h.uniformLocations.uStepW,1/a.sourceWidth),s.uniform1f(h.uniformLocations.uStepH,1/a.sourceHeight),this.sendUniformData(s,h.uniformLocations),s.viewport(0,0,a.destinationWidth,a.destinationHeight),s.drawArrays(s.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(a,s,h){a.activeTexture(h),a.bindTexture(a.TEXTURE_2D,s),a.activeTexture(a.TEXTURE0)},unbindAdditionalTexture:function(a,s){a.activeTexture(s),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(a){this[this.mainParameter]=a},sendUniformData:function(){},createHelpLayer:function(a){if(!a.helpLayer){var s=document.createElement("canvas");s.width=a.sourceWidth,s.height=a.sourceHeight,a.helpLayer=s}},toObject:function(){var a={type:this.type},s=this.mainParameter;return s&&(a[s]=this[s]),a},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(a,s){var h=new t.Image.filters[a.type](a);return s&&s(h),h},function(a){var s=a.fabric||(a.fabric={}),h=s.Image.filters,u=s.util.createClass;h.ColorMatrix=u(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(l){this.callSuper("initialize",l),this.matrix=this.matrix.slice(0)},applyTo2d:function(l){var f=l.imageData,c=f.data,d=c.length,v=this.matrix,g,m,y,_,b,w=this.colorsOnly;for(b=0;b<d;b+=4)g=c[b],m=c[b+1],y=c[b+2],w?(c[b]=g*v[0]+m*v[1]+y*v[2]+v[4]*255,c[b+1]=g*v[5]+m*v[6]+y*v[7]+v[9]*255,c[b+2]=g*v[10]+m*v[11]+y*v[12]+v[14]*255):(_=c[b+3],c[b]=g*v[0]+m*v[1]+y*v[2]+_*v[3]+v[4]*255,c[b+1]=g*v[5]+m*v[6]+y*v[7]+_*v[8]+v[9]*255,c[b+2]=g*v[10]+m*v[11]+y*v[12]+_*v[13]+v[14]*255,c[b+3]=g*v[15]+m*v[16]+y*v[17]+_*v[18]+v[19]*255)},getUniformLocations:function(l,f){return{uColorMatrix:l.getUniformLocation(f,"uColorMatrix"),uConstants:l.getUniformLocation(f,"uConstants")}},sendUniformData:function(l,f){var c=this.matrix,d=[c[0],c[1],c[2],c[3],c[5],c[6],c[7],c[8],c[10],c[11],c[12],c[13],c[15],c[16],c[17],c[18]],v=[c[4],c[9],c[14],c[19]];l.uniformMatrix4fv(f.uColorMatrix,!1,d),l.uniform4fv(f.uConstants,v)}}),s.Image.filters.ColorMatrix.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Brightness=u(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(l){if(this.brightness!==0){var f=l.imageData,c=f.data,d,v=c.length,g=Math.round(this.brightness*255);for(d=0;d<v;d+=4)c[d]=c[d]+g,c[d+1]=c[d+1]+g,c[d+2]=c[d+2]+g}},getUniformLocations:function(l,f){return{uBrightness:l.getUniformLocation(f,"uBrightness")}},sendUniformData:function(l,f){l.uniform1f(f.uBrightness,this.brightness)}}),s.Image.filters.Brightness.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.util.object.extend,u=s.Image.filters,l=s.util.createClass;u.Convolute=l(u.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(f){var c=Math.sqrt(this.matrix.length),d=this.type+"_"+c+"_"+(this.opaque?1:0),v=this.fragmentSource[d];return f.programCache.hasOwnProperty(d)||(f.programCache[d]=this.createProgram(f.context,v)),f.programCache[d]},applyTo2d:function(f){var c=f.imageData,d=c.data,v=this.matrix,g=Math.round(Math.sqrt(v.length)),m=Math.floor(g/2),y=c.width,_=c.height,b=f.ctx.createImageData(y,_),w=b.data,S=this.opaque?1:0,x,P,B,G,K,Y,W,ee,le,de,U,Q,O;for(U=0;U<_;U++)for(de=0;de<y;de++){for(K=(U*y+de)*4,x=0,P=0,B=0,G=0,O=0;O<g;O++)for(Q=0;Q<g;Q++)W=U+O-m,Y=de+Q-m,!(W<0||W>=_||Y<0||Y>=y)&&(ee=(W*y+Y)*4,le=v[O*g+Q],x+=d[ee]*le,P+=d[ee+1]*le,B+=d[ee+2]*le,S||(G+=d[ee+3]*le));w[K]=x,w[K+1]=P,w[K+2]=B,S?w[K+3]=d[K+3]:w[K+3]=G}f.imageData=b},getUniformLocations:function(f,c){return{uMatrix:f.getUniformLocation(c,"uMatrix"),uOpaque:f.getUniformLocation(c,"uOpaque"),uHalfSize:f.getUniformLocation(c,"uHalfSize"),uSize:f.getUniformLocation(c,"uSize")}},sendUniformData:function(f,c){f.uniform1fv(c.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),s.Image.filters.Convolute.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Grayscale=u(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(l){var f=l.imageData,c=f.data,d,v=c.length,g,m=this.mode;for(d=0;d<v;d+=4)m==="average"?g=(c[d]+c[d+1]+c[d+2])/3:m==="lightness"?g=(Math.min(c[d],c[d+1],c[d+2])+Math.max(c[d],c[d+1],c[d+2]))/2:m==="luminosity"&&(g=.21*c[d]+.72*c[d+1]+.07*c[d+2]),c[d]=g,c[d+1]=g,c[d+2]=g},retrieveShader:function(l){var f=this.type+"_"+this.mode;if(!l.programCache.hasOwnProperty(f)){var c=this.fragmentSource[this.mode];l.programCache[f]=this.createProgram(l.context,c)}return l.programCache[f]},getUniformLocations:function(l,f){return{uMode:l.getUniformLocation(f,"uMode")}},sendUniformData:function(l,f){var c=1;l.uniform1i(f.uMode,c)},isNeutralState:function(){return!1}}),s.Image.filters.Grayscale.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Invert=u(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(l){var f=l.imageData,c=f.data,d,v=c.length;for(d=0;d<v;d+=4)c[d]=255-c[d],c[d+1]=255-c[d+1],c[d+2]=255-c[d+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(l,f){return{uInvert:l.getUniformLocation(f,"uInvert")}},sendUniformData:function(l,f){l.uniform1i(f.uInvert,this.invert)}}),s.Image.filters.Invert.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.util.object.extend,u=s.Image.filters,l=s.util.createClass;u.Noise=l(u.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(f){if(this.noise!==0){var c=f.imageData,d=c.data,v,g=d.length,m=this.noise,y;for(v=0,g=d.length;v<g;v+=4)y=(.5-Math.random())*m,d[v]+=y,d[v+1]+=y,d[v+2]+=y}},getUniformLocations:function(f,c){return{uNoise:f.getUniformLocation(c,"uNoise"),uSeed:f.getUniformLocation(c,"uSeed")}},sendUniformData:function(f,c){f.uniform1f(c.uNoise,this.noise/255),f.uniform1f(c.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),s.Image.filters.Noise.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Pixelate=u(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(l){var f=l.imageData,c=f.data,d=f.height,v=f.width,g,m,y,_,b,w,S,x,P,B,G;for(m=0;m<d;m+=this.blocksize)for(y=0;y<v;y+=this.blocksize)for(g=m*4*v+y*4,_=c[g],b=c[g+1],w=c[g+2],S=c[g+3],B=Math.min(m+this.blocksize,d),G=Math.min(y+this.blocksize,v),x=m;x<B;x++)for(P=y;P<G;P++)g=x*4*v+P*4,c[g]=_,c[g+1]=b,c[g+2]=w,c[g+3]=S},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(l,f){return{uBlocksize:l.getUniformLocation(f,"uBlocksize"),uStepW:l.getUniformLocation(f,"uStepW"),uStepH:l.getUniformLocation(f,"uStepH")}},sendUniformData:function(l,f){l.uniform1f(f.uBlocksize,this.blocksize)}}),s.Image.filters.Pixelate.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.util.object.extend,u=s.Image.filters,l=s.util.createClass;u.RemoveColor=l(u.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(f){var c=f.imageData,d=c.data,v,g=this.distance*255,m,y,_,b=new s.Color(this.color).getSource(),w=[b[0]-g,b[1]-g,b[2]-g],S=[b[0]+g,b[1]+g,b[2]+g];for(v=0;v<d.length;v+=4)m=d[v],y=d[v+1],_=d[v+2],m>w[0]&&y>w[1]&&_>w[2]&&m<S[0]&&y<S[1]&&_<S[2]&&(d[v+3]=0)},getUniformLocations:function(f,c){return{uLow:f.getUniformLocation(c,"uLow"),uHigh:f.getUniformLocation(c,"uHigh")}},sendUniformData:function(f,c){var d=new s.Color(this.color).getSource(),v=parseFloat(this.distance),g=[0+d[0]/255-v,0+d[1]/255-v,0+d[2]/255-v,1],m=[d[0]/255+v,d[1]/255+v,d[2]/255+v,1];f.uniform4fv(c.uLow,g),f.uniform4fv(c.uHigh,m)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),s.Image.filters.RemoveColor.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.Image.filters,u=s.util.createClass,l={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var f in l)h[f]=u(h.ColorMatrix,{type:f,matrix:l[f],mainParameter:!1,colorsOnly:!0}),s.Image.filters[f].fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric,h=s.Image.filters,u=s.util.createClass;h.BlendColor=u(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(l){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[l]+`}
}`},retrieveShader:function(l){var f=this.type+"_"+this.mode,c;return l.programCache.hasOwnProperty(f)||(c=this.buildSource(this.mode),l.programCache[f]=this.createProgram(l.context,c)),l.programCache[f]},applyTo2d:function(l){var f=l.imageData,c=f.data,d=c.length,v,g,m,y,_,b,w,S=1-this.alpha;w=new s.Color(this.color).getSource(),v=w[0]*this.alpha,g=w[1]*this.alpha,m=w[2]*this.alpha;for(var x=0;x<d;x+=4)switch(y=c[x],_=c[x+1],b=c[x+2],this.mode){case"multiply":c[x]=y*v/255,c[x+1]=_*g/255,c[x+2]=b*m/255;break;case"screen":c[x]=255-(255-y)*(255-v)/255,c[x+1]=255-(255-_)*(255-g)/255,c[x+2]=255-(255-b)*(255-m)/255;break;case"add":c[x]=y+v,c[x+1]=_+g,c[x+2]=b+m;break;case"diff":case"difference":c[x]=Math.abs(y-v),c[x+1]=Math.abs(_-g),c[x+2]=Math.abs(b-m);break;case"subtract":c[x]=y-v,c[x+1]=_-g,c[x+2]=b-m;break;case"darken":c[x]=Math.min(y,v),c[x+1]=Math.min(_,g),c[x+2]=Math.min(b,m);break;case"lighten":c[x]=Math.max(y,v),c[x+1]=Math.max(_,g),c[x+2]=Math.max(b,m);break;case"overlay":c[x]=v<128?2*y*v/255:255-2*(255-y)*(255-v)/255,c[x+1]=g<128?2*_*g/255:255-2*(255-_)*(255-g)/255,c[x+2]=m<128?2*b*m/255:255-2*(255-b)*(255-m)/255;break;case"exclusion":c[x]=v+y-2*v*y/255,c[x+1]=g+_-2*g*_/255,c[x+2]=m+b-2*m*b/255;break;case"tint":c[x]=v+y*S,c[x+1]=g+_*S,c[x+2]=m+b*S}},getUniformLocations:function(l,f){return{uColor:l.getUniformLocation(f,"uColor")}},sendUniformData:function(l,f){var c=new s.Color(this.color).getSource();c[0]=this.alpha*c[0]/255,c[1]=this.alpha*c[1]/255,c[2]=this.alpha*c[2]/255,c[3]=this.alpha,l.uniform4fv(f.uColor,c)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendColor.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric,h=s.Image.filters,u=s.util.createClass;h.BlendImage=u(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(l){var f=this.type+"_"+this.mode,c=this.fragmentSource[this.mode];return l.programCache.hasOwnProperty(f)||(l.programCache[f]=this.createProgram(l.context,c)),l.programCache[f]},applyToWebGL:function(l){var f=l.context,c=this.createTexture(l.filterBackend,this.image);this.bindAdditionalTexture(f,c,f.TEXTURE1),this.callSuper("applyToWebGL",l),this.unbindAdditionalTexture(f,f.TEXTURE1)},createTexture:function(l,f){return l.getCachedTexture(f.cacheKey,f._element)},calculateMatrix:function(){var l=this.image,f=l._element.width,c=l._element.height;return[1/l.scaleX,0,0,0,1/l.scaleY,0,-l.left/f,-l.top/c,1]},applyTo2d:function(l){var f=l.imageData,c=l.filterBackend.resources,d=f.data,v=d.length,g=f.width,m=f.height,y,_,b,w,S,x,P,B,G,K,Y=this.image,W;c.blendImage||(c.blendImage=s.util.createCanvasElement()),G=c.blendImage,K=G.getContext("2d"),G.width!==g||G.height!==m?(G.width=g,G.height=m):K.clearRect(0,0,g,m),K.setTransform(Y.scaleX,0,0,Y.scaleY,Y.left,Y.top),K.drawImage(Y._element,0,0,g,m),W=K.getImageData(0,0,g,m).data;for(var ee=0;ee<v;ee+=4)switch(S=d[ee],x=d[ee+1],P=d[ee+2],B=d[ee+3],y=W[ee],_=W[ee+1],b=W[ee+2],w=W[ee+3],this.mode){case"multiply":d[ee]=S*y/255,d[ee+1]=x*_/255,d[ee+2]=P*b/255,d[ee+3]=B*w/255;break;case"mask":d[ee+3]=w;break}},getUniformLocations:function(l,f){return{uTransformMatrix:l.getUniformLocation(f,"uTransformMatrix"),uImage:l.getUniformLocation(f,"uImage")}},sendUniformData:function(l,f){var c=this.calculateMatrix();l.uniform1i(f.uImage,1),l.uniformMatrix3fv(f.uTransformMatrix,!1,c)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendImage.fromObject=function(l,f){s.Image.fromObject(l.image,function(c){var d=s.util.object.clone(l);d.image=c,f(new s.Image.filters.BlendImage(d))})}}(e),function(a){var s=a.fabric||(a.fabric={}),h=Math.pow,u=Math.floor,l=Math.sqrt,f=Math.abs,c=Math.round,d=Math.sin,v=Math.ceil,g=s.Image.filters,m=s.util.createClass;g.Resize=m(g.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(y,_){return{uDelta:y.getUniformLocation(_,"uDelta"),uTaps:y.getUniformLocation(_,"uTaps")}},sendUniformData:function(y,_){y.uniform2fv(_.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),y.uniform1fv(_.uTaps,this.taps)},retrieveShader:function(y){var _=this.getFilterWindow(),b=this.type+"_"+_;if(!y.programCache.hasOwnProperty(b)){var w=this.generateShader(_);y.programCache[b]=this.createProgram(y.context,w)}return y.programCache[b]},getFilterWindow:function(){var y=this.tempScale;return Math.ceil(this.lanczosLobes/y)},getTaps:function(){for(var y=this.lanczosCreate(this.lanczosLobes),_=this.tempScale,b=this.getFilterWindow(),w=new Array(b),S=1;S<=b;S++)w[S-1]=y(S*_);return w},generateShader:function(w){for(var _=new Array(w),b=this.fragmentSourceTOP,w,S=1;S<=w;S++)_[S-1]=S+".0 * uDelta";return b+="uniform float uTaps["+w+`];
`,b+=`void main() {
`,b+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,b+=`  float sum = 1.0;
`,_.forEach(function(x,P){b+="  color += texture2D(uTexture, vTexCoord + "+x+") * uTaps["+P+`];
`,b+="  color += texture2D(uTexture, vTexCoord - "+x+") * uTaps["+P+`];
`,b+="  sum += 2.0 * uTaps["+P+`];
`}),b+=`  gl_FragColor = color / sum;
`,b+="}",b},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(y){y.webgl?(y.passes++,this.width=y.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=y.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),y.destinationWidth=this.dW,this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y),y.sourceWidth=y.destinationWidth,this.height=y.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),y.destinationHeight=this.dH,this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y),y.sourceHeight=y.destinationHeight):this.applyTo2d(y)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(y){return function(_){if(_>=y||_<=-y)return 0;if(_<11920929e-14&&_>-11920929e-14)return 1;_*=Math.PI;var b=_/y;return d(_)/_*d(b)/b}},applyTo2d:function(y){var _=y.imageData,b=this.scaleX,w=this.scaleY;this.rcpScaleX=1/b,this.rcpScaleY=1/w;var S=_.width,x=_.height,P=c(S*b),B=c(x*w),G;this.resizeType==="sliceHack"?G=this.sliceByTwo(y,S,x,P,B):this.resizeType==="hermite"?G=this.hermiteFastResize(y,S,x,P,B):this.resizeType==="bilinear"?G=this.bilinearFiltering(y,S,x,P,B):this.resizeType==="lanczos"&&(G=this.lanczosResize(y,S,x,P,B)),y.imageData=G},sliceByTwo:function(y,_,b,w,S){var x=y.imageData,P=.5,B=!1,G=!1,K=_*P,Y=b*P,W=s.filterBackend.resources,ee,le,de=0,U=0,Q=_,O=0;for(W.sliceByTwo||(W.sliceByTwo=document.createElement("canvas")),ee=W.sliceByTwo,(ee.width<_*1.5||ee.height<b)&&(ee.width=_*1.5,ee.height=b),le=ee.getContext("2d"),le.clearRect(0,0,_*1.5,b),le.putImageData(x,0,0),w=u(w),S=u(S);!B||!G;)_=K,b=Y,w<u(K*P)?K=u(K*P):(K=w,B=!0),S<u(Y*P)?Y=u(Y*P):(Y=S,G=!0),le.drawImage(ee,de,U,_,b,Q,O,K,Y),de=Q,U=O,O+=Y;return le.getImageData(de,U,w,S)},lanczosResize:function(y,_,b,w,S){function x(F){var D,se,j,I,X,$,V,J,ce,ve,L;for(O.x=(F+.5)*Y,R.x=u(O.x),D=0;D<S;D++){for(O.y=(D+.5)*W,R.y=u(O.y),X=0,$=0,V=0,J=0,ce=0,se=R.x-de;se<=R.x+de;se++)if(!(se<0||se>=_)){ve=u(1e3*f(se-O.x)),Q[ve]||(Q[ve]={});for(var A=R.y-U;A<=R.y+U;A++)A<0||A>=b||(L=u(1e3*f(A-O.y)),Q[ve][L]||(Q[ve][L]=K(l(h(ve*ee,2)+h(L*le,2))/1e3)),j=Q[ve][L],j>0&&(I=(A*_+se)*4,X+=j,$+=j*P[I],V+=j*P[I+1],J+=j*P[I+2],ce+=j*P[I+3]))}I=(D*w+F)*4,G[I]=$/X,G[I+1]=V/X,G[I+2]=J/X,G[I+3]=ce/X}return++F<w?x(F):B}var P=y.imageData.data,B=y.ctx.createImageData(w,S),G=B.data,K=this.lanczosCreate(this.lanczosLobes),Y=this.rcpScaleX,W=this.rcpScaleY,ee=2/this.rcpScaleX,le=2/this.rcpScaleY,de=v(Y*this.lanczosLobes/2),U=v(W*this.lanczosLobes/2),Q={},O={},R={};return x(0)},bilinearFiltering:function(y,_,b,w,S){var x,P,B,G,K,Y,W,ee,le,de,U,Q,O=0,R,F=this.rcpScaleX,D=this.rcpScaleY,se=4*(_-1),j=y.imageData,I=j.data,X=y.ctx.createImageData(w,S),$=X.data;for(W=0;W<S;W++)for(ee=0;ee<w;ee++)for(K=u(F*ee),Y=u(D*W),le=F*ee-K,de=D*W-Y,R=4*(Y*_+K),U=0;U<4;U++)x=I[R+U],P=I[R+4+U],B=I[R+se+U],G=I[R+se+4+U],Q=x*(1-le)*(1-de)+P*le*(1-de)+B*de*(1-le)+G*le*de,$[O++]=Q;return X},hermiteFastResize:function(y,_,b,w,S){for(var x=this.rcpScaleX,P=this.rcpScaleY,B=v(x/2),G=v(P/2),K=y.imageData,Y=K.data,W=y.ctx.createImageData(w,S),ee=W.data,le=0;le<S;le++)for(var de=0;de<w;de++){for(var U=(de+le*w)*4,Q=0,O=0,R=0,F=0,D=0,se=0,j=0,I=(le+.5)*P,X=u(le*P);X<(le+1)*P;X++)for(var $=f(I-(X+.5))/G,V=(de+.5)*x,J=$*$,ce=u(de*x);ce<(de+1)*x;ce++){var ve=f(V-(ce+.5))/B,L=l(J+ve*ve);L>1&&L<-1||(Q=2*L*L*L-3*L*L+1,Q>0&&(ve=4*(ce+X*_),j+=Q*Y[ve+3],R+=Q,Y[ve+3]<255&&(Q=Q*Y[ve+3]/250),F+=Q*Y[ve],D+=Q*Y[ve+1],se+=Q*Y[ve+2],O+=Q))}ee[U]=F/O,ee[U+1]=D/O,ee[U+2]=se/O,ee[U+3]=j/R}return W},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),s.Image.filters.Resize.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Contrast=u(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(l){if(this.contrast!==0){var f=l.imageData,c,v,d=f.data,v=d.length,g=Math.floor(this.contrast*255),m=259*(g+255)/(255*(259-g));for(c=0;c<v;c+=4)d[c]=m*(d[c]-128)+128,d[c+1]=m*(d[c+1]-128)+128,d[c+2]=m*(d[c+2]-128)+128}},getUniformLocations:function(l,f){return{uContrast:l.getUniformLocation(f,"uContrast")}},sendUniformData:function(l,f){l.uniform1f(f.uContrast,this.contrast)}}),s.Image.filters.Contrast.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Saturation=u(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(l){if(this.saturation!==0){var f=l.imageData,c=f.data,d=c.length,v=-this.saturation,g,m;for(g=0;g<d;g+=4)m=Math.max(c[g],c[g+1],c[g+2]),c[g]+=m!==c[g]?(m-c[g])*v:0,c[g+1]+=m!==c[g+1]?(m-c[g+1])*v:0,c[g+2]+=m!==c[g+2]?(m-c[g+2])*v:0}},getUniformLocations:function(l,f){return{uSaturation:l.getUniformLocation(f,"uSaturation")}},sendUniformData:function(l,f){l.uniform1f(f.uSaturation,-this.saturation)}}),s.Image.filters.Saturation.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Vibrance=u(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(l){if(this.vibrance!==0){var f=l.imageData,c=f.data,d=c.length,v=-this.vibrance,g,m,y,_;for(g=0;g<d;g+=4)m=Math.max(c[g],c[g+1],c[g+2]),y=(c[g]+c[g+1]+c[g+2])/3,_=Math.abs(m-y)*2/255*v,c[g]+=m!==c[g]?(m-c[g])*_:0,c[g+1]+=m!==c[g+1]?(m-c[g+1])*_:0,c[g+2]+=m!==c[g+2]?(m-c[g+2])*_:0}},getUniformLocations:function(l,f){return{uVibrance:l.getUniformLocation(f,"uVibrance")}},sendUniformData:function(l,f){l.uniform1f(f.uVibrance,-this.vibrance)}}),s.Image.filters.Vibrance.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Blur=u(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(l){l.webgl?(this.aspectRatio=l.sourceWidth/l.sourceHeight,l.passes++,this._setupFrameBuffer(l),this.horizontal=!0,this.applyToWebGL(l),this._swapTextures(l),this._setupFrameBuffer(l),this.horizontal=!1,this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},applyTo2d:function(l){l.imageData=this.simpleBlur(l)},simpleBlur:function(l){var f=l.filterBackend.resources,c,d,v=l.imageData.width,g=l.imageData.height;f.blurLayer1||(f.blurLayer1=s.util.createCanvasElement(),f.blurLayer2=s.util.createCanvasElement()),c=f.blurLayer1,d=f.blurLayer2,(c.width!==v||c.height!==g)&&(d.width=c.width=v,d.height=c.height=g);var m=c.getContext("2d"),y=d.getContext("2d"),_=15,b,w,S,x,P=this.blur*.06*.5;for(m.putImageData(l.imageData,0,0),y.clearRect(0,0,v,g),x=-_;x<=_;x++)b=(Math.random()-.5)/4,w=x/_,S=P*w*v+b,y.globalAlpha=1-Math.abs(w),y.drawImage(c,S,b),m.drawImage(d,0,0),y.globalAlpha=1,y.clearRect(0,0,d.width,d.height);for(x=-_;x<=_;x++)b=(Math.random()-.5)/4,w=x/_,S=P*w*g+b,y.globalAlpha=1-Math.abs(w),y.drawImage(c,b,S),m.drawImage(d,0,0),y.globalAlpha=1,y.clearRect(0,0,d.width,d.height);l.ctx.drawImage(c,0,0);var B=l.ctx.getImageData(0,0,c.width,c.height);return m.globalAlpha=1,m.clearRect(0,0,c.width,c.height),B},getUniformLocations:function(l,f){return{delta:l.getUniformLocation(f,"uDelta")}},sendUniformData:function(l,f){var c=this.chooseRightDelta();l.uniform2fv(f.delta,c)},chooseRightDelta:function(){var l=1,f=[0,0],c;return this.horizontal?this.aspectRatio>1&&(l=1/this.aspectRatio):this.aspectRatio<1&&(l=this.aspectRatio),c=l*this.blur*.12,this.horizontal?f[0]=c:f[1]=c,f}}),h.Blur.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Gamma=u(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(l){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,l)},applyTo2d:function(l){var f=l.imageData,c=f.data,d=this.gamma,v=c.length,g=1/d[0],m=1/d[1],y=1/d[2],_;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),_=0,v=256;_<v;_++)this.rVals[_]=Math.pow(_/255,g)*255,this.gVals[_]=Math.pow(_/255,m)*255,this.bVals[_]=Math.pow(_/255,y)*255;for(_=0,v=c.length;_<v;_+=4)c[_]=this.rVals[c[_]],c[_+1]=this.gVals[c[_+1]],c[_+2]=this.bVals[c[_+2]]},getUniformLocations:function(l,f){return{uGamma:l.getUniformLocation(f,"uGamma")}},sendUniformData:function(l,f){l.uniform3fv(f.uGamma,this.gamma)}}),s.Image.filters.Gamma.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Composed=u(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(l){this.callSuper("initialize",l),this.subFilters=this.subFilters.slice(0)},applyTo:function(l){l.passes+=this.subFilters.length-1,this.subFilters.forEach(function(f){f.applyTo(l)})},toObject:function(){return s.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(l){return l.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(l){return!l.isNeutralState()})}}),s.Image.filters.Composed.fromObject=function(l,f){var c=l.subFilters||[],d=c.map(function(g){return new s.Image.filters[g.type](g)}),v=new s.Image.filters.Composed({subFilters:d});return f&&f(v),v}}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.Image.filters,u=s.util.createClass;h.HueRotation=u(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var l=this.rotation*Math.PI,f=s.util.cos(l),c=s.util.sin(l),d=1/3,v=Math.sqrt(d)*c,g=1-f;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=f+g/3,this.matrix[1]=d*g-v,this.matrix[2]=d*g+v,this.matrix[5]=d*g+v,this.matrix[6]=f+d*g,this.matrix[7]=d*g-v,this.matrix[10]=d*g-v,this.matrix[11]=d*g+v,this.matrix[12]=f+d*g},isNeutralState:function(l){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,l)},applyTo:function(l){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,l)}}),s.Image.filters.HueRotation.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),h=s.util.object.clone;if(s.Text){s.warn("fabric.Text is already defined");return}var u="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");s.Text=s.util.createClass(s.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:s.Object.prototype.stateProperties.concat(u),cacheProperties:s.Object.prototype.cacheProperties.concat(u),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(l,f){this.styles=f?f.styles||{}:{},this.text=l,this.__skipDimension=!0,this.callSuper("initialize",f),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var l=this.path;l&&(l.segmentsInfo=s.util.getPathSegmentsInfo(l.path))},getMeasuringContext:function(){return s._measuringContext||(s._measuringContext=this.canvas&&this.canvas.contextCache||s.util.createCanvasElement().getContext("2d")),s._measuringContext},_splitText:function(){var l=this._splitTextIntoLines(this.text);return this.textLines=l.lines,this._textLines=l.graphemeLines,this._unwrappedTextLines=l._unwrappedLines,this._text=l.graphemeText,l},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var l,f,c,d,v,g,m,y=0,_=this._textLines.length;y<_;y++)if(!(this.textAlign!=="justify"&&(y===_-1||this.isEndOfWrapping(y)))&&(d=0,v=this._textLines[y],f=this.getLineWidth(y),f<this.width&&(m=this.textLines[y].match(this._reSpacesAndTabs)))){c=m.length,l=(this.width-f)/c;for(var b=0,w=v.length;b<=w;b++)g=this.__charBounds[y][b],this._reSpaceAndTab.test(v[b])?(g.width+=l,g.kernedWidth+=l,g.left+=d,d+=l):g.left+=d}},isEndOfWrapping:function(l){return l===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var l=this.callSuper("_getCacheCanvasDimensions"),f=this.fontSize;return l.width+=f*l.zoomX,l.height+=f*l.zoomY,l},_render:function(l){var f=this.path;f&&!f.isNotVisible()&&f._render(l),this._setTextStyles(l),this._renderTextLinesBackground(l),this._renderTextDecoration(l,"underline"),this._renderText(l),this._renderTextDecoration(l,"overline"),this._renderTextDecoration(l,"linethrough")},_renderText:function(l){this.paintFirst==="stroke"?(this._renderTextStroke(l),this._renderTextFill(l)):(this._renderTextFill(l),this._renderTextStroke(l))},_setTextStyles:function(l,f,c){if(l.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":l.textBaseline="middle";break;case"ascender":l.textBaseline="top";break;case"descender":l.textBaseline="bottom";break}l.font=this._getFontDeclaration(f,c)},calcTextWidth:function(){for(var l=this.getLineWidth(0),f=1,c=this._textLines.length;f<c;f++){var d=this.getLineWidth(f);d>l&&(l=d)}return l},_renderTextLine:function(l,f,c,d,v,g){this._renderChars(l,f,c,d,v,g)},_renderTextLinesBackground:function(l){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var f,c,d=l.fillStyle,v,g,m=this._getLeftOffset(),y=this._getTopOffset(),_=0,b=0,w,S,x=this.path,P,B=0,G=this._textLines.length;B<G;B++){if(f=this.getHeightOfLine(B),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",B)){y+=f;continue}v=this._textLines[B],c=this._getLineLeftOffset(B),b=0,_=0,g=this.getValueOfPropertyAt(B,0,"textBackgroundColor");for(var K=0,Y=v.length;K<Y;K++)w=this.__charBounds[B][K],S=this.getValueOfPropertyAt(B,K,"textBackgroundColor"),x?(l.save(),l.translate(w.renderLeft,w.renderTop),l.rotate(w.angle),l.fillStyle=S,S&&l.fillRect(-w.width/2,-f/this.lineHeight*(1-this._fontSizeFraction),w.width,f/this.lineHeight),l.restore()):S!==g?(P=m+c+_,this.direction==="rtl"&&(P=this.width-P-b),l.fillStyle=g,g&&l.fillRect(P,y,b,f/this.lineHeight),_=w.left,b=w.width,g=S):b+=w.kernedWidth;S&&!x&&(P=m+c+_,this.direction==="rtl"&&(P=this.width-P-b),l.fillStyle=S,l.fillRect(P,y,b,f/this.lineHeight)),y+=f}l.fillStyle=d,this._removeShadow(l)}},getFontCache:function(l){var f=l.fontFamily.toLowerCase();s.charWidthsCache[f]||(s.charWidthsCache[f]={});var c=s.charWidthsCache[f],d=l.fontStyle.toLowerCase()+"_"+(l.fontWeight+"").toLowerCase();return c[d]||(c[d]={}),c[d]},_measureChar:function(l,f,c,d){var v=this.getFontCache(f),g=this._getFontDeclaration(f),m=this._getFontDeclaration(d),y=c+l,_=g===m,b,w,S,x=f.fontSize/this.CACHE_FONT_SIZE,P;if(c&&v[c]!==void 0&&(S=v[c]),v[l]!==void 0&&(P=b=v[l]),_&&v[y]!==void 0&&(w=v[y],P=w-S),b===void 0||S===void 0||w===void 0){var B=this.getMeasuringContext();this._setTextStyles(B,f,!0)}return b===void 0&&(P=b=B.measureText(l).width,v[l]=b),S===void 0&&_&&c&&(S=B.measureText(c).width,v[c]=S),_&&w===void 0&&(w=B.measureText(y).width,v[y]=w,P=w-S),{width:b*x,kernedWidth:P*x}},getHeightOfChar:function(l,f){return this.getValueOfPropertyAt(l,f,"fontSize")},measureLine:function(l){var f=this._measureLine(l);return this.charSpacing!==0&&(f.width-=this._getWidthOfCharSpacing()),f.width<0&&(f.width=0),f},_measureLine:function(l){var f=0,c,d,v=this._textLines[l],g,m,y=0,_=new Array(v.length),b=0,w,S,x=this.path,P=this.pathSide==="right";for(this.__charBounds[l]=_,c=0;c<v.length;c++)d=v[c],m=this._getGraphemeBox(d,l,c,g),_[c]=m,f+=m.kernedWidth,g=d;if(_[c]={left:m?m.left+m.width:0,width:0,kernedWidth:0,height:this.fontSize},x){switch(S=x.segmentsInfo[x.segmentsInfo.length-1].length,w=s.util.getPointOnPath(x.path,0,x.segmentsInfo),w.x+=x.pathOffset.x,w.y+=x.pathOffset.y,this.textAlign){case"left":b=P?S-f:0;break;case"center":b=(S-f)/2;break;case"right":b=P?0:S-f;break}for(b+=this.pathStartOffset*(P?-1:1),c=P?v.length-1:0;P?c>=0:c<v.length;P?c--:c++)m=_[c],b>S?b%=S:b<0&&(b+=S),this._setGraphemeOnPath(b,m,w),b+=m.kernedWidth}return{width:f,numOfSpaces:y}},_setGraphemeOnPath:function(l,f,c){var d=l+f.kernedWidth/2,v=this.path,g=s.util.getPointOnPath(v.path,d,v.segmentsInfo);f.renderLeft=g.x-c.x,f.renderTop=g.y-c.y,f.angle=g.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(l,f,c,d,v){var g=this.getCompleteStyleDeclaration(f,c),m=d?this.getCompleteStyleDeclaration(f,c-1):{},y=this._measureChar(l,g,d,m),_=y.kernedWidth,b=y.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),b+=w,_+=w);var S={width:b,left:0,height:g.fontSize,kernedWidth:_,deltaY:g.deltaY};if(c>0&&!v){var x=this.__charBounds[f][c-1];S.left=x.left+x.width+y.kernedWidth-y.width}return S},getHeightOfLine:function(l){if(this.__lineHeights[l])return this.__lineHeights[l];for(var f=this._textLines[l],c=this.getHeightOfChar(l,0),d=1,v=f.length;d<v;d++)c=Math.max(this.getHeightOfChar(l,d),c);return this.__lineHeights[l]=c*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var l,f=0,c=0,d=this._textLines.length;c<d;c++)l=this.getHeightOfLine(c),f+=c===d-1?l/this.lineHeight:l;return f},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(l,f){l.save();for(var c=0,d=this._getLeftOffset(),v=this._getTopOffset(),g=0,m=this._textLines.length;g<m;g++){var y=this.getHeightOfLine(g),_=y/this.lineHeight,b=this._getLineLeftOffset(g);this._renderTextLine(f,l,this._textLines[g],d+b,v+c+_,g),c+=y}l.restore()},_renderTextFill:function(l){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(l,"fillText")},_renderTextStroke:function(l){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this._setLineDash(l,this.strokeDashArray),l.beginPath(),this._renderTextCommon(l,"strokeText"),l.closePath(),l.restore())},_renderChars:function(l,f,c,d,v,g){var m=this.getHeightOfLine(g),y=this.textAlign.indexOf("justify")!==-1,_,b,w="",S,x=0,P,B=this.path,G=!y&&this.charSpacing===0&&this.isEmptyStyles(g)&&!B,K=this.direction==="ltr",Y=this.direction==="ltr"?1:-1,W,ee=f.canvas.getAttribute("dir");if(f.save(),ee!==this.direction&&(f.canvas.setAttribute("dir",K?"ltr":"rtl"),f.direction=K?"ltr":"rtl",f.textAlign=K?"left":"right"),v-=m*this._fontSizeFraction/this.lineHeight,G){this._renderChar(l,f,g,0,c.join(""),d,v,m),f.restore();return}for(var le=0,de=c.length-1;le<=de;le++)P=le===de||this.charSpacing||B,w+=c[le],S=this.__charBounds[g][le],x===0?(d+=Y*(S.kernedWidth-S.width),x+=S.width):x+=S.kernedWidth,y&&!P&&this._reSpaceAndTab.test(c[le])&&(P=!0),P||(_=_||this.getCompleteStyleDeclaration(g,le),b=this.getCompleteStyleDeclaration(g,le+1),P=s.util.hasStyleChanged(_,b,!1)),P&&(B?(f.save(),f.translate(S.renderLeft,S.renderTop),f.rotate(S.angle),this._renderChar(l,f,g,le,w,-x/2,0,m),f.restore()):(W=d,this._renderChar(l,f,g,le,w,W,v,m)),w="",_=b,d+=Y*x,x=0);f.restore()},_applyPatternGradientTransformText:function(l){var f=s.util.createCanvasElement(),c,d=this.width+this.strokeWidth,v=this.height+this.strokeWidth;return f.width=d,f.height=v,c=f.getContext("2d"),c.beginPath(),c.moveTo(0,0),c.lineTo(d,0),c.lineTo(d,v),c.lineTo(0,v),c.closePath(),c.translate(d/2,v/2),c.fillStyle=l.toLive(c),this._applyPatternGradientTransform(c,l),c.fill(),c.createPattern(f,"no-repeat")},handleFiller:function(l,f,c){var d,v;return c.toLive?c.gradientUnits==="percentage"||c.gradientTransform||c.patternTransform?(d=-this.width/2,v=-this.height/2,l.translate(d,v),l[f]=this._applyPatternGradientTransformText(c),{offsetX:d,offsetY:v}):(l[f]=c.toLive(l,this),this._applyPatternGradientTransform(l,c)):(l[f]=c,{offsetX:0,offsetY:0})},_setStrokeStyles:function(l,f){return l.lineWidth=f.strokeWidth,l.lineCap=this.strokeLineCap,l.lineDashOffset=this.strokeDashOffset,l.lineJoin=this.strokeLineJoin,l.miterLimit=this.strokeMiterLimit,this.handleFiller(l,"strokeStyle",f.stroke)},_setFillStyles:function(l,f){return this.handleFiller(l,"fillStyle",f.fill)},_renderChar:function(l,f,c,d,v,g,m){var y=this._getStyleDeclaration(c,d),_=this.getCompleteStyleDeclaration(c,d),b=l==="fillText"&&_.fill,w=l==="strokeText"&&_.stroke&&_.strokeWidth,S,x;!w&&!b||(f.save(),b&&(S=this._setFillStyles(f,_)),w&&(x=this._setStrokeStyles(f,_)),f.font=this._getFontDeclaration(_),y&&y.textBackgroundColor&&this._removeShadow(f),y&&y.deltaY&&(m+=y.deltaY),b&&f.fillText(v,g-S.offsetX,m-S.offsetY),w&&f.strokeText(v,g-x.offsetX,m-x.offsetY),f.restore())},setSuperscript:function(l,f){return this._setScript(l,f,this.superscript)},setSubscript:function(l,f){return this._setScript(l,f,this.subscript)},_setScript:function(l,f,c){var d=this.get2DCursorLocation(l,!0),v=this.getValueOfPropertyAt(d.lineIndex,d.charIndex,"fontSize"),g=this.getValueOfPropertyAt(d.lineIndex,d.charIndex,"deltaY"),m={fontSize:v*c.size,deltaY:g+v*c.baseline};return this.setSelectionStyles(m,l,f),this},_getLineLeftOffset:function(l){var f=this.getLineWidth(l),c=this.width-f,d=this.textAlign,v=this.direction,m,g=0,m=this.isEndOfWrapping(l);return d==="justify"||d==="justify-center"&&!m||d==="justify-right"&&!m||d==="justify-left"&&!m?0:(d==="center"&&(g=c/2),d==="right"&&(g=c),d==="justify-center"&&(g=c/2),d==="justify-right"&&(g=c),v==="rtl"&&(g-=c),g)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var l=this._forceClearCache;return l||(l=this.hasStateChanged("_dimensionAffectingProps")),l&&(this.dirty=!0,this._forceClearCache=!1),l},getLineWidth:function(l){if(this.__lineWidths[l]!==void 0)return this.__lineWidths[l];var f=this.measureLine(l),c=f.width;return this.__lineWidths[l]=c,c},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(l,f,c){var d=this._getStyleDeclaration(l,f);return d&&typeof d[c]<"u"?d[c]:this[c]},_renderTextDecoration:function(l,f){if(!(!this[f]&&!this.styleHas(f))){for(var c,d,v,g,m,y,_,b,w=this._getLeftOffset(),S=this._getTopOffset(),x,P,B,G,K,Y,W,ee,le=this.path,de=this._getWidthOfCharSpacing(),U=this.offsets[f],Q=0,O=this._textLines.length;Q<O;Q++){if(c=this.getHeightOfLine(Q),!this[f]&&!this.styleHas(f,Q)){S+=c;continue}_=this._textLines[Q],Y=c/this.lineHeight,g=this._getLineLeftOffset(Q),P=0,B=0,b=this.getValueOfPropertyAt(Q,0,f),ee=this.getValueOfPropertyAt(Q,0,"fill"),x=S+Y*(1-this._fontSizeFraction),d=this.getHeightOfChar(Q,0),m=this.getValueOfPropertyAt(Q,0,"deltaY");for(var R=0,F=_.length;R<F;R++)if(G=this.__charBounds[Q][R],K=this.getValueOfPropertyAt(Q,R,f),W=this.getValueOfPropertyAt(Q,R,"fill"),v=this.getHeightOfChar(Q,R),y=this.getValueOfPropertyAt(Q,R,"deltaY"),le&&K&&W)l.save(),l.fillStyle=ee,l.translate(G.renderLeft,G.renderTop),l.rotate(G.angle),l.fillRect(-G.kernedWidth/2,U*v+y,G.kernedWidth,this.fontSize/15),l.restore();else if((K!==b||W!==ee||v!==d||y!==m)&&B>0){var D=w+g+P;this.direction==="rtl"&&(D=this.width-D-B),b&&ee&&(l.fillStyle=ee,l.fillRect(D,x+U*d+m,B,this.fontSize/15)),P=G.left,B=G.width,b=K,ee=W,d=v,m=y}else B+=G.kernedWidth;var D=w+g+P;this.direction==="rtl"&&(D=this.width-D-B),l.fillStyle=W,K&&W&&l.fillRect(D,x+U*d+m,B-de,this.fontSize/15),S+=c}this._removeShadow(l)}},_getFontDeclaration:function(l,f){var c=l||this,d=this.fontFamily,v=s.Text.genericFonts.indexOf(d.toLowerCase())>-1,g=d===void 0||d.indexOf("'")>-1||d.indexOf(",")>-1||d.indexOf('"')>-1||v?c.fontFamily:'"'+c.fontFamily+'"';return[s.isLikelyNode?c.fontWeight:c.fontStyle,s.isLikelyNode?c.fontStyle:c.fontWeight,f?this.CACHE_FONT_SIZE+"px":c.fontSize+"px",g].join(" ")},render:function(l){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",l)))},_splitTextIntoLines:function(l){for(var f=l.split(this._reNewline),c=new Array(f.length),d=[`
`],v=[],g=0;g<f.length;g++)c[g]=s.util.string.graphemeSplit(f[g]),v=v.concat(c[g],d);return v.pop(),{_unwrappedLines:c,lines:f,graphemeText:v,graphemeLines:c}},toObject:function(l){var f=u.concat(l),c=this.callSuper("toObject",f);return c.styles=s.util.stylesToArray(this.styles,this.text),c.path&&(c.path=this.path.toObject()),c},set:function(l,f){this.callSuper("set",l,f);var c=!1,d=!1;if(typeof l=="object")for(var v in l)v==="path"&&this.setPathInfo(),c=c||this._dimensionAffectingProps.indexOf(v)!==-1,d=d||v==="path";else c=this._dimensionAffectingProps.indexOf(l)!==-1,d=l==="path";return d&&this.setPathInfo(),c&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),s.Text.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),s.Text.DEFAULT_SVG_FONT_SIZE=16,s.Text.fromElement=function(l,f,c){if(!l)return f(null);var d=s.parseAttributes(l,s.Text.ATTRIBUTE_NAMES),v=d.textAnchor||"left";if(c=s.util.object.extend(c?h(c):{},d),c.top=c.top||0,c.left=c.left||0,d.textDecoration){var g=d.textDecoration;g.indexOf("underline")!==-1&&(c.underline=!0),g.indexOf("overline")!==-1&&(c.overline=!0),g.indexOf("line-through")!==-1&&(c.linethrough=!0),delete c.textDecoration}"dx"in d&&(c.left+=d.dx),"dy"in d&&(c.top+=d.dy),"fontSize"in c||(c.fontSize=s.Text.DEFAULT_SVG_FONT_SIZE);var m="";"textContent"in l?m=l.textContent:"firstChild"in l&&l.firstChild!==null&&"data"in l.firstChild&&l.firstChild.data!==null&&(m=l.firstChild.data),m=m.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var y=c.strokeWidth;c.strokeWidth=0;var _=new s.Text(m,c),b=_.getScaledHeight()/_.height,w=(_.height+_.strokeWidth)*_.lineHeight-_.height,S=w*b,x=_.getScaledHeight()+S,P=0;v==="center"&&(P=_.getScaledWidth()/2),v==="right"&&(P=_.getScaledWidth()),_.set({left:_.left-P,top:_.top-(x-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:typeof y<"u"?y:1}),f(_)},s.Text.fromObject=function(l,f){var c=h(l),d=l.path;return delete c.path,s.Object._fromObject("Text",c,function(v){v.styles=s.util.stylesFromArray(l.styles,l.text),d?s.Object._fromObject("Path",d,function(g){v.set("path",g),f(v)},"path"):f(v)},"text")},s.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],s.util.createAccessors&&s.util.createAccessors(s.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(a){if(!this.styles||typeof a<"u"&&!this.styles[a])return!0;var s=typeof a>"u"?this.styles:{line:this.styles[a]};for(var h in s)for(var u in s[h])for(var l in s[h][u])return!1;return!0},styleHas:function(a,s){if(!this.styles||!a||a===""||typeof s<"u"&&!this.styles[s])return!1;var h=typeof s>"u"?this.styles:{0:this.styles[s]};for(var u in h)for(var l in h[u])if(typeof h[u][l][a]<"u")return!0;return!1},cleanStyle:function(a){if(!this.styles||!a||a==="")return!1;var s=this.styles,h=0,u,l,f=!0,c=0,d;for(var v in s){u=0;for(var g in s[v]){var d=s[v][g],m=d.hasOwnProperty(a);h++,m?(l?d[a]!==l&&(f=!1):l=d[a],d[a]===this[a]&&delete d[a]):f=!1,Object.keys(d).length!==0?u++:delete s[v][g]}u===0&&delete s[v]}for(var y=0;y<this._textLines.length;y++)c+=this._textLines[y].length;f&&h===c&&(this[a]=l,this.removeStyle(a))},removeStyle:function(a){if(!(!this.styles||!a||a==="")){var s=this.styles,h,u,l;for(u in s){h=s[u];for(l in h)delete h[l][a],Object.keys(h[l]).length===0&&delete h[l];Object.keys(h).length===0&&delete s[u]}}},_extendStyles:function(a,s){var h=this.get2DCursorLocation(a);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),s)},get2DCursorLocation:function(a,s){typeof a>"u"&&(a=this.selectionStart);for(var h=s?this._unwrappedTextLines:this._textLines,u=h.length,l=0;l<u;l++){if(a<=h[l].length)return{lineIndex:l,charIndex:a};a-=h[l].length+this.missingNewlineOffset(l)}return{lineIndex:l-1,charIndex:h[l-1].length<a?h[l-1].length:a}},getSelectionStyles:function(a,s,h){typeof a>"u"&&(a=this.selectionStart||0),typeof s>"u"&&(s=this.selectionEnd||a);for(var u=[],l=a;l<s;l++)u.push(this.getStyleAtPosition(l,h));return u},getStyleAtPosition:function(a,s){var h=this.get2DCursorLocation(a),u=s?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return u||{}},setSelectionStyles:function(a,s,h){typeof s>"u"&&(s=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||s);for(var u=s;u<h;u++)this._extendStyles(u,a);return this._forceClearCache=!0,this},_getStyleDeclaration:function(a,s){var h=this.styles&&this.styles[a];return h?h[s]:null},getCompleteStyleDeclaration:function(a,s){for(var h=this._getStyleDeclaration(a,s)||{},u={},l,f=0;f<this._styleProperties.length;f++)l=this._styleProperties[f],u[l]=typeof h[l]>"u"?this[l]:h[l];return u},_setStyleDeclaration:function(a,s,h){this.styles[a][s]=h},_deleteStyleDeclaration:function(a,s){delete this.styles[a][s]},_getLineStyle:function(a){return!!this.styles[a]},_setLineStyle:function(a){this.styles[a]={}},_deleteLineStyle:function(a){delete this.styles[a]}})}(),function(){function a(s){s.textDecoration&&(s.textDecoration.indexOf("underline")>-1&&(s.underline=!0),s.textDecoration.indexOf("line-through")>-1&&(s.linethrough=!0),s.textDecoration.indexOf("overline")>-1&&(s.overline=!0),delete s.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(s,h){this.callSuper("initialize",s,h),this.initBehavior()},setSelectionStart:function(s){s=Math.max(s,0),this._updateAndFire("selectionStart",s)},setSelectionEnd:function(s){s=Math.min(s,this.text.length),this._updateAndFire("selectionEnd",s)},_updateAndFire:function(s,h){this[s]!==h&&(this._fireSelectionChanged(),this[s]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(s){this.clearContextTop(),this.callSuper("render",s),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(s){this.callSuper("_render",s)},clearContextTop:function(s){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,u=this.canvas.viewportTransform;h.save(),h.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this.transform(h),this._clearTextArea(h),s||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var s=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(s,h):this.renderSelection(s,h),h.restore()}},_clearTextArea:function(s){var h=this.width+4,u=this.height+4;s.clearRect(-h/2,-u/2,h,u)},_getCursorBoundaries:function(s){typeof s>"u"&&(s=this.selectionStart);var h=this._getLeftOffset(),u=this._getTopOffset(),l=this._getCursorBoundariesOffsets(s);return{left:h,top:u,leftOffset:l.left,topOffset:l.top}},_getCursorBoundariesOffsets:function(s){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,u,l,f=0,c=0,d,v=this.get2DCursorLocation(s);l=v.charIndex,u=v.lineIndex;for(var g=0;g<u;g++)f+=this.getHeightOfLine(g);h=this._getLineLeftOffset(u);var m=this.__charBounds[u][l];return m&&(c=m.left),this.charSpacing!==0&&l===this._textLines[u].length&&(c-=this._getWidthOfCharSpacing()),d={top:f,left:h+(c>0?c:0)},this.direction==="rtl"&&(d.left*=-1),this.cursorOffsetCache=d,this.cursorOffsetCache},renderCursor:function(s,h){var u=this.get2DCursorLocation(),l=u.lineIndex,f=u.charIndex>0?u.charIndex-1:0,c=this.getValueOfPropertyAt(l,f,"fontSize"),d=this.scaleX*this.canvas.getZoom(),v=this.cursorWidth/d,g=s.topOffset,m=this.getValueOfPropertyAt(l,f,"deltaY");g+=(1-this._fontSizeFraction)*this.getHeightOfLine(l)/this.lineHeight-c*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(s,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(l,f,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(s.left+s.leftOffset-v/2,g+s.top+m,v,c)},renderSelection:function(s,h){for(var u=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,l=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,f=this.textAlign.indexOf("justify")!==-1,c=this.get2DCursorLocation(u),d=this.get2DCursorLocation(l),v=c.lineIndex,g=d.lineIndex,m=c.charIndex<0?0:c.charIndex,y=d.charIndex<0?0:d.charIndex,_=v;_<=g;_++){var b=this._getLineLeftOffset(_)||0,w=this.getHeightOfLine(_),S=0,x=0,P=0;if(_===v&&(x=this.__charBounds[v][m].left),_>=v&&_<g)P=f&&!this.isEndOfWrapping(_)?this.width:this.getLineWidth(_)||5;else if(_===g)if(y===0)P=this.__charBounds[g][y].left;else{var B=this._getWidthOfCharSpacing();P=this.__charBounds[g][y-1].left+this.__charBounds[g][y-1].width-B}S=w,(this.lineHeight<1||_===g&&this.lineHeight>1)&&(w/=this.lineHeight);var G=s.left+b+x,K=P-x,Y=w,W=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",Y=1,W=w):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(G=this.width-G-K),h.fillRect(G,s.top+s.topOffset+W,K,Y),s.topOffset+=S}},getCurrentCharFontSize:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fontSize")},getCurrentCharColor:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fill")},_getCurrentCharIndex:function(){var s=this.get2DCursorLocation(this.selectionStart,!0),h=s.charIndex>0?s.charIndex-1:0;return{l:s.lineIndex,c:h}}}),t.IText.fromObject=function(s,h){var u=t.util.stylesFromArray(s.styles,s.text),l=Object.assign({},s,{styles:u});if(a(l),l.styles)for(var f in l.styles)for(var c in l.styles[f])a(l.styles[f][c]);t.Object._fromObject("IText",l,h,"text")}}(),function(){var a=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var s=this;this.on("added",function(){var h=s.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,s._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(s))})},initRemovedHandler:function(){var s=this;this.on("removed",function(){var h=s.canvas;h&&(h._iTextInstances=h._iTextInstances||[],t.util.removeFromArray(h._iTextInstances,s),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,s._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(s){s._mouseUpITextHandler=function(){s._iTextInstances&&s._iTextInstances.forEach(function(h){h.__isMousedown=!1})},s.on("mouse:up",s._mouseUpITextHandler)},_removeCanvasHandlers:function(s){s.off("mouse:up",s._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(s,h,u,l){var f;return f={isAborted:!1,abort:function(){this.isAborted=!0}},s.animate("_currentCursorOpacity",h,{duration:u,onComplete:function(){f.isAborted||s[l]()},onChange:function(){s.canvas&&s.selectionStart===s.selectionEnd&&s.renderCursorOrSelection()},abort:function(){return f.isAborted}}),f},_onTickComplete:function(){var s=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){s._currentTickCompleteState=s._animateCursor(s,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(s){var h=this,u=s?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},u)},abortCursorAnimation:function(){var s=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,s&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(s){var h=0,u=s-1;if(this._reSpace.test(this._text[u]))for(;this._reSpace.test(this._text[u]);)h++,u--;for(;/\S/.test(this._text[u])&&u>-1;)h++,u--;return s-h},findWordBoundaryRight:function(s){var h=0,u=s;if(this._reSpace.test(this._text[u]))for(;this._reSpace.test(this._text[u]);)h++,u++;for(;/\S/.test(this._text[u])&&u<this._text.length;)h++,u++;return s+h},findLineBoundaryLeft:function(s){for(var h=0,u=s-1;!/\n/.test(this._text[u])&&u>-1;)h++,u--;return s-h},findLineBoundaryRight:function(s){for(var h=0,u=s;!/\n/.test(this._text[u])&&u<this._text.length;)h++,u++;return s+h},searchWordBoundary:function(s,h){for(var u=this._text,l=this._reSpace.test(u[s])?s-1:s,f=u[l],c=t.reNonWord;!c.test(f)&&l>0&&l<u.length;)l+=h,f=u[l];return c.test(f)&&(l+=h===1?0:1),l},selectWord:function(s){s=s||this.selectionStart;var h=this.searchWordBoundary(s,-1),u=this.searchWordBoundary(s,1);this.selectionStart=h,this.selectionEnd=u,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(s){s=s||this.selectionStart;var h=this.findLineBoundaryLeft(s),u=this.findLineBoundaryRight(s);return this.selectionStart=h,this.selectionEnd=u,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(s){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(s),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(s){s._iTextInstances&&s._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(s){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var h=this.getSelectionStartFromPointer(s.e),u=this.selectionStart,l=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||u===l)&&(u===h||l===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==u||this.selectionEnd!==l)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(s,h,u){var l=u.slice(0,s),f=t.util.string.graphemeSplit(l).length;if(s===h)return{selectionStart:f,selectionEnd:f};var c=u.slice(s,h),d=t.util.string.graphemeSplit(c).length;return{selectionStart:f,selectionEnd:f+d}},fromGraphemeToStringSelection:function(s,h,u){var l=u.slice(0,s),f=l.join("").length;if(s===h)return{selectionStart:f,selectionEnd:f};var c=u.slice(s,h),d=c.join("").length;return{selectionStart:f,selectionEnd:f+d}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var s=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=s.selectionStart,this.hiddenTextarea.selectionEnd=s.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var s=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=s.selectionEnd,this.inCompositionMode||(this.selectionStart=s.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var s=this._calcTextareaPosition();this.hiddenTextarea.style.left=s.left,this.hiddenTextarea.style.top=s.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var s=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(s),u=this.get2DCursorLocation(s),l=u.lineIndex,f=u.charIndex,c=this.getValueOfPropertyAt(l,f,"fontSize")*this.lineHeight,d=h.leftOffset,v=this.calcTransformMatrix(),g={x:h.left+d,y:h.top+h.topOffset+c},m=this.canvas.getRetinaScaling(),y=this.canvas.upperCanvasEl,_=y.width/m,b=y.height/m,w=_-c,S=b-c,x=y.clientWidth/_,P=y.clientHeight/b;return g=t.util.transformPoint(g,v),g=t.util.transformPoint(g,this.canvas.viewportTransform),g.x*=x,g.y*=P,g.x<0&&(g.x=0),g.x>w&&(g.x=w),g.y<0&&(g.y=0),g.y>S&&(g.y=S),g.x+=this.canvas._offset.left,g.y+=this.canvas._offset.top,{left:g.x+"px",top:g.y+"px",fontSize:c+"px",charHeight:c}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var s=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),s&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),s&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var s in this.styles)this._textLines[s]||delete this.styles[s]},removeStyleFromTo:function(s,h){var u=this.get2DCursorLocation(s,!0),l=this.get2DCursorLocation(h,!0),f=u.lineIndex,c=u.charIndex,d=l.lineIndex,v=l.charIndex,g,m;if(f!==d){if(this.styles[f])for(g=c;g<this._unwrappedTextLines[f].length;g++)delete this.styles[f][g];if(this.styles[d])for(g=v;g<this._unwrappedTextLines[d].length;g++)m=this.styles[d][g],m&&(this.styles[f]||(this.styles[f]={}),this.styles[f][c+g-v]=m);for(g=f+1;g<=d;g++)delete this.styles[g];this.shiftLineStyles(d,f-d)}else if(this.styles[f]){m=this.styles[f];var y=v-c,_,b;for(g=c;g<v;g++)delete m[g];for(b in this.styles[f])_=parseInt(b,10),_>=v&&(m[_-y]=m[b],delete m[b])}},shiftLineStyles:function(s,h){var u=a(this.styles);for(var l in this.styles){var f=parseInt(l,10);f>s&&(this.styles[f+h]=u[f],u[f-h]||delete this.styles[f])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(s,h,u,l){var f,c={},d=!1,v=this._unwrappedTextLines[s].length===h;u||(u=1),this.shiftLineStyles(s,u),this.styles[s]&&(f=this.styles[s][h===0?h:h-1]);for(var g in this.styles[s]){var m=parseInt(g,10);m>=h&&(d=!0,c[m-h]=this.styles[s][g],v&&h===0||delete this.styles[s][g])}var y=!1;for(d&&!v&&(this.styles[s+u]=c,y=!0),y&&u--;u>0;)l&&l[u-1]?this.styles[s+u]={0:a(l[u-1])}:f?this.styles[s+u]={0:a(f)}:delete this.styles[s+u],u--;this._forceClearCache=!0},insertCharStyleObject:function(s,h,u,l){this.styles||(this.styles={});var f=this.styles[s],c=f?a(f):{};u||(u=1);for(var d in c){var v=parseInt(d,10);v>=h&&(f[v+u]=c[v],c[v-u]||delete f[v])}if(this._forceClearCache=!0,l){for(;u--;)Object.keys(l[u]).length&&(this.styles[s]||(this.styles[s]={}),this.styles[s][h+u]=a(l[u]));return}if(f)for(var g=f[h?h-1:1];g&&u--;)this.styles[s][h+u]=a(g)},insertNewStyleBlock:function(s,h,u){for(var l=this.get2DCursorLocation(h,!0),f=[0],c=0,d=0;d<s.length;d++)s[d]===`
`?(c++,f[c]=0):f[c]++;f[0]>0&&(this.insertCharStyleObject(l.lineIndex,l.charIndex,f[0],u),u=u&&u.slice(f[0]+1)),c&&this.insertNewlineStyleObject(l.lineIndex,l.charIndex+f[0],c);for(var d=1;d<c;d++)f[d]>0?this.insertCharStyleObject(l.lineIndex+d,0,f[d],u):u&&this.styles[l.lineIndex+d]&&u[0]&&(this.styles[l.lineIndex+d][0]=u[0]),u=u&&u.slice(f[d]+1);f[d]>0&&this.insertCharStyleObject(l.lineIndex+d,0,f[d],u)},setSelectionStartEndWithShift:function(s,h,u){u<=s?(h===s?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=s),this.selectionStart=u):u>s&&u<h?this._selectionDirection==="right"?this.selectionEnd=u:this.selectionStart=u:(h===s?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=u)},setSelectionInBoundaries:function(){var s=this.text.length;this.selectionStart>s?this.selectionStart=s:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>s?this.selectionEnd=s:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(a){if(this.canvas){this.__newClickTime=+new Date;var s=a.pointer;this.isTripleClick(s)&&(this.fire("tripleclick",a),this._stopEvent(a.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=s,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(a){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===a.x&&this.__lastPointer.y===a.y},_stopEvent:function(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(a){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(a.e))},tripleClickHandler:function(a){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(a.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(a){!this.canvas||!this.editable||a.e.button&&a.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(a.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(a){!this.canvas||!this.editable||a.e.button&&a.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(a){if(this.__isMousedown=!1,!(!this.editable||this.group||a.transform&&a.transform.actionPerformed||a.e.button&&a.e.button!==1)){if(this.canvas){var s=this.canvas._activeObject;if(s&&s!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(a.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(a){var s=this.getSelectionStartFromPointer(a),h=this.selectionStart,u=this.selectionEnd;a.shiftKey?this.setSelectionStartEndWithShift(h,u,s):(this.selectionStart=s,this.selectionEnd=s),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(a){for(var s=this.getLocalPointer(a),h=0,u=0,l=0,f=0,c=0,d,v,g=0,m=this._textLines.length;g<m&&l<=s.y;g++)l+=this.getHeightOfLine(g)*this.scaleY,c=g,g>0&&(f+=this._textLines[g-1].length+this.missingNewlineOffset(g-1));d=this._getLineLeftOffset(c),u=d*this.scaleX,v=this._textLines[c],this.direction==="rtl"&&(s.x=this.width*this.scaleX-s.x+u);for(var y=0,_=v.length;y<_&&(h=u,u+=this.__charBounds[c][y].kernedWidth*this.scaleX,u<=s.x);y++)f++;return this._getNewSelectionStartFromOffset(s,h,u,f,_)},_getNewSelectionStartFromOffset:function(a,s,h,u,l){var f=a.x-s,c=h-a.x,d=c>f||c<0?0:1,v=u+d;return this.flipX&&(v=l-v),v>this._text.length&&(v=this._text.length),v}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var a=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+a.top+"; left: "+a.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+a.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(a){if(this.isEditing){var s=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(a.keyCode in s)this[s[a.keyCode]](a);else if(a.keyCode in this.ctrlKeysMapDown&&(a.ctrlKey||a.metaKey))this[this.ctrlKeysMapDown[a.keyCode]](a);else return;a.stopImmediatePropagation(),a.preventDefault(),a.keyCode>=33&&a.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(a){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(a.keyCode in this.ctrlKeysMapUp&&(a.ctrlKey||a.metaKey))this[this.ctrlKeysMapUp[a.keyCode]](a);else return;a.stopImmediatePropagation(),a.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(a){var s=this.fromPaste;if(this.fromPaste=!1,a&&a.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,u=this._text.length,l=h.length,f,c,d=l-u,v=this.selectionStart,g=this.selectionEnd,m=v!==g,y,_,b;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),S=v>w.selectionStart;m?(f=this._text.slice(v,g),d+=g-v):l<u&&(S?f=this._text.slice(g+d,g):f=this._text.slice(v,v-d)),c=h.slice(w.selectionEnd-d,w.selectionEnd),f&&f.length&&(c.length&&(y=this.getSelectionStyles(v,v+1,!1),y=c.map(function(){return y[0]})),m?(_=v,b=g):S?(_=g-f.length,b=g):(_=g,b=g+f.length),this.removeStyleFromTo(_,b)),c.length&&(s&&c.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(y=t.copiedTextStyle),this.insertNewStyleBlock(c,v,y)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(a){this.compositionStart=a.target.selectionStart,this.compositionEnd=a.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(a){return a&&a.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(a,s){var h=this._getLineLeftOffset(a),u;return s>0&&(u=this.__charBounds[a][s-1],h+=u.left+u.width),h},getDownCursorOffset:function(a,s){var h=this._getSelectionForOffset(a,s),u=this.get2DCursorLocation(h),l=u.lineIndex;if(l===this._textLines.length-1||a.metaKey||a.keyCode===34)return this._text.length-h;var f=u.charIndex,c=this._getWidthBeforeCursor(l,f),d=this._getIndexOnLine(l+1,c),v=this._textLines[l].slice(f);return v.length+d+1+this.missingNewlineOffset(l)},_getSelectionForOffset:function(a,s){return a.shiftKey&&this.selectionStart!==this.selectionEnd&&s?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(a,s){var h=this._getSelectionForOffset(a,s),u=this.get2DCursorLocation(h),l=u.lineIndex;if(l===0||a.metaKey||a.keyCode===33)return-h;var f=u.charIndex,c=this._getWidthBeforeCursor(l,f),d=this._getIndexOnLine(l-1,c),v=this._textLines[l].slice(0,f),g=this.missingNewlineOffset(l-1);return-this._textLines[l-1].length+d-v.length+(1-g)},_getIndexOnLine:function(a,s){for(var h=this._textLines[a],u=this._getLineLeftOffset(a),l=u,f=0,c,d,v=0,g=h.length;v<g;v++)if(c=this.__charBounds[a][v].width,l+=c,l>s){d=!0;var m=l-c,y=l,_=Math.abs(m-s),b=Math.abs(y-s);f=b<_?v:v-1;break}return d||(f=h.length-1),f},moveCursorDown:function(a){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",a)},moveCursorUp:function(a){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",a)},_moveCursorUpOrDown:function(a,s){var h="get"+a+"CursorOffset",u=this[h](s,this._selectionDirection==="right");s.shiftKey?this.moveCursorWithShift(u):this.moveCursorWithoutShift(u),u!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(a){var s=this._selectionDirection==="left"?this.selectionStart+a:this.selectionEnd+a;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,s),a!==0},moveCursorWithoutShift:function(a){return a<0?(this.selectionStart+=a,this.selectionEnd=this.selectionStart):(this.selectionEnd+=a,this.selectionStart=this.selectionEnd),a!==0},moveCursorLeft:function(a){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",a)},_move:function(a,s,h){var u;if(a.altKey)u=this["findWordBoundary"+h](this[s]);else if(a.metaKey||a.keyCode===35||a.keyCode===36)u=this["findLineBoundary"+h](this[s]);else return this[s]+=h==="Left"?-1:1,!0;if(typeof u<"u"&&this[s]!==u)return this[s]=u,!0},_moveLeft:function(a,s){return this._move(a,s,"Left")},_moveRight:function(a,s){return this._move(a,s,"Right")},moveCursorLeftWithoutShift:function(a){var s=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(s=this._moveLeft(a,"selectionStart")),this.selectionEnd=this.selectionStart,s},moveCursorLeftWithShift:function(a){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(a,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(a,"selectionStart")},moveCursorRight:function(a){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",a)},_moveCursorLeftOrRight:function(a,s){var h="moveCursor"+a+"With";this._currentCursorOpacity=1,s.shiftKey?h+="Shift":h+="outShift",this[h](s)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(a){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(a,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(a,"selectionEnd")},moveCursorRightWithoutShift:function(a){var s=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(s=this._moveRight(a,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,s},removeChars:function(a,s){typeof s>"u"&&(s=a+1),this.removeStyleFromTo(a,s),this._text.splice(a,s-a),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(a,s,h,u){typeof u>"u"&&(u=h),u>h&&this.removeStyleFromTo(h,u);var l=t.util.string.graphemeSplit(a);this.insertNewStyleBlock(l,h,s),this._text=[].concat(this._text.slice(0,h),l,this._text.slice(u)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var a=t.util.toFixed,s=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),u=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(u)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var u=!0,l=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",l?'text-decoration="'+l+'" ':"",'style="',this.getSvgStyles(u),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,u){var l=[],f=[],c=h,d;this._setSVGBg(f);for(var v=0,g=this._textLines.length;v<g;v++)d=this._getLineLeftOffset(v),(this.textBackgroundColor||this.styleHas("textBackgroundColor",v))&&this._setSVGTextLineBg(f,v,u+d,c),this._setSVGTextLineText(l,v,u+d,c),c+=this.getHeightOfLine(v);return{textSpans:l,textBgRects:f}},_createTextCharSpan:function(h,u,l,f){var c=h!==h.trim()||h.match(s),d=this.getSvgSpanStyles(u,c),v=d?'style="'+d+'"':"",g=u.deltaY,m="",y=t.Object.NUM_FRACTION_DIGITS;return g&&(m=' dy="'+a(g,y)+'" '),['<tspan x="',a(l,y),'" y="',a(f,y),'" ',m,v,">",t.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,u,l,f){var c=this.getHeightOfLine(u),d=this.textAlign.indexOf("justify")!==-1,v,g,m="",y,_,b=0,w=this._textLines[u],S;f+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var x=0,P=w.length-1;x<=P;x++)S=x===P||this.charSpacing,m+=w[x],y=this.__charBounds[u][x],b===0?(l+=y.kernedWidth-y.width,b+=y.width):b+=y.kernedWidth,d&&!S&&this._reSpaceAndTab.test(w[x])&&(S=!0),S||(v=v||this.getCompleteStyleDeclaration(u,x),g=this.getCompleteStyleDeclaration(u,x+1),S=t.util.hasStyleChanged(v,g,!0)),S&&(_=this._getStyleDeclaration(u,x)||{},h.push(this._createTextCharSpan(m,_,l,f)),m="",v=g,l+=b,b=0)},_pushTextBgRect:function(h,u,l,f,c,d){var v=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(u),' x="',a(l,v),'" y="',a(f,v),'" width="',a(c,v),'" height="',a(d,v),`"></rect>
`)},_setSVGTextLineBg:function(h,u,l,f){for(var c=this._textLines[u],d=this.getHeightOfLine(u)/this.lineHeight,v=0,g=0,m,y,_=this.getValueOfPropertyAt(u,0,"textBackgroundColor"),b=0,w=c.length;b<w;b++)m=this.__charBounds[u][b],y=this.getValueOfPropertyAt(u,b,"textBackgroundColor"),y!==_?(_&&this._pushTextBgRect(h,_,l+g,f,v,d),g=m.left,v=m.width,_=y):v+=m.kernedWidth;y&&this._pushTextBgRect(h,y,l+g,f,v,d)},_getFillAttributes:function(h){var u=h&&typeof h=="string"?new t.Color(h):"";return!u||!u.getSource()||u.getAlpha()===1?'fill="'+h+'"':'opacity="'+u.getAlpha()+'" fill="'+u.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var u=0,l=0,f=0;f<h;f++)u+=this.getHeightOfLine(f);return l=this.getHeightOfLine(f),{lineTop:u,offset:(this._fontSizeMult-this._fontSizeFraction)*l/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var u=t.Object.prototype.getSvgStyles.call(this,h);return u+" white-space: pre;"}})}(),function(a){var s=a.fabric||(a.fabric={});s.Textbox=s.util.createClass(s.IText,s.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:s.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var u=0,l=0,f=0,c={},d=0;d<h.graphemeLines.length;d++)h.graphemeText[f]===`
`&&d>0?(l=0,f++,u++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[f])&&d>0&&(l++,f++),c[d]={line:u,offset:l},f+=h.graphemeLines[d].length,l+=h.graphemeLines[d].length;return c},styleHas:function(h,u){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[u];l&&(u=l.line)}return s.Text.prototype.styleHas.call(this,h,u)},isEmptyStyles:function(h){if(!this.styles)return!0;var u=0,l=h+1,f,c,d=!1,v=this._styleMap[h],g=this._styleMap[h+1];v&&(h=v.line,u=v.offset),g&&(l=g.line,d=l===h,f=g.offset),c=typeof h>"u"?this.styles:{line:this.styles[h]};for(var m in c)for(var y in c[m])if(y>=u&&(!d||y<f))for(var _ in c[m][y])return!1;return!0},_getStyleDeclaration:function(h,u){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[h];if(!l)return null;h=l.line,u=l.offset+u}return this.callSuper("_getStyleDeclaration",h,u)},_setStyleDeclaration:function(h,u,l){var f=this._styleMap[h];h=f.line,u=f.offset+u,this.styles[h][u]=l},_deleteStyleDeclaration:function(h,u){var l=this._styleMap[h];h=l.line,u=l.offset+u,delete this.styles[h][u]},_getLineStyle:function(h){var u=this._styleMap[h];return!!this.styles[u.line]},_setLineStyle:function(h){var u=this._styleMap[h];this.styles[u.line]={}},_wrapText:function(h,u){var l=[],f;for(this.isWrapping=!0,f=0;f<h.length;f++)l=l.concat(this._wrapLine(h[f],f,u));return this.isWrapping=!1,l},_measureWord:function(h,u,l){var f=0,c,d=!0;l=l||0;for(var v=0,g=h.length;v<g;v++){var m=this._getGraphemeBox(h[v],u,v+l,c,d);f+=m.kernedWidth,c=h[v]}return f},_wrapLine:function(h,u,l,G){var c=0,d=this.splitByGrapheme,v=[],g=[],m=d?s.util.string.graphemeSplit(h):h.split(this._wordJoiners),y="",_=0,b=d?"":" ",w=0,S=0,x=0,P=!0,B=this._getWidthOfCharSpacing(),G=G||0;m.length===0&&m.push([]),l-=G;for(var K=0;K<m.length;K++)y=d?m[K]:s.util.string.graphemeSplit(m[K]),w=this._measureWord(y,u,_),_+=y.length,c+=S+w-B,c>l&&!P?(v.push(g),g=[],c=w,P=!0):c+=B,!P&&!d&&g.push(b),g=g.concat(y),S=d?0:this._measureWord([b],u,_),_++,P=!1,w>x&&(x=w);return K&&v.push(g),x+G>this.dynamicMinWidth&&(this.dynamicMinWidth=x-B+G),v},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var u=s.Text.prototype._splitTextIntoLines.call(this,h),l=this._wrapText(u.lines,this.width),f=new Array(l.length),c=0;c<l.length;c++)f[c]=l[c].join("");return u.lines=f,u.graphemeLines=l,u},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var u in this._styleMap)this._textLines[u]&&(h[this._styleMap[u].line]=1);for(var u in this.styles)h[u]||delete this.styles[u]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),s.Textbox.fromObject=function(h,u){var l=s.util.stylesFromArray(h.styles,h.text),f=Object.assign({},h,{styles:l});return s.Object._fromObject("Textbox",f,u,"text")}}(e),function(){var a=t.controlsUtils,s=a.scaleSkewCursorStyleHandler,h=a.scaleCursorStyleHandler,u=a.scalingEqually,l=a.scalingYOrSkewingX,f=a.scalingXOrSkewingY,c=a.scaleOrSkewActionName,d=t.Object.prototype.controls;if(d.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:s,actionHandler:f,getActionName:c}),d.mr=new t.Control({x:.5,y:0,cursorStyleHandler:s,actionHandler:f,getActionName:c}),d.mb=new t.Control({x:0,y:.5,cursorStyleHandler:s,actionHandler:l,getActionName:c}),d.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:s,actionHandler:l,getActionName:c}),d.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:u}),d.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:u}),d.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:u}),d.br=new t.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:u}),d.mtr=new t.Control({x:0,y:-.5,actionHandler:a.rotationWithSnapping,cursorStyleHandler:a.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var v=t.Textbox.prototype.controls={};v.mtr=d.mtr,v.tr=d.tr,v.br=d.br,v.tl=d.tl,v.bl=d.bl,v.mt=d.mt,v.mb=d.mb,v.mr=new t.Control({x:.5,y:0,actionHandler:a.changeWidth,cursorStyleHandler:s,actionName:"resizing"}),v.ml=new t.Control({x:-.5,y:0,actionHandler:a.changeWidth,cursorStyleHandler:s,actionName:"resizing"})}}()})(Fe);class UK{canvas;workspaceEl;workspace;bgObject;option;handler;unitEnum;constructor(t){this.handler=t,this.canvas=t.canvas;const n=t.container;if(!n)throw new Error("element #workspace is missing, plz check!");this.workspaceEl=n,this.workspace=null,this.bgObject=null,this.option=t.workareaOption,this.initialize(),this.unitEnum={cm:37.9,mm:3.78,px:1}}initialize(){this._initBackground(),this._initWorkspace(),this._initResizeObserve()}_initBackground(){this.canvas.backgroundImage="",this.canvas.setWidth(this.workspaceEl.offsetWidth).setHeight(this.workspaceEl.offsetHeight)}_initWorkspace(){const t=new Fe.fabric.Rect(this.option);this.canvas.add(t),this.canvas.renderAll(),this.workspace=t,this.auto()}setCenterFromObject(t){const{canvas:n}=this,r=t.getCenterPoint(),i=n.viewportTransform;if(n.width===void 0||n.height===void 0||!i)return;const o=10;i[4]=n.width/2-r.x*i[0]+o,i[5]=n.height/2-r.y*i[3],n.setViewportTransform(i),n.renderAll()}_initResizeObserve(){new ResizeObserver(()=>{this.auto()}).observe(this.workspaceEl)}setSize(t,n){this._initBackground();const r=this.workspace?.unit||"px";this.option.width=t*this.unitEnum[r],this.option.height=n*this.unitEnum[r],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("width",this.option.width),this.workspace.set("height",this.option.height),this.auto()}getBili(){return this.option.width/this.option.height}setWidth(t){this._initBackground();const n=this.workspace?.unit||"px";this.option.width=t*this.unitEnum[n],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("width",t),this.auto()}setHeight(t){this._initBackground();const n=this.workspace?.unit||"px";this.option.height=t*this.unitEnum[n],this.workspace=this.handler.utils.findById("workarea"),this.workspace.set("height",t),this.auto()}setZoomAuto(t,n){const{workspaceEl:r}=this,i=r.offsetWidth,o=r.offsetHeight;this.canvas.setWidth(i),this.canvas.setHeight(o);const p=this.canvas.getCenter();if(this.canvas.setViewportTransform(Fe.fabric.iMatrix.concat()),this.canvas.zoomToPoint(new Fe.fabric.Point(p.left,p.top),t),!!this.workspace){if(this.setCenterFromObject(this.workspace),this.workspace.clone(a=>{this.canvas.clipPath=a,this.canvas.requestRenderAll()}),this.bgObject){const a=this._getBgPosition(this.bgObject);this.bgObject.set(a)}n&&n(this.workspace.left,this.workspace.top)}}unpdateUnit(t){this.workspace?.set("unit",t)}async setBgImage(t){const{src:n}=t||{},r=!1,i={editable:r,hasControls:r,hasBorders:r,selectable:r,lockMovementX:!r,lockMovementY:!r,lockScalingX:!r,lockScalingY:!r,hoverCursor:"default",name:"",type:"background",src:n},o=this.getBgObject();o&&o.src!==n&&this.handler.canvas.remove(o);const p=this._getBgPosition(t),a=Object.assign({},i,p);return this.bgObject=await this.handler.add(a,!1),this.bgObject&&(this.canvas.add(this.bgObject),this.canvas.sendToBack(this.bgObject),this.canvas.bringForward(this.bgObject)),this.canvas.requestRenderAll(),this.bgObject}getBgObject(){return this.handler.canvas.getObjects().find(t=>{if(t.type=="background")return t})}bgToImage(){if(this.bgObject){const n={editable:!0,hasControls:!0,hasBorders:!0,selectable:!0,lockMovementX:!1,lockMovementY:!1,lockScalingX:!1,lockScalingY:!1,hoverCursor:"default",name:"",type:"Image"};this.bgObject.set(n),this.canvas.renderAll(),console.log(this.canvas.getObjects()),this.handler.onSelect(this.bgObject),this.bgObject=null}}_getScale(){const t=this.workspaceEl.offsetWidth,n=this.workspaceEl.offsetHeight;return t/n<this.option.width/this.option.height?t/this.option.width:n/this.option.height}_getBgPosition(t){const{width:n,height:r}=this.workspace;let i=1;(n>t.width||r>t.height)&&(n/t.width>r/t.height?i=n/t.width:i=r/t.height);const o=t.height*i,a=-(t.width*i-n)/2,s=-(o-r)/2;return{left:a,top:s,scaleX:i,scaleY:i}}big(){let t=this.canvas.getZoom();t+=.05,this.setZoomAuto(t>5?5:t)}small(){let t=this.canvas.getZoom();t-=.05,this.setZoomAuto(t<0?.01:t)}auto(){const t=this._getScale();this.setZoomAuto(t-.08<.01?.01:t-.08)}one(){this.setZoomAuto(.8-.08),this.canvas.requestRenderAll()}getAutoScale(){return this._getScale()}}class VK{handler;constructor(t){this.handler=t}textbox({text:t,...n}){return n.fontSize=parseInt(n.fontSize),new Fe.fabric.Textbox(t,n)}FontCustom(t){return this.textbox(t)}gradient(t,n){t||(t=this.handler.canvas.getActiveObject());let r;if(n.type=="radial-gradient"){const{width:i,height:o}=t,a={r1:i>o?i/2:o/2,r2:0,x1:i/2,y1:o/2,x2:i/2,y2:o/2},s=n.colorStops.map(h=>{const u=Number(h.length.value)/100,[l,f,c,d]=h.value,v=`rgba(${l}, ${f}, ${c}, ${d})`;return{offset:u,color:v}});r=new Fe.fabric.Gradient({type:"radial",coords:a,colorStops:s})}else{const{x0:i,y0:o,x1:p,y1:a}=this.handler.utils.calculateGradientCoordinate(t.width,t.height,Number(n.orientation.value)),s=n.colorStops.map(h=>{const u=Number(h.length.value)/100,[l,f,c,d]=h.value,v=`rgba(${l}, ${f}, ${c}, ${d})`;return{offset:u,color:v}});r=new Fe.fabric.Gradient({type:"linear",gradientUnits:"pixels",coords:{x1:i,y1:o,x2:p,y2:a},colorStops:s})}t.set({fill:r,backgroundColor:n.gradientColor})}async Image(t){const n=this.handler.utils.getFileType(t.src)||this.handler.utils.getBase64ImageType(t.src);if(n=="svg")return t.type="svg",this.addSvg(t);if(n&&["jpg","png","jpeg"].includes(n))return this.addImage(t)}addSvg(t){return new Promise(n=>{const{src:r,path:i,...o}=t,{width:p}=this.handler.workareaHandler.option;if(r)r&&Fe.fabric.loadSVGFromURL(r,(a,s)=>{const h=Fe.fabric.util.groupSVGElements(a,s);if(h.width>p){const u=p/h.width;h.set({scaleX:u,scaleY:u})}h.set({crossOrigin:"Anonymous",src:r,...o}),n(h)});else{const a=new Fe.fabric.Path(i);n(a)}})}async addImage(t){const{src:n,...r}=t,{objectOption:i}=this.handler,o=new Image;o.crossOrigin="Anonymous";const{width:p}=this.handler.workareaHandler.workspace;if(r.width&&this.handler.workareaHandler&&this.handler.workareaHandler.workspace&&r.width>p&&!this.handler.isimporting){const s=p/r.width;r.scaleX=s,r.scaleY=s}const a=new Fe.fabric.Image(o,{clipPath:null,...JSON.parse(JSON.stringify(i)),...r});return a.crossOrigin="Anonymous",await this.handler.setImage(a,n),a}async background(t){return this.addImage(t)}}class WK{handler;constructor(t){this.handler=t}getFileType(t){if(!(!t||t.indexOf("base64")!=-1)){if(t=t.split("?")[0],t){const n=t.lastIndexOf(".");return t.substring(n+1)}return""}}getBase64ImageType(t){if(!t)return;const n=/data:image\/([a-zA-Z]*);/,r=t.match(n);return r&&r[1]?r[1]:"png"}uuid(){return dr()}find=t=>this.findById(t.id);findById=t=>{let n=null;return this.handler.canvas.getObjects().some(i=>i.id===t?(n=i,!0):!1)?n:null};dataURItoBlob(t){let n;t.split(",")[0].indexOf("base64")>=0?n=atob(t.split(",")[1]):n=unescape(t.split(",")[1]);const r=t.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([i],{type:r})}fileToBase64=async t=>new Promise(n=>{const r=new FileReader;r.readAsDataURL(t),r.onload=function(i){n(i.target.result)}});fileUpload=async(t,n,r)=>{const i=await this.handler.utils.fileToBase64(t);if(i){const o=new Image;o.src=i;const p={name:n,type:r,src:i};await new Promise(s=>{o.onload=()=>{p.width=o.width,p.height=o.height,s(!0)}});let a;return r=="background"?a=this.handler.workareaHandler.setBgImage(p):a=this.handler.add(p),a}};async download(t,n){const r=await this.dataURItoBlob(t),i=document.createElement("a"),p=(window.URL||window.webkitURL).createObjectURL(r);i.href=p,i.download=n||"vue-design-editor",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(p)}calculateGradientCoordinate(t,n,r=180){if(r>=360&&(r=r-360),r<0&&(r=r+360),r=Math.round(r),r===0)return{x0:Math.round(t/2),y0:n,x1:Math.round(t/2),y1:0};if(r===180)return{x0:Math.round(t/2),y0:0,x1:Math.round(t/2),y1:n};if(r===90)return{x0:0,y0:Math.round(n/2),x1:t,y1:Math.round(n/2)};if(r===270)return{x0:t,y0:Math.round(n/2),x1:0,y1:Math.round(n/2)};const i=Math.round(Math.asin(t/Math.sqrt(Math.pow(t,2)+Math.pow(n,2)))*180/Math.PI);if(r===i)return{x0:0,y0:n,x1:t,y1:0};if(r===180-i)return{x0:0,y0:0,x1:t,y1:n};if(r===180+i)return{x0:t,y0:0,x1:0,y1:n};if(r===360-i)return{x0:t,y0:n,x1:0,y1:0};let o=0,p=0,a=0,s=0;if(r<i||r>180-i&&r<180||r>180&&r<180+i||r>360-i){const h=r*Math.PI/180,u=r<i||r>360-i?n/2:-n/2,l=Math.tan(h)*u,f=r<i||r>180-i&&r<180?t/2-l:-t/2-l,c=Math.pow(Math.sin(h),2)*f;a=l+c,s=u+c/Math.tan(h),o=-a,p=-s}if(r>i&&r<90||r>90&&r<180-i||r>180+i&&r<270||r>270&&r<360-i){const h=(90-r)*Math.PI/180,u=r>i&&r<90||r>90&&r<180-i?t/2:-t/2,l=Math.tan(h)*u,f=r>i&&r<90||r>270&&r<360-i?n/2-l:-n/2-l,c=Math.pow(Math.sin(h),2)*f;a=u+c/Math.tan(h),s=l+c,o=-a,p=-s}return o=Math.round(o+t/2),p=Math.round(n/2-p),a=Math.round(a+t/2),s=Math.round(n/2-s),{x0:o,y0:p,x1:a,y1:s}}}class YK{handler;constructor(t){this.handler=t}}const GK="/vue-design-editor/assets/middlecontrol-a163c615.svg",XK="/vue-design-editor/assets/middlecontrolhoz-9b7cc4b3.svg",KK="/vue-design-editor/assets/edgecontrol-dbe38ac6.svg",qK="/vue-design-editor/assets/rotateicon-ec6729f2.svg";Fe.fabric.Object.NUM_FRACTION_DIGITS=4;function gc(e,t,n,r,i,o,p){p!==void 0&&(e.save(),e.translate(t,n),e.rotate(Fe.fabric.util.degreesToRadians(p)),e.drawImage(r,-i/2,-o/2,i,o),e.restore())}function JK(){const e=document.createElement("img");e.src=GK;const t=document.createElement("img");t.src=XK;function n(i,o,p,a,s){gc(i,o,p,e,20,25,s.angle)}function r(i,o,p,a,s){gc(i,o,p,t,25,20,s.angle)}Fe.fabric.Object.prototype.controls.ml=new Fe.fabric.Control({x:-.5,y:0,offsetX:-1,cursorStyleHandler:Fe.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Fe.fabric.controlsUtils.scalingXOrSkewingY,getActionName:Fe.fabric.controlsUtils.scaleOrSkewActionName,render:n}),Fe.fabric.Object.prototype.controls.mr=new Fe.fabric.Control({x:.5,y:0,offsetX:1,cursorStyleHandler:Fe.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Fe.fabric.controlsUtils.scalingXOrSkewingY,getActionName:Fe.fabric.controlsUtils.scaleOrSkewActionName,render:n}),Fe.fabric.Object.prototype.controls.mb=new Fe.fabric.Control({x:0,y:.5,offsetY:1,cursorStyleHandler:Fe.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Fe.fabric.controlsUtils.scalingYOrSkewingX,getActionName:Fe.fabric.controlsUtils.scaleOrSkewActionName,render:r}),Fe.fabric.Object.prototype.controls.mt=new Fe.fabric.Control({x:0,y:-.5,offsetY:-1,cursorStyleHandler:Fe.fabric.controlsUtils.scaleSkewCursorStyleHandler,actionHandler:Fe.fabric.controlsUtils.scalingYOrSkewingX,getActionName:Fe.fabric.controlsUtils.scaleOrSkewActionName,render:r})}function ZK(){const e=document.createElement("img");e.src=KK;function t(n,r,i,o,p){gc(n,r,i,e,25,25,p.angle)}Fe.fabric.Object.prototype.controls.tl=new Fe.fabric.Control({x:-.5,y:-.5,cursorStyleHandler:Fe.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Fe.fabric.controlsUtils.scalingEqually,render:t}),Fe.fabric.Object.prototype.controls.bl=new Fe.fabric.Control({x:-.5,y:.5,cursorStyleHandler:Fe.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Fe.fabric.controlsUtils.scalingEqually,render:t}),Fe.fabric.Object.prototype.controls.tr=new Fe.fabric.Control({x:.5,y:-.5,cursorStyleHandler:Fe.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Fe.fabric.controlsUtils.scalingEqually,render:t}),Fe.fabric.Object.prototype.controls.br=new Fe.fabric.Control({x:.5,y:.5,cursorStyleHandler:Fe.fabric.controlsUtils.scaleCursorStyleHandler,actionHandler:Fe.fabric.controlsUtils.scalingEqually,render:t})}function QK(){const e=document.createElement("img");e.src=qK;function t(n,r,i,o,p){gc(n,r,i,e,40,40,p.angle)}Fe.fabric.Object.prototype.controls.mtr=new Fe.fabric.Control({x:0,y:.5,cursorStyleHandler:Fe.fabric.controlsUtils.rotationStyleHandler,actionHandler:Fe.fabric.controlsUtils.rotationWithSnapping,offsetY:30,actionName:"rotate",render:t})}class eq{constructor(){this.init()}init(){ZK(),JK(),QK(),Fe.fabric.Object.prototype.set({transparentCorners:!1,borderColor:"#51B9F9",cornerColor:"#FFF",borderScaleFactor:2.5,cornerStyle:"circle",cornerStrokeColor:"#0E98FC",borderOpacityWhenMoving:1}),Fe.fabric.Textbox.prototype.controls=Fe.fabric.Object.prototype.controls}destroy(){console.log("pluginDestroy")}}const tq={trigger:"color",width:260,height:641,lockScalingX:!0,lockScalingY:!0,scaleX:1,scaleY:1,fill:"#fff",hasBorders:!1,hasControls:!1,selectable:!1,lockMovementX:!0,lockMovementY:!0,hoverCursor:"default",name:"",id:"workarea",unit:"px",isElement:!1},nq={rotation:0,centeredRotation:!0,strokeUniform:!0,hoverCursor:"pointer",visible:!0},rq=["id","name","src","backgroundColor","type"];class iq{workareaOption;workareaHandler;fabricObjects;utils;imageHandler;objectOption=nq;control;propertiesToInclude=rq;isimporting=!1;canvas;onAdd;onSelect;init;editable;container;constructor(t){this.workareaOption=t.workareaOption,this.canvas=t.canvas,this.container=t.container,this.editable=t.editable,this.onAdd=t.onAdd,this.init=t.init,this.onSelect=t.onSelect,this.workareaHandler=new UK(this),this.fabricObjects=new VK(this),this.utils=new WK(this),this.imageHandler=new YK(this),this.control=new eq,this.initialize(t)}async initialize(t){const{init:n}=this;this.initOption(t),n&&n()}initOption=t=>{this.setObjectOption(t.objectOption)};setObjectOption=t=>{this.objectOption=Object.assign({},this.objectOption,t)};select=(t,n=!1)=>{let r=t;n&&(r=this.utils.find(t)),r&&(this.canvas.discardActiveObject(),this.canvas.setActiveObject(r),this.canvas.requestRenderAll(),this.onSelect(r))};cancelSelect=(t,n=this.canvas)=>{(t||n.getActiveObject())&&(n.discardActiveObject(),n.renderAll(),this.onSelect(null))};setImage=(t,n)=>new Promise(r=>{if(this.canvas.contextTop)if(n instanceof File){const i=new FileReader;i.onload=()=>{t.set("file",n),t.set("src",null),t.setSrc(i.result,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0})},i.readAsDataURL(n)}else t.set("file",null),t.set("src",n),t.setSrc(n,()=>{this.canvas.contextTop&&(this.canvas.renderAll(),r(t))},{dirty:!0,crossOrigin:"Anonymous"})});bringToFront(t){const n=t||this.canvas.getActiveObject();n&&this.canvas.bringToFront(n)}bringForward(t){const n=t||this.canvas.getActiveObject();n&&this.canvas.bringForward(n)}sendToBack(t){const n=t||this.canvas.getActiveObject();if(n){let r=!1;this.canvas.getObjects().find(i=>{if(i.type=="background")return r=!0,i}),this.canvas.sendToBack(n),this.canvas.sendToBack(this.canvas.getObjects()[1]),console.log(this.canvas.getObjects()),r&&n.type!="background"&&this.bringForward(n)}}sendBackwards(t){const n=t||this.canvas.getActiveObject();if(n){if(this.canvas.getObjects()[1].id===n.id)return;this.canvas.sendBackwards(n)}}set=async(t,n)=>{const r=t||this.canvas.getActiveObject()||this.workareaHandler.workspace,i=Object.keys(n)[0],o=n[i];i=="gradient"?this.fabricObjects[i](r,o):r.set(i,o),r.setCoords(),this.canvas.renderAll(),this.onSelect(r)};remove=t=>{const n=t||this.canvas.getActiveObject();this.canvas.remove(n),this.canvas.requestRenderAll(),n.dispose&&n.dispose(),this.onSelect(null)};exportJSON=()=>this.canvas.toObject(this.propertiesToInclude).objects;exportImage=(t,n=100)=>{t=="jpg"&&(t="jpeg");const r=this.canvas.viewportTransform||[];this.canvas.setViewportTransform([1,0,0,1,0,0]);const{width:i,height:o,left:p,top:a}=this.workareaHandler.workspace,s=this.canvas.toDataURL({format:t||"png",quality:n/100||1,width:i,height:o,left:p,top:a});return this.canvas.setViewportTransform(r),s};isEmptyCanvas(){const t=this.exportJSON().filter(n=>{if(n.id!="workarea"||n.id=="workarea"&&n.fill!="#fff")return n});return t&&Array.isArray(t)?t.length>1?!1:t.length==1?t[0].backgroundColor=="rgba(0,0,0,0)":!0:!0}importGroup=async(t,n=!1,r)=>{const i=t.objects;if(!Array.isArray(i))return[];const o=[];for(let p=0;p<i.length;p++)if(i[p])if(i[p].type=="group"){const a=await this.importGroup(i[p],!1,r);n&&(delete i[p].objects,delete i[p].width,delete i[p].height);const{editable:s}=this,h={editable:s,locked:s,hasControls:s,hasBorders:s,selectable:s,lockMovementX:!s,lockMovementY:!s},u=new fabric.Group(a,{...i[p],...h,...JSON.parse(JSON.stringify(this.objectOption))});u.id||(u.id=dr()),o.push(u)}else if(n&&(delete i[p].width,delete i[p].height),i[p].id||(i[p].id=dr()),r&&r.id==i[p].id)r.left=i[p].left,r.top=i[p].top,o.push(r);else{const a=await this.add(i[p],!1);o.push(a)}return o};toGroup=t=>{const n=t||this.canvas.getActiveObject();if(!n||n.type!=="activeSelection")return null;const r=n.toGroup();return r.set({id:dr(),name:"New group",type:"group",...this.objectOption}),this.onSelect&&this.onSelect(r),this.canvas.renderAll(),console.log(JSON.stringify(this.canvas.getObjects())),r};nogroup=t=>{const n=t||this.canvas.getActiveObject();if(!n||n.type!=="group")return;const r=n.toActiveSelection();return this.onSelect&&this.onSelect(r),this.canvas.renderAll(),r};importGroupJSON=async t=>{const n=await this.importGroup(t);delete t.objects;const{editable:r}=this,i={editable:r,locked:!r,hasControls:r,hasBorders:r,selectable:r,lockMovementX:!r,lockMovementY:!r};if(delete t.width,delete t.height,t.name=="")debugger;const o=new fabric.Group(n,{...i,...JSON.parse(JSON.stringify(this.objectOption)),...t});o.id||(o.id=dr()),this.canvas.contextTop&&(this.canvas.add(o),this.canvas.renderAll())};importJSON=async t=>{if(console.log("json",t),!!this.canvas.contextTop){this.isimporting=!0;try{this.isEmptyCanvas()||this.canvas.clear(),typeof t=="string"&&(t=JSON.parse(t));const n=t.find(r=>r.id=="workarea");n&&this.workareaHandler.workspace?this.workareaHandler.setSize(n.width,n.height):(this.workareaHandler.initialize(),this.workareaHandler.setSize(n.width,n.height));for(let r=0;r<t.length;r++){const i=t[r];if(i.id!="workarea"){if(i.id=="background"){await this.workareaHandler.setBgImage(i);continue}else if(i.type=="group"){await this.importGroupJSON(i);continue}i.id||(i.id=dr()),await this.add(i,!0)}}this.canvas.renderAll()}catch(n){console.error(n)}this.isimporting=!1,this.cancelSelect(),console.log(this.canvas.getObjects())}};add=async(t,n=!0)=>{const{editable:r}=this,o=Object.assign({},{editable:r,hasControls:r,hasBorders:r,selectable:r,lockMovementX:!r,lockMovementY:!r},JSON.parse(JSON.stringify(this.objectOption)),t,{container:this.container});let p;t.type=="material"&&(t.type="Image");try{p=this.fabricObjects[t.type](o)}catch(a){console.error(a);return}if(Lw.isPromise(p)){const a=await p;if(!n)return a;p=this.addContent(a,n)}else if(p){if(!n)return p;p=this.addContent(p,n)}return p};addContent(t,n){const{onAdd:r}=this;return t&&(t.id||(t.id=this.utils.uuid()),n&&this.canvas.add(t),r&&r(t)),this.canvas.renderAll(),t}}const My=12,sq={props:{workareaOption:{type:Object,default:()=>({})},editable:{type:Boolean,default:!0},objectOption:{type:Object,default:()=>({})},onAdd:{type:Function},onSelect:{type:Function},init:{type:Function}},setup(e){const t=pe(dr());let n;const r=pe(),i=pe();return lt(()=>{const{offsetWidth:o,offsetHeight:p}=r.value.parentElement.parentElement,a=Object.assign({height:p-My,width:o-My,fireRightClick:!0,stopContextMenu:!0,enableRetinaScaling:!0,controlsAboveOverlay:!0,preserveObjectStacking:!0});n=new Fe.fabric.Canvas(`canvas_${t.value}`,a),n.renderAll(),i.value=new iq({id:t.value,canvas:n,container:r.value,...e}),n.selectionColor="rgba(196,235,255,0.3)",n.selectionBorderColor="#6ccfff",n.selectionLineWidth=1}),{id:t,parentCanvas:r,handler:i}}},oq=["id"],aq=["id"];function lq(e,t,n,r,i,o){return z(),ie("div",{style:{width:"100%",height:"100%"},ref:"parentCanvas",class:"parentCanvas",id:r.id},[N("canvas",{id:`canvas_${r.id}`},null,8,aq)],8,oq)}const cq=At(sq,[["render",lq]]);var uq=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const fq={name:"AtomSpinner",props:{animationDuration:{type:Number,default:1e3},size:{type:Number,default:60},color:{type:String,default:"#fff"}},computed:{spinnerStyle(){return{height:`${this.size}px`,width:`${this.size}px`}},circleStyle(){return{color:this.color,fontSize:`${this.size*.24}px`}},lineStyle(){return{animationDuration:`${this.animationDuration}ms`,borderLeftWidth:`${this.size/25}px`,borderTopWidth:`${this.size/25}px`,borderLeftColor:this.color}}}},hq={class:"spinner-inner"};function dq(e,t,n,r,i,o){return z(),ie("div",{class:"atom-spinner",style:je(o.spinnerStyle)},[N("div",hq,[N("div",{class:"spinner-line",style:je(o.lineStyle)},null,4),N("div",{class:"spinner-line",style:je(o.lineStyle)},null,4),N("div",{class:"spinner-line",style:je(o.lineStyle)},null,4),N("div",{class:"spinner-circle",style:je(o.circleStyle)},"",4)])],4)}var pq=uq(fq,[["render",dq]]);const gq={__name:"editor",setup(e){const{dispatch:t,state:n,commit:r}=Xi(),i=pe(),o=pe(),p=pe(),a=pe({filters:[]}),s=pe();yt("handler",o),yt("canvas",s);const h=ne(()=>n.loadOk);let u;const l=new Promise(y=>{u=y});Me(h,async y=>{y&&(await ct(),p.value.$el.addEventListener("drop",f,!1),o.value=i.value?.handler,s.value=o.value.canvas,u())}),lt(async()=>{t("getMaterial")});function f(y){if(y.dataTransfer.getData("item")){let _=JSON.parse(y.dataTransfer.getData("item"));const{layerX:b,layerY:w}=y,S=o.value.canvas.restorePointerVpt({x:b,y:w}),x={option:{name:_.templateName,type:_.type,data:_,src:_.url||_.src,left:S.x,top:S.y}};_.width&&_.height&&(x.option.width=_.width,x.option.height=_.height);let P=Object.assign({},x);c(P)}}function c(y){const _=dr(),b=Object.assign({},y.option,{id:_});o.value.add(b)}function d(y){r("setActivateItem",y),o.value.select(y)}function v(y){if(y&&y.id){r("setActivateItem",y);return}r("setActivateItem",null)}async function g(){await l,r("setWorkarea",o.value?.workareaHandler.workspace),await ct(),p.value.initRuleRange()}function m(y,_){o.value.set(y,_)}return(y,_)=>(z(),Oe(b8,null,{header:Ce(()=>[ye(NK)]),module:Ce(()=>[ut(ye(E8,{onModule:y.selectedModule,onAddItem:c},null,8,["onModule"]),[[_t,h.value]])]),left:Ce(()=>[ye(_6)]),workspace:Ce(()=>[h.value?(z(),Oe(nz,{key:0,ref_key:"workspace",ref:p},{canvas:Ce(()=>[ye(cq,{workareaOption:E(tq),ref_key:"canvasRef",ref:i,objectOption:a.value,onAdd:d,init:g,onSelect:v},null,8,["workareaOption","objectOption"])]),_:1},512)):(z(),Oe(E(pq),{key:1,"animation-duration":1e3,size:60,color:"#2254f4",class:"spinner"}))]),propsPanel:Ce(()=>[ye(cG,{onChange:m})]),_:1}))}},vq=At(gq,[["__scopeId","data-v-2ff4c926"]]),mq=[{path:"/",name:"home",component:vq}],yq=uE({history:ET(),routes:mq});function WC(e,t){return function(){return e.apply(t,arguments)}}const{toString:_q}=Object.prototype,{getPrototypeOf:pg}=Object,cu=(e=>t=>{const n=_q.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Er=e=>(e=e.toLowerCase(),t=>cu(t)===e),uu=e=>t=>typeof t===e,{isArray:vo}=Array,ka=uu("undefined");function bq(e){return e!==null&&!ka(e)&&e.constructor!==null&&!ka(e.constructor)&&Bn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const YC=Er("ArrayBuffer");function wq(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&YC(e.buffer),t}const Cq=uu("string"),Bn=uu("function"),GC=uu("number"),fu=e=>e!==null&&typeof e=="object",Sq=e=>e===!0||e===!1,Al=e=>{if(cu(e)!=="object")return!1;const t=pg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xq=Er("Date"),Tq=Er("File"),Eq=Er("Blob"),Oq=Er("FileList"),kq=e=>fu(e)&&Bn(e.pipe),Pq=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Bn(e.append)&&((t=cu(e))==="formdata"||t==="object"&&Bn(e.toString)&&e.toString()==="[object FormData]"))},Aq=Er("URLSearchParams"),Iq=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ya(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),vo(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),p=o.length;let a;for(r=0;r<p;r++)a=o[r],t.call(null,e[a],a,e)}}function XC(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const KC=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),qC=e=>!ka(e)&&e!==KC;function $h(){const{caseless:e}=qC(this)&&this||{},t={},n=(r,i)=>{const o=e&&XC(t,i)||i;Al(t[o])&&Al(r)?t[o]=$h(t[o],r):Al(r)?t[o]=$h({},r):vo(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ya(arguments[r],n);return t}const Rq=(e,t,n,{allOwnKeys:r}={})=>(Ya(t,(i,o)=>{n&&Bn(i)?e[o]=WC(i,n):e[o]=i},{allOwnKeys:r}),e),Mq=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Dq=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Fq=(e,t,n,r)=>{let i,o,p;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)p=i[o],(!r||r(p,e,t))&&!a[p]&&(t[p]=e[p],a[p]=!0);e=n!==!1&&pg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Lq=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Bq=e=>{if(!e)return null;if(vo(e))return e;let t=e.length;if(!GC(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},$q=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&pg(Uint8Array)),jq=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},Nq=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},zq=Er("HTMLFormElement"),Hq=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Dy=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Uq=Er("RegExp"),JC=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ya(n,(i,o)=>{let p;(p=t(i,o,e))!==!1&&(r[o]=p||i)}),Object.defineProperties(e,r)},Vq=e=>{JC(e,(t,n)=>{if(Bn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Bn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Wq=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return vo(e)?r(e):r(String(e).split(t)),n},Yq=()=>{},Gq=(e,t)=>(e=+e,Number.isFinite(e)?e:t),xf="abcdefghijklmnopqrstuvwxyz",Fy="0123456789",ZC={DIGIT:Fy,ALPHA:xf,ALPHA_DIGIT:xf+xf.toUpperCase()+Fy},Xq=(e=16,t=ZC.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Kq(e){return!!(e&&Bn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const qq=e=>{const t=new Array(10),n=(r,i)=>{if(fu(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=vo(r)?[]:{};return Ya(r,(p,a)=>{const s=n(p,i+1);!ka(s)&&(o[a]=s)}),t[i]=void 0,o}}return r};return n(e,0)},Jq=Er("AsyncFunction"),Zq=e=>e&&(fu(e)||Bn(e))&&Bn(e.then)&&Bn(e.catch),Se={isArray:vo,isArrayBuffer:YC,isBuffer:bq,isFormData:Pq,isArrayBufferView:wq,isString:Cq,isNumber:GC,isBoolean:Sq,isObject:fu,isPlainObject:Al,isUndefined:ka,isDate:xq,isFile:Tq,isBlob:Eq,isRegExp:Uq,isFunction:Bn,isStream:kq,isURLSearchParams:Aq,isTypedArray:$q,isFileList:Oq,forEach:Ya,merge:$h,extend:Rq,trim:Iq,stripBOM:Mq,inherits:Dq,toFlatObject:Fq,kindOf:cu,kindOfTest:Er,endsWith:Lq,toArray:Bq,forEachEntry:jq,matchAll:Nq,isHTMLForm:zq,hasOwnProperty:Dy,hasOwnProp:Dy,reduceDescriptors:JC,freezeMethods:Vq,toObjectSet:Wq,toCamelCase:Hq,noop:Yq,toFiniteNumber:Gq,findKey:XC,global:KC,isContextDefined:qC,ALPHABET:ZC,generateString:Xq,isSpecCompliantForm:Kq,toJSONObject:qq,isAsyncFn:Jq,isThenable:Zq};function Je(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Se.inherits(Je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Se.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const QC=Je.prototype,eS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{eS[e]={value:e}});Object.defineProperties(Je,eS);Object.defineProperty(QC,"isAxiosError",{value:!0});Je.from=(e,t,n,r,i,o)=>{const p=Object.create(QC);return Se.toFlatObject(e,p,function(s){return s!==Error.prototype},a=>a!=="isAxiosError"),Je.call(p,e.message,t,n,r,i),p.cause=e,p.name=e.name,o&&Object.assign(p,o),p};const Qq=null;function jh(e){return Se.isPlainObject(e)||Se.isArray(e)}function tS(e){return Se.endsWith(e,"[]")?e.slice(0,-2):e}function Ly(e,t,n){return e?e.concat(t).map(function(i,o){return i=tS(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function eJ(e){return Se.isArray(e)&&!e.some(jh)}const tJ=Se.toFlatObject(Se,{},null,function(t){return/^is[A-Z]/.test(t)});function hu(e,t,n){if(!Se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Se.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!Se.isUndefined(g[v])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,p=n.indexes,s=(n.Blob||typeof Blob<"u"&&Blob)&&Se.isSpecCompliantForm(t);if(!Se.isFunction(i))throw new TypeError("visitor must be a function");function h(d){if(d===null)return"";if(Se.isDate(d))return d.toISOString();if(!s&&Se.isBlob(d))throw new Je("Blob is not supported. Use a Buffer instead.");return Se.isArrayBuffer(d)||Se.isTypedArray(d)?s&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,v,g){let m=d;if(d&&!g&&typeof d=="object"){if(Se.endsWith(v,"{}"))v=r?v:v.slice(0,-2),d=JSON.stringify(d);else if(Se.isArray(d)&&eJ(d)||(Se.isFileList(d)||Se.endsWith(v,"[]"))&&(m=Se.toArray(d)))return v=tS(v),m.forEach(function(_,b){!(Se.isUndefined(_)||_===null)&&t.append(p===!0?Ly([v],b,o):p===null?v:v+"[]",h(_))}),!1}return jh(d)?!0:(t.append(Ly(g,v,o),h(d)),!1)}const l=[],f=Object.assign(tJ,{defaultVisitor:u,convertValue:h,isVisitable:jh});function c(d,v){if(!Se.isUndefined(d)){if(l.indexOf(d)!==-1)throw Error("Circular reference detected in "+v.join("."));l.push(d),Se.forEach(d,function(m,y){(!(Se.isUndefined(m)||m===null)&&i.call(t,m,Se.isString(y)?y.trim():y,v,f))===!0&&c(m,v?v.concat(y):[y])}),l.pop()}}if(!Se.isObject(e))throw new TypeError("data must be an object");return c(e),t}function By(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function gg(e,t){this._pairs=[],e&&hu(e,this,t)}const nS=gg.prototype;nS.append=function(t,n){this._pairs.push([t,n])};nS.toString=function(t){const n=t?function(r){return t.call(this,r,By)}:By;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function nJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rS(e,t,n){if(!t)return e;const r=n&&n.encode||nJ,i=n&&n.serialize;let o;if(i?o=i(t,n):o=Se.isURLSearchParams(t)?t.toString():new gg(t,n).toString(r),o){const p=e.indexOf("#");p!==-1&&(e=e.slice(0,p)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class rJ{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Se.forEach(this.handlers,function(r){r!==null&&t(r)})}}const $y=rJ,iS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iJ=typeof URLSearchParams<"u"?URLSearchParams:gg,sJ=typeof FormData<"u"?FormData:null,oJ=typeof Blob<"u"?Blob:null,aJ={isBrowser:!0,classes:{URLSearchParams:iJ,FormData:sJ,Blob:oJ},protocols:["http","https","file","blob","url","data"]},sS=typeof window<"u"&&typeof document<"u",lJ=(e=>sS&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),cJ=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),uJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sS,hasStandardBrowserEnv:lJ,hasStandardBrowserWebWorkerEnv:cJ},Symbol.toStringTag,{value:"Module"})),gr={...uJ,...aJ};function fJ(e,t){return hu(e,new gr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return gr.isNode&&Se.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function hJ(e){return Se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function dJ(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function oS(e){function t(n,r,i,o){let p=n[o++];const a=Number.isFinite(+p),s=o>=n.length;return p=!p&&Se.isArray(i)?i.length:p,s?(Se.hasOwnProp(i,p)?i[p]=[i[p],r]:i[p]=r,!a):((!i[p]||!Se.isObject(i[p]))&&(i[p]=[]),t(n,r,i[p],o)&&Se.isArray(i[p])&&(i[p]=dJ(i[p])),!a)}if(Se.isFormData(e)&&Se.isFunction(e.entries)){const n={};return Se.forEachEntry(e,(r,i)=>{t(hJ(r),i,n,0)}),n}return null}function pJ(e,t,n){if(Se.isString(e))try{return(t||JSON.parse)(e),Se.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const vg={transitional:iS,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Se.isObject(t);if(o&&Se.isHTMLForm(t)&&(t=new FormData(t)),Se.isFormData(t))return i&&i?JSON.stringify(oS(t)):t;if(Se.isArrayBuffer(t)||Se.isBuffer(t)||Se.isStream(t)||Se.isFile(t)||Se.isBlob(t))return t;if(Se.isArrayBufferView(t))return t.buffer;if(Se.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return fJ(t,this.formSerializer).toString();if((a=Se.isFileList(t))||r.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return hu(a?{"files[]":t}:t,s&&new s,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),pJ(t)):t}],transformResponse:[function(t){const n=this.transitional||vg.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&Se.isString(t)&&(r&&!this.responseType||i)){const p=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(p)throw a.name==="SyntaxError"?Je.from(a,Je.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gr.classes.FormData,Blob:gr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Se.forEach(["delete","get","head","post","put","patch"],e=>{vg.headers[e]={}});const mg=vg,gJ=Se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vJ=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(p){i=p.indexOf(":"),n=p.substring(0,i).trim().toLowerCase(),r=p.substring(i+1).trim(),!(!n||t[n]&&gJ[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},jy=Symbol("internals");function Po(e){return e&&String(e).trim().toLowerCase()}function Il(e){return e===!1||e==null?e:Se.isArray(e)?e.map(Il):String(e)}function mJ(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const yJ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Tf(e,t,n,r,i){if(Se.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Se.isString(t)){if(Se.isString(r))return t.indexOf(r)!==-1;if(Se.isRegExp(r))return r.test(t)}}function _J(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function bJ(e,t){const n=Se.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,p){return this[r].call(this,t,i,o,p)},configurable:!0})})}class du{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(a,s,h){const u=Po(s);if(!u)throw new Error("header name must be a non-empty string");const l=Se.findKey(i,u);(!l||i[l]===void 0||h===!0||h===void 0&&i[l]!==!1)&&(i[l||s]=Il(a))}const p=(a,s)=>Se.forEach(a,(h,u)=>o(h,u,s));return Se.isPlainObject(t)||t instanceof this.constructor?p(t,n):Se.isString(t)&&(t=t.trim())&&!yJ(t)?p(vJ(t),n):t!=null&&o(n,t,r),this}get(t,n){if(t=Po(t),t){const r=Se.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return mJ(i);if(Se.isFunction(n))return n.call(this,i,r);if(Se.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Po(t),t){const r=Se.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Tf(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(p){if(p=Po(p),p){const a=Se.findKey(r,p);a&&(!n||Tf(r,r[a],a,n))&&(delete r[a],i=!0)}}return Se.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||Tf(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return Se.forEach(this,(i,o)=>{const p=Se.findKey(r,o);if(p){n[p]=Il(i),delete n[o];return}const a=t?_J(o):String(o).trim();a!==o&&delete n[o],n[a]=Il(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Se.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Se.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[jy]=this[jy]={accessors:{}}).accessors,i=this.prototype;function o(p){const a=Po(p);r[a]||(bJ(i,p),r[a]=!0)}return Se.isArray(t)?t.forEach(o):o(t),this}}du.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Se.reduceDescriptors(du.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Se.freezeMethods(du);const Nr=du;function Ef(e,t){const n=this||mg,r=t||n,i=Nr.from(r.headers);let o=r.data;return Se.forEach(e,function(a){o=a.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function aS(e){return!!(e&&e.__CANCEL__)}function Ga(e,t,n){Je.call(this,e??"canceled",Je.ERR_CANCELED,t,n),this.name="CanceledError"}Se.inherits(Ga,Je,{__CANCEL__:!0});function wJ(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Je("Request failed with status code "+n.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const CJ=gr.hasStandardBrowserEnv?function(){return{write:function(n,r,i,o,p,a){const s=[];s.push(n+"="+encodeURIComponent(r)),Se.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),Se.isString(o)&&s.push("path="+o),Se.isString(p)&&s.push("domain="+p),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function SJ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xJ(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function lS(e,t){return e&&!SJ(t)?xJ(e,t):t}const TJ=gr.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let p=o;return t&&(n.setAttribute("href",p),p=n.href),n.setAttribute("href",p),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(p){const a=Se.isString(p)?i(p):p;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function EJ(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function OJ(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,p;return t=t!==void 0?t:1e3,function(s){const h=Date.now(),u=r[o];p||(p=h),n[i]=s,r[i]=h;let l=o,f=0;for(;l!==i;)f+=n[l++],l=l%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),h-p<t)return;const c=u&&h-u;return c?Math.round(f*1e3/c):void 0}}function Ny(e,t){let n=0;const r=OJ(50,250);return i=>{const o=i.loaded,p=i.lengthComputable?i.total:void 0,a=o-n,s=r(a),h=o<=p;n=o;const u={loaded:o,total:p,progress:p?o/p:void 0,bytes:a,rate:s||void 0,estimated:s&&p&&h?(p-o)/s:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}const kJ=typeof XMLHttpRequest<"u",PJ=kJ&&function(e){return new Promise(function(n,r){let i=e.data;const o=Nr.from(e.headers).normalize(),p=e.responseType;let a;function s(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}let h;if(Se.isFormData(i)){if(gr.hasStandardBrowserEnv||gr.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((h=o.getContentType())!==!1){const[d,...v]=h?h.split(";").map(g=>g.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...v].join("; "))}}let u=new XMLHttpRequest;if(e.auth){const d=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(d+":"+v))}const l=lS(e.baseURL,e.url);u.open(e.method.toUpperCase(),rS(l,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function f(){if(!u)return;const d=Nr.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),g={data:!p||p==="text"||p==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:d,config:e,request:u};wJ(function(y){n(y),s()},function(y){r(y),s()},g),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(r(new Je("Request aborted",Je.ECONNABORTED,e,u)),u=null)},u.onerror=function(){r(new Je("Network Error",Je.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let v=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const g=e.transitional||iS;e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),r(new Je(v,g.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,e,u)),u=null},gr.hasStandardBrowserEnv){const d=TJ(l)&&e.xsrfCookieName&&CJ.read(e.xsrfCookieName);d&&o.set(e.xsrfHeaderName,d)}i===void 0&&o.setContentType(null),"setRequestHeader"in u&&Se.forEach(o.toJSON(),function(v,g){u.setRequestHeader(g,v)}),Se.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),p&&p!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",Ny(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Ny(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=d=>{u&&(r(!d||d.type?new Ga(null,e,u):d),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const c=EJ(l);if(c&&gr.protocols.indexOf(c)===-1){r(new Je("Unsupported protocol "+c+":",Je.ERR_BAD_REQUEST,e));return}u.send(i||null)})},Nh={http:Qq,xhr:PJ};Se.forEach(Nh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const zy=e=>`- ${e}`,AJ=e=>Se.isFunction(e)||e===null||e===!1,cS={getAdapter:e=>{e=Se.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let p;if(r=n,!AJ(n)&&(r=Nh[(p=String(n)).toLowerCase()],r===void 0))throw new Je(`Unknown adapter '${p}'`);if(r)break;i[p||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,s])=>`adapter ${a} `+(s===!1?"is not supported by the environment":"is not available in the build"));let p=t?o.length>1?`since :
`+o.map(zy).join(`
`):" "+zy(o[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return r},adapters:Nh};function Of(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ga(null,e)}function Hy(e){return Of(e),e.headers=Nr.from(e.headers),e.data=Ef.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),cS.getAdapter(e.adapter||mg.adapter)(e).then(function(r){return Of(e),r.data=Ef.call(e,e.transformResponse,r),r.headers=Nr.from(r.headers),r},function(r){return aS(r)||(Of(e),r&&r.response&&(r.response.data=Ef.call(e,e.transformResponse,r.response),r.response.headers=Nr.from(r.response.headers))),Promise.reject(r)})}const Uy=e=>e instanceof Nr?e.toJSON():e;function to(e,t){t=t||{};const n={};function r(h,u,l){return Se.isPlainObject(h)&&Se.isPlainObject(u)?Se.merge.call({caseless:l},h,u):Se.isPlainObject(u)?Se.merge({},u):Se.isArray(u)?u.slice():u}function i(h,u,l){if(Se.isUndefined(u)){if(!Se.isUndefined(h))return r(void 0,h,l)}else return r(h,u,l)}function o(h,u){if(!Se.isUndefined(u))return r(void 0,u)}function p(h,u){if(Se.isUndefined(u)){if(!Se.isUndefined(h))return r(void 0,h)}else return r(void 0,u)}function a(h,u,l){if(l in t)return r(h,u);if(l in e)return r(void 0,h)}const s={url:o,method:o,data:o,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:a,headers:(h,u)=>i(Uy(h),Uy(u),!0)};return Se.forEach(Object.keys(Object.assign({},e,t)),function(u){const l=s[u]||i,f=l(e[u],t[u],u);Se.isUndefined(f)&&l!==a||(n[u]=f)}),n}const uS="1.6.1",yg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{yg[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Vy={};yg.transitional=function(t,n,r){function i(o,p){return"[Axios v"+uS+"] Transitional option '"+o+"'"+p+(r?". "+r:"")}return(o,p,a)=>{if(t===!1)throw new Je(i(p," has been removed"+(n?" in "+n:"")),Je.ERR_DEPRECATED);return n&&!Vy[p]&&(Vy[p]=!0,console.warn(i(p," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,p,a):!0}};function IJ(e,t,n){if(typeof e!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],p=t[o];if(p){const a=e[o],s=a===void 0||p(a,o,e);if(s!==!0)throw new Je("option "+o+" must be "+s,Je.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Je("Unknown option "+o,Je.ERR_BAD_OPTION)}}const zh={assertOptions:IJ,validators:yg},ni=zh.validators;class vc{constructor(t){this.defaults=t,this.interceptors={request:new $y,response:new $y}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=to(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&zh.assertOptions(r,{silentJSONParsing:ni.transitional(ni.boolean),forcedJSONParsing:ni.transitional(ni.boolean),clarifyTimeoutError:ni.transitional(ni.boolean)},!1),i!=null&&(Se.isFunction(i)?n.paramsSerializer={serialize:i}:zh.assertOptions(i,{encode:ni.function,serialize:ni.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let p=o&&Se.merge(o.common,o[n.method]);o&&Se.forEach(["delete","get","head","post","put","patch","common"],d=>{delete o[d]}),n.headers=Nr.concat(p,o);const a=[];let s=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(s=s&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const h=[];this.interceptors.response.forEach(function(v){h.push(v.fulfilled,v.rejected)});let u,l=0,f;if(!s){const d=[Hy.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,h),f=d.length,u=Promise.resolve(n);l<f;)u=u.then(d[l++],d[l++]);return u}f=a.length;let c=n;for(l=0;l<f;){const d=a[l++],v=a[l++];try{c=d(c)}catch(g){v.call(this,g);break}}try{u=Hy.call(this,c)}catch(d){return Promise.reject(d)}for(l=0,f=h.length;l<f;)u=u.then(h[l++],h[l++]);return u}getUri(t){t=to(this.defaults,t);const n=lS(t.baseURL,t.url);return rS(n,t.params,t.paramsSerializer)}}Se.forEach(["delete","get","head","options"],function(t){vc.prototype[t]=function(n,r){return this.request(to(r||{},{method:t,url:n,data:(r||{}).data}))}});Se.forEach(["post","put","patch"],function(t){function n(r){return function(o,p,a){return this.request(to(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:p}))}}vc.prototype[t]=n(),vc.prototype[t+"Form"]=n(!0)});const Rl=vc;class _g{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const p=new Promise(a=>{r.subscribe(a),o=a}).then(i);return p.cancel=function(){r.unsubscribe(o)},p},t(function(o,p,a){r.reason||(r.reason=new Ga(o,p,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new _g(function(i){t=i}),cancel:t}}}const RJ=_g;function MJ(e){return function(n){return e.apply(null,n)}}function DJ(e){return Se.isObject(e)&&e.isAxiosError===!0}const Hh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hh).forEach(([e,t])=>{Hh[t]=e});const FJ=Hh;function fS(e){const t=new Rl(e),n=WC(Rl.prototype.request,t);return Se.extend(n,Rl.prototype,t,{allOwnKeys:!0}),Se.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return fS(to(e,i))},n}const Pt=fS(mg);Pt.Axios=Rl;Pt.CanceledError=Ga;Pt.CancelToken=RJ;Pt.isCancel=aS;Pt.VERSION=uS;Pt.toFormData=hu;Pt.AxiosError=Je;Pt.Cancel=Pt.CanceledError;Pt.all=function(t){return Promise.all(t)};Pt.spread=MJ;Pt.isAxiosError=DJ;Pt.mergeConfig=to;Pt.AxiosHeaders=Nr;Pt.formToJSON=e=>oS(Se.isHTMLForm(e)?new FormData(e):e);Pt.getAdapter=cS.getAdapter;Pt.HttpStatusCode=FJ;Pt.default=Pt;const hS=Pt,bg=hS.create({timeout:5e3});hS.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)});bg.interceptors.request.use(e=>e,e=>(console.log(e),Promise.reject(e)));bg.interceptors.response.use(e=>{if(e)return e.data;throw console.log(""),new Error("")},e=>(console.log("err"+e),g8({message:e.message,type:"error",duration:3*1e3,showClose:!0}),Promise.reject(e)));function dS(e,t,n,r){bg(e).then(i=>{e.retry&&(i.retry=t-e.retry),n(i)}).catch(i=>{e.retry--,e.retry>=0?setTimeout(()=>{dS(e,t,n,r)},10):(i.retry=t,r(i))})}function Wy(e){return new Promise((t,n)=>{(!e||!e.url)&&n({errorMsg:""}),e.type||(e.type="get"),e.timeout||(e.timeout=5e3),typeof e.retry!="number"&&(e.retry=3),dS(e,e.retry,t,n)}).then(t=>t)}const LJ=kE({state:{isClose:!0,activeModule:null,imageList:[],loadOk:!1,icons:[],selectedItem:null,workspace:null},getters:{},mutations:{setClose(e,t){e.isClose=t},setActiveModule(e,t){e.activeModule=t},Ok(e,t){e.loadOk=!0,e.imageList=t},COMMIT_ICONS(e,t){e.icons=t},setActivateItem(e,t){e.selectedItem=null,e.selectedItem=t},setWorkarea(e,t){e.workspace=t}},actions:{getMaterial({commit:e}){const t=[];t.push(Wy({url:"https://haixin-fang.github.io/vue-design-editor-static/imglist.json",timeout:1e4,methods:"get"})),t.push(Wy({url:"https://haixin-fang.github.io/icons/bootstrap-icons.json",timeout:1e4,methods:"get"})),Promise.all(t).then(n=>{if(Array.isArray(n)&&(n[0]&&e("Ok",n[0]),n[1])){const r=Object.keys(n[1]),i=[];r.forEach(o=>{const p=`https://haixin-fang.github.io/icons/icons/${o}.svg`;i.push({url:p})}),e("COMMIT_ICONS",i)}})}},modules:{}}),BJ={class:"gda-popover-content"},$J={key:0,class:"gda-popover-arrow"},jJ={class:"gda-popover-inner"},NJ={__name:"popover",props:{to:{type:String,default:"body"},arrow:{type:Boolean,default:!1},dom:{type:HTMLElement,default:null},show:{type:Boolean,default:!1},placement:{type:String,default:""}},emits:["close"],setup(e,{emit:t}){const n=e;let r=null,i=null;const o=pe();Me(()=>n.show,h=>{h&&ct(()=>{a()})}),lt(()=>{window.addEventListener("click",h=>{n.show&&(Array.from(h.path||h.composedPath()).find(l=>{if(l.className&&typeof l.className=="string"&&l.className.indexOf("popover")!=-1)return l})||(t("close"),console.log("close")))})}),Aa(()=>{window.removeEventListener("resize",a)});const p=()=>{window.addEventListener("resize",a),i=new ResizeObserver(xl(()=>{a()},50)),i.observe(r)};function a(){if(!r)return;i||p();const{width:h,height:u,left:l,top:f,bottom:c,right:d}=n.dom?.getBoundingClientRect(),{offsetWidth:v,offsetHeight:g}=r;let m=0,y=0,_=0,b=0;n.placement?n.placement=="left"&&(m=f-g/2,b=m+u,y=l-v-10,_=v):f>g+10?(m=f-g-10,b=g+10,v<d?(y=l+h-v,_=v):(y=l,_=0)):c>g+10?(m=f+u+10,b=10,v<d?(y=l+h-v,_=v):(y=l,_=0)):v<l?(f+c>g&&(m=f-g/2,b=m+u),y=l-v-10,_=v):l<v&&f<g&&(m=f+10,b=10,y=l,_=0),o.value.style.left=y+"px",o.value.style.top=m+"px",o.value.style.transformOrigin=`${_}px ${b}px`}const s=h=>{r=h};return(h,u)=>(z(),Oe(Oc,{to:e.to},[ye(Tr,{name:"fade"},{default:Ce(()=>[ut(N("div",{class:"gda-popover",ref_key:"popover",ref:o},[N("div",BJ,[e.arrow?(z(),ie("div",$J)):Te("",!0),N("div",jJ,[Ie(h.$slots,"default",{setSlotRef:s},void 0,!0)])])],512),[[_t,e.show]])]),_:3})],8,["to"]))}},zJ=At(NJ,[["__scopeId","data-v-d782c940"]]),HJ=Kx(Qx);HJ.use(LJ).use(yq).component("popover",zJ).mount("#app")});export default UJ();
